<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linux MM: frame_vector.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linux MM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('frame__vector_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">frame_vector.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/errno.h&gt;</code><br />
<code>#include &lt;linux/err.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/vmalloc.h&gt;</code><br />
<code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/sched.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for frame_vector.c:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c__incl.png" border="0" usemap="#frame__vector_8c" alt=""/></div>
<map name="frame__vector_8c" id="frame__vector_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69fb3519ea6893b3e3dffc788956d3b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames</a> (unsigned long start, unsigned int nr_frames, unsigned int gup_flags, struct frame_vector *vec)</td></tr>
<tr class="separator:a69fb3519ea6893b3e3dffc788956d3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806e801c381e0f856bb5a03de4be761c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c">EXPORT_SYMBOL</a> (<a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames</a>)</td></tr>
<tr class="separator:a806e801c381e0f856bb5a03de4be761c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea7630a6814096bcc996ba803cdb805"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a7ea7630a6814096bcc996ba803cdb805">put_vaddr_frames</a> (struct frame_vector *vec)</td></tr>
<tr class="separator:a7ea7630a6814096bcc996ba803cdb805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc6d111039778a9e4f39b149df4ff28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#afdc6d111039778a9e4f39b149df4ff28">EXPORT_SYMBOL</a> (<a class="el" href="frame__vector_8c.html#a7ea7630a6814096bcc996ba803cdb805">put_vaddr_frames</a>)</td></tr>
<tr class="separator:afdc6d111039778a9e4f39b149df4ff28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf770d4a7a8b4eeb780b1f4b9c3a0047"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#acf770d4a7a8b4eeb780b1f4b9c3a0047">frame_vector_to_pages</a> (struct frame_vector *vec)</td></tr>
<tr class="separator:acf770d4a7a8b4eeb780b1f4b9c3a0047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0def74bd20e821e289e35ccf1bc96961"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a0def74bd20e821e289e35ccf1bc96961">EXPORT_SYMBOL</a> (<a class="el" href="frame__vector_8c.html#acf770d4a7a8b4eeb780b1f4b9c3a0047">frame_vector_to_pages</a>)</td></tr>
<tr class="separator:a0def74bd20e821e289e35ccf1bc96961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2800143b97f7da482bdc10ca7dc8be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a2f2800143b97f7da482bdc10ca7dc8be">frame_vector_to_pfns</a> (struct frame_vector *vec)</td></tr>
<tr class="separator:a2f2800143b97f7da482bdc10ca7dc8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe674ef19f1def0f1e8a8a5bcdd5e2a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#abe674ef19f1def0f1e8a8a5bcdd5e2a5">EXPORT_SYMBOL</a> (<a class="el" href="frame__vector_8c.html#a2f2800143b97f7da482bdc10ca7dc8be">frame_vector_to_pfns</a>)</td></tr>
<tr class="separator:abe674ef19f1def0f1e8a8a5bcdd5e2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe8b956bb8d41b936052056afc13fa9"><td class="memItemLeft" align="right" valign="top">struct frame_vector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#adfe8b956bb8d41b936052056afc13fa9">frame_vector_create</a> (unsigned int nr_frames)</td></tr>
<tr class="separator:adfe8b956bb8d41b936052056afc13fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72dfc6ed9c67b61f1b0c6fb314bd51ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a72dfc6ed9c67b61f1b0c6fb314bd51ab">EXPORT_SYMBOL</a> (<a class="el" href="frame__vector_8c.html#adfe8b956bb8d41b936052056afc13fa9">frame_vector_create</a>)</td></tr>
<tr class="separator:a72dfc6ed9c67b61f1b0c6fb314bd51ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f855b620320358f5561775fe9517d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#a58f855b620320358f5561775fe9517d4">frame_vector_destroy</a> (struct frame_vector *vec)</td></tr>
<tr class="separator:a58f855b620320358f5561775fe9517d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c371f0742e65e3f47fc1debfa7c405"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__vector_8c.html#ac3c371f0742e65e3f47fc1debfa7c405">EXPORT_SYMBOL</a> (<a class="el" href="frame__vector_8c.html#a58f855b620320358f5561775fe9517d4">frame_vector_destroy</a>)</td></tr>
<tr class="separator:ac3c371f0742e65e3f47fc1debfa7c405"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a806e801c381e0f856bb5a03de4be761c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806e801c381e0f856bb5a03de4be761c">&#9670;&nbsp;</a></span>EXPORT_SYMBOL() <span class="overload">[1/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_a806e801c381e0f856bb5a03de4be761c_icgraph.png" border="0" usemap="#frame__vector_8c_a806e801c381e0f856bb5a03de4be761c_icgraph" alt=""/></div>
<map name="frame__vector_8c_a806e801c381e0f856bb5a03de4be761c_icgraph" id="frame__vector_8c_a806e801c381e0f856bb5a03de4be761c_icgraph">
<area shape="rect" id="node2" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7" title="get_vaddr_frames" alt="" coords="208,5,335,32"/>
<area shape="rect" id="node3" href="frame__vector_8c.html#a7ea7630a6814096bcc996ba803cdb805" title="put_vaddr_frames" alt="" coords="208,56,335,83"/>
<area shape="rect" id="node4" href="frame__vector_8c.html#acf770d4a7a8b4eeb780b1f4b9c3a0047" title="frame_vector_to_pages" alt="" coords="192,107,351,133"/>
<area shape="rect" id="node5" href="frame__vector_8c.html#a2f2800143b97f7da482bdc10ca7dc8be" title="frame_vector_to_pfns" alt="" coords="197,157,345,184"/>
<area shape="rect" id="node6" href="frame__vector_8c.html#adfe8b956bb8d41b936052056afc13fa9" title="frame_vector_create" alt="" coords="201,208,342,235"/>
<area shape="rect" id="node7" href="frame__vector_8c.html#a58f855b620320358f5561775fe9517d4" title="frame_vector_destroy" alt="" coords="197,259,345,285"/>
</map>
</div>

</div>
</div>
<a id="afdc6d111039778a9e4f39b149df4ff28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc6d111039778a9e4f39b149df4ff28">&#9670;&nbsp;</a></span>EXPORT_SYMBOL() <span class="overload">[2/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="frame__vector_8c.html#a7ea7630a6814096bcc996ba803cdb805">put_vaddr_frames</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0def74bd20e821e289e35ccf1bc96961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0def74bd20e821e289e35ccf1bc96961">&#9670;&nbsp;</a></span>EXPORT_SYMBOL() <span class="overload">[3/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="frame__vector_8c.html#acf770d4a7a8b4eeb780b1f4b9c3a0047">frame_vector_to_pages</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abe674ef19f1def0f1e8a8a5bcdd5e2a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe674ef19f1def0f1e8a8a5bcdd5e2a5">&#9670;&nbsp;</a></span>EXPORT_SYMBOL() <span class="overload">[4/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="frame__vector_8c.html#a2f2800143b97f7da482bdc10ca7dc8be">frame_vector_to_pfns</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a72dfc6ed9c67b61f1b0c6fb314bd51ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72dfc6ed9c67b61f1b0c6fb314bd51ab">&#9670;&nbsp;</a></span>EXPORT_SYMBOL() <span class="overload">[5/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="frame__vector_8c.html#adfe8b956bb8d41b936052056afc13fa9">frame_vector_create</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac3c371f0742e65e3f47fc1debfa7c405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c371f0742e65e3f47fc1debfa7c405">&#9670;&nbsp;</a></span>EXPORT_SYMBOL() <span class="overload">[6/6]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="frame__vector_8c.html#a58f855b620320358f5561775fe9517d4">frame_vector_destroy</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adfe8b956bb8d41b936052056afc13fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe8b956bb8d41b936052056afc13fa9">&#9670;&nbsp;</a></span>frame_vector_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct frame_vector* frame_vector_create </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nr_frames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="frame__vector_8c.html#adfe8b956bb8d41b936052056afc13fa9">frame_vector_create()</a> - allocate &amp; initialize structure for pinned pfns : number of pfns slots we should reserve</p>
<p>Allocate and initialize struct pinned_pfns to be able to hold  pfns. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_adfe8b956bb8d41b936052056afc13fa9_cgraph.png" border="0" usemap="#frame__vector_8c_adfe8b956bb8d41b936052056afc13fa9_cgraph" alt=""/></div>
<map name="frame__vector_8c_adfe8b956bb8d41b936052056afc13fa9_cgraph" id="frame__vector_8c_adfe8b956bb8d41b936052056afc13fa9_cgraph">
<area shape="rect" id="node2" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c" title="EXPORT_SYMBOL" alt="" coords="195,5,333,32"/>
</map>
</div>

</div>
</div>
<a id="a58f855b620320358f5561775fe9517d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f855b620320358f5561775fe9517d4">&#9670;&nbsp;</a></span>frame_vector_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frame_vector_destroy </td>
          <td>(</td>
          <td class="paramtype">struct frame_vector *&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="frame__vector_8c.html#a58f855b620320358f5561775fe9517d4">frame_vector_destroy()</a> - free memory allocated to carry frame vector : Frame vector to free</p>
<p>Free structure allocated by <a class="el" href="frame__vector_8c.html#adfe8b956bb8d41b936052056afc13fa9">frame_vector_create()</a> to carry frames. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_a58f855b620320358f5561775fe9517d4_cgraph.png" border="0" usemap="#frame__vector_8c_a58f855b620320358f5561775fe9517d4_cgraph" alt=""/></div>
<map name="frame__vector_8c_a58f855b620320358f5561775fe9517d4_cgraph" id="frame__vector_8c_a58f855b620320358f5561775fe9517d4_cgraph">
<area shape="rect" id="node2" href="util_8c.html#ac88c4c777e1cffcd536d365ce527ba94" title="kvfree" alt="" coords="241,701,300,728"/>
<area shape="rect" id="node50" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c" title="EXPORT_SYMBOL" alt="" coords="201,752,340,779"/>
<area shape="rect" id="node3" href="nommu_8c.html#a2aeead9450a5b920c65bea908edead23" title="vfree" alt="" coords="432,701,483,728"/>
<area shape="rect" id="node4" href="slab_8c.html#a5273884a01705283d2b9e4262a8e6da3" title="kfree" alt="" coords="619,651,669,677"/>
<area shape="rect" id="node49" href="util_8c.html#a512c1d72bf755e9b5eda83c17b40530b" title="EXPORT_SYMBOL" alt="" coords="388,752,527,779"/>
<area shape="rect" id="node48" href="nommu_8c.html#a4a9cd50228ffd2df64691ed725b89b9c" title="EXPORT_SYMBOL" alt="" coords="575,701,713,728"/>
<area shape="rect" id="node5" href="slab_8c.html#ad01b9979e3af9ef6cf6cf0e5e07a888b" title="virt_to_cache" alt="" coords="781,600,881,627"/>
<area shape="rect" id="node6" href="slab_8c.html#ada85c8dcd5a12135fafd3e57e04b2a83" title="__cache_free" alt="" coords="781,651,881,677"/>
<area shape="rect" id="node47" href="slab_8c.html#a8bd568fd926e82c7f9a045968ddd296d" title="EXPORT_SYMBOL" alt="" coords="761,701,900,728"/>
<area shape="rect" id="node7" href="kasan_8c.html#abd2a19c22112d47e30a5c894126893b5" title="kasan_slab_free" alt="" coords="948,448,1065,475"/>
<area shape="rect" id="node35" href="slab_8c.html#a0eafce5f5883b9c61abc40932bddc6c9" title="___cache_free" alt="" coords="1324,816,1431,843"/>
<area shape="rect" id="node8" href="kasan_8c.html#aa34aa7ae5a893c8850d0773ee47162aa" title="__kasan_slab_free" alt="" coords="1113,385,1244,412"/>
<area shape="rect" id="node9" href="kasan_8h.html#af2bea275d78093f6af2c85be98bdf24b" title="kasan_report_invalid_free" alt="" coords="1292,385,1463,412"/>
<area shape="rect" id="node15" href="kasan_8c.html#adb69ca028304e68fa451114764677b5f" title="get_alloc_info" alt="" coords="1969,208,2072,235"/>
<area shape="rect" id="node27" href="kasan_8c.html#ab71bae781dddbf4f66628b902e794d88" title="kasan_poison_shadow" alt="" coords="1300,480,1455,507"/>
<area shape="rect" id="node29" href="kasan_8c.html#ad5ba468802e0122c6d515b6142ff7f6f" title="set_track" alt="" coords="1339,619,1415,645"/>
<area shape="rect" id="node31" href="quarantine_8c.html#a603d62b05c523669617a49a220248d4b" title="quarantine_put" alt="" coords="1324,31,1431,57"/>
<area shape="rect" id="node34" href="kasan_8c.html#a20e07e3a641c8d09d6d3acb14b0b878a" title="get_free_info" alt="" coords="1329,81,1426,108"/>
<area shape="rect" id="node10" href="report_8c.html#a1f7a5cf13fd9e99799cc758cfa063120" title="kasan_start_report" alt="" coords="1533,309,1663,336"/>
<area shape="rect" id="node12" href="report_8c.html#adb5e7fc83a730108e0325580882c635b" title="print_address_description" alt="" coords="1513,385,1683,412"/>
<area shape="rect" id="node19" href="report_8c.html#a52bda725850cacc62324e336c0a0874c" title="print_shadow_for_address" alt="" coords="1511,563,1685,589"/>
<area shape="rect" id="node25" href="report_8c.html#a7fcbb215d9c5bd7fe874cdedb8f6d3a5" title="kasan_end_report" alt="" coords="1535,208,1661,235"/>
<area shape="rect" id="node11" href="kasan_8c.html#a88859b8fe2395d376ae69f124f1235cd" title="kasan_disable_current" alt="" coords="1739,233,1891,260"/>
<area shape="rect" id="node13" href="report_8c.html#a63a4f10f947359d49b14ba01e8b0aa15" title="addr_to_page" alt="" coords="1765,335,1865,361"/>
<area shape="rect" id="node14" href="report_8c.html#ad3142c36fe391b8b037417b37a7f0079" title="describe_object" alt="" coords="1758,284,1871,311"/>
<area shape="rect" id="node16" href="report_8c.html#ab899ec8b3a7e2cf4d6d7fb059fa9a13f" title="kernel_or_module_addr" alt="" coords="1737,385,1893,412"/>
<area shape="rect" id="node17" href="report_8c.html#a97e511031e74fccf6c9ee22a28233b90" title="init_task_stack_addr" alt="" coords="1743,436,1886,463"/>
<area shape="rect" id="node18" href="debug_8c.html#ada492eebbcb4d84055f11c3e0d95f647" title="dump_page" alt="" coords="1770,487,1859,513"/>
<area shape="rect" id="node20" href="kasan_8h.html#a830464b823ce36ea87a54e8aac09ea72" title="kasan_shadow_to_mem" alt="" coords="1733,537,1896,564"/>
<area shape="rect" id="node21" href="kasan_8c.html#ab68eb7b07f8ada1c6c8bde74731d3de7" title="memcpy" alt="" coords="1779,689,1851,716"/>
<area shape="rect" id="node23" href="report_8c.html#a725f90c3757193777c339f026c450b56" title="row_is_guilty" alt="" coords="1765,588,1864,615"/>
<area shape="rect" id="node24" href="report_8c.html#aae3e71838bd335d57371bc0cc7b269ef" title="shadow_pointer_offset" alt="" coords="1738,639,1891,665"/>
<area shape="rect" id="node22" href="kasan_8c.html#a7920dadee1bb73aa1025df02f9dc48fb" title="check_memory_region" alt="" coords="1944,740,2097,767"/>
<area shape="rect" id="node26" href="kasan_8c.html#a381e9c4ae1310ba55286c94c5c99afbb" title="kasan_enable_current" alt="" coords="1740,183,1889,209"/>
<area shape="rect" id="node28" href="kasan_8c.html#a2ca89717875af0c4a577ccc15f9ee1f8" title="memset" alt="" coords="1563,613,1633,640"/>
<area shape="rect" id="node30" href="kasan_8c.html#a3132ff737bd834b4e02a3f0330e61085" title="save_stack" alt="" coords="1553,664,1643,691"/>
<area shape="rect" id="node32" href="quarantine_8c.html#acd04074fc7838abca4658d51d45a37a7" title="qlist_put" alt="" coords="1563,5,1633,32"/>
<area shape="rect" id="node33" href="quarantine_8c.html#a3da88f9da1f9507fa2aa9f0140d3ca23" title="qlist_move_all" alt="" coords="1545,56,1651,83"/>
<area shape="rect" id="node36" href="slab_8c.html#af6eda99a015919d7af7e8b2799ce3aee" title="cpu_cache_get" alt="" coords="1543,765,1653,792"/>
<area shape="rect" id="node37" href="slab_8c.html#abb46ae6ffdeb850bdf3c7660cb7630c1" title="cache_free_alien" alt="" coords="1538,816,1658,843"/>
<area shape="rect" id="node38" href="slab_8c.html#a56bbdd7d1e792b46e5b8b5c97947f243" title="cache_flusharray" alt="" coords="1537,867,1659,893"/>
<area shape="rect" id="node46" href="slab_8c.html#aba8e8d9fa7c15478202fad52c4632313" title="cache_free_pfmemalloc" alt="" coords="1518,943,1678,969"/>
<area shape="rect" id="node39" href="backing-dev_8c.html#a06db5190b75a5cdc8ccc743c76a893b9" title="LIST_HEAD" alt="" coords="1767,993,1862,1020"/>
<area shape="rect" id="node40" href="slab_8h.html#afe261ca1029ab42c9c703d4ed0adc8da" title="get_node" alt="" coords="1983,917,2058,944"/>
<area shape="rect" id="node41" href="slab_8c.html#a84987b9997332f225327636b7603198f" title="free_block" alt="" coords="1773,943,1856,969"/>
<area shape="rect" id="node43" href="slab_8c.html#ae5ce075fac9a39ef69ede1421936a15a" title="slabs_destroy" alt="" coords="1763,841,1866,868"/>
<area shape="rect" id="node45" href="kasan_8c.html#a5b5c065d8150b7fed8da22473164e8a9" title="memmove" alt="" coords="1773,791,1856,817"/>
<area shape="rect" id="node42" href="slab_8c.html#a733b5378353a5e10305230c34182e0da" title="slab_put_obj" alt="" coords="1973,968,2068,995"/>
<area shape="rect" id="node44" href="slab_8c.html#ad6c57b64b8f047c68ad83938915ef283" title="slab_destroy" alt="" coords="1973,841,2069,868"/>
</map>
</div>

</div>
</div>
<a id="acf770d4a7a8b4eeb780b1f4b9c3a0047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf770d4a7a8b4eeb780b1f4b9c3a0047">&#9670;&nbsp;</a></span>frame_vector_to_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int frame_vector_to_pages </td>
          <td>(</td>
          <td class="paramtype">struct frame_vector *&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>frame_vector_to_pages - convert frame vector to contain page pointers : frame vector to convert</p>
<p>Convert  to contain array of page pointers. If the conversion is successful, return 0. Otherwise return an error. Note that we do not grab page references for the page structures. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_acf770d4a7a8b4eeb780b1f4b9c3a0047_cgraph.png" border="0" usemap="#frame__vector_8c_acf770d4a7a8b4eeb780b1f4b9c3a0047_cgraph" alt=""/></div>
<map name="frame__vector_8c_acf770d4a7a8b4eeb780b1f4b9c3a0047_cgraph" id="frame__vector_8c_acf770d4a7a8b4eeb780b1f4b9c3a0047_cgraph">
<area shape="rect" id="node2" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c" title="EXPORT_SYMBOL" alt="" coords="212,5,351,32"/>
</map>
</div>

</div>
</div>
<a id="a2f2800143b97f7da482bdc10ca7dc8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2800143b97f7da482bdc10ca7dc8be">&#9670;&nbsp;</a></span>frame_vector_to_pfns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void frame_vector_to_pfns </td>
          <td>(</td>
          <td class="paramtype">struct frame_vector *&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>frame_vector_to_pfns - convert frame vector to contain pfns : frame vector to convert</p>
<p>Convert  to contain array of pfns. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_a2f2800143b97f7da482bdc10ca7dc8be_cgraph.png" border="0" usemap="#frame__vector_8c_a2f2800143b97f7da482bdc10ca7dc8be_cgraph" alt=""/></div>
<map name="frame__vector_8c_a2f2800143b97f7da482bdc10ca7dc8be_cgraph" id="frame__vector_8c_a2f2800143b97f7da482bdc10ca7dc8be_cgraph">
<area shape="rect" id="node2" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c" title="EXPORT_SYMBOL" alt="" coords="201,5,340,32"/>
</map>
</div>

</div>
</div>
<a id="a69fb3519ea6893b3e3dffc788956d3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69fb3519ea6893b3e3dffc788956d3b7">&#9670;&nbsp;</a></span>get_vaddr_frames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_vaddr_frames </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nr_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>gup_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct frame_vector *&#160;</td>
          <td class="paramname"><em>vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames()</a> - map virtual addresses to pfns : starting user address : number of pages / pfns from start to map : flags modifying lookup behaviour : structure which receives pages / pfns of the addresses mapped. It should have space for at least nr_frames entries.</p>
<p>This function maps virtual addresses from  and fills  structure with page frame numbers or page pointers to corresponding pages (choice depends on the type of the vma underlying the virtual address). If  belongs to a normal vma, the function grabs reference to each of the pages to pin them in memory. If  belongs to VM_IO | VM_PFNMAP vma, we don't touch page structures and the caller must make sure pfns aren't reused for anything else while he is using them.</p>
<p>The function returns number of pages mapped which may be less than . In particular we stop mapping if there are more vmas of different type underlying the specified range of virtual addresses. When the function isn't able to map a single page, it returns error.</p>
<p>This function takes care of grabbing mmap_sem as necessary. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_a69fb3519ea6893b3e3dffc788956d3b7_cgraph.png" border="0" usemap="#frame__vector_8c_a69fb3519ea6893b3e3dffc788956d3b7_cgraph" alt=""/></div>
<map name="frame__vector_8c_a69fb3519ea6893b3e3dffc788956d3b7_cgraph" id="frame__vector_8c_a69fb3519ea6893b3e3dffc788956d3b7_cgraph">
<area shape="rect" id="node2" href="gup_8c.html#a5f0460daf550aca9d5f7b69c2c19ecde" title="get_user_pages_locked" alt="" coords="180,526,339,553"/>
<area shape="rect" id="node46" href="memory_8c.html#aef6dccfa74afe1dc83c9911cb6d44107" title="follow_pfn" alt="" coords="219,621,300,647"/>
<area shape="rect" id="node50" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c" title="EXPORT_SYMBOL" alt="" coords="190,671,329,698"/>
<area shape="rect" id="node3" href="gup_8c.html#a197913b98cd7c83d50e2dc68848e2b2d" title="__get_user_pages_locked" alt="" coords="387,526,560,553"/>
<area shape="rect" id="node45" href="gup_8c.html#ab0195535b3e688dea618d45ca22f6488" title="EXPORT_SYMBOL" alt="" coords="404,475,543,502"/>
<area shape="rect" id="node4" href="gup_8c.html#af6429e884d2b64f1888051a664dc51fe" title="__get_user_pages" alt="" coords="608,481,736,507"/>
<area shape="rect" id="node5" href="mmap_8c.html#acc9e10b56f8f1990d8ff9a32bc94d2b2" title="find_extend_vma" alt="" coords="789,354,910,381"/>
<area shape="rect" id="node15" href="gup_8c.html#ad0b091949b26142fc0869574c448311f" title="get_gate_page" alt="" coords="796,455,903,482"/>
<area shape="rect" id="node16" href="gup_8c.html#adb9b18bc33d3d0d6962951d277a5e843" title="check_vma_flags" alt="" coords="787,506,911,533"/>
<area shape="rect" id="node18" href="hugetlb_8c.html#aeab7d5e7a793cf3fe6d34a4a0731e437" title="follow_hugetlb_page" alt="" coords="981,557,1121,583"/>
<area shape="rect" id="node33" href="gup_8c.html#a151f3968e19109d4ac7f2d3215c9cb0b" title="follow_page_mask" alt="" coords="784,126,915,153"/>
<area shape="rect" id="node40" href="gup_8c.html#a9cabad1650cafa21e56253c09962d49c" title="faultin_page" alt="" coords="803,633,895,659"/>
<area shape="rect" id="node6" href="mmap_8c.html#aedbcdc6271c2ec9319a32f978c0cf113" title="find_vma" alt="" coords="1014,354,1089,381"/>
<area shape="rect" id="node10" href="mmap_8c.html#a9cd190a9536394fbc5e0b2ccdcd9cf93" title="expand_stack" alt="" coords="1000,253,1103,279"/>
<area shape="rect" id="node12" href="gup_8c.html#a7199e354ecd71323adcdede634cfc22d" title="populate_vma_page_range" alt="" coords="963,405,1140,431"/>
<area shape="rect" id="node14" href="mmap_8c.html#ae70b962baeeb9fb8f19a005226a4a43c" title="EXPORT_SYMBOL_GPL" alt="" coords="965,303,1137,330"/>
<area shape="rect" id="node7" href="vmacache_8c.html#aedd1f2d04eb7deb01bd553c3f36e955a" title="vmacache_find" alt="" coords="1219,354,1329,381"/>
<area shape="rect" id="node8" href="vmacache_8c.html#ab4a048fb77122f670f908d4e612892e6" title="vmacache_update" alt="" coords="1210,405,1338,431"/>
<area shape="rect" id="node9" href="mmap_8c.html#a28a1850da76d6c47af5f78224f34f32e" title="EXPORT_SYMBOL" alt="" coords="1205,303,1343,330"/>
<area shape="rect" id="node11" href="mmap_8c.html#a6d57ab6b36aea09a977ad9ee636250ba" title="expand_downwards" alt="" coords="1205,253,1343,279"/>
<area shape="rect" id="node13" href="interval__tree_8c.html#a3dc4f93f3175b6108af20b9fbd78c951" title="VM_BUG_ON_VMA" alt="" coords="1203,455,1345,482"/>
<area shape="rect" id="node17" href="internal_8h.html#a14fd7dd436897cb6244afc74019b28e7" title="is_cow_mapping" alt="" coords="992,506,1111,533"/>
<area shape="rect" id="node19" href="hugetlb_8c.html#aed80c123e35b5b489d58d6d17e661fa7" title="hugetlbfs_pagecache\l_present" alt="" coords="1432,313,1577,355"/>
<area shape="rect" id="node21" href="hugetlb_8c.html#aec5763e8c1ea2d427521ca4b6a563c16" title="hugetlb_fault" alt="" coords="1226,607,1322,634"/>
<area shape="rect" id="node32" href="internal_8h.html#a86e582c9122e97cb9ddb6c5dc5c6c6cd" title="mem_map_offset" alt="" coords="1213,506,1335,533"/>
<area shape="rect" id="node20" href="hugetlb_8c.html#a516e8444f9e202eda9c6a9490deb4ff2" title="vma_hugecache_offset" alt="" coords="1658,379,1815,406"/>
<area shape="rect" id="node22" href="hugetlb_8c.html#a02158c9b840bc15a1e19e443ba07c760" title="is_hugetlb_entry_migration" alt="" coords="1416,531,1593,558"/>
<area shape="rect" id="node23" href="migrate_8c.html#aa253f08868ccf13906e3484d1ec71d12" title="migration_entry_wait_huge" alt="" coords="1416,582,1593,609"/>
<area shape="rect" id="node24" href="hugetlb_8c.html#a1845fced468b2d80d481e481a3fb31d3" title="is_hugetlb_entry_hwpoisoned" alt="" coords="1408,633,1601,659"/>
<area shape="rect" id="node25" href="hugetlb_8c.html#a1346b0f60d2e91b7fee45d8cf8ff2083" title="hugetlb_fault_mutex_hash" alt="" coords="1649,695,1824,722"/>
<area shape="rect" id="node26" href="hugetlb_8c.html#ac6a24d004ac0dacd99b12d60eca3e292" title="hugetlb_no_page" alt="" coords="1445,785,1565,811"/>
<area shape="rect" id="node27" href="hugetlb_8c.html#a833f46343397530f9bc48f664047b2e4" title="vma_needs_reservation" alt="" coords="1657,749,1817,775"/>
<area shape="rect" id="node28" href="hugetlb_8c.html#ae063d4e7b967930c2e989b127ffeb584" title="vma_end_reservation" alt="" coords="1663,806,1810,833"/>
<area shape="rect" id="node29" href="hugetlb_8c.html#a6e6499c4fe73c87486096bf2222a989c" title="hugetlb_cow" alt="" coords="1689,861,1784,887"/>
<area shape="rect" id="node30" href="filemap_8c.html#a7c56cad94a93fa5948a3a239c085602e" title="unlock_page" alt="" coords="1689,562,1784,589"/>
<area shape="rect" id="node31" href="hugetlb_8c.html#a93f2355fdcd5bc7e2f6355cc326e591e" title="hugetlbfs_pagecache_page" alt="" coords="1415,430,1595,457"/>
<area shape="rect" id="node34" href="hugetlb_8c.html#ad989f1bf4af888a9d320079bb52a8705" title="follow_huge_addr" alt="" coords="990,151,1113,178"/>
<area shape="rect" id="node35" href="gup_8c.html#ac309a93b20656e988fe08d278ab0ae44" title="no_page_table" alt="" coords="1451,50,1558,77"/>
<area shape="rect" id="node36" href="hugetlb_8c.html#ae67969ee487bbeb667f4350b4718f343" title="follow_huge_pgd" alt="" coords="992,101,1111,127"/>
<area shape="rect" id="node37" href="hugetlb_8c.html#ab7ae6338802780b2567dc72334a73d96" title="follow_huge_pd" alt="" coords="1449,151,1561,178"/>
<area shape="rect" id="node38" href="gup_8c.html#ab7ca5f3a7713d62a8531c1a59d4f5f09" title="follow_p4d_mask" alt="" coords="990,50,1113,77"/>
<area shape="rect" id="node39" href="gup_8c.html#a22b42c3e89ea4b0f280842e88858e22e" title="follow_pud_mask" alt="" coords="1213,101,1335,127"/>
<area shape="rect" id="node41" href="memory_8c.html#ae52ed1c7ccb7ba8bedf5eb41566d4358" title="handle_mm_fault" alt="" coords="991,658,1112,685"/>
<area shape="rect" id="node42" href="memory_8c.html#addf64642ad6478a85ef0a1b3cdd18d5c" title="check_sync_rss_stat" alt="" coords="1201,709,1347,735"/>
<area shape="rect" id="node43" href="memory_8c.html#a71c206f88e16acdeb0299d3d97362266" title="__handle_mm_fault" alt="" coords="1207,658,1341,685"/>
<area shape="rect" id="node44" href="memory_8c.html#abf6338955f3702d1101233f7b4cc1406" title="EXPORT_SYMBOL_GPL" alt="" coords="1188,759,1360,786"/>
<area shape="rect" id="node47" href="memory_8c.html#a2d21401de5f83241881e6ba0d1628dd5" title="follow_pte" alt="" coords="433,595,514,622"/>
<area shape="rect" id="node49" href="memory_8c.html#a19f105545199346af91dc6363582c227" title="EXPORT_SYMBOL" alt="" coords="404,646,543,673"/>
<area shape="rect" id="node48" href="memory_8c.html#aade7b17078e7203ca0cf10e775c9379d" title="__follow_pte_pmd" alt="" coords="609,595,735,622"/>
</map>
</div>

</div>
</div>
<a id="a7ea7630a6814096bcc996ba803cdb805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea7630a6814096bcc996ba803cdb805">&#9670;&nbsp;</a></span>put_vaddr_frames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_vaddr_frames </td>
          <td>(</td>
          <td class="paramtype">struct frame_vector *&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="frame__vector_8c.html#a7ea7630a6814096bcc996ba803cdb805">put_vaddr_frames()</a> - drop references to pages if <a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames()</a> acquired them : frame vector to put</p>
<p>Drop references to pages if <a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames()</a> acquired them. We also invalidate the frame vector so that it is prepared for the next call into <a class="el" href="frame__vector_8c.html#a69fb3519ea6893b3e3dffc788956d3b7">get_vaddr_frames()</a>. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="frame__vector_8c_a7ea7630a6814096bcc996ba803cdb805_cgraph.png" border="0" usemap="#frame__vector_8c_a7ea7630a6814096bcc996ba803cdb805_cgraph" alt=""/></div>
<map name="frame__vector_8c_a7ea7630a6814096bcc996ba803cdb805_cgraph" id="frame__vector_8c_a7ea7630a6814096bcc996ba803cdb805_cgraph">
<area shape="rect" id="node2" href="frame__vector_8c.html#a806e801c381e0f856bb5a03de4be761c" title="EXPORT_SYMBOL" alt="" coords="180,5,319,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="frame__vector_8c.html">frame_vector.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
