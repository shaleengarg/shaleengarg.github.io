<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linux MM: page_counter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linux MM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page__counter_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">page_counter.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/page_counter.h&gt;</code><br />
<code>#include &lt;linux/atomic.h&gt;</code><br />
<code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/string.h&gt;</code><br />
<code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/bug.h&gt;</code><br />
<code>#include &lt;asm/page.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for page_counter.c:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c__incl.png" border="0" usemap="#page__counter_8c" alt=""/></div>
<map name="page__counter_8c" id="page__counter_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d1660de964ae6d862d66b8efaf11bc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__counter_8c.html#a8d1660de964ae6d862d66b8efaf11bc7">page_counter_cancel</a> (struct page_counter *counter, unsigned long nr_pages)</td></tr>
<tr class="separator:a8d1660de964ae6d862d66b8efaf11bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab33b7be230312ca8dc73040893ef1d46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__counter_8c.html#ab33b7be230312ca8dc73040893ef1d46">page_counter_charge</a> (struct page_counter *counter, unsigned long nr_pages)</td></tr>
<tr class="separator:ab33b7be230312ca8dc73040893ef1d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e38feb04d9f65d77180c8ade9f35dd4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__counter_8c.html#a9e38feb04d9f65d77180c8ade9f35dd4">page_counter_try_charge</a> (struct page_counter *counter, unsigned long nr_pages, struct page_counter **fail)</td></tr>
<tr class="separator:a9e38feb04d9f65d77180c8ade9f35dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42e32e2d8e8dbc58e8e0a6b5a71f3ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__counter_8c.html#af42e32e2d8e8dbc58e8e0a6b5a71f3ea">page_counter_uncharge</a> (struct page_counter *counter, unsigned long nr_pages)</td></tr>
<tr class="separator:af42e32e2d8e8dbc58e8e0a6b5a71f3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3eac7899f0a117ded66ed9d7decca9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__counter_8c.html#afa3eac7899f0a117ded66ed9d7decca9">page_counter_limit</a> (struct page_counter *counter, unsigned long limit)</td></tr>
<tr class="separator:afa3eac7899f0a117ded66ed9d7decca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9a1fb9f5934cc9ceb48f1261047b7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page__counter_8c.html#a6a9a1fb9f5934cc9ceb48f1261047b7a">page_counter_memparse</a> (const char *buf, const char *max, unsigned long *nr_pages)</td></tr>
<tr class="separator:a6a9a1fb9f5934cc9ceb48f1261047b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8d1660de964ae6d862d66b8efaf11bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d1660de964ae6d862d66b8efaf11bc7">&#9670;&nbsp;</a></span>page_counter_cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_counter_cancel </td>
          <td>(</td>
          <td class="paramtype">struct page_counter *&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>page_counter_cancel - take pages out of the local counter : counter : number of pages to cancel </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_a8d1660de964ae6d862d66b8efaf11bc7_icgraph.png" border="0" usemap="#page__counter_8c_a8d1660de964ae6d862d66b8efaf11bc7_icgraph" alt=""/></div>
<map name="page__counter_8c_a8d1660de964ae6d862d66b8efaf11bc7_icgraph" id="page__counter_8c_a8d1660de964ae6d862d66b8efaf11bc7_icgraph">
<area shape="rect" id="node2" href="hugetlb__cgroup_8c.html#a6f51d4bd6661da017ac3cc312d2c9b7d" title="hugetlb_cgroup_move\l_parent" alt="" coords="204,62,353,103"/>
<area shape="rect" id="node4" href="page__counter_8c.html#a9e38feb04d9f65d77180c8ade9f35dd4" title="page_counter_try_charge" alt="" coords="665,169,833,196"/>
<area shape="rect" id="node31" href="page__counter_8c.html#af42e32e2d8e8dbc58e8e0a6b5a71f3ea" title="page_counter_uncharge" alt="" coords="199,499,359,525"/>
<area shape="rect" id="node3" href="hugetlb__cgroup_8c.html#a8e8228f0ab1acee1895ca3d02a850dff" title="hugetlb_cgroup_css\l_offline" alt="" coords="440,62,579,103"/>
<area shape="rect" id="node5" href="hugetlb__cgroup_8c.html#a78970a35e4ed1e24a61949bdad956000" title="hugetlb_cgroup_charge\l_cgroup" alt="" coords="886,78,1042,119"/>
<area shape="rect" id="node10" href="memcontrol_8c.html#a692eb56f646c265c674a6d79b8f9ec7f" title="try_charge" alt="" coords="1109,440,1191,467"/>
<area shape="rect" id="node11" href="memcontrol_8c.html#a3582b731bb233e4371da34e53913f65d" title="memcg_kmem_charge_memcg" alt="" coords="1257,432,1461,459"/>
<area shape="rect" id="node29" href="memcontrol_8c.html#a42ae8ba99ef5593ca8711d69d991fa0a" title="mem_cgroup_charge_skmem" alt="" coords="1263,269,1456,296"/>
<area shape="rect" id="node30" href="memcontrol_8c.html#ab0b5e1f69f2059ad51f0faf6c6e91509" title="mem_cgroup_init" alt="" coords="903,347,1025,373"/>
<area shape="rect" id="node6" href="hugetlb_8c.html#a70adbc4dba97314a0200a2b238d16bfb" title="alloc_huge_page" alt="" coords="1091,56,1209,83"/>
<area shape="rect" id="node7" href="hugetlb_8c.html#a6e6499c4fe73c87486096bf2222a989c" title="hugetlb_cow" alt="" coords="1312,56,1407,83"/>
<area shape="rect" id="node8" href="hugetlb_8c.html#ac6a24d004ac0dacd99b12d60eca3e292" title="hugetlb_no_page" alt="" coords="1563,81,1683,108"/>
<area shape="rect" id="node9" href="hugetlb_8c.html#ae2b2ec3180d42fa0a0ff5e8f9b5e71bf" title="hugetlb_mcopy_atomic_pte" alt="" coords="1269,5,1450,32"/>
<area shape="rect" id="node14" href="memcontrol_8c.html#a7de0beac3da2fdff490f380d6d291f4a" title="mem_cgroup_css_reset" alt="" coords="1279,803,1440,829"/>
<area shape="rect" id="node15" href="memcontrol_8c.html#ad59db95e8ab6a953e567648e184d1233" title="mem_cgroup_try_charge" alt="" coords="1277,748,1442,775"/>
<area shape="rect" id="node12" href="memcontrol_8c.html#a681d2ddfada47524fe2329341b126c5e" title="memcg_kmem_charge" alt="" coords="1545,417,1700,444"/>
<area shape="rect" id="node13" href="page__alloc_8c.html#a0ef43a2f8d25d7d9c7db3738c00e98a1" title="__alloc_pages_nodemask" alt="" coords="1784,417,1956,444"/>
<area shape="rect" id="node16" href="filemap_8c.html#adbaa09410e0efc5dc95cbf9b922f0a87" title="__add_to_page_cache\l_locked" alt="" coords="1547,671,1699,713"/>
<area shape="rect" id="node17" href="huge__memory_8c.html#a35c0fdaaf10b8c4d86f43286475cb30c" title="__do_huge_pmd_anonymous_page" alt="" coords="1509,803,1736,829"/>
<area shape="rect" id="node18" href="huge__memory_8c.html#a4217034d1610f8829bfd354408d0c40d" title="do_huge_pmd_wp_page\l_fallback" alt="" coords="1541,737,1704,778"/>
<area shape="rect" id="node19" href="huge__memory_8c.html#a13cf818cbad4c29000bde7a5d0802762" title="do_huge_pmd_wp_page" alt="" coords="1789,744,1951,771"/>
<area shape="rect" id="node20" href="khugepaged_8c.html#a77a6922623a91665a2624b3cbcf7cd11" title="collapse_huge_page" alt="" coords="1553,853,1693,880"/>
<area shape="rect" id="node21" href="khugepaged_8c.html#adf3d5ee6d0358d3636bd4cc8a1b497db" title="collect_mm_slot" alt="" coords="1564,904,1681,931"/>
<area shape="rect" id="node22" href="memory_8c.html#a8f4eec681791a95fa2b09338f8ac3242" title="wp_page_copy" alt="" coords="1568,955,1677,981"/>
<area shape="rect" id="node23" href="memory_8c.html#af5228269673260def955f6fa19f07c5c" title="do_swap_page" alt="" coords="1568,1005,1677,1032"/>
<area shape="rect" id="node24" href="memory_8c.html#a9e9ce5c0e78433994440d50e3077a1b8" title="do_anonymous_page" alt="" coords="1550,1056,1695,1083"/>
<area shape="rect" id="node25" href="memory_8c.html#a687c84e573d1616ceeff606e6ff509c2" title="do_cow_fault" alt="" coords="1573,1107,1672,1133"/>
<area shape="rect" id="node26" href="migrate_8c.html#a58c7b230fb6d8c7a22c5e85ce77bfdee" title="migrate_hetero_single_page" alt="" coords="1531,519,1715,545"/>
<area shape="rect" id="node27" href="swapfile_8c.html#ab8ee50fb881298ae287c31baae24e3b6" title="unuse_pte" alt="" coords="1581,569,1664,596"/>
<area shape="rect" id="node28" href="userfaultfd_8c.html#af8ec0a6cb4e107a382ee9e3bdbcf0873" title="mcopy_atomic_pte" alt="" coords="1557,620,1689,647"/>
<area shape="rect" id="node32" href="hugetlb__cgroup_8c.html#ac5beb8b7291630076746597cf4c740e8" title="hugetlb_cgroup_uncharge_page" alt="" coords="407,676,612,703"/>
<area shape="rect" id="node35" href="hugetlb__cgroup_8c.html#a4d84a98a0da4603e0730c82c73513768" title="hugetlb_cgroup_uncharge\l_cgroup" alt="" coords="424,179,595,221"/>
<area shape="rect" id="node36" href="memcontrol_8c.html#a99cb2992466adc8d4ce384713f95c9cc" title="drain_stock" alt="" coords="465,423,554,449"/>
<area shape="rect" id="node40" href="memcontrol_8c.html#a30a7390f42e5877e9807b64104e03016" title="mem_cgroup_uncharge\l_skmem" alt="" coords="885,499,1043,541"/>
<area shape="rect" id="node42" href="memcontrol_8c.html#aa9d0da735fd94ba0e41a877e733a7914" title="cancel_charge" alt="" coords="1097,853,1203,880"/>
<area shape="rect" id="node44" href="memcontrol_8c.html#a91b88241c893cf946c5aa0889406410d" title="memcg_kmem_uncharge" alt="" coords="425,245,593,272"/>
<area shape="rect" id="node47" href="memcontrol_8c.html#a77c8d43ee904e0f3e355b3656cc7f627" title="uncharge_batch" alt="" coords="452,575,567,601"/>
<area shape="rect" id="node33" href="hugetlb_8c.html#afc13d1f98ed62d07f9e57bbc244774c3" title="free_huge_page" alt="" coords="691,701,806,728"/>
<area shape="rect" id="node34" href="hugetlb_8c.html#a9736e87ab3c220022120b984298582ed" title="PageHeadHuge" alt="" coords="907,701,1021,728"/>
<area shape="rect" id="node37" href="memcontrol_8c.html#a64294f6492aab379687cd8c5a74225dc" title="drain_local_stock" alt="" coords="687,397,810,424"/>
<area shape="rect" id="node39" href="memcontrol_8c.html#a57b6df1fd478661d96f448777cb89245" title="refill_stock" alt="" coords="706,448,791,475"/>
<area shape="rect" id="node41" href="memcontrol_8c.html#af74dc99a179309f53b2c55dcbe8be07d" title="memcg_hotplug_cpu_dead" alt="" coords="660,347,837,373"/>
<area shape="rect" id="node38" href="memcontrol_8c.html#a6aa8c50185641c12a5ee5e35f03a4ffc" title="drain_all_stock" alt="" coords="909,397,1019,424"/>
<area shape="rect" id="node43" href="memcontrol_8c.html#a733114a148f13b07c08c20e1ff206677" title="mem_cgroup_cancel_charge" alt="" coords="1265,853,1453,880"/>
<area shape="rect" id="node45" href="page__alloc_8c.html#a896b3b34274b3e3aaf29afc57bd53add" title="free_pages_prepare" alt="" coords="681,245,817,272"/>
<area shape="rect" id="node46" href="page__alloc_8c.html#a3a23ac0adfa7089986537a87e02b79da" title="free_pcp_prepare" alt="" coords="903,296,1025,323"/>
<area shape="rect" id="node48" href="memcontrol_8c.html#a580578734d71014210d24d10b3725a03" title="uncharge_page" alt="" coords="693,600,804,627"/>
<area shape="rect" id="node49" href="memcontrol_8c.html#af119a6251edb5a91b0c7ece7c1554162" title="uncharge_list" alt="" coords="915,573,1013,600"/>
<area shape="rect" id="node50" href="memcontrol_8c.html#a7091170d661d522fa33db6ecea4311f5" title="mem_cgroup_uncharge" alt="" coords="885,641,1043,668"/>
</map>
</div>

</div>
</div>
<a id="ab33b7be230312ca8dc73040893ef1d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab33b7be230312ca8dc73040893ef1d46">&#9670;&nbsp;</a></span>page_counter_charge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_counter_charge </td>
          <td>(</td>
          <td class="paramtype">struct page_counter *&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>page_counter_charge - hierarchically charge pages : counter : number of pages to charge</p>
<p>NOTE: This does not consider any configured counter limits. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_ab33b7be230312ca8dc73040893ef1d46_icgraph.png" border="0" usemap="#page__counter_8c_ab33b7be230312ca8dc73040893ef1d46_icgraph" alt=""/></div>
<map name="page__counter_8c_ab33b7be230312ca8dc73040893ef1d46_icgraph" id="page__counter_8c_ab33b7be230312ca8dc73040893ef1d46_icgraph">
<area shape="rect" id="node2" href="hugetlb__cgroup_8c.html#a6f51d4bd6661da017ac3cc312d2c9b7d" title="hugetlb_cgroup_move\l_parent" alt="" coords="200,357,349,398"/>
<area shape="rect" id="node4" href="memcontrol_8c.html#a692eb56f646c265c674a6d79b8f9ec7f" title="try_charge" alt="" coords="233,473,316,500"/>
<area shape="rect" id="node38" href="memcontrol_8c.html#a42ae8ba99ef5593ca8711d69d991fa0a" title="mem_cgroup_charge_skmem" alt="" coords="403,524,596,551"/>
<area shape="rect" id="node39" href="memcontrol_8c.html#a7756ff7a04d4d974eac47a761b701e7f" title="mem_cgroup_migrate" alt="" coords="201,697,348,724"/>
<area shape="rect" id="node50" href="memcontrol_8c.html#ab0b5e1f69f2059ad51f0faf6c6e91509" title="mem_cgroup_init" alt="" coords="214,748,335,775"/>
<area shape="rect" id="node3" href="hugetlb__cgroup_8c.html#a8e8228f0ab1acee1895ca3d02a850dff" title="hugetlb_cgroup_css\l_offline" alt="" coords="430,306,569,347"/>
<area shape="rect" id="node5" href="memcontrol_8c.html#a3582b731bb233e4371da34e53913f65d" title="memcg_kmem_charge_memcg" alt="" coords="397,372,601,399"/>
<area shape="rect" id="node10" href="memcontrol_8c.html#a7de0beac3da2fdff490f380d6d291f4a" title="mem_cgroup_css_reset" alt="" coords="419,423,580,449"/>
<area shape="rect" id="node11" href="memcontrol_8c.html#ad59db95e8ab6a953e567648e184d1233" title="mem_cgroup_try_charge" alt="" coords="417,473,582,500"/>
<area shape="rect" id="node6" href="memcontrol_8c.html#a681d2ddfada47524fe2329341b126c5e" title="memcg_kmem_charge" alt="" coords="685,52,840,79"/>
<area shape="rect" id="node7" href="page__alloc_8c.html#a0ef43a2f8d25d7d9c7db3738c00e98a1" title="__alloc_pages_nodemask" alt="" coords="944,31,1116,57"/>
<area shape="rect" id="node8" href="hugetlb_8c.html#ad0dfc65ba2eacfc86f500656292abdb7" title="alloc_buddy_huge_page" alt="" coords="1195,5,1357,32"/>
<area shape="rect" id="node9" href="mempolicy_8c.html#a14d294159e91b7af61864e4a476cde8d" title="alloc_pages_vma" alt="" coords="1215,56,1337,83"/>
<area shape="rect" id="node12" href="filemap_8c.html#adbaa09410e0efc5dc95cbf9b922f0a87" title="__add_to_page_cache\l_locked" alt="" coords="687,113,839,154"/>
<area shape="rect" id="node15" href="huge__memory_8c.html#a35c0fdaaf10b8c4d86f43286475cb30c" title="__do_huge_pmd_anonymous_page" alt="" coords="649,179,876,205"/>
<area shape="rect" id="node17" href="huge__memory_8c.html#a4217034d1610f8829bfd354408d0c40d" title="do_huge_pmd_wp_page\l_fallback" alt="" coords="681,230,844,271"/>
<area shape="rect" id="node18" href="huge__memory_8c.html#a13cf818cbad4c29000bde7a5d0802762" title="do_huge_pmd_wp_page" alt="" coords="949,241,1111,268"/>
<area shape="rect" id="node20" href="khugepaged_8c.html#a77a6922623a91665a2624b3cbcf7cd11" title="collapse_huge_page" alt="" coords="1619,296,1759,323"/>
<area shape="rect" id="node23" href="khugepaged_8c.html#adf3d5ee6d0358d3636bd4cc8a1b497db" title="collect_mm_slot" alt="" coords="704,397,821,424"/>
<area shape="rect" id="node25" href="memory_8c.html#a8f4eec681791a95fa2b09338f8ac3242" title="wp_page_copy" alt="" coords="708,448,817,475"/>
<area shape="rect" id="node27" href="memory_8c.html#af5228269673260def955f6fa19f07c5c" title="do_swap_page" alt="" coords="1221,448,1331,475"/>
<area shape="rect" id="node30" href="memory_8c.html#a9e9ce5c0e78433994440d50e3077a1b8" title="do_anonymous_page" alt="" coords="1203,549,1349,576"/>
<area shape="rect" id="node31" href="memory_8c.html#a687c84e573d1616ceeff606e6ff509c2" title="do_cow_fault" alt="" coords="981,600,1079,627"/>
<area shape="rect" id="node33" href="migrate_8c.html#a58c7b230fb6d8c7a22c5e85ce77bfdee" title="migrate_hetero_single_page" alt="" coords="1184,803,1368,829"/>
<area shape="rect" id="node34" href="swapfile_8c.html#ab8ee50fb881298ae287c31baae24e3b6" title="unuse_pte" alt="" coords="721,701,804,728"/>
<area shape="rect" id="node36" href="userfaultfd_8c.html#af8ec0a6cb4e107a382ee9e3bdbcf0873" title="mcopy_atomic_pte" alt="" coords="697,752,829,779"/>
<area shape="rect" id="node13" href="filemap_8c.html#a1796879c59aea741e4d96415e3481848" title="add_to_page_cache_locked" alt="" coords="939,81,1121,108"/>
<area shape="rect" id="node14" href="filemap_8c.html#a209d30e56949014bbcd4afe8a94f8a1b" title="add_to_page_cache_lru" alt="" coords="951,132,1109,159"/>
<area shape="rect" id="node16" href="huge__memory_8c.html#a27a29716a6fa976016a6ffdbbe03608f" title="do_huge_pmd_anonymous_page" alt="" coords="924,183,1136,209"/>
<area shape="rect" id="node19" href="memory_8c.html#a785f90dff587906736dd3835f3b423bc" title="wp_huge_pmd" alt="" coords="1223,241,1329,268"/>
<area shape="rect" id="node21" href="khugepaged_8c.html#aff1d054b68627df593fd2fb8018425b1" title="khugepaged_scan_pmd" alt="" coords="1807,296,1965,323"/>
<area shape="rect" id="node22" href="khugepaged_8c.html#af80aa48b041037d9f64ca05b2a8eeed0" title="khugepaged_scan_mm_slot" alt="" coords="2013,321,2197,348"/>
<area shape="rect" id="node24" href="khugepaged_8c.html#a88f8dc6c3e40b89406aadeb56c179afd" title="khugepaged" alt="" coords="984,397,1076,424"/>
<area shape="rect" id="node26" href="memory_8c.html#a38cdf68d35aeb5d7d6b94a2e29b307a7" title="do_wp_page" alt="" coords="983,448,1077,475"/>
<area shape="rect" id="node29" href="memory_8c.html#af2d39a30efc8e04269087f3ba4595d24" title="handle_pte_fault" alt="" coords="1435,524,1552,551"/>
<area shape="rect" id="node28" href="khugepaged_8c.html#a2e879f784df4aae7cb01f9ea5aa03160" title="__collapse_huge_page\l_swapin" alt="" coords="1416,415,1571,457"/>
<area shape="rect" id="node32" href="memory_8c.html#a4a900b2dc6fc7b4772d32c80735ff321" title="do_fault" alt="" coords="1242,600,1310,627"/>
<area shape="rect" id="node35" href="swapfile_8c.html#a78c107320a5d452edb777da3b560af4f" title="unuse_pte_range" alt="" coords="969,701,1091,728"/>
<area shape="rect" id="node37" href="userfaultfd_8c.html#a226a2b425a5b1166058ca374dd063551" title="mfill_atomic_pte" alt="" coords="971,752,1089,779"/>
<area shape="rect" id="node40" href="filemap_8c.html#a6bad485a31c6b87ee4ed0c5d747c12f6" title="replace_page_cache_page" alt="" coords="411,668,587,695"/>
<area shape="rect" id="node41" href="filemap_8c.html#a45d7ac357f53d076665cf43e7e74ba28" title="replace_page_cache\l_page_hetero" alt="" coords="429,719,570,761"/>
<area shape="rect" id="node42" href="migrate_8c.html#aa4be661527c44f649f83590c2fdd2a8b" title="migrate_page_states" alt="" coords="428,904,571,931"/>
<area shape="rect" id="node49" href="migrate_8c.html#ab3662609a13e8578d6e067fa1af44354" title="hetero_migrate_page\l_states" alt="" coords="428,1002,571,1043"/>
<area shape="rect" id="node43" href="migrate_8c.html#a980dda787556d2f5fe1a0cfa8a4d024e" title="migrate_page_copy" alt="" coords="695,853,830,880"/>
<area shape="rect" id="node44" href="migrate_8c.html#a75f7bc38a9d6e8b126713e0309bbe6c8" title="migrate_page" alt="" coords="980,853,1080,880"/>
<area shape="rect" id="node45" href="migrate_8c.html#aaee097ef555c4c9244f51010a0ef1dee" title="hetero_migrate_page" alt="" coords="1205,955,1347,981"/>
<area shape="rect" id="node48" href="migrate_8c.html#ab056b40edc7239f38c9d5af068c5d0ef" title="hetero_migrate_page_copy" alt="" coords="673,1005,852,1032"/>
<area shape="rect" id="node46" href="migrate_8c.html#aefea74f240234724d91cac99b617f3c6" title="fallback_migrate_page" alt="" coords="1200,853,1352,880"/>
<area shape="rect" id="node47" href="migrate_8c.html#aef2cf71a8a1912260c9013e6dd0e82d3" title="move_to_new_page" alt="" coords="1424,879,1563,905"/>
</map>
</div>

</div>
</div>
<a id="afa3eac7899f0a117ded66ed9d7decca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa3eac7899f0a117ded66ed9d7decca9">&#9670;&nbsp;</a></span>page_counter_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_counter_limit </td>
          <td>(</td>
          <td class="paramtype">struct page_counter *&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>page_counter_limit - limit the number of pages allowed : counter : limit to set</p>
<p>Returns 0 on success, -EBUSY if the current number of pages on the counter already exceeds the specified limit.</p>
<p>The caller must serialize invocations on the same counter. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_afa3eac7899f0a117ded66ed9d7decca9_icgraph.png" border="0" usemap="#page__counter_8c_afa3eac7899f0a117ded66ed9d7decca9_icgraph" alt=""/></div>
<map name="page__counter_8c_afa3eac7899f0a117ded66ed9d7decca9_icgraph" id="page__counter_8c_afa3eac7899f0a117ded66ed9d7decca9_icgraph">
<area shape="rect" id="node2" href="hugetlb__cgroup_8c.html#a01b645218e0e9f0d120feab39a10c41e" title="hugetlb_cgroup_init" alt="" coords="209,14,344,41"/>
<area shape="rect" id="node4" href="hugetlb__cgroup_8c.html#a8713e51ca31c1fa64194137fb6bbde27" title="hugetlb_cgroup_write" alt="" coords="204,69,349,95"/>
<area shape="rect" id="node8" href="memcontrol_8c.html#a74866e366a338172ec5d0b90647e4202" title="mem_cgroup_resize_limit" alt="" coords="191,119,362,146"/>
<area shape="rect" id="node10" href="memcontrol_8c.html#ab0b5e1f69f2059ad51f0faf6c6e91509" title="mem_cgroup_init" alt="" coords="656,233,777,259"/>
<area shape="rect" id="node11" href="memcontrol_8c.html#aa65c61e08d3665da27044665c2326123" title="memcg_update_kmem_limit" alt="" coords="184,170,369,197"/>
<area shape="rect" id="node12" href="memcontrol_8c.html#a867fc7016441e23aa85c4e30c370da9e" title="memcg_update_tcp_limit" alt="" coords="193,221,360,247"/>
<area shape="rect" id="node13" href="memcontrol_8c.html#a7de0beac3da2fdff490f380d6d291f4a" title="mem_cgroup_css_reset" alt="" coords="196,322,357,349"/>
<area shape="rect" id="node3" href="hugetlb__cgroup_8c.html#a693588a5041ad528ce49f73a21648900" title="hugetlb_cgroup_css\l_alloc" alt="" coords="434,5,573,47"/>
<area shape="rect" id="node5" href="hugetlb__cgroup_8c.html#abe689edd53b7f55dfb8b28e7098faa87" title="__hugetlb_cgroup_file_init" alt="" coords="417,71,589,98"/>
<area shape="rect" id="node6" href="hugetlb__cgroup_8c.html#a24febee8d384ab138e27551ecbe74828" title="hugetlb_cgroup_file_init" alt="" coords="637,71,796,98"/>
<area shape="rect" id="node7" href="hugetlb_8c.html#acfb1769d5d670c730cc54a49d828e3ed" title="hugetlb_init" alt="" coords="844,71,932,98"/>
<area shape="rect" id="node9" href="memcontrol_8c.html#ad916f9bf2deddc6edb114f1c11c8e9f1" title="mem_cgroup_write" alt="" coords="437,195,569,222"/>
</map>
</div>

</div>
</div>
<a id="a6a9a1fb9f5934cc9ceb48f1261047b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9a1fb9f5934cc9ceb48f1261047b7a">&#9670;&nbsp;</a></span>page_counter_memparse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_counter_memparse </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>nr_pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>page_counter_memparse - memparse() for page counter limits : string to parse : string meaning maximum possible value : returns the result in number of pages</p>
<p>Returns -EINVAL, or 0 and  on success.  will be limited to PAGE_COUNTER_MAX. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_a6a9a1fb9f5934cc9ceb48f1261047b7a_icgraph.png" border="0" usemap="#page__counter_8c_a6a9a1fb9f5934cc9ceb48f1261047b7a_icgraph" alt=""/></div>
<map name="page__counter_8c_a6a9a1fb9f5934cc9ceb48f1261047b7a_icgraph" id="page__counter_8c_a6a9a1fb9f5934cc9ceb48f1261047b7a_icgraph">
<area shape="rect" id="node2" href="hugetlb__cgroup_8c.html#a8713e51ca31c1fa64194137fb6bbde27" title="hugetlb_cgroup_write" alt="" coords="225,5,371,32"/>
<area shape="rect" id="node6" href="memcontrol_8c.html#ad916f9bf2deddc6edb114f1c11c8e9f1" title="mem_cgroup_write" alt="" coords="232,56,364,83"/>
<area shape="rect" id="node7" href="memcontrol_8c.html#ab0b5e1f69f2059ad51f0faf6c6e91509" title="mem_cgroup_init" alt="" coords="457,81,578,108"/>
<area shape="rect" id="node8" href="memcontrol_8c.html#a43b9559864198b7ddf0572a6299401e0" title="__mem_cgroup_usage\l_register_event" alt="" coords="221,158,375,199"/>
<area shape="rect" id="node12" href="memcontrol_8c.html#af45f029dac174e04980babae8d200cb4" title="memory_low_write" alt="" coords="233,224,363,251"/>
<area shape="rect" id="node13" href="memcontrol_8c.html#a09035f36b67862fa496556af113239cc" title="memory_high_write" alt="" coords="231,275,365,301"/>
<area shape="rect" id="node14" href="memcontrol_8c.html#abeeaabf61986adcafdbbb54ad0e2f20d" title="memory_max_write" alt="" coords="230,325,366,352"/>
<area shape="rect" id="node3" href="hugetlb__cgroup_8c.html#abe689edd53b7f55dfb8b28e7098faa87" title="__hugetlb_cgroup_file_init" alt="" coords="431,5,603,32"/>
<area shape="rect" id="node4" href="hugetlb__cgroup_8c.html#a24febee8d384ab138e27551ecbe74828" title="hugetlb_cgroup_file_init" alt="" coords="673,5,832,32"/>
<area shape="rect" id="node5" href="hugetlb_8c.html#acfb1769d5d670c730cc54a49d828e3ed" title="hugetlb_init" alt="" coords="893,5,981,32"/>
<area shape="rect" id="node9" href="memcontrol_8c.html#acc618b42efb95e5481789b03bc34467c" title="mem_cgroup_usage_register\l_event" alt="" coords="423,133,612,174"/>
<area shape="rect" id="node11" href="memcontrol_8c.html#a3693b409e4a8b3b713efab51f51de6fb" title="memsw_cgroup_usage\l_register_event" alt="" coords="439,198,595,239"/>
<area shape="rect" id="node10" href="memcontrol_8c.html#a2905ef3b9838a2ae576d02a7673f2c50" title="memcg_write_event_control" alt="" coords="660,172,845,199"/>
</map>
</div>

</div>
</div>
<a id="a9e38feb04d9f65d77180c8ade9f35dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e38feb04d9f65d77180c8ade9f35dd4">&#9670;&nbsp;</a></span>page_counter_try_charge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool page_counter_try_charge </td>
          <td>(</td>
          <td class="paramtype">struct page_counter *&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_pages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page_counter **&#160;</td>
          <td class="paramname"><em>fail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>page_counter_try_charge - try to hierarchically charge pages : counter : number of pages to charge : points first counter to hit its limit, if any</p>
<p>Returns true on success, or false and  if the counter or one of its ancestors has hit its configured limit. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_cgraph.png" border="0" usemap="#page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_cgraph" alt=""/></div>
<map name="page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_cgraph" id="page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_cgraph">
<area shape="rect" id="node2" href="page__counter_8c.html#a8d1660de964ae6d862d66b8efaf11bc7" title="page_counter_cancel" alt="" coords="221,5,367,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_icgraph.png" border="0" usemap="#page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_icgraph" alt=""/></div>
<map name="page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_icgraph" id="page__counter_8c_a9e38feb04d9f65d77180c8ade9f35dd4_icgraph">
<area shape="rect" id="node2" href="hugetlb__cgroup_8c.html#a78970a35e4ed1e24a61949bdad956000" title="hugetlb_cgroup_charge\l_cgroup" alt="" coords="221,289,377,330"/>
<area shape="rect" id="node12" href="memcontrol_8c.html#a692eb56f646c265c674a6d79b8f9ec7f" title="try_charge" alt="" coords="258,519,341,545"/>
<area shape="rect" id="node13" href="memcontrol_8c.html#a3582b731bb233e4371da34e53913f65d" title="memcg_kmem_charge_memcg" alt="" coords="425,468,629,495"/>
<area shape="rect" id="node49" href="memcontrol_8c.html#a42ae8ba99ef5593ca8711d69d991fa0a" title="mem_cgroup_charge_skmem" alt="" coords="431,620,624,647"/>
<area shape="rect" id="node50" href="memcontrol_8c.html#ab0b5e1f69f2059ad51f0faf6c6e91509" title="mem_cgroup_init" alt="" coords="239,620,360,647"/>
<area shape="rect" id="node3" href="hugetlb_8c.html#a70adbc4dba97314a0200a2b238d16bfb" title="alloc_huge_page" alt="" coords="468,132,587,159"/>
<area shape="rect" id="node4" href="hugetlb_8c.html#a6e6499c4fe73c87486096bf2222a989c" title="hugetlb_cow" alt="" coords="743,31,838,57"/>
<area shape="rect" id="node5" href="hugetlb_8c.html#ac6a24d004ac0dacd99b12d60eca3e292" title="hugetlb_no_page" alt="" coords="998,81,1118,108"/>
<area shape="rect" id="node9" href="hugetlb_8c.html#ae2b2ec3180d42fa0a0ff5e8f9b5e71bf" title="hugetlb_mcopy_atomic_pte" alt="" coords="700,183,881,209"/>
<area shape="rect" id="node6" href="hugetlb_8c.html#aec5763e8c1ea2d427521ca4b6a563c16" title="hugetlb_fault" alt="" coords="1251,31,1347,57"/>
<area shape="rect" id="node7" href="hugetlb_8c.html#aeab7d5e7a793cf3fe6d34a4a0731e437" title="follow_hugetlb_page" alt="" coords="1442,5,1582,32"/>
<area shape="rect" id="node8" href="memory_8c.html#ae52ed1c7ccb7ba8bedf5eb41566d4358" title="handle_mm_fault" alt="" coords="1451,56,1573,83"/>
<area shape="rect" id="node10" href="userfaultfd_8c.html#a3c391c09c289f65c03fc74cdcd0ffaa3" title="mm_alloc_pmd" alt="" coords="1003,183,1113,209"/>
<area shape="rect" id="node11" href="userfaultfd_8c.html#ac12c5587eea48c86f8495fae75a25612" title="__mcopy_atomic" alt="" coords="1239,233,1360,260"/>
<area shape="rect" id="node19" href="memcontrol_8c.html#a7de0beac3da2fdff490f380d6d291f4a" title="mem_cgroup_css_reset" alt="" coords="447,569,608,596"/>
<area shape="rect" id="node20" href="memcontrol_8c.html#ad59db95e8ab6a953e567648e184d1233" title="mem_cgroup_try_charge" alt="" coords="445,519,610,545"/>
<area shape="rect" id="node14" href="memcontrol_8c.html#a681d2ddfada47524fe2329341b126c5e" title="memcg_kmem_charge" alt="" coords="713,132,868,159"/>
<area shape="rect" id="node15" href="page__alloc_8c.html#a0ef43a2f8d25d7d9c7db3738c00e98a1" title="__alloc_pages_nodemask" alt="" coords="972,132,1144,159"/>
<area shape="rect" id="node16" href="hugetlb_8c.html#ad0dfc65ba2eacfc86f500656292abdb7" title="alloc_buddy_huge_page" alt="" coords="1219,81,1380,108"/>
<area shape="rect" id="node17" href="mempolicy_8c.html#a14d294159e91b7af61864e4a476cde8d" title="alloc_pages_vma" alt="" coords="1238,132,1361,159"/>
<area shape="rect" id="node18" href="mempolicy_8c.html#a4fcac2f67850e039cf53f5e41773f20f" title="alloc_pages_current" alt="" coords="1230,183,1369,209"/>
<area shape="rect" id="node21" href="filemap_8c.html#adbaa09410e0efc5dc95cbf9b922f0a87" title="__add_to_page_cache\l_locked" alt="" coords="715,285,867,326"/>
<area shape="rect" id="node26" href="huge__memory_8c.html#a35c0fdaaf10b8c4d86f43286475cb30c" title="__do_huge_pmd_anonymous_page" alt="" coords="677,351,904,377"/>
<area shape="rect" id="node28" href="huge__memory_8c.html#a4217034d1610f8829bfd354408d0c40d" title="do_huge_pmd_wp_page\l_fallback" alt="" coords="709,453,872,494"/>
<area shape="rect" id="node29" href="huge__memory_8c.html#a13cf818cbad4c29000bde7a5d0802762" title="do_huge_pmd_wp_page" alt="" coords="977,448,1139,475"/>
<area shape="rect" id="node31" href="khugepaged_8c.html#a77a6922623a91665a2624b3cbcf7cd11" title="collapse_huge_page" alt="" coords="1637,881,1777,908"/>
<area shape="rect" id="node34" href="khugepaged_8c.html#adf3d5ee6d0358d3636bd4cc8a1b497db" title="collect_mm_slot" alt="" coords="732,823,849,849"/>
<area shape="rect" id="node36" href="memory_8c.html#a8f4eec681791a95fa2b09338f8ac3242" title="wp_page_copy" alt="" coords="736,620,845,647"/>
<area shape="rect" id="node38" href="memory_8c.html#af5228269673260def955f6fa19f07c5c" title="do_swap_page" alt="" coords="1245,671,1354,697"/>
<area shape="rect" id="node41" href="memory_8c.html#a9e9ce5c0e78433994440d50e3077a1b8" title="do_anonymous_page" alt="" coords="1227,569,1372,596"/>
<area shape="rect" id="node42" href="memory_8c.html#a687c84e573d1616ceeff606e6ff509c2" title="do_cow_fault" alt="" coords="1009,519,1107,545"/>
<area shape="rect" id="node44" href="migrate_8c.html#a58c7b230fb6d8c7a22c5e85ce77bfdee" title="migrate_hetero_single_page" alt="" coords="699,721,883,748"/>
<area shape="rect" id="node45" href="swapfile_8c.html#ab8ee50fb881298ae287c31baae24e3b6" title="unuse_pte" alt="" coords="749,772,832,799"/>
<area shape="rect" id="node47" href="userfaultfd_8c.html#af8ec0a6cb4e107a382ee9e3bdbcf0873" title="mcopy_atomic_pte" alt="" coords="725,233,857,260"/>
<area shape="rect" id="node22" href="filemap_8c.html#a1796879c59aea741e4d96415e3481848" title="add_to_page_cache_locked" alt="" coords="967,335,1149,361"/>
<area shape="rect" id="node23" href="filemap_8c.html#a209d30e56949014bbcd4afe8a94f8a1b" title="add_to_page_cache_lru" alt="" coords="979,284,1137,311"/>
<area shape="rect" id="node24" href="filemap_8c.html#a35dc3712636648d169f9c7f7386f8361" title="pagecache_get_page" alt="" coords="1227,335,1372,361"/>
<area shape="rect" id="node25" href="filemap_8c.html#a966b2cbe8bdc43898de3423aa66cd51e" title="generic_file_buffered_read" alt="" coords="1212,284,1387,311"/>
<area shape="rect" id="node27" href="huge__memory_8c.html#a27a29716a6fa976016a6ffdbbe03608f" title="do_huge_pmd_anonymous_page" alt="" coords="952,385,1164,412"/>
<area shape="rect" id="node30" href="memory_8c.html#a785f90dff587906736dd3835f3b423bc" title="wp_huge_pmd" alt="" coords="1246,448,1353,475"/>
<area shape="rect" id="node32" href="khugepaged_8c.html#aff1d054b68627df593fd2fb8018425b1" title="khugepaged_scan_pmd" alt="" coords="1825,877,1984,904"/>
<area shape="rect" id="node33" href="khugepaged_8c.html#af80aa48b041037d9f64ca05b2a8eeed0" title="khugepaged_scan_mm_slot" alt="" coords="2032,852,2216,879"/>
<area shape="rect" id="node35" href="khugepaged_8c.html#a88f8dc6c3e40b89406aadeb56c179afd" title="khugepaged" alt="" coords="1012,772,1104,799"/>
<area shape="rect" id="node37" href="memory_8c.html#a38cdf68d35aeb5d7d6b94a2e29b307a7" title="do_wp_page" alt="" coords="1011,620,1105,647"/>
<area shape="rect" id="node40" href="memory_8c.html#af2d39a30efc8e04269087f3ba4595d24" title="handle_pte_fault" alt="" coords="1453,595,1571,621"/>
<area shape="rect" id="node39" href="khugepaged_8c.html#a2e879f784df4aae7cb01f9ea5aa03160" title="__collapse_huge_page\l_swapin" alt="" coords="1435,874,1589,915"/>
<area shape="rect" id="node43" href="memory_8c.html#a4a900b2dc6fc7b4772d32c80735ff321" title="do_fault" alt="" coords="1265,519,1333,545"/>
<area shape="rect" id="node46" href="swapfile_8c.html#a78c107320a5d452edb777da3b560af4f" title="unuse_pte_range" alt="" coords="997,721,1119,748"/>
<area shape="rect" id="node48" href="userfaultfd_8c.html#a226a2b425a5b1166058ca374dd063551" title="mfill_atomic_pte" alt="" coords="999,233,1117,260"/>
</map>
</div>

</div>
</div>
<a id="af42e32e2d8e8dbc58e8e0a6b5a71f3ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42e32e2d8e8dbc58e8e0a6b5a71f3ea">&#9670;&nbsp;</a></span>page_counter_uncharge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_counter_uncharge </td>
          <td>(</td>
          <td class="paramtype">struct page_counter *&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>page_counter_uncharge - hierarchically uncharge pages : counter : number of pages to uncharge </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_cgraph.png" border="0" usemap="#page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_cgraph" alt=""/></div>
<map name="page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_cgraph" id="page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_cgraph">
<area shape="rect" id="node2" href="page__counter_8c.html#a8d1660de964ae6d862d66b8efaf11bc7" title="page_counter_cancel" alt="" coords="213,5,359,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_icgraph.png" border="0" usemap="#page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_icgraph" alt=""/></div>
<map name="page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_icgraph" id="page__counter_8c_af42e32e2d8e8dbc58e8e0a6b5a71f3ea_icgraph">
<area shape="rect" id="node2" href="hugetlb__cgroup_8c.html#ac5beb8b7291630076746597cf4c740e8" title="hugetlb_cgroup_uncharge_page" alt="" coords="213,79,419,105"/>
<area shape="rect" id="node5" href="hugetlb__cgroup_8c.html#a4d84a98a0da4603e0730c82c73513768" title="hugetlb_cgroup_uncharge\l_cgroup" alt="" coords="231,134,401,175"/>
<area shape="rect" id="node10" href="memcontrol_8c.html#a99cb2992466adc8d4ce384713f95c9cc" title="drain_stock" alt="" coords="271,385,361,412"/>
<area shape="rect" id="node13" href="memcontrol_8c.html#a692eb56f646c265c674a6d79b8f9ec7f" title="try_charge" alt="" coords="971,376,1053,403"/>
<area shape="rect" id="node16" href="memcontrol_8c.html#a7de0beac3da2fdff490f380d6d291f4a" title="mem_cgroup_css_reset" alt="" coords="1172,469,1333,496"/>
<area shape="rect" id="node32" href="memcontrol_8c.html#ab0b5e1f69f2059ad51f0faf6c6e91509" title="mem_cgroup_init" alt="" coords="722,427,843,453"/>
<area shape="rect" id="node34" href="memcontrol_8c.html#a30a7390f42e5877e9807b64104e03016" title="mem_cgroup_uncharge\l_skmem" alt="" coords="704,259,861,301"/>
<area shape="rect" id="node36" href="memcontrol_8c.html#aa9d0da735fd94ba0e41a877e733a7914" title="cancel_charge" alt="" coords="959,563,1065,589"/>
<area shape="rect" id="node38" href="memcontrol_8c.html#a91b88241c893cf946c5aa0889406410d" title="memcg_kmem_uncharge" alt="" coords="232,613,400,640"/>
<area shape="rect" id="node42" href="memcontrol_8c.html#a77c8d43ee904e0f3e355b3656cc7f627" title="uncharge_batch" alt="" coords="259,715,373,741"/>
<area shape="rect" id="node3" href="hugetlb_8c.html#afc13d1f98ed62d07f9e57bbc244774c3" title="free_huge_page" alt="" coords="498,61,613,88"/>
<area shape="rect" id="node4" href="hugetlb_8c.html#a9736e87ab3c220022120b984298582ed" title="PageHeadHuge" alt="" coords="725,5,840,32"/>
<area shape="rect" id="node6" href="hugetlb_8c.html#a70adbc4dba97314a0200a2b238d16bfb" title="alloc_huge_page" alt="" coords="496,127,615,153"/>
<area shape="rect" id="node7" href="hugetlb_8c.html#a6e6499c4fe73c87486096bf2222a989c" title="hugetlb_cow" alt="" coords="735,56,830,83"/>
<area shape="rect" id="node8" href="hugetlb_8c.html#ac6a24d004ac0dacd99b12d60eca3e292" title="hugetlb_no_page" alt="" coords="952,81,1072,108"/>
<area shape="rect" id="node9" href="hugetlb_8c.html#ae2b2ec3180d42fa0a0ff5e8f9b5e71bf" title="hugetlb_mcopy_atomic_pte" alt="" coords="692,157,873,184"/>
<area shape="rect" id="node11" href="memcontrol_8c.html#a64294f6492aab379687cd8c5a74225dc" title="drain_local_stock" alt="" coords="494,360,617,387"/>
<area shape="rect" id="node33" href="memcontrol_8c.html#a57b6df1fd478661d96f448777cb89245" title="refill_stock" alt="" coords="513,309,598,336"/>
<area shape="rect" id="node35" href="memcontrol_8c.html#af74dc99a179309f53b2c55dcbe8be07d" title="memcg_hotplug_cpu_dead" alt="" coords="467,411,644,437"/>
<area shape="rect" id="node12" href="memcontrol_8c.html#a6aa8c50185641c12a5ee5e35f03a4ffc" title="drain_all_stock" alt="" coords="728,376,837,403"/>
<area shape="rect" id="node14" href="memcontrol_8c.html#a3582b731bb233e4371da34e53913f65d" title="memcg_kmem_charge_memcg" alt="" coords="1151,571,1355,597"/>
<area shape="rect" id="node17" href="memcontrol_8c.html#ad59db95e8ab6a953e567648e184d1233" title="mem_cgroup_try_charge" alt="" coords="1170,415,1335,441"/>
<area shape="rect" id="node31" href="memcontrol_8c.html#a42ae8ba99ef5593ca8711d69d991fa0a" title="mem_cgroup_charge_skmem" alt="" coords="1156,364,1349,391"/>
<area shape="rect" id="node15" href="memcontrol_8c.html#a681d2ddfada47524fe2329341b126c5e" title="memcg_kmem_charge" alt="" coords="1439,852,1593,879"/>
<area shape="rect" id="node18" href="filemap_8c.html#adbaa09410e0efc5dc95cbf9b922f0a87" title="__add_to_page_cache\l_locked" alt="" coords="1440,517,1592,558"/>
<area shape="rect" id="node19" href="huge__memory_8c.html#a35c0fdaaf10b8c4d86f43286475cb30c" title="__do_huge_pmd_anonymous_page" alt="" coords="1403,583,1629,609"/>
<area shape="rect" id="node20" href="huge__memory_8c.html#a4217034d1610f8829bfd354408d0c40d" title="do_huge_pmd_wp_page\l_fallback" alt="" coords="1435,634,1597,675"/>
<area shape="rect" id="node21" href="huge__memory_8c.html#a13cf818cbad4c29000bde7a5d0802762" title="do_huge_pmd_wp_page" alt="" coords="1677,641,1840,668"/>
<area shape="rect" id="node22" href="khugepaged_8c.html#a77a6922623a91665a2624b3cbcf7cd11" title="collapse_huge_page" alt="" coords="1446,700,1586,727"/>
<area shape="rect" id="node23" href="khugepaged_8c.html#adf3d5ee6d0358d3636bd4cc8a1b497db" title="collect_mm_slot" alt="" coords="1457,751,1575,777"/>
<area shape="rect" id="node24" href="memory_8c.html#a8f4eec681791a95fa2b09338f8ac3242" title="wp_page_copy" alt="" coords="1461,161,1571,188"/>
<area shape="rect" id="node25" href="memory_8c.html#af5228269673260def955f6fa19f07c5c" title="do_swap_page" alt="" coords="1461,212,1571,239"/>
<area shape="rect" id="node26" href="memory_8c.html#a9e9ce5c0e78433994440d50e3077a1b8" title="do_anonymous_page" alt="" coords="1443,263,1589,289"/>
<area shape="rect" id="node27" href="memory_8c.html#a687c84e573d1616ceeff606e6ff509c2" title="do_cow_fault" alt="" coords="1467,364,1565,391"/>
<area shape="rect" id="node28" href="migrate_8c.html#a58c7b230fb6d8c7a22c5e85ce77bfdee" title="migrate_hetero_single_page" alt="" coords="1424,313,1608,340"/>
<area shape="rect" id="node29" href="swapfile_8c.html#ab8ee50fb881298ae287c31baae24e3b6" title="unuse_pte" alt="" coords="1475,415,1557,441"/>
<area shape="rect" id="node30" href="userfaultfd_8c.html#af8ec0a6cb4e107a382ee9e3bdbcf0873" title="mcopy_atomic_pte" alt="" coords="1450,465,1582,492"/>
<area shape="rect" id="node37" href="memcontrol_8c.html#a733114a148f13b07c08c20e1ff206677" title="mem_cgroup_cancel_charge" alt="" coords="1159,520,1347,547"/>
<area shape="rect" id="node39" href="page__alloc_8c.html#a896b3b34274b3e3aaf29afc57bd53add" title="free_pages_prepare" alt="" coords="487,613,623,640"/>
<area shape="rect" id="node40" href="page__alloc_8c.html#a3a23ac0adfa7089986537a87e02b79da" title="free_pcp_prepare" alt="" coords="721,664,844,691"/>
<area shape="rect" id="node41" href="page__alloc_8c.html#a84ebc909f91cb84b74ddb8f2be31741f" title="__free_pages_ok" alt="" coords="722,613,843,640"/>
<area shape="rect" id="node43" href="memcontrol_8c.html#a580578734d71014210d24d10b3725a03" title="uncharge_page" alt="" coords="500,740,611,767"/>
<area shape="rect" id="node44" href="memcontrol_8c.html#af119a6251edb5a91b0c7ece7c1554162" title="uncharge_list" alt="" coords="733,715,832,741"/>
<area shape="rect" id="node47" href="memcontrol_8c.html#a7091170d661d522fa33db6ecea4311f5" title="mem_cgroup_uncharge" alt="" coords="704,791,861,817"/>
<area shape="rect" id="node45" href="memcontrol_8c.html#aca795ace45b8c100e79123d0fbca8497" title="mem_cgroup_uncharge_list" alt="" coords="921,689,1103,716"/>
<area shape="rect" id="node46" href="vmscan_8c.html#a9b53b025d27ad8ecc65eecdabcdfcaab" title="shrink_page_list" alt="" coords="1195,791,1311,817"/>
<area shape="rect" id="node48" href="memory-failure_8c.html#ad78595823f3b758258ef6fa16d23d9ce" title="delete_from_lru_cache" alt="" coords="935,791,1089,817"/>
<area shape="rect" id="node49" href="swap_8c.html#a06155b359a623d8e4ffdd665babf0264" title="__page_cache_release" alt="" coords="935,841,1089,868"/>
<area shape="rect" id="node50" href="vmscan_8c.html#a3a5da339b1e3a926630591d88d2f569d" title="putback_inactive_pages" alt="" coords="931,740,1093,767"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="page__counter_8c.html">page_counter.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
