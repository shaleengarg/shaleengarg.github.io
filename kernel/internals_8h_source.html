<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: irq/internals.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2afccf18bcf8d7f040e2ec2def3a539b.html">irq</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">internals.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="internals_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* SPDX-License-Identifier: GPL-2.0 */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * IRQ subsystem internal functions and variables:</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Do not ever include this file from anything else than</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * kernel/irq/. Do not even think about using any information outside</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * of this file for your non core code.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;linux/irqdesc.h&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;linux/kernel_stat.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;linux/pm_runtime.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;linux/sched/clock.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifdef CONFIG_SPARSE_IRQ</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor"># define IRQ_BITMAP_BITS    (NR_IRQS + 8196)</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="internals_8h.html#a38d009b441b2656df18acbd3c7c591d9">   17</a></span>&#160;<span class="preprocessor"># define IRQ_BITMAP_BITS    NR_IRQS</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="internals_8h.html#a2dbaba65cce9a0392a4f47605ae9c948">   20</a></span>&#160;<span class="preprocessor">#define istate core_internal_state__do_not_mess_with_it</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#aeafa0080936abc19f2fa24483dccca8a">noirqdebug</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>irqaction <a class="code" href="internals_8h.html#ae43ea68134521b2835a52b243d998e25">chained_action</a>;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * Bits used by threaded handlers:</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * IRQTF_RUNTHREAD - signals that the interrupt handler thread should run</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * IRQTF_WARNED    - warning &quot;IRQ_WAKE_THREAD w/o thread_fn&quot; has been printed</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * IRQTF_AFFINITY  - irq thread is requested to adjust affinity</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * IRQTF_FORCED_THREAD  - irq action is force threaded</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="internals_8h.html#ac205be2172292384dd687b5471a87eddaeace035575ff544aaa9abca75b41b55b">   34</a></span>&#160;    <a class="code" href="internals_8h.html#ac205be2172292384dd687b5471a87eddaeace035575ff544aaa9abca75b41b55b">IRQTF_RUNTHREAD</a>,</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="internals_8h.html#ac205be2172292384dd687b5471a87eddaeb1ef1b6f79910f00c3b6af50ef06a1a">   35</a></span>&#160;    <a class="code" href="internals_8h.html#ac205be2172292384dd687b5471a87eddaeb1ef1b6f79910f00c3b6af50ef06a1a">IRQTF_WARNED</a>,</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="internals_8h.html#ac205be2172292384dd687b5471a87eddab1870db994e7c44e2a6313af1b76f74b">   36</a></span>&#160;    <a class="code" href="internals_8h.html#ac205be2172292384dd687b5471a87eddab1870db994e7c44e2a6313af1b76f74b">IRQTF_AFFINITY</a>,</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="internals_8h.html#ac205be2172292384dd687b5471a87edda302e9fcf1a1af5b41c4f8cf3b3ec5f23">   37</a></span>&#160;    <a class="code" href="internals_8h.html#ac205be2172292384dd687b5471a87edda302e9fcf1a1af5b41c4f8cf3b3ec5f23">IRQTF_FORCED_THREAD</a>,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;};</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * Bit masks for desc-&gt;core_internal_state__do_not_mess_with_it</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * IRQS_AUTODETECT      - autodetection in progress</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * IRQS_SPURIOUS_DISABLED   - was disabled due to spurious interrupt</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> *                detection</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * IRQS_POLL_INPROGRESS     - polling in progress</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * IRQS_ONESHOT         - irq is not unmasked in primary handler</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * IRQS_REPLAY          - irq is replayed</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * IRQS_WAITING         - irq is waiting</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * IRQS_PENDING         - irq is pending and replayed later</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * IRQS_SUSPENDED       - irq is suspended</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da0d8c821b9c5d6ae6a17ce4bac8872672">   54</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da0d8c821b9c5d6ae6a17ce4bac8872672">IRQS_AUTODETECT</a>     = 0x00000001,</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77dacdf868e2170434edef0b9c46dac1244c">   55</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77dacdf868e2170434edef0b9c46dac1244c">IRQS_SPURIOUS_DISABLED</a>  = 0x00000002,</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da35e5b57aba8df93946cc12b0619bdaa0">   56</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da35e5b57aba8df93946cc12b0619bdaa0">IRQS_POLL_INPROGRESS</a>    = 0x00000008,</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da50d008d691d83a861a08821f48d68229">   57</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da50d008d691d83a861a08821f48d68229">IRQS_ONESHOT</a>        = 0x00000020,</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77daacd49af591ef3831012a4a0a4f498c13">   58</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77daacd49af591ef3831012a4a0a4f498c13">IRQS_REPLAY</a>     = 0x00000040,</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da7c0b2ca220c1517b157ca08a56a24012">   59</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da7c0b2ca220c1517b157ca08a56a24012">IRQS_WAITING</a>        = 0x00000080,</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da26193906cddfa7cbcbc39bd840cb0823">   60</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da26193906cddfa7cbcbc39bd840cb0823">IRQS_PENDING</a>        = 0x00000200,</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77daa38e3e8247c24a0eecd8394aa222b38a">   61</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77daa38e3e8247c24a0eecd8394aa222b38a">IRQS_SUSPENDED</a>      = 0x00000800,</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2">   62</a></span>&#160;    <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2">IRQS_TIMINGS</a>        = 0x00001000,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;};</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="settings_8h.html">settings.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a1cb248791025a7c45dec404e18856033">__irq_set_trigger</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a5a7212450165c7bbbc89ea47decbca87">__disable_irq</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a3b30ff2e8f0c5845d8862d0fd1b1b5bc">__enable_irq</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="internals_8h.html#a8eccfc9f7829e870142ae6e360510719">   72</a></span>&#160;<span class="preprocessor">#define IRQ_RESEND  true</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="internals_8h.html#a28c9c77dc3024e173bf6bd47f44ef77b">   73</a></span>&#160;<span class="preprocessor">#define IRQ_NORESEND    false</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="internals_8h.html#aca752ea6af688b2120c78db0497d42c7">   75</a></span>&#160;<span class="preprocessor">#define IRQ_START_FORCE true</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="internals_8h.html#a288be9be4bc59b17557a57c84d79d05b">   76</a></span>&#160;<span class="preprocessor">#define IRQ_START_COND  false</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#adae6e407b38fc71a5d4882f89158cbc0">irq_activate</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#ac836ce6fade3570f50faa46332b11db4">irq_activate_and_startup</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">bool</span> resend);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a410e2b4a64d3c7784791d252407313ba">irq_startup</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">bool</span> resend, <span class="keywordtype">bool</span> force);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a18f6a78a9317913563e805f72970e449">irq_shutdown</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a4956e7e01fecc1503fbb746f9bfb58e3">irq_enable</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a2d79ca14fc518f414377bab344f10624">irq_disable</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ad66314b464abf1cbda2d59485206d651">irq_percpu_enable</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a4ef4eef3d7225eadfc0546c929f06728">irq_percpu_disable</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#af966354d0da58415966fdd6ddc3cab16">mask_irq</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a9ddd32fc071c5d6197f48b2a15acb291">unmask_irq</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a7ac051538477c643f8cd1e1b1180949d">unmask_threaded_irq</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#ifdef CONFIG_SPARSE_IRQ</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ab1f6f201723058aa069fe4293a85b0e8">irq_mark_irq</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq) { }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ab1f6f201723058aa069fe4293a85b0e8">irq_mark_irq</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a354a5b6035268c651742e484f7c15bc6">init_kstat_irqs</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">int</span> node, <span class="keywordtype">int</span> nr);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;irqreturn_t <a class="code" href="internals_8h.html#a08f521e66761251b3f8afe661bce105e">__handle_irq_event_percpu</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *flags);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;irqreturn_t <a class="code" href="internals_8h.html#a26df9dbbad50fed7ef6bcf00d8f47a28">handle_irq_event_percpu</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;irqreturn_t <a class="code" href="internals_8h.html#a94664932c0897ebcf2563753e89020d8">handle_irq_event</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/* Resending of interrupts :*/</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#affb3bc93f179c64ff8c07f5fe3117e3e">check_irq_resend</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#aab015eac0aa087964a7c4e0000cd43a5">irq_wait_for_poll</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#afd09237c9b6af06f29902452fbfce565">__irq_wake_thread</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">struct</span> irqaction *action);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#ifdef CONFIG_PROC_FS</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a60dc33bb4de4745b5eb40774694f6152">register_irq_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a7f9aa56ad4c7d2adc4d0b64e30403e35">unregister_irq_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ab5ae1758551cd1f363a3972ed4a816bf">register_handler_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irqaction *action);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a8104fd3d61787035a4e3e62d04b5a675">unregister_handler_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irqaction *action);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="internals_8h.html#a60dc33bb4de4745b5eb40774694f6152">  114</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a60dc33bb4de4745b5eb40774694f6152">register_irq_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irq_desc *desc) { }</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="internals_8h.html#a7f9aa56ad4c7d2adc4d0b64e30403e35">  115</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a7f9aa56ad4c7d2adc4d0b64e30403e35">unregister_irq_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irq_desc *desc) { }</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="internals_8h.html#ab5ae1758551cd1f363a3972ed4a816bf">  116</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ab5ae1758551cd1f363a3972ed4a816bf">register_handler_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                     <span class="keyword">struct</span> irqaction *action) { }</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="internals_8h.html#a8104fd3d61787035a4e3e62d04b5a675">  118</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a8104fd3d61787035a4e3e62d04b5a675">unregister_handler_proc</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                       <span class="keyword">struct</span> irqaction *action) { }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a1a2259186b59c504146547ebc65815c7">irq_can_set_affinity_usr</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#aa7a3adb90b30a1d47fc6a96a8357161a">irq_select_affinity_usr</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a6ebb0dc5a9ea94647d0b07b3cae6c51f">irq_set_thread_affinity</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a645f439e613cfecfb41a8585b30b8e1f">irq_do_set_affinity</a>(<span class="keyword">struct</span> irq_data *data,</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                   <span class="keyword">const</span> <span class="keyword">struct</span> cpumask *dest, <span class="keywordtype">bool</span> force);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#ifdef CONFIG_SMP</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a663b976585483989c44a7dfcdc5f69fa">irq_setup_affinity</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="internals_8h.html#a663b976585483989c44a7dfcdc5f69fa">  134</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a663b976585483989c44a7dfcdc5f69fa">irq_setup_affinity</a>(<span class="keyword">struct</span> irq_desc *desc) { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">/* Inline functions for support of irq chips on slow busses */</span></div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="internals_8h.html#accc9b8d349de5c1bc63cea5b414ad0bd">  138</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#accc9b8d349de5c1bc63cea5b414ad0bd">chip_bus_lock</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (unlikely(desc-&gt;irq_data.chip-&gt;irq_bus_lock))</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        desc-&gt;irq_data.chip-&gt;irq_bus_lock(&amp;desc-&gt;irq_data);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="internals_8h.html#a79bd6b0f90f4e79ee0581b35f5813676">  144</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a79bd6b0f90f4e79ee0581b35f5813676">chip_bus_sync_unlock</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (unlikely(desc-&gt;irq_data.chip-&gt;irq_bus_sync_unlock))</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        desc-&gt;irq_data.chip-&gt;irq_bus_sync_unlock(&amp;desc-&gt;irq_data);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="internals_8h.html#a8b9364c1516ed9b63e604256feadadee">  150</a></span>&#160;<span class="preprocessor">#define _IRQ_DESC_CHECK     (1 &lt;&lt; 0)</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="internals_8h.html#a47aea442aa7107514af9b3dd1af11013">  151</a></span>&#160;<span class="preprocessor">#define _IRQ_DESC_PERCPU    (1 &lt;&lt; 1)</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="internals_8h.html#a923490b83f209383e14e74ed8755bb34">  153</a></span>&#160;<span class="preprocessor">#define IRQ_GET_DESC_CHECK_GLOBAL   (_IRQ_DESC_CHECK)</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="internals_8h.html#a0f61561c837f5918183c382dc06f63ad">  154</a></span>&#160;<span class="preprocessor">#define IRQ_GET_DESC_CHECK_PERCPU   (_IRQ_DESC_CHECK | _IRQ_DESC_PERCPU)</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="internals_8h.html#a9caea4b7960a8b568b3bf35b1d09a652">  156</a></span>&#160;<span class="preprocessor">#define for_each_action_of_desc(desc, act)          \</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">    for (act = desc-&gt;action; act; act = act-&gt;next)</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="keyword">struct </span>irq_desc *</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<a class="code" href="internals_8h.html#afcefacc8203d38a13036812180e8398f">__irq_get_desc_lock</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *flags, <span class="keywordtype">bool</span> bus,</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> check);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#aaccbcdf8f4f9f591d4b37914dc359e01">__irq_put_desc_unlock</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags, <span class="keywordtype">bool</span> bus);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>irq_desc *</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="internals_8h.html#abfe2959452e7e80df7fe0197e70e704b">  165</a></span>&#160;<a class="code" href="internals_8h.html#abfe2959452e7e80df7fe0197e70e704b">irq_get_desc_buslock</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *flags, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> check)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="internals_8h.html#afcefacc8203d38a13036812180e8398f">__irq_get_desc_lock</a>(irq, flags, <span class="keyword">true</span>, check);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="internals_8h.html#a8f05bbc1fdd6097e4daaafa37a172968">  171</a></span>&#160;<a class="code" href="internals_8h.html#a8f05bbc1fdd6097e4daaafa37a172968">irq_put_desc_busunlock</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="internals_8h.html#aaccbcdf8f4f9f591d4b37914dc359e01">__irq_put_desc_unlock</a>(desc, flags, <span class="keyword">true</span>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>irq_desc *</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="internals_8h.html#aad04d8e61cef3ac8e5e332afb4fcce0f">  177</a></span>&#160;<a class="code" href="internals_8h.html#aad04d8e61cef3ac8e5e332afb4fcce0f">irq_get_desc_lock</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *flags, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> check)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="internals_8h.html#afcefacc8203d38a13036812180e8398f">__irq_get_desc_lock</a>(irq, flags, <span class="keyword">false</span>, check);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="internals_8h.html#aae668e45e92f3e939cda927523f068cb">  183</a></span>&#160;<a class="code" href="internals_8h.html#aae668e45e92f3e939cda927523f068cb">irq_put_desc_unlock</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="internals_8h.html#aaccbcdf8f4f9f591d4b37914dc359e01">__irq_put_desc_unlock</a>(desc, flags, <span class="keyword">false</span>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">  188</a></span>&#160;<span class="preprocessor">#define __irqd_to_state(d) ACCESS_PRIVATE((d)-&gt;common, state_use_accessors)</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="internals_8h.html#ac033f8c9106452eb05c5680161d1c87f">  190</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#ac033f8c9106452eb05c5680161d1c87f">irqd_get</a>(<span class="keyword">struct</span> irq_data *d)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"> * Manipulation functions for irq_data.state</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="internals_8h.html#ad9b1b9991216f0994ec1d431f474df44">  198</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ad9b1b9991216f0994ec1d431f474df44">irqd_set_move_pending</a>(<span class="keyword">struct</span> irq_data *d)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) |= IRQD_SETAFFINITY_PENDING;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="internals_8h.html#a1173c00685998a46190284635e85970a">  203</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a1173c00685998a46190284635e85970a">irqd_clr_move_pending</a>(<span class="keyword">struct</span> irq_data *d)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) &amp;= ~IRQD_SETAFFINITY_PENDING;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="internals_8h.html#ad6cf3c253bca2ba6d580df7c05bcccd1">  208</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ad6cf3c253bca2ba6d580df7c05bcccd1">irqd_set_managed_shutdown</a>(<span class="keyword">struct</span> irq_data *d)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) |= IRQD_MANAGED_SHUTDOWN;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="internals_8h.html#a016e6d1b0184113ba9a4f57c39d0a567">  213</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a016e6d1b0184113ba9a4f57c39d0a567">irqd_clr_managed_shutdown</a>(<span class="keyword">struct</span> irq_data *d)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) &amp;= ~IRQD_MANAGED_SHUTDOWN;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="internals_8h.html#aa9e387b4c059b69ac7afbe5b2f5375cb">  218</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#aa9e387b4c059b69ac7afbe5b2f5375cb">irqd_clear</a>(<span class="keyword">struct</span> irq_data *d, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) &amp;= ~mask;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="internals_8h.html#aac862a1ae8de71b6ed2e9f9a92b49233">  223</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#aac862a1ae8de71b6ed2e9f9a92b49233">irqd_set</a>(<span class="keyword">struct</span> irq_data *d, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) |= mask;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="internals_8h.html#af670d139f4c0c6cb20c92a9a09ab9a36">  228</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#af670d139f4c0c6cb20c92a9a09ab9a36">irqd_has_set</a>(<span class="keyword">struct</span> irq_data *d, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mask)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a>(d) &amp; mask;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="internals_8h.html#a408d5a786fa5e0a674f4385abb5fe24b">  233</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a408d5a786fa5e0a674f4385abb5fe24b">irq_state_set_disabled</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="internals_8h.html#aac862a1ae8de71b6ed2e9f9a92b49233">irqd_set</a>(&amp;desc-&gt;irq_data, IRQD_IRQ_DISABLED);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="internals_8h.html#aacc952157d4a58b881c0654754187ea2">  238</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#aacc952157d4a58b881c0654754187ea2">irq_state_set_masked</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="internals_8h.html#aac862a1ae8de71b6ed2e9f9a92b49233">irqd_set</a>(&amp;desc-&gt;irq_data, IRQD_IRQ_MASKED);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#undef __irqd_to_state</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="internals_8h.html#ae2f0b90be469659f3e96700257c60abe">  245</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ae2f0b90be469659f3e96700257c60abe">kstat_incr_irqs_this_cpu</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    __this_cpu_inc(*desc-&gt;kstat_irqs);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    __this_cpu_inc(kstat.irqs_sum);</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="internals_8h.html#a1370b407cde6d0662cc435ac065b8ccd">  251</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a1370b407cde6d0662cc435ac065b8ccd">irq_desc_get_node</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> irq_common_data_get_node(&amp;desc-&gt;irq_common_data);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="internals_8h.html#a6b2f7d69a77fa9fbf21fbe15ecd79ed6">  256</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a6b2f7d69a77fa9fbf21fbe15ecd79ed6">irq_desc_is_chained</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> (desc-&gt;action &amp;&amp; desc-&gt;action == &amp;<a class="code" href="internals_8h.html#ae43ea68134521b2835a52b243d998e25">chained_action</a>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#ifdef CONFIG_PM_SLEEP</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#afe824f6e28f82a2f17738f391259d62e">irq_pm_check_wakeup</a>(<span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ac70c19cac1521371aaa92bddfb25ee5d">irq_pm_install_action</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">struct</span> irqaction *action);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a22beb7f32bcd2acd3151122908298b6b">irq_pm_remove_action</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">struct</span> irqaction *action);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="internals_8h.html#afe824f6e28f82a2f17738f391259d62e">  266</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#afe824f6e28f82a2f17738f391259d62e">irq_pm_check_wakeup</a>(<span class="keyword">struct</span> irq_desc *desc) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="internals_8h.html#ac70c19cac1521371aaa92bddfb25ee5d">  268</a></span>&#160;<a class="code" href="internals_8h.html#ac70c19cac1521371aaa92bddfb25ee5d">irq_pm_install_action</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">struct</span> irqaction *action) { }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="internals_8h.html#a22beb7f32bcd2acd3151122908298b6b">  270</a></span>&#160;<a class="code" href="internals_8h.html#a22beb7f32bcd2acd3151122908298b6b">irq_pm_remove_action</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">struct</span> irqaction *action) { }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="preprocessor">#ifdef CONFIG_IRQ_TIMINGS</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#define IRQ_TIMINGS_SHIFT   5</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#define IRQ_TIMINGS_SIZE    (1 &lt;&lt; IRQ_TIMINGS_SHIFT)</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#define IRQ_TIMINGS_MASK    (IRQ_TIMINGS_SIZE - 1)</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keyword">struct </span>irq_timings {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    u64 values[IRQ_TIMINGS_SIZE];</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">int</span> count;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;};</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<a class="code" href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a>(<span class="keyword">struct</span> irq_timings, irq_timings);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="timings_8c.html#af023b5525c863dc239fd6f81d6b5944b">irq_timings_free</a>(<span class="keywordtype">int</span> irq);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="timings_8c.html#a731fbd755b6c71dcfd81d3f3a585f3a8">irq_timings_alloc</a>(<span class="keywordtype">int</span> irq);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a24457315fbe2f2d6dfd78516684e8f20">irq_remove_timings</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    desc-&gt;istate &amp;= ~<a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2">IRQS_TIMINGS</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="timings_8c.html#af023b5525c863dc239fd6f81d6b5944b">irq_timings_free</a>(irq_desc_get_irq(desc));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a4d02f866302581b735f08ede59447f7c">irq_setup_timings</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">struct</span> irqaction *act)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">int</span> irq = irq_desc_get_irq(desc);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     * We don&#39;t need the measurement because the idle code already</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">     * knows the next expiry event.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">if</span> (act-&gt;flags &amp; __IRQF_TIMER)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">     * In case the timing allocation fails, we just want to warn,</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">     * not fail, so letting the system boot anyway.</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    ret = <a class="code" href="timings_8c.html#a731fbd755b6c71dcfd81d3f3a585f3a8">irq_timings_alloc</a>(irq);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (ret) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        pr_warn(<span class="stringliteral">&quot;Failed to allocate irq timing stats for irq%d (%d)&quot;</span>,</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            irq, ret);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    desc-&gt;istate |= <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2">IRQS_TIMINGS</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="timings_8c.html#a000e6705022db1c5078046facfddb2f8">irq_timings_enable</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="timings_8c.html#a47fcb76deb41db744ff77e80734a8177">irq_timings_disable</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;DECLARE_STATIC_KEY_FALSE(irq_timing_enabled);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> * The interrupt number and the timestamp are encoded into a single</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> * u64 variable to optimize the size.</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> * 48 bit time stamp and 16 bit IRQ number is way sufficient.</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"> *  Who cares an IRQ after 78 hours of idle time?</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u64 irq_timing_encode(u64 timestamp, <span class="keywordtype">int</span> irq)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span> (timestamp &lt;&lt; 16) | irq;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> irq_timing_decode(u64 value, u64 *timestamp)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    *timestamp = value &gt;&gt; 16;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">return</span> value &amp; U16_MAX;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"> * The function record_irq_time is only called in one place in the</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"> * interrupts handler. We want this function always inline so the code</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"> * inside is embedded in the function and the static key branching</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> * code can act at the higher level. Without the explicit</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"> * __always_inline we can end up with a function call and a small</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"> * overhead in the hotpath for nothing.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="keyword">static</span> __always_inline <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a41da12859379999f093384e3fd28ae6b">record_irq_time</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (!static_branch_likely(&amp;irq_timing_enabled))</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">if</span> (desc-&gt;istate &amp; <a class="code" href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2">IRQS_TIMINGS</a>) {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keyword">struct </span>irq_timings *timings = this_cpu_ptr(&amp;irq_timings);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        timings-&gt;values[timings-&gt;count &amp; IRQ_TIMINGS_MASK] =</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            irq_timing_encode(local_clock(),</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                      irq_desc_get_irq(desc));</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        timings-&gt;count++;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="internals_8h.html#a24457315fbe2f2d6dfd78516684e8f20">  373</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a24457315fbe2f2d6dfd78516684e8f20">irq_remove_timings</a>(<span class="keyword">struct</span> irq_desc *desc) {}</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="internals_8h.html#a4d02f866302581b735f08ede59447f7c">  374</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a4d02f866302581b735f08ede59447f7c">irq_setup_timings</a>(<span class="keyword">struct</span> irq_desc *desc,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                     <span class="keyword">struct</span> irqaction *act) {};</div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="internals_8h.html#a41da12859379999f093384e3fd28ae6b">  376</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a41da12859379999f093384e3fd28ae6b">record_irq_time</a>(<span class="keyword">struct</span> irq_desc *desc) {}</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_IRQ_TIMINGS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="preprocessor">#ifdef CONFIG_GENERIC_IRQ_CHIP</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#ac467b55d1430bc8fa0274897a1da6f11">irq_init_generic_chip</a>(<span class="keyword">struct</span> irq_chip_generic *gc, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="trace_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;               <span class="keywordtype">int</span> num_ct, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq_base,</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;               <span class="keywordtype">void</span> __iomem *reg_base, irq_flow_handler_t handler);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="internals_8h.html#ac467b55d1430bc8fa0274897a1da6f11">  386</a></span>&#160;<a class="code" href="internals_8h.html#ac467b55d1430bc8fa0274897a1da6f11">irq_init_generic_chip</a>(<span class="keyword">struct</span> irq_chip_generic *gc, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="trace_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>,</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;              <span class="keywordtype">int</span> num_ct, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq_base,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;              <span class="keywordtype">void</span> __iomem *reg_base, irq_flow_handler_t handler) { }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_GENERIC_IRQ_CHIP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#ifdef CONFIG_GENERIC_PENDING_IRQ</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a653e7886dfab820bd504d3337bc9941e">irq_can_move_pcntxt</a>(<span class="keyword">struct</span> irq_data *data)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordflow">return</span> irqd_can_move_in_process_context(data);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a28b21ae419c708519b62eb47cc89ed59">irq_move_pending</a>(<span class="keyword">struct</span> irq_data *data)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">return</span> irqd_is_setaffinity_pending(data);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<a class="code" href="internals_8h.html#ad1ab08dc6366592d39cc62fa47be5df7">irq_copy_pending</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">const</span> <span class="keyword">struct</span> cpumask *mask)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    cpumask_copy(desc-&gt;pending_mask, mask);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<a class="code" href="internals_8h.html#af0ffe0896aacf5350c16fe0d37050ed2">irq_get_pending</a>(<span class="keyword">struct</span> cpumask *mask, <span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;{</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    cpumask_copy(mask, desc-&gt;pending_mask);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>cpumask *<a class="code" href="internals_8h.html#a988935db61dcc4c581f2e0a60bfcb002">irq_desc_get_pending_mask</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;{</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> desc-&gt;pending_mask;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a768fbeea472ee0b846481ae11e885d67">irq_fixup_move_pending</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">bool</span> force_clear);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* CONFIG_GENERIC_PENDING_IRQ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="internals_8h.html#a653e7886dfab820bd504d3337bc9941e">  416</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a653e7886dfab820bd504d3337bc9941e">irq_can_move_pcntxt</a>(<span class="keyword">struct</span> irq_data *data)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="internals_8h.html#a28b21ae419c708519b62eb47cc89ed59">  420</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a28b21ae419c708519b62eb47cc89ed59">irq_move_pending</a>(<span class="keyword">struct</span> irq_data *data)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;{</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="internals_8h.html#ad1ab08dc6366592d39cc62fa47be5df7">  425</a></span>&#160;<a class="code" href="internals_8h.html#ad1ab08dc6366592d39cc62fa47be5df7">irq_copy_pending</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keyword">const</span> <span class="keyword">struct</span> cpumask *mask)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span></div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="internals_8h.html#af0ffe0896aacf5350c16fe0d37050ed2">  429</a></span>&#160;<a class="code" href="internals_8h.html#af0ffe0896aacf5350c16fe0d37050ed2">irq_get_pending</a>(<span class="keyword">struct</span> cpumask *mask, <span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="internals_8h.html#a988935db61dcc4c581f2e0a60bfcb002">  432</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>cpumask *<a class="code" href="internals_8h.html#a988935db61dcc4c581f2e0a60bfcb002">irq_desc_get_pending_mask</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;{</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="internals_8h.html#a768fbeea472ee0b846481ae11e885d67">  436</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="internals_8h.html#a768fbeea472ee0b846481ae11e885d67">irq_fixup_move_pending</a>(<span class="keyword">struct</span> irq_desc *desc, <span class="keywordtype">bool</span> fclear)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;}</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !CONFIG_GENERIC_PENDING_IRQ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">#if !defined(CONFIG_IRQ_DOMAIN) || !defined(CONFIG_IRQ_DOMAIN_HIERARCHY)</span></div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="internals_8h.html#a5c2ecd231fe292b0dde641a5382a6ac6">  443</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="internals_8h.html#a5c2ecd231fe292b0dde641a5382a6ac6">irq_domain_activate_irq</a>(<span class="keyword">struct</span> irq_data *data, <span class="keywordtype">bool</span> reserve)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    irqd_set_activated(data);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="internals_8h.html#a680cabcba8a194364f5793b97457fc8c">  448</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a680cabcba8a194364f5793b97457fc8c">irq_domain_deactivate_irq</a>(<span class="keyword">struct</span> irq_data *data)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;{</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    irqd_clr_activated(data);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">#ifdef CONFIG_GENERIC_IRQ_DEBUGFS</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="preprocessor">#include &lt;linux/debugfs.h&gt;</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a353a2bdb0e742f2f18125ef62896d308">irq_add_debugfs_entry</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irq_desc *desc);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a2eaeb9e12ce0b53221b8beb37b795af6">irq_remove_debugfs_entry</a>(<span class="keyword">struct</span> irq_desc *desc)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    debugfs_remove(desc-&gt;debugfs_file);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c">kfree</a>(desc-&gt;dev_name);</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keywordtype">void</span> <a class="code" href="internals_8h.html#aa2b8b9b80ce4670b5f2246b41df80b98">irq_debugfs_copy_devname</a>(<span class="keywordtype">int</span> irq, <span class="keyword">struct</span> device *dev);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor"># ifdef CONFIG_IRQ_DOMAIN</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="keywordtype">void</span> irq_domain_debugfs_init(<span class="keyword">struct</span> dentry *root);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor"># else</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> irq_domain_debugfs_init(<span class="keyword">struct</span> dentry *root)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;{</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="preprocessor"># endif</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* CONFIG_GENERIC_IRQ_DEBUGFS */</span><span class="preprocessor"></span></div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="internals_8h.html#a353a2bdb0e742f2f18125ef62896d308">  472</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a353a2bdb0e742f2f18125ef62896d308">irq_add_debugfs_entry</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irq, <span class="keyword">struct</span> irq_desc *d)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;}</div><div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="internals_8h.html#a2eaeb9e12ce0b53221b8beb37b795af6">  475</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#a2eaeb9e12ce0b53221b8beb37b795af6">irq_remove_debugfs_entry</a>(<span class="keyword">struct</span> irq_desc *d)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;{</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div><div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="internals_8h.html#aa2b8b9b80ce4670b5f2246b41df80b98">  478</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="internals_8h.html#aa2b8b9b80ce4670b5f2246b41df80b98">irq_debugfs_copy_devname</a>(<span class="keywordtype">int</span> irq, <span class="keyword">struct</span> device *dev)</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;{</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CONFIG_GENERIC_IRQ_DEBUGFS */</span><span class="preprocessor"></span></div><div class="ttc" id="internals_8h_html_a28b21ae419c708519b62eb47cc89ed59"><div class="ttname"><a href="internals_8h.html#a28b21ae419c708519b62eb47cc89ed59">irq_move_pending</a></div><div class="ttdeci">static bool irq_move_pending(struct irq_data *data)</div><div class="ttdef"><b>Definition:</b> internals.h:420</div></div>
<div class="ttc" id="internals_8h_html_ad1ab08dc6366592d39cc62fa47be5df7"><div class="ttname"><a href="internals_8h.html#ad1ab08dc6366592d39cc62fa47be5df7">irq_copy_pending</a></div><div class="ttdeci">static void irq_copy_pending(struct irq_desc *desc, const struct cpumask *mask)</div><div class="ttdef"><b>Definition:</b> internals.h:425</div></div>
<div class="ttc" id="internals_8h_html_a680cabcba8a194364f5793b97457fc8c"><div class="ttname"><a href="internals_8h.html#a680cabcba8a194364f5793b97457fc8c">irq_domain_deactivate_irq</a></div><div class="ttdeci">static void irq_domain_deactivate_irq(struct irq_data *data)</div><div class="ttdef"><b>Definition:</b> internals.h:448</div></div>
<div class="ttc" id="internals_8h_html_aad04d8e61cef3ac8e5e332afb4fcce0f"><div class="ttname"><a href="internals_8h.html#aad04d8e61cef3ac8e5e332afb4fcce0f">irq_get_desc_lock</a></div><div class="ttdeci">static struct irq_desc * irq_get_desc_lock(unsigned int irq, unsigned long *flags, unsigned int check)</div><div class="ttdef"><b>Definition:</b> internals.h:177</div></div>
<div class="ttc" id="timings_8c_html_af023b5525c863dc239fd6f81d6b5944b"><div class="ttname"><a href="timings_8c.html#af023b5525c863dc239fd6f81d6b5944b">irq_timings_free</a></div><div class="ttdeci">void irq_timings_free(int irq)</div><div class="ttdef"><b>Definition:</b> timings.c:322</div></div>
<div class="ttc" id="internals_8h_html_a3b30ff2e8f0c5845d8862d0fd1b1b5bc"><div class="ttname"><a href="internals_8h.html#a3b30ff2e8f0c5845d8862d0fd1b1b5bc">__enable_irq</a></div><div class="ttdeci">void __enable_irq(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> manage.c:519</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77da7c0b2ca220c1517b157ca08a56a24012"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da7c0b2ca220c1517b157ca08a56a24012">IRQS_WAITING</a></div><div class="ttdef"><b>Definition:</b> internals.h:59</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77daacd49af591ef3831012a4a0a4f498c13"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77daacd49af591ef3831012a4a0a4f498c13">IRQS_REPLAY</a></div><div class="ttdef"><b>Definition:</b> internals.h:58</div></div>
<div class="ttc" id="internals_8h_html_a9ddd32fc071c5d6197f48b2a15acb291"><div class="ttname"><a href="internals_8h.html#a9ddd32fc071c5d6197f48b2a15acb291">unmask_irq</a></div><div class="ttdeci">void unmask_irq(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:423</div></div>
<div class="ttc" id="timings_8c_html_a000e6705022db1c5078046facfddb2f8"><div class="ttname"><a href="timings_8c.html#a000e6705022db1c5078046facfddb2f8">irq_timings_enable</a></div><div class="ttdeci">void irq_timings_enable(void)</div><div class="ttdef"><b>Definition:</b> timings.c:33</div></div>
<div class="ttc" id="internals_8h_html_ac70c19cac1521371aaa92bddfb25ee5d"><div class="ttname"><a href="internals_8h.html#ac70c19cac1521371aaa92bddfb25ee5d">irq_pm_install_action</a></div><div class="ttdeci">static void irq_pm_install_action(struct irq_desc *desc, struct irqaction *action)</div><div class="ttdef"><b>Definition:</b> internals.h:268</div></div>
<div class="ttc" id="internals_8h_html_a8f05bbc1fdd6097e4daaafa37a172968"><div class="ttname"><a href="internals_8h.html#a8f05bbc1fdd6097e4daaafa37a172968">irq_put_desc_busunlock</a></div><div class="ttdeci">static void irq_put_desc_busunlock(struct irq_desc *desc, unsigned long flags)</div><div class="ttdef"><b>Definition:</b> internals.h:171</div></div>
<div class="ttc" id="debug_8h_html"><div class="ttname"><a href="debug_8h.html">debug.h</a></div></div>
<div class="ttc" id="internals_8h_html_a2eaeb9e12ce0b53221b8beb37b795af6"><div class="ttname"><a href="internals_8h.html#a2eaeb9e12ce0b53221b8beb37b795af6">irq_remove_debugfs_entry</a></div><div class="ttdeci">static void irq_remove_debugfs_entry(struct irq_desc *d)</div><div class="ttdef"><b>Definition:</b> internals.h:475</div></div>
<div class="ttc" id="internals_8h_html_a5a7212450165c7bbbc89ea47decbca87"><div class="ttname"><a href="internals_8h.html#a5a7212450165c7bbbc89ea47decbca87">__disable_irq</a></div><div class="ttdeci">void __disable_irq(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> manage.c:439</div></div>
<div class="ttc" id="internals_8h_html_ae43ea68134521b2835a52b243d998e25"><div class="ttname"><a href="internals_8h.html#ae43ea68134521b2835a52b243d998e25">chained_action</a></div><div class="ttdeci">struct irqaction chained_action</div><div class="ttdef"><b>Definition:</b> chip.c:32</div></div>
<div class="ttc" id="internals_8h_html_ac205be2172292384dd687b5471a87eddaeace035575ff544aaa9abca75b41b55b"><div class="ttname"><a href="internals_8h.html#ac205be2172292384dd687b5471a87eddaeace035575ff544aaa9abca75b41b55b">IRQTF_RUNTHREAD</a></div><div class="ttdef"><b>Definition:</b> internals.h:34</div></div>
<div class="ttc" id="internals_8h_html_a24457315fbe2f2d6dfd78516684e8f20"><div class="ttname"><a href="internals_8h.html#a24457315fbe2f2d6dfd78516684e8f20">irq_remove_timings</a></div><div class="ttdeci">static void irq_remove_timings(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:373</div></div>
<div class="ttc" id="internals_8h_html_aa7a3adb90b30a1d47fc6a96a8357161a"><div class="ttname"><a href="internals_8h.html#aa7a3adb90b30a1d47fc6a96a8357161a">irq_select_affinity_usr</a></div><div class="ttdeci">int irq_select_affinity_usr(unsigned int irq)</div></div>
<div class="ttc" id="internals_8h_html_a768fbeea472ee0b846481ae11e885d67"><div class="ttname"><a href="internals_8h.html#a768fbeea472ee0b846481ae11e885d67">irq_fixup_move_pending</a></div><div class="ttdeci">static bool irq_fixup_move_pending(struct irq_desc *desc, bool fclear)</div><div class="ttdef"><b>Definition:</b> internals.h:436</div></div>
<div class="ttc" id="internals_8h_html_ad66314b464abf1cbda2d59485206d651"><div class="ttname"><a href="internals_8h.html#ad66314b464abf1cbda2d59485206d651">irq_percpu_enable</a></div><div class="ttdeci">void irq_percpu_enable(struct irq_desc *desc, unsigned int cpu)</div><div class="ttdef"><b>Definition:</b> chip.c:382</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77da0d8c821b9c5d6ae6a17ce4bac8872672"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da0d8c821b9c5d6ae6a17ce4bac8872672">IRQS_AUTODETECT</a></div><div class="ttdef"><b>Definition:</b> internals.h:54</div></div>
<div class="ttc" id="rcu_8h_html_ad92c2890c435f9cca9e36ff4f97feb5c"><div class="ttname"><a href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c">kfree</a></div><div class="ttdeci">void kfree(const void *)</div></div>
<div class="ttc" id="internals_8h_html_ac205be2172292384dd687b5471a87eddab1870db994e7c44e2a6313af1b76f74b"><div class="ttname"><a href="internals_8h.html#ac205be2172292384dd687b5471a87eddab1870db994e7c44e2a6313af1b76f74b">IRQTF_AFFINITY</a></div><div class="ttdef"><b>Definition:</b> internals.h:36</div></div>
<div class="ttc" id="internals_8h_html_aac862a1ae8de71b6ed2e9f9a92b49233"><div class="ttname"><a href="internals_8h.html#aac862a1ae8de71b6ed2e9f9a92b49233">irqd_set</a></div><div class="ttdeci">static void irqd_set(struct irq_data *d, unsigned int mask)</div><div class="ttdef"><b>Definition:</b> internals.h:223</div></div>
<div class="ttc" id="internals_8h_html_aeafa0080936abc19f2fa24483dccca8a"><div class="ttname"><a href="internals_8h.html#aeafa0080936abc19f2fa24483dccca8a">noirqdebug</a></div><div class="ttdeci">bool noirqdebug</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77da50d008d691d83a861a08821f48d68229"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da50d008d691d83a861a08821f48d68229">IRQS_ONESHOT</a></div><div class="ttdef"><b>Definition:</b> internals.h:57</div></div>
<div class="ttc" id="internals_8h_html_a7f9aa56ad4c7d2adc4d0b64e30403e35"><div class="ttname"><a href="internals_8h.html#a7f9aa56ad4c7d2adc4d0b64e30403e35">unregister_irq_proc</a></div><div class="ttdeci">static void unregister_irq_proc(unsigned int irq, struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:115</div></div>
<div class="ttc" id="internals_8h_html_a1a2259186b59c504146547ebc65815c7"><div class="ttname"><a href="internals_8h.html#a1a2259186b59c504146547ebc65815c7">irq_can_set_affinity_usr</a></div><div class="ttdeci">bool irq_can_set_affinity_usr(unsigned int irq)</div></div>
<div class="ttc" id="internals_8h_html_a18f6a78a9317913563e805f72970e449"><div class="ttname"><a href="internals_8h.html#a18f6a78a9317913563e805f72970e449">irq_shutdown</a></div><div class="ttdeci">void irq_shutdown(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:304</div></div>
<div class="ttc" id="internals_8h_html_a354a5b6035268c651742e484f7c15bc6"><div class="ttname"><a href="internals_8h.html#a354a5b6035268c651742e484f7c15bc6">init_kstat_irqs</a></div><div class="ttdeci">void init_kstat_irqs(struct irq_desc *desc, int node, int nr)</div></div>
<div class="ttc" id="sched_2core_8c_html_a13fabc691944697ce2fdcfe2f6ec2cff"><div class="ttname"><a href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a></div><div class="ttdeci">DECLARE_PER_CPU(cpumask_var_t, load_balance_mask)</div></div>
<div class="ttc" id="internals_8h_html_a8104fd3d61787035a4e3e62d04b5a675"><div class="ttname"><a href="internals_8h.html#a8104fd3d61787035a4e3e62d04b5a675">unregister_handler_proc</a></div><div class="ttdeci">static void unregister_handler_proc(unsigned int irq, struct irqaction *action)</div><div class="ttdef"><b>Definition:</b> internals.h:118</div></div>
<div class="ttc" id="internals_8h_html_ad9b1b9991216f0994ec1d431f474df44"><div class="ttname"><a href="internals_8h.html#ad9b1b9991216f0994ec1d431f474df44">irqd_set_move_pending</a></div><div class="ttdeci">static void irqd_set_move_pending(struct irq_data *d)</div><div class="ttdef"><b>Definition:</b> internals.h:198</div></div>
<div class="ttc" id="internals_8h_html_ac836ce6fade3570f50faa46332b11db4"><div class="ttname"><a href="internals_8h.html#ac836ce6fade3570f50faa46332b11db4">irq_activate_and_startup</a></div><div class="ttdeci">int irq_activate_and_startup(struct irq_desc *desc, bool resend)</div><div class="ttdef"><b>Definition:</b> chip.c:295</div></div>
<div class="ttc" id="internals_8h_html_a4ef4eef3d7225eadfc0546c929f06728"><div class="ttname"><a href="internals_8h.html#a4ef4eef3d7225eadfc0546c929f06728">irq_percpu_disable</a></div><div class="ttdeci">void irq_percpu_disable(struct irq_desc *desc, unsigned int cpu)</div><div class="ttdef"><b>Definition:</b> chip.c:391</div></div>
<div class="ttc" id="internals_8h_html_a6b2f7d69a77fa9fbf21fbe15ecd79ed6"><div class="ttname"><a href="internals_8h.html#a6b2f7d69a77fa9fbf21fbe15ecd79ed6">irq_desc_is_chained</a></div><div class="ttdeci">static int irq_desc_is_chained(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:256</div></div>
<div class="ttc" id="internals_8h_html_a5c2ecd231fe292b0dde641a5382a6ac6"><div class="ttname"><a href="internals_8h.html#a5c2ecd231fe292b0dde641a5382a6ac6">irq_domain_activate_irq</a></div><div class="ttdeci">static int irq_domain_activate_irq(struct irq_data *data, bool reserve)</div><div class="ttdef"><b>Definition:</b> internals.h:443</div></div>
<div class="ttc" id="internals_8h_html_ab1f6f201723058aa069fe4293a85b0e8"><div class="ttname"><a href="internals_8h.html#ab1f6f201723058aa069fe4293a85b0e8">irq_mark_irq</a></div><div class="ttdeci">void irq_mark_irq(unsigned int irq)</div><div class="ttdef"><b>Definition:</b> irqdesc.c:596</div></div>
<div class="ttc" id="internals_8h_html_a79bd6b0f90f4e79ee0581b35f5813676"><div class="ttname"><a href="internals_8h.html#a79bd6b0f90f4e79ee0581b35f5813676">chip_bus_sync_unlock</a></div><div class="ttdeci">static void chip_bus_sync_unlock(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:144</div></div>
<div class="ttc" id="internals_8h_html_a4d02f866302581b735f08ede59447f7c"><div class="ttname"><a href="internals_8h.html#a4d02f866302581b735f08ede59447f7c">irq_setup_timings</a></div><div class="ttdeci">static void irq_setup_timings(struct irq_desc *desc, struct irqaction *act)</div><div class="ttdef"><b>Definition:</b> internals.h:374</div></div>
<div class="ttc" id="internals_8h_html_ac033f8c9106452eb05c5680161d1c87f"><div class="ttname"><a href="internals_8h.html#ac033f8c9106452eb05c5680161d1c87f">irqd_get</a></div><div class="ttdeci">static unsigned int irqd_get(struct irq_data *d)</div><div class="ttdef"><b>Definition:</b> internals.h:190</div></div>
<div class="ttc" id="internals_8h_html_a4956e7e01fecc1503fbb746f9bfb58e3"><div class="ttname"><a href="internals_8h.html#a4956e7e01fecc1503fbb746f9bfb58e3">irq_enable</a></div><div class="ttdeci">void irq_enable(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:326</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77daa38e3e8247c24a0eecd8394aa222b38a"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77daa38e3e8247c24a0eecd8394aa222b38a">IRQS_SUSPENDED</a></div><div class="ttdef"><b>Definition:</b> internals.h:61</div></div>
<div class="ttc" id="internals_8h_html_a41da12859379999f093384e3fd28ae6b"><div class="ttname"><a href="internals_8h.html#a41da12859379999f093384e3fd28ae6b">record_irq_time</a></div><div class="ttdeci">static void record_irq_time(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:376</div></div>
<div class="ttc" id="internals_8h_html_adae6e407b38fc71a5d4882f89158cbc0"><div class="ttname"><a href="internals_8h.html#adae6e407b38fc71a5d4882f89158cbc0">irq_activate</a></div><div class="ttdeci">int irq_activate(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:286</div></div>
<div class="ttc" id="internals_8h_html_aa9e387b4c059b69ac7afbe5b2f5375cb"><div class="ttname"><a href="internals_8h.html#aa9e387b4c059b69ac7afbe5b2f5375cb">irqd_clear</a></div><div class="ttdeci">static void irqd_clear(struct irq_data *d, unsigned int mask)</div><div class="ttdef"><b>Definition:</b> internals.h:218</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77da35e5b57aba8df93946cc12b0619bdaa0"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da35e5b57aba8df93946cc12b0619bdaa0">IRQS_POLL_INPROGRESS</a></div><div class="ttdef"><b>Definition:</b> internals.h:56</div></div>
<div class="ttc" id="internals_8h_html_aae668e45e92f3e939cda927523f068cb"><div class="ttname"><a href="internals_8h.html#aae668e45e92f3e939cda927523f068cb">irq_put_desc_unlock</a></div><div class="ttdeci">static void irq_put_desc_unlock(struct irq_desc *desc, unsigned long flags)</div><div class="ttdef"><b>Definition:</b> internals.h:183</div></div>
<div class="ttc" id="internals_8h_html_a1cb248791025a7c45dec404e18856033"><div class="ttname"><a href="internals_8h.html#a1cb248791025a7c45dec404e18856033">__irq_set_trigger</a></div><div class="ttdeci">int __irq_set_trigger(struct irq_desc *desc, unsigned long flags)</div><div class="ttdef"><b>Definition:</b> manage.c:660</div></div>
<div class="ttc" id="internals_8h_html_a016e6d1b0184113ba9a4f57c39d0a567"><div class="ttname"><a href="internals_8h.html#a016e6d1b0184113ba9a4f57c39d0a567">irqd_clr_managed_shutdown</a></div><div class="ttdeci">static void irqd_clr_managed_shutdown(struct irq_data *d)</div><div class="ttdef"><b>Definition:</b> internals.h:213</div></div>
<div class="ttc" id="internals_8h_html_a1173c00685998a46190284635e85970a"><div class="ttname"><a href="internals_8h.html#a1173c00685998a46190284635e85970a">irqd_clr_move_pending</a></div><div class="ttdeci">static void irqd_clr_move_pending(struct irq_data *d)</div><div class="ttdef"><b>Definition:</b> internals.h:203</div></div>
<div class="ttc" id="internals_8h_html_ae2f0b90be469659f3e96700257c60abe"><div class="ttname"><a href="internals_8h.html#ae2f0b90be469659f3e96700257c60abe">kstat_incr_irqs_this_cpu</a></div><div class="ttdeci">static void kstat_incr_irqs_this_cpu(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:245</div></div>
<div class="ttc" id="internals_8h_html_affb3bc93f179c64ff8c07f5fe3117e3e"><div class="ttname"><a href="internals_8h.html#affb3bc93f179c64ff8c07f5fe3117e3e">check_irq_resend</a></div><div class="ttdeci">void check_irq_resend(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> resend.c:55</div></div>
<div class="ttc" id="internals_8h_html_a645f439e613cfecfb41a8585b30b8e1f"><div class="ttname"><a href="internals_8h.html#a645f439e613cfecfb41a8585b30b8e1f">irq_do_set_affinity</a></div><div class="ttdeci">int irq_do_set_affinity(struct irq_data *data, const struct cpumask *dest, bool force)</div></div>
<div class="ttc" id="internals_8h_html_a408d5a786fa5e0a674f4385abb5fe24b"><div class="ttname"><a href="internals_8h.html#a408d5a786fa5e0a674f4385abb5fe24b">irq_state_set_disabled</a></div><div class="ttdeci">static void irq_state_set_disabled(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:233</div></div>
<div class="ttc" id="internals_8h_html_a60dc33bb4de4745b5eb40774694f6152"><div class="ttname"><a href="internals_8h.html#a60dc33bb4de4745b5eb40774694f6152">register_irq_proc</a></div><div class="ttdeci">static void register_irq_proc(unsigned int irq, struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:114</div></div>
<div class="ttc" id="timings_8c_html_a47fcb76deb41db744ff77e80734a8177"><div class="ttname"><a href="timings_8c.html#a47fcb76deb41db744ff77e80734a8177">irq_timings_disable</a></div><div class="ttdeci">void irq_timings_disable(void)</div><div class="ttdef"><b>Definition:</b> timings.c:38</div></div>
<div class="ttc" id="internals_8h_html_af670d139f4c0c6cb20c92a9a09ab9a36"><div class="ttname"><a href="internals_8h.html#af670d139f4c0c6cb20c92a9a09ab9a36">irqd_has_set</a></div><div class="ttdeci">static bool irqd_has_set(struct irq_data *d, unsigned int mask)</div><div class="ttdef"><b>Definition:</b> internals.h:228</div></div>
<div class="ttc" id="timings_8c_html_a731fbd755b6c71dcfd81d3f3a585f3a8"><div class="ttname"><a href="timings_8c.html#a731fbd755b6c71dcfd81d3f3a585f3a8">irq_timings_alloc</a></div><div class="ttdeci">int irq_timings_alloc(int irq)</div><div class="ttdef"><b>Definition:</b> timings.c:333</div></div>
<div class="ttc" id="internals_8h_html_a353a2bdb0e742f2f18125ef62896d308"><div class="ttname"><a href="internals_8h.html#a353a2bdb0e742f2f18125ef62896d308">irq_add_debugfs_entry</a></div><div class="ttdeci">static void irq_add_debugfs_entry(unsigned int irq, struct irq_desc *d)</div><div class="ttdef"><b>Definition:</b> internals.h:472</div></div>
<div class="ttc" id="internals_8h_html_accc9b8d349de5c1bc63cea5b414ad0bd"><div class="ttname"><a href="internals_8h.html#accc9b8d349de5c1bc63cea5b414ad0bd">chip_bus_lock</a></div><div class="ttdeci">static void chip_bus_lock(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:138</div></div>
<div class="ttc" id="internals_8h_html_ac205be2172292384dd687b5471a87edda302e9fcf1a1af5b41c4f8cf3b3ec5f23"><div class="ttname"><a href="internals_8h.html#ac205be2172292384dd687b5471a87edda302e9fcf1a1af5b41c4f8cf3b3ec5f23">IRQTF_FORCED_THREAD</a></div><div class="ttdef"><b>Definition:</b> internals.h:37</div></div>
<div class="ttc" id="internals_8h_html_ac467b55d1430bc8fa0274897a1da6f11"><div class="ttname"><a href="internals_8h.html#ac467b55d1430bc8fa0274897a1da6f11">irq_init_generic_chip</a></div><div class="ttdeci">static void irq_init_generic_chip(struct irq_chip_generic *gc, const char *name, int num_ct, unsigned int irq_base, void __iomem *reg_base, irq_flow_handler_t handler)</div><div class="ttdef"><b>Definition:</b> internals.h:386</div></div>
<div class="ttc" id="internals_8h_html_a22beb7f32bcd2acd3151122908298b6b"><div class="ttname"><a href="internals_8h.html#a22beb7f32bcd2acd3151122908298b6b">irq_pm_remove_action</a></div><div class="ttdeci">static void irq_pm_remove_action(struct irq_desc *desc, struct irqaction *action)</div><div class="ttdef"><b>Definition:</b> internals.h:270</div></div>
<div class="ttc" id="internals_8h_html_aaccbcdf8f4f9f591d4b37914dc359e01"><div class="ttname"><a href="internals_8h.html#aaccbcdf8f4f9f591d4b37914dc359e01">__irq_put_desc_unlock</a></div><div class="ttdeci">void __irq_put_desc_unlock(struct irq_desc *desc, unsigned long flags, bool bus)</div><div class="ttdef"><b>Definition:</b> irqdesc.c:833</div></div>
<div class="ttc" id="internals_8h_html_ab5ae1758551cd1f363a3972ed4a816bf"><div class="ttname"><a href="internals_8h.html#ab5ae1758551cd1f363a3972ed4a816bf">register_handler_proc</a></div><div class="ttdeci">static void register_handler_proc(unsigned int irq, struct irqaction *action)</div><div class="ttdef"><b>Definition:</b> internals.h:116</div></div>
<div class="ttc" id="internals_8h_html_aab015eac0aa087964a7c4e0000cd43a5"><div class="ttname"><a href="internals_8h.html#aab015eac0aa087964a7c4e0000cd43a5">irq_wait_for_poll</a></div><div class="ttdeci">bool irq_wait_for_poll(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> spurious.c:36</div></div>
<div class="ttc" id="settings_8h_html"><div class="ttname"><a href="settings_8h.html">settings.h</a></div></div>
<div class="ttc" id="internals_8h_html_afd09237c9b6af06f29902452fbfce565"><div class="ttname"><a href="internals_8h.html#afd09237c9b6af06f29902452fbfce565">__irq_wake_thread</a></div><div class="ttdeci">void __irq_wake_thread(struct irq_desc *desc, struct irqaction *action)</div><div class="ttdef"><b>Definition:</b> handle.c:59</div></div>
<div class="ttc" id="internals_8h_html_a988935db61dcc4c581f2e0a60bfcb002"><div class="ttname"><a href="internals_8h.html#a988935db61dcc4c581f2e0a60bfcb002">irq_desc_get_pending_mask</a></div><div class="ttdeci">static struct cpumask * irq_desc_get_pending_mask(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:432</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77da26193906cddfa7cbcbc39bd840cb0823"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da26193906cddfa7cbcbc39bd840cb0823">IRQS_PENDING</a></div><div class="ttdef"><b>Definition:</b> internals.h:60</div></div>
<div class="ttc" id="internals_8h_html_a7ac051538477c643f8cd1e1b1180949d"><div class="ttname"><a href="internals_8h.html#a7ac051538477c643f8cd1e1b1180949d">unmask_threaded_irq</a></div><div class="ttdeci">void unmask_threaded_irq(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:434</div></div>
<div class="ttc" id="internals_8h_html_a1370b407cde6d0662cc435ac065b8ccd"><div class="ttname"><a href="internals_8h.html#a1370b407cde6d0662cc435ac065b8ccd">irq_desc_get_node</a></div><div class="ttdeci">static int irq_desc_get_node(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:251</div></div>
<div class="ttc" id="internals_8h_html_a653e7886dfab820bd504d3337bc9941e"><div class="ttname"><a href="internals_8h.html#a653e7886dfab820bd504d3337bc9941e">irq_can_move_pcntxt</a></div><div class="ttdeci">static bool irq_can_move_pcntxt(struct irq_data *data)</div><div class="ttdef"><b>Definition:</b> internals.h:416</div></div>
<div class="ttc" id="internals_8h_html_af966354d0da58415966fdd6ddc3cab16"><div class="ttname"><a href="internals_8h.html#af966354d0da58415966fdd6ddc3cab16">mask_irq</a></div><div class="ttdeci">void mask_irq(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:412</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77dacdf868e2170434edef0b9c46dac1244c"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77dacdf868e2170434edef0b9c46dac1244c">IRQS_SPURIOUS_DISABLED</a></div><div class="ttdef"><b>Definition:</b> internals.h:55</div></div>
<div class="ttc" id="internals_8h_html_a410e2b4a64d3c7784791d252407313ba"><div class="ttname"><a href="internals_8h.html#a410e2b4a64d3c7784791d252407313ba">irq_startup</a></div><div class="ttdeci">int irq_startup(struct irq_desc *desc, bool resend, bool force)</div><div class="ttdef"><b>Definition:</b> chip.c:255</div></div>
<div class="ttc" id="internals_8h_html_ac205be2172292384dd687b5471a87eddaeb1ef1b6f79910f00c3b6af50ef06a1a"><div class="ttname"><a href="internals_8h.html#ac205be2172292384dd687b5471a87eddaeb1ef1b6f79910f00c3b6af50ef06a1a">IRQTF_WARNED</a></div><div class="ttdef"><b>Definition:</b> internals.h:35</div></div>
<div class="ttc" id="internals_8h_html_a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2"><div class="ttname"><a href="internals_8h.html#a157d5577a5b2f5986037d0d09c7dc77da968468f02a043b46ddcd1209d3bfd6a2">IRQS_TIMINGS</a></div><div class="ttdef"><b>Definition:</b> internals.h:62</div></div>
<div class="ttc" id="internals_8h_html_af0ffe0896aacf5350c16fe0d37050ed2"><div class="ttname"><a href="internals_8h.html#af0ffe0896aacf5350c16fe0d37050ed2">irq_get_pending</a></div><div class="ttdeci">static void irq_get_pending(struct cpumask *mask, struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:429</div></div>
<div class="ttc" id="internals_8h_html_afe824f6e28f82a2f17738f391259d62e"><div class="ttname"><a href="internals_8h.html#afe824f6e28f82a2f17738f391259d62e">irq_pm_check_wakeup</a></div><div class="ttdeci">static bool irq_pm_check_wakeup(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:266</div></div>
<div class="ttc" id="internals_8h_html_afcefacc8203d38a13036812180e8398f"><div class="ttname"><a href="internals_8h.html#afcefacc8203d38a13036812180e8398f">__irq_get_desc_lock</a></div><div class="ttdeci">struct irq_desc * __irq_get_desc_lock(unsigned int irq, unsigned long *flags, bool bus, unsigned int check)</div><div class="ttdef"><b>Definition:</b> irqdesc.c:810</div></div>
<div class="ttc" id="internals_8h_html_a663b976585483989c44a7dfcdc5f69fa"><div class="ttname"><a href="internals_8h.html#a663b976585483989c44a7dfcdc5f69fa">irq_setup_affinity</a></div><div class="ttdeci">static int irq_setup_affinity(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:134</div></div>
<div class="ttc" id="internals_8h_html_ad6cf3c253bca2ba6d580df7c05bcccd1"><div class="ttname"><a href="internals_8h.html#ad6cf3c253bca2ba6d580df7c05bcccd1">irqd_set_managed_shutdown</a></div><div class="ttdeci">static void irqd_set_managed_shutdown(struct irq_data *d)</div><div class="ttdef"><b>Definition:</b> internals.h:208</div></div>
<div class="ttc" id="internals_8h_html_abfe2959452e7e80df7fe0197e70e704b"><div class="ttname"><a href="internals_8h.html#abfe2959452e7e80df7fe0197e70e704b">irq_get_desc_buslock</a></div><div class="ttdeci">static struct irq_desc * irq_get_desc_buslock(unsigned int irq, unsigned long *flags, unsigned int check)</div><div class="ttdef"><b>Definition:</b> internals.h:165</div></div>
<div class="ttc" id="internals_8h_html_a26df9dbbad50fed7ef6bcf00d8f47a28"><div class="ttname"><a href="internals_8h.html#a26df9dbbad50fed7ef6bcf00d8f47a28">handle_irq_event_percpu</a></div><div class="ttdeci">irqreturn_t handle_irq_event_percpu(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> handle.c:184</div></div>
<div class="ttc" id="internals_8h_html_a53252086563ad623c5e2b3a5df1ecb57"><div class="ttname"><a href="internals_8h.html#a53252086563ad623c5e2b3a5df1ecb57">__irqd_to_state</a></div><div class="ttdeci">#define __irqd_to_state(d)</div><div class="ttdef"><b>Definition:</b> internals.h:188</div></div>
<div class="ttc" id="internals_8h_html_a08f521e66761251b3f8afe661bce105e"><div class="ttname"><a href="internals_8h.html#a08f521e66761251b3f8afe661bce105e">__handle_irq_event_percpu</a></div><div class="ttdeci">irqreturn_t __handle_irq_event_percpu(struct irq_desc *desc, unsigned int *flags)</div><div class="ttdef"><b>Definition:</b> handle.c:137</div></div>
<div class="ttc" id="internals_8h_html_a2d79ca14fc518f414377bab344f10624"><div class="ttname"><a href="internals_8h.html#a2d79ca14fc518f414377bab344f10624">irq_disable</a></div><div class="ttdeci">void irq_disable(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> chip.c:377</div></div>
<div class="ttc" id="trace_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="trace_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> trace.c:1158</div></div>
<div class="ttc" id="internals_8h_html_aacc952157d4a58b881c0654754187ea2"><div class="ttname"><a href="internals_8h.html#aacc952157d4a58b881c0654754187ea2">irq_state_set_masked</a></div><div class="ttdeci">static void irq_state_set_masked(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> internals.h:238</div></div>
<div class="ttc" id="internals_8h_html_a94664932c0897ebcf2563753e89020d8"><div class="ttname"><a href="internals_8h.html#a94664932c0897ebcf2563753e89020d8">handle_irq_event</a></div><div class="ttdeci">irqreturn_t handle_irq_event(struct irq_desc *desc)</div><div class="ttdef"><b>Definition:</b> handle.c:198</div></div>
<div class="ttc" id="internals_8h_html_a6ebb0dc5a9ea94647d0b07b3cae6c51f"><div class="ttname"><a href="internals_8h.html#a6ebb0dc5a9ea94647d0b07b3cae6c51f">irq_set_thread_affinity</a></div><div class="ttdeci">void irq_set_thread_affinity(struct irq_desc *desc)</div></div>
<div class="ttc" id="internals_8h_html_aa2b8b9b80ce4670b5f2246b41df80b98"><div class="ttname"><a href="internals_8h.html#aa2b8b9b80ce4670b5f2246b41df80b98">irq_debugfs_copy_devname</a></div><div class="ttdeci">static void irq_debugfs_copy_devname(int irq, struct device *dev)</div><div class="ttdef"><b>Definition:</b> internals.h:478</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
