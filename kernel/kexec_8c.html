<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: kexec.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">kexec.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/capability.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/file.h&gt;</code><br />
<code>#include &lt;linux/kexec.h&gt;</code><br />
<code>#include &lt;linux/mutex.h&gt;</code><br />
<code>#include &lt;linux/list.h&gt;</code><br />
<code>#include &lt;linux/syscalls.h&gt;</code><br />
<code>#include &lt;linux/vmalloc.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="kexec__internal_8h_source.html">kexec_internal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for kexec.c:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c__incl.png" border="0" usemap="#kexec_8c" alt=""/></div>
<map name="kexec_8c" id="kexec_8c">
<area shape="rect" id="node11" href="kexec__internal_8h.html" title="kexec_internal.h" alt="" coords="1027,80,1145,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kexec_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9d446c2db0ac4f71bd6d0b50d4fe9076"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kexec_8c.html#a9d446c2db0ac4f71bd6d0b50d4fe9076">copy_user_segment_list</a> (struct kimage *image, unsigned long nr_segments, struct kexec_segment __user *segments)</td></tr>
<tr class="separator:a9d446c2db0ac4f71bd6d0b50d4fe9076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5189eadbeba1a3312545cd9846302fb2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kexec_8c.html#a5189eadbeba1a3312545cd9846302fb2">kimage_alloc_init</a> (struct kimage **rimage, unsigned long entry, unsigned long nr_segments, struct kexec_segment __user *segments, unsigned long flags)</td></tr>
<tr class="separator:a5189eadbeba1a3312545cd9846302fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee73ef56dc46c533dbbee8f26a04e0d4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kexec_8c.html#aee73ef56dc46c533dbbee8f26a04e0d4">do_kexec_load</a> (unsigned long entry, unsigned long nr_segments, struct kexec_segment __user *segments, unsigned long flags)</td></tr>
<tr class="separator:aee73ef56dc46c533dbbee8f26a04e0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b341d558acf3acb4a78ade494149898"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kexec_8c.html#a6b341d558acf3acb4a78ade494149898">kexec_load_check</a> (unsigned long nr_segments, unsigned long flags)</td></tr>
<tr class="separator:a6b341d558acf3acb4a78ade494149898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0607f45bbcdb0e28beafda975e92097"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kexec_8c.html#aa0607f45bbcdb0e28beafda975e92097">SYSCALL_DEFINE4</a> (kexec_load, unsigned long, entry, unsigned long, nr_segments, struct kexec_segment __user *, segments, unsigned long, flags)</td></tr>
<tr class="separator:aa0607f45bbcdb0e28beafda975e92097"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9d446c2db0ac4f71bd6d0b50d4fe9076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d446c2db0ac4f71bd6d0b50d4fe9076">&#9670;&nbsp;</a></span>copy_user_segment_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int copy_user_segment_list </td>
          <td>(</td>
          <td class="paramtype">struct kimage *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_segments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kexec_segment __user *&#160;</td>
          <td class="paramname"><em>segments</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_a9d446c2db0ac4f71bd6d0b50d4fe9076_icgraph.png" border="0" usemap="#kexec_8c_a9d446c2db0ac4f71bd6d0b50d4fe9076_icgraph" alt=""/></div>
<map name="kexec_8c_a9d446c2db0ac4f71bd6d0b50d4fe9076_icgraph" id="kexec_8c_a9d446c2db0ac4f71bd6d0b50d4fe9076_icgraph">
<area shape="rect" id="node2" href="kexec_8c.html#a5189eadbeba1a3312545cd9846302fb2" title="kimage_alloc_init" alt="" coords="216,5,339,32"/>
<area shape="rect" id="node3" href="kexec_8c.html#aee73ef56dc46c533dbbee8f26a04e0d4" title="do_kexec_load" alt="" coords="387,5,496,32"/>
<area shape="rect" id="node4" href="kexec_8c.html#aa0607f45bbcdb0e28beafda975e92097" title="SYSCALL_DEFINE4" alt="" coords="544,5,691,32"/>
</map>
</div>

</div>
</div>
<a id="aee73ef56dc46c533dbbee8f26a04e0d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee73ef56dc46c533dbbee8f26a04e0d4">&#9670;&nbsp;</a></span>do_kexec_load()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int do_kexec_load </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_segments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kexec_segment __user *&#160;</td>
          <td class="paramname"><em>segments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_cgraph.png" border="0" usemap="#kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_cgraph" alt=""/></div>
<map name="kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_cgraph" id="kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_cgraph">
<area shape="rect" id="node2" href="kexec__core_8c.html#adaf2acdcf5967c805f2919c15bd46834" title="arch_kexec_unprotect\l_crashkres" alt="" coords="163,327,314,369"/>
<area shape="rect" id="node3" href="kexec__core_8c.html#a6c01d80fb0b3aca0d201542a5a9db308" title="kimage_free" alt="" coords="421,184,514,211"/>
<area shape="rect" id="node13" href="kexec_8c.html#a5189eadbeba1a3312545cd9846302fb2" title="kimage_alloc_init" alt="" coords="406,495,529,521"/>
<area shape="rect" id="node22" href="kexec__core_8c.html#a6f079dda8ed2154d872b811eae322d34" title="kimage_crash_copy_vmcoreinfo" alt="" coords="363,411,572,437"/>
<area shape="rect" id="node23" href="kexec__core_8c.html#aac4ea4758702aaf8a78ef3321e10ccd0" title="kimage_load_segment" alt="" coords="163,545,315,572"/>
<area shape="rect" id="node31" href="kexec__core_8c.html#a5fe748f1a121a1045a04c7ef70c1b468" title="kimage_terminate" alt="" coords="176,596,301,623"/>
<area shape="rect" id="node32" href="kexec__core_8c.html#a474235a67debd15765c8b4bc31ded54f" title="arch_kexec_protect\l_crashkres" alt="" coords="171,647,307,689"/>
<area shape="rect" id="node4" href="crash__core_8c.html#aa0fb0f2bf061568113fdaf9cb1b5c0fa" title="crash_update_vmcoreinfo\l_safecopy" alt="" coords="625,286,795,327"/>
<area shape="rect" id="node5" href="kexec__core_8c.html#ac9a478714756cf8fe3fe496fe505a228" title="kimage_free_extra_pages" alt="" coords="848,293,1019,320"/>
<area shape="rect" id="node6" href="kexec__core_8c.html#a1249aea7a04a3476850067af7190fd20" title="kimage_free_page_list" alt="" coords="1072,381,1224,408"/>
<area shape="rect" id="node8" href="kexec__core_8c.html#af80ad7e801c34354c484c944b589272c" title="kimage_free_entry" alt="" coords="1083,16,1213,43"/>
<area shape="rect" id="node9" href="kexec__file_8c.html#ad3733a0eb3adcf6d5929ff444f6e44ea" title="kimage_file_post_load\l_cleanup" alt="" coords="635,67,785,109"/>
<area shape="rect" id="node10" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="908,133,959,160"/>
<area shape="rect" id="node7" href="kexec__core_8c.html#a1ea084e75448abf76f7796bf8b462f32" title="kimage_free_pages" alt="" coords="1285,381,1420,408"/>
<area shape="rect" id="node11" href="kexec__file_8c.html#ab4c6f383e7368d6b53e481be53b46fd5" title="arch_kimage_file_post\l_load_cleanup" alt="" coords="857,67,1009,109"/>
<area shape="rect" id="node12" href="kexec__file_8c.html#a9c03dc2af45124de86ddeb122b7e1eaa" title="kexec_image_post_load\l_cleanup_default" alt="" coords="1067,67,1229,109"/>
<area shape="rect" id="node14" href="kexec__core_8c.html#a79157cb65bce09050d81ec4fe3ec0a35" title="do_kimage_alloc_init" alt="" coords="639,520,781,547"/>
<area shape="rect" id="node15" href="kexec_8c.html#a9d446c2db0ac4f71bd6d0b50d4fe9076" title="copy_user_segment_list" alt="" coords="629,571,791,597"/>
<area shape="rect" id="node16" href="kexec__core_8c.html#ad76701ea7c05410bd25aa063ed2f15f4" title="sanity_check_segment_list" alt="" coords="620,621,800,648"/>
<area shape="rect" id="node17" href="kexec__core_8c.html#aae1e64597264feba43408e9ecfb297e6" title="kimage_alloc_control\l_pages" alt="" coords="638,403,782,445"/>
<area shape="rect" id="node18" href="kexec__core_8c.html#a320377d265558b60e64e6407ca1fe0b8" title="kimage_alloc_normal\l_control_pages" alt="" coords="861,521,1005,562"/>
<area shape="rect" id="node21" href="kexec__core_8c.html#a2e3a235b5e1a7e5319eb525b0f01197e" title="kimage_alloc_crash\l_control_pages" alt="" coords="865,403,1002,445"/>
<area shape="rect" id="node19" href="kexec__core_8c.html#a48d2082629f8b55877bedf9704b5d830" title="kimage_alloc_pages" alt="" coords="1283,587,1423,613"/>
<area shape="rect" id="node20" href="kexec__core_8c.html#aca269cf68860bafdb51ae138bc3fa705" title="kimage_is_destination\l_range" alt="" coords="1277,521,1428,562"/>
<area shape="rect" id="node24" href="kexec__core_8c.html#aeb99e95fef5152a6d6fa06cd256d1438" title="kimage_load_normal\l_segment" alt="" coords="397,665,538,706"/>
<area shape="rect" id="node30" href="kexec__core_8c.html#a272212ddc4119039a61391e5adb52644" title="kimage_load_crash_segment" alt="" coords="372,731,563,757"/>
<area shape="rect" id="node25" href="kexec__core_8c.html#a8700f74ca157b9f0924c389453abd8df" title="kimage_set_destination" alt="" coords="631,773,789,800"/>
<area shape="rect" id="node27" href="kexec__core_8c.html#ae2777530df3960172f346e52ca1c795d" title="kimage_alloc_page" alt="" coords="1081,637,1215,664"/>
<area shape="rect" id="node29" href="kexec__core_8c.html#a313af6e685cf83fc71f442e24d194e4f" title="kimage_add_page" alt="" coords="647,723,773,749"/>
<area shape="rect" id="node26" href="kexec__core_8c.html#acd32207a63fa9d285d104edf34275339" title="kimage_add_entry" alt="" coords="869,723,997,749"/>
<area shape="rect" id="node28" href="kexec__core_8c.html#a31272d7d9591f77b4c7739d99716da9e" title="kimage_dst_used" alt="" coords="1291,637,1415,664"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_icgraph.png" border="0" usemap="#kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_icgraph" alt=""/></div>
<map name="kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_icgraph" id="kexec_8c_aee73ef56dc46c533dbbee8f26a04e0d4_icgraph">
<area shape="rect" id="node2" href="kexec_8c.html#aa0607f45bbcdb0e28beafda975e92097" title="SYSCALL_DEFINE4" alt="" coords="163,5,309,32"/>
</map>
</div>

</div>
</div>
<a id="a6b341d558acf3acb4a78ade494149898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b341d558acf3acb4a78ade494149898">&#9670;&nbsp;</a></span>kexec_load_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kexec_load_check </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_segments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_a6b341d558acf3acb4a78ade494149898_icgraph.png" border="0" usemap="#kexec_8c_a6b341d558acf3acb4a78ade494149898_icgraph" alt=""/></div>
<map name="kexec_8c_a6b341d558acf3acb4a78ade494149898_icgraph" id="kexec_8c_a6b341d558acf3acb4a78ade494149898_icgraph">
<area shape="rect" id="node2" href="kexec_8c.html#aa0607f45bbcdb0e28beafda975e92097" title="SYSCALL_DEFINE4" alt="" coords="184,5,331,32"/>
</map>
</div>

</div>
</div>
<a id="a5189eadbeba1a3312545cd9846302fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5189eadbeba1a3312545cd9846302fb2">&#9670;&nbsp;</a></span>kimage_alloc_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int kimage_alloc_init </td>
          <td>(</td>
          <td class="paramtype">struct kimage **&#160;</td>
          <td class="paramname"><em>rimage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nr_segments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kexec_segment __user *&#160;</td>
          <td class="paramname"><em>segments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_a5189eadbeba1a3312545cd9846302fb2_cgraph.png" border="0" usemap="#kexec_8c_a5189eadbeba1a3312545cd9846302fb2_cgraph" alt=""/></div>
<map name="kexec_8c_a5189eadbeba1a3312545cd9846302fb2_cgraph" id="kexec_8c_a5189eadbeba1a3312545cd9846302fb2_cgraph">
<area shape="rect" id="node2" href="kexec__core_8c.html#a79157cb65bce09050d81ec4fe3ec0a35" title="do_kimage_alloc_init" alt="" coords="195,5,337,32"/>
<area shape="rect" id="node3" href="kexec_8c.html#a9d446c2db0ac4f71bd6d0b50d4fe9076" title="copy_user_segment_list" alt="" coords="185,56,347,83"/>
<area shape="rect" id="node4" href="kexec__core_8c.html#ad76701ea7c05410bd25aa063ed2f15f4" title="sanity_check_segment_list" alt="" coords="176,107,356,133"/>
<area shape="rect" id="node5" href="kexec__core_8c.html#aae1e64597264feba43408e9ecfb297e6" title="kimage_alloc_control\l_pages" alt="" coords="194,158,338,199"/>
<area shape="rect" id="node9" href="kexec__core_8c.html#a1249aea7a04a3476850067af7190fd20" title="kimage_free_page_list" alt="" coords="596,191,748,217"/>
<area shape="rect" id="node12" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="241,275,291,301"/>
<area shape="rect" id="node6" href="kexec__core_8c.html#a320377d265558b60e64e6407ca1fe0b8" title="kimage_alloc_normal\l_control_pages" alt="" coords="404,93,548,134"/>
<area shape="rect" id="node11" href="kexec__core_8c.html#a2e3a235b5e1a7e5319eb525b0f01197e" title="kimage_alloc_crash\l_control_pages" alt="" coords="407,158,545,199"/>
<area shape="rect" id="node7" href="kexec__core_8c.html#a48d2082629f8b55877bedf9704b5d830" title="kimage_alloc_pages" alt="" coords="602,71,742,97"/>
<area shape="rect" id="node8" href="kexec__core_8c.html#aca269cf68860bafdb51ae138bc3fa705" title="kimage_is_destination\l_range" alt="" coords="597,122,747,163"/>
<area shape="rect" id="node10" href="kexec__core_8c.html#a1ea084e75448abf76f7796bf8b462f32" title="kimage_free_pages" alt="" coords="796,191,931,217"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_a5189eadbeba1a3312545cd9846302fb2_icgraph.png" border="0" usemap="#kexec_8c_a5189eadbeba1a3312545cd9846302fb2_icgraph" alt=""/></div>
<map name="kexec_8c_a5189eadbeba1a3312545cd9846302fb2_icgraph" id="kexec_8c_a5189eadbeba1a3312545cd9846302fb2_icgraph">
<area shape="rect" id="node2" href="kexec_8c.html#aee73ef56dc46c533dbbee8f26a04e0d4" title="do_kexec_load" alt="" coords="176,5,285,32"/>
<area shape="rect" id="node3" href="kexec_8c.html#aa0607f45bbcdb0e28beafda975e92097" title="SYSCALL_DEFINE4" alt="" coords="333,5,480,32"/>
</map>
</div>

</div>
</div>
<a id="aa0607f45bbcdb0e28beafda975e92097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0607f45bbcdb0e28beafda975e92097">&#9670;&nbsp;</a></span>SYSCALL_DEFINE4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SYSCALL_DEFINE4 </td>
          <td>(</td>
          <td class="paramtype">kexec_load&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>long</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">entry&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>long</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nr_segments&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kexec_segment __user *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">segments&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>long</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">flags&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kexec_8c_aa0607f45bbcdb0e28beafda975e92097_cgraph.png" border="0" usemap="#kexec_8c_aa0607f45bbcdb0e28beafda975e92097_cgraph" alt=""/></div>
<map name="kexec_8c_aa0607f45bbcdb0e28beafda975e92097_cgraph" id="kexec_8c_aa0607f45bbcdb0e28beafda975e92097_cgraph">
<area shape="rect" id="node2" href="kexec_8c.html#a6b341d558acf3acb4a78ade494149898" title="kexec_load_check" alt="" coords="221,416,352,443"/>
<area shape="rect" id="node3" href="mutex_8c.html#a07392c7ea61c61d5fcaca0a3d017bf1f" title="mutex_trylock" alt="" coords="235,863,339,889"/>
<area shape="rect" id="node9" href="kexec_8c.html#aee73ef56dc46c533dbbee8f26a04e0d4" title="do_kexec_load" alt="" coords="232,467,341,493"/>
<area shape="rect" id="node38" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="235,939,338,965"/>
<area shape="rect" id="node49" href="compat_8c.html#a7fbe68702550c236b45654161efc49ed" title="compat_alloc_user_space" alt="" coords="200,1015,373,1041"/>
<area shape="rect" id="node4" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="467,849,585,876"/>
<area shape="rect" id="node8" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="457,900,595,927"/>
<area shape="rect" id="node5" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="706,863,842,905"/>
<area shape="rect" id="node6" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="953,841,1059,868"/>
<area shape="rect" id="node7" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="955,929,1057,956"/>
<area shape="rect" id="node10" href="kexec__core_8c.html#adaf2acdcf5967c805f2919c15bd46834" title="arch_kexec_unprotect\l_crashkres" alt="" coords="451,401,601,442"/>
<area shape="rect" id="node11" href="kexec__core_8c.html#a6c01d80fb0b3aca0d201542a5a9db308" title="kimage_free" alt="" coords="479,207,573,233"/>
<area shape="rect" id="node21" href="kexec_8c.html#a5189eadbeba1a3312545cd9846302fb2" title="kimage_alloc_init" alt="" coords="465,517,587,544"/>
<area shape="rect" id="node29" href="kexec__core_8c.html#a6f079dda8ed2154d872b811eae322d34" title="kimage_crash_copy_vmcoreinfo" alt="" coords="421,467,631,493"/>
<area shape="rect" id="node30" href="kexec__core_8c.html#aac4ea4758702aaf8a78ef3321e10ccd0" title="kimage_load_segment" alt="" coords="450,695,602,721"/>
<area shape="rect" id="node36" href="kexec__core_8c.html#a5fe748f1a121a1045a04c7ef70c1b468" title="kimage_terminate" alt="" coords="463,284,589,311"/>
<area shape="rect" id="node37" href="kexec__core_8c.html#a474235a67debd15765c8b4bc31ded54f" title="arch_kexec_protect\l_crashkres" alt="" coords="458,335,594,377"/>
<area shape="rect" id="node12" href="crash__core_8c.html#aa0fb0f2bf061568113fdaf9cb1b5c0fa" title="crash_update_vmcoreinfo\l_safecopy" alt="" coords="689,309,859,350"/>
<area shape="rect" id="node13" href="kexec__core_8c.html#ac9a478714756cf8fe3fe496fe505a228" title="kimage_free_extra_pages" alt="" coords="689,207,859,233"/>
<area shape="rect" id="node14" href="kexec__core_8c.html#a1249aea7a04a3476850067af7190fd20" title="kimage_free_page_list" alt="" coords="1148,349,1300,376"/>
<area shape="rect" id="node16" href="kexec__core_8c.html#af80ad7e801c34354c484c944b589272c" title="kimage_free_entry" alt="" coords="1159,5,1289,32"/>
<area shape="rect" id="node17" href="kexec__file_8c.html#ad3733a0eb3adcf6d5929ff444f6e44ea" title="kimage_file_post_load\l_cleanup" alt="" coords="699,141,849,182"/>
<area shape="rect" id="node18" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="981,257,1031,284"/>
<area shape="rect" id="node15" href="kexec__core_8c.html#a1ea084e75448abf76f7796bf8b462f32" title="kimage_free_pages" alt="" coords="1353,349,1488,376"/>
<area shape="rect" id="node19" href="kexec__file_8c.html#ab4c6f383e7368d6b53e481be53b46fd5" title="arch_kimage_file_post\l_load_cleanup" alt="" coords="930,57,1082,98"/>
<area shape="rect" id="node20" href="kexec__file_8c.html#a9c03dc2af45124de86ddeb122b7e1eaa" title="kexec_image_post_load\l_cleanup_default" alt="" coords="1143,57,1305,98"/>
<area shape="rect" id="node22" href="kexec__core_8c.html#a79157cb65bce09050d81ec4fe3ec0a35" title="do_kimage_alloc_init" alt="" coords="703,644,845,671"/>
<area shape="rect" id="node23" href="kexec_8c.html#a9d446c2db0ac4f71bd6d0b50d4fe9076" title="copy_user_segment_list" alt="" coords="693,543,855,569"/>
<area shape="rect" id="node24" href="kexec__core_8c.html#ad76701ea7c05410bd25aa063ed2f15f4" title="sanity_check_segment_list" alt="" coords="684,593,864,620"/>
<area shape="rect" id="node25" href="kexec__core_8c.html#aae1e64597264feba43408e9ecfb297e6" title="kimage_alloc_control\l_pages" alt="" coords="702,426,846,467"/>
<area shape="rect" id="node26" href="kexec__core_8c.html#a320377d265558b60e64e6407ca1fe0b8" title="kimage_alloc_normal\l_control_pages" alt="" coords="934,543,1078,585"/>
<area shape="rect" id="node28" href="kexec__core_8c.html#a2e3a235b5e1a7e5319eb525b0f01197e" title="kimage_alloc_crash\l_control_pages" alt="" coords="937,426,1075,467"/>
<area shape="rect" id="node27" href="kexec__core_8c.html#a48d2082629f8b55877bedf9704b5d830" title="kimage_alloc_pages" alt="" coords="1154,588,1294,615"/>
<area shape="rect" id="node31" href="kexec__core_8c.html#aeb99e95fef5152a6d6fa06cd256d1438" title="kimage_load_normal\l_segment" alt="" coords="703,746,845,787"/>
<area shape="rect" id="node35" href="kexec__core_8c.html#a272212ddc4119039a61391e5adb52644" title="kimage_load_crash_segment" alt="" coords="679,695,869,721"/>
<area shape="rect" id="node32" href="kexec__core_8c.html#a8700f74ca157b9f0924c389453abd8df" title="kimage_set_destination" alt="" coords="927,652,1085,679"/>
<area shape="rect" id="node33" href="kexec__core_8c.html#ae2777530df3960172f346e52ca1c795d" title="kimage_alloc_page" alt="" coords="939,753,1073,780"/>
<area shape="rect" id="node34" href="kexec__core_8c.html#a313af6e685cf83fc71f442e24d194e4f" title="kimage_add_page" alt="" coords="943,703,1069,729"/>
<area shape="rect" id="node39" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="453,951,599,977"/>
<area shape="rect" id="node40" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="438,1001,614,1028"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="727,1081,821,1108"/>
<area shape="rect" id="node42" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="713,980,835,1007"/>
<area shape="rect" id="node45" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="730,1183,818,1209"/>
<area shape="rect" id="node47" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="931,1031,1081,1073"/>
<area shape="rect" id="node48" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="917,1106,1095,1147"/>
<area shape="rect" id="node43" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="925,980,1087,1007"/>
<area shape="rect" id="node44" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="1173,1039,1275,1065"/>
<area shape="rect" id="node46" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="943,1183,1069,1209"/>
<area shape="rect" id="node50" href="compat_8c.html#af35d5a6db42a72265f2b451d11b732ab" title="EXPORT_SYMBOL_GPL" alt="" coords="440,1052,612,1079"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
