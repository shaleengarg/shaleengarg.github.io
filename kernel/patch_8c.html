<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: livepatch/patch.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('patch_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">patch.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/livepatch.h&gt;</code><br />
<code>#include &lt;linux/list.h&gt;</code><br />
<code>#include &lt;linux/ftrace.h&gt;</code><br />
<code>#include &lt;linux/rculist.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/bug.h&gt;</code><br />
<code>#include &lt;linux/printk.h&gt;</code><br />
<code>#include &quot;<a class="el" href="core_8h_source.html">core.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="patch_8h_source.html">patch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transition_8h_source.html">transition.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for patch.c:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c__incl.png" border="0" usemap="#livepatch_2patch_8c" alt=""/></div>
<map name="livepatch_2patch_8c" id="livepatch_2patch_8c">
<area shape="rect" id="node9" href="core_8h.html" title="core.h" alt="" coords="24,80,82,107"/>
<area shape="rect" id="node10" href="patch_8h.html" title="patch.h" alt="" coords="218,80,283,107"/>
<area shape="rect" id="node11" href="transition_8h.html" title="transition.h" alt="" coords="107,80,194,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1f8c165bf4196327bc3abff648276d92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a1f8c165bf4196327bc3abff648276d92">pr_fmt</a>(fmt)&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td></tr>
<tr class="separator:a1f8c165bf4196327bc3abff648276d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5b14a5e5ca1360c206f72b19508911f5"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a5b14a5e5ca1360c206f72b19508911f5">LIST_HEAD</a> (<a class="el" href="structklp__ops.html">klp_ops</a>)</td></tr>
<tr class="separator:a5b14a5e5ca1360c206f72b19508911f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b76f500195191eb6f4ab2bc81bc62c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structklp__ops.html">klp_ops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a08b76f500195191eb6f4ab2bc81bc62c">klp_find_ops</a> (unsigned long old_addr)</td></tr>
<tr class="separator:a08b76f500195191eb6f4ab2bc81bc62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b23aafde9ee3df5dec3317eff0143f"><td class="memItemLeft" align="right" valign="top">static void notrace&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a57b23aafde9ee3df5dec3317eff0143f">klp_ftrace_handler</a> (unsigned long ip, unsigned long parent_ip, struct ftrace_ops *fops, struct pt_regs *regs)</td></tr>
<tr class="separator:a57b23aafde9ee3df5dec3317eff0143f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bef666cb16d03bcd767ca2ba799fd23"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a8bef666cb16d03bcd767ca2ba799fd23">klp_get_ftrace_location</a> (unsigned long faddr)</td></tr>
<tr class="separator:a8bef666cb16d03bcd767ca2ba799fd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7dbffb8b4cec976b6601d39ef879ffb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#af7dbffb8b4cec976b6601d39ef879ffb">klp_unpatch_func</a> (struct klp_func *<a class="el" href="verifier_8c.html#a8d91ae36fda0b119a50286ad84fdbf31">func</a>)</td></tr>
<tr class="separator:af7dbffb8b4cec976b6601d39ef879ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af526b7063a765ae7156cab82f573c5a7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#af526b7063a765ae7156cab82f573c5a7">klp_patch_func</a> (struct klp_func *<a class="el" href="verifier_8c.html#a8d91ae36fda0b119a50286ad84fdbf31">func</a>)</td></tr>
<tr class="separator:af526b7063a765ae7156cab82f573c5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29d6690945b7ee476391b31b08dd9fe1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a29d6690945b7ee476391b31b08dd9fe1">klp_unpatch_object</a> (struct klp_object *obj)</td></tr>
<tr class="separator:a29d6690945b7ee476391b31b08dd9fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ee20b12edfc70ca35deaf875315d81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#af3ee20b12edfc70ca35deaf875315d81">klp_patch_object</a> (struct klp_object *obj)</td></tr>
<tr class="separator:af3ee20b12edfc70ca35deaf875315d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a616de8246a1b75823ddc0b615547d605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="patch_8c.html#a616de8246a1b75823ddc0b615547d605">klp_unpatch_objects</a> (struct klp_patch *patch)</td></tr>
<tr class="separator:a616de8246a1b75823ddc0b615547d605"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1f8c165bf4196327bc3abff648276d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8c165bf4196327bc3abff648276d92">&#9670;&nbsp;</a></span>pr_fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pr_fmt</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fmt</td><td>)</td>
          <td>&#160;&#160;&#160;KBUILD_MODNAME &quot;: &quot; fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a08b76f500195191eb6f4ab2bc81bc62c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08b76f500195191eb6f4ab2bc81bc62c">&#9670;&nbsp;</a></span>klp_find_ops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structklp__ops.html">klp_ops</a>* klp_find_ops </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>old_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a08b76f500195191eb6f4ab2bc81bc62c_icgraph.png" border="0" usemap="#patch_8c_a08b76f500195191eb6f4ab2bc81bc62c_icgraph" alt=""/></div>
<map name="patch_8c_a08b76f500195191eb6f4ab2bc81bc62c_icgraph" id="patch_8c_a08b76f500195191eb6f4ab2bc81bc62c_icgraph">
<area shape="rect" id="node2" href="patch_8c.html#af7dbffb8b4cec976b6601d39ef879ffb" title="klp_unpatch_func" alt="" coords="162,157,286,184"/>
<area shape="rect" id="node22" href="patch_8c.html#af526b7063a765ae7156cab82f573c5a7" title="klp_patch_func" alt="" coords="360,208,471,235"/>
<area shape="rect" id="node23" href="transition_8c.html#af4c1562d9d37ac73f2246595fba0c3db" title="klp_check_stack_func" alt="" coords="148,259,300,285"/>
<area shape="rect" id="node3" href="patch_8h.html#a29d6690945b7ee476391b31b08dd9fe1" title="klp_unpatch_object" alt="" coords="348,157,483,184"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#a2b2b2f643b283a0266a6a79a0bc7e61c" title="klp_cleanup_module\l_patches_limited" alt="" coords="531,91,671,133"/>
<area shape="rect" id="node11" href="patch_8h.html#af3ee20b12edfc70ca35deaf875315d81" title="klp_patch_object" alt="" coords="541,208,661,235"/>
<area shape="rect" id="node15" href="patch_8h.html#a616de8246a1b75823ddc0b615547d605" title="klp_unpatch_objects" alt="" coords="531,157,672,184"/>
<area shape="rect" id="node5" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="731,107,868,133"/>
<area shape="rect" id="node9" href="livepatch_2core_8c.html#a12f8594378c52ed13fd0cbeed874da04" title="klp_module_going" alt="" coords="736,56,863,83"/>
<area shape="rect" id="node6" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="936,107,1099,133"/>
<area shape="rect" id="node7" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="1185,56,1279,83"/>
<area shape="rect" id="node8" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="1356,56,1503,83"/>
<area shape="rect" id="node10" href="module_8c.html#a2b23135bbd687f45e5f0dec793b63245" title="do_init_module" alt="" coords="963,5,1072,32"/>
<area shape="rect" id="node12" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="1163,208,1301,235"/>
<area shape="rect" id="node13" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="1368,183,1491,209"/>
<area shape="rect" id="node14" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="1378,233,1481,260"/>
<area shape="rect" id="node16" href="transition_8c.html#a29034663b3734a48211634afed32aa23" title="klp_complete_transition" alt="" coords="720,157,879,184"/>
<area shape="rect" id="node17" href="transition_8h.html#af2096810759ff8d350bdc66cb32ed8f1" title="klp_cancel_transition" alt="" coords="945,157,1089,184"/>
<area shape="rect" id="node18" href="transition_8h.html#a85f110ba9a9179e3f24a0027df4f8272" title="klp_try_complete_transition" alt="" coords="927,259,1108,285"/>
<area shape="rect" id="node19" href="livepatch_2core_8c.html#afa4ba4374cd55e2a6f5a0b417cab253d" title="__klp_disable_patch" alt="" coords="1162,259,1302,285"/>
<area shape="rect" id="node21" href="transition_8c.html#ab325a49c08fb2978a145ded9d61fe712" title="klp_transition_work_fn" alt="" coords="1156,309,1308,336"/>
<area shape="rect" id="node20" href="livepatch_2core_8c.html#a2d6c762fd7f186cf5539447a6e2f9224" title="klp_disable_patch" alt="" coords="1366,284,1493,311"/>
<area shape="rect" id="node24" href="transition_8c.html#af3cc3e11bb0f0a1a84cd70fd1edaeb9b" title="klp_check_stack" alt="" coords="355,259,475,285"/>
<area shape="rect" id="node25" href="transition_8c.html#ad738aaa26becdd78e789858d9d95ef47" title="klp_try_switch_task" alt="" coords="730,259,869,285"/>
</map>
</div>

</div>
</div>
<a id="a57b23aafde9ee3df5dec3317eff0143f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b23aafde9ee3df5dec3317eff0143f">&#9670;&nbsp;</a></span>klp_ftrace_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void notrace klp_ftrace_handler </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>parent_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct ftrace_ops *&#160;</td>
          <td class="paramname"><em>fops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pt_regs *&#160;</td>
          <td class="paramname"><em>regs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a57b23aafde9ee3df5dec3317eff0143f_icgraph.png" border="0" usemap="#patch_8c_a57b23aafde9ee3df5dec3317eff0143f_icgraph" alt=""/></div>
<map name="patch_8c_a57b23aafde9ee3df5dec3317eff0143f_icgraph" id="patch_8c_a57b23aafde9ee3df5dec3317eff0143f_icgraph">
<area shape="rect" id="node2" href="patch_8c.html#af526b7063a765ae7156cab82f573c5a7" title="klp_patch_func" alt="" coords="181,81,292,108"/>
<area shape="rect" id="node3" href="patch_8h.html#af3ee20b12edfc70ca35deaf875315d81" title="klp_patch_object" alt="" coords="340,81,460,108"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="508,56,645,83"/>
<area shape="rect" id="node7" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="508,107,645,133"/>
<area shape="rect" id="node5" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="713,5,836,32"/>
<area shape="rect" id="node6" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="723,56,826,83"/>
<area shape="rect" id="node8" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="693,107,856,133"/>
<area shape="rect" id="node9" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="904,107,999,133"/>
<area shape="rect" id="node10" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="1047,107,1193,133"/>
</map>
</div>

</div>
</div>
<a id="a8bef666cb16d03bcd767ca2ba799fd23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bef666cb16d03bcd767ca2ba799fd23">&#9670;&nbsp;</a></span>klp_get_ftrace_location()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long klp_get_ftrace_location </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>faddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a8bef666cb16d03bcd767ca2ba799fd23_icgraph.png" border="0" usemap="#patch_8c_a8bef666cb16d03bcd767ca2ba799fd23_icgraph" alt=""/></div>
<map name="patch_8c_a8bef666cb16d03bcd767ca2ba799fd23_icgraph" id="patch_8c_a8bef666cb16d03bcd767ca2ba799fd23_icgraph">
<area shape="rect" id="node2" href="patch_8c.html#af7dbffb8b4cec976b6601d39ef879ffb" title="klp_unpatch_func" alt="" coords="209,129,333,155"/>
<area shape="rect" id="node22" href="patch_8c.html#af526b7063a765ae7156cab82f573c5a7" title="klp_patch_func" alt="" coords="393,179,504,206"/>
<area shape="rect" id="node3" href="patch_8h.html#a29d6690945b7ee476391b31b08dd9fe1" title="klp_unpatch_object" alt="" coords="381,129,516,155"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#a2b2b2f643b283a0266a6a79a0bc7e61c" title="klp_cleanup_module\l_patches_limited" alt="" coords="565,63,705,104"/>
<area shape="rect" id="node11" href="patch_8h.html#af3ee20b12edfc70ca35deaf875315d81" title="klp_patch_object" alt="" coords="575,179,695,206"/>
<area shape="rect" id="node15" href="patch_8h.html#a616de8246a1b75823ddc0b615547d605" title="klp_unpatch_objects" alt="" coords="564,129,705,155"/>
<area shape="rect" id="node5" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="764,74,901,101"/>
<area shape="rect" id="node9" href="livepatch_2core_8c.html#a12f8594378c52ed13fd0cbeed874da04" title="klp_module_going" alt="" coords="769,23,896,50"/>
<area shape="rect" id="node6" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="969,74,1132,101"/>
<area shape="rect" id="node7" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="1218,23,1313,50"/>
<area shape="rect" id="node8" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="1389,23,1536,50"/>
<area shape="rect" id="node10" href="module_8c.html#a2b23135bbd687f45e5f0dec793b63245" title="do_init_module" alt="" coords="996,23,1105,50"/>
<area shape="rect" id="node12" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="1197,175,1334,202"/>
<area shape="rect" id="node13" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="1401,175,1524,202"/>
<area shape="rect" id="node14" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="1411,125,1514,151"/>
<area shape="rect" id="node16" href="transition_8c.html#a29034663b3734a48211634afed32aa23" title="klp_complete_transition" alt="" coords="753,129,912,155"/>
<area shape="rect" id="node17" href="transition_8h.html#af2096810759ff8d350bdc66cb32ed8f1" title="klp_cancel_transition" alt="" coords="979,175,1123,202"/>
<area shape="rect" id="node18" href="transition_8h.html#a85f110ba9a9179e3f24a0027df4f8272" title="klp_try_complete_transition" alt="" coords="960,125,1141,151"/>
<area shape="rect" id="node19" href="livepatch_2core_8c.html#afa4ba4374cd55e2a6f5a0b417cab253d" title="__klp_disable_patch" alt="" coords="1195,74,1335,101"/>
<area shape="rect" id="node21" href="transition_8c.html#ab325a49c08fb2978a145ded9d61fe712" title="klp_transition_work_fn" alt="" coords="1189,125,1341,151"/>
<area shape="rect" id="node20" href="livepatch_2core_8c.html#a2d6c762fd7f186cf5539447a6e2f9224" title="klp_disable_patch" alt="" coords="1399,74,1526,101"/>
</map>
</div>

</div>
</div>
<a id="af526b7063a765ae7156cab82f573c5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af526b7063a765ae7156cab82f573c5a7">&#9670;&nbsp;</a></span>klp_patch_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int klp_patch_func </td>
          <td>(</td>
          <td class="paramtype">struct klp_func *&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_af526b7063a765ae7156cab82f573c5a7_cgraph.png" border="0" usemap="#patch_8c_af526b7063a765ae7156cab82f573c5a7_cgraph" alt=""/></div>
<map name="patch_8c_af526b7063a765ae7156cab82f573c5a7_cgraph" id="patch_8c_af526b7063a765ae7156cab82f573c5a7_cgraph">
<area shape="rect" id="node2" href="patch_8c.html#a08b76f500195191eb6f4ab2bc81bc62c" title="klp_find_ops" alt="" coords="196,13,291,39"/>
<area shape="rect" id="node3" href="patch_8c.html#a8bef666cb16d03bcd767ca2ba799fd23" title="klp_get_ftrace_location" alt="" coords="165,63,321,90"/>
<area shape="rect" id="node4" href="patch_8c.html#a57b23aafde9ee3df5dec3317eff0143f" title="klp_ftrace_handler" alt="" coords="179,114,307,141"/>
<area shape="rect" id="node5" href="ftrace_8c.html#ac157b77223d3e3e05843224085442b2a" title="register_ftrace_function" alt="" coords="164,165,323,191"/>
<area shape="rect" id="node50" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="218,215,269,242"/>
<area shape="rect" id="node6" href="ftrace_8c.html#a4babadae8f877f3410a7f4d7e7e3f1bf" title="ftrace_ops_init" alt="" coords="403,89,510,115"/>
<area shape="rect" id="node7" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="412,190,501,217"/>
<area shape="rect" id="node47" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="405,139,508,166"/>
<area shape="rect" id="node49" href="ftrace_8c.html#a1b0668b09d3a150c129500775fa394cc" title="EXPORT_SYMBOL_GPL" alt="" coords="371,241,543,267"/>
<area shape="rect" id="node8" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="599,215,745,242"/>
<area shape="rect" id="node9" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="591,266,753,293"/>
<area shape="rect" id="node46" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="603,165,741,191"/>
<area shape="rect" id="node10" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="801,125,904,151"/>
<area shape="rect" id="node11" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="952,521,1112,547"/>
<area shape="rect" id="node12" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1195,403,1313,430"/>
<area shape="rect" id="node16" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1411,251,1563,278"/>
<area shape="rect" id="node30" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1174,623,1334,664"/>
<area shape="rect" id="node32" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1401,692,1574,733"/>
<area shape="rect" id="node34" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1160,689,1348,715"/>
<area shape="rect" id="node35" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1403,838,1572,865"/>
<area shape="rect" id="node36" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1407,521,1567,547"/>
<area shape="rect" id="node37" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1191,302,1317,329"/>
<area shape="rect" id="node38" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1168,791,1340,832"/>
<area shape="rect" id="node39" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1396,571,1579,598"/>
<area shape="rect" id="node42" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1187,353,1321,379"/>
<area shape="rect" id="node43" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1174,455,1334,496"/>
<area shape="rect" id="node13" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1647,347,1783,388"/>
<area shape="rect" id="node14" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1886,339,1993,366"/>
<area shape="rect" id="node15" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="2088,289,2191,315"/>
<area shape="rect" id="node17" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1627,150,1803,177"/>
<area shape="rect" id="node18" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1892,187,1987,214"/>
<area shape="rect" id="node19" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1878,289,2001,315"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1895,238,1983,265"/>
<area shape="rect" id="node28" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1864,5,2015,47"/>
<area shape="rect" id="node29" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1851,71,2028,112"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="2076,693,2203,719"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2263,693,2377,719"/>
<area shape="rect" id="node27" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2251,638,2389,665"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2437,617,2532,643"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2447,667,2522,694"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2440,718,2529,745"/>
<area shape="rect" id="node26" href="sched_2core_8c.html#a823893b4e55dfd4d171cb9513cea7a2b" title="ttwu_stat" alt="" coords="2447,769,2523,795"/>
<area shape="rect" id="node31" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1401,626,1573,653"/>
<area shape="rect" id="node33" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1636,787,1793,814"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1677,581,1752,607"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="1870,581,2009,607"/>
<area shape="rect" id="node44" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1450,470,1525,497"/>
<area shape="rect" id="node45" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1443,419,1531,446"/>
<area shape="rect" id="node48" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="599,114,745,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_af526b7063a765ae7156cab82f573c5a7_icgraph.png" border="0" usemap="#patch_8c_af526b7063a765ae7156cab82f573c5a7_icgraph" alt=""/></div>
<map name="patch_8c_af526b7063a765ae7156cab82f573c5a7_icgraph" id="patch_8c_af526b7063a765ae7156cab82f573c5a7_icgraph">
<area shape="rect" id="node2" href="patch_8h.html#af3ee20b12edfc70ca35deaf875315d81" title="klp_patch_object" alt="" coords="164,81,284,108"/>
<area shape="rect" id="node3" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="332,56,469,83"/>
<area shape="rect" id="node6" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="332,107,469,133"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="537,5,660,32"/>
<area shape="rect" id="node5" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="547,56,650,83"/>
<area shape="rect" id="node7" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="517,107,680,133"/>
<area shape="rect" id="node8" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="728,107,823,133"/>
<area shape="rect" id="node9" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="871,107,1017,133"/>
</map>
</div>

</div>
</div>
<a id="af3ee20b12edfc70ca35deaf875315d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ee20b12edfc70ca35deaf875315d81">&#9670;&nbsp;</a></span>klp_patch_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int klp_patch_object </td>
          <td>(</td>
          <td class="paramtype">struct klp_object *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_af3ee20b12edfc70ca35deaf875315d81_cgraph.png" border="0" usemap="#patch_8c_af3ee20b12edfc70ca35deaf875315d81_cgraph" alt=""/></div>
<map name="patch_8c_af3ee20b12edfc70ca35deaf875315d81_cgraph" id="patch_8c_af3ee20b12edfc70ca35deaf875315d81_cgraph">
<area shape="rect" id="node2" href="patch_8c.html#af526b7063a765ae7156cab82f573c5a7" title="klp_patch_func" alt="" coords="363,107,473,133"/>
<area shape="rect" id="node48" href="patch_8c.html#a29d6690945b7ee476391b31b08dd9fe1" title="klp_unpatch_object" alt="" coords="173,157,308,184"/>
<area shape="rect" id="node3" href="patch_8c.html#a08b76f500195191eb6f4ab2bc81bc62c" title="klp_find_ops" alt="" coords="567,208,661,235"/>
<area shape="rect" id="node4" href="patch_8c.html#a8bef666cb16d03bcd767ca2ba799fd23" title="klp_get_ftrace_location" alt="" coords="536,107,692,133"/>
<area shape="rect" id="node5" href="patch_8c.html#a57b23aafde9ee3df5dec3317eff0143f" title="klp_ftrace_handler" alt="" coords="550,5,678,32"/>
<area shape="rect" id="node6" href="ftrace_8c.html#ac157b77223d3e3e05843224085442b2a" title="register_ftrace_function" alt="" coords="535,56,693,83"/>
<area shape="rect" id="node47" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="589,157,639,184"/>
<area shape="rect" id="node7" href="ftrace_8c.html#a4babadae8f877f3410a7f4d7e7e3f1bf" title="ftrace_ops_init" alt="" coords="781,56,887,83"/>
<area shape="rect" id="node8" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="789,208,879,235"/>
<area shape="rect" id="node44" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="783,107,885,133"/>
<area shape="rect" id="node46" href="ftrace_8c.html#a1b0668b09d3a150c129500775fa394cc" title="EXPORT_SYMBOL_GPL" alt="" coords="748,259,920,285"/>
<area shape="rect" id="node9" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="976,208,1123,235"/>
<area shape="rect" id="node10" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="968,259,1131,285"/>
<area shape="rect" id="node43" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="980,157,1119,184"/>
<area shape="rect" id="node11" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="1179,368,1281,395"/>
<area shape="rect" id="node12" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="1329,477,1489,504"/>
<area shape="rect" id="node13" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1572,208,1691,235"/>
<area shape="rect" id="node17" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1789,461,1941,488"/>
<area shape="rect" id="node28" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1551,529,1711,570"/>
<area shape="rect" id="node30" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1778,638,1951,679"/>
<area shape="rect" id="node32" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1537,477,1725,504"/>
<area shape="rect" id="node33" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1780,755,1949,781"/>
<area shape="rect" id="node34" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1785,259,1945,285"/>
<area shape="rect" id="node35" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1569,595,1694,621"/>
<area shape="rect" id="node36" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1545,697,1717,738"/>
<area shape="rect" id="node37" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1773,813,1956,840"/>
<area shape="rect" id="node39" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1564,309,1699,336"/>
<area shape="rect" id="node40" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1551,361,1711,402"/>
<area shape="rect" id="node14" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="2024,255,2160,297"/>
<area shape="rect" id="node15" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="2263,329,2370,356"/>
<area shape="rect" id="node16" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="2465,212,2568,239"/>
<area shape="rect" id="node18" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="2004,380,2180,407"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="2269,431,2364,457"/>
<area shape="rect" id="node20" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="2255,212,2378,239"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="2273,488,2361,515"/>
<area shape="rect" id="node26" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="2241,554,2392,595"/>
<area shape="rect" id="node27" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="2228,263,2405,305"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="2453,704,2580,731"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2640,704,2755,731"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2628,796,2767,823"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2815,704,2909,731"/>
<area shape="rect" id="node29" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1779,524,1951,551"/>
<area shape="rect" id="node31" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="2013,704,2171,731"/>
<area shape="rect" id="node38" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="2479,877,2554,904"/>
<area shape="rect" id="node41" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1827,411,1902,437"/>
<area shape="rect" id="node42" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1821,360,1909,387"/>
<area shape="rect" id="node45" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="976,107,1123,133"/>
<area shape="rect" id="node49" href="patch_8c.html#af7dbffb8b4cec976b6601d39ef879ffb" title="klp_unpatch_func" alt="" coords="356,157,480,184"/>
<area shape="rect" id="node50" href="ftrace_8c.html#ace13cc563cc2f751efb3a9c6e106b2a7" title="unregister_ftrace_function" alt="" coords="528,259,700,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_af3ee20b12edfc70ca35deaf875315d81_icgraph.png" border="0" usemap="#patch_8c_af3ee20b12edfc70ca35deaf875315d81_icgraph" alt=""/></div>
<map name="patch_8c_af3ee20b12edfc70ca35deaf875315d81_icgraph" id="patch_8c_af3ee20b12edfc70ca35deaf875315d81_icgraph">
<area shape="rect" id="node2" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="173,56,311,83"/>
<area shape="rect" id="node5" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="173,107,311,133"/>
<area shape="rect" id="node3" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="379,5,501,32"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="389,56,491,83"/>
<area shape="rect" id="node6" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="359,107,521,133"/>
<area shape="rect" id="node7" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="569,107,664,133"/>
<area shape="rect" id="node8" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="712,107,859,133"/>
</map>
</div>

</div>
</div>
<a id="af7dbffb8b4cec976b6601d39ef879ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7dbffb8b4cec976b6601d39ef879ffb">&#9670;&nbsp;</a></span>klp_unpatch_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void klp_unpatch_func </td>
          <td>(</td>
          <td class="paramtype">struct klp_func *&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_cgraph.png" border="0" usemap="#patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_cgraph" alt=""/></div>
<map name="patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_cgraph" id="patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_cgraph">
<area shape="rect" id="node2" href="patch_8c.html#a08b76f500195191eb6f4ab2bc81bc62c" title="klp_find_ops" alt="" coords="216,39,311,65"/>
<area shape="rect" id="node3" href="patch_8c.html#a8bef666cb16d03bcd767ca2ba799fd23" title="klp_get_ftrace_location" alt="" coords="185,89,341,116"/>
<area shape="rect" id="node4" href="ftrace_8c.html#ace13cc563cc2f751efb3a9c6e106b2a7" title="unregister_ftrace_function" alt="" coords="177,140,349,167"/>
<area shape="rect" id="node50" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="238,191,289,217"/>
<area shape="rect" id="node5" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="439,140,528,167"/>
<area shape="rect" id="node47" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="432,64,535,91"/>
<area shape="rect" id="node49" href="ftrace_8c.html#a1b0668b09d3a150c129500775fa394cc" title="EXPORT_SYMBOL_GPL" alt="" coords="397,191,569,217"/>
<area shape="rect" id="node6" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="625,153,772,180"/>
<area shape="rect" id="node7" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="617,204,780,231"/>
<area shape="rect" id="node46" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="629,103,768,129"/>
<area shape="rect" id="node8" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="828,153,931,180"/>
<area shape="rect" id="node9" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="979,431,1139,457"/>
<area shape="rect" id="node10" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1221,708,1340,735"/>
<area shape="rect" id="node14" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1438,353,1590,380"/>
<area shape="rect" id="node28" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1201,306,1361,347"/>
<area shape="rect" id="node30" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1427,195,1601,237"/>
<area shape="rect" id="node32" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1187,657,1375,684"/>
<area shape="rect" id="node33" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1429,455,1599,481"/>
<area shape="rect" id="node34" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1434,657,1594,684"/>
<area shape="rect" id="node35" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1218,204,1343,231"/>
<area shape="rect" id="node36" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1195,423,1367,465"/>
<area shape="rect" id="node37" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1423,759,1605,785"/>
<area shape="rect" id="node41" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1213,255,1348,281"/>
<area shape="rect" id="node42" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1201,541,1361,582"/>
<area shape="rect" id="node11" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1673,621,1809,662"/>
<area shape="rect" id="node12" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1913,476,2019,503"/>
<area shape="rect" id="node13" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="2115,577,2217,604"/>
<area shape="rect" id="node15" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1653,353,1829,380"/>
<area shape="rect" id="node16" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1919,375,2013,401"/>
<area shape="rect" id="node17" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1905,577,2027,604"/>
<area shape="rect" id="node18" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1922,324,2010,351"/>
<area shape="rect" id="node26" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1891,193,2041,234"/>
<area shape="rect" id="node27" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1877,258,2055,299"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="2103,425,2229,452"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2289,425,2404,452"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2277,549,2416,576"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2464,349,2559,376"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2474,400,2549,427"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2467,451,2556,477"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#a823893b4e55dfd4d171cb9513cea7a2b" title="ttwu_stat" alt="" coords="2473,501,2549,528"/>
<area shape="rect" id="node29" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1428,303,1600,329"/>
<area shape="rect" id="node31" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1663,404,1820,431"/>
<area shape="rect" id="node38" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1704,860,1779,887"/>
<area shape="rect" id="node39" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="1897,835,2035,861"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="1922,885,2010,912"/>
<area shape="rect" id="node43" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1477,556,1551,583"/>
<area shape="rect" id="node45" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1470,505,1558,532"/>
<area shape="rect" id="node44" href="osq__lock_8c.html#abc3f44247a4a5ea8de77c1b2be155975" title="encode_cpu" alt="" coords="1695,569,1787,596"/>
<area shape="rect" id="node48" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="625,52,772,79"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_icgraph.png" border="0" usemap="#patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_icgraph" alt=""/></div>
<map name="patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_icgraph" id="patch_8c_af7dbffb8b4cec976b6601d39ef879ffb_icgraph">
<area shape="rect" id="node2" href="patch_8h.html#a29d6690945b7ee476391b31b08dd9fe1" title="klp_unpatch_object" alt="" coords="177,125,312,151"/>
<area shape="rect" id="node3" href="livepatch_2core_8c.html#a2b2b2f643b283a0266a6a79a0bc7e61c" title="klp_cleanup_module\l_patches_limited" alt="" coords="361,59,501,100"/>
<area shape="rect" id="node10" href="patch_8h.html#af3ee20b12edfc70ca35deaf875315d81" title="klp_patch_object" alt="" coords="371,125,491,151"/>
<area shape="rect" id="node14" href="patch_8h.html#a616de8246a1b75823ddc0b615547d605" title="klp_unpatch_objects" alt="" coords="360,175,501,202"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="560,74,697,101"/>
<area shape="rect" id="node8" href="livepatch_2core_8c.html#a12f8594378c52ed13fd0cbeed874da04" title="klp_module_going" alt="" coords="565,23,692,50"/>
<area shape="rect" id="node5" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="765,74,928,101"/>
<area shape="rect" id="node6" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="1014,23,1109,50"/>
<area shape="rect" id="node7" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="1185,23,1332,50"/>
<area shape="rect" id="node9" href="module_8c.html#a2b23135bbd687f45e5f0dec793b63245" title="do_init_module" alt="" coords="792,23,901,50"/>
<area shape="rect" id="node11" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="993,175,1130,202"/>
<area shape="rect" id="node12" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="1197,150,1320,177"/>
<area shape="rect" id="node13" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="1207,201,1310,227"/>
<area shape="rect" id="node15" href="transition_8c.html#a29034663b3734a48211634afed32aa23" title="klp_complete_transition" alt="" coords="549,175,708,202"/>
<area shape="rect" id="node16" href="transition_8h.html#af2096810759ff8d350bdc66cb32ed8f1" title="klp_cancel_transition" alt="" coords="775,175,919,202"/>
<area shape="rect" id="node17" href="transition_8h.html#a85f110ba9a9179e3f24a0027df4f8272" title="klp_try_complete_transition" alt="" coords="756,226,937,253"/>
<area shape="rect" id="node18" href="livepatch_2core_8c.html#afa4ba4374cd55e2a6f5a0b417cab253d" title="__klp_disable_patch" alt="" coords="991,226,1131,253"/>
<area shape="rect" id="node20" href="transition_8c.html#ab325a49c08fb2978a145ded9d61fe712" title="klp_transition_work_fn" alt="" coords="985,277,1137,303"/>
<area shape="rect" id="node19" href="livepatch_2core_8c.html#a2d6c762fd7f186cf5539447a6e2f9224" title="klp_disable_patch" alt="" coords="1195,251,1322,278"/>
</map>
</div>

</div>
</div>
<a id="a29d6690945b7ee476391b31b08dd9fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29d6690945b7ee476391b31b08dd9fe1">&#9670;&nbsp;</a></span>klp_unpatch_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void klp_unpatch_object </td>
          <td>(</td>
          <td class="paramtype">struct klp_object *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a29d6690945b7ee476391b31b08dd9fe1_cgraph.png" border="0" usemap="#patch_8c_a29d6690945b7ee476391b31b08dd9fe1_cgraph" alt=""/></div>
<map name="patch_8c_a29d6690945b7ee476391b31b08dd9fe1_cgraph" id="patch_8c_a29d6690945b7ee476391b31b08dd9fe1_cgraph">
<area shape="rect" id="node2" href="patch_8c.html#af7dbffb8b4cec976b6601d39ef879ffb" title="klp_unpatch_func" alt="" coords="188,655,312,682"/>
<area shape="rect" id="node3" href="patch_8c.html#a08b76f500195191eb6f4ab2bc81bc62c" title="klp_find_ops" alt="" coords="399,579,493,606"/>
<area shape="rect" id="node4" href="patch_8c.html#a8bef666cb16d03bcd767ca2ba799fd23" title="klp_get_ftrace_location" alt="" coords="368,630,524,657"/>
<area shape="rect" id="node5" href="ftrace_8c.html#ace13cc563cc2f751efb3a9c6e106b2a7" title="unregister_ftrace_function" alt="" coords="360,681,532,707"/>
<area shape="rect" id="node50" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="421,731,471,758"/>
<area shape="rect" id="node6" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="621,630,711,657"/>
<area shape="rect" id="node47" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="615,681,717,707"/>
<area shape="rect" id="node49" href="ftrace_8c.html#a1b0668b09d3a150c129500775fa394cc" title="EXPORT_SYMBOL_GPL" alt="" coords="580,731,752,758"/>
<area shape="rect" id="node7" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="808,605,955,631"/>
<area shape="rect" id="node8" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="800,554,963,581"/>
<area shape="rect" id="node46" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="812,655,951,682"/>
<area shape="rect" id="node9" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="1011,470,1113,497"/>
<area shape="rect" id="node10" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="1161,386,1321,413"/>
<area shape="rect" id="node11" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1404,335,1523,362"/>
<area shape="rect" id="node15" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1621,386,1773,413"/>
<area shape="rect" id="node29" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1383,269,1543,311"/>
<area shape="rect" id="node31" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1610,215,1783,256"/>
<area shape="rect" id="node33" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1369,605,1557,631"/>
<area shape="rect" id="node34" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1612,101,1781,127"/>
<area shape="rect" id="node35" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1617,589,1777,615"/>
<area shape="rect" id="node36" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1401,167,1526,194"/>
<area shape="rect" id="node37" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1377,101,1549,143"/>
<area shape="rect" id="node38" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1605,655,1788,682"/>
<area shape="rect" id="node42" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1396,503,1531,530"/>
<area shape="rect" id="node43" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1383,437,1543,479"/>
<area shape="rect" id="node12" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1856,367,1992,408"/>
<area shape="rect" id="node13" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="2095,399,2202,426"/>
<area shape="rect" id="node14" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="2297,551,2400,578"/>
<area shape="rect" id="node16" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1836,501,2012,527"/>
<area shape="rect" id="node17" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="2101,501,2196,527"/>
<area shape="rect" id="node18" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="2087,669,2210,695"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="2105,450,2193,477"/>
<area shape="rect" id="node27" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="2073,603,2224,644"/>
<area shape="rect" id="node28" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="2060,5,2237,47"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="2285,355,2412,382"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2472,355,2587,382"/>
<area shape="rect" id="node26" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2460,571,2599,598"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2647,279,2741,306"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2657,330,2731,357"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2649,381,2739,407"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#a823893b4e55dfd4d171cb9513cea7a2b" title="ttwu_stat" alt="" coords="2656,431,2732,458"/>
<area shape="rect" id="node30" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1611,335,1783,362"/>
<area shape="rect" id="node32" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1845,151,2003,178"/>
<area shape="rect" id="node39" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1887,858,1961,885"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="2079,782,2218,809"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="2105,883,2193,910"/>
<area shape="rect" id="node44" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1659,538,1734,565"/>
<area shape="rect" id="node45" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1653,487,1741,514"/>
<area shape="rect" id="node48" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="808,706,955,733"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a29d6690945b7ee476391b31b08dd9fe1_icgraph.png" border="0" usemap="#patch_8c_a29d6690945b7ee476391b31b08dd9fe1_icgraph" alt=""/></div>
<map name="patch_8c_a29d6690945b7ee476391b31b08dd9fe1_icgraph" id="patch_8c_a29d6690945b7ee476391b31b08dd9fe1_icgraph">
<area shape="rect" id="node2" href="livepatch_2core_8c.html#a2b2b2f643b283a0266a6a79a0bc7e61c" title="klp_cleanup_module\l_patches_limited" alt="" coords="189,59,329,100"/>
<area shape="rect" id="node9" href="patch_8h.html#af3ee20b12edfc70ca35deaf875315d81" title="klp_patch_object" alt="" coords="199,125,319,151"/>
<area shape="rect" id="node13" href="patch_8h.html#a616de8246a1b75823ddc0b615547d605" title="klp_unpatch_objects" alt="" coords="188,175,329,202"/>
<area shape="rect" id="node3" href="livepatch_2core_8c.html#a791a2a3f4a5720428cad8ff7b73d6221" title="klp_module_coming" alt="" coords="388,74,525,101"/>
<area shape="rect" id="node7" href="livepatch_2core_8c.html#a12f8594378c52ed13fd0cbeed874da04" title="klp_module_going" alt="" coords="393,23,520,50"/>
<area shape="rect" id="node4" href="module_8c.html#a0bb8529c27e0a03ab783f505ef4a3b99" title="prepare_coming_module" alt="" coords="593,74,756,101"/>
<area shape="rect" id="node5" href="module_8c.html#ae43d7d2c9a1e6d46956b6b7636dc7fb0" title="load_module" alt="" coords="842,23,937,50"/>
<area shape="rect" id="node6" href="module_8c.html#a59ac50b297b67eb0aa36b62e41347e1f" title="SYSCALL_DEFINE3" alt="" coords="1013,23,1160,50"/>
<area shape="rect" id="node8" href="module_8c.html#a2b23135bbd687f45e5f0dec793b63245" title="do_init_module" alt="" coords="620,23,729,50"/>
<area shape="rect" id="node10" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="821,175,958,202"/>
<area shape="rect" id="node11" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="1025,150,1148,177"/>
<area shape="rect" id="node12" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="1035,201,1138,227"/>
<area shape="rect" id="node14" href="transition_8c.html#a29034663b3734a48211634afed32aa23" title="klp_complete_transition" alt="" coords="377,175,536,202"/>
<area shape="rect" id="node15" href="transition_8h.html#af2096810759ff8d350bdc66cb32ed8f1" title="klp_cancel_transition" alt="" coords="603,175,747,202"/>
<area shape="rect" id="node16" href="transition_8h.html#a85f110ba9a9179e3f24a0027df4f8272" title="klp_try_complete_transition" alt="" coords="584,226,765,253"/>
<area shape="rect" id="node17" href="livepatch_2core_8c.html#afa4ba4374cd55e2a6f5a0b417cab253d" title="__klp_disable_patch" alt="" coords="819,226,959,253"/>
<area shape="rect" id="node19" href="transition_8c.html#ab325a49c08fb2978a145ded9d61fe712" title="klp_transition_work_fn" alt="" coords="813,277,965,303"/>
<area shape="rect" id="node18" href="livepatch_2core_8c.html#a2d6c762fd7f186cf5539447a6e2f9224" title="klp_disable_patch" alt="" coords="1023,251,1150,278"/>
</map>
</div>

</div>
</div>
<a id="a616de8246a1b75823ddc0b615547d605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a616de8246a1b75823ddc0b615547d605">&#9670;&nbsp;</a></span>klp_unpatch_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void klp_unpatch_objects </td>
          <td>(</td>
          <td class="paramtype">struct klp_patch *&#160;</td>
          <td class="paramname"><em>patch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a616de8246a1b75823ddc0b615547d605_cgraph.png" border="0" usemap="#patch_8c_a616de8246a1b75823ddc0b615547d605_cgraph" alt=""/></div>
<map name="patch_8c_a616de8246a1b75823ddc0b615547d605_cgraph" id="patch_8c_a616de8246a1b75823ddc0b615547d605_cgraph">
<area shape="rect" id="node2" href="patch_8c.html#a29d6690945b7ee476391b31b08dd9fe1" title="klp_unpatch_object" alt="" coords="195,177,329,203"/>
<area shape="rect" id="node3" href="patch_8c.html#af7dbffb8b4cec976b6601d39ef879ffb" title="klp_unpatch_func" alt="" coords="377,177,501,203"/>
<area shape="rect" id="node4" href="patch_8c.html#a08b76f500195191eb6f4ab2bc81bc62c" title="klp_find_ops" alt="" coords="588,101,683,127"/>
<area shape="rect" id="node5" href="patch_8c.html#a8bef666cb16d03bcd767ca2ba799fd23" title="klp_get_ftrace_location" alt="" coords="557,151,713,178"/>
<area shape="rect" id="node6" href="ftrace_8c.html#ace13cc563cc2f751efb3a9c6e106b2a7" title="unregister_ftrace_function" alt="" coords="549,202,721,229"/>
<area shape="rect" id="node50" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="610,253,661,279"/>
<area shape="rect" id="node7" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="811,202,900,229"/>
<area shape="rect" id="node47" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="804,126,907,153"/>
<area shape="rect" id="node49" href="ftrace_8c.html#a1b0668b09d3a150c129500775fa394cc" title="EXPORT_SYMBOL_GPL" alt="" coords="769,253,941,279"/>
<area shape="rect" id="node8" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="997,215,1144,242"/>
<area shape="rect" id="node9" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="989,266,1152,293"/>
<area shape="rect" id="node46" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="1001,165,1140,191"/>
<area shape="rect" id="node10" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="1200,125,1303,151"/>
<area shape="rect" id="node11" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="1351,521,1511,547"/>
<area shape="rect" id="node12" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1593,403,1712,430"/>
<area shape="rect" id="node16" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1810,251,1962,278"/>
<area shape="rect" id="node30" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1573,623,1733,664"/>
<area shape="rect" id="node32" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1799,692,1973,733"/>
<area shape="rect" id="node34" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1559,689,1747,715"/>
<area shape="rect" id="node35" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1801,838,1971,865"/>
<area shape="rect" id="node36" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1806,521,1966,547"/>
<area shape="rect" id="node37" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1590,302,1715,329"/>
<area shape="rect" id="node38" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1567,791,1739,832"/>
<area shape="rect" id="node39" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1795,571,1977,598"/>
<area shape="rect" id="node42" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1585,353,1720,379"/>
<area shape="rect" id="node43" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1573,455,1733,496"/>
<area shape="rect" id="node13" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="2045,347,2181,388"/>
<area shape="rect" id="node14" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="2285,339,2391,366"/>
<area shape="rect" id="node15" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="2487,289,2589,315"/>
<area shape="rect" id="node17" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="2025,150,2201,177"/>
<area shape="rect" id="node18" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="2291,187,2385,214"/>
<area shape="rect" id="node19" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="2277,289,2399,315"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="2294,238,2382,265"/>
<area shape="rect" id="node28" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="2263,5,2413,47"/>
<area shape="rect" id="node29" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="2249,71,2427,112"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="2475,693,2601,719"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2661,693,2776,719"/>
<area shape="rect" id="node27" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2649,638,2788,665"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2836,617,2931,643"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2846,667,2921,694"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2839,718,2928,745"/>
<area shape="rect" id="node26" href="sched_2core_8c.html#a823893b4e55dfd4d171cb9513cea7a2b" title="ttwu_stat" alt="" coords="2845,769,2921,795"/>
<area shape="rect" id="node31" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1800,626,1972,653"/>
<area shape="rect" id="node33" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="2035,787,2192,814"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="2076,581,2151,607"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="2269,581,2407,607"/>
<area shape="rect" id="node44" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1849,470,1923,497"/>
<area shape="rect" id="node45" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1842,419,1930,446"/>
<area shape="rect" id="node48" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="997,114,1144,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="patch_8c_a616de8246a1b75823ddc0b615547d605_icgraph.png" border="0" usemap="#patch_8c_a616de8246a1b75823ddc0b615547d605_icgraph" alt=""/></div>
<map name="patch_8c_a616de8246a1b75823ddc0b615547d605_icgraph" id="patch_8c_a616de8246a1b75823ddc0b615547d605_icgraph">
<area shape="rect" id="node2" href="transition_8c.html#a29034663b3734a48211634afed32aa23" title="klp_complete_transition" alt="" coords="195,31,353,57"/>
<area shape="rect" id="node3" href="transition_8h.html#af2096810759ff8d350bdc66cb32ed8f1" title="klp_cancel_transition" alt="" coords="420,5,564,32"/>
<area shape="rect" id="node7" href="transition_8h.html#a85f110ba9a9179e3f24a0027df4f8272" title="klp_try_complete_transition" alt="" coords="401,56,583,83"/>
<area shape="rect" id="node4" href="livepatch_2core_8c.html#a89fefc97aca0568f384baae43db23f55" title="__klp_enable_patch" alt="" coords="638,5,775,32"/>
<area shape="rect" id="node5" href="livepatch_2core_8c.html#a6e4dd37156b76670c171c2997c39589e" title="klp_enable_patch" alt="" coords="833,5,955,32"/>
<area shape="rect" id="node6" href="livepatch_2core_8c.html#ab708918d65fd21b2d7c8274f91b64c74" title="enabled_store" alt="" coords="843,56,945,83"/>
<area shape="rect" id="node8" href="livepatch_2core_8c.html#afa4ba4374cd55e2a6f5a0b417cab253d" title="__klp_disable_patch" alt="" coords="637,56,777,83"/>
<area shape="rect" id="node10" href="transition_8c.html#ab325a49c08fb2978a145ded9d61fe712" title="klp_transition_work_fn" alt="" coords="631,107,783,133"/>
<area shape="rect" id="node9" href="livepatch_2core_8c.html#a2d6c762fd7f186cf5539447a6e2f9224" title="klp_disable_patch" alt="" coords="831,107,957,133"/>
</map>
</div>

</div>
</div>
<a id="a5b14a5e5ca1360c206f72b19508911f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b14a5e5ca1360c206f72b19508911f5">&#9670;&nbsp;</a></span>LIST_HEAD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structklp__ops.html">klp_ops</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60e92046ca0453e88821f2f0238e17dc.html">livepatch</a></li><li class="navelem"><a class="el" href="patch_8c.html">patch.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
