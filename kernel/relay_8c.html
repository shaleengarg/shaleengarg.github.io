<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: relay.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('relay_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">relay.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/errno.h&gt;</code><br />
<code>#include &lt;linux/stddef.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/export.h&gt;</code><br />
<code>#include &lt;linux/string.h&gt;</code><br />
<code>#include &lt;linux/relay.h&gt;</code><br />
<code>#include &lt;linux/vmalloc.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/cpu.h&gt;</code><br />
<code>#include &lt;linux/splice.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for relay.c:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c__incl.png" border="0" usemap="#relay_8c" alt=""/></div>
<map name="relay_8c" id="relay_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrchan__percpu__buf__dispatcher.html">rchan_percpu_buf_dispatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1bd9af9cd359e445f6fafa55811c634f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a1bd9af9cd359e445f6fafa55811c634f">DEFINE_MUTEX</a> (relay_channels_mutex)</td></tr>
<tr class="separator:a1bd9af9cd359e445f6fafa55811c634f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d0ebb8500ba474769c8a8297a47357"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ad6d0ebb8500ba474769c8a8297a47357">LIST_HEAD</a> (relay_channels)</td></tr>
<tr class="separator:ad6d0ebb8500ba474769c8a8297a47357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef072ea4bef8c2a9c50ce0c056e897f6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aef072ea4bef8c2a9c50ce0c056e897f6">relay_file_mmap_close</a> (struct vm_area_struct *vma)</td></tr>
<tr class="separator:aef072ea4bef8c2a9c50ce0c056e897f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e73f4b81209e2881fadfb5605294ff5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a0e73f4b81209e2881fadfb5605294ff5">relay_buf_fault</a> (struct vm_fault *vmf)</td></tr>
<tr class="separator:a0e73f4b81209e2881fadfb5605294ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30a83f7189101071bbc535a5af9088d"><td class="memItemLeft" align="right" valign="top">static struct page **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ac30a83f7189101071bbc535a5af9088d">relay_alloc_page_array</a> (unsigned int n_pages)</td></tr>
<tr class="separator:ac30a83f7189101071bbc535a5af9088d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766c99dff6e9b0bbfe00b7874c4b4f48"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48">relay_free_page_array</a> (struct page **array)</td></tr>
<tr class="separator:a766c99dff6e9b0bbfe00b7874c4b4f48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764b0c1b8e4c2ec5a633e1eb945effce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a764b0c1b8e4c2ec5a633e1eb945effce">relay_mmap_buf</a> (struct rchan_buf *buf, struct vm_area_struct *vma)</td></tr>
<tr class="separator:a764b0c1b8e4c2ec5a633e1eb945effce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e556412d5564dead0eab82e5d10836"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836">relay_alloc_buf</a> (struct rchan_buf *buf, size_t *<a class="el" href="power_8h.html#a1e1268d164c38e4f8a4f4eb9058b0601">size</a>)</td></tr>
<tr class="separator:a98e556412d5564dead0eab82e5d10836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fd9ab9a4a39f82a9f15c55046861e2"><td class="memItemLeft" align="right" valign="top">static struct rchan_buf *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2">relay_create_buf</a> (struct rchan *chan)</td></tr>
<tr class="separator:a47fd9ab9a4a39f82a9f15c55046861e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e75ff01cafd826695baa24b0223e93"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93">relay_destroy_channel</a> (struct kref *kref)</td></tr>
<tr class="separator:a79e75ff01cafd826695baa24b0223e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8802ffb6b14ad2e2e3a1714d0880f7e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e">relay_destroy_buf</a> (struct rchan_buf *buf)</td></tr>
<tr class="separator:ae8802ffb6b14ad2e2e3a1714d0880f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af854fe017907daa5d6d35751f03f3b1b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b">relay_remove_buf</a> (struct kref *kref)</td></tr>
<tr class="separator:af854fe017907daa5d6d35751f03f3b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfccc5b48a563c290ee0526d304ad9bb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#acfccc5b48a563c290ee0526d304ad9bb">relay_buf_empty</a> (struct rchan_buf *buf)</td></tr>
<tr class="separator:acfccc5b48a563c290ee0526d304ad9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1261ee13b9a172eba345a30c33de4947"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947">relay_buf_full</a> (struct rchan_buf *buf)</td></tr>
<tr class="separator:a1261ee13b9a172eba345a30c33de4947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf9731b7f5efd869fc466cfcabe4ecb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947">relay_buf_full</a>)</td></tr>
<tr class="separator:a7bf9731b7f5efd869fc466cfcabe4ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb66381c13b29e3db8d5333801f8087"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087">subbuf_start_default_callback</a> (struct rchan_buf *buf, void *subbuf, void *prev_subbuf, size_t prev_padding)</td></tr>
<tr class="separator:a9eb66381c13b29e3db8d5333801f8087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad17311e67a71e53afeba82519be3cc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a3ad17311e67a71e53afeba82519be3cc">buf_mapped_default_callback</a> (struct rchan_buf *buf, struct file *filp)</td></tr>
<tr class="separator:a3ad17311e67a71e53afeba82519be3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3426c094201aca9e3c78118630a0b70c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a3426c094201aca9e3c78118630a0b70c">buf_unmapped_default_callback</a> (struct rchan_buf *buf, struct file *filp)</td></tr>
<tr class="separator:a3426c094201aca9e3c78118630a0b70c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a25bfcef1a77c3375d3b3445af1103"><td class="memItemLeft" align="right" valign="top">static struct dentry *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a99a25bfcef1a77c3375d3b3445af1103">create_buf_file_default_callback</a> (const char *filename, struct dentry *<a class="el" href="cpudeadline_8c.html#a6bb854c6866f4abccf2a7cbd288b78c7">parent</a>, umode_t mode, struct rchan_buf *buf, int *is_global)</td></tr>
<tr class="separator:a99a25bfcef1a77c3375d3b3445af1103"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe633e2a2650fbe93caf15cc7fe2594"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a7fe633e2a2650fbe93caf15cc7fe2594">remove_buf_file_default_callback</a> (struct dentry *dentry)</td></tr>
<tr class="separator:a7fe633e2a2650fbe93caf15cc7fe2594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff3c92f06766baf5786f90eebd23bcb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a1ff3c92f06766baf5786f90eebd23bcb">wakeup_readers</a> (struct irq_work *work)</td></tr>
<tr class="separator:a1ff3c92f06766baf5786f90eebd23bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ffbe7ea4a70e6997baff2d803c0bcc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a24ffbe7ea4a70e6997baff2d803c0bcc">__relay_reset</a> (struct rchan_buf *buf, unsigned int init)</td></tr>
<tr class="separator:a24ffbe7ea4a70e6997baff2d803c0bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ac509e69949603e61d03c7cfb0083d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d">relay_reset</a> (struct rchan *chan)</td></tr>
<tr class="separator:aa5ac509e69949603e61d03c7cfb0083d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23faf1ce411198426aedd8c92debe9fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a23faf1ce411198426aedd8c92debe9fe">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d">relay_reset</a>)</td></tr>
<tr class="separator:a23faf1ce411198426aedd8c92debe9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af74221543a2bc059cbf657c846a4876e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#af74221543a2bc059cbf657c846a4876e">relay_set_buf_dentry</a> (struct rchan_buf *buf, struct dentry *dentry)</td></tr>
<tr class="separator:af74221543a2bc059cbf657c846a4876e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a9a2410bce77660621128223f63cdb"><td class="memItemLeft" align="right" valign="top">static struct dentry *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a61a9a2410bce77660621128223f63cdb">relay_create_buf_file</a> (struct rchan *chan, struct rchan_buf *buf, unsigned int cpu)</td></tr>
<tr class="separator:a61a9a2410bce77660621128223f63cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96a8b6d7261adaab4e7651ad0fb6123"><td class="memItemLeft" align="right" valign="top">static struct rchan_buf *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123">relay_open_buf</a> (struct rchan *chan, unsigned int cpu)</td></tr>
<tr class="separator:ac96a8b6d7261adaab4e7651ad0fb6123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9c25f52aa4ed36a4ab73dadfef5a77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77">relay_close_buf</a> (struct rchan_buf *buf)</td></tr>
<tr class="separator:a9c9c25f52aa4ed36a4ab73dadfef5a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b089c29431677dd88fd30ec311abfbc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc">setup_callbacks</a> (struct rchan *chan, struct rchan_callbacks *cb)</td></tr>
<tr class="separator:a9b089c29431677dd88fd30ec311abfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330f1dacf276395a4a4faae1f121228e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e">relay_prepare_cpu</a> (unsigned int cpu)</td></tr>
<tr class="separator:a330f1dacf276395a4a4faae1f121228e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac289223a088a51eb939c3d17ea3c5710"><td class="memItemLeft" align="right" valign="top">struct rchan *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710">relay_open</a> (const char *base_filename, struct dentry *<a class="el" href="cpudeadline_8c.html#a6bb854c6866f4abccf2a7cbd288b78c7">parent</a>, size_t subbuf_size, size_t n_subbufs, struct rchan_callbacks *cb, void *private_data)</td></tr>
<tr class="separator:ac289223a088a51eb939c3d17ea3c5710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617f45339f77e50beee2fdc83be7d1eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a617f45339f77e50beee2fdc83be7d1eb">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710">relay_open</a>)</td></tr>
<tr class="separator:a617f45339f77e50beee2fdc83be7d1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb442616d2dcec7f9ace30ffa88086f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#accb442616d2dcec7f9ace30ffa88086f">__relay_set_buf_dentry</a> (void *info)</td></tr>
<tr class="separator:accb442616d2dcec7f9ace30ffa88086f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698b85ab540fff6f20a631b3b538a891"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891">relay_late_setup_files</a> (struct rchan *chan, const char *base_filename, struct dentry *<a class="el" href="cpudeadline_8c.html#a6bb854c6866f4abccf2a7cbd288b78c7">parent</a>)</td></tr>
<tr class="separator:a698b85ab540fff6f20a631b3b538a891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab797887aabc7a1d138fbc80b6607f852"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ab797887aabc7a1d138fbc80b6607f852">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891">relay_late_setup_files</a>)</td></tr>
<tr class="separator:ab797887aabc7a1d138fbc80b6607f852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde08818b3870b64e08ce0ff3c53f61e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#adde08818b3870b64e08ce0ff3c53f61e">relay_switch_subbuf</a> (struct rchan_buf *buf, size_t length)</td></tr>
<tr class="separator:adde08818b3870b64e08ce0ff3c53f61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d6d0a8e232c01f2bd8e4e1717a98f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aa3d6d0a8e232c01f2bd8e4e1717a98f8">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#adde08818b3870b64e08ce0ff3c53f61e">relay_switch_subbuf</a>)</td></tr>
<tr class="separator:aa3d6d0a8e232c01f2bd8e4e1717a98f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e764a365f3904447b277c989fb3be06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06">relay_subbufs_consumed</a> (struct rchan *chan, unsigned int cpu, size_t subbufs_consumed)</td></tr>
<tr class="separator:a3e764a365f3904447b277c989fb3be06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30addc768c646d16d7b94bbae205bb62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a30addc768c646d16d7b94bbae205bb62">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06">relay_subbufs_consumed</a>)</td></tr>
<tr class="separator:a30addc768c646d16d7b94bbae205bb62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14bb734937c72098201b5042d866aef9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a14bb734937c72098201b5042d866aef9">relay_close</a> (struct rchan *chan)</td></tr>
<tr class="separator:a14bb734937c72098201b5042d866aef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae873eb6e4fe3c98821d2d1f1e6382faf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ae873eb6e4fe3c98821d2d1f1e6382faf">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#a14bb734937c72098201b5042d866aef9">relay_close</a>)</td></tr>
<tr class="separator:ae873eb6e4fe3c98821d2d1f1e6382faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b8eae7eb166510a4b8f7116a55112e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a45b8eae7eb166510a4b8f7116a55112e">relay_flush</a> (struct rchan *chan)</td></tr>
<tr class="separator:a45b8eae7eb166510a4b8f7116a55112e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721ae85a9ee263a8fb57e78d7dad540f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a721ae85a9ee263a8fb57e78d7dad540f">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#a45b8eae7eb166510a4b8f7116a55112e">relay_flush</a>)</td></tr>
<tr class="separator:a721ae85a9ee263a8fb57e78d7dad540f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562de8b2e74f23bf48474e4a7763d18a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a562de8b2e74f23bf48474e4a7763d18a">relay_file_open</a> (struct inode *inode, struct file *filp)</td></tr>
<tr class="separator:a562de8b2e74f23bf48474e4a7763d18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad423786f1b0c1782521b36e9013e88c5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#ad423786f1b0c1782521b36e9013e88c5">relay_file_mmap</a> (struct file *filp, struct vm_area_struct *vma)</td></tr>
<tr class="separator:ad423786f1b0c1782521b36e9013e88c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489ed4df74d98a2a7412b8ae98210df8"><td class="memItemLeft" align="right" valign="top">static __poll_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a489ed4df74d98a2a7412b8ae98210df8">relay_file_poll</a> (struct file *filp, poll_table *<a class="el" href="sync_8c.html#a5f1606dfa3ee76db6fa435763c4639d8">wait</a>)</td></tr>
<tr class="separator:a489ed4df74d98a2a7412b8ae98210df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e609060cfdfe5a0d112c53a0dd4c212"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212">relay_file_release</a> (struct inode *inode, struct file *filp)</td></tr>
<tr class="separator:a4e609060cfdfe5a0d112c53a0dd4c212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d997febd6d6d9ebfa89ddb61f91db02"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a3d997febd6d6d9ebfa89ddb61f91db02">relay_file_read_consume</a> (struct rchan_buf *buf, size_t read_pos, size_t bytes_consumed)</td></tr>
<tr class="separator:a3d997febd6d6d9ebfa89ddb61f91db02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb3cab39fe230e6943130c59fa96c3d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a4fb3cab39fe230e6943130c59fa96c3d">relay_file_read_avail</a> (struct rchan_buf *buf, size_t read_pos)</td></tr>
<tr class="separator:a4fb3cab39fe230e6943130c59fa96c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb80e9d4f92fb686fce47d4f0fc095b2"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aeb80e9d4f92fb686fce47d4f0fc095b2">relay_file_read_subbuf_avail</a> (size_t read_pos, struct rchan_buf *buf)</td></tr>
<tr class="separator:aeb80e9d4f92fb686fce47d4f0fc095b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d532401f6d2dcb90cc5ae742dac305a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a1d532401f6d2dcb90cc5ae742dac305a">relay_file_read_start_pos</a> (size_t read_pos, struct rchan_buf *buf)</td></tr>
<tr class="separator:a1d532401f6d2dcb90cc5ae742dac305a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74de25789e6383103ca2bc69e78b3795"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a74de25789e6383103ca2bc69e78b3795">relay_file_read_end_pos</a> (struct rchan_buf *buf, size_t read_pos, size_t count)</td></tr>
<tr class="separator:a74de25789e6383103ca2bc69e78b3795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeff109710582a91981ef43d898b6a57"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57">relay_file_read</a> (struct file *filp, char __user *<a class="el" href="ring__buffer__benchmark_8c.html#a877c5b60325eed5511becc0dfea15a1c">buffer</a>, size_t count, loff_t *ppos)</td></tr>
<tr class="separator:aeeff109710582a91981ef43d898b6a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5327d62aa0a02ab107405644f7f09ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#af5327d62aa0a02ab107405644f7f09ae">relay_consume_bytes</a> (struct rchan_buf *rbuf, int bytes_consumed)</td></tr>
<tr class="separator:af5327d62aa0a02ab107405644f7f09ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949958cdd5b1f7f6168c94606c3e47e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a949958cdd5b1f7f6168c94606c3e47e4">relay_pipe_buf_release</a> (struct pipe_inode_info *pipe, struct pipe_buffer *buf)</td></tr>
<tr class="separator:a949958cdd5b1f7f6168c94606c3e47e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460ca576812df58ba98722d0b6a3dbdc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a460ca576812df58ba98722d0b6a3dbdc">relay_page_release</a> (struct splice_pipe_desc *spd, unsigned int i)</td></tr>
<tr class="separator:a460ca576812df58ba98722d0b6a3dbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3b009c2f6aaa1bbaa16efa2bc88510"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aaa3b009c2f6aaa1bbaa16efa2bc88510">subbuf_splice_actor</a> (struct file *in, loff_t *ppos, struct pipe_inode_info *pipe, size_t len, unsigned int flags, int *nonpad_ret)</td></tr>
<tr class="separator:aaa3b009c2f6aaa1bbaa16efa2bc88510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa628837e7462de7b83b397e3bd068169"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#aa628837e7462de7b83b397e3bd068169">relay_file_splice_read</a> (struct file *in, loff_t *ppos, struct pipe_inode_info *pipe, size_t len, unsigned int flags)</td></tr>
<tr class="separator:aa628837e7462de7b83b397e3bd068169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d5816535c5dd885e9ffcc4aef4f052"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a36d5816535c5dd885e9ffcc4aef4f052">EXPORT_SYMBOL_GPL</a> (<a class="el" href="relay_8c.html#adde713c21c12ded8a4472dd3ee575c3b">relay_file_operations</a>)</td></tr>
<tr class="separator:a36d5816535c5dd885e9ffcc4aef4f052"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a41d658fb5296be6653724b197c3fbfdd"><td class="memItemLeft" align="right" valign="top">static const struct vm_operations_struct&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#a41d658fb5296be6653724b197c3fbfdd">relay_file_mmap_ops</a></td></tr>
<tr class="separator:a41d658fb5296be6653724b197c3fbfdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb25f9e74795ecda3cc2cd0673f25ee"><td class="memItemLeft" align="right" valign="top">static struct rchan_callbacks&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#abeb25f9e74795ecda3cc2cd0673f25ee">default_channel_callbacks</a></td></tr>
<tr class="separator:abeb25f9e74795ecda3cc2cd0673f25ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b9da18efe39ddd59c750195767fa16"><td class="memItemLeft" align="right" valign="top">static const struct pipe_buf_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#af9b9da18efe39ddd59c750195767fa16">relay_pipe_buf_ops</a></td></tr>
<tr class="separator:af9b9da18efe39ddd59c750195767fa16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde713c21c12ded8a4472dd3ee575c3b"><td class="memItemLeft" align="right" valign="top">const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="relay_8c.html#adde713c21c12ded8a4472dd3ee575c3b">relay_file_operations</a></td></tr>
<tr class="separator:adde713c21c12ded8a4472dd3ee575c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a24ffbe7ea4a70e6997baff2d803c0bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ffbe7ea4a70e6997baff2d803c0bcc">&#9670;&nbsp;</a></span>__relay_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __relay_reset </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>init</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>__relay_reset - reset a channel buffer : the channel buffer : 1 if this is a first-time initialization</p>
<p>See <a class="el" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d">relay_reset()</a> for description of effect. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_cgraph.png" border="0" usemap="#relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_cgraph" alt=""/></div>
<map name="relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_cgraph" id="relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a1ff3c92f06766baf5786f90eebd23bcb" title="wakeup_readers" alt="" coords="153,5,271,32"/>
<area shape="rect" id="node3" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="159,56,265,83"/>
<area shape="rect" id="node4" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="319,56,491,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_icgraph.png" border="0" usemap="#relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_icgraph" alt=""/></div>
<map name="relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_icgraph" id="relay_8c_a24ffbe7ea4a70e6997baff2d803c0bcc_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d" title="relay_reset" alt="" coords="165,79,252,106"/>
<area shape="rect" id="node3" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="153,130,264,157"/>
<area shape="rect" id="node4" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="312,105,440,131"/>
<area shape="rect" id="node15" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="333,155,419,182"/>
<area shape="rect" id="node5" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="488,105,645,131"/>
<area shape="rect" id="node6" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="693,105,816,131"/>
<area shape="rect" id="node7" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="867,54,1018,81"/>
<area shape="rect" id="node8" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1069,5,1260,47"/>
<area shape="rect" id="node10" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1091,88,1238,129"/>
<area shape="rect" id="node12" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="864,156,1021,197"/>
<area shape="rect" id="node13" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="864,221,1021,263"/>
<area shape="rect" id="node9" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1308,13,1499,39"/>
<area shape="rect" id="node11" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1330,95,1477,122"/>
<area shape="rect" id="node14" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1086,229,1243,255"/>
</map>
</div>

</div>
</div>
<a id="accb442616d2dcec7f9ace30ffa88086f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb442616d2dcec7f9ace30ffa88086f">&#9670;&nbsp;</a></span>__relay_set_buf_dentry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __relay_set_buf_dentry </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_accb442616d2dcec7f9ace30ffa88086f_cgraph.png" border="0" usemap="#relay_8c_accb442616d2dcec7f9ace30ffa88086f_cgraph" alt=""/></div>
<map name="relay_8c_accb442616d2dcec7f9ace30ffa88086f_cgraph" id="relay_8c_accb442616d2dcec7f9ace30ffa88086f_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#af74221543a2bc059cbf657c846a4876e" title="relay_set_buf_dentry" alt="" coords="211,5,353,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_accb442616d2dcec7f9ace30ffa88086f_icgraph.png" border="0" usemap="#relay_8c_accb442616d2dcec7f9ace30ffa88086f_icgraph" alt=""/></div>
<map name="relay_8c_accb442616d2dcec7f9ace30ffa88086f_icgraph" id="relay_8c_accb442616d2dcec7f9ace30ffa88086f_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891" title="relay_late_setup_files" alt="" coords="211,5,359,32"/>
</map>
</div>

</div>
</div>
<a id="a3ad17311e67a71e53afeba82519be3cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ad17311e67a71e53afeba82519be3cc">&#9670;&nbsp;</a></span>buf_mapped_default_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buf_mapped_default_callback </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a3ad17311e67a71e53afeba82519be3cc_icgraph.png" border="0" usemap="#relay_8c_a3ad17311e67a71e53afeba82519be3cc_icgraph" alt=""/></div>
<map name="relay_8c_a3ad17311e67a71e53afeba82519be3cc_icgraph" id="relay_8c_a3ad17311e67a71e53afeba82519be3cc_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="192,13,308,39"/>
<area shape="rect" id="node3" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="356,13,441,39"/>
</map>
</div>

</div>
</div>
<a id="a3426c094201aca9e3c78118630a0b70c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3426c094201aca9e3c78118630a0b70c">&#9670;&nbsp;</a></span>buf_unmapped_default_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buf_unmapped_default_callback </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a3426c094201aca9e3c78118630a0b70c_icgraph.png" border="0" usemap="#relay_8c_a3426c094201aca9e3c78118630a0b70c_icgraph" alt=""/></div>
<map name="relay_8c_a3426c094201aca9e3c78118630a0b70c_icgraph" id="relay_8c_a3426c094201aca9e3c78118630a0b70c_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="207,13,323,39"/>
<area shape="rect" id="node3" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="371,13,456,39"/>
</map>
</div>

</div>
</div>
<a id="a99a25bfcef1a77c3375d3b3445af1103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99a25bfcef1a77c3375d3b3445af1103">&#9670;&nbsp;</a></span>create_buf_file_default_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct dentry* create_buf_file_default_callback </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>is_global</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a99a25bfcef1a77c3375d3b3445af1103_icgraph.png" border="0" usemap="#relay_8c_a99a25bfcef1a77c3375d3b3445af1103_icgraph" alt=""/></div>
<map name="relay_8c_a99a25bfcef1a77c3375d3b3445af1103_icgraph" id="relay_8c_a99a25bfcef1a77c3375d3b3445af1103_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="207,13,323,39"/>
<area shape="rect" id="node3" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="371,13,456,39"/>
</map>
</div>

</div>
</div>
<a id="a1bd9af9cd359e445f6fafa55811c634f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd9af9cd359e445f6fafa55811c634f">&#9670;&nbsp;</a></span>DEFINE_MUTEX()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static DEFINE_MUTEX </td>
          <td>(</td>
          <td class="paramtype">relay_channels_mutex&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7bf9731b7f5efd869fc466cfcabe4ecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf9731b7f5efd869fc466cfcabe4ecb">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[1/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947">relay_buf_full</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a7bf9731b7f5efd869fc466cfcabe4ecb_icgraph.png" border="0" usemap="#relay_8c_a7bf9731b7f5efd869fc466cfcabe4ecb_icgraph" alt=""/></div>
<map name="relay_8c_a7bf9731b7f5efd869fc466cfcabe4ecb_icgraph" id="relay_8c_a7bf9731b7f5efd869fc466cfcabe4ecb_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947" title="relay_buf_full" alt="" coords="261,17,360,43"/>
<area shape="rect" id="node5" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="872,45,957,71"/>
<area shape="rect" id="node6" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d" title="relay_reset" alt="" coords="267,122,354,149"/>
<area shape="rect" id="node7" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891" title="relay_late_setup_files" alt="" coords="237,173,385,199"/>
<area shape="rect" id="node8" href="relay_8c.html#adde08818b3870b64e08ce0ff3c53f61e" title="relay_switch_subbuf" alt="" coords="240,223,381,250"/>
<area shape="rect" id="node9" href="relay_8c.html#a45b8eae7eb166510a4b8f7116a55112e" title="relay_flush" alt="" coords="485,235,570,262"/>
<area shape="rect" id="node10" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06" title="relay_subbufs_consumed" alt="" coords="225,325,396,351"/>
<area shape="rect" id="node16" href="relay_8c.html#a14bb734937c72098201b5042d866aef9" title="relay_close" alt="" coords="267,375,355,402"/>
<area shape="rect" id="node3" href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087" title="subbuf_start_default\l_callback" alt="" coords="457,5,597,47"/>
<area shape="rect" id="node4" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="678,17,794,43"/>
<area shape="rect" id="node11" href="relay_8c.html#a3d997febd6d6d9ebfa89ddb61f91db02" title="relay_file_read_consume" alt="" coords="444,311,611,338"/>
<area shape="rect" id="node14" href="relay_8c.html#af5327d62aa0a02ab107405644f7f09ae" title="relay_consume_bytes" alt="" coords="453,362,602,389"/>
<area shape="rect" id="node12" href="relay_8c.html#a4fb3cab39fe230e6943130c59fa96c3d" title="relay_file_read_avail" alt="" coords="666,261,806,287"/>
<area shape="rect" id="node13" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="861,286,968,313"/>
<area shape="rect" id="node15" href="relay_8c.html#a949958cdd5b1f7f6168c94606c3e47e4" title="relay_pipe_buf_release" alt="" coords="659,362,813,389"/>
</map>
</div>

</div>
</div>
<a id="a23faf1ce411198426aedd8c92debe9fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23faf1ce411198426aedd8c92debe9fe">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[2/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d">relay_reset</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a617f45339f77e50beee2fdc83be7d1eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617f45339f77e50beee2fdc83be7d1eb">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[3/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710">relay_open</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab797887aabc7a1d138fbc80b6607f852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab797887aabc7a1d138fbc80b6607f852">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[4/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891">relay_late_setup_files</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa3d6d0a8e232c01f2bd8e4e1717a98f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3d6d0a8e232c01f2bd8e4e1717a98f8">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[5/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#adde08818b3870b64e08ce0ff3c53f61e">relay_switch_subbuf</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a30addc768c646d16d7b94bbae205bb62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30addc768c646d16d7b94bbae205bb62">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[6/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06">relay_subbufs_consumed</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae873eb6e4fe3c98821d2d1f1e6382faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae873eb6e4fe3c98821d2d1f1e6382faf">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[7/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#a14bb734937c72098201b5042d866aef9">relay_close</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a721ae85a9ee263a8fb57e78d7dad540f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721ae85a9ee263a8fb57e78d7dad540f">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[8/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#a45b8eae7eb166510a4b8f7116a55112e">relay_flush</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a36d5816535c5dd885e9ffcc4aef4f052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d5816535c5dd885e9ffcc4aef4f052">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[9/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="relay_8c.html#adde713c21c12ded8a4472dd3ee575c3b">relay_file_operations</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6d0ebb8500ba474769c8a8297a47357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d0ebb8500ba474769c8a8297a47357">&#9670;&nbsp;</a></span>LIST_HEAD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static LIST_HEAD </td>
          <td>(</td>
          <td class="paramtype">relay_channels&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a98e556412d5564dead0eab82e5d10836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e556412d5564dead0eab82e5d10836">&#9670;&nbsp;</a></span>relay_alloc_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* relay_alloc_buf </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_alloc_buf - allocate a channel buffer : the buffer struct : total size of the buffer</p>
<p>Returns a pointer to the resulting buffer, NULL if unsuccessful. The passed in size will get page aligned, if it isn't already. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a98e556412d5564dead0eab82e5d10836_cgraph.png" border="0" usemap="#relay_8c_a98e556412d5564dead0eab82e5d10836_cgraph" alt=""/></div>
<map name="relay_8c_a98e556412d5564dead0eab82e5d10836_cgraph" id="relay_8c_a98e556412d5564dead0eab82e5d10836_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#ac30a83f7189101071bbc535a5af9088d" title="relay_alloc_page_array" alt="" coords="163,5,317,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="165,56,315,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a98e556412d5564dead0eab82e5d10836_icgraph.png" border="0" usemap="#relay_8c_a98e556412d5564dead0eab82e5d10836_icgraph" alt=""/></div>
<map name="relay_8c_a98e556412d5564dead0eab82e5d10836_icgraph" id="relay_8c_a98e556412d5564dead0eab82e5d10836_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2" title="relay_create_buf" alt="" coords="163,130,281,157"/>
<area shape="rect" id="node3" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="329,130,440,157"/>
<area shape="rect" id="node4" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="488,105,616,131"/>
<area shape="rect" id="node15" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="509,155,595,182"/>
<area shape="rect" id="node5" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="664,105,821,131"/>
<area shape="rect" id="node6" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="869,105,992,131"/>
<area shape="rect" id="node7" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="1043,54,1194,81"/>
<area shape="rect" id="node8" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1245,5,1436,47"/>
<area shape="rect" id="node10" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1267,88,1414,129"/>
<area shape="rect" id="node12" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="1040,156,1197,197"/>
<area shape="rect" id="node13" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="1040,221,1197,263"/>
<area shape="rect" id="node9" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1484,13,1675,39"/>
<area shape="rect" id="node11" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1506,95,1653,122"/>
<area shape="rect" id="node14" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1262,229,1419,255"/>
</map>
</div>

</div>
</div>
<a id="ac30a83f7189101071bbc535a5af9088d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac30a83f7189101071bbc535a5af9088d">&#9670;&nbsp;</a></span>relay_alloc_page_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct page** relay_alloc_page_array </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_pages</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ac30a83f7189101071bbc535a5af9088d_icgraph.png" border="0" usemap="#relay_8c_ac30a83f7189101071bbc535a5af9088d_icgraph" alt=""/></div>
<map name="relay_8c_ac30a83f7189101071bbc535a5af9088d_icgraph" id="relay_8c_ac30a83f7189101071bbc535a5af9088d_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836" title="relay_alloc_buf" alt="" coords="208,130,317,157"/>
<area shape="rect" id="node3" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2" title="relay_create_buf" alt="" coords="365,130,484,157"/>
<area shape="rect" id="node4" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="532,130,643,157"/>
<area shape="rect" id="node5" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="691,105,819,131"/>
<area shape="rect" id="node16" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="712,155,797,182"/>
<area shape="rect" id="node6" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="867,105,1024,131"/>
<area shape="rect" id="node7" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="1072,105,1195,131"/>
<area shape="rect" id="node8" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="1246,54,1397,81"/>
<area shape="rect" id="node9" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1448,5,1639,47"/>
<area shape="rect" id="node11" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1470,88,1617,129"/>
<area shape="rect" id="node13" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="1243,156,1400,197"/>
<area shape="rect" id="node14" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="1243,221,1400,263"/>
<area shape="rect" id="node10" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1687,13,1877,39"/>
<area shape="rect" id="node12" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1709,95,1855,122"/>
<area shape="rect" id="node15" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1465,229,1622,255"/>
</map>
</div>

</div>
</div>
<a id="acfccc5b48a563c290ee0526d304ad9bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfccc5b48a563c290ee0526d304ad9bb">&#9670;&nbsp;</a></span>relay_buf_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_buf_empty </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_buf_empty - boolean, is the channel buffer empty? : channel buffer</p>
<p>Returns 1 if the buffer is empty, 0 otherwise. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_acfccc5b48a563c290ee0526d304ad9bb_icgraph.png" border="0" usemap="#relay_8c_acfccc5b48a563c290ee0526d304ad9bb_icgraph" alt=""/></div>
<map name="relay_8c_acfccc5b48a563c290ee0526d304ad9bb_icgraph" id="relay_8c_acfccc5b48a563c290ee0526d304ad9bb_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a489ed4df74d98a2a7412b8ae98210df8" title="relay_file_poll" alt="" coords="172,5,273,32"/>
</map>
</div>

</div>
</div>
<a id="a0e73f4b81209e2881fadfb5605294ff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e73f4b81209e2881fadfb5605294ff5">&#9670;&nbsp;</a></span>relay_buf_fault()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_buf_fault </td>
          <td>(</td>
          <td class="paramtype">struct vm_fault *&#160;</td>
          <td class="paramname"><em>vmf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1261ee13b9a172eba345a30c33de4947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1261ee13b9a172eba345a30c33de4947">&#9670;&nbsp;</a></span>relay_buf_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int relay_buf_full </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_buf_full - boolean, is the channel buffer full? : channel buffer</p>
<p>Returns 1 if the buffer is full, 0 otherwise. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a1261ee13b9a172eba345a30c33de4947_cgraph.png" border="0" usemap="#relay_8c_a1261ee13b9a172eba345a30c33de4947_cgraph" alt=""/></div>
<map name="relay_8c_a1261ee13b9a172eba345a30c33de4947_cgraph" id="relay_8c_a1261ee13b9a172eba345a30c33de4947_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="152,5,324,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a1261ee13b9a172eba345a30c33de4947_icgraph.png" border="0" usemap="#relay_8c_a1261ee13b9a172eba345a30c33de4947_icgraph" alt=""/></div>
<map name="relay_8c_a1261ee13b9a172eba345a30c33de4947_icgraph" id="relay_8c_a1261ee13b9a172eba345a30c33de4947_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087" title="subbuf_start_default\l_callback" alt="" coords="152,5,292,47"/>
<area shape="rect" id="node3" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="340,13,456,39"/>
<area shape="rect" id="node4" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="504,13,589,39"/>
</map>
</div>

</div>
</div>
<a id="a14bb734937c72098201b5042d866aef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14bb734937c72098201b5042d866aef9">&#9670;&nbsp;</a></span>relay_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void relay_close </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_close - close the channel : the channel</p>
<p>Closes all channel buffers and frees the channel. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a14bb734937c72098201b5042d866aef9_cgraph.png" border="0" usemap="#relay_8c_a14bb734937c72098201b5042d866aef9_cgraph" alt=""/></div>
<map name="relay_8c_a14bb734937c72098201b5042d866aef9_cgraph" id="relay_8c_a14bb734937c72098201b5042d866aef9_cgraph">
<area shape="rect" id="node2" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="183,775,272,802"/>
<area shape="rect" id="node40" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77" title="relay_close_buf" alt="" coords="171,978,284,1005"/>
<area shape="rect" id="node47" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="796,1054,948,1081"/>
<area shape="rect" id="node48" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="176,877,279,903"/>
<area shape="rect" id="node50" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="141,1105,313,1131"/>
<area shape="rect" id="node3" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="369,699,516,726"/>
<area shape="rect" id="node4" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="361,750,524,777"/>
<area shape="rect" id="node39" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="373,801,512,827"/>
<area shape="rect" id="node5" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="607,565,709,591"/>
<area shape="rect" id="node6" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="792,379,952,406"/>
<area shape="rect" id="node7" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1035,649,1153,675"/>
<area shape="rect" id="node11" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1251,598,1403,625"/>
<area shape="rect" id="node24" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1014,212,1174,253"/>
<area shape="rect" id="node26" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1241,156,1414,197"/>
<area shape="rect" id="node28" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1000,379,1188,406"/>
<area shape="rect" id="node29" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1243,53,1412,79"/>
<area shape="rect" id="node30" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1247,278,1407,305"/>
<area shape="rect" id="node31" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1031,430,1157,457"/>
<area shape="rect" id="node32" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1008,95,1180,136"/>
<area shape="rect" id="node33" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1236,329,1419,355"/>
<area shape="rect" id="node35" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1027,547,1161,574"/>
<area shape="rect" id="node36" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1014,481,1174,523"/>
<area shape="rect" id="node8" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1487,529,1623,571"/>
<area shape="rect" id="node9" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1726,535,1833,562"/>
<area shape="rect" id="node10" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="1928,687,2031,714"/>
<area shape="rect" id="node12" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1467,637,1643,663"/>
<area shape="rect" id="node13" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1732,637,1827,663"/>
<area shape="rect" id="node14" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1718,805,1841,831"/>
<area shape="rect" id="node15" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1735,586,1823,613"/>
<area shape="rect" id="node22" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1704,739,1855,780"/>
<area shape="rect" id="node23" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1691,391,1868,432"/>
<area shape="rect" id="node16" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1916,227,2043,254"/>
<area shape="rect" id="node17" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2103,227,2217,254"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2091,278,2229,305"/>
<area shape="rect" id="node18" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2277,177,2372,203"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2287,227,2362,254"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2280,278,2369,305"/>
<area shape="rect" id="node25" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1241,223,1413,250"/>
<area shape="rect" id="node27" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1476,103,1633,130"/>
<area shape="rect" id="node34" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1942,305,2017,331"/>
<area shape="rect" id="node37" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1290,437,1365,463"/>
<area shape="rect" id="node38" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1283,487,1371,514"/>
<area shape="rect" id="node41" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="389,953,496,979"/>
<area shape="rect" id="node43" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="380,1003,505,1030"/>
<area shape="rect" id="node42" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="572,953,744,979"/>
<area shape="rect" id="node44" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="595,1003,721,1030"/>
<area shape="rect" id="node45" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="797,953,947,979"/>
<area shape="rect" id="node46" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="1069,1029,1119,1055"/>
<area shape="rect" id="node49" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="369,902,516,929"/>
</map>
</div>

</div>
</div>
<a id="a9c9c25f52aa4ed36a4ab73dadfef5a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c9c25f52aa4ed36a4ab73dadfef5a77">&#9670;&nbsp;</a></span>relay_close_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_close_buf </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_close_buf - close a channel buffer : channel buffer</p>
<p>Marks the buffer finalized and restores the default callbacks. The channel buffer and channel buffer data structure are then freed automatically when the last reference is given up. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_cgraph.png" border="0" usemap="#relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_cgraph" alt=""/></div>
<map name="relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_cgraph" id="relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_cgraph">
<area shape="rect" id="node2" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="176,5,283,32"/>
<area shape="rect" id="node4" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="167,56,292,83"/>
<area shape="rect" id="node3" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="340,5,512,32"/>
<area shape="rect" id="node5" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="363,56,489,83"/>
<area shape="rect" id="node6" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="561,5,711,32"/>
<area shape="rect" id="node7" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="760,81,811,108"/>
<area shape="rect" id="node8" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="560,107,712,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_icgraph.png" border="0" usemap="#relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_icgraph" alt=""/></div>
<map name="relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_icgraph" id="relay_8c_a9c9c25f52aa4ed36a4ab73dadfef5a77_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="168,5,253,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a14bb734937c72098201b5042d866aef9" title="relay_close" alt="" coords="167,56,255,83"/>
</map>
</div>

</div>
</div>
<a id="af5327d62aa0a02ab107405644f7f09ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5327d62aa0a02ab107405644f7f09ae">&#9670;&nbsp;</a></span>relay_consume_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_consume_bytes </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bytes_consumed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_af5327d62aa0a02ab107405644f7f09ae_cgraph.png" border="0" usemap="#relay_8c_af5327d62aa0a02ab107405644f7f09ae_cgraph" alt=""/></div>
<map name="relay_8c_af5327d62aa0a02ab107405644f7f09ae_cgraph" id="relay_8c_af5327d62aa0a02ab107405644f7f09ae_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06" title="relay_subbufs_consumed" alt="" coords="203,5,373,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="421,5,593,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_af5327d62aa0a02ab107405644f7f09ae_icgraph.png" border="0" usemap="#relay_8c_af5327d62aa0a02ab107405644f7f09ae_icgraph" alt=""/></div>
<map name="relay_8c_af5327d62aa0a02ab107405644f7f09ae_icgraph" id="relay_8c_af5327d62aa0a02ab107405644f7f09ae_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a949958cdd5b1f7f6168c94606c3e47e4" title="relay_pipe_buf_release" alt="" coords="203,5,357,32"/>
</map>
</div>

</div>
</div>
<a id="a47fd9ab9a4a39f82a9f15c55046861e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47fd9ab9a4a39f82a9f15c55046861e2">&#9670;&nbsp;</a></span>relay_create_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct rchan_buf* relay_create_buf </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_create_buf - allocate and initialize a channel buffer : the relay channel</p>
<p>Returns channel buffer if successful, NULL otherwise. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_cgraph.png" border="0" usemap="#relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_cgraph" alt=""/></div>
<map name="relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_cgraph" id="relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836" title="relay_alloc_buf" alt="" coords="172,31,281,57"/>
<area shape="rect" id="node5" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="201,81,252,108"/>
<area shape="rect" id="node3" href="relay_8c.html#ac30a83f7189101071bbc535a5af9088d" title="relay_alloc_page_array" alt="" coords="329,5,484,32"/>
<area shape="rect" id="node4" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="331,56,482,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_icgraph.png" border="0" usemap="#relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_icgraph" alt=""/></div>
<map name="relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_icgraph" id="relay_8c_a47fd9ab9a4a39f82a9f15c55046861e2_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="172,130,283,157"/>
<area shape="rect" id="node3" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="331,105,459,131"/>
<area shape="rect" id="node14" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="352,155,437,182"/>
<area shape="rect" id="node4" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="507,105,664,131"/>
<area shape="rect" id="node5" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="712,105,835,131"/>
<area shape="rect" id="node6" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="886,54,1037,81"/>
<area shape="rect" id="node7" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1088,5,1279,47"/>
<area shape="rect" id="node9" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1110,88,1257,129"/>
<area shape="rect" id="node11" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="883,156,1040,197"/>
<area shape="rect" id="node12" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="883,221,1040,263"/>
<area shape="rect" id="node8" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1327,13,1517,39"/>
<area shape="rect" id="node10" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1349,95,1495,122"/>
<area shape="rect" id="node13" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1105,229,1262,255"/>
</map>
</div>

</div>
</div>
<a id="a61a9a2410bce77660621128223f63cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a9a2410bce77660621128223f63cdb">&#9670;&nbsp;</a></span>relay_create_buf_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct dentry* relay_create_buf_file </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a61a9a2410bce77660621128223f63cdb_cgraph.png" border="0" usemap="#relay_8c_a61a9a2410bce77660621128223f63cdb_cgraph" alt=""/></div>
<map name="relay_8c_a61a9a2410bce77660621128223f63cdb_cgraph" id="relay_8c_a61a9a2410bce77660621128223f63cdb_cgraph">
<area shape="rect" id="node2" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="196,5,247,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a61a9a2410bce77660621128223f63cdb_icgraph.png" border="0" usemap="#relay_8c_a61a9a2410bce77660621128223f63cdb_icgraph" alt=""/></div>
<map name="relay_8c_a61a9a2410bce77660621128223f63cdb_icgraph" id="relay_8c_a61a9a2410bce77660621128223f63cdb_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="215,130,325,157"/>
<area shape="rect" id="node15" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891" title="relay_late_setup_files" alt="" coords="196,181,344,207"/>
<area shape="rect" id="node3" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="392,105,520,131"/>
<area shape="rect" id="node14" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="413,155,499,182"/>
<area shape="rect" id="node4" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="568,105,725,131"/>
<area shape="rect" id="node5" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="773,105,896,131"/>
<area shape="rect" id="node6" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="947,54,1098,81"/>
<area shape="rect" id="node7" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1149,5,1340,47"/>
<area shape="rect" id="node9" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1171,88,1318,129"/>
<area shape="rect" id="node11" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="944,156,1101,197"/>
<area shape="rect" id="node12" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="944,221,1101,263"/>
<area shape="rect" id="node8" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1388,13,1579,39"/>
<area shape="rect" id="node10" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1410,95,1557,122"/>
<area shape="rect" id="node13" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1166,229,1323,255"/>
</map>
</div>

</div>
</div>
<a id="ae8802ffb6b14ad2e2e3a1714d0880f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8802ffb6b14ad2e2e3a1714d0880f7e">&#9670;&nbsp;</a></span>relay_destroy_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_destroy_buf </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_destroy_buf - destroy an rchan_buf struct and associated buffer : the buffer struct </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_cgraph.png" border="0" usemap="#relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_cgraph" alt=""/></div>
<map name="relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_cgraph" id="relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="179,5,330,32"/>
<area shape="rect" id="node3" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="379,81,429,108"/>
<area shape="rect" id="node4" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="179,107,331,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_icgraph.png" border="0" usemap="#relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_icgraph" alt=""/></div>
<map name="relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_icgraph" id="relay_8c_ae8802ffb6b14ad2e2e3a1714d0880f7e_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="179,56,304,83"/>
<area shape="rect" id="node7" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="186,107,297,133"/>
<area shape="rect" id="node3" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77" title="relay_close_buf" alt="" coords="359,5,473,32"/>
<area shape="rect" id="node6" href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212" title="relay_file_release" alt="" coords="355,56,477,83"/>
<area shape="rect" id="node4" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="564,81,649,108"/>
<area shape="rect" id="node5" href="relay_8c.html#a14bb734937c72098201b5042d866aef9" title="relay_close" alt="" coords="563,5,651,32"/>
<area shape="rect" id="node8" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="352,157,480,184"/>
<area shape="rect" id="node9" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="528,157,685,184"/>
<area shape="rect" id="node10" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="733,157,856,184"/>
<area shape="rect" id="node11" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="907,107,1058,133"/>
<area shape="rect" id="node12" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1109,58,1300,99"/>
<area shape="rect" id="node14" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1131,141,1278,182"/>
<area shape="rect" id="node16" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="904,209,1061,250"/>
<area shape="rect" id="node17" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="904,274,1061,315"/>
<area shape="rect" id="node13" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1348,65,1539,92"/>
<area shape="rect" id="node15" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1370,148,1517,175"/>
<area shape="rect" id="node18" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1126,281,1283,308"/>
</map>
</div>

</div>
</div>
<a id="a79e75ff01cafd826695baa24b0223e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e75ff01cafd826695baa24b0223e93">&#9670;&nbsp;</a></span>relay_destroy_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_destroy_channel </td>
          <td>(</td>
          <td class="paramtype">struct kref *&#160;</td>
          <td class="paramname"><em>kref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_destroy_channel - free the channel struct : target kernel reference that contains the relay channel</p>
<p>Should only be called from kref_put(). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a79e75ff01cafd826695baa24b0223e93_cgraph.png" border="0" usemap="#relay_8c_a79e75ff01cafd826695baa24b0223e93_cgraph" alt=""/></div>
<map name="relay_8c_a79e75ff01cafd826695baa24b0223e93_cgraph" id="relay_8c_a79e75ff01cafd826695baa24b0223e93_cgraph">
<area shape="rect" id="node2" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="205,5,256,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a79e75ff01cafd826695baa24b0223e93_icgraph.png" border="0" usemap="#relay_8c_a79e75ff01cafd826695baa24b0223e93_icgraph" alt=""/></div>
<map name="relay_8c_a79e75ff01cafd826695baa24b0223e93_icgraph" id="relay_8c_a79e75ff01cafd826695baa24b0223e93_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="205,111,331,138"/>
<area shape="rect" id="node5" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="764,86,849,113"/>
<area shape="rect" id="node6" href="relay_8c.html#a14bb734937c72098201b5042d866aef9" title="relay_close" alt="" coords="763,238,851,265"/>
<area shape="rect" id="node3" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="379,86,504,113"/>
<area shape="rect" id="node8" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="386,137,497,163"/>
<area shape="rect" id="node4" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77" title="relay_close_buf" alt="" coords="559,86,673,113"/>
<area shape="rect" id="node7" href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212" title="relay_file_release" alt="" coords="555,35,677,62"/>
<area shape="rect" id="node9" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="552,187,680,214"/>
<area shape="rect" id="node10" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="728,187,885,214"/>
<area shape="rect" id="node11" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="933,187,1056,214"/>
<area shape="rect" id="node12" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="1107,137,1258,163"/>
<area shape="rect" id="node13" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1309,88,1500,129"/>
<area shape="rect" id="node15" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1331,171,1478,212"/>
<area shape="rect" id="node17" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="1104,239,1261,280"/>
<area shape="rect" id="node18" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="1104,304,1261,345"/>
<area shape="rect" id="node14" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1548,95,1739,122"/>
<area shape="rect" id="node16" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1570,178,1717,205"/>
<area shape="rect" id="node19" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1326,311,1483,338"/>
</map>
</div>

</div>
</div>
<a id="ad423786f1b0c1782521b36e9013e88c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad423786f1b0c1782521b36e9013e88c5">&#9670;&nbsp;</a></span>relay_file_mmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_file_mmap </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct vm_area_struct *&#160;</td>
          <td class="paramname"><em>vma</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_mmap - mmap file op for relay files : the file : the vma describing what to map</p>
<p>Calls upon <a class="el" href="relay_8c.html#a764b0c1b8e4c2ec5a633e1eb945effce">relay_mmap_buf()</a> to map the file into user space. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ad423786f1b0c1782521b36e9013e88c5_cgraph.png" border="0" usemap="#relay_8c_ad423786f1b0c1782521b36e9013e88c5_cgraph" alt=""/></div>
<map name="relay_8c_ad423786f1b0c1782521b36e9013e88c5_cgraph" id="relay_8c_ad423786f1b0c1782521b36e9013e88c5_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a764b0c1b8e4c2ec5a633e1eb945effce" title="relay_mmap_buf" alt="" coords="171,5,289,32"/>
</map>
</div>

</div>
</div>
<a id="aef072ea4bef8c2a9c50ce0c056e897f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef072ea4bef8c2a9c50ce0c056e897f6">&#9670;&nbsp;</a></span>relay_file_mmap_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_file_mmap_close </td>
          <td>(</td>
          <td class="paramtype">struct vm_area_struct *&#160;</td>
          <td class="paramname"><em>vma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a562de8b2e74f23bf48474e4a7763d18a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562de8b2e74f23bf48474e4a7763d18a">&#9670;&nbsp;</a></span>relay_file_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_file_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_open - open file op for relay files : the inode : the file</p>
<p>Increments the channel buffer refcount. </p>

</div>
</div>
<a id="a489ed4df74d98a2a7412b8ae98210df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a489ed4df74d98a2a7412b8ae98210df8">&#9670;&nbsp;</a></span>relay_file_poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __poll_t relay_file_poll </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">poll_table *&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_poll - poll file op for relay files : the file : poll table</p>
<p>Poll implemention. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a489ed4df74d98a2a7412b8ae98210df8_cgraph.png" border="0" usemap="#relay_8c_a489ed4df74d98a2a7412b8ae98210df8_cgraph" alt=""/></div>
<map name="relay_8c_a489ed4df74d98a2a7412b8ae98210df8_cgraph" id="relay_8c_a489ed4df74d98a2a7412b8ae98210df8_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#acfccc5b48a563c290ee0526d304ad9bb" title="relay_buf_empty" alt="" coords="155,5,273,32"/>
</map>
</div>

</div>
</div>
<a id="aeeff109710582a91981ef43d898b6a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeff109710582a91981ef43d898b6a57">&#9670;&nbsp;</a></span>relay_file_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t relay_file_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char __user *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>ppos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_aeeff109710582a91981ef43d898b6a57_cgraph.png" border="0" usemap="#relay_8c_aeeff109710582a91981ef43d898b6a57_cgraph" alt=""/></div>
<map name="relay_8c_aeeff109710582a91981ef43d898b6a57_cgraph" id="relay_8c_aeeff109710582a91981ef43d898b6a57_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a4fb3cab39fe230e6943130c59fa96c3d" title="relay_file_read_avail" alt="" coords="173,5,313,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a3d997febd6d6d9ebfa89ddb61f91db02" title="relay_file_read_consume" alt="" coords="375,31,541,57"/>
<area shape="rect" id="node6" href="relay_8c.html#a1d532401f6d2dcb90cc5ae742dac305a" title="relay_file_read_start_pos" alt="" coords="160,107,327,133"/>
<area shape="rect" id="node7" href="relay_8c.html#aeb80e9d4f92fb686fce47d4f0fc095b2" title="relay_file_read_subbuf\l_avail" alt="" coords="167,158,319,199"/>
<area shape="rect" id="node8" href="relay_8c.html#a74de25789e6383103ca2bc69e78b3795" title="relay_file_read_end_pos" alt="" coords="162,224,325,251"/>
<area shape="rect" id="node4" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06" title="relay_subbufs_consumed" alt="" coords="589,31,760,57"/>
<area shape="rect" id="node5" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="808,31,980,57"/>
</map>
</div>

</div>
</div>
<a id="a4fb3cab39fe230e6943130c59fa96c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fb3cab39fe230e6943130c59fa96c3d">&#9670;&nbsp;</a></span>relay_file_read_avail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_file_read_avail </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>read_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_cgraph.png" border="0" usemap="#relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_cgraph" alt=""/></div>
<map name="relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_cgraph" id="relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a3d997febd6d6d9ebfa89ddb61f91db02" title="relay_file_read_consume" alt="" coords="193,5,360,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06" title="relay_subbufs_consumed" alt="" coords="408,5,579,32"/>
<area shape="rect" id="node4" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="627,5,799,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_icgraph.png" border="0" usemap="#relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_icgraph" alt=""/></div>
<map name="relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_icgraph" id="relay_8c_a4fb3cab39fe230e6943130c59fa96c3d_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="193,5,300,32"/>
</map>
</div>

</div>
</div>
<a id="a3d997febd6d6d9ebfa89ddb61f91db02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d997febd6d6d9ebfa89ddb61f91db02">&#9670;&nbsp;</a></span>relay_file_read_consume()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_file_read_consume </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>read_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bytes_consumed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_cgraph.png" border="0" usemap="#relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_cgraph" alt=""/></div>
<map name="relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_cgraph" id="relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06" title="relay_subbufs_consumed" alt="" coords="220,5,391,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="439,5,611,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_icgraph.png" border="0" usemap="#relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_icgraph" alt=""/></div>
<map name="relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_icgraph" id="relay_8c_a3d997febd6d6d9ebfa89ddb61f91db02_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a4fb3cab39fe230e6943130c59fa96c3d" title="relay_file_read_avail" alt="" coords="220,5,360,32"/>
<area shape="rect" id="node3" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="408,31,515,57"/>
</map>
</div>

</div>
</div>
<a id="a74de25789e6383103ca2bc69e78b3795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74de25789e6383103ca2bc69e78b3795">&#9670;&nbsp;</a></span>relay_file_read_end_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t relay_file_read_end_pos </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>read_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_read_end_pos - return the new read position : file read position : relay channel buffer : number of bytes to be read </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a74de25789e6383103ca2bc69e78b3795_icgraph.png" border="0" usemap="#relay_8c_a74de25789e6383103ca2bc69e78b3795_icgraph" alt=""/></div>
<map name="relay_8c_a74de25789e6383103ca2bc69e78b3795_icgraph" id="relay_8c_a74de25789e6383103ca2bc69e78b3795_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="216,5,323,32"/>
</map>
</div>

</div>
</div>
<a id="a1d532401f6d2dcb90cc5ae742dac305a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d532401f6d2dcb90cc5ae742dac305a">&#9670;&nbsp;</a></span>relay_file_read_start_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t relay_file_read_start_pos </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>read_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_read_start_pos - find the first available byte to read : file read position : relay channel buffer</p>
<p>If the  is in the middle of padding, return the position of the first actually available byte, otherwise return the original value. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a1d532401f6d2dcb90cc5ae742dac305a_icgraph.png" border="0" usemap="#relay_8c_a1d532401f6d2dcb90cc5ae742dac305a_icgraph" alt=""/></div>
<map name="relay_8c_a1d532401f6d2dcb90cc5ae742dac305a_icgraph" id="relay_8c_a1d532401f6d2dcb90cc5ae742dac305a_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="220,5,327,32"/>
</map>
</div>

</div>
</div>
<a id="aeb80e9d4f92fb686fce47d4f0fc095b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb80e9d4f92fb686fce47d4f0fc095b2">&#9670;&nbsp;</a></span>relay_file_read_subbuf_avail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t relay_file_read_subbuf_avail </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>read_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_read_subbuf_avail - return bytes available in sub-buffer : file read position : relay channel buffer </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_aeb80e9d4f92fb686fce47d4f0fc095b2_icgraph.png" border="0" usemap="#relay_8c_aeb80e9d4f92fb686fce47d4f0fc095b2_icgraph" alt=""/></div>
<map name="relay_8c_aeb80e9d4f92fb686fce47d4f0fc095b2_icgraph" id="relay_8c_aeb80e9d4f92fb686fce47d4f0fc095b2_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="205,13,312,39"/>
</map>
</div>

</div>
</div>
<a id="a4e609060cfdfe5a0d112c53a0dd4c212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e609060cfdfe5a0d112c53a0dd4c212">&#9670;&nbsp;</a></span>relay_file_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_file_release </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_file_release - release file op for relay files : the inode : the file</p>
<p>Decrements the channel refcount, as the filesystem is no longer using it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a4e609060cfdfe5a0d112c53a0dd4c212_cgraph.png" border="0" usemap="#relay_8c_a4e609060cfdfe5a0d112c53a0dd4c212_cgraph" alt=""/></div>
<map name="relay_8c_a4e609060cfdfe5a0d112c53a0dd4c212_cgraph" id="relay_8c_a4e609060cfdfe5a0d112c53a0dd4c212_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="176,56,301,83"/>
<area shape="rect" id="node3" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="349,56,475,83"/>
<area shape="rect" id="node4" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="523,5,674,32"/>
<area shape="rect" id="node5" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="723,81,773,108"/>
<area shape="rect" id="node6" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="523,107,675,133"/>
</map>
</div>

</div>
</div>
<a id="aa628837e7462de7b83b397e3bd068169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa628837e7462de7b83b397e3bd068169">&#9670;&nbsp;</a></span>relay_file_splice_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t relay_file_splice_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>ppos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pipe_inode_info *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_aa628837e7462de7b83b397e3bd068169_cgraph.png" border="0" usemap="#relay_8c_aa628837e7462de7b83b397e3bd068169_cgraph" alt=""/></div>
<map name="relay_8c_aa628837e7462de7b83b397e3bd068169_cgraph" id="relay_8c_aa628837e7462de7b83b397e3bd068169_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#aaa3b009c2f6aaa1bbaa16efa2bc88510" title="subbuf_splice_actor" alt="" coords="200,5,339,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a460ca576812df58ba98722d0b6a3dbdc" title="relay_page_release" alt="" coords="387,5,521,32"/>
</map>
</div>

</div>
</div>
<a id="a45b8eae7eb166510a4b8f7116a55112e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b8eae7eb166510a4b8f7116a55112e">&#9670;&nbsp;</a></span>relay_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void relay_flush </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_flush - close the channel : the channel</p>
<p>Flushes all channel buffers, i.e. forces buffer switch. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a45b8eae7eb166510a4b8f7116a55112e_cgraph.png" border="0" usemap="#relay_8c_a45b8eae7eb166510a4b8f7116a55112e_cgraph" alt=""/></div>
<map name="relay_8c_a45b8eae7eb166510a4b8f7116a55112e_cgraph" id="relay_8c_a45b8eae7eb166510a4b8f7116a55112e_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#adde08818b3870b64e08ce0ff3c53f61e" title="relay_switch_subbuf" alt="" coords="139,107,280,133"/>
<area shape="rect" id="node7" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="328,107,500,133"/>
<area shape="rect" id="node8" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="165,208,254,235"/>
<area shape="rect" id="node49" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="158,284,261,311"/>
<area shape="rect" id="node3" href="irq__work_8c.html#a97c61c328b0408e4957486ac57d1a03b" title="irq_work_queue" alt="" coords="357,56,471,83"/>
<area shape="rect" id="node4" href="irq__work_8c.html#a15ad44b1e004fbd3998be557220fac4e" title="irq_work_claim" alt="" coords="579,5,689,32"/>
<area shape="rect" id="node5" href="irq__work_8c.html#afdd50f70c4dae7339fd991caae188573" title="arch_irq_work_raise" alt="" coords="565,56,703,83"/>
<area shape="rect" id="node6" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="548,107,720,133"/>
<area shape="rect" id="node9" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="341,157,487,184"/>
<area shape="rect" id="node10" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="333,208,495,235"/>
<area shape="rect" id="node48" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="345,259,483,285"/>
<area shape="rect" id="node11" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="583,233,685,260"/>
<area shape="rect" id="node12" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="768,645,928,672"/>
<area shape="rect" id="node13" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1011,528,1129,555"/>
<area shape="rect" id="node17" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1227,360,1379,387"/>
<area shape="rect" id="node31" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="990,579,1150,621"/>
<area shape="rect" id="node33" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1217,817,1390,858"/>
<area shape="rect" id="node35" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="976,696,1164,723"/>
<area shape="rect" id="node36" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1219,715,1388,741"/>
<area shape="rect" id="node37" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1223,411,1383,437"/>
<area shape="rect" id="node38" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1007,747,1133,773"/>
<area shape="rect" id="node39" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="984,849,1156,890"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1212,917,1395,944"/>
<area shape="rect" id="node44" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1003,797,1137,824"/>
<area shape="rect" id="node45" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="990,462,1150,503"/>
<area shape="rect" id="node14" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1463,555,1599,597"/>
<area shape="rect" id="node15" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1702,501,1809,528"/>
<area shape="rect" id="node16" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="1904,341,2007,368"/>
<area shape="rect" id="node18" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1443,341,1619,368"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1708,392,1803,419"/>
<area shape="rect" id="node20" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1694,159,1817,185"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1711,445,1799,472"/>
<area shape="rect" id="node29" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1680,210,1831,251"/>
<area shape="rect" id="node30" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1667,275,1844,317"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1892,765,2019,792"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2079,765,2193,792"/>
<area shape="rect" id="node28" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2067,917,2205,944"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2253,689,2348,716"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2263,740,2338,767"/>
<area shape="rect" id="node26" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2256,791,2345,817"/>
<area shape="rect" id="node27" href="sched_2core_8c.html#a823893b4e55dfd4d171cb9513cea7a2b" title="ttwu_stat" alt="" coords="2263,841,2339,868"/>
<area shape="rect" id="node32" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1217,613,1389,640"/>
<area shape="rect" id="node34" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1452,765,1609,792"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1493,917,1568,944"/>
<area shape="rect" id="node42" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="1686,867,1825,893"/>
<area shape="rect" id="node43" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="1711,917,1799,944"/>
<area shape="rect" id="node46" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1266,461,1341,488"/>
<area shape="rect" id="node47" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1259,512,1347,539"/>
<area shape="rect" id="node50" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="341,360,487,387"/>
</map>
</div>

</div>
</div>
<a id="a766c99dff6e9b0bbfe00b7874c4b4f48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766c99dff6e9b0bbfe00b7874c4b4f48">&#9670;&nbsp;</a></span>relay_free_page_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_free_page_array </td>
          <td>(</td>
          <td class="paramtype">struct page **&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a766c99dff6e9b0bbfe00b7874c4b4f48_icgraph.png" border="0" usemap="#relay_8c_a766c99dff6e9b0bbfe00b7874c4b4f48_icgraph" alt=""/></div>
<map name="relay_8c_a766c99dff6e9b0bbfe00b7874c4b4f48_icgraph" id="relay_8c_a766c99dff6e9b0bbfe00b7874c4b4f48_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836" title="relay_alloc_buf" alt="" coords="212,105,321,131"/>
<area shape="rect" id="node17" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="204,155,329,182"/>
<area shape="rect" id="node3" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2" title="relay_create_buf" alt="" coords="381,105,499,131"/>
<area shape="rect" id="node4" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="557,117,667,143"/>
<area shape="rect" id="node5" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="721,105,849,131"/>
<area shape="rect" id="node16" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="743,155,828,182"/>
<area shape="rect" id="node6" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="897,105,1055,131"/>
<area shape="rect" id="node7" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="1103,105,1225,131"/>
<area shape="rect" id="node8" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="1277,54,1427,81"/>
<area shape="rect" id="node9" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1479,5,1669,47"/>
<area shape="rect" id="node11" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1501,88,1647,129"/>
<area shape="rect" id="node13" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="1273,156,1431,197"/>
<area shape="rect" id="node14" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="1273,221,1431,263"/>
<area shape="rect" id="node10" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1717,13,1908,39"/>
<area shape="rect" id="node12" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1739,95,1886,122"/>
<area shape="rect" id="node15" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1495,229,1653,255"/>
<area shape="rect" id="node18" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="377,206,503,233"/>
<area shape="rect" id="node19" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77" title="relay_close_buf" alt="" coords="555,193,669,219"/>
<area shape="rect" id="node21" href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212" title="relay_file_release" alt="" coords="551,243,673,270"/>
<area shape="rect" id="node20" href="relay_8c.html#a14bb734937c72098201b5042d866aef9" title="relay_close" alt="" coords="741,206,829,233"/>
</map>
</div>

</div>
</div>
<a id="a698b85ab540fff6f20a631b3b538a891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a698b85ab540fff6f20a631b3b538a891">&#9670;&nbsp;</a></span>relay_late_setup_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int relay_late_setup_files </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_late_setup_files - triggers file creation : channel to operate on : base name of files to create : dentry of parent directory, NULL for root directory</p>
<p>Returns 0 if successful, non-zero otherwise.</p>
<p>Use to setup files for a previously buffer-only channel created by <a class="el" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710">relay_open()</a> with a NULL parent dentry.</p>
<p>For example, this is useful for perfomring early tracing in kernel, before VFS is up and then exposing the early results once the dentry is available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a698b85ab540fff6f20a631b3b538a891_cgraph.png" border="0" usemap="#relay_8c_a698b85ab540fff6f20a631b3b538a891_cgraph" alt=""/></div>
<map name="relay_8c_a698b85ab540fff6f20a631b3b538a891_cgraph" id="relay_8c_a698b85ab540fff6f20a631b3b538a891_cgraph">
<area shape="rect" id="node2" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="243,724,332,751"/>
<area shape="rect" id="node36" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="236,800,339,827"/>
<area shape="rect" id="node38" href="cpudeadline_8c.html#a6bb854c6866f4abccf2a7cbd288b78c7" title="parent" alt="" coords="258,851,317,877"/>
<area shape="rect" id="node39" href="relay_8c.html#a61a9a2410bce77660621128223f63cdb" title="relay_create_buf_file" alt="" coords="216,901,359,928"/>
<area shape="rect" id="node41" href="relay_8c.html#af74221543a2bc059cbf657c846a4876e" title="relay_set_buf_dentry" alt="" coords="431,952,574,979"/>
<area shape="rect" id="node42" href="smp_8c.html#a01d34c6f7f3677880f1b4709c1c0922c" title="smp_call_function_single" alt="" coords="203,1053,371,1080"/>
<area shape="rect" id="node49" href="relay_8c.html#accb442616d2dcec7f9ace30ffa88086f" title="__relay_set_buf_dentry" alt="" coords="209,1003,366,1029"/>
<area shape="rect" id="node50" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="201,1104,373,1131"/>
<area shape="rect" id="node3" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="429,648,576,675"/>
<area shape="rect" id="node4" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="421,699,584,725"/>
<area shape="rect" id="node35" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="433,749,572,776"/>
<area shape="rect" id="node5" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="633,509,736,536"/>
<area shape="rect" id="node6" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="809,371,969,397"/>
<area shape="rect" id="node7" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1075,261,1193,288"/>
<area shape="rect" id="node11" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1291,547,1443,573"/>
<area shape="rect" id="node21" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1054,363,1214,405"/>
<area shape="rect" id="node23" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1281,182,1454,223"/>
<area shape="rect" id="node25" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="1040,211,1228,237"/>
<area shape="rect" id="node26" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1283,65,1452,92"/>
<area shape="rect" id="node27" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1287,395,1447,421"/>
<area shape="rect" id="node28" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1071,312,1197,339"/>
<area shape="rect" id="node29" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1048,94,1220,135"/>
<area shape="rect" id="node30" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1276,597,1459,624"/>
<area shape="rect" id="node32" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1067,547,1201,573"/>
<area shape="rect" id="node33" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1054,481,1214,522"/>
<area shape="rect" id="node8" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1527,417,1663,458"/>
<area shape="rect" id="node9" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1766,453,1873,480"/>
<area shape="rect" id="node10" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="1968,555,2071,581"/>
<area shape="rect" id="node12" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1507,555,1683,581"/>
<area shape="rect" id="node13" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1772,605,1867,632"/>
<area shape="rect" id="node14" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1758,656,1881,683"/>
<area shape="rect" id="node15" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1775,504,1863,531"/>
<area shape="rect" id="node19" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1744,310,1895,351"/>
<area shape="rect" id="node20" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1731,717,1908,758"/>
<area shape="rect" id="node16" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1956,351,2083,377"/>
<area shape="rect" id="node17" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2143,351,2257,377"/>
<area shape="rect" id="node18" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2131,427,2269,453"/>
<area shape="rect" id="node22" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1281,344,1453,371"/>
<area shape="rect" id="node24" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1516,116,1673,143"/>
<area shape="rect" id="node31" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1982,707,2057,733"/>
<area shape="rect" id="node34" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1330,496,1405,523"/>
<area shape="rect" id="node37" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="429,851,576,877"/>
<area shape="rect" id="node40" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="477,901,528,928"/>
<area shape="rect" id="node43" href="smp_8c.html#a07fe381d7220ef19d10b1f9e9dec6d3b" title="csd_lock" alt="" coords="465,1053,540,1080"/>
<area shape="rect" id="node44" href="smp_8c.html#adc0b37584c38e274914d6bb29dcc8352" title="csd_lock_wait" alt="" coords="632,1079,737,1105"/>
<area shape="rect" id="node45" href="smp_8c.html#aa69f18122d129e59f68470e2f5fb13bc" title="generic_exec_single" alt="" coords="433,1003,573,1029"/>
<area shape="rect" id="node48" href="smp_8c.html#a46efd20a5f2da3a54284b1865f38bc99" title="EXPORT_SYMBOL" alt="" coords="433,1155,572,1181"/>
<area shape="rect" id="node46" href="smp_8c.html#acc2a6f51b309df6076b999062198b635" title="csd_unlock" alt="" coords="641,1003,729,1029"/>
<area shape="rect" id="node47" href="smp_8c.html#ae008b86306eb95ab2673910ad547192d" title="DEFINE_PER_CPU_SHARED\l_ALIGNED" alt="" coords="785,995,992,1037"/>
</map>
</div>

</div>
</div>
<a id="a764b0c1b8e4c2ec5a633e1eb945effce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a764b0c1b8e4c2ec5a633e1eb945effce">&#9670;&nbsp;</a></span>relay_mmap_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int relay_mmap_buf </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct vm_area_struct *&#160;</td>
          <td class="paramname"><em>vma</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_mmap_buf: - mmap channel buffer to process address space : relay channel buffer : vm_area_struct describing memory to be mapped</p>
<p>Returns 0 if ok, negative on error</p>
<p>Caller should already have grabbed mmap_sem. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a764b0c1b8e4c2ec5a633e1eb945effce_icgraph.png" border="0" usemap="#relay_8c_a764b0c1b8e4c2ec5a633e1eb945effce_icgraph" alt=""/></div>
<map name="relay_8c_a764b0c1b8e4c2ec5a633e1eb945effce_icgraph" id="relay_8c_a764b0c1b8e4c2ec5a633e1eb945effce_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ad423786f1b0c1782521b36e9013e88c5" title="relay_file_mmap" alt="" coords="172,5,289,32"/>
</map>
</div>

</div>
</div>
<a id="ac289223a088a51eb939c3d17ea3c5710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac289223a088a51eb939c3d17ea3c5710">&#9670;&nbsp;</a></span>relay_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rchan* relay_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subbuf_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_subbufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rchan_callbacks *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>private_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_open - create a new relay channel : base name of files to create, NULL for buffering only : dentry of parent directory, NULL for root directory or buffer : size of sub-buffers : number of sub-buffers : client callback functions : user-defined data</p>
<p>Returns channel pointer if successful, NULL otherwise.</p>
<p>Creates a channel buffer for each cpu using the sizes and attributes specified. The created channel buffer files will be named base_filename0...base_filenameN-1. File permissions will be S_IRUSR.</p>
<p>If opening a buffer ( = NULL) that you later wish to register in a filesystem, call <a class="el" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891">relay_late_setup_files()</a> once the  dentry is available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ac289223a088a51eb939c3d17ea3c5710_cgraph.png" border="0" usemap="#relay_8c_ac289223a088a51eb939c3d17ea3c5710_cgraph" alt=""/></div>
<map name="relay_8c_ac289223a088a51eb939c3d17ea3c5710_cgraph" id="relay_8c_ac289223a088a51eb939c3d17ea3c5710_cgraph">
<area shape="rect" id="node2" href="cpudeadline_8c.html#a6bb854c6866f4abccf2a7cbd288b78c7" title="parent" alt="" coords="167,158,226,185"/>
<area shape="rect" id="node3" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="139,209,255,235"/>
<area shape="rect" id="node6" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="704,305,876,331"/>
<area shape="rect" id="node11" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="152,943,241,970"/>
<area shape="rect" id="node33" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="141,510,252,537"/>
<area shape="rect" id="node46" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="714,687,866,714"/>
<area shape="rect" id="node47" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="145,1019,248,1046"/>
<area shape="rect" id="node49" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77" title="relay_close_buf" alt="" coords="140,586,253,613"/>
<area shape="rect" id="node4" href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087" title="subbuf_start_default\l_callback" alt="" coords="314,267,454,308"/>
<area shape="rect" id="node7" href="relay_8c.html#a3ad17311e67a71e53afeba82519be3cc" title="buf_mapped_default\l_callback" alt="" coords="315,5,453,47"/>
<area shape="rect" id="node8" href="relay_8c.html#a3426c094201aca9e3c78118630a0b70c" title="buf_unmapped_default\l_callback" alt="" coords="307,71,461,112"/>
<area shape="rect" id="node9" href="relay_8c.html#a99a25bfcef1a77c3375d3b3445af1103" title="create_buf_file_default\l_callback" alt="" coords="307,136,461,177"/>
<area shape="rect" id="node10" href="relay_8c.html#a7fe633e2a2650fbe93caf15cc7fe2594" title="remove_buf_file_default\l_callback" alt="" coords="304,201,464,243"/>
<area shape="rect" id="node5" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947" title="relay_buf_full" alt="" coords="535,278,634,305"/>
<area shape="rect" id="node12" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="311,906,457,933"/>
<area shape="rect" id="node13" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="303,957,465,983"/>
<area shape="rect" id="node32" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="315,1007,453,1034"/>
<area shape="rect" id="node14" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="533,957,636,983"/>
<area shape="rect" id="node15" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="710,957,870,983"/>
<area shape="rect" id="node16" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="959,1007,1077,1034"/>
<area shape="rect" id="node17" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="942,1159,1094,1186"/>
<area shape="rect" id="node27" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="938,891,1098,932"/>
<area shape="rect" id="node28" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1161,912,1335,953"/>
<area shape="rect" id="node29" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="924,839,1112,866"/>
<area shape="rect" id="node30" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1163,810,1333,837"/>
<area shape="rect" id="node31" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="938,957,1098,983"/>
<area shape="rect" id="node18" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1160,1159,1336,1186"/>
<area shape="rect" id="node19" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="1621,1235,1724,1262"/>
<area shape="rect" id="node20" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1419,1109,1526,1135"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1425,1159,1520,1186"/>
<area shape="rect" id="node22" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1411,1261,1534,1287"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1429,1058,1517,1085"/>
<area shape="rect" id="node25" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1397,992,1548,1033"/>
<area shape="rect" id="node26" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1384,749,1561,791"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1609,919,1736,946"/>
<area shape="rect" id="node34" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2" title="relay_create_buf" alt="" coords="325,485,443,511"/>
<area shape="rect" id="node39" href="relay_8c.html#a61a9a2410bce77660621128223f63cdb" title="relay_create_buf_file" alt="" coords="513,383,656,410"/>
<area shape="rect" id="node40" href="relay_8c.html#af74221543a2bc059cbf657c846a4876e" title="relay_set_buf_dentry" alt="" coords="313,434,455,461"/>
<area shape="rect" id="node41" href="relay_8c.html#a24ffbe7ea4a70e6997baff2d803c0bcc" title="__relay_reset" alt="" coords="334,637,434,663"/>
<area shape="rect" id="node45" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="522,586,647,613"/>
<area shape="rect" id="node35" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836" title="relay_alloc_buf" alt="" coords="530,485,639,511"/>
<area shape="rect" id="node38" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="993,510,1043,537"/>
<area shape="rect" id="node36" href="relay_8c.html#ac30a83f7189101071bbc535a5af9088d" title="relay_alloc_page_array" alt="" coords="713,485,867,511"/>
<area shape="rect" id="node37" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="715,535,865,562"/>
<area shape="rect" id="node42" href="relay_8c.html#a1ff3c92f06766baf5786f90eebd23bcb" title="wakeup_readers" alt="" coords="526,637,643,663"/>
<area shape="rect" id="node43" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="531,687,638,714"/>
<area shape="rect" id="node44" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="704,637,876,663"/>
<area shape="rect" id="node48" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="311,1058,457,1085"/>
<area shape="rect" id="node50" href="relay_8c.html#af854fe017907daa5d6d35751f03f3b1b" title="relay_remove_buf" alt="" coords="321,586,447,613"/>
</map>
</div>

</div>
</div>
<a id="ac96a8b6d7261adaab4e7651ad0fb6123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96a8b6d7261adaab4e7651ad0fb6123">&#9670;&nbsp;</a></span>relay_open_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct rchan_buf* relay_open_buf </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_cgraph.png" border="0" usemap="#relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_cgraph" alt=""/></div>
<map name="relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_cgraph" id="relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2" title="relay_create_buf" alt="" coords="176,56,295,83"/>
<area shape="rect" id="node7" href="relay_8c.html#a61a9a2410bce77660621128223f63cdb" title="relay_create_buf_file" alt="" coords="359,157,502,184"/>
<area shape="rect" id="node8" href="relay_8c.html#af74221543a2bc059cbf657c846a4876e" title="relay_set_buf_dentry" alt="" coords="164,259,307,285"/>
<area shape="rect" id="node9" href="relay_8c.html#a24ffbe7ea4a70e6997baff2d803c0bcc" title="__relay_reset" alt="" coords="185,309,285,336"/>
<area shape="rect" id="node13" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="173,208,298,235"/>
<area shape="rect" id="node3" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836" title="relay_alloc_buf" alt="" coords="376,5,485,32"/>
<area shape="rect" id="node6" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="615,183,666,209"/>
<area shape="rect" id="node4" href="relay_8c.html#ac30a83f7189101071bbc535a5af9088d" title="relay_alloc_page_array" alt="" coords="563,5,718,32"/>
<area shape="rect" id="node5" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="565,81,716,108"/>
<area shape="rect" id="node10" href="relay_8c.html#a1ff3c92f06766baf5786f90eebd23bcb" title="wakeup_readers" alt="" coords="372,309,489,336"/>
<area shape="rect" id="node11" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="377,360,484,387"/>
<area shape="rect" id="node12" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="555,360,727,387"/>
<area shape="rect" id="node14" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="355,208,507,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_icgraph.png" border="0" usemap="#relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_icgraph" alt=""/></div>
<map name="relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_icgraph" id="relay_8c_ac96a8b6d7261adaab4e7651ad0fb6123_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="164,105,292,131"/>
<area shape="rect" id="node13" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="185,155,271,182"/>
<area shape="rect" id="node3" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="340,105,497,131"/>
<area shape="rect" id="node4" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="545,105,668,131"/>
<area shape="rect" id="node5" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="719,54,870,81"/>
<area shape="rect" id="node6" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="921,5,1112,47"/>
<area shape="rect" id="node8" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="943,88,1090,129"/>
<area shape="rect" id="node10" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="716,156,873,197"/>
<area shape="rect" id="node11" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="716,221,873,263"/>
<area shape="rect" id="node7" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1160,13,1351,39"/>
<area shape="rect" id="node9" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1182,95,1329,122"/>
<area shape="rect" id="node12" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="938,229,1095,255"/>
</map>
</div>

</div>
</div>
<a id="a460ca576812df58ba98722d0b6a3dbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a460ca576812df58ba98722d0b6a3dbdc">&#9670;&nbsp;</a></span>relay_page_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_page_release </td>
          <td>(</td>
          <td class="paramtype">struct splice_pipe_desc *&#160;</td>
          <td class="paramname"><em>spd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a460ca576812df58ba98722d0b6a3dbdc_icgraph.png" border="0" usemap="#relay_8c_a460ca576812df58ba98722d0b6a3dbdc_icgraph" alt=""/></div>
<map name="relay_8c_a460ca576812df58ba98722d0b6a3dbdc_icgraph" id="relay_8c_a460ca576812df58ba98722d0b6a3dbdc_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aaa3b009c2f6aaa1bbaa16efa2bc88510" title="subbuf_splice_actor" alt="" coords="188,5,327,32"/>
<area shape="rect" id="node3" href="relay_8c.html#aa628837e7462de7b83b397e3bd068169" title="relay_file_splice_read" alt="" coords="375,5,521,32"/>
</map>
</div>

</div>
</div>
<a id="a949958cdd5b1f7f6168c94606c3e47e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949958cdd5b1f7f6168c94606c3e47e4">&#9670;&nbsp;</a></span>relay_pipe_buf_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_pipe_buf_release </td>
          <td>(</td>
          <td class="paramtype">struct pipe_inode_info *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pipe_buffer *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a949958cdd5b1f7f6168c94606c3e47e4_cgraph.png" border="0" usemap="#relay_8c_a949958cdd5b1f7f6168c94606c3e47e4_cgraph" alt=""/></div>
<map name="relay_8c_a949958cdd5b1f7f6168c94606c3e47e4_cgraph" id="relay_8c_a949958cdd5b1f7f6168c94606c3e47e4_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#af5327d62aa0a02ab107405644f7f09ae" title="relay_consume_bytes" alt="" coords="208,5,357,32"/>
<area shape="rect" id="node3" href="relay_8c.html#a3e764a365f3904447b277c989fb3be06" title="relay_subbufs_consumed" alt="" coords="405,5,576,32"/>
<area shape="rect" id="node4" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="624,5,796,32"/>
</map>
</div>

</div>
</div>
<a id="a330f1dacf276395a4a4faae1f121228e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330f1dacf276395a4a4faae1f121228e">&#9670;&nbsp;</a></span>relay_prepare_cpu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int relay_prepare_cpu </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a330f1dacf276395a4a4faae1f121228e_cgraph.png" border="0" usemap="#relay_8c_a330f1dacf276395a4a4faae1f121228e_cgraph" alt=""/></div>
<map name="relay_8c_a330f1dacf276395a4a4faae1f121228e_cgraph" id="relay_8c_a330f1dacf276395a4a4faae1f121228e_cgraph">
<area shape="rect" id="node2" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="192,758,281,785"/>
<area shape="rect" id="node35" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="181,1062,292,1089"/>
<area shape="rect" id="node49" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="185,834,288,861"/>
<area shape="rect" id="node3" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="348,682,495,709"/>
<area shape="rect" id="node4" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="340,733,503,759"/>
<area shape="rect" id="node34" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="352,783,491,810"/>
<area shape="rect" id="node5" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="575,682,678,709"/>
<area shape="rect" id="node6" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="757,327,917,354"/>
<area shape="rect" id="node7" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1005,581,1124,607"/>
<area shape="rect" id="node11" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1222,530,1374,557"/>
<area shape="rect" id="node21" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="985,93,1145,135"/>
<area shape="rect" id="node23" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1211,93,1385,135"/>
<area shape="rect" id="node25" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="971,327,1159,354"/>
<area shape="rect" id="node26" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1213,159,1383,186"/>
<area shape="rect" id="node27" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1218,450,1378,477"/>
<area shape="rect" id="node28" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1002,378,1127,405"/>
<area shape="rect" id="node29" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1212,7,1384,48"/>
<area shape="rect" id="node30" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1207,261,1389,287"/>
<area shape="rect" id="node32" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="997,429,1132,455"/>
<area shape="rect" id="node33" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="985,261,1145,303"/>
<area shape="rect" id="node8" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1457,431,1593,472"/>
<area shape="rect" id="node9" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1697,463,1803,490"/>
<area shape="rect" id="node10" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="1899,682,2001,709"/>
<area shape="rect" id="node12" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1437,682,1613,709"/>
<area shape="rect" id="node13" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1703,631,1797,658"/>
<area shape="rect" id="node14" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1689,799,1811,826"/>
<area shape="rect" id="node15" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1706,581,1794,607"/>
<area shape="rect" id="node19" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1675,515,1825,556"/>
<area shape="rect" id="node20" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1661,733,1839,775"/>
<area shape="rect" id="node16" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1887,205,2013,231"/>
<area shape="rect" id="node17" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2073,205,2188,231"/>
<area shape="rect" id="node18" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2061,255,2200,282"/>
<area shape="rect" id="node22" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1212,210,1384,237"/>
<area shape="rect" id="node24" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1447,151,1604,178"/>
<area shape="rect" id="node31" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1913,259,1987,286"/>
<area shape="rect" id="node36" href="relay_8c.html#a47fd9ab9a4a39f82a9f15c55046861e2" title="relay_create_buf" alt="" coords="362,935,481,962"/>
<area shape="rect" id="node41" href="relay_8c.html#a61a9a2410bce77660621128223f63cdb" title="relay_create_buf_file" alt="" coords="555,1138,698,1165"/>
<area shape="rect" id="node42" href="relay_8c.html#af74221543a2bc059cbf657c846a4876e" title="relay_set_buf_dentry" alt="" coords="350,1138,493,1165"/>
<area shape="rect" id="node43" href="relay_8c.html#a24ffbe7ea4a70e6997baff2d803c0bcc" title="__relay_reset" alt="" coords="371,1189,471,1215"/>
<area shape="rect" id="node47" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="359,1037,484,1063"/>
<area shape="rect" id="node37" href="relay_8c.html#a98e556412d5564dead0eab82e5d10836" title="relay_alloc_buf" alt="" coords="572,885,681,911"/>
<area shape="rect" id="node40" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="811,1062,862,1089"/>
<area shape="rect" id="node38" href="relay_8c.html#ac30a83f7189101071bbc535a5af9088d" title="relay_alloc_page_array" alt="" coords="759,885,914,911"/>
<area shape="rect" id="node39" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="761,961,912,987"/>
<area shape="rect" id="node44" href="relay_8c.html#a1ff3c92f06766baf5786f90eebd23bcb" title="wakeup_readers" alt="" coords="568,1189,685,1215"/>
<area shape="rect" id="node45" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="573,1239,680,1266"/>
<area shape="rect" id="node46" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="751,1239,923,1266"/>
<area shape="rect" id="node48" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="551,1037,703,1063"/>
<area shape="rect" id="node50" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="348,885,495,911"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a330f1dacf276395a4a4faae1f121228e_icgraph.png" border="0" usemap="#relay_8c_a330f1dacf276395a4a4faae1f121228e_icgraph" alt=""/></div>
<map name="relay_8c_a330f1dacf276395a4a4faae1f121228e_icgraph" id="relay_8c_a330f1dacf276395a4a4faae1f121228e_icgraph">
<area shape="rect" id="node2" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="181,105,339,131"/>
<area shape="rect" id="node3" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="387,105,509,131"/>
<area shape="rect" id="node4" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="561,54,711,81"/>
<area shape="rect" id="node5" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="763,5,953,47"/>
<area shape="rect" id="node7" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="785,88,931,129"/>
<area shape="rect" id="node9" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="557,156,715,197"/>
<area shape="rect" id="node10" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="557,221,715,263"/>
<area shape="rect" id="node6" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1001,13,1192,39"/>
<area shape="rect" id="node8" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1023,95,1170,122"/>
<area shape="rect" id="node11" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="779,229,937,255"/>
</map>
</div>

</div>
</div>
<a id="af854fe017907daa5d6d35751f03f3b1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af854fe017907daa5d6d35751f03f3b1b">&#9670;&nbsp;</a></span>relay_remove_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_remove_buf </td>
          <td>(</td>
          <td class="paramtype">struct kref *&#160;</td>
          <td class="paramname"><em>kref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>relay_remove_buf - remove a channel buffer : target kernel reference that contains the relay buffer</p>
<p>Removes the file from the filesystem, which also frees the rchan_buf_struct and the channel buffer. Should only be called from kref_put(). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_af854fe017907daa5d6d35751f03f3b1b_cgraph.png" border="0" usemap="#relay_8c_af854fe017907daa5d6d35751f03f3b1b_cgraph" alt=""/></div>
<map name="relay_8c_af854fe017907daa5d6d35751f03f3b1b_cgraph" id="relay_8c_af854fe017907daa5d6d35751f03f3b1b_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#ae8802ffb6b14ad2e2e3a1714d0880f7e" title="relay_destroy_buf" alt="" coords="179,56,304,83"/>
<area shape="rect" id="node3" href="relay_8c.html#a766c99dff6e9b0bbfe00b7874c4b4f48" title="relay_free_page_array" alt="" coords="353,5,503,32"/>
<area shape="rect" id="node4" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="552,81,603,108"/>
<area shape="rect" id="node5" href="relay_8c.html#a79e75ff01cafd826695baa24b0223e93" title="relay_destroy_channel" alt="" coords="352,107,504,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_af854fe017907daa5d6d35751f03f3b1b_icgraph.png" border="0" usemap="#relay_8c_af854fe017907daa5d6d35751f03f3b1b_icgraph" alt=""/></div>
<map name="relay_8c_af854fe017907daa5d6d35751f03f3b1b_icgraph" id="relay_8c_af854fe017907daa5d6d35751f03f3b1b_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9c9c25f52aa4ed36a4ab73dadfef5a77" title="relay_close_buf" alt="" coords="183,31,297,57"/>
<area shape="rect" id="node5" href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212" title="relay_file_release" alt="" coords="179,81,301,108"/>
<area shape="rect" id="node3" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="351,5,436,32"/>
<area shape="rect" id="node4" href="relay_8c.html#a14bb734937c72098201b5042d866aef9" title="relay_close" alt="" coords="349,56,437,83"/>
</map>
</div>

</div>
</div>
<a id="aa5ac509e69949603e61d03c7cfb0083d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ac509e69949603e61d03c7cfb0083d">&#9670;&nbsp;</a></span>relay_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void relay_reset </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_reset - reset the channel : the channel</p>
<p>This has the effect of erasing all data from all channel buffers and restarting the channel in its initial state. The buffers are not freed, so any mappings are still in effect.</p>
<p>NOTE. Care should be taken that the channel isn't actually being used by anything when this call is made. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_aa5ac509e69949603e61d03c7cfb0083d_cgraph.png" border="0" usemap="#relay_8c_aa5ac509e69949603e61d03c7cfb0083d_cgraph" alt=""/></div>
<map name="relay_8c_aa5ac509e69949603e61d03c7cfb0083d_cgraph" id="relay_8c_aa5ac509e69949603e61d03c7cfb0083d_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a24ffbe7ea4a70e6997baff2d803c0bcc" title="__relay_reset" alt="" coords="176,495,276,521"/>
<area shape="rect" id="node6" href="mutex_8c.html#a2c319dcfd89e38426ad8828a8124c66e" title="mutex_lock" alt="" coords="181,596,271,623"/>
<area shape="rect" id="node48" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="175,647,277,673"/>
<area shape="rect" id="node50" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="140,697,312,724"/>
<area shape="rect" id="node3" href="relay_8c.html#a1ff3c92f06766baf5786f90eebd23bcb" title="wakeup_readers" alt="" coords="383,444,500,471"/>
<area shape="rect" id="node4" href="irq__work_8c.html#a91d1f2e6314cf1225684747b5271e0fa" title="irq_work_sync" alt="" coords="388,495,495,521"/>
<area shape="rect" id="node5" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="571,495,743,521"/>
<area shape="rect" id="node7" href="mutex_8c.html#abafbb2a66edf62170c11cff8dad123eb" title="__mutex_trylock_fast" alt="" coords="368,545,515,572"/>
<area shape="rect" id="node8" href="mutex_8c.html#a99cfd6ddf6ffa98b4fed7618e724d9c5" title="__mutex_lock_slowpath" alt="" coords="360,596,523,623"/>
<area shape="rect" id="node47" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="372,647,511,673"/>
<area shape="rect" id="node9" href="mutex_8c.html#a43be7d92cf17c9007bc8fe65966482f9" title="__mutex_lock" alt="" coords="605,571,708,597"/>
<area shape="rect" id="node10" href="mutex_8c.html#a0cfcd8960cc89cd596bf9096c81d4f98" title="__mutex_lock_common" alt="" coords="791,363,951,389"/>
<area shape="rect" id="node11" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="1033,647,1152,673"/>
<area shape="rect" id="node15" href="mutex_8c.html#a344bae7e10855e2948618075c00165be" title="mutex_optimistic_spin" alt="" coords="1250,596,1402,623"/>
<area shape="rect" id="node29" href="mutex_8c.html#aec34ab80cba417edde8acd4e1cf393cd" title="ww_mutex_set_context\l_fastpath" alt="" coords="1013,465,1173,506"/>
<area shape="rect" id="node31" href="mutex_8c.html#a7479359734ffd4ac930bf2bc3a84ed9a" title="__ww_mutex_wakeup_for\l_backoff" alt="" coords="1239,203,1413,245"/>
<area shape="rect" id="node33" href="mutex-debug_8c.html#ab8f369a6bf8120ef13a77736a0cad49a" title="debug_mutex_lock_common" alt="" coords="999,93,1187,120"/>
<area shape="rect" id="node34" href="mutex_8c.html#a1dfc21adafe41593f55a1848ba0d1467" title="__ww_mutex_add_waiter" alt="" coords="1241,43,1411,69"/>
<area shape="rect" id="node35" href="mutex_8c.html#ace3451991014c6a342ae25b9ccbf218f" title="__mutex_waiter_is_first" alt="" coords="1246,280,1406,307"/>
<area shape="rect" id="node36" href="mutex_8c.html#afe6fafad78ae3ab4b3da86b762131c03" title="__mutex_set_flag" alt="" coords="1030,312,1155,339"/>
<area shape="rect" id="node37" href="mutex_8c.html#abcc234fbd270b4f9a512bb73b6548b1f" title="__ww_mutex_lock_check\l_stamp" alt="" coords="1007,145,1179,186"/>
<area shape="rect" id="node38" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1235,343,1417,369"/>
<area shape="rect" id="node42" href="mutex_8c.html#a62f7bcbbd062924ac2cc5dc5be710dde" title="__mutex_clear_flag" alt="" coords="1025,413,1160,440"/>
<area shape="rect" id="node43" href="mutex_8c.html#ad68e3c641831b03682b06078d83fc9f6" title="ww_mutex_set_context\l_slowpath" alt="" coords="1013,530,1173,571"/>
<area shape="rect" id="node12" href="mutex_8c.html#ab3cff3866883a52671c51ab4522e6453" title="__mutex_trylock_or\l_owner" alt="" coords="1485,533,1621,574"/>
<area shape="rect" id="node13" href="mutex_8c.html#a3d507133d91cb543e675bade6b1496a1" title="__owner_flags" alt="" coords="1725,536,1831,563"/>
<area shape="rect" id="node14" href="mutex_8c.html#ab8be84b01e7f762cda3c3a3fb84bc29f" title="__owner_task" alt="" coords="1927,688,2029,715"/>
<area shape="rect" id="node16" href="mutex_8c.html#a49422f7be28e1338899b7649097230ba" title="__mutex_unlock_slowpath" alt="" coords="1465,637,1641,664"/>
<area shape="rect" id="node17" href="sched_2core_8c.html#ad696374828c592d476846800b99340a3" title="wake_q_add" alt="" coords="1731,637,1825,664"/>
<area shape="rect" id="node18" href="mutex_8c.html#a0b20ec605b7dad15ff4e33e5811211d8" title="__mutex_handoff" alt="" coords="1717,805,1839,832"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#adaefbfde5a74119541f91aa568ef5dd7" title="wake_up_q" alt="" coords="1734,587,1822,613"/>
<area shape="rect" id="node27" href="mutex_8c.html#a2556d1c44c716d9ec27ee534660ae78d" title="__mutex_lock_killable\l_slowpath" alt="" coords="1703,739,1853,781"/>
<area shape="rect" id="node28" href="mutex_8c.html#a799bacfb44e8b9de35eec8b36a36a999" title="__mutex_lock_interruptible\l_slowpath" alt="" coords="1689,418,1867,459"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1915,213,2041,240"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="2101,213,2216,240"/>
<area shape="rect" id="node26" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="2089,264,2228,291"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="2276,137,2371,164"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#aed0617a28d8a6dcd3986f6094961a19e" title="nr_iowait" alt="" coords="2286,188,2361,215"/>
<area shape="rect" id="node24" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="2279,239,2368,265"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#a823893b4e55dfd4d171cb9513cea7a2b" title="ttwu_stat" alt="" coords="2285,289,2361,316"/>
<area shape="rect" id="node30" href="mutex_8c.html#a23bfbc187980995f9f52d5ec8ff4ff5e" title="ww_mutex_lock_acquired" alt="" coords="1240,393,1412,420"/>
<area shape="rect" id="node32" href="mutex_8c.html#a7de4b726b5fcea26a532eca160bf202a" title="__ww_ctx_stamp_after" alt="" coords="1475,152,1632,179"/>
<area shape="rect" id="node39" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="1516,329,1591,356"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="1709,316,1847,343"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="1734,367,1822,393"/>
<area shape="rect" id="node44" href="osq__lock_8c.html#ad9bb281834c1d4dbd1a27675ab0d8bd3" title="osq_lock" alt="" coords="1289,495,1363,521"/>
<area shape="rect" id="node46" href="osq__lock_8c.html#a11f7122ad336151bf9878e48cb7e98cb" title="osq_unlock" alt="" coords="1282,444,1370,471"/>
<area shape="rect" id="node45" href="osq__lock_8c.html#abc3f44247a4a5ea8de77c1b2be155975" title="encode_cpu" alt="" coords="1507,460,1599,487"/>
<area shape="rect" id="node49" href="mutex_8c.html#a1bcfa9d5cc026a0aff8f8b0c90535071" title="__mutex_unlock_fast" alt="" coords="368,748,515,775"/>
</map>
</div>

</div>
</div>
<a id="af74221543a2bc059cbf657c846a4876e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af74221543a2bc059cbf657c846a4876e">&#9670;&nbsp;</a></span>relay_set_buf_dentry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void relay_set_buf_dentry </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>dentry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_af74221543a2bc059cbf657c846a4876e_icgraph.png" border="0" usemap="#relay_8c_af74221543a2bc059cbf657c846a4876e_icgraph" alt=""/></div>
<map name="relay_8c_af74221543a2bc059cbf657c846a4876e_icgraph" id="relay_8c_af74221543a2bc059cbf657c846a4876e_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="219,142,330,169"/>
<area shape="rect" id="node15" href="relay_8c.html#accb442616d2dcec7f9ace30ffa88086f" title="__relay_set_buf_dentry" alt="" coords="196,193,353,219"/>
<area shape="rect" id="node16" href="relay_8c.html#a698b85ab540fff6f20a631b3b538a891" title="relay_late_setup_files" alt="" coords="401,218,549,245"/>
<area shape="rect" id="node3" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="411,105,539,131"/>
<area shape="rect" id="node14" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="433,155,518,182"/>
<area shape="rect" id="node4" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="597,105,755,131"/>
<area shape="rect" id="node5" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="803,105,925,131"/>
<area shape="rect" id="node6" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="977,54,1127,81"/>
<area shape="rect" id="node7" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1179,5,1369,47"/>
<area shape="rect" id="node9" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1201,88,1347,129"/>
<area shape="rect" id="node11" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="973,156,1131,197"/>
<area shape="rect" id="node12" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="973,221,1131,263"/>
<area shape="rect" id="node8" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1417,13,1608,39"/>
<area shape="rect" id="node10" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1439,95,1586,122"/>
<area shape="rect" id="node13" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1195,229,1353,255"/>
</map>
</div>

</div>
</div>
<a id="a3e764a365f3904447b277c989fb3be06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e764a365f3904447b277c989fb3be06">&#9670;&nbsp;</a></span>relay_subbufs_consumed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void relay_subbufs_consumed </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subbufs_consumed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_subbufs_consumed - update the buffer's sub-buffers-consumed count : the channel : the cpu associated with the channel buffer to update : number of sub-buffers to add to current buf's count</p>
<p>Adds to the channel buffer's consumed sub-buffer count. subbufs_consumed should be the number of sub-buffers newly consumed, not the total consumed.</p>
<p>NOTE. Kernel clients don't need to call this function if the channel mode is 'overwrite'. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a3e764a365f3904447b277c989fb3be06_cgraph.png" border="0" usemap="#relay_8c_a3e764a365f3904447b277c989fb3be06_cgraph" alt=""/></div>
<map name="relay_8c_a3e764a365f3904447b277c989fb3be06_cgraph" id="relay_8c_a3e764a365f3904447b277c989fb3be06_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="224,5,396,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a3e764a365f3904447b277c989fb3be06_icgraph.png" border="0" usemap="#relay_8c_a3e764a365f3904447b277c989fb3be06_icgraph" alt=""/></div>
<map name="relay_8c_a3e764a365f3904447b277c989fb3be06_icgraph" id="relay_8c_a3e764a365f3904447b277c989fb3be06_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a3d997febd6d6d9ebfa89ddb61f91db02" title="relay_file_read_consume" alt="" coords="224,56,391,83"/>
<area shape="rect" id="node5" href="relay_8c.html#af5327d62aa0a02ab107405644f7f09ae" title="relay_consume_bytes" alt="" coords="233,107,382,133"/>
<area shape="rect" id="node3" href="relay_8c.html#a4fb3cab39fe230e6943130c59fa96c3d" title="relay_file_read_avail" alt="" coords="446,5,586,32"/>
<area shape="rect" id="node4" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57" title="relay_file_read" alt="" coords="641,31,748,57"/>
<area shape="rect" id="node6" href="relay_8c.html#a949958cdd5b1f7f6168c94606c3e47e4" title="relay_pipe_buf_release" alt="" coords="439,107,593,133"/>
</map>
</div>

</div>
</div>
<a id="adde08818b3870b64e08ce0ff3c53f61e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde08818b3870b64e08ce0ff3c53f61e">&#9670;&nbsp;</a></span>relay_switch_subbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t relay_switch_subbuf </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>relay_switch_subbuf - switch to a new sub-buffer : channel buffer : size of current event</p>
<p>Returns either the length passed in or 0 if full.</p>
<p>Performs sub-buffer-switch tasks such as invoking callbacks, updating padding counts, waking up readers, etc. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_adde08818b3870b64e08ce0ff3c53f61e_cgraph.png" border="0" usemap="#relay_8c_adde08818b3870b64e08ce0ff3c53f61e_cgraph" alt=""/></div>
<map name="relay_8c_adde08818b3870b64e08ce0ff3c53f61e_cgraph" id="relay_8c_adde08818b3870b64e08ce0ff3c53f61e_cgraph">
<area shape="rect" id="node2" href="irq__work_8c.html#a97c61c328b0408e4957486ac57d1a03b" title="irq_work_queue" alt="" coords="224,56,337,83"/>
<area shape="rect" id="node6" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="195,107,367,133"/>
<area shape="rect" id="node3" href="irq__work_8c.html#a15ad44b1e004fbd3998be557220fac4e" title="irq_work_claim" alt="" coords="446,5,555,32"/>
<area shape="rect" id="node4" href="irq__work_8c.html#afdd50f70c4dae7339fd991caae188573" title="arch_irq_work_raise" alt="" coords="431,56,570,83"/>
<area shape="rect" id="node5" href="irq__work_8c.html#acb894c8332c1771a60b1922a5d2b47a2" title="EXPORT_SYMBOL_GPL" alt="" coords="415,107,587,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_adde08818b3870b64e08ce0ff3c53f61e_icgraph.png" border="0" usemap="#relay_8c_adde08818b3870b64e08ce0ff3c53f61e_icgraph" alt=""/></div>
<map name="relay_8c_adde08818b3870b64e08ce0ff3c53f61e_icgraph" id="relay_8c_adde08818b3870b64e08ce0ff3c53f61e_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a45b8eae7eb166510a4b8f7116a55112e" title="relay_flush" alt="" coords="195,5,280,32"/>
</map>
</div>

</div>
</div>
<a id="a7fe633e2a2650fbe93caf15cc7fe2594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe633e2a2650fbe93caf15cc7fe2594">&#9670;&nbsp;</a></span>remove_buf_file_default_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int remove_buf_file_default_callback </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>dentry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a7fe633e2a2650fbe93caf15cc7fe2594_icgraph.png" border="0" usemap="#relay_8c_a7fe633e2a2650fbe93caf15cc7fe2594_icgraph" alt=""/></div>
<map name="relay_8c_a7fe633e2a2650fbe93caf15cc7fe2594_icgraph" id="relay_8c_a7fe633e2a2650fbe93caf15cc7fe2594_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="213,13,329,39"/>
<area shape="rect" id="node3" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="377,13,463,39"/>
</map>
</div>

</div>
</div>
<a id="a9b089c29431677dd88fd30ec311abfbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b089c29431677dd88fd30ec311abfbc">&#9670;&nbsp;</a></span>setup_callbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_callbacks </td>
          <td>(</td>
          <td class="paramtype">struct rchan *&#160;</td>
          <td class="paramname"><em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rchan_callbacks *&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a9b089c29431677dd88fd30ec311abfbc_cgraph.png" border="0" usemap="#relay_8c_a9b089c29431677dd88fd30ec311abfbc_cgraph" alt=""/></div>
<map name="relay_8c_a9b089c29431677dd88fd30ec311abfbc_cgraph" id="relay_8c_a9b089c29431677dd88fd30ec311abfbc_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087" title="subbuf_start_default\l_callback" alt="" coords="179,5,319,47"/>
<area shape="rect" id="node5" href="relay_8c.html#a3ad17311e67a71e53afeba82519be3cc" title="buf_mapped_default\l_callback" alt="" coords="180,71,319,112"/>
<area shape="rect" id="node6" href="relay_8c.html#a3426c094201aca9e3c78118630a0b70c" title="buf_unmapped_default\l_callback" alt="" coords="173,136,326,177"/>
<area shape="rect" id="node7" href="relay_8c.html#a99a25bfcef1a77c3375d3b3445af1103" title="create_buf_file_default\l_callback" alt="" coords="173,201,326,243"/>
<area shape="rect" id="node8" href="relay_8c.html#a7fe633e2a2650fbe93caf15cc7fe2594" title="remove_buf_file_default\l_callback" alt="" coords="169,267,329,308"/>
<area shape="rect" id="node3" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947" title="relay_buf_full" alt="" coords="377,13,476,39"/>
<area shape="rect" id="node4" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="524,13,696,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a9b089c29431677dd88fd30ec311abfbc_icgraph.png" border="0" usemap="#relay_8c_a9b089c29431677dd88fd30ec311abfbc_icgraph" alt=""/></div>
<map name="relay_8c_a9b089c29431677dd88fd30ec311abfbc_icgraph" id="relay_8c_a9b089c29431677dd88fd30ec311abfbc_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="169,5,255,32"/>
</map>
</div>

</div>
</div>
<a id="aaa3b009c2f6aaa1bbaa16efa2bc88510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa3b009c2f6aaa1bbaa16efa2bc88510">&#9670;&nbsp;</a></span>subbuf_splice_actor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t subbuf_splice_actor </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>ppos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pipe_inode_info *&#160;</td>
          <td class="paramname"><em>pipe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nonpad_ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_cgraph.png" border="0" usemap="#relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_cgraph" alt=""/></div>
<map name="relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_cgraph" id="relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a460ca576812df58ba98722d0b6a3dbdc" title="relay_page_release" alt="" coords="192,5,327,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_icgraph.png" border="0" usemap="#relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_icgraph" alt=""/></div>
<map name="relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_icgraph" id="relay_8c_aaa3b009c2f6aaa1bbaa16efa2bc88510_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#aa628837e7462de7b83b397e3bd068169" title="relay_file_splice_read" alt="" coords="192,5,339,32"/>
</map>
</div>

</div>
</div>
<a id="a9eb66381c13b29e3db8d5333801f8087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb66381c13b29e3db8d5333801f8087">&#9670;&nbsp;</a></span>subbuf_start_default_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int subbuf_start_default_callback </td>
          <td>(</td>
          <td class="paramtype">struct rchan_buf *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>subbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>prev_subbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>prev_padding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a9eb66381c13b29e3db8d5333801f8087_cgraph.png" border="0" usemap="#relay_8c_a9eb66381c13b29e3db8d5333801f8087_cgraph" alt=""/></div>
<map name="relay_8c_a9eb66381c13b29e3db8d5333801f8087_cgraph" id="relay_8c_a9eb66381c13b29e3db8d5333801f8087_cgraph">
<area shape="rect" id="node2" href="relay_8c.html#a1261ee13b9a172eba345a30c33de4947" title="relay_buf_full" alt="" coords="193,13,292,39"/>
<area shape="rect" id="node3" href="relay_8c.html#a7bf9731b7f5efd869fc466cfcabe4ecb" title="EXPORT_SYMBOL_GPL" alt="" coords="340,13,512,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a9eb66381c13b29e3db8d5333801f8087_icgraph.png" border="0" usemap="#relay_8c_a9eb66381c13b29e3db8d5333801f8087_icgraph" alt=""/></div>
<map name="relay_8c_a9eb66381c13b29e3db8d5333801f8087_icgraph" id="relay_8c_a9eb66381c13b29e3db8d5333801f8087_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a9b089c29431677dd88fd30ec311abfbc" title="setup_callbacks" alt="" coords="193,13,309,39"/>
<area shape="rect" id="node3" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="357,13,443,39"/>
</map>
</div>

</div>
</div>
<a id="a1ff3c92f06766baf5786f90eebd23bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff3c92f06766baf5786f90eebd23bcb">&#9670;&nbsp;</a></span>wakeup_readers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wakeup_readers </td>
          <td>(</td>
          <td class="paramtype">struct irq_work *&#160;</td>
          <td class="paramname"><em>work</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>wakeup_readers - wake up readers waiting on a channel : contains the channel buffer</p>
<p>This is the function used to defer reader waking </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="relay_8c_a1ff3c92f06766baf5786f90eebd23bcb_icgraph.png" border="0" usemap="#relay_8c_a1ff3c92f06766baf5786f90eebd23bcb_icgraph" alt=""/></div>
<map name="relay_8c_a1ff3c92f06766baf5786f90eebd23bcb_icgraph" id="relay_8c_a1ff3c92f06766baf5786f90eebd23bcb_icgraph">
<area shape="rect" id="node2" href="relay_8c.html#a24ffbe7ea4a70e6997baff2d803c0bcc" title="__relay_reset" alt="" coords="171,105,271,131"/>
<area shape="rect" id="node3" href="relay_8c.html#aa5ac509e69949603e61d03c7cfb0083d" title="relay_reset" alt="" coords="331,79,417,106"/>
<area shape="rect" id="node4" href="relay_8c.html#ac96a8b6d7261adaab4e7651ad0fb6123" title="relay_open_buf" alt="" coords="319,130,429,157"/>
<area shape="rect" id="node5" href="relay_8c.html#a330f1dacf276395a4a4faae1f121228e" title="relay_prepare_cpu" alt="" coords="477,105,605,131"/>
<area shape="rect" id="node16" href="relay_8c.html#ac289223a088a51eb939c3d17ea3c5710" title="relay_open" alt="" coords="499,155,584,182"/>
<area shape="rect" id="node6" href="cpu_8c.html#aff470ba1693fa467d629dfee6debfbdb" title="cpuhp_invoke_callback" alt="" coords="653,105,811,131"/>
<area shape="rect" id="node7" href="cpu_8c.html#aec30be1efa17679b56bb0b0f688d7a00" title="cpuhp_issue_call" alt="" coords="859,105,981,131"/>
<area shape="rect" id="node8" href="cpu_8c.html#a863f7f1d6e44c52462c61c2ae7257655" title="cpuhp_rollback_install" alt="" coords="1033,54,1183,81"/>
<area shape="rect" id="node9" href="cpu_8c.html#ac728bc8938b0ab27dc7706f0766cfa01" title="__cpuhp_state_add_instance\l_cpuslocked" alt="" coords="1235,5,1425,47"/>
<area shape="rect" id="node11" href="cpu_8c.html#a47cdf75177b8832373757e441f0c060d" title="__cpuhp_setup_state\l_cpuslocked" alt="" coords="1257,88,1403,129"/>
<area shape="rect" id="node13" href="cpu_8c.html#ad46e9fe989763abd9f2213d3e3b836c4" title="__cpuhp_state_remove\l_instance" alt="" coords="1029,156,1187,197"/>
<area shape="rect" id="node14" href="cpu_8c.html#adf79c64e1f2c85c91ac95af9907304ad" title="__cpuhp_remove_state\l_cpuslocked" alt="" coords="1029,221,1187,263"/>
<area shape="rect" id="node10" href="cpu_8c.html#a38a7212d8a166644ff55e7908dd9e4dc" title="__cpuhp_state_add_instance" alt="" coords="1473,13,1664,39"/>
<area shape="rect" id="node12" href="cpu_8c.html#a0128e42d2993bf45b0b8f0876d1c9913" title="__cpuhp_setup_state" alt="" coords="1495,95,1642,122"/>
<area shape="rect" id="node15" href="cpu_8c.html#a6f379713b196b462de5d44254eca2828" title="__cpuhp_remove_state" alt="" coords="1251,229,1409,255"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abeb25f9e74795ecda3cc2cd0673f25ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb25f9e74795ecda3cc2cd0673f25ee">&#9670;&nbsp;</a></span>default_channel_callbacks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct rchan_callbacks default_channel_callbacks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .subbuf_start = <a class="code" href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087">subbuf_start_default_callback</a>,</div><div class="line">    .buf_mapped = <a class="code" href="relay_8c.html#a3ad17311e67a71e53afeba82519be3cc">buf_mapped_default_callback</a>,</div><div class="line">    .buf_unmapped = <a class="code" href="relay_8c.html#a3426c094201aca9e3c78118630a0b70c">buf_unmapped_default_callback</a>,</div><div class="line">    .create_buf_file = <a class="code" href="relay_8c.html#a99a25bfcef1a77c3375d3b3445af1103">create_buf_file_default_callback</a>,</div><div class="line">    .remove_buf_file = <a class="code" href="relay_8c.html#a7fe633e2a2650fbe93caf15cc7fe2594">remove_buf_file_default_callback</a>,</div><div class="line">}</div><div class="ttc" id="relay_8c_html_a3426c094201aca9e3c78118630a0b70c"><div class="ttname"><a href="relay_8c.html#a3426c094201aca9e3c78118630a0b70c">buf_unmapped_default_callback</a></div><div class="ttdeci">static void buf_unmapped_default_callback(struct rchan_buf *buf, struct file *filp)</div><div class="ttdef"><b>Definition:</b> relay.c:295</div></div>
<div class="ttc" id="relay_8c_html_a3ad17311e67a71e53afeba82519be3cc"><div class="ttname"><a href="relay_8c.html#a3ad17311e67a71e53afeba82519be3cc">buf_mapped_default_callback</a></div><div class="ttdeci">static void buf_mapped_default_callback(struct rchan_buf *buf, struct file *filp)</div><div class="ttdef"><b>Definition:</b> relay.c:287</div></div>
<div class="ttc" id="relay_8c_html_a9eb66381c13b29e3db8d5333801f8087"><div class="ttname"><a href="relay_8c.html#a9eb66381c13b29e3db8d5333801f8087">subbuf_start_default_callback</a></div><div class="ttdeci">static int subbuf_start_default_callback(struct rchan_buf *buf, void *subbuf, void *prev_subbuf, size_t prev_padding)</div><div class="ttdef"><b>Definition:</b> relay.c:273</div></div>
<div class="ttc" id="relay_8c_html_a7fe633e2a2650fbe93caf15cc7fe2594"><div class="ttname"><a href="relay_8c.html#a7fe633e2a2650fbe93caf15cc7fe2594">remove_buf_file_default_callback</a></div><div class="ttdeci">static int remove_buf_file_default_callback(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> relay.c:315</div></div>
<div class="ttc" id="relay_8c_html_a99a25bfcef1a77c3375d3b3445af1103"><div class="ttname"><a href="relay_8c.html#a99a25bfcef1a77c3375d3b3445af1103">create_buf_file_default_callback</a></div><div class="ttdeci">static struct dentry * create_buf_file_default_callback(const char *filename, struct dentry *parent, umode_t mode, struct rchan_buf *buf, int *is_global)</div><div class="ttdef"><b>Definition:</b> relay.c:303</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41d658fb5296be6653724b197c3fbfdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d658fb5296be6653724b197c3fbfdd">&#9670;&nbsp;</a></span>relay_file_mmap_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct vm_operations_struct relay_file_mmap_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .fault = <a class="code" href="relay_8c.html#a0e73f4b81209e2881fadfb5605294ff5">relay_buf_fault</a>,</div><div class="line">    .close = <a class="code" href="relay_8c.html#aef072ea4bef8c2a9c50ce0c056e897f6">relay_file_mmap_close</a>,</div><div class="line">}</div><div class="ttc" id="relay_8c_html_aef072ea4bef8c2a9c50ce0c056e897f6"><div class="ttname"><a href="relay_8c.html#aef072ea4bef8c2a9c50ce0c056e897f6">relay_file_mmap_close</a></div><div class="ttdeci">static void relay_file_mmap_close(struct vm_area_struct *vma)</div><div class="ttdef"><b>Definition:</b> relay.c:33</div></div>
<div class="ttc" id="relay_8c_html_a0e73f4b81209e2881fadfb5605294ff5"><div class="ttname"><a href="relay_8c.html#a0e73f4b81209e2881fadfb5605294ff5">relay_buf_fault</a></div><div class="ttdeci">static int relay_buf_fault(struct vm_fault *vmf)</div><div class="ttdef"><b>Definition:</b> relay.c:42</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adde713c21c12ded8a4472dd3ee575c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde713c21c12ded8a4472dd3ee575c3b">&#9670;&nbsp;</a></span>relay_file_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations relay_file_operations</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .open       = <a class="code" href="relay_8c.html#a562de8b2e74f23bf48474e4a7763d18a">relay_file_open</a>,</div><div class="line">    .poll       = <a class="code" href="relay_8c.html#a489ed4df74d98a2a7412b8ae98210df8">relay_file_poll</a>,</div><div class="line">    .mmap       = <a class="code" href="relay_8c.html#ad423786f1b0c1782521b36e9013e88c5">relay_file_mmap</a>,</div><div class="line">    .read       = <a class="code" href="relay_8c.html#aeeff109710582a91981ef43d898b6a57">relay_file_read</a>,</div><div class="line">    .llseek     = no_llseek,</div><div class="line">    .release    = <a class="code" href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212">relay_file_release</a>,</div><div class="line">    .splice_read    = <a class="code" href="relay_8c.html#aa628837e7462de7b83b397e3bd068169">relay_file_splice_read</a>,</div><div class="line">}</div><div class="ttc" id="relay_8c_html_ad423786f1b0c1782521b36e9013e88c5"><div class="ttname"><a href="relay_8c.html#ad423786f1b0c1782521b36e9013e88c5">relay_file_mmap</a></div><div class="ttdeci">static int relay_file_mmap(struct file *filp, struct vm_area_struct *vma)</div><div class="ttdef"><b>Definition:</b> relay.c:908</div></div>
<div class="ttc" id="relay_8c_html_aeeff109710582a91981ef43d898b6a57"><div class="ttname"><a href="relay_8c.html#aeeff109710582a91981ef43d898b6a57">relay_file_read</a></div><div class="ttdeci">static ssize_t relay_file_read(struct file *filp, char __user *buffer, size_t count, loff_t *ppos)</div><div class="ttdef"><b>Definition:</b> relay.c:1114</div></div>
<div class="ttc" id="relay_8c_html_aa628837e7462de7b83b397e3bd068169"><div class="ttname"><a href="relay_8c.html#aa628837e7462de7b83b397e3bd068169">relay_file_splice_read</a></div><div class="ttdeci">static ssize_t relay_file_splice_read(struct file *in, loff_t *ppos, struct pipe_inode_info *pipe, size_t len, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> relay.c:1283</div></div>
<div class="ttc" id="relay_8c_html_a4e609060cfdfe5a0d112c53a0dd4c212"><div class="ttname"><a href="relay_8c.html#a4e609060cfdfe5a0d112c53a0dd4c212">relay_file_release</a></div><div class="ttdeci">static int relay_file_release(struct inode *inode, struct file *filp)</div><div class="ttdef"><b>Definition:</b> relay.c:946</div></div>
<div class="ttc" id="relay_8c_html_a562de8b2e74f23bf48474e4a7763d18a"><div class="ttname"><a href="relay_8c.html#a562de8b2e74f23bf48474e4a7763d18a">relay_file_open</a></div><div class="ttdeci">static int relay_file_open(struct inode *inode, struct file *filp)</div><div class="ttdef"><b>Definition:</b> relay.c:892</div></div>
<div class="ttc" id="relay_8c_html_a489ed4df74d98a2a7412b8ae98210df8"><div class="ttname"><a href="relay_8c.html#a489ed4df74d98a2a7412b8ae98210df8">relay_file_poll</a></div><div class="ttdeci">static __poll_t relay_file_poll(struct file *filp, poll_table *wait)</div><div class="ttdef"><b>Definition:</b> relay.c:921</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af9b9da18efe39ddd59c750195767fa16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b9da18efe39ddd59c750195767fa16">&#9670;&nbsp;</a></span>relay_pipe_buf_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct pipe_buf_operations relay_pipe_buf_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .can_merge = 0,</div><div class="line">    .confirm = generic_pipe_buf_confirm,</div><div class="line">    .release = <a class="code" href="relay_8c.html#a949958cdd5b1f7f6168c94606c3e47e4">relay_pipe_buf_release</a>,</div><div class="line">    .steal = generic_pipe_buf_steal,</div><div class="line">    .get = generic_pipe_buf_get,</div><div class="line">}</div><div class="ttc" id="relay_8c_html_a949958cdd5b1f7f6168c94606c3e47e4"><div class="ttname"><a href="relay_8c.html#a949958cdd5b1f7f6168c94606c3e47e4">relay_pipe_buf_release</a></div><div class="ttdeci">static void relay_pipe_buf_release(struct pipe_inode_info *pipe, struct pipe_buffer *buf)</div><div class="ttdef"><b>Definition:</b> relay.c:1167</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="relay_8c.html">relay.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
