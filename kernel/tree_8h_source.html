<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: rcu/tree.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tree_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tree.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tree_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Read-Copy Update mechanism for mutual exclusion (tree-based version)</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Internal non-public definitions.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * (at your option) any later version.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * along with this program; if not, you can access it online at</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * http://www.gnu.org/licenses/gpl-2.0.html.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Copyright IBM Corporation, 2008</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * Author: Ingo Molnar &lt;mingo@elte.hu&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *     Paul E. McKenney &lt;paulmck@linux.vnet.ibm.com&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;linux/cache.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;linux/spinlock.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;linux/rtmutex.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;linux/threads.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;linux/cpumask.h&gt;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;linux/seqlock.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;linux/swait.h&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;linux/stop_machine.h&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;linux/rcu_node_tree.h&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rcu__segcblist_8h.html">rcu_segcblist.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * Dynticks per-CPU state.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html">   40</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcu__dynticks.html">rcu_dynticks</a> {</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html#ab1dc7ff5265c2b195935f2dcbc8c3303">   41</a></span>&#160;    <span class="keywordtype">long</span> <a class="code" href="structrcu__dynticks.html#ab1dc7ff5265c2b195935f2dcbc8c3303">dynticks_nesting</a>;      <span class="comment">/* Track process nesting level. */</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html#ab2fb257281c746ce8eb581c112194aef">   42</a></span>&#160;    <span class="keywordtype">long</span> <a class="code" href="structrcu__dynticks.html#ab2fb257281c746ce8eb581c112194aef">dynticks_nmi_nesting</a>;  <span class="comment">/* Track irq/NMI nesting level. */</span></div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html#a1e153f095654a968860317ab06609026">   43</a></span>&#160;    atomic_t <a class="code" href="structrcu__dynticks.html#a1e153f095654a968860317ab06609026">dynticks</a>;      <span class="comment">/* Even value for idle, else odd. */</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html#a94d20976e8e819c6052ab8aaae76927a">   44</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structrcu__dynticks.html#a94d20976e8e819c6052ab8aaae76927a">rcu_need_heavy_qs</a>;     <span class="comment">/* GP old, need heavy quiescent state. */</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html#a9019db7c754bad7fe7d95ac47da30a37">   45</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__dynticks.html#a9019db7c754bad7fe7d95ac47da30a37">rcu_qs_ctr</a>;   <span class="comment">/* Light universal quiescent state ctr. */</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structrcu__dynticks.html#ad2fc892121bea56b7ab1828b8f6e8e43">   46</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structrcu__dynticks.html#ad2fc892121bea56b7ab1828b8f6e8e43">rcu_urgent_qs</a>;     <span class="comment">/* GP old need light quiescent state. */</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_FAST_NO_HZ</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">bool</span> all_lazy;          <span class="comment">/* Are all CPU&#39;s CBs lazy? */</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nonlazy_posted;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                    <span class="comment">/* # times non-lazy CBs posted to CPU. */</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nonlazy_posted_snap;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                    <span class="comment">/* idle-period nonlazy_posted snapshot. */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> last_accelerate;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                    <span class="comment">/* Last jiffy CBs were accelerated. */</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> last_advance_all;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                    <span class="comment">/* Last jiffy CBs were all advanced. */</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">int</span> tick_nohz_enabled_snap; <span class="comment">/* Previously seen value from sysfs. */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_FAST_NO_HZ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;};</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">/* RCU&#39;s kthread states for tracing. */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="tree_8h.html#a385a42f930ad9f46626666ad1521375c">   62</a></span>&#160;<span class="preprocessor">#define RCU_KTHREAD_STOPPED  0</span></div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="tree_8h.html#a25227428be11b48ce3230d9a4cd5a077">   63</a></span>&#160;<span class="preprocessor">#define RCU_KTHREAD_RUNNING  1</span></div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="tree_8h.html#aaf907aff5b247250e7657cbfaf0abc52">   64</a></span>&#160;<span class="preprocessor">#define RCU_KTHREAD_WAITING  2</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="tree_8h.html#a2d5ff3d7fdfd01a918ea79b90742f443">   65</a></span>&#160;<span class="preprocessor">#define RCU_KTHREAD_OFFCPU   3</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="tree_8h.html#ad20a9fcf029897fd3a583ac2ef8963ec">   66</a></span>&#160;<span class="preprocessor">#define RCU_KTHREAD_YIELDING 4</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="tree_8h.html#af5fbf25fac777d99fc7e676bcc6753f1">   67</a></span>&#160;<span class="preprocessor">#define RCU_KTHREAD_MAX      4</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * Definition for node within the RCU grace-period-detection hierarchy.</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structrcu__node.html">   72</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcu__node.html">rcu_node</a> {</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structrcu__node.html#a44d8216d42db3a5c3456ccb854379df9">   73</a></span>&#160;    raw_spinlock_t __private <a class="code" href="structrcu__node.html#a44d8216d42db3a5c3456ccb854379df9">lock</a>;  <span class="comment">/* Root rcu_node&#39;s lock protects */</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                    <span class="comment">/*  some rcu_state fields as well as */</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    <span class="comment">/*  following. */</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structrcu__node.html#a85314688d6391a90750d35e822b34d68">   76</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a85314688d6391a90750d35e822b34d68">gpnum</a>;    <span class="comment">/* Current grace period for this node. */</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="comment">/*  This will either be equal to or one */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="comment">/*  behind the root rcu_node&#39;s gpnum. */</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structrcu__node.html#a64a559802c5d689dbd29789c1c17469e">   79</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a64a559802c5d689dbd29789c1c17469e">completed</a>; <span class="comment">/* Last GP completed for this node. */</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                <span class="comment">/*  This will either be equal to or one */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                <span class="comment">/*  behind the root rcu_node&#39;s gpnum. */</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structrcu__node.html#a75192ee33f6f3b605e298881b86b7f5d">   82</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a75192ee33f6f3b605e298881b86b7f5d">qsmask</a>;   <span class="comment">/* CPUs or groups that need to switch in */</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="comment">/*  order for current grace period to proceed.*/</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="comment">/*  In leaf rcu_node, each bit corresponds to */</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                <span class="comment">/*  an rcu_data structure, otherwise, each */</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="comment">/*  bit corresponds to a child rcu_node */</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="comment">/*  structure. */</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structrcu__node.html#a809e23be6b7cdf881706b21c85a209cc">   88</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a809e23be6b7cdf881706b21c85a209cc">qsmaskinit</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="comment">/* Per-GP initial value for qsmask. */</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="comment">/*  Initialized from -&gt;qsmaskinitnext at the */</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                <span class="comment">/*  beginning of each grace period. */</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structrcu__node.html#ab04e0c746dd39a8a83b2f52dca96f66d">   92</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#ab04e0c746dd39a8a83b2f52dca96f66d">qsmaskinitnext</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="comment">/* Online CPUs for next grace period. */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structrcu__node.html#aa39a12f2f554467dfa49a81da1832b87">   94</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#aa39a12f2f554467dfa49a81da1832b87">expmask</a>;  <span class="comment">/* CPUs or groups that need to check in */</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="comment">/*  to allow the current expedited GP */</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                <span class="comment">/*  to complete. */</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structrcu__node.html#a6f0cce67a9af302479df44d3f4e47be0">   97</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a6f0cce67a9af302479df44d3f4e47be0">expmaskinit</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="comment">/* Per-GP initial values for expmask. */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                <span class="comment">/*  Initialized from -&gt;expmaskinitnext at the */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                <span class="comment">/*  beginning of each expedited GP. */</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structrcu__node.html#a48e07d9484fdae5aaef9654935592309">  101</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a48e07d9484fdae5aaef9654935592309">expmaskinitnext</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="comment">/* Online CPUs for next expedited GP. */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="comment">/*  Any CPU that has ever been online will */</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="comment">/*  have its bit set. */</span></div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structrcu__node.html#ae93c90b4f068b888ac194cc1591bcf77">  105</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#ae93c90b4f068b888ac194cc1591bcf77">ffmask</a>;   <span class="comment">/* Fully functional CPUs. */</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structrcu__node.html#aae3cf3bc1dd5115a7cd1cc8351ffb71a">  106</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#aae3cf3bc1dd5115a7cd1cc8351ffb71a">grpmask</a>;  <span class="comment">/* Mask to apply to parent qsmask. */</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="comment">/*  Only one bit will be set in this mask. */</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structrcu__node.html#a598fad15958e8b36063b2a611ec01ce6">  108</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__node.html#a598fad15958e8b36063b2a611ec01ce6">grplo</a>;      <span class="comment">/* lowest-numbered CPU or group here. */</span></div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structrcu__node.html#ad62c2591e852fa66bd94454c2d9db031">  109</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__node.html#ad62c2591e852fa66bd94454c2d9db031">grphi</a>;      <span class="comment">/* highest-numbered CPU or group here. */</span></div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structrcu__node.html#a2cca407ef78b0c6ab8e7f52b8b10002c">  110</a></span>&#160;    u8  <a class="code" href="structrcu__node.html#a2cca407ef78b0c6ab8e7f52b8b10002c">grpnum</a>;     <span class="comment">/* CPU/group number for next level up. */</span></div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structrcu__node.html#afdf87c3a7a29a7bbe2edbe26fe9ed5bb">  111</a></span>&#160;    u8  <a class="code" href="structrcu__node.html#afdf87c3a7a29a7bbe2edbe26fe9ed5bb">level</a>;      <span class="comment">/* root is at level 0. */</span></div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structrcu__node.html#a1b88e0581a71f3e40fb6c4eecbf9af21">  112</a></span>&#160;    <span class="keywordtype">bool</span>    <a class="code" href="structrcu__node.html#a1b88e0581a71f3e40fb6c4eecbf9af21">wait_blkd_tasks</a>;<span class="comment">/* Necessary to wait for blocked tasks to */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="comment">/*  exit RCU read-side critical sections */</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="comment">/*  before propagating offline up the */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="comment">/*  rcu_node tree? */</span></div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structrcu__node.html#a8eabdeda697961fd0f9b8339f8f9282c">  116</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__node.html">rcu_node</a> *<a class="code" href="structrcu__node.html#a8eabdeda697961fd0f9b8339f8f9282c">parent</a>;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structrcu__node.html#ad0df32df6b8ae898c6fbd32aa70414bb">  117</a></span>&#160;    <span class="keyword">struct </span>list_head blkd_tasks;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="comment">/* Tasks blocked in RCU read-side critical */</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="comment">/*  section.  Tasks are placed at the head */</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="comment">/*  of this list and age towards the tail. */</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structrcu__node.html#a953ef1c85c9ae35243909cbdf0bb3606">  121</a></span>&#160;    <span class="keyword">struct </span>list_head *<a class="code" href="structrcu__node.html#a953ef1c85c9ae35243909cbdf0bb3606">gp_tasks</a>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <span class="comment">/* Pointer to the first task blocking the */</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="comment">/*  current grace period, or NULL if there */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="comment">/*  is no such task. */</span></div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structrcu__node.html#ae9dc7733853417294c7337b0aed79c6a">  125</a></span>&#160;    <span class="keyword">struct </span>list_head *<a class="code" href="structrcu__node.html#ae9dc7733853417294c7337b0aed79c6a">exp_tasks</a>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="comment">/* Pointer to the first task blocking the */</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="comment">/*  current expedited grace period, or NULL */</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <span class="comment">/*  if there is no such task.  If there */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="comment">/*  is no current expedited grace period, */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="comment">/*  then there can cannot be any such task. */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structrcu__node.html#a2c34e7748f22770d21b668d01cd19633">  131</a></span>&#160;    <span class="keyword">struct </span>list_head *<a class="code" href="structrcu__node.html#a2c34e7748f22770d21b668d01cd19633">boost_tasks</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="comment">/* Pointer to first task that needs to be */</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                <span class="comment">/*  priority boosted, or NULL if no priority */</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="comment">/*  boosting is needed for this rcu_node */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="comment">/*  structure.  If there are no tasks */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="comment">/*  queued on this rcu_node structure that */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="comment">/*  are blocking the current grace period, */</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="comment">/*  there can be no such task. */</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structrcu__node.html#a866be608653ce039ef33a32b38b5e2a4">  139</a></span>&#160;    <span class="keyword">struct </span>rt_mutex boost_mtx;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="comment">/* Used only for the priority-boosting */</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="comment">/*  side effect, not as a lock. */</span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structrcu__node.html#a2ed7870bfe74c2aaa612c597208cdad9">  142</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a2ed7870bfe74c2aaa612c597208cdad9">boost_time</a>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="comment">/* When to start boosting (jiffies). */</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structrcu__node.html#afb49c75d909d0afeb4f42f7769a85891">  144</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structrcu__node.html#afb49c75d909d0afeb4f42f7769a85891">boost_kthread_task</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="comment">/* kthread that takes care of priority */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <span class="comment">/*  boosting for this rcu_node structure. */</span></div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structrcu__node.html#a9c7c638d0e0438797323b418b41d7eed">  147</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrcu__node.html#a9c7c638d0e0438797323b418b41d7eed">boost_kthread_status</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="comment">/* State of boost_kthread_task for tracing. */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_NOCB_CPU</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keyword">struct </span>swait_queue_head nocb_gp_wq[2];</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="comment">/* Place for rcu_nocb_kthread() to wait GP. */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_NOCB_CPU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structrcu__node.html#ad1825a069f4b5173907f4e214dee137f">  153</a></span>&#160;    <span class="keywordtype">int</span> need_future_gp[2];</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="comment">/* Counts of upcoming no-CB GP requests. */</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structrcu__node.html#ad3371e1ae3db70bf6f4384a43c7417b1">  155</a></span>&#160;    raw_spinlock_t fqslock <a class="code" href="structrcu__node.html#ad3371e1ae3db70bf6f4384a43c7417b1">____cacheline_internodealigned_in_smp</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structrcu__node.html#a15fce29d04d6d4f151d6d5ede02ea6e1">  157</a></span>&#160;    spinlock_t exp_lock <a class="code" href="structrcu__node.html#a15fce29d04d6d4f151d6d5ede02ea6e1">____cacheline_internodealigned_in_smp</a>;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structrcu__node.html#a4e311138a382eb55fd9bf6d3ecf2a8a8">  158</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__node.html#a4e311138a382eb55fd9bf6d3ecf2a8a8">exp_seq_rq</a>;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structrcu__node.html#af35bd6b0401580624ce5d6d831ae48a8">  159</a></span>&#160;    wait_queue_head_t exp_wq[4];</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;} <a class="code" href="tree_8h.html#aeb29f45db719d66c6a724df1e5d812ea">____cacheline_internodealigned_in_smp</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> * Bitmasks in an rcu_node cover the interval [grplo, grphi] of CPU IDs, and</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> * are indexed relative to this interval rather than the global CPU ID space.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * This generates the bit for a CPU in node-local masks.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="tree_8h.html#aee58872e195e07546e5e025f8c66d2fc">  167</a></span>&#160;<span class="preprocessor">#define leaf_node_cpu_bit(rnp, cpu) (1UL &lt;&lt; ((cpu) - (rnp)-&gt;grplo))</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"> * Union to allow &quot;aggregate OR&quot; operation on the need for a quiescent</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"> * state by the normal and expedited grace periods.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="unionrcu__noqs.html">  173</a></span>&#160;<span class="keyword">union </span><a class="code" href="unionrcu__noqs.html">rcu_noqs</a> {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="unionrcu__noqs.html#a31be804f0dac75690b5723aa81fe8483">  175</a></span>&#160;        u8 <a class="code" href="unionrcu__noqs.html#a31be804f0dac75690b5723aa81fe8483">norm</a>;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="unionrcu__noqs.html#a0e6193e9ef5384eb3bc7ada4fe239f3c">  176</a></span>&#160;        u8 <a class="code" href="unionrcu__noqs.html#a0e6193e9ef5384eb3bc7ada4fe239f3c">exp</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    } b; <span class="comment">/* Bits. */</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="unionrcu__noqs.html#a4a446df53b869ebe557260e8ac552c58">  178</a></span>&#160;    u16 <a class="code" href="unionrcu__noqs.html#a4a446df53b869ebe557260e8ac552c58">s</a>; <span class="comment">/* Set of bits, aggregate OR here. */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;};</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">/* Per-CPU data for read-copy update. */</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structrcu__data.html">  182</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcu__data.html">rcu_data</a> {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">/* 1) quiescent-state and grace-period handling : */</span></div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="structrcu__data.html#a5e1eaeee5038ac52441ad9d55b08b29d">  184</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   <a class="code" href="structrcu__data.html#a5e1eaeee5038ac52441ad9d55b08b29d">completed</a>;  <span class="comment">/* Track rsp-&gt;completed gp number */</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    <span class="comment">/*  in order to detect GP end. */</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="structrcu__data.html#a51e13f2337d007dea98f18f9d81ad7a0">  186</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   <a class="code" href="structrcu__data.html#a51e13f2337d007dea98f18f9d81ad7a0">gpnum</a>;      <span class="comment">/* Highest gp number that this CPU */</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    <span class="comment">/*  is aware of having started. */</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structrcu__data.html#a350426d80f046349e853eff9725bc222">  188</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   <a class="code" href="structrcu__data.html#a350426d80f046349e853eff9725bc222">rcu_qs_ctr_snap</a>;<span class="comment">/* Snapshot of rcu_qs_ctr to check */</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="comment">/*  for rcu_all_qs() invocations. */</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="structrcu__data.html#ae9dc4b9dbbeb40e99657eb273a567935">  190</a></span>&#160;    <span class="keyword">union </span><a class="code" href="unionrcu__noqs.html">rcu_noqs</a>  cpu_no_qs;  <span class="comment">/* No QSes yet for this CPU. */</span></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structrcu__data.html#a8356d9dacde4f3cfdd5587d761bb70d0">  191</a></span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="structrcu__data.html#a8356d9dacde4f3cfdd5587d761bb70d0">core_needs_qs</a>;  <span class="comment">/* Core waits for quiesc state. */</span></div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structrcu__data.html#a3ccc4c9ff14a4e8ab142fef05403fca2">  192</a></span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="structrcu__data.html#a3ccc4c9ff14a4e8ab142fef05403fca2">beenonline</a>; <span class="comment">/* CPU online at least once. */</span></div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structrcu__data.html#a95d1e7183cf8ddb491d96089beb6b7fd">  193</a></span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="structrcu__data.html#a95d1e7183cf8ddb491d96089beb6b7fd">gpwrap</a>;     <span class="comment">/* Possible gpnum/completed wrap. */</span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structrcu__data.html#af12252431dee7b72fb7f73ecbb0b2095">  194</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__node.html">rcu_node</a> *<a class="code" href="structrcu__data.html#af12252431dee7b72fb7f73ecbb0b2095">mynode</a>;    <span class="comment">/* This CPU&#39;s leaf of hierarchy */</span></div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="structrcu__data.html#a509066b760e146401440d5b2ac252ed0">  195</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__data.html#a509066b760e146401440d5b2ac252ed0">grpmask</a>;      <span class="comment">/* Mask to apply to leaf qsmask. */</span></div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="structrcu__data.html#ab3c4106b27c23ae699470f1c487e18ec">  196</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   <a class="code" href="structrcu__data.html#ab3c4106b27c23ae699470f1c487e18ec">ticks_this_gp</a>;  <span class="comment">/* The number of scheduling-clock */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <span class="comment">/*  ticks this CPU has handled */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <span class="comment">/*  during and after the last grace */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    <span class="comment">/* period it is aware of. */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">/* 2) batch handling */</span></div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structrcu__data.html#a7595e3799899571b10b8a974b10b4dfd">  202</a></span>&#160;    <span class="keyword">struct </span>rcu_segcblist cblist;    <span class="comment">/* Segmented callback list, with */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    <span class="comment">/* different callbacks waiting for */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    <span class="comment">/* different grace periods. */</span></div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="structrcu__data.html#a4f845728470a5b797caf38e23b2e9f4f">  205</a></span>&#160;    <span class="keywordtype">long</span>        <a class="code" href="structrcu__data.html#a4f845728470a5b797caf38e23b2e9f4f">qlen_last_fqs_check</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    <span class="comment">/* qlen at last check for QS forcing */</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structrcu__data.html#a4f59663cf2edf88b1e6967092af5f0d2">  207</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>   <a class="code" href="structrcu__data.html#a4f59663cf2edf88b1e6967092af5f0d2">n_force_qs_snap</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    <span class="comment">/* did other CPU force QS recently? */</span></div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="structrcu__data.html#a03ebe628be8c7bea0c54c902cfd79818">  209</a></span>&#160;    <span class="keywordtype">long</span>        <a class="code" href="structrcu__data.html#a03ebe628be8c7bea0c54c902cfd79818">blimit</a>;     <span class="comment">/* Upper limit on a processed batch */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">/* 3) dynticks interface. */</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="structrcu__data.html#a7532c6dcf1b4a57d927ee922d6f50e90">  212</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__dynticks.html">rcu_dynticks</a> *<a class="code" href="structrcu__data.html#a7532c6dcf1b4a57d927ee922d6f50e90">dynticks</a>;  <span class="comment">/* Shared per-CPU dynticks state. */</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="structrcu__data.html#a422bf74e23f8f27c750e8489b3c902be">  213</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__data.html#a422bf74e23f8f27c750e8489b3c902be">dynticks_snap</a>;      <span class="comment">/* Per-GP tracking for dynticks. */</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">/* 4) reasons this CPU needed to be kicked by force_quiescent_state */</span></div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structrcu__data.html#a553645874ae28079fe0e0ed0ac4b986b">  216</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__data.html#a553645874ae28079fe0e0ed0ac4b986b">dynticks_fqs</a>; <span class="comment">/* Kicked due to dynticks idle. */</span></div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structrcu__data.html#a0b6b4fae75a622a10626f73c8d5b283a">  217</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__data.html#a0b6b4fae75a622a10626f73c8d5b283a">offline_fqs</a>;  <span class="comment">/* Kicked due to being offline. */</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structrcu__data.html#a5204710fb13b12996403e543d41155e5">  218</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__data.html#a5204710fb13b12996403e543d41155e5">cond_resched_completed</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    <span class="comment">/* Grace period that needs help */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="comment">/*  from cond_resched(). */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">/* 5) _rcu_barrier(), OOM callbacks, and expediting. */</span></div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="structrcu__data.html#a4c70096327e94f13e907b16628a1c6c3">  223</a></span>&#160;    <span class="keyword">struct </span>rcu_head barrier_head;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_FAST_NO_HZ</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">struct </span>rcu_head oom_head;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_FAST_NO_HZ */</span><span class="preprocessor"></span></div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structrcu__data.html#aafea83f345c3293f6992f56f0198fe29">  227</a></span>&#160;    atomic_long_t <a class="code" href="structrcu__data.html#aafea83f345c3293f6992f56f0198fe29">exp_workdone0</a>;    <span class="comment">/* # done by workqueue. */</span></div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structrcu__data.html#a1dcf973a7a5bd02c0c5b4b0c2ee6e7fd">  228</a></span>&#160;    atomic_long_t <a class="code" href="structrcu__data.html#a1dcf973a7a5bd02c0c5b4b0c2ee6e7fd">exp_workdone1</a>;    <span class="comment">/* # done by others #1. */</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structrcu__data.html#a7446908607822050db983b3fbb015c39">  229</a></span>&#160;    atomic_long_t <a class="code" href="structrcu__data.html#a7446908607822050db983b3fbb015c39">exp_workdone2</a>;    <span class="comment">/* # done by others #2. */</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structrcu__data.html#a9c758b2c089531a3c3b2ba738bae3f8d">  230</a></span>&#160;    atomic_long_t <a class="code" href="structrcu__data.html#a9c758b2c089531a3c3b2ba738bae3f8d">exp_workdone3</a>;    <span class="comment">/* # done by others #3. */</span></div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structrcu__data.html#afef937986d766aa6419fc9b9c841586f">  231</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__data.html#afef937986d766aa6419fc9b9c841586f">exp_dynticks_snap</a>;      <span class="comment">/* Double-check need for IPI. */</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">/* 6) Callback offloading. */</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_NOCB_CPU</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keyword">struct </span>rcu_head *nocb_head; <span class="comment">/* CBs waiting for kthread. */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">struct </span>rcu_head **nocb_tail;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    atomic_long_t nocb_q_count; <span class="comment">/* # CBs waiting for nocb */</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    atomic_long_t nocb_q_count_lazy; <span class="comment">/*  invocation (all stages). */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keyword">struct </span>rcu_head *nocb_follower_head; <span class="comment">/* CBs ready to invoke. */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">struct </span>rcu_head **nocb_follower_tail;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">struct </span>swait_queue_head nocb_wq; <span class="comment">/* For nocb kthreads to sleep on. */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keyword">struct </span>task_struct *nocb_kthread;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    raw_spinlock_t nocb_lock;   <span class="comment">/* Guard following pair of fields. */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">int</span> nocb_defer_wakeup;      <span class="comment">/* Defer wakeup of nocb_kthread. */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">struct </span>timer_list nocb_timer;   <span class="comment">/* Enforce finite deferral. */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">/* The following fields are used by the leader, hence own cacheline. */</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">struct </span>rcu_head *nocb_gp_head <a class="code" href="tree_8h.html#aeb29f45db719d66c6a724df1e5d812ea">____cacheline_internodealigned_in_smp</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    <span class="comment">/* CBs waiting for GP. */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keyword">struct </span>rcu_head **nocb_gp_tail;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">bool</span> nocb_leader_sleep;     <span class="comment">/* Is the nocb leader thread asleep? */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__data.html">rcu_data</a> *nocb_next_follower;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <span class="comment">/* Next follower in wakeup chain. */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">/* The following fields are used by the follower, hence new cachline. */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__data.html">rcu_data</a> *nocb_leader <a class="code" href="tree_8h.html#aeb29f45db719d66c6a724df1e5d812ea">____cacheline_internodealigned_in_smp</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    <span class="comment">/* Leader CPU takes GP-end wakeups. */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_NOCB_CPU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">/* 7) RCU CPU stall data. */</span></div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="structrcu__data.html#a5e9273fdebd0f985f04f97c9177c8763">  261</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrcu__data.html#a5e9273fdebd0f985f04f97c9177c8763">softirq_snap</a>;  <span class="comment">/* Snapshot of softirq activity. */</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">/* -&gt;rcu_iw* fields protected by leaf rcu_node -&gt;lock. */</span></div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="structrcu__data.html#a241f176e5958050414c80803952b05c0">  263</a></span>&#160;    <span class="keyword">struct </span>irq_work rcu_iw;     <span class="comment">/* Check for non-irq activity. */</span></div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="structrcu__data.html#af5e6a15e576865115e8ccf0390a80944">  264</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structrcu__data.html#af5e6a15e576865115e8ccf0390a80944">rcu_iw_pending</a>;        <span class="comment">/* Is -&gt;rcu_iw pending? */</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="structrcu__data.html#ab1018a5f0bf3f4af68c46ce1a9502c57">  265</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__data.html#ab1018a5f0bf3f4af68c46ce1a9502c57">rcu_iw_gpnum</a>; <span class="comment">/* -&gt;gpnum associated with -&gt;rcu_iw. */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structrcu__data.html#a3438986ad6f2b80444106324f099b9c7">  267</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__data.html#a3438986ad6f2b80444106324f099b9c7">cpu</a>;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="structrcu__data.html#aa650a471a496c9b855d1168dcf32036a">  268</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__state.html">rcu_state</a> *<a class="code" href="structrcu__data.html#aa650a471a496c9b855d1168dcf32036a">rsp</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;};</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">/* Values for nocb_defer_wakeup field in struct rcu_data. */</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="tree_8h.html#a174942c6ebb68fdafca01b22c605cb3b">  272</a></span>&#160;<span class="preprocessor">#define RCU_NOCB_WAKE_NOT   0</span></div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="tree_8h.html#a0b3aa9cb15f09576f6b9a6721caa301a">  273</a></span>&#160;<span class="preprocessor">#define RCU_NOCB_WAKE       1</span></div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="tree_8h.html#abb49f9874047d47a1677e83b94b8ba38">  274</a></span>&#160;<span class="preprocessor">#define RCU_NOCB_WAKE_FORCE 2</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="tree_8h.html#a9f0a126dcb5f1a6a17de84fe1ae741a9">  276</a></span>&#160;<span class="preprocessor">#define RCU_JIFFIES_TILL_FORCE_QS (1 + (HZ &gt; 250) + (HZ &gt; 500))</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <span class="comment">/* For jiffies_till_first_fqs and */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    <span class="comment">/*  and jiffies_till_next_fqs. */</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="tree_8h.html#ae3f5a2f6d6dbb4db6e611d0c649e5ffe">  280</a></span>&#160;<span class="preprocessor">#define RCU_JIFFIES_FQS_DIV 256 </span><span class="comment">/* Very large systems need more */</span><span class="preprocessor"></span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <span class="comment">/*  delay between bouts of */</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    <span class="comment">/*  quiescent-state forcing. */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="tree_8h.html#a28e2395bad325178530a567664e917f2">  284</a></span>&#160;<span class="preprocessor">#define RCU_STALL_RAT_DELAY 2   </span><span class="comment">/* Allow other CPUs time to take */</span><span class="preprocessor"></span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="comment">/*  at least one scheduling clock */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    <span class="comment">/*  irq before ratting on them. */</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="tree_8h.html#a50237b8169a3f9457c00349a207fee20">  288</a></span>&#160;<span class="preprocessor">#define rcu_wait(cond)                          \</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">do {                                    \</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="preprocessor">    for (;;) {                          \</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="preprocessor">        set_current_state(TASK_INTERRUPTIBLE);          \</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">        if (cond)                       \</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="preprocessor">            break;                      \</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">        schedule();                     \</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">    }                               \</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">    __set_current_state(TASK_RUNNING);              \</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">} while (0)</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"> * RCU global state, including node hierarchy.  This hierarchy is</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"> * represented in &quot;heap&quot; form in a dense array.  The root (first level)</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"> * of the hierarchy is in -&gt;node[0] (referenced by -&gt;level[0]), the second</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"> * level in -&gt;node[1] through -&gt;node[m] (-&gt;node[1] referenced by -&gt;level[1]),</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"> * and the third level in -&gt;node[m+1] and following (-&gt;node[m+1] referenced</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"> * by -&gt;level[2]).  The number of levels is determined by the number of</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> * CPUs and by CONFIG_RCU_FANOUT.  Small systems will have a &quot;hierarchy&quot;</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"> * consisting of a single rcu_node.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structrcu__state.html">  309</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrcu__state.html">rcu_state</a> {</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structrcu__state.html#a5fc571d6bd15df2e1aeb78d38c2c2737">  310</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__node.html">rcu_node</a> node[NUM_RCU_NODES];    <span class="comment">/* Hierarchy. */</span></div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structrcu__state.html#af1c3366f1eb78a9a4a0b9d9371274ac8">  311</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__node.html">rcu_node</a> *<a class="code" href="structrcu__node.html#afdf87c3a7a29a7bbe2edbe26fe9ed5bb">level</a>[RCU_NUM_LVLS + 1];</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <span class="comment">/* Hierarchy levels (+1 to */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        <span class="comment">/*  shut bogus gcc warning) */</span></div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structrcu__state.html#a9c6b552f5b170671253d581a6f86a2ae">  314</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structrcu__data.html">rcu_data</a> __percpu *<a class="code" href="structrcu__state.html#a9c6b552f5b170671253d581a6f86a2ae">rda</a>;      <span class="comment">/* pointer of percu rcu_data. */</span></div><div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="structrcu__state.html#a2ea3630e0e1d1466c93e084e61d36ad1">  315</a></span>&#160;    call_rcu_func_t <a class="code" href="structrcu__state.html#a2ea3630e0e1d1466c93e084e61d36ad1">call</a>;           <span class="comment">/* call_rcu() flavor. */</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structrcu__state.html#ad4ad83d2e41376c33672b7fb0288e266">  316</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__state.html#ad4ad83d2e41376c33672b7fb0288e266">ncpus</a>;              <span class="comment">/* # CPUs seen so far. */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">/* The following fields are guarded by the root rcu_node&#39;s lock. */</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structrcu__state.html#a75b965d85cde3e7fbd0454b360aac3bb">  320</a></span>&#160;    u8  boost <a class="code" href="structrcu__state.html#a75b965d85cde3e7fbd0454b360aac3bb">____cacheline_internodealigned_in_smp</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        <span class="comment">/* Subject to priority boost. */</span></div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="structrcu__state.html#aef764c649ba18ce47be0a2f82eab0b62">  322</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aef764c649ba18ce47be0a2f82eab0b62">gpnum</a>;            <span class="comment">/* Current gp number. */</span></div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="structrcu__state.html#aed38b8ca052867313653af23af2bf60b">  323</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aed38b8ca052867313653af23af2bf60b">completed</a>;        <span class="comment">/* # of last completed gp. */</span></div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="structrcu__state.html#af3113fbecbe310c11b9b39d672efa8d4">  324</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structrcu__state.html#af3113fbecbe310c11b9b39d672efa8d4">gp_kthread</a>;     <span class="comment">/* Task for grace periods. */</span></div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="structrcu__state.html#a601f4d3a4c05636fdeb0d4b81d90910b">  325</a></span>&#160;    <span class="keyword">struct </span>swait_queue_head gp_wq;      <span class="comment">/* Where GP task waits. */</span></div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="structrcu__state.html#ae75aa840dffd71d3efd02e4419c23931">  326</a></span>&#160;    <span class="keywordtype">short</span> <a class="code" href="structrcu__state.html#ae75aa840dffd71d3efd02e4419c23931">gp_flags</a>;             <span class="comment">/* Commands for GP task. */</span></div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="structrcu__state.html#ae37777057a6fb123979394ec2679db29">  327</a></span>&#160;    <span class="keywordtype">short</span> <a class="code" href="structrcu__state.html#ae37777057a6fb123979394ec2679db29">gp_state</a>;             <span class="comment">/* GP kthread sleep state. */</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">/* End of fields guarded by root rcu_node&#39;s lock. */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="structrcu__state.html#a726ffa4c4d07f9c0065ce9a6af6a2736">  331</a></span>&#160;    <span class="keyword">struct </span>mutex barrier_mutex;     <span class="comment">/* Guards barrier fields. */</span></div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structrcu__state.html#a147cbb2cc414412deb9757d562b6056e">  332</a></span>&#160;    atomic_t <a class="code" href="structrcu__state.html#a147cbb2cc414412deb9757d562b6056e">barrier_cpu_count</a>;     <span class="comment">/* # CPUs waiting on. */</span></div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="structrcu__state.html#af2e7af5d4477d89bded68523001144ee">  333</a></span>&#160;    <span class="keyword">struct </span>completion barrier_completion;   <span class="comment">/* Wake at barrier end. */</span></div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structrcu__state.html#a3d1b3e93533b51f83b2c88f40ce8b5fb">  334</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#a3d1b3e93533b51f83b2c88f40ce8b5fb">barrier_sequence</a>;     <span class="comment">/* ++ at start and end of */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                        <span class="comment">/*  _rcu_barrier(). */</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">/* End of fields guarded by barrier_mutex. */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="structrcu__state.html#ac698c3d2d0c068930157650d5afd639f">  338</a></span>&#160;    <span class="keyword">struct </span>mutex exp_mutex;         <span class="comment">/* Serialize expedited GP. */</span></div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="structrcu__state.html#ac76d14dd6081b2c4d0abe4a70d82f9f5">  339</a></span>&#160;    <span class="keyword">struct </span>mutex exp_wake_mutex;        <span class="comment">/* Serialize wakeup. */</span></div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structrcu__state.html#a7d21262d3e63370f0d0e83b78fab97b1">  340</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#a7d21262d3e63370f0d0e83b78fab97b1">expedited_sequence</a>;   <span class="comment">/* Take a ticket. */</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structrcu__state.html#a825c85236d56f7b73cc3bcc176c066fe">  341</a></span>&#160;    atomic_t <a class="code" href="structrcu__state.html#a825c85236d56f7b73cc3bcc176c066fe">expedited_need_qs</a>;     <span class="comment">/* # CPUs left to check in. */</span></div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structrcu__state.html#abf7fd678d7c80549bfe4862916562e7b">  342</a></span>&#160;    <span class="keyword">struct </span>swait_queue_head expedited_wq;   <span class="comment">/* Wait for check-ins. */</span></div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="structrcu__state.html#a7889dbc403ec080a68e2b5f05303680b">  343</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structrcu__state.html#a7889dbc403ec080a68e2b5f05303680b">ncpus_snap</a>;             <span class="comment">/* # CPUs seen last time. */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="structrcu__state.html#aff458638059cf2c033432bada2c14db0">  345</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aff458638059cf2c033432bada2c14db0">jiffies_force_qs</a>;     <span class="comment">/* Time at which to invoke */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        <span class="comment">/*  force_quiescent_state(). */</span></div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structrcu__state.html#aad78d2f7f3c1ad31299f25a4c60f4675">  347</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aad78d2f7f3c1ad31299f25a4c60f4675">jiffies_kick_kthreads</a>;    <span class="comment">/* Time at which to kick */</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                        <span class="comment">/*  kthreads, if configured. */</span></div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="structrcu__state.html#a4e557266d8b9ad8a27ea255478350fb7">  349</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#a4e557266d8b9ad8a27ea255478350fb7">n_force_qs</a>;       <span class="comment">/* Number of calls to */</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                        <span class="comment">/*  force_quiescent_state(). */</span></div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="structrcu__state.html#aff4cded428a9e9871efc67ea7cab8b69">  351</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aff4cded428a9e9871efc67ea7cab8b69">gp_start</a>;         <span class="comment">/* Time at which GP started, */</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                        <span class="comment">/*  but in jiffies. */</span></div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="structrcu__state.html#abd05a2114a1fd8df5ac0266da3b2ed6a">  353</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#abd05a2114a1fd8df5ac0266da3b2ed6a">gp_activity</a>;      <span class="comment">/* Time of last GP kthread */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                        <span class="comment">/*  activity in jiffies. */</span></div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="structrcu__state.html#aa532ddf65d4e79cc0d2e194fb594bc00">  355</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aa532ddf65d4e79cc0d2e194fb594bc00">jiffies_stall</a>;        <span class="comment">/* Time at which to check */</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        <span class="comment">/*  for CPU stalls. */</span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="structrcu__state.html#a03affe84cccbe2f0abf1a7d69b3f22ef">  357</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#a03affe84cccbe2f0abf1a7d69b3f22ef">jiffies_resched</a>;      <span class="comment">/* Time at which to resched */</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                        <span class="comment">/*  a reluctant CPU. */</span></div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="structrcu__state.html#aee2ee17f8002749dfaa240c86e5d7a47">  359</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#aee2ee17f8002749dfaa240c86e5d7a47">n_force_qs_gpstart</a>;   <span class="comment">/* Snapshot of n_force_qs at */</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                        <span class="comment">/*  GP start. */</span></div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="structrcu__state.html#a458d3430be06675d082a1e25b041d432">  361</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structrcu__state.html#a458d3430be06675d082a1e25b041d432">gp_max</a>;           <span class="comment">/* Maximum GP duration in */</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        <span class="comment">/*  jiffies. */</span></div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="structrcu__state.html#a980f0eeff57a1dbdef44ac0a60cfb014">  363</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structrcu__state.html#a980f0eeff57a1dbdef44ac0a60cfb014">name</a>;           <span class="comment">/* Name of structure. */</span></div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="structrcu__state.html#a6bbf4e232545ff891906ca9b547a3a9a">  364</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="structrcu__state.html#a6bbf4e232545ff891906ca9b547a3a9a">abbr</a>;              <span class="comment">/* Abbreviated name. */</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structrcu__state.html#a7c12cee8b84dfeca37e6d23ceb643942">  365</a></span>&#160;    <span class="keyword">struct </span>list_head flavors;       <span class="comment">/* List of RCU flavors. */</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;};</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">/* Values for rcu_state structure&#39;s gp_flags field. */</span></div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="tree_8h.html#a899e1c65c7012591ece7d6e31ecbde70">  369</a></span>&#160;<span class="preprocessor">#define RCU_GP_FLAG_INIT 0x1    </span><span class="comment">/* Need grace-period initialization. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="tree_8h.html#a445c7a06af1c7ef6ef7f31360b3dd53d">  370</a></span>&#160;<span class="preprocessor">#define RCU_GP_FLAG_FQS  0x2    </span><span class="comment">/* Need grace-period quiescent-state forcing. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/* Values for rcu_state structure&#39;s gp_state field. */</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="tree_8h.html#ae3784bf7b561151fff5936c47458f8f0">  373</a></span>&#160;<span class="preprocessor">#define RCU_GP_IDLE  0  </span><span class="comment">/* Initial state and no GP in progress. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="tree_8h.html#aa959e43c84461e97258263fc675131b2">  374</a></span>&#160;<span class="preprocessor">#define RCU_GP_WAIT_GPS  1  </span><span class="comment">/* Wait for grace-period start. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="tree_8h.html#a7e464d749db5f9c90f12a50dc3458766">  375</a></span>&#160;<span class="preprocessor">#define RCU_GP_DONE_GPS  2  </span><span class="comment">/* Wait done for grace-period start. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="tree_8h.html#af2ac6fbdc2e6a799a2ca9a854e07d33e">  376</a></span>&#160;<span class="preprocessor">#define RCU_GP_WAIT_FQS  3  </span><span class="comment">/* Wait for force-quiescent-state time. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="tree_8h.html#a4215a4017f78fb42019159b080bbb459">  377</a></span>&#160;<span class="preprocessor">#define RCU_GP_DOING_FQS 4  </span><span class="comment">/* Wait done for force-quiescent-state time. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="tree_8h.html#aa7285cd2e4d0c26cb5fff7f8f6428425">  378</a></span>&#160;<span class="preprocessor">#define RCU_GP_CLEANUP   5  </span><span class="comment">/* Grace-period cleanup started. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="tree_8h.html#a258f8cbedf2f312d8449ec0d1cf5f570">  379</a></span>&#160;<span class="preprocessor">#define RCU_GP_CLEANED   6  </span><span class="comment">/* Grace-period cleanup complete. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="preprocessor">#ifndef RCU_TREE_NONCORE</span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="tree_8h.html#af96d136fa5c2afd7d2b29d74023ebb7a">  382</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> <a class="code" href="tree_8h.html#af96d136fa5c2afd7d2b29d74023ebb7a">gp_state_names</a>[] = {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="stringliteral">&quot;RCU_GP_IDLE&quot;</span>,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="stringliteral">&quot;RCU_GP_WAIT_GPS&quot;</span>,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="stringliteral">&quot;RCU_GP_DONE_GPS&quot;</span>,</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="stringliteral">&quot;RCU_GP_WAIT_FQS&quot;</span>,</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="stringliteral">&quot;RCU_GP_DOING_FQS&quot;</span>,</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="stringliteral">&quot;RCU_GP_CLEANUP&quot;</span>,</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="stringliteral">&quot;RCU_GP_CLEANED&quot;</span>,</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;};</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifndef RCU_TREE_NONCORE */</span><span class="preprocessor"></span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>list_head <a class="code" href="tree_8h.html#a03db1aea14ec10d3a2cc6783418bfe11">rcu_struct_flavors</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">/* Sequence through rcu_state structures for each RCU flavor. */</span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="tree_8h.html#a0f519a031cf9d985c975a7260db6dd09">  396</a></span>&#160;<span class="preprocessor">#define for_each_rcu_flavor(rsp) \</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="preprocessor">    list_for_each_entry((rsp), &amp;rcu_struct_flavors, flavors)</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"> * RCU implementation internal declarations:</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structrcu__state.html">rcu_state</a> <a class="code" href="tree_8h.html#afb56fda071a2fec98487671eb4445f73">rcu_sched_state</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structrcu__state.html">rcu_state</a> <a class="code" href="tree_8h.html#a7c4f38a87fba6b9b61c5f1d52f0bd566">rcu_bh_state</a>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#ifdef CONFIG_PREEMPT_RCU</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structrcu__state.html">rcu_state</a> rcu_preempt_state;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_PREEMPT_RCU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keywordtype">int</span> <a class="code" href="tree_8h.html#a1d2ee623421a78490ee7c3f02cfbdd87">rcu_dynticks_snap</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__dynticks.html">rcu_dynticks</a> *rdtp);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a2f8d3b26f52432478618e153f001d1f2">rcu_eqs_special_set</a>(<span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_BOOST</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<a class="code" href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, rcu_cpu_kthread_status);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<a class="code" href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a>(<span class="keywordtype">int</span>, rcu_cpu_kthread_cpu);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<a class="code" href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, rcu_cpu_kthread_loops);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<a class="code" href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a>(<span class="keywordtype">char</span>, rcu_cpu_has_work);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_BOOST */</span><span class="preprocessor"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#ifndef RCU_TREE_NONCORE</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">/* Forward declarations for rcutree_plugin.h */</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a0f41243f3f7f98895998f81572eed2ce">rcu_bootup_announce</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#ad6c18dde0169f3935550fa79adfb6667">rcu_preempt_note_context_switch</a>(<span class="keywordtype">bool</span> preempt);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="tree_8h.html#a063257508755f593d0a8aa497fbcb76b">rcu_preempt_blocked_readers_cgp</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#ifdef CONFIG_HOTPLUG_CPU</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a97b633ac9da356978e99fb2c90127577">rcu_preempt_has_tasks</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_HOTPLUG_CPU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a945b622cdc94f89abc5f0b9052bfc1b3">rcu_print_detail_task_stall</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__state.html">rcu_state</a> *rsp);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="tree_8h.html#a4e262c78f977536de0f00871bb3e67d5">rcu_print_task_stall</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="tree_8h.html#a650cb214b52339244779ee6626bb1aae">rcu_print_task_exp_stall</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a124469ede64f926693b9b0ee8bb15d05">rcu_preempt_check_blocked_tasks</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#af71aef4fb68a7df0ef8de8f771e042f9">rcu_preempt_check_callbacks</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a094a548179ef967658b67414a0c91d32">call_rcu</a>(<span class="keyword">struct</span> rcu_head *head, rcu_callback_t <a class="code" href="trace_8c.html#a91d5c49acae8833f02ba4f666fdaafce">func</a>);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> __init <a class="code" href="tree_8h.html#a9d6d820a6db2baa80237e47736d7a736">__rcu_init_preempt</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a68f2aa709381cc5ed12f3f18891170ef">rcu_initiate_boost</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a7f002585cc3a4f17bb37f59f6a59a571">rcu_preempt_boost_start_gp</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#aa1168d537fb137b48383b2b788d98aa6">invoke_rcu_callbacks_kthread</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#aadf6f77b2c2780e41144e29779eea2e2">rcu_is_callbacks_kthread</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_BOOST</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> rcu_preempt_do_callbacks(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> rcu_spawn_one_boost_kthread(<span class="keyword">struct</span> <a class="code" href="structrcu__state.html">rcu_state</a> *rsp,</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                         <span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_BOOST */</span><span class="preprocessor"></span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> __init <a class="code" href="tree_8h.html#a176b2642bef65699a05883d9fc34c66a">rcu_spawn_boost_kthreads</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a5ea3e4efb4d541c8f2de58933030c65c">rcu_prepare_kthreads</a>(<span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a22573ea993adde508668147c6efe437e">rcu_cleanup_after_idle</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a5a32d626785494bb5f22f958206efd67">rcu_prepare_for_idle</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#ad891ad54702ef83370eda5e5359a530c">rcu_idle_count_callbacks_posted</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a97b633ac9da356978e99fb2c90127577">rcu_preempt_has_tasks</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a23091f4c813ec4e053899c18d47684b2">print_cpu_stall_info_begin</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a471b06688c690dc4cea9d6a546b11aff">print_cpu_stall_info</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__state.html">rcu_state</a> *rsp, <span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#adddeadee3ad97f47f90f6a72722cf257">print_cpu_stall_info_end</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#aba1071b5b1e992ab606c50cc6f167b8d">zero_cpu_stall_ticks</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a9d23550b7f3043641e781cbdb0b4fcd9">increment_cpu_stall_ticks</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#ab09749e248163651e550f6e3a1dec97a">rcu_nocb_cpu_needs_barrier</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__state.html">rcu_state</a> *rsp, <span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a11a0a6476fabe5388a65fab9669c4474">rcu_nocb_gp_set</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp, <span class="keywordtype">int</span> nrq);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keyword">static</span> <span class="keyword">struct </span>swait_queue_head *<a class="code" href="tree_8h.html#a54f0207e0e9dc180114ea9b755097e8a">rcu_nocb_gp_get</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a80be3abb363d186541e27937eae03b57">rcu_nocb_gp_cleanup</a>(<span class="keyword">struct</span> swait_queue_head *sq);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a52a7b679fc0b2ef3a5ba39653d19961d">rcu_init_one_nocb</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__node.html">rcu_node</a> *rnp);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a1f041433820b67d788bfe79405b7a61f">__call_rcu_nocb</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp, <span class="keyword">struct</span> rcu_head *rhp,</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                <span class="keywordtype">bool</span> lazy, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a56e4b7738b4c46825cbe7475c8c3b634">rcu_nocb_adopt_orphan_cbs</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *my_rdp,</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp,</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flags);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="tree_8h.html#aed2116f7ee43144e891ba0723199de71">rcu_nocb_need_deferred_wakeup</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#adbfefc77ad6dd42e8bd99edaa95b8d8b">do_nocb_deferred_wakeup</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#af9feb853e00cb811cdd019971b33c1f0">rcu_boot_init_nocb_percpu_data</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a0f63785157ce981b50a8a935ccb54e2e">rcu_spawn_all_nocb_kthreads</a>(<span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> __init <a class="code" href="tree_8h.html#a84eb25e87b124c26cb5645c56344ef57">rcu_spawn_nocb_kthreads</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#ifdef CONFIG_RCU_NOCB_CPU</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> __init rcu_organize_nocb_kthreads(<span class="keyword">struct</span> <a class="code" href="structrcu__state.html">rcu_state</a> *rsp);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifdef CONFIG_RCU_NOCB_CPU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> __maybe_unused <a class="code" href="tree_8h.html#ad4ed4d5b804dbebf07ded72d4d536e0f">rcu_kick_nohz_cpu</a>(<span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a84d7ed0e67d07814c63f8071ca8930f5">init_nocb_callback_list</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__data.html">rcu_data</a> *rdp);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#aa4f9bca4a301afe587a87d6535362f56">rcu_bind_gp_kthread</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="tree_8h.html#a5b7f7778b452e08dc387360cd9ded3ee">rcu_nohz_full_cpu</a>(<span class="keyword">struct</span> <a class="code" href="structrcu__state.html">rcu_state</a> *rsp);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a12260ffec113649f83b03befd9bc815b">rcu_dynticks_task_enter</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a6bb3e8a09bb67f453c12a389b7af6add">rcu_dynticks_task_exit</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor">#ifdef CONFIG_SRCU</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tree_8h.html#ad32599689d28567005bb2d0e53568a7d">srcu_online_cpu</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a7cb69ad08b910f583f90e5ab60b95746">srcu_offline_cpu</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* #ifdef CONFIG_SRCU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="tree_8h.html#ad32599689d28567005bb2d0e53568a7d">  485</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="tree_8h.html#ad32599689d28567005bb2d0e53568a7d">srcu_online_cpu</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu) { }</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="tree_8h.html#a7cb69ad08b910f583f90e5ab60b95746">  486</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="tree_8h.html#a7cb69ad08b910f583f90e5ab60b95746">srcu_offline_cpu</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cpu) { }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #else #ifdef CONFIG_SRCU */</span><span class="preprocessor"></span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* #ifndef RCU_TREE_NONCORE */</span><span class="preprocessor"></span></div><div class="ttc" id="tree_8h_html_a22573ea993adde508668147c6efe437e"><div class="ttname"><a href="tree_8h.html#a22573ea993adde508668147c6efe437e">rcu_cleanup_after_idle</a></div><div class="ttdeci">static void rcu_cleanup_after_idle(void)</div></div>
<div class="ttc" id="structrcu__node_html_a15fce29d04d6d4f151d6d5ede02ea6e1"><div class="ttname"><a href="structrcu__node.html#a15fce29d04d6d4f151d6d5ede02ea6e1">rcu_node::____cacheline_internodealigned_in_smp</a></div><div class="ttdeci">spinlock_t exp_lock ____cacheline_internodealigned_in_smp</div><div class="ttdef"><b>Definition:</b> tree.h:157</div></div>
<div class="ttc" id="tree_8h_html_a23091f4c813ec4e053899c18d47684b2"><div class="ttname"><a href="tree_8h.html#a23091f4c813ec4e053899c18d47684b2">print_cpu_stall_info_begin</a></div><div class="ttdeci">static void print_cpu_stall_info_begin(void)</div></div>
<div class="ttc" id="structrcu__data_html_a51e13f2337d007dea98f18f9d81ad7a0"><div class="ttname"><a href="structrcu__data.html#a51e13f2337d007dea98f18f9d81ad7a0">rcu_data::gpnum</a></div><div class="ttdeci">unsigned long gpnum</div><div class="ttdef"><b>Definition:</b> tree.h:186</div></div>
<div class="ttc" id="structrcu__node_html"><div class="ttname"><a href="structrcu__node.html">rcu_node</a></div><div class="ttdef"><b>Definition:</b> tree.h:72</div></div>
<div class="ttc" id="structrcu__node_html_a2ed7870bfe74c2aaa612c597208cdad9"><div class="ttname"><a href="structrcu__node.html#a2ed7870bfe74c2aaa612c597208cdad9">rcu_node::boost_time</a></div><div class="ttdeci">unsigned long boost_time</div><div class="ttdef"><b>Definition:</b> tree.h:142</div></div>
<div class="ttc" id="unionrcu__noqs_html"><div class="ttname"><a href="unionrcu__noqs.html">rcu_noqs</a></div><div class="ttdef"><b>Definition:</b> tree.h:173</div></div>
<div class="ttc" id="structrcu__data_html_a422bf74e23f8f27c750e8489b3c902be"><div class="ttname"><a href="structrcu__data.html#a422bf74e23f8f27c750e8489b3c902be">rcu_data::dynticks_snap</a></div><div class="ttdeci">int dynticks_snap</div><div class="ttdef"><b>Definition:</b> tree.h:213</div></div>
<div class="ttc" id="structrcu__state_html_a3d1b3e93533b51f83b2c88f40ce8b5fb"><div class="ttname"><a href="structrcu__state.html#a3d1b3e93533b51f83b2c88f40ce8b5fb">rcu_state::barrier_sequence</a></div><div class="ttdeci">unsigned long barrier_sequence</div><div class="ttdef"><b>Definition:</b> tree.h:334</div></div>
<div class="ttc" id="structrcu__node_html_a4e311138a382eb55fd9bf6d3ecf2a8a8"><div class="ttname"><a href="structrcu__node.html#a4e311138a382eb55fd9bf6d3ecf2a8a8">rcu_node::exp_seq_rq</a></div><div class="ttdeci">unsigned long exp_seq_rq</div><div class="ttdef"><b>Definition:</b> tree.h:158</div></div>
<div class="ttc" id="tree_8h_html_a9d6d820a6db2baa80237e47736d7a736"><div class="ttname"><a href="tree_8h.html#a9d6d820a6db2baa80237e47736d7a736">__rcu_init_preempt</a></div><div class="ttdeci">static void __init __rcu_init_preempt(void)</div></div>
<div class="ttc" id="tree_8h_html_a7cb69ad08b910f583f90e5ab60b95746"><div class="ttname"><a href="tree_8h.html#a7cb69ad08b910f583f90e5ab60b95746">srcu_offline_cpu</a></div><div class="ttdeci">void srcu_offline_cpu(unsigned int cpu)</div><div class="ttdef"><b>Definition:</b> tree.h:486</div></div>
<div class="ttc" id="structrcu__node_html_a44d8216d42db3a5c3456ccb854379df9"><div class="ttname"><a href="structrcu__node.html#a44d8216d42db3a5c3456ccb854379df9">rcu_node::lock</a></div><div class="ttdeci">raw_spinlock_t __private lock</div><div class="ttdef"><b>Definition:</b> tree.h:73</div></div>
<div class="ttc" id="structrcu__node_html_ad62c2591e852fa66bd94454c2d9db031"><div class="ttname"><a href="structrcu__node.html#ad62c2591e852fa66bd94454c2d9db031">rcu_node::grphi</a></div><div class="ttdeci">int grphi</div><div class="ttdef"><b>Definition:</b> tree.h:109</div></div>
<div class="ttc" id="structrcu__state_html_aef764c649ba18ce47be0a2f82eab0b62"><div class="ttname"><a href="structrcu__state.html#aef764c649ba18ce47be0a2f82eab0b62">rcu_state::gpnum</a></div><div class="ttdeci">unsigned long gpnum</div><div class="ttdef"><b>Definition:</b> tree.h:322</div></div>
<div class="ttc" id="structrcu__node_html_ad3371e1ae3db70bf6f4384a43c7417b1"><div class="ttname"><a href="structrcu__node.html#ad3371e1ae3db70bf6f4384a43c7417b1">rcu_node::____cacheline_internodealigned_in_smp</a></div><div class="ttdeci">raw_spinlock_t fqslock ____cacheline_internodealigned_in_smp</div><div class="ttdef"><b>Definition:</b> tree.h:155</div></div>
<div class="ttc" id="structrcu__data_html_a95d1e7183cf8ddb491d96089beb6b7fd"><div class="ttname"><a href="structrcu__data.html#a95d1e7183cf8ddb491d96089beb6b7fd">rcu_data::gpwrap</a></div><div class="ttdeci">bool gpwrap</div><div class="ttdef"><b>Definition:</b> tree.h:193</div></div>
<div class="ttc" id="structrcu__data_html_a0b6b4fae75a622a10626f73c8d5b283a"><div class="ttname"><a href="structrcu__data.html#a0b6b4fae75a622a10626f73c8d5b283a">rcu_data::offline_fqs</a></div><div class="ttdeci">unsigned long offline_fqs</div><div class="ttdef"><b>Definition:</b> tree.h:217</div></div>
<div class="ttc" id="structrcu__data_html_a3ccc4c9ff14a4e8ab142fef05403fca2"><div class="ttname"><a href="structrcu__data.html#a3ccc4c9ff14a4e8ab142fef05403fca2">rcu_data::beenonline</a></div><div class="ttdeci">bool beenonline</div><div class="ttdef"><b>Definition:</b> tree.h:192</div></div>
<div class="ttc" id="structrcu__node_html_a6f0cce67a9af302479df44d3f4e47be0"><div class="ttname"><a href="structrcu__node.html#a6f0cce67a9af302479df44d3f4e47be0">rcu_node::expmaskinit</a></div><div class="ttdeci">unsigned long expmaskinit</div><div class="ttdef"><b>Definition:</b> tree.h:97</div></div>
<div class="ttc" id="structrcu__node_html_a953ef1c85c9ae35243909cbdf0bb3606"><div class="ttname"><a href="structrcu__node.html#a953ef1c85c9ae35243909cbdf0bb3606">rcu_node::gp_tasks</a></div><div class="ttdeci">struct list_head * gp_tasks</div><div class="ttdef"><b>Definition:</b> tree.h:121</div></div>
<div class="ttc" id="structrcu__node_html_afdf87c3a7a29a7bbe2edbe26fe9ed5bb"><div class="ttname"><a href="structrcu__node.html#afdf87c3a7a29a7bbe2edbe26fe9ed5bb">rcu_node::level</a></div><div class="ttdeci">u8 level</div><div class="ttdef"><b>Definition:</b> tree.h:111</div></div>
<div class="ttc" id="structrcu__node_html_aa39a12f2f554467dfa49a81da1832b87"><div class="ttname"><a href="structrcu__node.html#aa39a12f2f554467dfa49a81da1832b87">rcu_node::expmask</a></div><div class="ttdeci">unsigned long expmask</div><div class="ttdef"><b>Definition:</b> tree.h:94</div></div>
<div class="ttc" id="structrcu__data_html_a553645874ae28079fe0e0ed0ac4b986b"><div class="ttname"><a href="structrcu__data.html#a553645874ae28079fe0e0ed0ac4b986b">rcu_data::dynticks_fqs</a></div><div class="ttdeci">unsigned long dynticks_fqs</div><div class="ttdef"><b>Definition:</b> tree.h:216</div></div>
<div class="ttc" id="tree_8h_html_adbfefc77ad6dd42e8bd99edaa95b8d8b"><div class="ttname"><a href="tree_8h.html#adbfefc77ad6dd42e8bd99edaa95b8d8b">do_nocb_deferred_wakeup</a></div><div class="ttdeci">static void do_nocb_deferred_wakeup(struct rcu_data *rdp)</div></div>
<div class="ttc" id="tree_8h_html_a945b622cdc94f89abc5f0b9052bfc1b3"><div class="ttname"><a href="tree_8h.html#a945b622cdc94f89abc5f0b9052bfc1b3">rcu_print_detail_task_stall</a></div><div class="ttdeci">static void rcu_print_detail_task_stall(struct rcu_state *rsp)</div></div>
<div class="ttc" id="structrcu__node_html_ab04e0c746dd39a8a83b2f52dca96f66d"><div class="ttname"><a href="structrcu__node.html#ab04e0c746dd39a8a83b2f52dca96f66d">rcu_node::qsmaskinitnext</a></div><div class="ttdeci">unsigned long qsmaskinitnext</div><div class="ttdef"><b>Definition:</b> tree.h:92</div></div>
<div class="ttc" id="tree_8h_html_a0f41243f3f7f98895998f81572eed2ce"><div class="ttname"><a href="tree_8h.html#a0f41243f3f7f98895998f81572eed2ce">rcu_bootup_announce</a></div><div class="ttdeci">static void rcu_bootup_announce(void)</div></div>
<div class="ttc" id="structrcu__state_html_ae37777057a6fb123979394ec2679db29"><div class="ttname"><a href="structrcu__state.html#ae37777057a6fb123979394ec2679db29">rcu_state::gp_state</a></div><div class="ttdeci">short gp_state</div><div class="ttdef"><b>Definition:</b> tree.h:327</div></div>
<div class="ttc" id="structrcu__data_html_a5e1eaeee5038ac52441ad9d55b08b29d"><div class="ttname"><a href="structrcu__data.html#a5e1eaeee5038ac52441ad9d55b08b29d">rcu_data::completed</a></div><div class="ttdeci">unsigned long completed</div><div class="ttdef"><b>Definition:</b> tree.h:184</div></div>
<div class="ttc" id="structrcu__data_html"><div class="ttname"><a href="structrcu__data.html">rcu_data</a></div><div class="ttdef"><b>Definition:</b> tree.h:182</div></div>
<div class="ttc" id="tree_8h_html_a03db1aea14ec10d3a2cc6783418bfe11"><div class="ttname"><a href="tree_8h.html#a03db1aea14ec10d3a2cc6783418bfe11">rcu_struct_flavors</a></div><div class="ttdeci">struct list_head rcu_struct_flavors</div></div>
<div class="ttc" id="structrcu__node_html_a9c7c638d0e0438797323b418b41d7eed"><div class="ttname"><a href="structrcu__node.html#a9c7c638d0e0438797323b418b41d7eed">rcu_node::boost_kthread_status</a></div><div class="ttdeci">unsigned int boost_kthread_status</div><div class="ttdef"><b>Definition:</b> tree.h:147</div></div>
<div class="ttc" id="structrcu__data_html_a7446908607822050db983b3fbb015c39"><div class="ttname"><a href="structrcu__data.html#a7446908607822050db983b3fbb015c39">rcu_data::exp_workdone2</a></div><div class="ttdeci">atomic_long_t exp_workdone2</div><div class="ttdef"><b>Definition:</b> tree.h:229</div></div>
<div class="ttc" id="structrcu__state_html_aed38b8ca052867313653af23af2bf60b"><div class="ttname"><a href="structrcu__state.html#aed38b8ca052867313653af23af2bf60b">rcu_state::completed</a></div><div class="ttdeci">unsigned long completed</div><div class="ttdef"><b>Definition:</b> tree.h:323</div></div>
<div class="ttc" id="tree_8h_html_aa4f9bca4a301afe587a87d6535362f56"><div class="ttname"><a href="tree_8h.html#aa4f9bca4a301afe587a87d6535362f56">rcu_bind_gp_kthread</a></div><div class="ttdeci">static void rcu_bind_gp_kthread(void)</div></div>
<div class="ttc" id="structrcu__data_html_af12252431dee7b72fb7f73ecbb0b2095"><div class="ttname"><a href="structrcu__data.html#af12252431dee7b72fb7f73ecbb0b2095">rcu_data::mynode</a></div><div class="ttdeci">struct rcu_node * mynode</div><div class="ttdef"><b>Definition:</b> tree.h:194</div></div>
<div class="ttc" id="tree_8h_html_a9d23550b7f3043641e781cbdb0b4fcd9"><div class="ttname"><a href="tree_8h.html#a9d23550b7f3043641e781cbdb0b4fcd9">increment_cpu_stall_ticks</a></div><div class="ttdeci">static void increment_cpu_stall_ticks(void)</div></div>
<div class="ttc" id="structrcu__node_html_a2cca407ef78b0c6ab8e7f52b8b10002c"><div class="ttname"><a href="structrcu__node.html#a2cca407ef78b0c6ab8e7f52b8b10002c">rcu_node::grpnum</a></div><div class="ttdeci">u8 grpnum</div><div class="ttdef"><b>Definition:</b> tree.h:110</div></div>
<div class="ttc" id="structrcu__state_html_a825c85236d56f7b73cc3bcc176c066fe"><div class="ttname"><a href="structrcu__state.html#a825c85236d56f7b73cc3bcc176c066fe">rcu_state::expedited_need_qs</a></div><div class="ttdeci">atomic_t expedited_need_qs</div><div class="ttdef"><b>Definition:</b> tree.h:341</div></div>
<div class="ttc" id="structrcu__data_html_a8356d9dacde4f3cfdd5587d761bb70d0"><div class="ttname"><a href="structrcu__data.html#a8356d9dacde4f3cfdd5587d761bb70d0">rcu_data::core_needs_qs</a></div><div class="ttdeci">bool core_needs_qs</div><div class="ttdef"><b>Definition:</b> tree.h:191</div></div>
<div class="ttc" id="unionrcu__noqs_html_a31be804f0dac75690b5723aa81fe8483"><div class="ttname"><a href="unionrcu__noqs.html#a31be804f0dac75690b5723aa81fe8483">rcu_noqs::norm</a></div><div class="ttdeci">u8 norm</div><div class="ttdef"><b>Definition:</b> tree.h:175</div></div>
<div class="ttc" id="tree_8h_html_aed2116f7ee43144e891ba0723199de71"><div class="ttname"><a href="tree_8h.html#aed2116f7ee43144e891ba0723199de71">rcu_nocb_need_deferred_wakeup</a></div><div class="ttdeci">static int rcu_nocb_need_deferred_wakeup(struct rcu_data *rdp)</div></div>
<div class="ttc" id="structrcu__state_html_a458d3430be06675d082a1e25b041d432"><div class="ttname"><a href="structrcu__state.html#a458d3430be06675d082a1e25b041d432">rcu_state::gp_max</a></div><div class="ttdeci">unsigned long gp_max</div><div class="ttdef"><b>Definition:</b> tree.h:361</div></div>
<div class="ttc" id="tree_8h_html_a5a32d626785494bb5f22f958206efd67"><div class="ttname"><a href="tree_8h.html#a5a32d626785494bb5f22f958206efd67">rcu_prepare_for_idle</a></div><div class="ttdeci">static void rcu_prepare_for_idle(void)</div></div>
<div class="ttc" id="trace_8c_html_a91d5c49acae8833f02ba4f666fdaafce"><div class="ttname"><a href="trace_8c.html#a91d5c49acae8833f02ba4f666fdaafce">func</a></div><div class="ttdeci">u64(* func)(void)</div><div class="ttdef"><b>Definition:</b> trace.c:1157</div></div>
<div class="ttc" id="structrcu__data_html_ab1018a5f0bf3f4af68c46ce1a9502c57"><div class="ttname"><a href="structrcu__data.html#ab1018a5f0bf3f4af68c46ce1a9502c57">rcu_data::rcu_iw_gpnum</a></div><div class="ttdeci">unsigned long rcu_iw_gpnum</div><div class="ttdef"><b>Definition:</b> tree.h:265</div></div>
<div class="ttc" id="tree_8h_html_ad891ad54702ef83370eda5e5359a530c"><div class="ttname"><a href="tree_8h.html#ad891ad54702ef83370eda5e5359a530c">rcu_idle_count_callbacks_posted</a></div><div class="ttdeci">static void rcu_idle_count_callbacks_posted(void)</div></div>
<div class="ttc" id="structrcu__state_html_ad4ad83d2e41376c33672b7fb0288e266"><div class="ttname"><a href="structrcu__state.html#ad4ad83d2e41376c33672b7fb0288e266">rcu_state::ncpus</a></div><div class="ttdeci">int ncpus</div><div class="ttdef"><b>Definition:</b> tree.h:316</div></div>
<div class="ttc" id="tree_8h_html_a52a7b679fc0b2ef3a5ba39653d19961d"><div class="ttname"><a href="tree_8h.html#a52a7b679fc0b2ef3a5ba39653d19961d">rcu_init_one_nocb</a></div><div class="ttdeci">static void rcu_init_one_nocb(struct rcu_node *rnp)</div></div>
<div class="ttc" id="tree_8h_html_adddeadee3ad97f47f90f6a72722cf257"><div class="ttname"><a href="tree_8h.html#adddeadee3ad97f47f90f6a72722cf257">print_cpu_stall_info_end</a></div><div class="ttdeci">static void print_cpu_stall_info_end(void)</div></div>
<div class="ttc" id="structrcu__dynticks_html_ab2fb257281c746ce8eb581c112194aef"><div class="ttname"><a href="structrcu__dynticks.html#ab2fb257281c746ce8eb581c112194aef">rcu_dynticks::dynticks_nmi_nesting</a></div><div class="ttdeci">long dynticks_nmi_nesting</div><div class="ttdef"><b>Definition:</b> tree.h:42</div></div>
<div class="ttc" id="structrcu__data_html_a5e9273fdebd0f985f04f97c9177c8763"><div class="ttname"><a href="structrcu__data.html#a5e9273fdebd0f985f04f97c9177c8763">rcu_data::softirq_snap</a></div><div class="ttdeci">unsigned int softirq_snap</div><div class="ttdef"><b>Definition:</b> tree.h:261</div></div>
<div class="ttc" id="sched_2core_8c_html_a13fabc691944697ce2fdcfe2f6ec2cff"><div class="ttname"><a href="sched_2core_8c.html#a13fabc691944697ce2fdcfe2f6ec2cff">DECLARE_PER_CPU</a></div><div class="ttdeci">DECLARE_PER_CPU(cpumask_var_t, load_balance_mask)</div></div>
<div class="ttc" id="tree_8h_html_a80be3abb363d186541e27937eae03b57"><div class="ttname"><a href="tree_8h.html#a80be3abb363d186541e27937eae03b57">rcu_nocb_gp_cleanup</a></div><div class="ttdeci">static void rcu_nocb_gp_cleanup(struct swait_queue_head *sq)</div></div>
<div class="ttc" id="structrcu__data_html_a350426d80f046349e853eff9725bc222"><div class="ttname"><a href="structrcu__data.html#a350426d80f046349e853eff9725bc222">rcu_data::rcu_qs_ctr_snap</a></div><div class="ttdeci">unsigned long rcu_qs_ctr_snap</div><div class="ttdef"><b>Definition:</b> tree.h:188</div></div>
<div class="ttc" id="tree_8h_html_a56e4b7738b4c46825cbe7475c8c3b634"><div class="ttname"><a href="tree_8h.html#a56e4b7738b4c46825cbe7475c8c3b634">rcu_nocb_adopt_orphan_cbs</a></div><div class="ttdeci">static bool rcu_nocb_adopt_orphan_cbs(struct rcu_data *my_rdp, struct rcu_data *rdp, unsigned long flags)</div></div>
<div class="ttc" id="structrcu__dynticks_html_ab1dc7ff5265c2b195935f2dcbc8c3303"><div class="ttname"><a href="structrcu__dynticks.html#ab1dc7ff5265c2b195935f2dcbc8c3303">rcu_dynticks::dynticks_nesting</a></div><div class="ttdeci">long dynticks_nesting</div><div class="ttdef"><b>Definition:</b> tree.h:41</div></div>
<div class="ttc" id="tree_8h_html_a84eb25e87b124c26cb5645c56344ef57"><div class="ttname"><a href="tree_8h.html#a84eb25e87b124c26cb5645c56344ef57">rcu_spawn_nocb_kthreads</a></div><div class="ttdeci">static void __init rcu_spawn_nocb_kthreads(void)</div></div>
<div class="ttc" id="structrcu__node_html_ae9dc7733853417294c7337b0aed79c6a"><div class="ttname"><a href="structrcu__node.html#ae9dc7733853417294c7337b0aed79c6a">rcu_node::exp_tasks</a></div><div class="ttdeci">struct list_head * exp_tasks</div><div class="ttdef"><b>Definition:</b> tree.h:125</div></div>
<div class="ttc" id="structrcu__state_html_a7889dbc403ec080a68e2b5f05303680b"><div class="ttname"><a href="structrcu__state.html#a7889dbc403ec080a68e2b5f05303680b">rcu_state::ncpus_snap</a></div><div class="ttdeci">int ncpus_snap</div><div class="ttdef"><b>Definition:</b> tree.h:343</div></div>
<div class="ttc" id="structrcu__node_html_a75192ee33f6f3b605e298881b86b7f5d"><div class="ttname"><a href="structrcu__node.html#a75192ee33f6f3b605e298881b86b7f5d">rcu_node::qsmask</a></div><div class="ttdeci">unsigned long qsmask</div><div class="ttdef"><b>Definition:</b> tree.h:82</div></div>
<div class="ttc" id="tree_8h_html_af71aef4fb68a7df0ef8de8f771e042f9"><div class="ttname"><a href="tree_8h.html#af71aef4fb68a7df0ef8de8f771e042f9">rcu_preempt_check_callbacks</a></div><div class="ttdeci">static void rcu_preempt_check_callbacks(void)</div></div>
<div class="ttc" id="structrcu__node_html_a64a559802c5d689dbd29789c1c17469e"><div class="ttname"><a href="structrcu__node.html#a64a559802c5d689dbd29789c1c17469e">rcu_node::completed</a></div><div class="ttdeci">unsigned long completed</div><div class="ttdef"><b>Definition:</b> tree.h:79</div></div>
<div class="ttc" id="tree_8h_html_ab09749e248163651e550f6e3a1dec97a"><div class="ttname"><a href="tree_8h.html#ab09749e248163651e550f6e3a1dec97a">rcu_nocb_cpu_needs_barrier</a></div><div class="ttdeci">static bool rcu_nocb_cpu_needs_barrier(struct rcu_state *rsp, int cpu)</div></div>
<div class="ttc" id="structrcu__state_html_a9c6b552f5b170671253d581a6f86a2ae"><div class="ttname"><a href="structrcu__state.html#a9c6b552f5b170671253d581a6f86a2ae">rcu_state::rda</a></div><div class="ttdeci">struct rcu_data __percpu * rda</div><div class="ttdef"><b>Definition:</b> tree.h:314</div></div>
<div class="ttc" id="structrcu__state_html_a03affe84cccbe2f0abf1a7d69b3f22ef"><div class="ttname"><a href="structrcu__state.html#a03affe84cccbe2f0abf1a7d69b3f22ef">rcu_state::jiffies_resched</a></div><div class="ttdeci">unsigned long jiffies_resched</div><div class="ttdef"><b>Definition:</b> tree.h:357</div></div>
<div class="ttc" id="structrcu__dynticks_html_ad2fc892121bea56b7ab1828b8f6e8e43"><div class="ttname"><a href="structrcu__dynticks.html#ad2fc892121bea56b7ab1828b8f6e8e43">rcu_dynticks::rcu_urgent_qs</a></div><div class="ttdeci">bool rcu_urgent_qs</div><div class="ttdef"><b>Definition:</b> tree.h:46</div></div>
<div class="ttc" id="structrcu__data_html_a03ebe628be8c7bea0c54c902cfd79818"><div class="ttname"><a href="structrcu__data.html#a03ebe628be8c7bea0c54c902cfd79818">rcu_data::blimit</a></div><div class="ttdeci">long blimit</div><div class="ttdef"><b>Definition:</b> tree.h:209</div></div>
<div class="ttc" id="tree_8h_html_a124469ede64f926693b9b0ee8bb15d05"><div class="ttname"><a href="tree_8h.html#a124469ede64f926693b9b0ee8bb15d05">rcu_preempt_check_blocked_tasks</a></div><div class="ttdeci">static void rcu_preempt_check_blocked_tasks(struct rcu_node *rnp)</div></div>
<div class="ttc" id="tree_8h_html_a54f0207e0e9dc180114ea9b755097e8a"><div class="ttname"><a href="tree_8h.html#a54f0207e0e9dc180114ea9b755097e8a">rcu_nocb_gp_get</a></div><div class="ttdeci">static struct swait_queue_head * rcu_nocb_gp_get(struct rcu_node *rnp)</div></div>
<div class="ttc" id="tree_8h_html_a176b2642bef65699a05883d9fc34c66a"><div class="ttname"><a href="tree_8h.html#a176b2642bef65699a05883d9fc34c66a">rcu_spawn_boost_kthreads</a></div><div class="ttdeci">static void __init rcu_spawn_boost_kthreads(void)</div></div>
<div class="ttc" id="tree_8h_html_a5ea3e4efb4d541c8f2de58933030c65c"><div class="ttname"><a href="tree_8h.html#a5ea3e4efb4d541c8f2de58933030c65c">rcu_prepare_kthreads</a></div><div class="ttdeci">static void rcu_prepare_kthreads(int cpu)</div></div>
<div class="ttc" id="structrcu__data_html_ab3c4106b27c23ae699470f1c487e18ec"><div class="ttname"><a href="structrcu__data.html#ab3c4106b27c23ae699470f1c487e18ec">rcu_data::ticks_this_gp</a></div><div class="ttdeci">unsigned long ticks_this_gp</div><div class="ttdef"><b>Definition:</b> tree.h:196</div></div>
<div class="ttc" id="structrcu__state_html_a4e557266d8b9ad8a27ea255478350fb7"><div class="ttname"><a href="structrcu__state.html#a4e557266d8b9ad8a27ea255478350fb7">rcu_state::n_force_qs</a></div><div class="ttdeci">unsigned long n_force_qs</div><div class="ttdef"><b>Definition:</b> tree.h:349</div></div>
<div class="ttc" id="tree_8h_html_aadf6f77b2c2780e41144e29779eea2e2"><div class="ttname"><a href="tree_8h.html#aadf6f77b2c2780e41144e29779eea2e2">rcu_is_callbacks_kthread</a></div><div class="ttdeci">static bool rcu_is_callbacks_kthread(void)</div></div>
<div class="ttc" id="structrcu__state_html"><div class="ttname"><a href="structrcu__state.html">rcu_state</a></div><div class="ttdef"><b>Definition:</b> tree.h:309</div></div>
<div class="ttc" id="structrcu__node_html_afb49c75d909d0afeb4f42f7769a85891"><div class="ttname"><a href="structrcu__node.html#afb49c75d909d0afeb4f42f7769a85891">rcu_node::boost_kthread_task</a></div><div class="ttdeci">struct task_struct * boost_kthread_task</div><div class="ttdef"><b>Definition:</b> tree.h:144</div></div>
<div class="ttc" id="structrcu__data_html_af5e6a15e576865115e8ccf0390a80944"><div class="ttname"><a href="structrcu__data.html#af5e6a15e576865115e8ccf0390a80944">rcu_data::rcu_iw_pending</a></div><div class="ttdeci">bool rcu_iw_pending</div><div class="ttdef"><b>Definition:</b> tree.h:264</div></div>
<div class="ttc" id="structrcu__state_html_ae75aa840dffd71d3efd02e4419c23931"><div class="ttname"><a href="structrcu__state.html#ae75aa840dffd71d3efd02e4419c23931">rcu_state::gp_flags</a></div><div class="ttdeci">short gp_flags</div><div class="ttdef"><b>Definition:</b> tree.h:326</div></div>
<div class="ttc" id="structrcu__state_html_aad78d2f7f3c1ad31299f25a4c60f4675"><div class="ttname"><a href="structrcu__state.html#aad78d2f7f3c1ad31299f25a4c60f4675">rcu_state::jiffies_kick_kthreads</a></div><div class="ttdeci">unsigned long jiffies_kick_kthreads</div><div class="ttdef"><b>Definition:</b> tree.h:347</div></div>
<div class="ttc" id="structrcu__data_html_a9c758b2c089531a3c3b2ba738bae3f8d"><div class="ttname"><a href="structrcu__data.html#a9c758b2c089531a3c3b2ba738bae3f8d">rcu_data::exp_workdone3</a></div><div class="ttdeci">atomic_long_t exp_workdone3</div><div class="ttdef"><b>Definition:</b> tree.h:230</div></div>
<div class="ttc" id="structrcu__state_html_aee2ee17f8002749dfaa240c86e5d7a47"><div class="ttname"><a href="structrcu__state.html#aee2ee17f8002749dfaa240c86e5d7a47">rcu_state::n_force_qs_gpstart</a></div><div class="ttdeci">unsigned long n_force_qs_gpstart</div><div class="ttdef"><b>Definition:</b> tree.h:359</div></div>
<div class="ttc" id="structrcu__state_html_abd05a2114a1fd8df5ac0266da3b2ed6a"><div class="ttname"><a href="structrcu__state.html#abd05a2114a1fd8df5ac0266da3b2ed6a">rcu_state::gp_activity</a></div><div class="ttdeci">unsigned long gp_activity</div><div class="ttdef"><b>Definition:</b> tree.h:353</div></div>
<div class="ttc" id="tree_8h_html_ad32599689d28567005bb2d0e53568a7d"><div class="ttname"><a href="tree_8h.html#ad32599689d28567005bb2d0e53568a7d">srcu_online_cpu</a></div><div class="ttdeci">void srcu_online_cpu(unsigned int cpu)</div><div class="ttdef"><b>Definition:</b> tree.h:485</div></div>
<div class="ttc" id="tree_8h_html_a1d2ee623421a78490ee7c3f02cfbdd87"><div class="ttname"><a href="tree_8h.html#a1d2ee623421a78490ee7c3f02cfbdd87">rcu_dynticks_snap</a></div><div class="ttdeci">int rcu_dynticks_snap(struct rcu_dynticks *rdtp)</div><div class="ttdef"><b>Definition:</b> tree.c:356</div></div>
<div class="ttc" id="structrcu__node_html_a85314688d6391a90750d35e822b34d68"><div class="ttname"><a href="structrcu__node.html#a85314688d6391a90750d35e822b34d68">rcu_node::gpnum</a></div><div class="ttdeci">unsigned long gpnum</div><div class="ttdef"><b>Definition:</b> tree.h:76</div></div>
<div class="ttc" id="tree_8h_html_a1f041433820b67d788bfe79405b7a61f"><div class="ttname"><a href="tree_8h.html#a1f041433820b67d788bfe79405b7a61f">__call_rcu_nocb</a></div><div class="ttdeci">static bool __call_rcu_nocb(struct rcu_data *rdp, struct rcu_head *rhp, bool lazy, unsigned long flags)</div></div>
<div class="ttc" id="structrcu__state_html_a75b965d85cde3e7fbd0454b360aac3bb"><div class="ttname"><a href="structrcu__state.html#a75b965d85cde3e7fbd0454b360aac3bb">rcu_state::____cacheline_internodealigned_in_smp</a></div><div class="ttdeci">u8 boost ____cacheline_internodealigned_in_smp</div><div class="ttdef"><b>Definition:</b> tree.h:320</div></div>
<div class="ttc" id="tree_8h_html_a0f63785157ce981b50a8a935ccb54e2e"><div class="ttname"><a href="tree_8h.html#a0f63785157ce981b50a8a935ccb54e2e">rcu_spawn_all_nocb_kthreads</a></div><div class="ttdeci">static void rcu_spawn_all_nocb_kthreads(int cpu)</div></div>
<div class="ttc" id="structrcu__dynticks_html_a9019db7c754bad7fe7d95ac47da30a37"><div class="ttname"><a href="structrcu__dynticks.html#a9019db7c754bad7fe7d95ac47da30a37">rcu_dynticks::rcu_qs_ctr</a></div><div class="ttdeci">unsigned long rcu_qs_ctr</div><div class="ttdef"><b>Definition:</b> tree.h:45</div></div>
<div class="ttc" id="structrcu__node_html_a2c34e7748f22770d21b668d01cd19633"><div class="ttname"><a href="structrcu__node.html#a2c34e7748f22770d21b668d01cd19633">rcu_node::boost_tasks</a></div><div class="ttdeci">struct list_head * boost_tasks</div><div class="ttdef"><b>Definition:</b> tree.h:131</div></div>
<div class="ttc" id="tree_8h_html_ad6c18dde0169f3935550fa79adfb6667"><div class="ttname"><a href="tree_8h.html#ad6c18dde0169f3935550fa79adfb6667">rcu_preempt_note_context_switch</a></div><div class="ttdeci">static void rcu_preempt_note_context_switch(bool preempt)</div></div>
<div class="ttc" id="tree_8h_html_a471b06688c690dc4cea9d6a546b11aff"><div class="ttname"><a href="tree_8h.html#a471b06688c690dc4cea9d6a546b11aff">print_cpu_stall_info</a></div><div class="ttdeci">static void print_cpu_stall_info(struct rcu_state *rsp, int cpu)</div></div>
<div class="ttc" id="tree_8h_html_afb56fda071a2fec98487671eb4445f73"><div class="ttname"><a href="tree_8h.html#afb56fda071a2fec98487671eb4445f73">rcu_sched_state</a></div><div class="ttdeci">struct rcu_state rcu_sched_state</div></div>
<div class="ttc" id="tree_8h_html_a063257508755f593d0a8aa497fbcb76b"><div class="ttname"><a href="tree_8h.html#a063257508755f593d0a8aa497fbcb76b">rcu_preempt_blocked_readers_cgp</a></div><div class="ttdeci">static int rcu_preempt_blocked_readers_cgp(struct rcu_node *rnp)</div></div>
<div class="ttc" id="tree_8h_html_a650cb214b52339244779ee6626bb1aae"><div class="ttname"><a href="tree_8h.html#a650cb214b52339244779ee6626bb1aae">rcu_print_task_exp_stall</a></div><div class="ttdeci">static int rcu_print_task_exp_stall(struct rcu_node *rnp)</div></div>
<div class="ttc" id="structrcu__node_html_a1b88e0581a71f3e40fb6c4eecbf9af21"><div class="ttname"><a href="structrcu__node.html#a1b88e0581a71f3e40fb6c4eecbf9af21">rcu_node::wait_blkd_tasks</a></div><div class="ttdeci">bool wait_blkd_tasks</div><div class="ttdef"><b>Definition:</b> tree.h:112</div></div>
<div class="ttc" id="structrcu__data_html_a509066b760e146401440d5b2ac252ed0"><div class="ttname"><a href="structrcu__data.html#a509066b760e146401440d5b2ac252ed0">rcu_data::grpmask</a></div><div class="ttdeci">unsigned long grpmask</div><div class="ttdef"><b>Definition:</b> tree.h:195</div></div>
<div class="ttc" id="structrcu__node_html_a598fad15958e8b36063b2a611ec01ce6"><div class="ttname"><a href="structrcu__node.html#a598fad15958e8b36063b2a611ec01ce6">rcu_node::grplo</a></div><div class="ttdeci">int grplo</div><div class="ttdef"><b>Definition:</b> tree.h:108</div></div>
<div class="ttc" id="unionrcu__noqs_html_a0e6193e9ef5384eb3bc7ada4fe239f3c"><div class="ttname"><a href="unionrcu__noqs.html#a0e6193e9ef5384eb3bc7ada4fe239f3c">rcu_noqs::exp</a></div><div class="ttdeci">u8 exp</div><div class="ttdef"><b>Definition:</b> tree.h:176</div></div>
<div class="ttc" id="rcu__segcblist_8h_html"><div class="ttname"><a href="rcu__segcblist_8h.html">rcu_segcblist.h</a></div></div>
<div class="ttc" id="structrcu__node_html_aae3cf3bc1dd5115a7cd1cc8351ffb71a"><div class="ttname"><a href="structrcu__node.html#aae3cf3bc1dd5115a7cd1cc8351ffb71a">rcu_node::grpmask</a></div><div class="ttdeci">unsigned long grpmask</div><div class="ttdef"><b>Definition:</b> tree.h:106</div></div>
<div class="ttc" id="structrcu__state_html_aa532ddf65d4e79cc0d2e194fb594bc00"><div class="ttname"><a href="structrcu__state.html#aa532ddf65d4e79cc0d2e194fb594bc00">rcu_state::jiffies_stall</a></div><div class="ttdeci">unsigned long jiffies_stall</div><div class="ttdef"><b>Definition:</b> tree.h:355</div></div>
<div class="ttc" id="structrcu__data_html_a4f845728470a5b797caf38e23b2e9f4f"><div class="ttname"><a href="structrcu__data.html#a4f845728470a5b797caf38e23b2e9f4f">rcu_data::qlen_last_fqs_check</a></div><div class="ttdeci">long qlen_last_fqs_check</div><div class="ttdef"><b>Definition:</b> tree.h:205</div></div>
<div class="ttc" id="structrcu__data_html_aa650a471a496c9b855d1168dcf32036a"><div class="ttname"><a href="structrcu__data.html#aa650a471a496c9b855d1168dcf32036a">rcu_data::rsp</a></div><div class="ttdeci">struct rcu_state * rsp</div><div class="ttdef"><b>Definition:</b> tree.h:268</div></div>
<div class="ttc" id="structrcu__node_html_ae93c90b4f068b888ac194cc1591bcf77"><div class="ttname"><a href="structrcu__node.html#ae93c90b4f068b888ac194cc1591bcf77">rcu_node::ffmask</a></div><div class="ttdeci">unsigned long ffmask</div><div class="ttdef"><b>Definition:</b> tree.h:105</div></div>
<div class="ttc" id="tree_8h_html_a7c4f38a87fba6b9b61c5f1d52f0bd566"><div class="ttname"><a href="tree_8h.html#a7c4f38a87fba6b9b61c5f1d52f0bd566">rcu_bh_state</a></div><div class="ttdeci">struct rcu_state rcu_bh_state</div></div>
<div class="ttc" id="structrcu__dynticks_html_a1e153f095654a968860317ab06609026"><div class="ttname"><a href="structrcu__dynticks.html#a1e153f095654a968860317ab06609026">rcu_dynticks::dynticks</a></div><div class="ttdeci">atomic_t dynticks</div><div class="ttdef"><b>Definition:</b> tree.h:43</div></div>
<div class="ttc" id="structrcu__node_html_a809e23be6b7cdf881706b21c85a209cc"><div class="ttname"><a href="structrcu__node.html#a809e23be6b7cdf881706b21c85a209cc">rcu_node::qsmaskinit</a></div><div class="ttdeci">unsigned long qsmaskinit</div><div class="ttdef"><b>Definition:</b> tree.h:88</div></div>
<div class="ttc" id="structrcu__data_html_aafea83f345c3293f6992f56f0198fe29"><div class="ttname"><a href="structrcu__data.html#aafea83f345c3293f6992f56f0198fe29">rcu_data::exp_workdone0</a></div><div class="ttdeci">atomic_long_t exp_workdone0</div><div class="ttdef"><b>Definition:</b> tree.h:227</div></div>
<div class="ttc" id="structrcu__state_html_aff4cded428a9e9871efc67ea7cab8b69"><div class="ttname"><a href="structrcu__state.html#aff4cded428a9e9871efc67ea7cab8b69">rcu_state::gp_start</a></div><div class="ttdeci">unsigned long gp_start</div><div class="ttdef"><b>Definition:</b> tree.h:351</div></div>
<div class="ttc" id="structrcu__state_html_a147cbb2cc414412deb9757d562b6056e"><div class="ttname"><a href="structrcu__state.html#a147cbb2cc414412deb9757d562b6056e">rcu_state::barrier_cpu_count</a></div><div class="ttdeci">atomic_t barrier_cpu_count</div><div class="ttdef"><b>Definition:</b> tree.h:332</div></div>
<div class="ttc" id="tree_8h_html_af9feb853e00cb811cdd019971b33c1f0"><div class="ttname"><a href="tree_8h.html#af9feb853e00cb811cdd019971b33c1f0">rcu_boot_init_nocb_percpu_data</a></div><div class="ttdeci">static void rcu_boot_init_nocb_percpu_data(struct rcu_data *rdp)</div></div>
<div class="ttc" id="structrcu__data_html_a5204710fb13b12996403e543d41155e5"><div class="ttname"><a href="structrcu__data.html#a5204710fb13b12996403e543d41155e5">rcu_data::cond_resched_completed</a></div><div class="ttdeci">unsigned long cond_resched_completed</div><div class="ttdef"><b>Definition:</b> tree.h:218</div></div>
<div class="ttc" id="structrcu__state_html_af3113fbecbe310c11b9b39d672efa8d4"><div class="ttname"><a href="structrcu__state.html#af3113fbecbe310c11b9b39d672efa8d4">rcu_state::gp_kthread</a></div><div class="ttdeci">struct task_struct * gp_kthread</div><div class="ttdef"><b>Definition:</b> tree.h:324</div></div>
<div class="ttc" id="tree_8h_html_a6bb3e8a09bb67f453c12a389b7af6add"><div class="ttname"><a href="tree_8h.html#a6bb3e8a09bb67f453c12a389b7af6add">rcu_dynticks_task_exit</a></div><div class="ttdeci">static void rcu_dynticks_task_exit(void)</div></div>
<div class="ttc" id="structrcu__data_html_a3438986ad6f2b80444106324f099b9c7"><div class="ttname"><a href="structrcu__data.html#a3438986ad6f2b80444106324f099b9c7">rcu_data::cpu</a></div><div class="ttdeci">int cpu</div><div class="ttdef"><b>Definition:</b> tree.h:267</div></div>
<div class="ttc" id="tree_8h_html_a12260ffec113649f83b03befd9bc815b"><div class="ttname"><a href="tree_8h.html#a12260ffec113649f83b03befd9bc815b">rcu_dynticks_task_enter</a></div><div class="ttdeci">static void rcu_dynticks_task_enter(void)</div></div>
<div class="ttc" id="structrcu__data_html_a4f59663cf2edf88b1e6967092af5f0d2"><div class="ttname"><a href="structrcu__data.html#a4f59663cf2edf88b1e6967092af5f0d2">rcu_data::n_force_qs_snap</a></div><div class="ttdeci">unsigned long n_force_qs_snap</div><div class="ttdef"><b>Definition:</b> tree.h:207</div></div>
<div class="ttc" id="tree_8h_html_aeb29f45db719d66c6a724df1e5d812ea"><div class="ttname"><a href="tree_8h.html#aeb29f45db719d66c6a724df1e5d812ea">____cacheline_internodealigned_in_smp</a></div><div class="ttdeci">struct rcu_node ____cacheline_internodealigned_in_smp</div></div>
<div class="ttc" id="tree_8h_html_a7f002585cc3a4f17bb37f59f6a59a571"><div class="ttname"><a href="tree_8h.html#a7f002585cc3a4f17bb37f59f6a59a571">rcu_preempt_boost_start_gp</a></div><div class="ttdeci">static void rcu_preempt_boost_start_gp(struct rcu_node *rnp)</div></div>
<div class="ttc" id="structrcu__data_html_a1dcf973a7a5bd02c0c5b4b0c2ee6e7fd"><div class="ttname"><a href="structrcu__data.html#a1dcf973a7a5bd02c0c5b4b0c2ee6e7fd">rcu_data::exp_workdone1</a></div><div class="ttdeci">atomic_long_t exp_workdone1</div><div class="ttdef"><b>Definition:</b> tree.h:228</div></div>
<div class="ttc" id="tree_8h_html_a68f2aa709381cc5ed12f3f18891170ef"><div class="ttname"><a href="tree_8h.html#a68f2aa709381cc5ed12f3f18891170ef">rcu_initiate_boost</a></div><div class="ttdeci">static void rcu_initiate_boost(struct rcu_node *rnp, unsigned long flags)</div></div>
<div class="ttc" id="structrcu__state_html_a6bbf4e232545ff891906ca9b547a3a9a"><div class="ttname"><a href="structrcu__state.html#a6bbf4e232545ff891906ca9b547a3a9a">rcu_state::abbr</a></div><div class="ttdeci">char abbr</div><div class="ttdef"><b>Definition:</b> tree.h:364</div></div>
<div class="ttc" id="structrcu__node_html_a8eabdeda697961fd0f9b8339f8f9282c"><div class="ttname"><a href="structrcu__node.html#a8eabdeda697961fd0f9b8339f8f9282c">rcu_node::parent</a></div><div class="ttdeci">struct rcu_node * parent</div><div class="ttdef"><b>Definition:</b> tree.h:116</div></div>
<div class="ttc" id="tree_8h_html_aa1168d537fb137b48383b2b788d98aa6"><div class="ttname"><a href="tree_8h.html#aa1168d537fb137b48383b2b788d98aa6">invoke_rcu_callbacks_kthread</a></div><div class="ttdeci">static void invoke_rcu_callbacks_kthread(void)</div></div>
<div class="ttc" id="structrcu__node_html_a48e07d9484fdae5aaef9654935592309"><div class="ttname"><a href="structrcu__node.html#a48e07d9484fdae5aaef9654935592309">rcu_node::expmaskinitnext</a></div><div class="ttdeci">unsigned long expmaskinitnext</div><div class="ttdef"><b>Definition:</b> tree.h:101</div></div>
<div class="ttc" id="structrcu__state_html_a2ea3630e0e1d1466c93e084e61d36ad1"><div class="ttname"><a href="structrcu__state.html#a2ea3630e0e1d1466c93e084e61d36ad1">rcu_state::call</a></div><div class="ttdeci">call_rcu_func_t call</div><div class="ttdef"><b>Definition:</b> tree.h:315</div></div>
<div class="ttc" id="tree_8h_html_a094a548179ef967658b67414a0c91d32"><div class="ttname"><a href="tree_8h.html#a094a548179ef967658b67414a0c91d32">call_rcu</a></div><div class="ttdeci">void call_rcu(struct rcu_head *head, rcu_callback_t func)</div></div>
<div class="ttc" id="tree_8h_html_a97b633ac9da356978e99fb2c90127577"><div class="ttname"><a href="tree_8h.html#a97b633ac9da356978e99fb2c90127577">rcu_preempt_has_tasks</a></div><div class="ttdeci">static bool rcu_preempt_has_tasks(struct rcu_node *rnp)</div></div>
<div class="ttc" id="tree_8h_html_af96d136fa5c2afd7d2b29d74023ebb7a"><div class="ttname"><a href="tree_8h.html#af96d136fa5c2afd7d2b29d74023ebb7a">gp_state_names</a></div><div class="ttdeci">static const char *const gp_state_names[]</div><div class="ttdef"><b>Definition:</b> tree.h:382</div></div>
<div class="ttc" id="structrcu__data_html_a7532c6dcf1b4a57d927ee922d6f50e90"><div class="ttname"><a href="structrcu__data.html#a7532c6dcf1b4a57d927ee922d6f50e90">rcu_data::dynticks</a></div><div class="ttdeci">struct rcu_dynticks * dynticks</div><div class="ttdef"><b>Definition:</b> tree.h:212</div></div>
<div class="ttc" id="tree_8h_html_a2f8d3b26f52432478618e153f001d1f2"><div class="ttname"><a href="tree_8h.html#a2f8d3b26f52432478618e153f001d1f2">rcu_eqs_special_set</a></div><div class="ttdeci">bool rcu_eqs_special_set(int cpu)</div><div class="ttdef"><b>Definition:</b> tree.c:403</div></div>
<div class="ttc" id="tree_8h_html_a84d7ed0e67d07814c63f8071ca8930f5"><div class="ttname"><a href="tree_8h.html#a84d7ed0e67d07814c63f8071ca8930f5">init_nocb_callback_list</a></div><div class="ttdeci">static bool init_nocb_callback_list(struct rcu_data *rdp)</div></div>
<div class="ttc" id="structrcu__dynticks_html"><div class="ttname"><a href="structrcu__dynticks.html">rcu_dynticks</a></div><div class="ttdef"><b>Definition:</b> tree.h:40</div></div>
<div class="ttc" id="tree_8h_html_a5b7f7778b452e08dc387360cd9ded3ee"><div class="ttname"><a href="tree_8h.html#a5b7f7778b452e08dc387360cd9ded3ee">rcu_nohz_full_cpu</a></div><div class="ttdeci">static bool rcu_nohz_full_cpu(struct rcu_state *rsp)</div></div>
<div class="ttc" id="tree_8h_html_a11a0a6476fabe5388a65fab9669c4474"><div class="ttname"><a href="tree_8h.html#a11a0a6476fabe5388a65fab9669c4474">rcu_nocb_gp_set</a></div><div class="ttdeci">static void rcu_nocb_gp_set(struct rcu_node *rnp, int nrq)</div></div>
<div class="ttc" id="structrcu__state_html_aff458638059cf2c033432bada2c14db0"><div class="ttname"><a href="structrcu__state.html#aff458638059cf2c033432bada2c14db0">rcu_state::jiffies_force_qs</a></div><div class="ttdeci">unsigned long jiffies_force_qs</div><div class="ttdef"><b>Definition:</b> tree.h:345</div></div>
<div class="ttc" id="tree_8h_html_a4e262c78f977536de0f00871bb3e67d5"><div class="ttname"><a href="tree_8h.html#a4e262c78f977536de0f00871bb3e67d5">rcu_print_task_stall</a></div><div class="ttdeci">static int rcu_print_task_stall(struct rcu_node *rnp)</div></div>
<div class="ttc" id="tree_8h_html_aba1071b5b1e992ab606c50cc6f167b8d"><div class="ttname"><a href="tree_8h.html#aba1071b5b1e992ab606c50cc6f167b8d">zero_cpu_stall_ticks</a></div><div class="ttdeci">static void zero_cpu_stall_ticks(struct rcu_data *rdp)</div></div>
<div class="ttc" id="structrcu__dynticks_html_a94d20976e8e819c6052ab8aaae76927a"><div class="ttname"><a href="structrcu__dynticks.html#a94d20976e8e819c6052ab8aaae76927a">rcu_dynticks::rcu_need_heavy_qs</a></div><div class="ttdeci">bool rcu_need_heavy_qs</div><div class="ttdef"><b>Definition:</b> tree.h:44</div></div>
<div class="ttc" id="structrcu__data_html_afef937986d766aa6419fc9b9c841586f"><div class="ttname"><a href="structrcu__data.html#afef937986d766aa6419fc9b9c841586f">rcu_data::exp_dynticks_snap</a></div><div class="ttdeci">int exp_dynticks_snap</div><div class="ttdef"><b>Definition:</b> tree.h:231</div></div>
<div class="ttc" id="tree_8h_html_ad4ed4d5b804dbebf07ded72d4d536e0f"><div class="ttname"><a href="tree_8h.html#ad4ed4d5b804dbebf07ded72d4d536e0f">rcu_kick_nohz_cpu</a></div><div class="ttdeci">static void __maybe_unused rcu_kick_nohz_cpu(int cpu)</div></div>
<div class="ttc" id="structrcu__state_html_a980f0eeff57a1dbdef44ac0a60cfb014"><div class="ttname"><a href="structrcu__state.html#a980f0eeff57a1dbdef44ac0a60cfb014">rcu_state::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> tree.h:363</div></div>
<div class="ttc" id="unionrcu__noqs_html_a4a446df53b869ebe557260e8ac552c58"><div class="ttname"><a href="unionrcu__noqs.html#a4a446df53b869ebe557260e8ac552c58">rcu_noqs::s</a></div><div class="ttdeci">u16 s</div><div class="ttdef"><b>Definition:</b> tree.h:178</div></div>
<div class="ttc" id="structrcu__state_html_a7d21262d3e63370f0d0e83b78fab97b1"><div class="ttname"><a href="structrcu__state.html#a7d21262d3e63370f0d0e83b78fab97b1">rcu_state::expedited_sequence</a></div><div class="ttdeci">unsigned long expedited_sequence</div><div class="ttdef"><b>Definition:</b> tree.h:340</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_7b85f37e59a0ebbc97f96bcf3a78b851.html">rcu</a></li><li class="navelem"><a class="el" href="tree_8h.html">tree.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
