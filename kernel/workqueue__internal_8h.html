<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: workqueue_internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">workqueue_internal.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/workqueue.h&gt;</code><br />
<code>#include &lt;linux/kthread.h&gt;</code><br />
<code>#include &lt;linux/preempt.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for workqueue_internal.h:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h__incl.png" border="0" usemap="#workqueue__internal_8h" alt=""/></div>
<map name="workqueue__internal_8h" id="workqueue__internal_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h__dep__incl.png" border="0" usemap="#workqueue__internal_8hdep" alt=""/></div>
<map name="workqueue__internal_8hdep" id="workqueue__internal_8hdep">
<area shape="rect" id="node2" href="async_8c.html" title="async.c" alt="" coords="5,80,73,107"/>
<area shape="rect" id="node3" href="sched_2core_8c.html" title="sched/core.c" alt="" coords="97,80,195,107"/>
<area shape="rect" id="node4" href="workqueue_8c.html" title="workqueue.c" alt="" coords="219,80,315,107"/>
</map>
</div>
</div>
<p><a href="workqueue__internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structworker.html">worker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acd01911cd74cfe74ec3faadc2095fdf0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structworker.html">worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="workqueue__internal_8h.html#acd01911cd74cfe74ec3faadc2095fdf0">current_wq_worker</a> (void)</td></tr>
<tr class="separator:acd01911cd74cfe74ec3faadc2095fdf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa975f4c94c08cef18ab3dbb07007b130"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="workqueue__internal_8h.html#aa975f4c94c08cef18ab3dbb07007b130">wq_worker_waking_up</a> (struct task_struct *task, int cpu)</td></tr>
<tr class="separator:aa975f4c94c08cef18ab3dbb07007b130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4900a0cd9351c57c52a09668125d2253"><td class="memItemLeft" align="right" valign="top">struct task_struct *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="workqueue__internal_8h.html#a4900a0cd9351c57c52a09668125d2253">wq_worker_sleeping</a> (struct task_struct *task)</td></tr>
<tr class="separator:a4900a0cd9351c57c52a09668125d2253"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acd01911cd74cfe74ec3faadc2095fdf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd01911cd74cfe74ec3faadc2095fdf0">&#9670;&nbsp;</a></span>current_wq_worker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structworker.html">worker</a>* current_wq_worker </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>current_wq_worker - return struct worker if current is a workqueue worker </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_cgraph.png" border="0" usemap="#workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_cgraph" alt=""/></div>
<map name="workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_cgraph" id="workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_cgraph">
<area shape="rect" id="node2" href="kthread_8c.html#a44f65489bb56d51f2064ddf1984418aa" title="kthread_data" alt="" coords="398,23,495,50"/>
<area shape="rect" id="node4" href="workqueue__internal_8h.html#aa975f4c94c08cef18ab3dbb07007b130" title="wq_worker_waking_up" alt="" coords="185,23,340,50"/>
<area shape="rect" id="node5" href="workqueue__internal_8h.html#a4900a0cd9351c57c52a09668125d2253" title="wq_worker_sleeping" alt="" coords="193,74,333,101"/>
<area shape="rect" id="node3" href="kthread_8c.html#af6f52ee3f6f9d6e0011dbb3038b56023" title="to_kthread" alt="" coords="553,23,636,50"/>
<area shape="rect" id="node6" href="workqueue_8c.html#a2ca4efa4bbc9afad51556430da7994fb" title="first_idle_worker" alt="" coords="388,74,505,101"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_icgraph.png" border="0" usemap="#workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_icgraph" alt=""/></div>
<map name="workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_icgraph" id="workqueue__internal_8h_acd01911cd74cfe74ec3faadc2095fdf0_icgraph">
<area shape="rect" id="node2" href="async_8c.html#a8179200935e002399bdfd559fa93cecd" title="current_is_async" alt="" coords="209,304,331,331"/>
<area shape="rect" id="node4" href="workqueue_8c.html#a07d252e3104a665b236ebe0c04331549" title="is_chained_work" alt="" coords="211,392,329,419"/>
<area shape="rect" id="node25" href="workqueue_8c.html#a62db03132e651d3db3e07a7c59d56a30" title="check_flush_dependency" alt="" coords="185,519,355,545"/>
<area shape="rect" id="node48" href="workqueue_8c.html#a3754ac9f1ed0bcc1e26cdf0301197542" title="current_work" alt="" coords="221,569,319,596"/>
<area shape="rect" id="node49" href="workqueue_8c.html#a2c6472f803f0a7bea524887b755f73b7" title="current_is_workqueue\l_rescuer" alt="" coords="195,621,345,662"/>
<area shape="rect" id="node50" href="workqueue_8c.html#a5ae59ea13c4b988964d743905bfa111f" title="set_worker_desc" alt="" coords="209,687,331,713"/>
<area shape="rect" id="node3" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df" title="__request_module" alt="" coords="403,284,531,311"/>
<area shape="rect" id="node5" href="workqueue_8c.html#ab0285338dd00b9d092f80b1dc134cef3" title="__queue_work" alt="" coords="413,335,520,361"/>
<area shape="rect" id="node6" href="workqueue_8c.html#a85eb028858d32493125f2e17710653da" title="queue_work_on" alt="" coords="611,183,725,209"/>
<area shape="rect" id="node15" href="workqueue_8c.html#a729c4c3073a70cc7b7c43e6c5f338d18" title="delayed_work_timer_fn" alt="" coords="590,284,746,311"/>
<area shape="rect" id="node16" href="workqueue_8c.html#a879f954a994d599f7ddbdb6c7e999267" title="__queue_delayed_work" alt="" coords="807,309,966,336"/>
<area shape="rect" id="node20" href="workqueue_8c.html#a8578f0b56a0ae77ce60a179309755aba" title="rcu_work_rcufn" alt="" coords="613,56,723,83"/>
<area shape="rect" id="node22" href="workqueue_8c.html#ae8203e6f5cc2e6a1b62f7043b328e327" title="flush_delayed_work" alt="" coords="818,461,955,488"/>
<area shape="rect" id="node7" href="padata_8c.html#ab97259dd006d91aef3a6803afe99f390" title="padata_do_parallel" alt="" coords="821,157,952,184"/>
<area shape="rect" id="node8" href="padata_8c.html#a25173bc32eda4842abe471460388a5bd" title="padata_reorder" alt="" coords="833,259,941,285"/>
<area shape="rect" id="node10" href="padata_8c.html#a6f32bf565333c8df4516b05626457010" title="padata_reorder_timer" alt="" coords="1027,208,1171,235"/>
<area shape="rect" id="node12" href="padata_8c.html#a6da841af5b18b8b049bad78156a71cb3" title="padata_do_serial" alt="" coords="1039,107,1159,133"/>
<area shape="rect" id="node14" href="smp_8c.html#a5772c43e75aef8cc0b4c5fd59ded8215" title="smp_call_on_cpu" alt="" coords="825,107,948,133"/>
<area shape="rect" id="node9" href="padata_8c.html#a6728810541a76d9b2f516a96afcf4833" title="invoke_padata_reorder" alt="" coords="1022,259,1175,285"/>
<area shape="rect" id="node13" href="padata_8c.html#a01c6d51f5f7a7abe9e5d737a78011811" title="padata_flush_queues" alt="" coords="1026,588,1171,615"/>
<area shape="rect" id="node11" href="padata_8c.html#a1ccfdac586882da4e0a1eedbec9a31fb" title="padata_alloc_pd" alt="" coords="1242,208,1358,235"/>
<area shape="rect" id="node17" href="workqueue_8c.html#a545fd032b869a294882d8c732982ae2b" title="queue_delayed_work_on" alt="" coords="1016,360,1181,387"/>
<area shape="rect" id="node19" href="workqueue_8c.html#a4e10a443be9c49f9782e13951deef78b" title="mod_delayed_work_on" alt="" coords="1021,309,1176,336"/>
<area shape="rect" id="node18" href="srcutree_8c.html#a0e29ce1650b2a738fd7fcedcd4ba8241" title="srcu_queue_delayed\l_work_on" alt="" coords="1229,353,1371,394"/>
<area shape="rect" id="node21" href="workqueue_8c.html#a2a910313dbf1a4079816f0e36a29b1bf" title="queue_rcu_work" alt="" coords="828,5,945,32"/>
<area shape="rect" id="node23" href="kprobes_8c.html#a51f83397f0d2de316196b54f71859960" title="copy_kprobe" alt="" coords="1051,487,1147,513"/>
<area shape="rect" id="node24" href="srcutree_8c.html#af10f47db12d9959e970f29417cbf86b6" title="cleanup_srcu_struct" alt="" coords="1029,436,1168,463"/>
<area shape="rect" id="node26" href="workqueue_8c.html#ac74e44f2d15bd566b9e03ce3f550807f" title="flush_workqueue" alt="" coords="407,537,527,564"/>
<area shape="rect" id="node38" href="workqueue_8c.html#aec2681a46102ebdb1921959ce00b9d76" title="start_flush_work" alt="" coords="407,639,526,665"/>
<area shape="rect" id="node27" href="cgroup-v1_8c.html#af68f09aaaaec0f7eaf0e99a44108a673" title="cgroup1_pidlist_destroy_all" alt="" coords="579,385,757,412"/>
<area shape="rect" id="node30" href="cpuset_8c.html#aaae7039bf25cf4df72c873b73583a4df" title="cpuset_post_attach" alt="" coords="600,487,736,513"/>
<area shape="rect" id="node31" href="cpuset_8c.html#a7398e486b19816967ac2ee9da63135d5" title="cpuset_write_resmask" alt="" coords="810,512,963,539"/>
<area shape="rect" id="node32" href="test-ww__mutex_8c.html#aa1e12d8101f37b469c8d1b8c4e041269" title="__test_cycle" alt="" coords="620,867,716,893"/>
<area shape="rect" id="node35" href="test-ww__mutex_8c.html#a2ecaf1bea711282d9871d6676cbe69e8" title="stress" alt="" coords="639,1069,697,1096"/>
<area shape="rect" id="node36" href="workqueue_8c.html#a7b9a5e30695b80be64fd4618c9160499" title="drain_workqueue" alt="" coords="608,588,728,615"/>
<area shape="rect" id="node28" href="cgroup_2cgroup_8c.html#a76cd83d0444fe6888871c4e2d341791d" title="css_free_rwork_fn" alt="" coords="822,411,951,437"/>
<area shape="rect" id="node29" href="cgroup-internal_8h.html#a49f5d4cb33684b7efa78081239dbf272" title="get_css_set" alt="" coords="840,360,933,387"/>
<area shape="rect" id="node33" href="test-ww__mutex_8c.html#aad66e27ddda70f3bbe484fc964ef3dda" title="test_cycle" alt="" coords="845,1069,928,1096"/>
<area shape="rect" id="node34" href="test-ww__mutex_8c.html#acbb4d1a260bf50280c4e48edc5b86cd1" title="test_ww_mutex_init" alt="" coords="1029,1069,1168,1096"/>
<area shape="rect" id="node37" href="workqueue_8c.html#aba492916084f98737c12403a3b80946d" title="destroy_workqueue" alt="" coords="819,563,954,589"/>
<area shape="rect" id="node39" href="workqueue_8c.html#a94e6db1005a99be1270a4ce82f6b7a68" title="flush_work" alt="" coords="625,740,711,767"/>
<area shape="rect" id="node40" href="cpuset_8c.html#a34c04f28768cda721060bdfd496f4c8c" title="cpuset_wait_for_hotplug" alt="" coords="805,968,968,995"/>
<area shape="rect" id="node41" href="test-ww__mutex_8c.html#a6823e76be20fc5f7c224d710d7313f0f" title="__test_mutex" alt="" coords="836,1019,937,1045"/>
<area shape="rect" id="node42" href="test-ww__mutex_8c.html#a608c6937123f164b0230cf68dc534635" title="test_abba" alt="" coords="847,664,926,691"/>
<area shape="rect" id="node43" href="srcutiny_8c.html#af10f47db12d9959e970f29417cbf86b6" title="cleanup_srcu_struct" alt="" coords="817,715,956,741"/>
<area shape="rect" id="node44" href="workqueue_8c.html#afe59873655a117f9840a4f805d8e00bb" title="__cancel_work_timer" alt="" coords="814,765,959,792"/>
<area shape="rect" id="node45" href="workqueue_8c.html#a975abba0995a7c323e761d89d5b011d2" title="flush_rcu_work" alt="" coords="831,816,942,843"/>
<area shape="rect" id="node46" href="workqueue_8c.html#a6569fa878f5bf03a2ebb583507e58a37" title="schedule_on_each_cpu" alt="" coords="807,867,966,893"/>
<area shape="rect" id="node47" href="workqueue_8c.html#a933dabbbfb29774ba8c0c190eec2043d" title="workqueue_offline_cpu" alt="" coords="809,917,964,944"/>
</map>
</div>

</div>
</div>
<a id="a4900a0cd9351c57c52a09668125d2253"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4900a0cd9351c57c52a09668125d2253">&#9670;&nbsp;</a></span>wq_worker_sleeping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct task_struct* wq_worker_sleeping </td>
          <td>(</td>
          <td class="paramtype">struct task_struct *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>wq_worker_sleeping - a worker is going to sleep : task going to sleep</p>
<p>This function is called during <a class="el" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966">schedule()</a> when a busy worker is going to sleep. Worker on the same cpu can be woken up by returning pointer to its task.</p>
<p>CONTEXT: spin_lock_irq(rq-&gt;lock)</p>
<p>Return: Worker task on  to wake up, NULL if none. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_cgraph.png" border="0" usemap="#workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_cgraph" alt=""/></div>
<map name="workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_cgraph" id="workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_cgraph">
<area shape="rect" id="node2" href="kthread_8c.html#a44f65489bb56d51f2064ddf1984418aa" title="kthread_data" alt="" coords="203,5,301,32"/>
<area shape="rect" id="node4" href="workqueue_8c.html#a2ca4efa4bbc9afad51556430da7994fb" title="first_idle_worker" alt="" coords="193,56,311,83"/>
<area shape="rect" id="node3" href="kthread_8c.html#af6f52ee3f6f9d6e0011dbb3038b56023" title="to_kthread" alt="" coords="359,5,441,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_icgraph.png" border="0" usemap="#workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_icgraph" alt=""/></div>
<map name="workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_icgraph" id="workqueue__internal_8h_a4900a0cd9351c57c52a09668125d2253_icgraph">
<area shape="rect" id="node2" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="215,924,303,951"/>
<area shape="rect" id="node44" href="workqueue__internal_8h.html#acd01911cd74cfe74ec3faadc2095fdf0" title="current_wq_worker" alt="" coords="193,1168,325,1195"/>
<area shape="rect" id="node3" href="sched_2core_8c.html#a4fee0a02899b4c21a8020f6de4496bfc" title="do_task_dead" alt="" coords="415,401,517,428"/>
<area shape="rect" id="node6" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="429,949,503,976"/>
<area shape="rect" id="node9" href="sched_8h.html#a2ee281afa2f93728f512768cadd6d299" title="schedule_idle" alt="" coords="647,1892,749,1919"/>
<area shape="rect" id="node42" href="sched_2core_8c.html#a7fd9273ff9ec26e199125e5d9ea438f6" title="preempt_schedule_common" alt="" coords="373,848,559,875"/>
<area shape="rect" id="node43" href="sched_2core_8c.html#a4c103d6bc0ffcf653623f9997e7a7c6b" title="preempt_schedule_irq" alt="" coords="391,899,541,925"/>
<area shape="rect" id="node4" href="exit_8c.html#a40d5ce07ef41c9aecf2c6e25c29c745d" title="do_exit" alt="" coords="666,5,730,32"/>
<area shape="rect" id="node5" href="kthread_8c.html#ad4c446b81b8b41f18a32735f7d43604f" title="kthread" alt="" coords="837,376,903,403"/>
<area shape="rect" id="node7" href="audit__tree_8c.html#ab82cc5d5374aa33440b2e2c6c2b9771a" title="prune_tree_thread" alt="" coords="635,427,761,453"/>
<area shape="rect" id="node8" href="cgroup_2cgroup_8c.html#aa58c85d0ef326f579fe8a6585347fdab" title="cgroup_lock_and_drain\l_offline" alt="" coords="621,478,775,519"/>
<area shape="rect" id="node10" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="607,544,789,571"/>
<area shape="rect" id="node11" href="sched_2core_8c.html#ac3be8136e75cf2c521d195b22b56d05a" title="do_sched_yield" alt="" coords="642,595,754,621"/>
<area shape="rect" id="node12" href="sched_2core_8c.html#ab222a2197eb3eecc4d50a53681c0989b" title="yield_to" alt="" coords="665,645,731,672"/>
<area shape="rect" id="node13" href="sched_2core_8c.html#a6e77e5af9a17d33ea8899e261e1b3850" title="io_schedule" alt="" coords="653,696,743,723"/>
<area shape="rect" id="node14" href="cpumap_8c.html#af7f79a6d72b38c982305b406a95e94b3" title="cpu_map_kthread_run" alt="" coords="623,747,773,773"/>
<area shape="rect" id="node15" href="freezer_8c.html#aa7ec477b50fb71b6da03272b66e1c151" title="__refrigerator" alt="" coords="649,797,747,824"/>
<area shape="rect" id="node16" href="trace_2ring__buffer_8c.html#a7a51c1c4379c82fc7f9c90d9b16433a1" title="ring_buffer_wait" alt="" coords="641,848,755,875"/>
<area shape="rect" id="node17" href="trace_2ring__buffer_8c.html#abaa46f57608417cd0a8469f37600629b" title="trace_rb_cpu_prepare" alt="" coords="625,899,771,925"/>
<area shape="rect" id="node18" href="exit_8c.html#a8245be3a2273d70ac52cedb968d27fe5" title="do_wait" alt="" coords="665,949,731,976"/>
<area shape="rect" id="node19" href="manage_8c.html#ac6ed0fd9d63190dcc155b55144c668eb" title="irq_wait_for_interrupt" alt="" coords="627,1000,769,1027"/>
<area shape="rect" id="node20" href="kthread_8c.html#a99b3dc6741a2a1a9e2feb1ac2d2cf0dd" title="__kthread_parkme" alt="" coords="633,1841,763,1868"/>
<area shape="rect" id="node21" href="kthread_8c.html#a21d7c649f752ff1ec8cd6e139a9b5e6c" title="kthreadd" alt="" coords="662,1051,734,1077"/>
<area shape="rect" id="node22" href="kthread_8c.html#adf78c947fddc9e72334e2f6657d1cd87" title="kthread_worker_fn" alt="" coords="633,1101,763,1128"/>
<area shape="rect" id="node23" href="rtmutex_8c.html#ab16f391d175d383bd47b68229240592e" title="__rt_mutex_slowlock" alt="" coords="625,1152,771,1179"/>
<area shape="rect" id="node24" href="rtmutex_8c.html#a3674603e5ca0ac7ce37de6ae50cdff6e" title="rt_mutex_handle_deadlock" alt="" coords="609,1203,787,1229"/>
<area shape="rect" id="node25" href="rwsem-spinlock_8c.html#a0e59572d5673da4348a84f4a0574f9d8" title="__down_read_common" alt="" coords="620,1253,776,1280"/>
<area shape="rect" id="node26" href="rwsem-spinlock_8c.html#ab6cb43c0f28405e0648dddd3b03a98bd" title="__down_write_common" alt="" coords="619,1304,777,1331"/>
<area shape="rect" id="node27" href="rwsem-xadd_8c.html#af95fa0704efb9157f6cbdfb82f5c4da0" title="__rwsem_down_read_failed\l_common" alt="" coords="607,1355,789,1397"/>
<area shape="rect" id="node28" href="rwsem-xadd_8c.html#a2eb7131c6a1729dafdc4c66e7d9f86a4" title="__rwsem_down_write\l_failed_common" alt="" coords="624,1421,772,1462"/>
<area shape="rect" id="node29" href="pid__namespace_8c.html#ac42f33d4c1fde4ac541b10b3f008bbce" title="zap_pid_ns_processes" alt="" coords="621,1487,775,1513"/>
<area shape="rect" id="node30" href="process_8c.html#a3712398ca86c5db0cf80529834abc347" title="thaw_processes" alt="" coords="639,1537,757,1564"/>
<area shape="rect" id="node31" href="process_8c.html#aaad6c67a6f0c0d112f847b8bd08be65b" title="thaw_kernel_threads" alt="" coords="627,1588,769,1615"/>
<area shape="rect" id="node32" href="resource_8c.html#a42973b87aebed6668a99f802512fd4c2" title="__request_region" alt="" coords="637,1639,759,1665"/>
<area shape="rect" id="node33" href="wait_8c.html#a4cd517b7ccd602072d54d9e2a208f1e9" title="do_wait_intr" alt="" coords="652,1689,744,1716"/>
<area shape="rect" id="node34" href="wait_8c.html#ac674d1ed6ed9fb8f7652a39fbdfbf8fe" title="do_wait_intr_irq" alt="" coords="641,1740,755,1767"/>
<area shape="rect" id="node35" href="wait__bit_8c.html#a77c2e457f928ddc9f75f2007aefaf995" title="bit_wait" alt="" coords="665,1791,731,1817"/>
<area shape="rect" id="node36" href="signal_8c.html#a877c7eb5f6658c6271e80d15f88a2f75" title="SYSCALL_DEFINE4" alt="" coords="625,56,771,83"/>
<area shape="rect" id="node37" href="signal_8c.html#aea3397de89d9c3a338cb415e89d90aad" title="sigsuspend" alt="" coords="654,107,742,133"/>
<area shape="rect" id="node38" href="smpboot_8c.html#a54349fff7a1cb89220453509752d5e33" title="smpboot_thread_fn" alt="" coords="631,157,765,184"/>
<area shape="rect" id="node39" href="alarmtimer_8c.html#af1ba12909a0451f65d5707a3c1fa6385" title="alarm_forward_now" alt="" coords="631,208,765,235"/>
<area shape="rect" id="node40" href="hrtimer_8c.html#a91f4da6483522c4734bac992a5809e63" title="schedule_hrtimeout\l_range_clock" alt="" coords="631,259,765,301"/>
<area shape="rect" id="node41" href="posix-cpu-timers_8c.html#aed6b63c19bfbdb3da5a11cbba0cdaea8" title="do_cpu_nanosleep" alt="" coords="633,325,763,352"/>
<area shape="rect" id="node45" href="async_8c.html#a8179200935e002399bdfd559fa93cecd" title="current_is_async" alt="" coords="405,1219,527,1245"/>
<area shape="rect" id="node46" href="workqueue_8c.html#a07d252e3104a665b236ebe0c04331549" title="is_chained_work" alt="" coords="407,1269,525,1296"/>
<area shape="rect" id="node47" href="workqueue_8c.html#a62db03132e651d3db3e07a7c59d56a30" title="check_flush_dependency" alt="" coords="381,1320,551,1347"/>
<area shape="rect" id="node48" href="workqueue_8c.html#a3754ac9f1ed0bcc1e26cdf0301197542" title="current_work" alt="" coords="417,1051,515,1077"/>
<area shape="rect" id="node49" href="workqueue_8c.html#a2c6472f803f0a7bea524887b755f73b7" title="current_is_workqueue\l_rescuer" alt="" coords="391,1102,541,1143"/>
<area shape="rect" id="node50" href="workqueue_8c.html#a5ae59ea13c4b988964d743905bfa111f" title="set_worker_desc" alt="" coords="405,1168,527,1195"/>
</map>
</div>

</div>
</div>
<a id="aa975f4c94c08cef18ab3dbb07007b130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa975f4c94c08cef18ab3dbb07007b130">&#9670;&nbsp;</a></span>wq_worker_waking_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wq_worker_waking_up </td>
          <td>(</td>
          <td class="paramtype">struct task_struct *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>wq_worker_waking_up - a worker is waking up : task waking up : CPU  is waking up to</p>
<p>This function is called during <a class="el" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1">try_to_wake_up()</a> when a worker is being awoken.</p>
<p>CONTEXT: spin_lock_irq(rq-&gt;lock) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_cgraph.png" border="0" usemap="#workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_cgraph" alt=""/></div>
<map name="workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_cgraph" id="workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_cgraph">
<area shape="rect" id="node2" href="kthread_8c.html#a44f65489bb56d51f2064ddf1984418aa" title="kthread_data" alt="" coords="208,5,305,32"/>
<area shape="rect" id="node3" href="kthread_8c.html#af6f52ee3f6f9d6e0011dbb3038b56023" title="to_kthread" alt="" coords="353,5,436,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_icgraph.png" border="0" usemap="#workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_icgraph" alt=""/></div>
<map name="workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_icgraph" id="workqueue__internal_8h_aa975f4c94c08cef18ab3dbb07007b130_icgraph">
<area shape="rect" id="node2" href="sched_2core_8c.html#a65866501594a9a715acacbc843849f69" title="ttwu_activate" alt="" coords="224,471,324,497"/>
<area shape="rect" id="node28" href="workqueue__internal_8h.html#acd01911cd74cfe74ec3faadc2095fdf0" title="current_wq_worker" alt="" coords="208,807,340,833"/>
<area shape="rect" id="node3" href="sched_2core_8c.html#ac2ab9b5a6b5ff24d8aa6a713a29c2c9c" title="ttwu_do_activate" alt="" coords="412,132,533,159"/>
<area shape="rect" id="node11" href="sched_2core_8c.html#aa538aeca569d6dd650623cc69f01166b" title="try_to_wake_up_local" alt="" coords="399,471,547,497"/>
<area shape="rect" id="node4" href="sched_2core_8c.html#a27ec0f72288ad45ddacee3a4aaf4b0dc" title="ttwu_remote" alt="" coords="622,132,717,159"/>
<area shape="rect" id="node10" href="sched_2core_8c.html#a8e3c33dbbb81407431f23a89feb90549" title="ttwu_queue" alt="" coords="625,81,714,108"/>
<area shape="rect" id="node5" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="817,81,931,108"/>
<area shape="rect" id="node6" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="1043,5,1169,32"/>
<area shape="rect" id="node8" href="sched_2core_8c.html#a210c5f4547475b8745d959a6142f862f" title="wake_up_state" alt="" coords="1051,56,1161,83"/>
<area shape="rect" id="node9" href="sched_2core_8c.html#a0eb9ad5b454a32bf0de54339f1d3e9f2" title="default_wake_function" alt="" coords="1030,107,1182,133"/>
<area shape="rect" id="node7" href="trace_2ring__buffer_8c.html#abaa46f57608417cd0a8469f37600629b" title="trace_rb_cpu_prepare" alt="" coords="1245,157,1392,184"/>
<area shape="rect" id="node12" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="625,471,713,497"/>
<area shape="rect" id="node13" href="sched_2core_8c.html#a4fee0a02899b4c21a8020f6de4496bfc" title="do_task_dead" alt="" coords="823,576,925,603"/>
<area shape="rect" id="node15" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="837,420,911,447"/>
<area shape="rect" id="node18" href="sched_8h.html#a2ee281afa2f93728f512768cadd6d299" title="schedule_idle" alt="" coords="1055,157,1157,184"/>
<area shape="rect" id="node26" href="sched_2core_8c.html#a7fd9273ff9ec26e199125e5d9ea438f6" title="preempt_schedule_common" alt="" coords="781,471,967,497"/>
<area shape="rect" id="node27" href="sched_2core_8c.html#a4c103d6bc0ffcf653623f9997e7a7c6b" title="preempt_schedule_irq" alt="" coords="799,521,949,548"/>
<area shape="rect" id="node14" href="exit_8c.html#a40d5ce07ef41c9aecf2c6e25c29c745d" title="do_exit" alt="" coords="1074,731,1138,757"/>
<area shape="rect" id="node16" href="audit__tree_8c.html#ab82cc5d5374aa33440b2e2c6c2b9771a" title="prune_tree_thread" alt="" coords="1043,360,1169,387"/>
<area shape="rect" id="node17" href="cgroup_2cgroup_8c.html#aa58c85d0ef326f579fe8a6585347fdab" title="cgroup_lock_and_drain\l_offline" alt="" coords="1029,411,1183,453"/>
<area shape="rect" id="node19" href="sched_2core_8c.html#a615be64c5d95e177b346abf92d16d8d3" title="schedule_preempt_disabled" alt="" coords="1015,477,1197,504"/>
<area shape="rect" id="node20" href="sched_2core_8c.html#ac3be8136e75cf2c521d195b22b56d05a" title="do_sched_yield" alt="" coords="1050,528,1162,555"/>
<area shape="rect" id="node21" href="sched_2core_8c.html#ab222a2197eb3eecc4d50a53681c0989b" title="yield_to" alt="" coords="1073,579,1139,605"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a6e77e5af9a17d33ea8899e261e1b3850" title="io_schedule" alt="" coords="1061,629,1151,656"/>
<area shape="rect" id="node23" href="cpumap_8c.html#af7f79a6d72b38c982305b406a95e94b3" title="cpu_map_kthread_run" alt="" coords="1031,680,1181,707"/>
<area shape="rect" id="node24" href="freezer_8c.html#aa7ec477b50fb71b6da03272b66e1c151" title="__refrigerator" alt="" coords="1057,208,1155,235"/>
<area shape="rect" id="node25" href="trace_2ring__buffer_8c.html#a7a51c1c4379c82fc7f9c90d9b16433a1" title="ring_buffer_wait" alt="" coords="1049,259,1163,285"/>
<area shape="rect" id="node29" href="async_8c.html#a8179200935e002399bdfd559fa93cecd" title="current_is_async" alt="" coords="412,705,533,732"/>
<area shape="rect" id="node31" href="workqueue_8c.html#a07d252e3104a665b236ebe0c04331549" title="is_chained_work" alt="" coords="413,756,532,783"/>
<area shape="rect" id="node38" href="workqueue_8c.html#a62db03132e651d3db3e07a7c59d56a30" title="check_flush_dependency" alt="" coords="388,807,557,833"/>
<area shape="rect" id="node48" href="workqueue_8c.html#a3754ac9f1ed0bcc1e26cdf0301197542" title="current_work" alt="" coords="424,857,521,884"/>
<area shape="rect" id="node49" href="workqueue_8c.html#a2c6472f803f0a7bea524887b755f73b7" title="current_is_workqueue\l_rescuer" alt="" coords="398,909,547,950"/>
<area shape="rect" id="node50" href="workqueue_8c.html#a5ae59ea13c4b988964d743905bfa111f" title="set_worker_desc" alt="" coords="412,975,533,1001"/>
<area shape="rect" id="node30" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df" title="__request_module" alt="" coords="605,705,733,732"/>
<area shape="rect" id="node32" href="workqueue_8c.html#ab0285338dd00b9d092f80b1dc134cef3" title="__queue_work" alt="" coords="616,756,723,783"/>
<area shape="rect" id="node33" href="workqueue_8c.html#a85eb028858d32493125f2e17710653da" title="queue_work_on" alt="" coords="817,731,931,757"/>
<area shape="rect" id="node34" href="workqueue_8c.html#a729c4c3073a70cc7b7c43e6c5f338d18" title="delayed_work_timer_fn" alt="" coords="796,781,952,808"/>
<area shape="rect" id="node35" href="workqueue_8c.html#a879f954a994d599f7ddbdb6c7e999267" title="__queue_delayed_work" alt="" coords="1027,781,1185,808"/>
<area shape="rect" id="node36" href="workqueue_8c.html#a8578f0b56a0ae77ce60a179309755aba" title="rcu_work_rcufn" alt="" coords="819,629,929,656"/>
<area shape="rect" id="node37" href="workqueue_8c.html#ae8203e6f5cc2e6a1b62f7043b328e327" title="flush_delayed_work" alt="" coords="1037,857,1175,884"/>
<area shape="rect" id="node39" href="workqueue_8c.html#ac74e44f2d15bd566b9e03ce3f550807f" title="flush_workqueue" alt="" coords="609,1035,729,1061"/>
<area shape="rect" id="node46" href="workqueue_8c.html#aec2681a46102ebdb1921959ce00b9d76" title="start_flush_work" alt="" coords="610,832,729,859"/>
<area shape="rect" id="node40" href="cgroup-v1_8c.html#af68f09aaaaec0f7eaf0e99a44108a673" title="cgroup1_pidlist_destroy_all" alt="" coords="785,933,963,960"/>
<area shape="rect" id="node41" href="cpuset_8c.html#aaae7039bf25cf4df72c873b73583a4df" title="cpuset_post_attach" alt="" coords="806,984,942,1011"/>
<area shape="rect" id="node42" href="cpuset_8c.html#a7398e486b19816967ac2ee9da63135d5" title="cpuset_write_resmask" alt="" coords="1029,1035,1183,1061"/>
<area shape="rect" id="node43" href="test-ww__mutex_8c.html#aa1e12d8101f37b469c8d1b8c4e041269" title="__test_cycle" alt="" coords="826,1035,922,1061"/>
<area shape="rect" id="node44" href="test-ww__mutex_8c.html#a2ecaf1bea711282d9871d6676cbe69e8" title="stress" alt="" coords="845,1085,903,1112"/>
<area shape="rect" id="node45" href="workqueue_8c.html#a7b9a5e30695b80be64fd4618c9160499" title="drain_workqueue" alt="" coords="814,1136,934,1163"/>
<area shape="rect" id="node47" href="workqueue_8c.html#a94e6db1005a99be1270a4ce82f6b7a68" title="flush_work" alt="" coords="831,883,917,909"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
