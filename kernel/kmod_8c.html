<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: kmod.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">kmod.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/module.h&gt;</code><br />
<code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/sched/task.h&gt;</code><br />
<code>#include &lt;linux/binfmts.h&gt;</code><br />
<code>#include &lt;linux/syscalls.h&gt;</code><br />
<code>#include &lt;linux/unistd.h&gt;</code><br />
<code>#include &lt;linux/kmod.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/completion.h&gt;</code><br />
<code>#include &lt;linux/cred.h&gt;</code><br />
<code>#include &lt;linux/file.h&gt;</code><br />
<code>#include &lt;linux/fdtable.h&gt;</code><br />
<code>#include &lt;linux/workqueue.h&gt;</code><br />
<code>#include &lt;linux/security.h&gt;</code><br />
<code>#include &lt;linux/mount.h&gt;</code><br />
<code>#include &lt;linux/kernel.h&gt;</code><br />
<code>#include &lt;linux/init.h&gt;</code><br />
<code>#include &lt;linux/resource.h&gt;</code><br />
<code>#include &lt;linux/notifier.h&gt;</code><br />
<code>#include &lt;linux/suspend.h&gt;</code><br />
<code>#include &lt;linux/rwsem.h&gt;</code><br />
<code>#include &lt;linux/ptrace.h&gt;</code><br />
<code>#include &lt;linux/async.h&gt;</code><br />
<code>#include &lt;linux/uaccess.h&gt;</code><br />
<code>#include &lt;trace/events/module.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for kmod.c:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c__incl.png" border="0" usemap="#kmod_8c" alt=""/></div>
<map name="kmod_8c" id="kmod_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6e0c8b6a970a4aab58a6f413789b3386"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#a6e0c8b6a970a4aab58a6f413789b3386">MAX_KMOD_CONCURRENT</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a6e0c8b6a970a4aab58a6f413789b3386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104efd92e435db3591117a975eebdcad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#a104efd92e435db3591117a975eebdcad">MAX_KMOD_ALL_BUSY_TIMEOUT</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a104efd92e435db3591117a975eebdcad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a86afaaa7416fa9368fc5561e06e63aee"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#a86afaaa7416fa9368fc5561e06e63aee">DECLARE_WAIT_QUEUE_HEAD</a> (kmod_wq)</td></tr>
<tr class="separator:a86afaaa7416fa9368fc5561e06e63aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fc6ba88260384f2fe39d599dc4f2cd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#a94fc6ba88260384f2fe39d599dc4f2cd">free_modprobe_argv</a> (struct subprocess_info *info)</td></tr>
<tr class="separator:a94fc6ba88260384f2fe39d599dc4f2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354a057606cbc3eb3bb348cdfaec7ed0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#a354a057606cbc3eb3bb348cdfaec7ed0">call_modprobe</a> (char *module_name, int <a class="el" href="sync_8c.html#a5f1606dfa3ee76db6fa435763c4639d8">wait</a>)</td></tr>
<tr class="separator:a354a057606cbc3eb3bb348cdfaec7ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7e6a10a15c34b62172f1ea732497df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df">__request_module</a> (bool <a class="el" href="sync_8c.html#a5f1606dfa3ee76db6fa435763c4639d8">wait</a>, const char *fmt,...)</td></tr>
<tr class="separator:a7e7e6a10a15c34b62172f1ea732497df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa851b3b70def85e1509938596aefd1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#afa851b3b70def85e1509938596aefd1d">EXPORT_SYMBOL</a> (<a class="el" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df">__request_module</a>)</td></tr>
<tr class="separator:afa851b3b70def85e1509938596aefd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af29ebb414fd3a3d0bf5adf58cc17c7c5"><td class="memItemLeft" align="right" valign="top">static atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#af29ebb414fd3a3d0bf5adf58cc17c7c5">kmod_concurrent_max</a> = ATOMIC_INIT(<a class="el" href="kmod_8c.html#a6e0c8b6a970a4aab58a6f413789b3386">MAX_KMOD_CONCURRENT</a>)</td></tr>
<tr class="separator:af29ebb414fd3a3d0bf5adf58cc17c7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd6da10e3a9555c78b9e195ea4270aa"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kmod_8c.html#abbd6da10e3a9555c78b9e195ea4270aa">modprobe_path</a> [KMOD_PATH_LEN] = &quot;/sbin/modprobe&quot;</td></tr>
<tr class="separator:abbd6da10e3a9555c78b9e195ea4270aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a104efd92e435db3591117a975eebdcad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a104efd92e435db3591117a975eebdcad">&#9670;&nbsp;</a></span>MAX_KMOD_ALL_BUSY_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_KMOD_ALL_BUSY_TIMEOUT&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e0c8b6a970a4aab58a6f413789b3386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e0c8b6a970a4aab58a6f413789b3386">&#9670;&nbsp;</a></span>MAX_KMOD_CONCURRENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_KMOD_CONCURRENT&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7e7e6a10a15c34b62172f1ea732497df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7e6a10a15c34b62172f1ea732497df">&#9670;&nbsp;</a></span>__request_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __request_module </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>__request_module - try to load a kernel module : wait (or not) for the operation to complete : printf style format string for the name of the module ...: arguments as specified in the format string</p>
<p>Load a module using the user mode module loader. The function returns zero on success or a negative errno code or positive exit code from "modprobe" on failure. Note that a successful module load does not mean the module did not then unload and exit on an error of its own. Callers must check that the service they requested is now available not blindly invoke it.</p>
<p>If module auto-loading support is disabled then this function becomes a no-operation. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c_a7e7e6a10a15c34b62172f1ea732497df_cgraph.png" border="0" usemap="#kmod_8c_a7e7e6a10a15c34b62172f1ea732497df_cgraph" alt=""/></div>
<map name="kmod_8c_a7e7e6a10a15c34b62172f1ea732497df_cgraph" id="kmod_8c_a7e7e6a10a15c34b62172f1ea732497df_cgraph">
<area shape="rect" id="node2" href="async_8c.html#a8179200935e002399bdfd559fa93cecd" title="current_is_async" alt="" coords="946,132,1067,159"/>
<area shape="rect" id="node18" href="kmod_8c.html#a354a057606cbc3eb3bb348cdfaec7ed0" title="call_modprobe" alt="" coords="197,696,304,723"/>
<area shape="rect" id="node50" href="kmod_8c.html#afa851b3b70def85e1509938596aefd1d" title="EXPORT_SYMBOL" alt="" coords="181,747,320,773"/>
<area shape="rect" id="node3" href="workqueue__internal_8h.html#acd01911cd74cfe74ec3faadc2095fdf0" title="current_wq_worker" alt="" coords="1147,56,1279,83"/>
<area shape="rect" id="node9" href="async_8c.html#a3694ec65adc8c512ff0ffc0762f72c34" title="async_run_entry_fn" alt="" coords="1145,208,1281,235"/>
<area shape="rect" id="node17" href="async_8c.html#a46811f9b9e1bafc48e490c713bb3c61e" title="EXPORT_SYMBOL_GPL" alt="" coords="1127,107,1299,133"/>
<area shape="rect" id="node4" href="kthread_8c.html#a44f65489bb56d51f2064ddf1984418aa" title="kthread_data" alt="" coords="1589,56,1687,83"/>
<area shape="rect" id="node6" href="workqueue__internal_8h.html#aa975f4c94c08cef18ab3dbb07007b130" title="wq_worker_waking_up" alt="" coords="1349,5,1504,32"/>
<area shape="rect" id="node7" href="workqueue__internal_8h.html#a4900a0cd9351c57c52a09668125d2253" title="wq_worker_sleeping" alt="" coords="1357,107,1497,133"/>
<area shape="rect" id="node5" href="kthread_8c.html#af6f52ee3f6f9d6e0011dbb3038b56023" title="to_kthread" alt="" coords="1814,56,1897,83"/>
<area shape="rect" id="node8" href="workqueue_8c.html#a2ca4efa4bbc9afad51556430da7994fb" title="first_idle_worker" alt="" coords="1579,107,1697,133"/>
<area shape="rect" id="node10" href="timekeeping_8c.html#afa07468a720b815b0f781972c4188912" title="ktime_get" alt="" coords="1387,157,1466,184"/>
<area shape="rect" id="node16" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="1613,512,1663,539"/>
<area shape="rect" id="node11" href="timekeeping_8c.html#ac8e7722e039bd1c55952d0d928051f25" title="timekeeping_get_ns" alt="" coords="1569,157,1707,184"/>
<area shape="rect" id="node15" href="timekeeping_8c.html#aee4e2486a9ceea0035b6cf5eb4806263" title="EXPORT_SYMBOL_GPL" alt="" coords="1552,208,1724,235"/>
<area shape="rect" id="node12" href="timekeeping_8c.html#a1400024371a97972c5cbe39991c11491" title="timekeeping_get_delta" alt="" coords="1779,183,1931,209"/>
<area shape="rect" id="node14" href="timekeeping_8c.html#aff7af75dc9ba3c32be38314b82446b2b" title="timekeeping_delta_to_ns" alt="" coords="1772,132,1939,159"/>
<area shape="rect" id="node13" href="timekeeping_8c.html#a0a2d3da1a9add2c004e9ff39fe235e53" title="tk_clock_read" alt="" coords="1987,183,2089,209"/>
<area shape="rect" id="node19" href="umh_8c.html#a1a0bb0ee4f729f38bb6e720f3ddd296f" title="call_usermodehelper\l_setup" alt="" coords="368,689,509,730"/>
<area shape="rect" id="node41" href="kmod_8c.html#a94fc6ba88260384f2fe39d599dc4f2cd" title="free_modprobe_argv" alt="" coords="558,917,698,944"/>
<area shape="rect" id="node42" href="umh_8c.html#aad9098bc64a8498a6e7e1d5bf091a1e2" title="call_usermodehelper_exec" alt="" coords="1125,968,1301,995"/>
<area shape="rect" id="node20" href="umh_8c.html#ac6765018b8a782cbc0c30dc5ceeb30a6" title="call_usermodehelper\l_exec_work" alt="" coords="557,627,699,669"/>
<area shape="rect" id="node40" href="umh_8c.html#ad95fea350cda84c19f14032007a6a47f" title="EXPORT_SYMBOL" alt="" coords="1357,917,1496,944"/>
<area shape="rect" id="node21" href="umh_8c.html#a0d1054135a538c862047489b2c269167" title="call_usermodehelper\l_exec_sync" alt="" coords="747,569,888,610"/>
<area shape="rect" id="node23" href="fork_8c.html#ad0e62611946b7585fc673bf2793087ee" title="kernel_thread" alt="" coords="957,385,1057,412"/>
<area shape="rect" id="node28" href="umh_8c.html#ad3c7e49aad736d2b2facac45d15eac12" title="call_usermodehelper\l_exec_async" alt="" coords="936,627,1077,669"/>
<area shape="rect" id="node34" href="umh_8c.html#ad10e3d648238279644a2884e012443c6" title="umh_complete" alt="" coords="1160,765,1267,792"/>
<area shape="rect" id="node22" href="signal_8c.html#af4f2c0a6091271b22a7a0c29bb416e19" title="kernel_sigaction" alt="" coords="949,576,1065,603"/>
<area shape="rect" id="node39" href="exit_8c.html#ae0e2990d10d04594eeec1c9539df716b" title="kernel_wait4" alt="" coords="959,525,1054,552"/>
<area shape="rect" id="node24" href="fork_8c.html#a532a3e198bd6a0f93ce4996d569c6a7d" title="_do_fork" alt="" coords="1177,411,1249,437"/>
<area shape="rect" id="node25" href="sched_2core_8c.html#a26a30c95f7702cab1c3c34b3aca074bc" title="SYSCALL_DEFINE0" alt="" coords="1140,309,1287,336"/>
<area shape="rect" id="node26" href="events_2core_8c.html#a5b37fb125468dffa0d635a45ec50d90f" title="SYSCALL_DEFINE5" alt="" coords="1140,360,1287,387"/>
<area shape="rect" id="node27" href="futex_8c.html#a6b4077f0ea9a20625b9c76f9e02ac849" title="SYSCALL_DEFINE6" alt="" coords="1140,157,1287,184"/>
<area shape="rect" id="node29" href="signal_8c.html#a2172423c10bde25801734a28a3f6f6a2" title="flush_signal_handlers" alt="" coords="1140,563,1287,589"/>
<area shape="rect" id="node30" href="sched_2core_8c.html#a0df728dab986fbfd2d7e86b53817a7f1" title="set_user_nice" alt="" coords="1162,613,1265,640"/>
<area shape="rect" id="node31" href="cred_8c.html#acb0e83d1dc81cfb305afcd88a9f12fae" title="prepare_kernel_cred" alt="" coords="1144,664,1283,691"/>
<area shape="rect" id="node32" href="cred_8c.html#ad290f71432e80bcea2b8f59edf356ab7" title="abort_creds" alt="" coords="1168,715,1259,741"/>
<area shape="rect" id="node33" href="cred_8c.html#a5fa73ef22873164a105b62f7e56f2f0c" title="commit_creds" alt="" coords="1161,461,1265,488"/>
<area shape="rect" id="node38" href="exit_8c.html#a40d5ce07ef41c9aecf2c6e25c29c745d" title="do_exit" alt="" coords="1395,512,1459,539"/>
<area shape="rect" id="node35" href="completion_8c.html#acfb6d2f4414f6f8c89c6a072da7c0832" title="complete" alt="" coords="1389,867,1464,893"/>
<area shape="rect" id="node37" href="umh_8c.html#a0529852f64617c6d3254f4961c930607" title="call_usermodehelper\l_freeinfo" alt="" coords="1356,750,1497,791"/>
<area shape="rect" id="node36" href="completion_8c.html#a017b15945f4ddb7ee34b7e6ee6616510" title="EXPORT_SYMBOL" alt="" coords="1569,1069,1707,1096"/>
<area shape="rect" id="node43" href="umh_8c.html#a51a184266f3d4baa1b5b8a2b5bf35e81" title="helper_lock" alt="" coords="1383,968,1471,995"/>
<area shape="rect" id="node44" href="completion_8c.html#aec39d05c6e0537f3c36f173d15fd42d7" title="wait_for_completion\l_killable" alt="" coords="1357,1121,1496,1162"/>
<area shape="rect" id="node48" href="completion_8c.html#af046a90040b66bb82eaaabee0cf7ff00" title="wait_for_completion" alt="" coords="1357,1069,1496,1096"/>
<area shape="rect" id="node49" href="umh_8c.html#ae466a869fd6fb1847d204efe08cfbb48" title="helper_unlock" alt="" coords="1375,1019,1478,1045"/>
<area shape="rect" id="node45" href="completion_8c.html#a887bef420bea025a35d81ad31ce50854" title="wait_for_common" alt="" coords="1575,1124,1701,1151"/>
<area shape="rect" id="node46" href="completion_8c.html#a58bcb90b4e8e1825defae6993947b543" title="__wait_for_common" alt="" coords="1786,1149,1925,1176"/>
<area shape="rect" id="node47" href="timer_8c.html#a37e1f4f067aef41f2f1027e39b667ca7" title="schedule_timeout" alt="" coords="1793,1099,1917,1125"/>
</map>
</div>

</div>
</div>
<a id="a354a057606cbc3eb3bb348cdfaec7ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354a057606cbc3eb3bb348cdfaec7ed0">&#9670;&nbsp;</a></span>call_modprobe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int call_modprobe </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_cgraph.png" border="0" usemap="#kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_cgraph" alt=""/></div>
<map name="kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_cgraph" id="kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_cgraph">
<area shape="rect" id="node2" href="umh_8c.html#a1a0bb0ee4f729f38bb6e720f3ddd296f" title="call_usermodehelper\l_setup" alt="" coords="160,683,301,725"/>
<area shape="rect" id="node40" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="1397,68,1448,95"/>
<area shape="rect" id="node46" href="kmod_8c.html#a94fc6ba88260384f2fe39d599dc4f2cd" title="free_modprobe_argv" alt="" coords="350,129,490,156"/>
<area shape="rect" id="node47" href="umh_8c.html#aad9098bc64a8498a6e7e1d5bf091a1e2" title="call_usermodehelper_exec" alt="" coords="917,1115,1093,1141"/>
<area shape="rect" id="node3" href="umh_8c.html#ac6765018b8a782cbc0c30dc5ceeb30a6" title="call_usermodehelper\l_exec_work" alt="" coords="349,683,491,725"/>
<area shape="rect" id="node45" href="umh_8c.html#ad95fea350cda84c19f14032007a6a47f" title="EXPORT_SYMBOL" alt="" coords="1154,1021,1293,1048"/>
<area shape="rect" id="node4" href="umh_8c.html#a0d1054135a538c862047489b2c269167" title="call_usermodehelper\l_exec_sync" alt="" coords="539,643,680,685"/>
<area shape="rect" id="node9" href="fork_8c.html#ad0e62611946b7585fc673bf2793087ee" title="kernel_thread" alt="" coords="749,431,849,457"/>
<area shape="rect" id="node31" href="umh_8c.html#ad3c7e49aad736d2b2facac45d15eac12" title="call_usermodehelper\l_exec_async" alt="" coords="728,803,869,845"/>
<area shape="rect" id="node37" href="umh_8c.html#ad10e3d648238279644a2884e012443c6" title="umh_complete" alt="" coords="952,709,1059,736"/>
<area shape="rect" id="node5" href="signal_8c.html#af4f2c0a6091271b22a7a0c29bb416e19" title="kernel_sigaction" alt="" coords="741,568,857,595"/>
<area shape="rect" id="node42" href="exit_8c.html#ae0e2990d10d04594eeec1c9539df716b" title="kernel_wait4" alt="" coords="958,659,1053,685"/>
<area shape="rect" id="node6" href="signal_8c.html#a2c54187bc5eb58a31b3ac36aefefeb86" title="flush_sigqueue_mask" alt="" coords="931,507,1079,533"/>
<area shape="rect" id="node7" href="signal_8c.html#aa338dcd81758c0bde2435f090ca502fb" title="recalc_sigpending" alt="" coords="1359,549,1486,576"/>
<area shape="rect" id="node8" href="signal_8c.html#a51d418224fec2cd6c8c68a860076ac53" title="EXPORT_SYMBOL" alt="" coords="936,557,1075,584"/>
<area shape="rect" id="node10" href="fork_8c.html#a532a3e198bd6a0f93ce4996d569c6a7d" title="_do_fork" alt="" coords="969,405,1041,432"/>
<area shape="rect" id="node22" href="sched_2core_8c.html#a26a30c95f7702cab1c3c34b3aca074bc" title="SYSCALL_DEFINE0" alt="" coords="932,144,1079,171"/>
<area shape="rect" id="node24" href="events_2core_8c.html#a5b37fb125468dffa0d635a45ec50d90f" title="SYSCALL_DEFINE5" alt="" coords="932,271,1079,297"/>
<area shape="rect" id="node30" href="futex_8c.html#a6b4077f0ea9a20625b9c76f9e02ac849" title="SYSCALL_DEFINE6" alt="" coords="932,456,1079,483"/>
<area shape="rect" id="node11" href="fork_8c.html#a37092f05f79e967afc70dfbb2925ff1f" title="copy_process" alt="" coords="1172,499,1275,525"/>
<area shape="rect" id="node12" href="pid_8c.html#a52cb632565571176cbfe87febc340099" title="get_task_pid" alt="" coords="1175,651,1271,677"/>
<area shape="rect" id="node13" href="pid_8c.html#a7cc334ace0a65870a534fbaffa3e17a0" title="pid_vnr" alt="" coords="1191,448,1255,475"/>
<area shape="rect" id="node14" href="sched_2core_8c.html#a60a6e887355780485ed7ce3f1e37dd32" title="wake_up_new_task" alt="" coords="1155,397,1292,424"/>
<area shape="rect" id="node15" href="fork_8c.html#a5c25cd1f617cbb38fc5f3ee79c40fabc" title="wait_for_vfork_done" alt="" coords="1154,549,1293,576"/>
<area shape="rect" id="node21" href="pid_8c.html#a255ea57b83d5dfe73aeda50699d632fb" title="put_pid" alt="" coords="1191,701,1255,728"/>
<area shape="rect" id="node16" href="completion_8c.html#aec39d05c6e0537f3c36f173d15fd42d7" title="wait_for_completion\l_killable" alt="" coords="1353,1091,1492,1133"/>
<area shape="rect" id="node17" href="completion_8c.html#a887bef420bea025a35d81ad31ce50854" title="wait_for_common" alt="" coords="1547,1153,1672,1180"/>
<area shape="rect" id="node20" href="completion_8c.html#a017b15945f4ddb7ee34b7e6ee6616510" title="EXPORT_SYMBOL" alt="" coords="1540,1099,1679,1125"/>
<area shape="rect" id="node18" href="completion_8c.html#a58bcb90b4e8e1825defae6993947b543" title="__wait_for_common" alt="" coords="1727,1128,1865,1155"/>
<area shape="rect" id="node19" href="timer_8c.html#a37e1f4f067aef41f2f1027e39b667ca7" title="schedule_timeout" alt="" coords="1734,1179,1858,1205"/>
<area shape="rect" id="node23" href="sched_2core_8c.html#ac3be8136e75cf2c521d195b22b56d05a" title="do_sched_yield" alt="" coords="1167,93,1279,120"/>
<area shape="rect" id="node25" href="trace__events__hist_8c.html#a664ab43047e90d73452599d6174e63c1" title="event_file" alt="" coords="1184,296,1263,323"/>
<area shape="rect" id="node26" href="events_2core_8c.html#a34487dc916a2bd6d874b56d800a25ecf" title="perf_copy_attr" alt="" coords="1370,169,1475,196"/>
<area shape="rect" id="node27" href="events_2core_8c.html#abcbc9492cf6c9b75c80e0e1750b7e543" title="perf_fget_light" alt="" coords="1171,195,1275,221"/>
<area shape="rect" id="node28" href="events_2core_8c.html#aa00dab2abc5d985e790fcb6a5e5d8a0f" title="find_lively_task_by_vpid" alt="" coords="1141,347,1305,373"/>
<area shape="rect" id="node29" href="mutex_8c.html#a0e0fa228d00ae5f57302d675b88b1161" title="mutex_lock_interruptible" alt="" coords="1142,245,1305,272"/>
<area shape="rect" id="node32" href="signal_8c.html#a2172423c10bde25801734a28a3f6f6a2" title="flush_signal_handlers" alt="" coords="932,1013,1079,1040"/>
<area shape="rect" id="node33" href="sched_2core_8c.html#a0df728dab986fbfd2d7e86b53817a7f1" title="set_user_nice" alt="" coords="954,811,1057,837"/>
<area shape="rect" id="node34" href="cred_8c.html#acb0e83d1dc81cfb305afcd88a9f12fae" title="prepare_kernel_cred" alt="" coords="936,861,1075,888"/>
<area shape="rect" id="node35" href="cred_8c.html#ad290f71432e80bcea2b8f59edf356ab7" title="abort_creds" alt="" coords="960,912,1051,939"/>
<area shape="rect" id="node36" href="cred_8c.html#a5fa73ef22873164a105b62f7e56f2f0c" title="commit_creds" alt="" coords="953,963,1057,989"/>
<area shape="rect" id="node41" href="exit_8c.html#a40d5ce07ef41c9aecf2c6e25c29c745d" title="do_exit" alt="" coords="973,760,1037,787"/>
<area shape="rect" id="node38" href="completion_8c.html#acfb6d2f4414f6f8c89c6a072da7c0832" title="complete" alt="" coords="1385,993,1460,1020"/>
<area shape="rect" id="node39" href="umh_8c.html#a0529852f64617c6d3254f4961c930607" title="call_usermodehelper\l_freeinfo" alt="" coords="1153,905,1294,946"/>
<area shape="rect" id="node43" href="pid_8c.html#a78e759459b01345a215f4918992e2ea2" title="find_get_pid" alt="" coords="1177,803,1269,829"/>
<area shape="rect" id="node44" href="exit_8c.html#a8245be3a2273d70ac52cedb968d27fe5" title="do_wait" alt="" coords="1190,752,1257,779"/>
<area shape="rect" id="node48" href="umh_8c.html#a51a184266f3d4baa1b5b8a2b5bf35e81" title="helper_lock" alt="" coords="1179,1173,1267,1200"/>
<area shape="rect" id="node49" href="completion_8c.html#af046a90040b66bb82eaaabee0cf7ff00" title="wait_for_completion" alt="" coords="1353,1157,1492,1184"/>
<area shape="rect" id="node50" href="umh_8c.html#ae466a869fd6fb1847d204efe08cfbb48" title="helper_unlock" alt="" coords="1172,1072,1275,1099"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_icgraph.png" border="0" usemap="#kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_icgraph" alt=""/></div>
<map name="kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_icgraph" id="kmod_8c_a354a057606cbc3eb3bb348cdfaec7ed0_icgraph">
<area shape="rect" id="node2" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df" title="__request_module" alt="" coords="160,5,288,32"/>
</map>
</div>

</div>
</div>
<a id="a86afaaa7416fa9368fc5561e06e63aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86afaaa7416fa9368fc5561e06e63aee">&#9670;&nbsp;</a></span>DECLARE_WAIT_QUEUE_HEAD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static DECLARE_WAIT_QUEUE_HEAD </td>
          <td>(</td>
          <td class="paramtype">kmod_wq&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afa851b3b70def85e1509938596aefd1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa851b3b70def85e1509938596aefd1d">&#9670;&nbsp;</a></span>EXPORT_SYMBOL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df">__request_module</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c_afa851b3b70def85e1509938596aefd1d_icgraph.png" border="0" usemap="#kmod_8c_afa851b3b70def85e1509938596aefd1d_icgraph" alt=""/></div>
<map name="kmod_8c_afa851b3b70def85e1509938596aefd1d_icgraph" id="kmod_8c_afa851b3b70def85e1509938596aefd1d_icgraph">
<area shape="rect" id="node2" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df" title="__request_module" alt="" coords="192,5,320,32"/>
</map>
</div>

</div>
</div>
<a id="a94fc6ba88260384f2fe39d599dc4f2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94fc6ba88260384f2fe39d599dc4f2cd">&#9670;&nbsp;</a></span>free_modprobe_argv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_modprobe_argv </td>
          <td>(</td>
          <td class="paramtype">struct subprocess_info *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_cgraph.png" border="0" usemap="#kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_cgraph" alt=""/></div>
<map name="kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_cgraph" id="kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_cgraph">
<area shape="rect" id="node2" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="193,5,244,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_icgraph.png" border="0" usemap="#kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_icgraph" alt=""/></div>
<map name="kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_icgraph" id="kmod_8c_a94fc6ba88260384f2fe39d599dc4f2cd_icgraph">
<area shape="rect" id="node2" href="kmod_8c.html#a354a057606cbc3eb3bb348cdfaec7ed0" title="call_modprobe" alt="" coords="193,5,300,32"/>
<area shape="rect" id="node3" href="kmod_8c.html#a7e7e6a10a15c34b62172f1ea732497df" title="__request_module" alt="" coords="348,5,476,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af29ebb414fd3a3d0bf5adf58cc17c7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af29ebb414fd3a3d0bf5adf58cc17c7c5">&#9670;&nbsp;</a></span>kmod_concurrent_max</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t kmod_concurrent_max = ATOMIC_INIT(<a class="el" href="kmod_8c.html#a6e0c8b6a970a4aab58a6f413789b3386">MAX_KMOD_CONCURRENT</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abbd6da10e3a9555c78b9e195ea4270aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd6da10e3a9555c78b9e195ea4270aa">&#9670;&nbsp;</a></span>modprobe_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char modprobe_path[KMOD_PATH_LEN] = &quot;/sbin/modprobe&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
