<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/kernel: power/user.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/kernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('power_2user_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">user.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/suspend.h&gt;</code><br />
<code>#include &lt;linux/syscalls.h&gt;</code><br />
<code>#include &lt;linux/reboot.h&gt;</code><br />
<code>#include &lt;linux/string.h&gt;</code><br />
<code>#include &lt;linux/device.h&gt;</code><br />
<code>#include &lt;linux/miscdevice.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/swap.h&gt;</code><br />
<code>#include &lt;linux/swapops.h&gt;</code><br />
<code>#include &lt;linux/pm.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/compat.h&gt;</code><br />
<code>#include &lt;linux/console.h&gt;</code><br />
<code>#include &lt;linux/cpu.h&gt;</code><br />
<code>#include &lt;linux/freezer.h&gt;</code><br />
<code>#include &lt;linux/uaccess.h&gt;</code><br />
<code>#include &quot;<a class="el" href="power_8h_source.html">power.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for user.c:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c__incl.png" border="0" usemap="#power_2user_8c" alt=""/></div>
<map name="power_2user_8c" id="power_2user_8c">
<area shape="rect" id="node18" href="power_8h.html" title="power.h" alt="" coords="233,80,301,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsnapshot__data.html">snapshot_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9513f8242d687f4477b51340b08bf58d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#a9513f8242d687f4477b51340b08bf58d">SNAPSHOT_MINOR</a>&#160;&#160;&#160;231</td></tr>
<tr class="separator:a9513f8242d687f4477b51340b08bf58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad5de59be13863c97ae3500f344f57191"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#ad5de59be13863c97ae3500f344f57191">snapshot_open</a> (struct inode *inode, struct file *filp)</td></tr>
<tr class="separator:ad5de59be13863c97ae3500f344f57191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac481472235d94d20ddb5f1b82d77328e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#ac481472235d94d20ddb5f1b82d77328e">snapshot_release</a> (struct inode *inode, struct file *filp)</td></tr>
<tr class="separator:ac481472235d94d20ddb5f1b82d77328e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b41cfcb6a23bfb2ff3099296d78846"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#a79b41cfcb6a23bfb2ff3099296d78846">snapshot_read</a> (struct file *filp, char __user *buf, size_t count, loff_t *offp)</td></tr>
<tr class="separator:a79b41cfcb6a23bfb2ff3099296d78846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d24e5c04b5bf3957ad5c9bdb5f110c1"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#a7d24e5c04b5bf3957ad5c9bdb5f110c1">snapshot_write</a> (struct file *filp, const char __user *buf, size_t count, loff_t *offp)</td></tr>
<tr class="separator:a7d24e5c04b5bf3957ad5c9bdb5f110c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2cbf7ba962ecd107322b59292a2ae1d"><td class="memItemLeft" align="right" valign="top">static long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#aa2cbf7ba962ecd107322b59292a2ae1d">snapshot_ioctl</a> (struct file *filp, unsigned int cmd, unsigned long arg)</td></tr>
<tr class="separator:aa2cbf7ba962ecd107322b59292a2ae1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292e5245074eb8b431acf71b3b18a6f2"><td class="memItemLeft" align="right" valign="top">static int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#a292e5245074eb8b431acf71b3b18a6f2">snapshot_device_init</a> (void)</td></tr>
<tr class="separator:a292e5245074eb8b431acf71b3b18a6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e41434ca0936179faa471dbd3323eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#aa4e41434ca0936179faa471dbd3323eb">device_initcall</a> (<a class="el" href="power_2user_8c.html#a292e5245074eb8b431acf71b3b18a6f2">snapshot_device_init</a>)</td></tr>
<tr class="separator:aa4e41434ca0936179faa471dbd3323eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa9fa8ed2755605bea347fe370fb88dc1"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structsnapshot__data.html">snapshot_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#aa9fa8ed2755605bea347fe370fb88dc1">snapshot_state</a></td></tr>
<tr class="separator:aa9fa8ed2755605bea347fe370fb88dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ffa358f5e9e01fc10844e14c98d4bb"><td class="memItemLeft" align="right" valign="top">atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#a84ffa358f5e9e01fc10844e14c98d4bb">snapshot_device_available</a> = ATOMIC_INIT(1)</td></tr>
<tr class="separator:a84ffa358f5e9e01fc10844e14c98d4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f5d13c11b48be8c1f7fdb62a7f1644"><td class="memItemLeft" align="right" valign="top">static const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#ad1f5d13c11b48be8c1f7fdb62a7f1644">snapshot_fops</a></td></tr>
<tr class="separator:ad1f5d13c11b48be8c1f7fdb62a7f1644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd492c57ca8cdd2d75c17c202dc8581"><td class="memItemLeft" align="right" valign="top">static struct miscdevice&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="power_2user_8c.html#a0cd492c57ca8cdd2d75c17c202dc8581">snapshot_device</a></td></tr>
<tr class="separator:a0cd492c57ca8cdd2d75c17c202dc8581"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9513f8242d687f4477b51340b08bf58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9513f8242d687f4477b51340b08bf58d">&#9670;&nbsp;</a></span>SNAPSHOT_MINOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SNAPSHOT_MINOR&#160;&#160;&#160;231</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa4e41434ca0936179faa471dbd3323eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e41434ca0936179faa471dbd3323eb">&#9670;&nbsp;</a></span>device_initcall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">device_initcall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="power_2user_8c.html#a292e5245074eb8b431acf71b3b18a6f2">snapshot_device_init</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_aa4e41434ca0936179faa471dbd3323eb_icgraph.png" border="0" usemap="#power_2user_8c_aa4e41434ca0936179faa471dbd3323eb_icgraph" alt=""/></div>
<map name="power_2user_8c_aa4e41434ca0936179faa471dbd3323eb_icgraph" id="power_2user_8c_aa4e41434ca0936179faa471dbd3323eb_icgraph">
<area shape="rect" id="node2" href="power_2user_8c.html#a292e5245074eb8b431acf71b3b18a6f2" title="snapshot_device_init" alt="" coords="157,5,301,32"/>
</map>
</div>

</div>
</div>
<a id="a292e5245074eb8b431acf71b3b18a6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292e5245074eb8b431acf71b3b18a6f2">&#9670;&nbsp;</a></span>snapshot_device_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __init snapshot_device_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_a292e5245074eb8b431acf71b3b18a6f2_cgraph.png" border="0" usemap="#power_2user_8c_a292e5245074eb8b431acf71b3b18a6f2_cgraph" alt=""/></div>
<map name="power_2user_8c_a292e5245074eb8b431acf71b3b18a6f2_cgraph" id="power_2user_8c_a292e5245074eb8b431acf71b3b18a6f2_cgraph">
<area shape="rect" id="node2" href="power_2user_8c.html#aa4e41434ca0936179faa471dbd3323eb" title="device_initcall" alt="" coords="197,5,301,32"/>
</map>
</div>

</div>
</div>
<a id="aa2cbf7ba962ecd107322b59292a2ae1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2cbf7ba962ecd107322b59292a2ae1d">&#9670;&nbsp;</a></span>snapshot_ioctl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long snapshot_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_aa2cbf7ba962ecd107322b59292a2ae1d_cgraph.png" border="0" usemap="#power_2user_8c_aa2cbf7ba962ecd107322b59292a2ae1d_cgraph" alt=""/></div>
<map name="power_2user_8c_aa2cbf7ba962ecd107322b59292a2ae1d_cgraph" id="power_2user_8c_aa2cbf7ba962ecd107322b59292a2ae1d_cgraph">
<area shape="rect" id="node2" href="mutex_8c.html#a07392c7ea61c61d5fcaca0a3d017bf1f" title="mutex_trylock" alt="" coords="203,5,307,32"/>
<area shape="rect" id="node5" href="process_8c.html#a67e192ce4669be06c016ffb27162b08a" title="freeze_processes" alt="" coords="437,107,562,133"/>
<area shape="rect" id="node9" href="process_8c.html#a3712398ca86c5db0cf80529834abc347" title="thaw_processes" alt="" coords="679,132,796,159"/>
<area shape="rect" id="node13" href="power_8h.html#a18f11509c20a167e61529f9f8fd4fde3" title="create_basic_memory\l_bitmaps" alt="" coords="179,505,330,546"/>
<area shape="rect" id="node18" href="power_8h.html#a9827dc073d3dcfb60910ee9e77ddd769" title="free_basic_memory_bitmaps" alt="" coords="160,309,349,336"/>
<area shape="rect" id="node19" href="hibernate_8c.html#a4a5f6e9ba06b24c86f2d8c7a414febf5" title="hibernation_snapshot" alt="" coords="182,807,327,833"/>
<area shape="rect" id="node23" href="process_8c.html#aaad6c67a6f0c0d112f847b8bd08be65b" title="thaw_kernel_threads" alt="" coords="666,233,809,260"/>
<area shape="rect" id="node28" href="power_8h.html#a4450725986969f055946633a285c74bf" title="swsusp_free" alt="" coords="689,984,785,1011"/>
<area shape="rect" id="node31" href="power_8h.html#adf938cf6cb488b381d695e97f2496461" title="snapshot_write_finalize" alt="" coords="175,1389,334,1416"/>
<area shape="rect" id="node36" href="power_8h.html#ae5631ee8e3171fd3cc843d95a4effa5d" title="snapshot_image_loaded" alt="" coords="173,1288,336,1315"/>
<area shape="rect" id="node41" href="hibernate_8c.html#a9d4c76c670aac5b53330b7b653eb16b9" title="hibernation_restore" alt="" coords="189,1140,321,1167"/>
<area shape="rect" id="node44" href="power_8h.html#a84bf51eae5bcb91d2dbf66d56e4f48f6" title="snapshot_get_image_size" alt="" coords="168,1440,341,1467"/>
<area shape="rect" id="node45" href="power_8h.html#af630262acbf37c7185bd4634d0be0ef2" title="alloc_swapdev_block" alt="" coords="181,1491,328,1517"/>
<area shape="rect" id="node46" href="power_8h.html#a7c543543a2e7dc1abd3f33932680f012" title="free_all_swap_pages" alt="" coords="183,407,327,433"/>
<area shape="rect" id="node47" href="suspend_8c.html#a86f84e37240aaafcbad410651591491d" title="suspend_devices_and\l_enter" alt="" coords="179,1009,330,1050"/>
<area shape="rect" id="node48" href="hibernate_8c.html#a4fd94e051006b9560bf01e0c3e2045d2" title="hibernation_platform\l_enter" alt="" coords="185,1074,324,1115"/>
<area shape="rect" id="node49" href="power_8h.html#a8e94e8863e1aedf14f7c16abb846c2cb" title="swsusp_swap_in_use" alt="" coords="179,1541,330,1568"/>
<area shape="rect" id="node50" href="mutex_8c.html#abf61d462e480e999f43c65d7301ae936" title="mutex_unlock" alt="" coords="203,56,306,83"/>
<area shape="rect" id="node3" href="mutex_8c.html#a7fcd9b6f6e0f83d952e5e2e8cccb018b" title="__mutex_trylock" alt="" coords="440,5,559,32"/>
<area shape="rect" id="node4" href="mutex_8c.html#a7a2da271010a6b73a3c535be62add967" title="EXPORT_SYMBOL" alt="" coords="430,56,569,83"/>
<area shape="rect" id="node6" href="umh_8c.html#ae1f2841abba12c92e62cc14b9243f749" title="__usermodehelper_disable" alt="" coords="649,81,825,108"/>
<area shape="rect" id="node7" href="umh_8c.html#a9595d31bf323979513d96428c5b9de37" title="__usermodehelper_set\l_disable_depth" alt="" coords="878,66,1031,107"/>
<area shape="rect" id="node8" href="process_8c.html#aaec2271007b76ec6d622c6599f2f5688" title="try_to_freeze_tasks" alt="" coords="669,183,806,209"/>
<area shape="rect" id="node10" href="cpuset_8c.html#a34c04f28768cda721060bdfd496f4c8c" title="cpuset_wait_for_hotplug" alt="" coords="873,132,1036,159"/>
<area shape="rect" id="node11" href="freezer_8c.html#a51d6c99b7f2ae20d864624c337db641b" title="__thaw_task" alt="" coords="907,183,1003,209"/>
<area shape="rect" id="node12" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="917,233,992,260"/>
<area shape="rect" id="node14" href="snapshot_8c.html#a5b20b49d47f7ecc3d903a72a85924623" title="memory_bm_create" alt="" coords="669,563,806,589"/>
<area shape="rect" id="node15" href="snapshot_8c.html#a5a2ab113ccbdfc6d07abd87fd804fcf3" title="memory_bm_free" alt="" coords="893,512,1016,539"/>
<area shape="rect" id="node16" href="snapshot_8c.html#a84e0492492966c8a44d13c1cb329493a" title="mark_nosave_pages" alt="" coords="428,360,571,387"/>
<area shape="rect" id="node17" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="474,309,525,336"/>
<area shape="rect" id="node20" href="hibernate_8c.html#afb14fc071257caf6928f89cec78f603f" title="platform_begin" alt="" coords="446,781,553,808"/>
<area shape="rect" id="node21" href="power_8h.html#a79c8fbac521130f812521d2592df76a9" title="hibernate_preallocate\l_memory" alt="" coords="427,614,572,655"/>
<area shape="rect" id="node22" href="process_8c.html#a09b5c160e78ca44e5cd1a4cdc336be7d" title="freeze_kernel_threads" alt="" coords="424,411,575,437"/>
<area shape="rect" id="node24" href="hibernate_8c.html#a5751a50244fda42473dba47bf92c3aca" title="hibernation_test" alt="" coords="680,705,795,732"/>
<area shape="rect" id="node25" href="printk_8c.html#aa04845d9b20c4d35bc966fdf3995343a" title="suspend_console" alt="" coords="438,1085,561,1112"/>
<area shape="rect" id="node26" href="hibernate_8c.html#a429d8c2fc89b1880297025c48e1eea2a" title="platform_recover" alt="" coords="440,832,559,859"/>
<area shape="rect" id="node27" href="hibernate_8c.html#a05da7ed7c2cbfd50218d9dfb76cb24be" title="create_image" alt="" coords="449,680,549,707"/>
<area shape="rect" id="node29" href="printk_8c.html#abccb03612d1ad1b7939dd6f66e1ee025" title="resume_console" alt="" coords="441,1035,558,1061"/>
<area shape="rect" id="node30" href="hibernate_8c.html#a428e12698f04578d58de9d1b3fdde31b" title="platform_end" alt="" coords="451,883,548,909"/>
<area shape="rect" id="node32" href="snapshot_8c.html#a0c5fb2629b74d94d48f70aef79ea599d" title="copy_last_highmem_page" alt="" coords="413,1440,586,1467"/>
<area shape="rect" id="node33" href="snapshot_8c.html#a9233b62b547169d93dd4924d3ff6ed29" title="hibernate_restore_protect_page" alt="" coords="397,1491,601,1517"/>
<area shape="rect" id="node34" href="snapshot_8c.html#abe90d4cdbd4395ac66cd3eb6ea1c44d4" title="memory_bm_recycle" alt="" coords="428,1541,571,1568"/>
<area shape="rect" id="node35" href="snapshot_8c.html#a8f86af3aabaa2997565d2a2ff4088795" title="free_highmem_data" alt="" coords="431,1592,567,1619"/>
<area shape="rect" id="node37" href="snapshot_8c.html#aa7b37a0e56c47901096fa29283f4bb0a" title="last_highmem_page_copied" alt="" coords="408,1288,591,1315"/>
<area shape="rect" id="node38" href="power_8h.html#af59d1185e3fac716c40e4a0556efbdee" title="restore_highmem" alt="" coords="676,1212,799,1239"/>
<area shape="rect" id="node39" href="snapshot_8c.html#a013fcea460c76133ecc258bbe6fa22b5" title="get_image_page" alt="" coords="441,1339,558,1365"/>
<area shape="rect" id="node40" href="snapshot_8c.html#afc279d01b4afdc8a0a0853efa05ef854" title="free_image_page" alt="" coords="439,1389,560,1416"/>
<area shape="rect" id="node42" href="console_8c.html#a518eeb23de26ff9a26be7969b1a26ca0" title="pm_prepare_console" alt="" coords="428,1136,571,1163"/>
<area shape="rect" id="node43" href="hibernate_8c.html#a1182653d00e5993d06382bc52a746749" title="resume_target_kernel" alt="" coords="426,1187,573,1213"/>
</map>
</div>

</div>
</div>
<a id="ad5de59be13863c97ae3500f344f57191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5de59be13863c97ae3500f344f57191">&#9670;&nbsp;</a></span>snapshot_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int snapshot_open </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_ad5de59be13863c97ae3500f344f57191_cgraph.png" border="0" usemap="#power_2user_8c_ad5de59be13863c97ae3500f344f57191_cgraph" alt=""/></div>
<map name="power_2user_8c_ad5de59be13863c97ae3500f344f57191_cgraph" id="power_2user_8c_ad5de59be13863c97ae3500f344f57191_cgraph">
<area shape="rect" id="node2" href="hibernate_8c.html#ad77212d4110d6b5fcf24003684b6839f" title="hibernation_available" alt="" coords="168,218,311,245"/>
<area shape="rect" id="node3" href="power_8h.html#a18f11509c20a167e61529f9f8fd4fde3" title="create_basic_memory\l_bitmaps" alt="" coords="164,269,315,311"/>
<area shape="rect" id="node4" href="snapshot_8c.html#a5b20b49d47f7ecc3d903a72a85924623" title="memory_bm_create" alt="" coords="365,193,503,219"/>
<area shape="rect" id="node8" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="974,45,1025,71"/>
<area shape="rect" id="node27" href="snapshot_8c.html#a5a2ab113ccbdfc6d07abd87fd804fcf3" title="memory_bm_free" alt="" coords="756,302,879,329"/>
<area shape="rect" id="node29" href="snapshot_8c.html#a84e0492492966c8a44d13c1cb329493a" title="mark_nosave_pages" alt="" coords="363,411,505,438"/>
<area shape="rect" id="node5" href="snapshot_8c.html#a099a91d57aa843ce240028aa46fe47e3" title="chain_init" alt="" coords="590,41,667,67"/>
<area shape="rect" id="node6" href="snapshot_8c.html#a061c26b111548fa42a69cd4a8037874b" title="create_mem_extents" alt="" coords="557,91,701,118"/>
<area shape="rect" id="node7" href="snapshot_8c.html#a9b4d94df8e3a16c2df9d8266c3983d15" title="free_mem_extents" alt="" coords="752,95,883,122"/>
<area shape="rect" id="node9" href="snapshot_8c.html#aa59aa8d3629f484c5c09a61a23e663a6" title="create_zone_bm_rtree" alt="" coords="553,193,704,219"/>
<area shape="rect" id="node26" href="snapshot_8c.html#a89d5facfe927a893595e8aed32b5de0e" title="memory_bm_position\l_reset" alt="" coords="555,295,702,336"/>
<area shape="rect" id="node10" href="snapshot_8c.html#aecd0e95426bb6c298e158de6588b1802" title="chain_alloc" alt="" coords="1155,175,1241,202"/>
<area shape="rect" id="node19" href="snapshot_8c.html#a50e3346892e18010b3a3a3fee9e019b9" title="add_rtree_block" alt="" coords="760,201,875,227"/>
<area shape="rect" id="node21" href="snapshot_8c.html#aadb3b2e23cd6f5892d817a16878f65e0" title="free_zone_bm_rtree" alt="" coords="931,251,1068,278"/>
<area shape="rect" id="node11" href="snapshot_8c.html#aa78eed8b631db9473c5c5056b56b3256" title="__get_safe_page" alt="" coords="1368,187,1489,214"/>
<area shape="rect" id="node12" href="snapshot_8c.html#a013fcea460c76133ecc258bbe6fa22b5" title="get_image_page" alt="" coords="1594,235,1711,262"/>
<area shape="rect" id="node13" href="snapshot_8c.html#aa41fcddae66e65d526ea3cedbba6821f" title="swsusp_page_is_free" alt="" coords="1795,191,1943,218"/>
<area shape="rect" id="node16" href="snapshot_8c.html#a9cd604588e2f75cce811e98a172b7000" title="swsusp_set_page_forbidden" alt="" coords="1776,242,1963,269"/>
<area shape="rect" id="node18" href="snapshot_8c.html#af323d38077123653f9174f7dbd219a1a" title="swsusp_set_page_free" alt="" coords="1791,293,1947,319"/>
<area shape="rect" id="node14" href="snapshot_8c.html#a026d4de692ba84e27571def4f442e908" title="memory_bm_test_bit" alt="" coords="2011,217,2155,243"/>
<area shape="rect" id="node15" href="snapshot_8c.html#a56657be5466b8792f2d6d7ffb65a67ea" title="memory_bm_find_bit" alt="" coords="2203,318,2345,345"/>
<area shape="rect" id="node17" href="snapshot_8c.html#a73e0064c539b4340fb6fc3dd4f73e8ab" title="memory_bm_set_bit" alt="" coords="2013,293,2153,319"/>
<area shape="rect" id="node20" href="snapshot_8c.html#a55f1ee7110e2bb11d5449256f8cb8618" title="alloc_rtree_node" alt="" coords="941,201,1058,227"/>
<area shape="rect" id="node22" href="snapshot_8c.html#afc279d01b4afdc8a0a0853efa05ef854" title="free_image_page" alt="" coords="1137,302,1259,329"/>
<area shape="rect" id="node23" href="snapshot_8c.html#a65f26f5c589f819c16d56d48bf5714e2" title="swsusp_unset_page_forbidden" alt="" coords="1328,293,1529,319"/>
<area shape="rect" id="node25" href="snapshot_8c.html#acaba0587ad7f460bd01d46a0182e0e13" title="swsusp_unset_page_free" alt="" coords="1343,343,1514,370"/>
<area shape="rect" id="node24" href="snapshot_8c.html#ac89ac94510062d5805ff434732abc2cb" title="memory_bm_clear_bit" alt="" coords="1577,343,1728,370"/>
<area shape="rect" id="node28" href="snapshot_8c.html#a4b1098658e82568e341ec3af808641f2" title="free_list_of_pages" alt="" coords="935,302,1063,329"/>
<area shape="rect" id="node30" href="snapshot_8c.html#ace9af3dce365e43af2fa663086a64071" title="mem_bm_set_bit_check" alt="" coords="1116,399,1280,426"/>
</map>
</div>

</div>
</div>
<a id="a79b41cfcb6a23bfb2ff3099296d78846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79b41cfcb6a23bfb2ff3099296d78846">&#9670;&nbsp;</a></span>snapshot_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t snapshot_read </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char __user *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>offp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_a79b41cfcb6a23bfb2ff3099296d78846_cgraph.png" border="0" usemap="#power_2user_8c_a79b41cfcb6a23bfb2ff3099296d78846_cgraph" alt=""/></div>
<map name="power_2user_8c_a79b41cfcb6a23bfb2ff3099296d78846_cgraph" id="power_2user_8c_a79b41cfcb6a23bfb2ff3099296d78846_cgraph">
<area shape="rect" id="node2" href="power_8h.html#a8ca1fd96ec28c968a8562703b9ffcc23" title="snapshot_read_next" alt="" coords="160,187,299,213"/>
<area shape="rect" id="node3" href="snapshot_8c.html#a013fcea460c76133ecc258bbe6fa22b5" title="get_image_page" alt="" coords="950,56,1067,83"/>
<area shape="rect" id="node10" href="snapshot_8c.html#a889c550f6f68285b0050197488ca9b00" title="init_header" alt="" coords="377,128,463,155"/>
<area shape="rect" id="node13" href="snapshot_8c.html#a89d5facfe927a893595e8aed32b5de0e" title="memory_bm_position\l_reset" alt="" coords="347,179,493,221"/>
<area shape="rect" id="node21" href="snapshot_8c.html#a391c90ba0ffce82f20f04fe4dbf69adf" title="pack_pfns" alt="" coords="379,245,461,272"/>
<area shape="rect" id="node22" href="snapshot_8c.html#afd7fe78331e8d756b8e15acd74d9ee07" title="memory_bm_next_pfn" alt="" coords="553,269,703,296"/>
<area shape="rect" id="node4" href="snapshot_8c.html#aa41fcddae66e65d526ea3cedbba6821f" title="swsusp_page_is_free" alt="" coords="1144,5,1292,32"/>
<area shape="rect" id="node7" href="snapshot_8c.html#a9cd604588e2f75cce811e98a172b7000" title="swsusp_set_page_forbidden" alt="" coords="1125,56,1311,83"/>
<area shape="rect" id="node9" href="snapshot_8c.html#af323d38077123653f9174f7dbd219a1a" title="swsusp_set_page_free" alt="" coords="1140,107,1296,133"/>
<area shape="rect" id="node5" href="snapshot_8c.html#a026d4de692ba84e27571def4f442e908" title="memory_bm_test_bit" alt="" coords="1370,19,1514,45"/>
<area shape="rect" id="node6" href="snapshot_8c.html#a56657be5466b8792f2d6d7ffb65a67ea" title="memory_bm_find_bit" alt="" coords="1565,81,1708,108"/>
<area shape="rect" id="node8" href="snapshot_8c.html#a73e0064c539b4340fb6fc3dd4f73e8ab" title="memory_bm_set_bit" alt="" coords="1372,81,1512,108"/>
<area shape="rect" id="node11" href="snapshot_8c.html#a84bf51eae5bcb91d2dbf66d56e4f48f6" title="snapshot_get_image_size" alt="" coords="541,107,715,133"/>
<area shape="rect" id="node12" href="snapshot_8c.html#ace847686015534a3712a1125c8d01b40" title="init_header_complete" alt="" coords="555,157,701,184"/>
<area shape="rect" id="node14" href="snapshot_8c.html#a5a2ab113ccbdfc6d07abd87fd804fcf3" title="memory_bm_free" alt="" coords="567,208,689,235"/>
<area shape="rect" id="node15" href="snapshot_8c.html#aadb3b2e23cd6f5892d817a16878f65e0" title="free_zone_bm_rtree" alt="" coords="763,160,900,187"/>
<area shape="rect" id="node20" href="snapshot_8c.html#a4b1098658e82568e341ec3af808641f2" title="free_list_of_pages" alt="" coords="767,211,895,237"/>
<area shape="rect" id="node16" href="snapshot_8c.html#afc279d01b4afdc8a0a0853efa05ef854" title="free_image_page" alt="" coords="948,207,1069,233"/>
<area shape="rect" id="node17" href="snapshot_8c.html#a65f26f5c589f819c16d56d48bf5714e2" title="swsusp_unset_page_forbidden" alt="" coords="1117,157,1319,184"/>
<area shape="rect" id="node19" href="snapshot_8c.html#acaba0587ad7f460bd01d46a0182e0e13" title="swsusp_unset_page_free" alt="" coords="1133,208,1303,235"/>
<area shape="rect" id="node18" href="snapshot_8c.html#ac89ac94510062d5805ff434732abc2cb" title="memory_bm_clear_bit" alt="" coords="1367,157,1517,184"/>
<area shape="rect" id="node23" href="snapshot_8c.html#a73a9834c19b8d5aca4cbe25f1c262508" title="rtree_next_node" alt="" coords="774,269,889,296"/>
</map>
</div>

</div>
</div>
<a id="ac481472235d94d20ddb5f1b82d77328e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac481472235d94d20ddb5f1b82d77328e">&#9670;&nbsp;</a></span>snapshot_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int snapshot_release </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_ac481472235d94d20ddb5f1b82d77328e_cgraph.png" border="0" usemap="#power_2user_8c_ac481472235d94d20ddb5f1b82d77328e_cgraph" alt=""/></div>
<map name="power_2user_8c_ac481472235d94d20ddb5f1b82d77328e_cgraph" id="power_2user_8c_ac481472235d94d20ddb5f1b82d77328e_cgraph">
<area shape="rect" id="node2" href="power_8h.html#a4450725986969f055946633a285c74bf" title="swsusp_free" alt="" coords="224,244,320,271"/>
<area shape="rect" id="node19" href="power_8h.html#a7c543543a2e7dc1abd3f33932680f012" title="free_all_swap_pages" alt="" coords="200,171,344,197"/>
<area shape="rect" id="node21" href="power_8h.html#a9827dc073d3dcfb60910ee9e77ddd769" title="free_basic_memory_bitmaps" alt="" coords="177,91,367,117"/>
<area shape="rect" id="node22" href="process_8c.html#a3712398ca86c5db0cf80529834abc347" title="thaw_processes" alt="" coords="213,613,331,640"/>
<area shape="rect" id="node3" href="snapshot_8c.html#a89d5facfe927a893595e8aed32b5de0e" title="memory_bm_position\l_reset" alt="" coords="451,142,597,183"/>
<area shape="rect" id="node10" href="snapshot_8c.html#afd7fe78331e8d756b8e15acd74d9ee07" title="memory_bm_next_pfn" alt="" coords="449,259,599,285"/>
<area shape="rect" id="node12" href="snapshot_8c.html#aa9ce530a555163f5d7566206b83f7ffb" title="memory_bm_clear_current" alt="" coords="436,309,612,336"/>
<area shape="rect" id="node13" href="snapshot_8c.html#a81d316ffe8bf0daedcac14fba4d8610f" title="hibernate_restore_unprotect_page" alt="" coords="415,208,633,235"/>
<area shape="rect" id="node18" href="snapshot_8c.html#a54f851569cb378c16c804c3becbf3e47" title="hibernate_restore_protection_end" alt="" coords="417,360,631,387"/>
<area shape="rect" id="node4" href="snapshot_8c.html#a5a2ab113ccbdfc6d07abd87fd804fcf3" title="memory_bm_free" alt="" coords="713,48,836,75"/>
<area shape="rect" id="node5" href="snapshot_8c.html#aadb3b2e23cd6f5892d817a16878f65e0" title="free_zone_bm_rtree" alt="" coords="933,5,1071,32"/>
<area shape="rect" id="node9" href="snapshot_8c.html#a4b1098658e82568e341ec3af808641f2" title="free_list_of_pages" alt="" coords="938,56,1066,83"/>
<area shape="rect" id="node6" href="snapshot_8c.html#afc279d01b4afdc8a0a0853efa05ef854" title="free_image_page" alt="" coords="1136,56,1257,83"/>
<area shape="rect" id="node7" href="snapshot_8c.html#a65f26f5c589f819c16d56d48bf5714e2" title="swsusp_unset_page_forbidden" alt="" coords="1305,81,1507,108"/>
<area shape="rect" id="node8" href="snapshot_8c.html#ac89ac94510062d5805ff434732abc2cb" title="memory_bm_clear_bit" alt="" coords="1555,81,1705,108"/>
<area shape="rect" id="node11" href="snapshot_8c.html#a73a9834c19b8d5aca4cbe25f1c262508" title="rtree_next_node" alt="" coords="717,259,832,285"/>
<area shape="rect" id="node14" href="snapshot_8c.html#aa41fcddae66e65d526ea3cedbba6821f" title="swsusp_page_is_free" alt="" coords="701,157,849,184"/>
<area shape="rect" id="node16" href="snapshot_8c.html#a9cd604588e2f75cce811e98a172b7000" title="swsusp_set_page_forbidden" alt="" coords="681,208,868,235"/>
<area shape="rect" id="node15" href="snapshot_8c.html#a026d4de692ba84e27571def4f442e908" title="memory_bm_test_bit" alt="" coords="930,157,1074,184"/>
<area shape="rect" id="node17" href="snapshot_8c.html#a73e0064c539b4340fb6fc3dd4f73e8ab" title="memory_bm_set_bit" alt="" coords="932,208,1072,235"/>
<area shape="rect" id="node20" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="499,91,549,117"/>
<area shape="rect" id="node23" href="umh_8c.html#a9595d31bf323979513d96428c5b9de37" title="__usermodehelper_set\l_disable_depth" alt="" coords="447,454,601,495"/>
<area shape="rect" id="node32" href="cpuset_8c.html#a34c04f28768cda721060bdfd496f4c8c" title="cpuset_wait_for_hotplug" alt="" coords="443,613,605,640"/>
<area shape="rect" id="node37" href="freezer_8c.html#a51d6c99b7f2ae20d864624c337db641b" title="__thaw_task" alt="" coords="476,689,572,716"/>
<area shape="rect" id="node41" href="sched_2core_8c.html#a7366dbeb1fb6baba9c376a2310e2d966" title="schedule" alt="" coords="487,791,561,817"/>
<area shape="rect" id="node24" href="rwsem_8c.html#a38dadc589b4f0d174805a8d2c0a45d97" title="down_write" alt="" coords="731,360,819,387"/>
<area shape="rect" id="node29" href="rwsem_8c.html#af4f9b3eb8a1dd8b7b213acc5b1e0cb95" title="up_write" alt="" coords="739,461,810,488"/>
<area shape="rect" id="node25" href="rwsem-spinlock_8c.html#ae3464ea0387fa5cfe66156965d4802a5" title="__down_write_trylock" alt="" coords="928,259,1076,285"/>
<area shape="rect" id="node26" href="rwsem-spinlock_8c.html#a7d6a6de4bb324815dbd8b0e5f5deff4b" title="__down_write" alt="" coords="951,309,1053,336"/>
<area shape="rect" id="node27" href="rwsem_8h.html#aa8360daebe3eb16e3316cf0c9aa9ea44" title="rwsem_set_owner" alt="" coords="938,360,1066,387"/>
<area shape="rect" id="node28" href="rwsem_8c.html#a26be9de30c6c4b054df3ebe9785baf40" title="EXPORT_SYMBOL" alt="" coords="933,411,1071,437"/>
<area shape="rect" id="node30" href="rwsem_8h.html#ab3106166df32371faa1f16cb8069d8fc" title="rwsem_clear_owner" alt="" coords="933,461,1071,488"/>
<area shape="rect" id="node31" href="rwsem-spinlock_8c.html#ab34a46b17fe32d953351ec9bddea5803" title="__up_write" alt="" coords="959,512,1045,539"/>
<area shape="rect" id="node33" href="workqueue_8c.html#a94e6db1005a99be1270a4ce82f6b7a68" title="flush_work" alt="" coords="732,613,817,640"/>
<area shape="rect" id="node34" href="workqueue_8c.html#aec2681a46102ebdb1921959ce00b9d76" title="start_flush_work" alt="" coords="943,563,1061,589"/>
<area shape="rect" id="node35" href="completion_8c.html#af046a90040b66bb82eaaabee0cf7ff00" title="wait_for_completion" alt="" coords="933,613,1071,640"/>
<area shape="rect" id="node36" href="workqueue_8c.html#a5bc25839565bd292b35cc2c823482258" title="EXPORT_SYMBOL_GPL" alt="" coords="916,664,1088,691"/>
<area shape="rect" id="node38" href="sched_2core_8c.html#a53212be4e2644aeff9ffd4bc19f7186e" title="wake_up_process" alt="" coords="711,715,838,741"/>
<area shape="rect" id="node39" href="sched_2core_8c.html#a2314337556104bfb2efb3446a515d0b1" title="try_to_wake_up" alt="" coords="945,715,1059,741"/>
<area shape="rect" id="node40" href="sched_2core_8c.html#ae965c11ed4048faf2dd30531991d3f3f" title="EXPORT_SYMBOL" alt="" coords="933,765,1071,792"/>
<area shape="rect" id="node42" href="sched_2core_8c.html#a519aa9d31c398aed8b6dd2a79df1fd0b" title="sched_submit_work" alt="" coords="705,816,844,843"/>
<area shape="rect" id="node43" href="sched_2core_8c.html#acf694287102f3cbc58c883105b567128" title="__schedule" alt="" coords="731,967,819,993"/>
<area shape="rect" id="node44" href="sched_2core_8c.html#ace46c9a9a09c98aabab74e6b53897903" title="schedule_debug" alt="" coords="944,816,1060,843"/>
<area shape="rect" id="node45" href="sched_2core_8c.html#ac927c77b4f37bcf247c8b1cd2c5e17cd" title="hrtick_clear" alt="" coords="1152,891,1241,917"/>
<area shape="rect" id="node46" href="tree_8c.html#a4308f3146b93b6a58f02f82ac9f3b262" title="rcu_note_context_switch" alt="" coords="919,1043,1085,1069"/>
<area shape="rect" id="node47" href="sched_8h.html#a7b5cea26ca4662f792bd58e9d257e8a9" title="rq_lock" alt="" coords="1165,967,1229,993"/>
<area shape="rect" id="node48" href="sched_2core_8c.html#a012557f8580c574172e93b5b3cf349b6" title="update_rq_clock" alt="" coords="943,941,1061,968"/>
<area shape="rect" id="node49" href="sched_2core_8c.html#a18d659057a2fcc466c2935105227e6d0" title="deactivate_task" alt="" coords="945,1093,1059,1120"/>
<area shape="rect" id="node50" href="workqueue_8c.html#a4900a0cd9351c57c52a09668125d2253" title="wq_worker_sleeping" alt="" coords="932,1144,1072,1171"/>
</map>
</div>

</div>
</div>
<a id="a7d24e5c04b5bf3957ad5c9bdb5f110c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d24e5c04b5bf3957ad5c9bdb5f110c1">&#9670;&nbsp;</a></span>snapshot_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t snapshot_write </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>filp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char __user *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t *&#160;</td>
          <td class="paramname"><em>offp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="power_2user_8c_a7d24e5c04b5bf3957ad5c9bdb5f110c1_cgraph.png" border="0" usemap="#power_2user_8c_a7d24e5c04b5bf3957ad5c9bdb5f110c1_cgraph" alt=""/></div>
<map name="power_2user_8c_a7d24e5c04b5bf3957ad5c9bdb5f110c1_cgraph" id="power_2user_8c_a7d24e5c04b5bf3957ad5c9bdb5f110c1_cgraph">
<area shape="rect" id="node2" href="power_8h.html#ad1a0c7e1a915138a60c64c6602ab197e" title="snapshot_write_next" alt="" coords="164,1686,307,1712"/>
<area shape="rect" id="node3" href="snapshot_8c.html#a013fcea460c76133ecc258bbe6fa22b5" title="get_image_page" alt="" coords="1548,1188,1665,1215"/>
<area shape="rect" id="node10" href="snapshot_8c.html#a9be23c51008dc751e8639bdf735fbec9" title="load_header" alt="" coords="411,1838,503,1864"/>
<area shape="rect" id="node13" href="snapshot_8c.html#a5b20b49d47f7ecc3d903a72a85924623" title="memory_bm_create" alt="" coords="629,1128,767,1155"/>
<area shape="rect" id="node14" href="snapshot_8c.html#a099a91d57aa843ce240028aa46fe47e3" title="chain_init" alt="" coords="888,1467,965,1494"/>
<area shape="rect" id="node26" href="snapshot_8c.html#a89d5facfe927a893595e8aed32b5de0e" title="memory_bm_position\l_reset" alt="" coords="1098,540,1245,581"/>
<area shape="rect" id="node29" href="snapshot_8c.html#a574d54420dd4cf3f583315d0e10155aa" title="hibernate_restore_protection\l_begin" alt="" coords="363,1889,550,1930"/>
<area shape="rect" id="node30" href="snapshot_8c.html#a7ed423babb09182e98df78cf3f5fcbaa" title="unpack_orig_pfns" alt="" coords="395,1230,519,1256"/>
<area shape="rect" id="node43" href="snapshot_8c.html#a0c5fb2629b74d94d48f70aef79ea599d" title="copy_last_highmem_page" alt="" coords="611,1686,785,1712"/>
<area shape="rect" id="node46" href="snapshot_8c.html#a23516b73aa5ac7464b6544ccf72ab90a" title="prepare_image" alt="" coords="403,656,510,683"/>
<area shape="rect" id="node49" href="snapshot_8c.html#ac8d7850ecb84d6200fb76b78dd24879f" title="get_buffer" alt="" coords="658,150,738,176"/>
<area shape="rect" id="node50" href="snapshot_8c.html#a9233b62b547169d93dd4924d3ff6ed29" title="hibernate_restore_protect_page" alt="" coords="355,1955,559,1982"/>
<area shape="rect" id="node4" href="snapshot_8c.html#aa41fcddae66e65d526ea3cedbba6821f" title="swsusp_page_is_free" alt="" coords="1783,454,1931,480"/>
<area shape="rect" id="node7" href="snapshot_8c.html#a9cd604588e2f75cce811e98a172b7000" title="swsusp_set_page_forbidden" alt="" coords="1764,1188,1951,1215"/>
<area shape="rect" id="node9" href="snapshot_8c.html#af323d38077123653f9174f7dbd219a1a" title="swsusp_set_page_free" alt="" coords="1779,1303,1935,1330"/>
<area shape="rect" id="node5" href="snapshot_8c.html#a026d4de692ba84e27571def4f442e908" title="memory_bm_test_bit" alt="" coords="2027,454,2171,480"/>
<area shape="rect" id="node6" href="snapshot_8c.html#a56657be5466b8792f2d6d7ffb65a67ea" title="memory_bm_find_bit" alt="" coords="2248,1246,2391,1272"/>
<area shape="rect" id="node8" href="snapshot_8c.html#a73e0064c539b4340fb6fc3dd4f73e8ab" title="memory_bm_set_bit" alt="" coords="2029,1246,2169,1272"/>
<area shape="rect" id="node11" href="snapshot_8c.html#a6b83db9d415330d845b162b5e010c27e" title="check_header" alt="" coords="647,1838,749,1864"/>
<area shape="rect" id="node12" href="snapshot_8c.html#a48d032ee7863afd1c23e5f99a3300334" title="check_image_kernel" alt="" coords="856,1838,997,1864"/>
<area shape="rect" id="node15" href="snapshot_8c.html#a061c26b111548fa42a69cd4a8037874b" title="create_mem_extents" alt="" coords="855,1315,999,1342"/>
<area shape="rect" id="node16" href="snapshot_8c.html#a9b4d94df8e3a16c2df9d8266c3983d15" title="free_mem_extents" alt="" coords="1106,1264,1237,1291"/>
<area shape="rect" id="node18" href="snapshot_8c.html#aa59aa8d3629f484c5c09a61a23e663a6" title="create_zone_bm_rtree" alt="" coords="851,1062,1002,1088"/>
<area shape="rect" id="node27" href="snapshot_8c.html#a5a2ab113ccbdfc6d07abd87fd804fcf3" title="memory_bm_free" alt="" coords="1327,795,1449,822"/>
<area shape="rect" id="node17" href="rcu_8h.html#ad92c2890c435f9cca9e36ff4f97feb5c" title="kfree" alt="" coords="1363,1290,1413,1316"/>
<area shape="rect" id="node19" href="snapshot_8c.html#aecd0e95426bb6c298e158de6588b1802" title="chain_alloc" alt="" coords="1128,1163,1215,1190"/>
<area shape="rect" id="node21" href="snapshot_8c.html#a50e3346892e18010b3a3a3fee9e019b9" title="add_rtree_block" alt="" coords="1331,972,1445,999"/>
<area shape="rect" id="node22" href="snapshot_8c.html#aadb3b2e23cd6f5892d817a16878f65e0" title="free_zone_bm_rtree" alt="" coords="1538,859,1675,886"/>
<area shape="rect" id="node20" href="snapshot_8c.html#aa78eed8b631db9473c5c5056b56b3256" title="__get_safe_page" alt="" coords="1327,1214,1449,1240"/>
<area shape="rect" id="node23" href="snapshot_8c.html#afc279d01b4afdc8a0a0853efa05ef854" title="free_image_page" alt="" coords="1797,656,1918,683"/>
<area shape="rect" id="node24" href="snapshot_8c.html#a65f26f5c589f819c16d56d48bf5714e2" title="swsusp_unset_page_forbidden" alt="" coords="1999,555,2200,582"/>
<area shape="rect" id="node25" href="snapshot_8c.html#acaba0587ad7f460bd01d46a0182e0e13" title="swsusp_unset_page_free" alt="" coords="2014,656,2185,683"/>
<area shape="rect" id="node28" href="snapshot_8c.html#a4b1098658e82568e341ec3af808641f2" title="free_list_of_pages" alt="" coords="1543,656,1671,683"/>
<area shape="rect" id="node31" href="snapshot_8c.html#a7aa478cbf8bcce847b128b94b669c82a" title="memory_bm_pfn_present" alt="" coords="1522,1670,1691,1696"/>
<area shape="rect" id="node32" href="snapshot_8c.html#ad476b871e94e0b03de48573cb4b46e4c" title="count_highmem_image\l_pages" alt="" coords="620,809,776,850"/>
<area shape="rect" id="node33" href="snapshot_8c.html#afd7fe78331e8d756b8e15acd74d9ee07" title="memory_bm_next_pfn" alt="" coords="1096,251,1247,278"/>
<area shape="rect" id="node35" href="snapshot_8c.html#ad11163cad7b264bb69fd3ee4df51df38" title="prepare_highmem_image" alt="" coords="615,758,781,784"/>
<area shape="rect" id="node36" href="snapshot_8c.html#aac1ef1f9fc086dca10e0f14718c8df1f" title="get_highmem_buffer" alt="" coords="628,1280,768,1307"/>
<area shape="rect" id="node37" href="snapshot_8c.html#ac6e4885d9b48931760553f4502801e8f" title="get_highmem_page_buffer" alt="" coords="839,403,1014,430"/>
<area shape="rect" id="node38" href="snapshot_8c.html#a6a7b0c69dd139840b769e1fc38699523" title="swsusp_page_is_forbidden" alt="" coords="837,48,1016,75"/>
<area shape="rect" id="node39" href="snapshot_8c.html#a4450725986969f055946633a285c74bf" title="swsusp_free" alt="" coords="879,352,975,379"/>
<area shape="rect" id="node44" href="snapshot_8c.html#aa7b37a0e56c47901096fa29283f4bb0a" title="last_highmem_page_copied" alt="" coords="607,1331,789,1358"/>
<area shape="rect" id="node45" href="snapshot_8c.html#a8f86af3aabaa2997565d2a2ff4088795" title="free_highmem_data" alt="" coords="630,1432,766,1459"/>
<area shape="rect" id="node34" href="snapshot_8c.html#a73a9834c19b8d5aca4cbe25f1c262508" title="rtree_next_node" alt="" coords="1331,251,1445,278"/>
<area shape="rect" id="node40" href="snapshot_8c.html#aa9ce530a555163f5d7566206b83f7ffb" title="memory_bm_clear_current" alt="" coords="1083,302,1259,328"/>
<area shape="rect" id="node41" href="snapshot_8c.html#a81d316ffe8bf0daedcac14fba4d8610f" title="hibernate_restore_unprotect_page" alt="" coords="1497,504,1716,531"/>
<area shape="rect" id="node42" href="snapshot_8c.html#a54f851569cb378c16c804c3becbf3e47" title="hibernate_restore_protection_end" alt="" coords="1064,352,1279,379"/>
<area shape="rect" id="node47" href="snapshot_8c.html#af20bb9b09a20b06707e0703a47271ffa" title="mark_unsafe_pages" alt="" coords="629,403,767,430"/>
<area shape="rect" id="node48" href="snapshot_8c.html#a8ec8bdee489410525d7be8707c19a6eb" title="duplicate_memory_bitmap" alt="" coords="839,454,1014,480"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0cd492c57ca8cdd2d75c17c202dc8581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd492c57ca8cdd2d75c17c202dc8581">&#9670;&nbsp;</a></span>snapshot_device</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct miscdevice snapshot_device</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .minor = <a class="code" href="power_2user_8c.html#a9513f8242d687f4477b51340b08bf58d">SNAPSHOT_MINOR</a>,</div><div class="line">    .name = <span class="stringliteral">&quot;snapshot&quot;</span>,</div><div class="line">    .fops = &amp;<a class="code" href="power_2user_8c.html#ad1f5d13c11b48be8c1f7fdb62a7f1644">snapshot_fops</a>,</div><div class="line">}</div><div class="ttc" id="power_2user_8c_html_a9513f8242d687f4477b51340b08bf58d"><div class="ttname"><a href="power_2user_8c.html#a9513f8242d687f4477b51340b08bf58d">SNAPSHOT_MINOR</a></div><div class="ttdeci">#define SNAPSHOT_MINOR</div><div class="ttdef"><b>Definition:</b> user.c:33</div></div>
<div class="ttc" id="power_2user_8c_html_ad1f5d13c11b48be8c1f7fdb62a7f1644"><div class="ttname"><a href="power_2user_8c.html#ad1f5d13c11b48be8c1f7fdb62a7f1644">snapshot_fops</a></div><div class="ttdeci">static const struct file_operations snapshot_fops</div><div class="ttdef"><b>Definition:</b> user.c:457</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84ffa358f5e9e01fc10844e14c98d4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84ffa358f5e9e01fc10844e14c98d4bb">&#9670;&nbsp;</a></span>snapshot_device_available</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t snapshot_device_available = ATOMIC_INIT(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad1f5d13c11b48be8c1f7fdb62a7f1644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f5d13c11b48be8c1f7fdb62a7f1644">&#9670;&nbsp;</a></span>snapshot_fops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations snapshot_fops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .open = <a class="code" href="power_2user_8c.html#ad5de59be13863c97ae3500f344f57191">snapshot_open</a>,</div><div class="line">    .release = <a class="code" href="power_2user_8c.html#ac481472235d94d20ddb5f1b82d77328e">snapshot_release</a>,</div><div class="line">    .read = <a class="code" href="power_2user_8c.html#a79b41cfcb6a23bfb2ff3099296d78846">snapshot_read</a>,</div><div class="line">    .write = <a class="code" href="power_2user_8c.html#a7d24e5c04b5bf3957ad5c9bdb5f110c1">snapshot_write</a>,</div><div class="line">    .llseek = no_llseek,</div><div class="line">    .unlocked_ioctl = <a class="code" href="power_2user_8c.html#aa2cbf7ba962ecd107322b59292a2ae1d">snapshot_ioctl</a>,</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">}</div><div class="ttc" id="power_2user_8c_html_a79b41cfcb6a23bfb2ff3099296d78846"><div class="ttname"><a href="power_2user_8c.html#a79b41cfcb6a23bfb2ff3099296d78846">snapshot_read</a></div><div class="ttdeci">static ssize_t snapshot_read(struct file *filp, char __user *buf, size_t count, loff_t *offp)</div><div class="ttdef"><b>Definition:</b> user.c:137</div></div>
<div class="ttc" id="power_2user_8c_html_ac481472235d94d20ddb5f1b82d77328e"><div class="ttname"><a href="power_2user_8c.html#ac481472235d94d20ddb5f1b82d77328e">snapshot_release</a></div><div class="ttdeci">static int snapshot_release(struct inode *inode, struct file *filp)</div><div class="ttdef"><b>Definition:</b> user.c:112</div></div>
<div class="ttc" id="power_2user_8c_html_a7d24e5c04b5bf3957ad5c9bdb5f110c1"><div class="ttname"><a href="power_2user_8c.html#a7d24e5c04b5bf3957ad5c9bdb5f110c1">snapshot_write</a></div><div class="ttdeci">static ssize_t snapshot_write(struct file *filp, const char __user *buf, size_t count, loff_t *offp)</div><div class="ttdef"><b>Definition:</b> user.c:170</div></div>
<div class="ttc" id="power_2user_8c_html_aa2cbf7ba962ecd107322b59292a2ae1d"><div class="ttname"><a href="power_2user_8c.html#aa2cbf7ba962ecd107322b59292a2ae1d">snapshot_ioctl</a></div><div class="ttdeci">static long snapshot_ioctl(struct file *filp, unsigned int cmd, unsigned long arg)</div><div class="ttdef"><b>Definition:</b> user.c:199</div></div>
<div class="ttc" id="power_2user_8c_html_ad5de59be13863c97ae3500f344f57191"><div class="ttname"><a href="power_2user_8c.html#ad5de59be13863c97ae3500f344f57191">snapshot_open</a></div><div class="ttdeci">static int snapshot_open(struct inode *inode, struct file *filp)</div><div class="ttdef"><b>Definition:</b> user.c:47</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9fa8ed2755605bea347fe370fb88dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9fa8ed2755605bea347fe370fb88dc1">&#9670;&nbsp;</a></span>snapshot_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structsnapshot__data.html">snapshot_data</a>  snapshot_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3976eb09e63d12d6360418649170b5ff.html">power</a></li><li class="navelem"><a class="el" href="power_2user_8c.html">user.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
