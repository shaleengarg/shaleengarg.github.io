<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linux MM: shmem.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linux MM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('shmem_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">shmem.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/init.h&gt;</code><br />
<code>#include &lt;linux/vfs.h&gt;</code><br />
<code>#include &lt;linux/mount.h&gt;</code><br />
<code>#include &lt;linux/ramfs.h&gt;</code><br />
<code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/file.h&gt;</code><br />
<code>#include &lt;linux/mm.h&gt;</code><br />
<code>#include &lt;linux/sched/signal.h&gt;</code><br />
<code>#include &lt;linux/export.h&gt;</code><br />
<code>#include &lt;linux/swap.h&gt;</code><br />
<code>#include &lt;linux/uio.h&gt;</code><br />
<code>#include &lt;linux/khugepaged.h&gt;</code><br />
<code>#include &lt;linux/hugetlb.h&gt;</code><br />
<code>#include &lt;asm/tlbflush.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for shmem.c:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c__incl.png" border="0" usemap="#shmem_8c" alt=""/></div>
<map name="shmem_8c" id="shmem_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7cd0e2114634d6e6d78152de67e07f4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a7cd0e2114634d6e6d78152de67e07f4d">shmem_vm_ops</a>&#160;&#160;&#160;<a class="el" href="nommu_8c.html#ae43c5010066d6b0394606f2126218c79">generic_file_vm_ops</a></td></tr>
<tr class="separator:a7cd0e2114634d6e6d78152de67e07f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f5d2bd1f57f353c928cf3c3803187b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#af7f5d2bd1f57f353c928cf3c3803187b">shmem_file_operations</a>&#160;&#160;&#160;ramfs_file_operations</td></tr>
<tr class="separator:af7f5d2bd1f57f353c928cf3c3803187b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab99aa5309add23d47ee4ee00fb731695"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#ab99aa5309add23d47ee4ee00fb731695">shmem_get_inode</a>(sb,  dir,  mode,  dev,  flags)&#160;&#160;&#160;ramfs_get_inode(sb, dir, mode, dev)</td></tr>
<tr class="separator:ab99aa5309add23d47ee4ee00fb731695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488c812c4f113b604015a8e6053a6db9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a488c812c4f113b604015a8e6053a6db9">shmem_acct_size</a>(flags,  size)&#160;&#160;&#160;0</td></tr>
<tr class="separator:a488c812c4f113b604015a8e6053a6db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31349d577c95ac490a786a98ac3f283b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a31349d577c95ac490a786a98ac3f283b">shmem_unacct_size</a>(flags,  size)&#160;&#160;&#160;do {} while (0)</td></tr>
<tr class="separator:a31349d577c95ac490a786a98ac3f283b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4cf36ad89a1f48f86ad00f66615afe54"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a4cf36ad89a1f48f86ad00f66615afe54">shmem_init</a> (void)</td></tr>
<tr class="separator:a4cf36ad89a1f48f86ad00f66615afe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac299267593c3b7ef0e452ecf3005cfdc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#ac299267593c3b7ef0e452ecf3005cfdc">shmem_unuse</a> (swp_entry_t swap, struct page *page)</td></tr>
<tr class="separator:ac299267593c3b7ef0e452ecf3005cfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c261e21f32eb6bc7306c23adc4b60a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a8c261e21f32eb6bc7306c23adc4b60a5">shmem_lock</a> (struct file *file, int lock, struct user_struct *user)</td></tr>
<tr class="separator:a8c261e21f32eb6bc7306c23adc4b60a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a54e40adfa29f043e6a1c64e2d72091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a8a54e40adfa29f043e6a1c64e2d72091">shmem_unlock_mapping</a> (struct address_space *mapping)</td></tr>
<tr class="separator:a8a54e40adfa29f043e6a1c64e2d72091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af4bf2ecedac8269e73e968973b6684"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a7af4bf2ecedac8269e73e968973b6684">shmem_truncate_range</a> (struct inode *inode, loff_t lstart, loff_t lend)</td></tr>
<tr class="separator:a7af4bf2ecedac8269e73e968973b6684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d3e66a05ca7d8a1496a5aaef876413"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a46d3e66a05ca7d8a1496a5aaef876413">EXPORT_SYMBOL_GPL</a> (<a class="el" href="shmem_8c.html#a7af4bf2ecedac8269e73e968973b6684">shmem_truncate_range</a>)</td></tr>
<tr class="separator:a46d3e66a05ca7d8a1496a5aaef876413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a729f88526135bd45c5f608844db58"><td class="memItemLeft" align="right" valign="top">static struct file *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a59a729f88526135bd45c5f608844db58">__shmem_file_setup</a> (struct vfsmount *mnt, const char *name, loff_t size, unsigned long flags, unsigned int i_flags)</td></tr>
<tr class="separator:a59a729f88526135bd45c5f608844db58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">: name for dentry (to be seen in /proc/&lt;pid&gt;/maps</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>shmem_file_setup_with_mnt - get an unlinked file living in tmpfs : the tmpfs mount where the file will be created</p>
<p>: size to be set for the file : VM_NORESERVE suppresses pre-accounting of the entire object size </p>
</div></td></tr>
<tr class="memitem:ab038350ca7726099d46aa0a265931956"><td class="memItemLeft" align="right" valign="top">struct file *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#ab038350ca7726099d46aa0a265931956">shmem_kernel_file_setup</a> (const char *name, loff_t size, unsigned long flags)</td></tr>
<tr class="separator:ab038350ca7726099d46aa0a265931956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5776bb2515a59ac79d82d46541489ea"><td class="memItemLeft" align="right" valign="top">struct file *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#ac5776bb2515a59ac79d82d46541489ea">shmem_file_setup</a> (const char *name, loff_t size, unsigned long flags)</td></tr>
<tr class="separator:ac5776bb2515a59ac79d82d46541489ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa89aac6dfbdb14f8680739b9b4ce5dfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#aa89aac6dfbdb14f8680739b9b4ce5dfd">EXPORT_SYMBOL_GPL</a> (<a class="el" href="shmem_8c.html#ac5776bb2515a59ac79d82d46541489ea">shmem_file_setup</a>)</td></tr>
<tr class="separator:aa89aac6dfbdb14f8680739b9b4ce5dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886c9b466ef5a607d9da7376dd2b4869"><td class="memItemLeft" align="right" valign="top">struct file *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a886c9b466ef5a607d9da7376dd2b4869">shmem_file_setup_with_mnt</a> (struct vfsmount *mnt, const char *name, loff_t size, unsigned long flags)</td></tr>
<tr class="separator:a886c9b466ef5a607d9da7376dd2b4869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeec15244098e2edc88c06b0e806d81b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#abeec15244098e2edc88c06b0e806d81b">EXPORT_SYMBOL_GPL</a> (<a class="el" href="shmem_8c.html#a886c9b466ef5a607d9da7376dd2b4869">shmem_file_setup_with_mnt</a>)</td></tr>
<tr class="separator:abeec15244098e2edc88c06b0e806d81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf911338b86951033b4450f5bb0003f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#aacf911338b86951033b4450f5bb0003f">shmem_zero_setup</a> (struct vm_area_struct *vma)</td></tr>
<tr class="separator:aacf911338b86951033b4450f5bb0003f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b629f04bd524c18e7e5255c174959b"><td class="memItemLeft" align="right" valign="top">struct page *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a63b629f04bd524c18e7e5255c174959b">shmem_read_mapping_page_gfp</a> (struct address_space *mapping, pgoff_t index, gfp_t gfp)</td></tr>
<tr class="separator:a63b629f04bd524c18e7e5255c174959b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cb3b7f6871eb50a5eb7d71829fbfeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#ae1cb3b7f6871eb50a5eb7d71829fbfeb">EXPORT_SYMBOL_GPL</a> (<a class="el" href="shmem_8c.html#a63b629f04bd524c18e7e5255c174959b">shmem_read_mapping_page_gfp</a>)</td></tr>
<tr class="separator:ae1cb3b7f6871eb50a5eb7d71829fbfeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1222bd2604d772af703ab245e5396c47"><td class="memItemLeft" align="right" valign="top">static struct vfsmount *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a1222bd2604d772af703ab245e5396c47">shm_mnt</a></td></tr>
<tr class="separator:a1222bd2604d772af703ab245e5396c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dbd8992221c5bdd2bf2c7cb6808722e"><td class="memItemLeft" align="right" valign="top">static struct file_system_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a7dbd8992221c5bdd2bf2c7cb6808722e">shmem_fs_type</a></td></tr>
<tr class="separator:a7dbd8992221c5bdd2bf2c7cb6808722e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec35a37e61fba6e493f7b0bed788db2"><td class="memItemLeft" align="right" valign="top">static const struct dentry_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shmem_8c.html#a3ec35a37e61fba6e493f7b0bed788db2">anon_ops</a></td></tr>
<tr class="separator:a3ec35a37e61fba6e493f7b0bed788db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a488c812c4f113b604015a8e6053a6db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488c812c4f113b604015a8e6053a6db9">&#9670;&nbsp;</a></span>shmem_acct_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define shmem_acct_size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af7f5d2bd1f57f353c928cf3c3803187b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f5d2bd1f57f353c928cf3c3803187b">&#9670;&nbsp;</a></span>shmem_file_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define shmem_file_operations&#160;&#160;&#160;ramfs_file_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab99aa5309add23d47ee4ee00fb731695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab99aa5309add23d47ee4ee00fb731695">&#9670;&nbsp;</a></span>shmem_get_inode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define shmem_get_inode</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sb, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dir, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mode, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dev, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;ramfs_get_inode(sb, dir, mode, dev)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a31349d577c95ac490a786a98ac3f283b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31349d577c95ac490a786a98ac3f283b">&#9670;&nbsp;</a></span>shmem_unacct_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define shmem_unacct_size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do {} while (0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7cd0e2114634d6e6d78152de67e07f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd0e2114634d6e6d78152de67e07f4d">&#9670;&nbsp;</a></span>shmem_vm_ops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define shmem_vm_ops&#160;&#160;&#160;<a class="el" href="nommu_8c.html#ae43c5010066d6b0394606f2126218c79">generic_file_vm_ops</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a59a729f88526135bd45c5f608844db58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a729f88526135bd45c5f608844db58">&#9670;&nbsp;</a></span>__shmem_file_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct file* __shmem_file_setup </td>
          <td>(</td>
          <td class="paramtype">struct vfsmount *&#160;</td>
          <td class="paramname"><em>mnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>i_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_a59a729f88526135bd45c5f608844db58_icgraph.png" border="0" usemap="#shmem_8c_a59a729f88526135bd45c5f608844db58_icgraph" alt=""/></div>
<map name="shmem_8c_a59a729f88526135bd45c5f608844db58_icgraph" id="shmem_8c_a59a729f88526135bd45c5f608844db58_icgraph">
<area shape="rect" id="node2" href="shmem_8c.html#ab038350ca7726099d46aa0a265931956" title="shmem_kernel_file_setup" alt="" coords="205,5,375,32"/>
<area shape="rect" id="node6" href="shmem_8c.html#ac5776bb2515a59ac79d82d46541489ea" title="shmem_file_setup" alt="" coords="226,56,354,83"/>
<area shape="rect" id="node7" href="shmem_8c.html#a886c9b466ef5a607d9da7376dd2b4869" title="shmem_file_setup_with_mnt" alt="" coords="196,107,384,133"/>
<area shape="rect" id="node3" href="shmem_8c.html#aacf911338b86951033b4450f5bb0003f" title="shmem_zero_setup" alt="" coords="432,5,568,32"/>
<area shape="rect" id="node4" href="mmap_8c.html#a8ae5dadcb1725a0e8a7bf09b21e066ce" title="mmap_region" alt="" coords="616,5,716,32"/>
<area shape="rect" id="node5" href="mmap_8c.html#a7c2706c91d5621e24c36deb9bec3728b" title="do_mmap" alt="" coords="764,5,843,32"/>
</map>
</div>

</div>
</div>
<a id="a46d3e66a05ca7d8a1496a5aaef876413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46d3e66a05ca7d8a1496a5aaef876413">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shmem_8c.html#a7af4bf2ecedac8269e73e968973b6684">shmem_truncate_range</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_a46d3e66a05ca7d8a1496a5aaef876413_icgraph.png" border="0" usemap="#shmem_8c_a46d3e66a05ca7d8a1496a5aaef876413_icgraph" alt=""/></div>
<map name="shmem_8c_a46d3e66a05ca7d8a1496a5aaef876413_icgraph" id="shmem_8c_a46d3e66a05ca7d8a1496a5aaef876413_icgraph">
<area shape="rect" id="node2" href="shmem_8c.html#a7af4bf2ecedac8269e73e968973b6684" title="shmem_truncate_range" alt="" coords="240,5,399,32"/>
<area shape="rect" id="node3" href="shmem_8c.html#ac5776bb2515a59ac79d82d46541489ea" title="shmem_file_setup" alt="" coords="255,56,383,83"/>
<area shape="rect" id="node4" href="shmem_8c.html#a886c9b466ef5a607d9da7376dd2b4869" title="shmem_file_setup_with_mnt" alt="" coords="225,107,413,133"/>
<area shape="rect" id="node5" href="shmem_8c.html#a63b629f04bd524c18e7e5255c174959b" title="shmem_read_mapping\l_page_gfp" alt="" coords="243,158,396,199"/>
</map>
</div>

</div>
</div>
<a id="aa89aac6dfbdb14f8680739b9b4ce5dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa89aac6dfbdb14f8680739b9b4ce5dfd">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shmem_8c.html#ac5776bb2515a59ac79d82d46541489ea">shmem_file_setup</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abeec15244098e2edc88c06b0e806d81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeec15244098e2edc88c06b0e806d81b">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shmem_8c.html#a886c9b466ef5a607d9da7376dd2b4869">shmem_file_setup_with_mnt</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae1cb3b7f6871eb50a5eb7d71829fbfeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cb3b7f6871eb50a5eb7d71829fbfeb">&#9670;&nbsp;</a></span>EXPORT_SYMBOL_GPL() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EXPORT_SYMBOL_GPL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shmem_8c.html#a63b629f04bd524c18e7e5255c174959b">shmem_read_mapping_page_gfp</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac5776bb2515a59ac79d82d46541489ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5776bb2515a59ac79d82d46541489ea">&#9670;&nbsp;</a></span>shmem_file_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file* shmem_file_setup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_ac5776bb2515a59ac79d82d46541489ea_cgraph.png" border="0" usemap="#shmem_8c_ac5776bb2515a59ac79d82d46541489ea_cgraph" alt=""/></div>
<map name="shmem_8c_ac5776bb2515a59ac79d82d46541489ea_cgraph" id="shmem_8c_ac5776bb2515a59ac79d82d46541489ea_cgraph">
<area shape="rect" id="node2" href="shmem_8c.html#a59a729f88526135bd45c5f608844db58" title="__shmem_file_setup" alt="" coords="196,5,339,32"/>
<area shape="rect" id="node3" href="shmem_8c.html#a46d3e66a05ca7d8a1496a5aaef876413" title="EXPORT_SYMBOL_GPL" alt="" coords="181,56,353,83"/>
</map>
</div>

</div>
</div>
<a id="a886c9b466ef5a607d9da7376dd2b4869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a886c9b466ef5a607d9da7376dd2b4869">&#9670;&nbsp;</a></span>shmem_file_setup_with_mnt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file* shmem_file_setup_with_mnt </td>
          <td>(</td>
          <td class="paramtype">struct vfsmount *&#160;</td>
          <td class="paramname"><em>mnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_a886c9b466ef5a607d9da7376dd2b4869_cgraph.png" border="0" usemap="#shmem_8c_a886c9b466ef5a607d9da7376dd2b4869_cgraph" alt=""/></div>
<map name="shmem_8c_a886c9b466ef5a607d9da7376dd2b4869_cgraph" id="shmem_8c_a886c9b466ef5a607d9da7376dd2b4869_cgraph">
<area shape="rect" id="node2" href="shmem_8c.html#a59a729f88526135bd45c5f608844db58" title="__shmem_file_setup" alt="" coords="256,5,399,32"/>
<area shape="rect" id="node3" href="shmem_8c.html#a46d3e66a05ca7d8a1496a5aaef876413" title="EXPORT_SYMBOL_GPL" alt="" coords="241,56,413,83"/>
</map>
</div>

</div>
</div>
<a id="a4cf36ad89a1f48f86ad00f66615afe54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf36ad89a1f48f86ad00f66615afe54">&#9670;&nbsp;</a></span>shmem_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init shmem_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab038350ca7726099d46aa0a265931956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab038350ca7726099d46aa0a265931956">&#9670;&nbsp;</a></span>shmem_kernel_file_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct file* shmem_kernel_file_setup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_ab038350ca7726099d46aa0a265931956_cgraph.png" border="0" usemap="#shmem_8c_ab038350ca7726099d46aa0a265931956_cgraph" alt=""/></div>
<map name="shmem_8c_ab038350ca7726099d46aa0a265931956_cgraph" id="shmem_8c_ab038350ca7726099d46aa0a265931956_cgraph">
<area shape="rect" id="node2" href="shmem_8c.html#a59a729f88526135bd45c5f608844db58" title="__shmem_file_setup" alt="" coords="224,5,367,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_ab038350ca7726099d46aa0a265931956_icgraph.png" border="0" usemap="#shmem_8c_ab038350ca7726099d46aa0a265931956_icgraph" alt=""/></div>
<map name="shmem_8c_ab038350ca7726099d46aa0a265931956_icgraph" id="shmem_8c_ab038350ca7726099d46aa0a265931956_icgraph">
<area shape="rect" id="node2" href="shmem_8c.html#aacf911338b86951033b4450f5bb0003f" title="shmem_zero_setup" alt="" coords="224,5,360,32"/>
<area shape="rect" id="node3" href="mmap_8c.html#a8ae5dadcb1725a0e8a7bf09b21e066ce" title="mmap_region" alt="" coords="408,5,508,32"/>
<area shape="rect" id="node4" href="mmap_8c.html#a7c2706c91d5621e24c36deb9bec3728b" title="do_mmap" alt="" coords="556,5,635,32"/>
</map>
</div>

</div>
</div>
<a id="a8c261e21f32eb6bc7306c23adc4b60a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c261e21f32eb6bc7306c23adc4b60a5">&#9670;&nbsp;</a></span>shmem_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shmem_lock </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct user_struct *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a63b629f04bd524c18e7e5255c174959b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b629f04bd524c18e7e5255c174959b">&#9670;&nbsp;</a></span>shmem_read_mapping_page_gfp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct page* shmem_read_mapping_page_gfp </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pgoff_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gfp_t&#160;</td>
          <td class="paramname"><em>gfp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>shmem_read_mapping_page_gfp - read into page cache, using specified page allocation flags. : the page's address_space : the page index : the page allocator flags to use if allocating</p>
<p>This behaves as a tmpfs "read_cache_page_gfp(mapping, index, gfp)", with any new page allocations done using the specified allocation flags. But <a class="el" href="filemap_8c.html#a193b673576c9ac7cd270b4b48c54b57f">read_cache_page_gfp()</a> uses the -&gt;readpage() method: which does not suit tmpfs, since it may have pages in swapcache, and needs to find those for itself; although drivers/gpu/drm i915 and ttm rely upon this support.</p>
<p>i915_gem_object_get_pages_gtt() mixes __GFP_NORETRY | __GFP_NOWARN in with the mapping_gfp_mask(), to avoid OOMing the machine unnecessarily. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_a63b629f04bd524c18e7e5255c174959b_cgraph.png" border="0" usemap="#shmem_8c_a63b629f04bd524c18e7e5255c174959b_cgraph" alt=""/></div>
<map name="shmem_8c_a63b629f04bd524c18e7e5255c174959b_cgraph" id="shmem_8c_a63b629f04bd524c18e7e5255c174959b_cgraph">
<area shape="rect" id="node2" href="filemap_8c.html#a7c56cad94a93fa5948a3a239c085602e" title="unlock_page" alt="" coords="652,196,747,223"/>
<area shape="rect" id="node7" href="filemap_8c.html#a193b673576c9ac7cd270b4b48c54b57f" title="read_cache_page_gfp" alt="" coords="218,247,367,273"/>
<area shape="rect" id="node50" href="shmem_8c.html#a46d3e66a05ca7d8a1496a5aaef876413" title="EXPORT_SYMBOL_GPL" alt="" coords="207,297,379,324"/>
<area shape="rect" id="node3" href="filemap_8c.html#a09dd6ad3845bd285620d1c7de196d263" title="clear_bit_unlock_is\l_negative_byte" alt="" coords="846,105,979,146"/>
<area shape="rect" id="node4" href="filemap_8c.html#a6e8111d76b87dd86ff4f0f53e2d87469" title="wake_up_page_bit" alt="" coords="847,171,978,197"/>
<area shape="rect" id="node6" href="filemap_8c.html#a44ac116b460b92ab7fe29579b5f39e96" title="EXPORT_SYMBOL" alt="" coords="843,221,982,248"/>
<area shape="rect" id="node5" href="filemap_8c.html#a8d7c07ee694e87d718f95019f60630bc" title="page_waitqueue" alt="" coords="1085,56,1201,83"/>
<area shape="rect" id="node8" href="filemap_8c.html#a22ec66a77637fe9dcd376f1c87313e2d" title="do_read_cache_page" alt="" coords="427,436,572,463"/>
<area shape="rect" id="node9" href="filemap_8c.html#a2dfa85c36c81c1805fa615c454d118f9" title="__page_cache_alloc\l_hetero" alt="" coords="843,563,983,605"/>
<area shape="rect" id="node10" href="filemap_8c.html#a209d30e56949014bbcd4afe8a94f8a1b" title="add_to_page_cache_lru" alt="" coords="620,411,779,437"/>
<area shape="rect" id="node42" href="filemap_8c.html#a10c3e446f7efd7c1cab46d318b907a79" title="wait_on_page_read" alt="" coords="632,461,767,488"/>
<area shape="rect" id="node43" href="swap_8c.html#ac0483ff2c88088a8db13e730c30645af" title="mark_page_accessed" alt="" coords="838,629,987,656"/>
<area shape="rect" id="node11" href="filemap_8c.html#adbaa09410e0efc5dc95cbf9b922f0a87" title="__add_to_page_cache\l_locked" alt="" coords="837,273,989,314"/>
<area shape="rect" id="node30" href="workingset_8c.html#a85814dcd7984b72fb786912d136a1c27" title="workingset_refault" alt="" coords="849,360,977,387"/>
<area shape="rect" id="node33" href="workingset_8c.html#a6b5979697d537ee3e19cf27cad1c3158" title="workingset_activation" alt="" coords="1069,563,1217,589"/>
<area shape="rect" id="node34" href="swap_8c.html#a24a0c922978df84d2f84fd32fd90da3c" title="lru_cache_add" alt="" coords="859,461,966,488"/>
<area shape="rect" id="node41" href="filemap_8c.html#a447b2bb4cfe7012ac27a3b9ae23032dd" title="EXPORT_SYMBOL_GPL" alt="" coords="827,411,999,437"/>
<area shape="rect" id="node12" href="hugetlb_8c.html#ae902859beabc80612b29ff8e0d3a1169" title="PageHuge" alt="" coords="1102,259,1185,285"/>
<area shape="rect" id="node14" href="memcontrol_8c.html#ad59db95e8ab6a953e567648e184d1233" title="mem_cgroup_try_charge" alt="" coords="1061,309,1226,336"/>
<area shape="rect" id="node23" href="memcontrol_8c.html#a733114a148f13b07c08c20e1ff206677" title="mem_cgroup_cancel_charge" alt="" coords="1049,107,1237,133"/>
<area shape="rect" id="node25" href="filemap_8c.html#a44a704c10b97143b03b96adf75d232a1" title="page_cache_tree_insert" alt="" coords="1063,208,1223,235"/>
<area shape="rect" id="node26" href="memcontrol_8c.html#a0426fb193d45505417c834375de18bf3" title="mem_cgroup_commit_charge" alt="" coords="1047,157,1240,184"/>
<area shape="rect" id="node13" href="hugetlb_8c.html#a48f2549647e95da89eefd8338c35cb0e" title="EXPORT_SYMBOL_GPL" alt="" coords="1303,259,1475,285"/>
<area shape="rect" id="node15" href="swap__cgroup_8c.html#ac91c49d086ec10f3cb858d4d2694b0b0" title="lookup_swap_cgroup_id" alt="" coords="1309,411,1470,437"/>
<area shape="rect" id="node17" href="memcontrol_8c.html#a41a1fb2f5988bc20ed9da30106fb7a86" title="mem_cgroup_from_id" alt="" coords="1316,461,1463,488"/>
<area shape="rect" id="node18" href="memcontrol_8c.html#a77f1689f28af86992231148e25a7ac50" title="get_mem_cgroup_from_mm" alt="" coords="1297,360,1481,387"/>
<area shape="rect" id="node20" href="memcontrol_8c.html#a692eb56f646c265c674a6d79b8f9ec7f" title="try_charge" alt="" coords="1348,309,1431,336"/>
<area shape="rect" id="node16" href="swap__cgroup_8c.html#a67cb229600ff474aa7a43ef836da02b7" title="lookup_swap_cgroup" alt="" coords="1554,411,1698,437"/>
<area shape="rect" id="node19" href="memcontrol_8c.html#a1b8c8e61fb22691c32b77b8f8c03fa5e" title="mem_cgroup_from_task" alt="" coords="1545,360,1707,387"/>
<area shape="rect" id="node21" href="memcontrol_8c.html#a1d29e3a343ecea93fe5ec1b73703cdc8" title="mem_cgroup_is_root" alt="" coords="1555,284,1697,311"/>
<area shape="rect" id="node22" href="memcontrol_8c.html#abf5f61cb1f1bac5685f48374083b1d2f" title="do_memsw_account" alt="" coords="1555,208,1697,235"/>
<area shape="rect" id="node24" href="memcontrol_8c.html#aa9d0da735fd94ba0e41a877e733a7914" title="cancel_charge" alt="" coords="1336,5,1443,32"/>
<area shape="rect" id="node27" href="memcontrol_8c.html#acec56880edbabf2b8d99275ab7eac76b" title="commit_charge" alt="" coords="1334,56,1445,83"/>
<area shape="rect" id="node28" href="memcontrol_8c.html#a517d01e3c96d09d3fe1dc3bb2c22ebf5" title="mem_cgroup_charge_statistics" alt="" coords="1288,107,1491,133"/>
<area shape="rect" id="node29" href="memcontrol_8c.html#ad92c4b4fdede5fa6f388e7258a5b6e82" title="memcg_check_events" alt="" coords="1313,157,1466,184"/>
<area shape="rect" id="node31" href="workingset_8c.html#a70576266c96ef44bbac392979a45141e" title="unpack_shadow" alt="" coords="1085,461,1201,488"/>
<area shape="rect" id="node32" href="vmscan_8c.html#ac6e47212df68d81fb9d150ac0ad0c8c3" title="lruvec_lru_size" alt="" coords="1089,411,1198,437"/>
<area shape="rect" id="node35" href="swap_8c.html#a56c294666fada4dc59379c54a7c85869" title="__lru_cache_add" alt="" coords="1083,512,1203,539"/>
<area shape="rect" id="node36" href="swap_8c.html#a73449535556c63c503df019ed58fd957" title="__pagevec_lru_add" alt="" coords="1322,664,1457,691"/>
<area shape="rect" id="node37" href="swap_8c.html#a3f742a51915df5de0e5c2c8009010cf6" title="pagevec_lru_move_fn" alt="" coords="1551,664,1701,691"/>
<area shape="rect" id="node40" href="swap_8c.html#a4de2cb6295fffa55f5d2475ea1dbc831" title="EXPORT_SYMBOL" alt="" coords="1557,613,1695,640"/>
<area shape="rect" id="node38" href="memcontrol_8c.html#ac336a298421ab4d2e24700ed0dfee8ab" title="mem_cgroup_page_lruvec" alt="" coords="1761,689,1936,716"/>
<area shape="rect" id="node39" href="memcontrol_8c.html#a47202e1c655c5e94af7604e85b125d4d" title="mem_cgroup_page_nodeinfo" alt="" coords="1984,689,2172,716"/>
<area shape="rect" id="node44" href="swap_8c.html#ab02804cd02017c8050f4e2501a1c2503" title="activate_page" alt="" coords="1092,715,1195,741"/>
<area shape="rect" id="node49" href="swap_8c.html#a0fdc141e879df6f3e982322743da65c8" title="__lru_cache_activate_page" alt="" coords="1053,765,1233,792"/>
<area shape="rect" id="node45" href="swap_8c.html#a2529ef2dc32dd5cb7850f44b6f9cd59b" title="__activate_page" alt="" coords="1331,765,1448,792"/>
<area shape="rect" id="node46" href="swap_8c.html#a3017c27b8708241cff8d2a54d98dbecc" title="update_page_reclaim_stat" alt="" coords="1539,883,1713,909"/>
<area shape="rect" id="node47" href="swap_8c.html#a8c67c37cdfbbedfa317e7c0f869582a8" title="activate_page_drain" alt="" coords="1557,765,1695,792"/>
<area shape="rect" id="node48" href="swap_8c.html#a329177ad2b8203ff1ec69c0ed4ee02d1" title="need_activate_page\l_drain" alt="" coords="1557,817,1695,858"/>
</map>
</div>

</div>
</div>
<a id="a7af4bf2ecedac8269e73e968973b6684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af4bf2ecedac8269e73e968973b6684">&#9670;&nbsp;</a></span>shmem_truncate_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shmem_truncate_range </td>
          <td>(</td>
          <td class="paramtype">struct inode *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>lstart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>lend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_a7af4bf2ecedac8269e73e968973b6684_cgraph.png" border="0" usemap="#shmem_8c_a7af4bf2ecedac8269e73e968973b6684_cgraph" alt=""/></div>
<map name="shmem_8c_a7af4bf2ecedac8269e73e968973b6684_cgraph" id="shmem_8c_a7af4bf2ecedac8269e73e968973b6684_cgraph">
<area shape="rect" id="node2" href="truncate_8c.html#a2bda1fcb249c68dfe2c995d93277d8bc" title="truncate_inode_pages\l_range" alt="" coords="223,422,373,463"/>
<area shape="rect" id="node50" href="shmem_8c.html#a46d3e66a05ca7d8a1496a5aaef876413" title="EXPORT_SYMBOL_GPL" alt="" coords="212,488,384,515"/>
<area shape="rect" id="node3" href="swap_8c.html#a8deb9f1a3b32cf7dc4aa5bccd27556d6" title="pagevec_lookup_entries" alt="" coords="451,39,614,65"/>
<area shape="rect" id="node5" href="filemap_8c.html#a7c56cad94a93fa5948a3a239c085602e" title="unlock_page" alt="" coords="485,148,580,175"/>
<area shape="rect" id="node10" href="truncate_8c.html#a79a444c8c50278e343db4282b17de9a8" title="truncate_cleanup_page" alt="" coords="687,429,843,456"/>
<area shape="rect" id="node27" href="truncate_8c.html#ac24d0b0d7749ee82f94a553cde76d7f3" title="do_invalidatepage" alt="" coords="916,505,1043,532"/>
<area shape="rect" id="node28" href="filemap_8c.html#a88c4acce84e90feddacdad739bf7598e" title="delete_from_page_cache\l_batch" alt="" coords="896,389,1063,430"/>
<area shape="rect" id="node36" href="truncate_8c.html#a6c92c269098c7e286c3f75f63fb8a992" title="truncate_exceptional\l_pvec_entries" alt="" coords="461,582,604,623"/>
<area shape="rect" id="node43" href="swap_8c.html#a939ae95f91bcbe7b4c93ee8da2a717ac" title="pagevec_remove_exceptionals" alt="" coords="432,531,633,557"/>
<area shape="rect" id="node44" href="truncate_8c.html#a3fb1d50447ec75b56010088a80f0cc5f" title="truncate_inode_page" alt="" coords="461,328,604,355"/>
<area shape="rect" id="node49" href="truncate_8c.html#a3f7122b3a0bf131f9fea41ddb58b9c6c" title="EXPORT_SYMBOL" alt="" coords="463,648,602,675"/>
<area shape="rect" id="node4" href="filemap_8c.html#a857f5cf9eb6f47d3a563845ed674ec7a" title="find_get_entries" alt="" coords="707,5,822,32"/>
<area shape="rect" id="node6" href="filemap_8c.html#a09dd6ad3845bd285620d1c7de196d263" title="clear_bit_unlock_is\l_negative_byte" alt="" coords="698,57,831,98"/>
<area shape="rect" id="node7" href="filemap_8c.html#a6e8111d76b87dd86ff4f0f53e2d87469" title="wake_up_page_bit" alt="" coords="699,123,830,149"/>
<area shape="rect" id="node9" href="filemap_8c.html#a44ac116b460b92ab7fe29579b5f39e96" title="EXPORT_SYMBOL" alt="" coords="910,119,1049,145"/>
<area shape="rect" id="node8" href="filemap_8c.html#a8d7c07ee694e87d718f95019f60630bc" title="page_waitqueue" alt="" coords="921,68,1037,95"/>
<area shape="rect" id="node11" href="util_8c.html#a50fab1cec74721413aaac7a0014479a4" title="page_mapped" alt="" coords="1396,217,1499,244"/>
<area shape="rect" id="node15" href="memory_8c.html#afb3cdfd244b83569cc07806d0f3420da" title="unmap_mapping_pages" alt="" coords="900,455,1059,481"/>
<area shape="rect" id="node12" href="hugetlb_8c.html#ae902859beabc80612b29ff8e0d3a1169" title="PageHuge" alt="" coords="1627,369,1710,396"/>
<area shape="rect" id="node14" href="util_8c.html#a512c1d72bf755e9b5eda83c17b40530b" title="EXPORT_SYMBOL" alt="" coords="1599,205,1738,232"/>
<area shape="rect" id="node13" href="hugetlb_8c.html#a48f2549647e95da89eefd8338c35cb0e" title="EXPORT_SYMBOL_GPL" alt="" coords="1796,369,1968,396"/>
<area shape="rect" id="node16" href="memory_8c.html#a111b5262df9230d8425caa6dd081b7e3" title="unmap_mapping_range_tree" alt="" coords="1115,521,1301,548"/>
<area shape="rect" id="node17" href="memory_8c.html#a9d32868d66b254f8dc97141a6f251471" title="unmap_mapping_range_vma" alt="" coords="1353,521,1541,548"/>
<area shape="rect" id="node18" href="memory_8c.html#a6c1053a487ed07494b613d2f82a49be8" title="zap_page_range_single" alt="" coords="1589,521,1748,548"/>
<area shape="rect" id="node19" href="swap_8c.html#ab1c0247474c324ec2b4a26d5c3e57955" title="lru_add_drain" alt="" coords="1833,597,1931,624"/>
<area shape="rect" id="node22" href="memory_8c.html#a90ff76a9bfd9a49acb26278b05d68b0a" title="tlb_gather_mmu" alt="" coords="1825,445,1939,472"/>
<area shape="rect" id="node23" href="memory_8c.html#aaadb06b8d7ac46d3bdada3856c0eca6e" title="unmap_single_vma" alt="" coords="1815,496,1949,523"/>
<area shape="rect" id="node26" href="memory_8c.html#a090ea094d91b18737f660f2b6d1cd9bc" title="tlb_finish_mmu" alt="" coords="1827,547,1937,573"/>
<area shape="rect" id="node20" href="swap_8c.html#af45ab7c311a3a462f207ff31cf7d4a69" title="lru_add_drain_cpu" alt="" coords="2041,597,2168,624"/>
<area shape="rect" id="node21" href="swap_8c.html#a73449535556c63c503df019ed58fd957" title="__pagevec_lru_add" alt="" coords="2241,597,2376,624"/>
<area shape="rect" id="node24" href="hugetlb_8c.html#a4da60f51ab6101aa3562d7dcd09f4614" title="__unmap_hugepage_range\l_final" alt="" coords="2016,510,2193,551"/>
<area shape="rect" id="node25" href="memory_8c.html#a81bc20ca8999c2e833873d94a2aa0dd6" title="unmap_page_range" alt="" coords="2037,459,2172,485"/>
<area shape="rect" id="node29" href="filemap_8c.html#a4c0b33dccf2b646923a7a5b72efc7645" title="unaccount_page_cache_page" alt="" coords="1111,275,1305,301"/>
<area shape="rect" id="node34" href="filemap_8c.html#a5651ae4512cea2baba6a303dbd96a6db" title="page_cache_tree_delete\l_batch" alt="" coords="1127,450,1289,491"/>
<area shape="rect" id="node35" href="filemap_8c.html#afd4ac3f93363a3e23f97a4666775b2e6" title="page_cache_free_page" alt="" coords="1130,396,1286,423"/>
<area shape="rect" id="node30" href="debug_8c.html#ada492eebbcb4d84055f11c3e0d95f647" title="dump_page" alt="" coords="1403,116,1492,143"/>
<area shape="rect" id="node33" href="page-writeback_8c.html#a29eb9804ca6f0d1c8778aa0463f08805" title="account_page_cleaned" alt="" coords="1370,268,1525,295"/>
<area shape="rect" id="node31" href="debug_8c.html#a9964bf1b226807ee36658d2f61c5dfdd" title="__dump_page" alt="" coords="1617,129,1720,156"/>
<area shape="rect" id="node32" href="debug_8c.html#a9824e3822cff92f78a202fa85f9fedff" title="EXPORT_SYMBOL" alt="" coords="1599,79,1738,105"/>
<area shape="rect" id="node37" href="truncate_8c.html#a8ac104807212b74ce949e2634bf24c17" title="__clear_shadow_entry" alt="" coords="689,589,841,616"/>
<area shape="rect" id="node38" href="workingset_8c.html#ad5a62c422cb1618b66779a025b5a1a21" title="workingset_update_node" alt="" coords="896,589,1063,616"/>
<area shape="rect" id="node39" href="list__lru_8c.html#afbc808e1900ecab502f89a62b46b8533" title="list_lru_add" alt="" coords="1164,572,1252,599"/>
<area shape="rect" id="node42" href="list__lru_8c.html#a9504dedba201b84d59afa1617495a406" title="list_lru_del" alt="" coords="1166,623,1250,649"/>
<area shape="rect" id="node40" href="list__lru_8c.html#a703491df107b370cc0d1a03b04bfdf96" title="list_lru_from_kmem" alt="" coords="1379,572,1515,599"/>
<area shape="rect" id="node41" href="list__lru_8c.html#a67e315d00d1d831feb26e98f3572e908" title="EXPORT_SYMBOL_GPL" alt="" coords="1361,623,1533,649"/>
<area shape="rect" id="node45" href="filemap_8c.html#aae3703e23ca66a6606c783e99ed64346" title="delete_from_page_cache" alt="" coords="681,279,848,305"/>
<area shape="rect" id="node46" href="util_8c.html#a62aeea79aa4d8a67e97a59093031a31b" title="page_mapping" alt="" coords="1394,167,1501,193"/>
<area shape="rect" id="node47" href="filemap_8c.html#a20bb33f646cfbb7cf7c7290751b9f495" title="__delete_from_page\l_cache" alt="" coords="910,271,1049,313"/>
<area shape="rect" id="node48" href="filemap_8c.html#a54f4db297121a8add62ed67f26cfb904" title="page_cache_tree_delete" alt="" coords="1127,337,1289,364"/>
</map>
</div>

</div>
</div>
<a id="a8a54e40adfa29f043e6a1c64e2d72091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a54e40adfa29f043e6a1c64e2d72091">&#9670;&nbsp;</a></span>shmem_unlock_mapping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shmem_unlock_mapping </td>
          <td>(</td>
          <td class="paramtype">struct address_space *&#160;</td>
          <td class="paramname"><em>mapping</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac299267593c3b7ef0e452ecf3005cfdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac299267593c3b7ef0e452ecf3005cfdc">&#9670;&nbsp;</a></span>shmem_unuse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shmem_unuse </td>
          <td>(</td>
          <td class="paramtype">swp_entry_t&#160;</td>
          <td class="paramname"><em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct page *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_ac299267593c3b7ef0e452ecf3005cfdc_icgraph.png" border="0" usemap="#shmem_8c_ac299267593c3b7ef0e452ecf3005cfdc_icgraph" alt=""/></div>
<map name="shmem_8c_ac299267593c3b7ef0e452ecf3005cfdc_icgraph" id="shmem_8c_ac299267593c3b7ef0e452ecf3005cfdc_icgraph">
<area shape="rect" id="node2" href="swapfile_8c.html#ae10f213c9360b5774d0fb0bad0e06788" title="try_to_unuse" alt="" coords="160,31,257,57"/>
<area shape="rect" id="node3" href="frontswap_8c.html#a2ebc45616ea5d4637309b8cf3dc30235" title="frontswap_shrink" alt="" coords="318,5,439,32"/>
<area shape="rect" id="node4" href="swapfile_8c.html#ab77da03d81581d8413ec7a363eef8a56" title="SYSCALL_DEFINE1" alt="" coords="305,56,452,83"/>
</map>
</div>

</div>
</div>
<a id="aacf911338b86951033b4450f5bb0003f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacf911338b86951033b4450f5bb0003f">&#9670;&nbsp;</a></span>shmem_zero_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shmem_zero_setup </td>
          <td>(</td>
          <td class="paramtype">struct vm_area_struct *&#160;</td>
          <td class="paramname"><em>vma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>shmem_zero_setup - setup a shared anonymous mapping : the vma to be mmapped is prepared by do_mmap_pgoff </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_aacf911338b86951033b4450f5bb0003f_cgraph.png" border="0" usemap="#shmem_8c_aacf911338b86951033b4450f5bb0003f_cgraph" alt=""/></div>
<map name="shmem_8c_aacf911338b86951033b4450f5bb0003f_cgraph" id="shmem_8c_aacf911338b86951033b4450f5bb0003f_cgraph">
<area shape="rect" id="node2" href="shmem_8c.html#ab038350ca7726099d46aa0a265931956" title="shmem_kernel_file_setup" alt="" coords="189,5,360,32"/>
<area shape="rect" id="node3" href="shmem_8c.html#a59a729f88526135bd45c5f608844db58" title="__shmem_file_setup" alt="" coords="408,5,551,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="shmem_8c_aacf911338b86951033b4450f5bb0003f_icgraph.png" border="0" usemap="#shmem_8c_aacf911338b86951033b4450f5bb0003f_icgraph" alt=""/></div>
<map name="shmem_8c_aacf911338b86951033b4450f5bb0003f_icgraph" id="shmem_8c_aacf911338b86951033b4450f5bb0003f_icgraph">
<area shape="rect" id="node2" href="mmap_8c.html#a8ae5dadcb1725a0e8a7bf09b21e066ce" title="mmap_region" alt="" coords="189,5,289,32"/>
<area shape="rect" id="node3" href="mmap_8c.html#a7c2706c91d5621e24c36deb9bec3728b" title="do_mmap" alt="" coords="337,5,416,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3ec35a37e61fba6e493f7b0bed788db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec35a37e61fba6e493f7b0bed788db2">&#9670;&nbsp;</a></span>anon_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct dentry_operations anon_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .d_dname = simple_dname</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="a1222bd2604d772af703ab245e5396c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1222bd2604d772af703ab245e5396c47">&#9670;&nbsp;</a></span>shm_mnt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct vfsmount* shm_mnt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7dbd8992221c5bdd2bf2c7cb6808722e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dbd8992221c5bdd2bf2c7cb6808722e">&#9670;&nbsp;</a></span>shmem_fs_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct file_system_type shmem_fs_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .name       = <span class="stringliteral">&quot;tmpfs&quot;</span>,</div><div class="line">    .mount      = ramfs_mount,</div><div class="line">    .kill_sb    = kill_litter_super,</div><div class="line">    .fs_flags   = FS_USERNS_MOUNT,</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="shmem_8c.html">shmem.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
