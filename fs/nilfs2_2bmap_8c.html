<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/bmap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nilfs2_2bmap_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bmap.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/string.h&gt;</code><br />
<code>#include &lt;linux/errno.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nilfs_8h_source.html">nilfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2bmap_8h_source.html">bmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2btree_8h_source.html">btree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="direct_8h_source.html">direct.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btnode_8h_source.html">btnode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdt_8h_source.html">mdt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dat_8h_source.html">dat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2alloc_8h_source.html">alloc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bmap.c:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c__incl.png" border="0" usemap="#nilfs2_2bmap_8c" alt=""/></div>
<map name="nilfs2_2bmap_8c" id="nilfs2_2bmap_8c">
<area shape="rect" id="node5" href="nilfs_8h.html" title="nilfs.h" alt="" coords="412,229,469,256"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="1056,304,1121,331"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="883,379,943,405"/>
<area shape="rect" id="node20" href="dat_8h.html" title="dat.h" alt="" coords="1119,379,1170,405"/>
<area shape="rect" id="node21" href="nilfs2_2btree_8h.html" title="btree.h" alt="" coords="967,229,1029,256"/>
<area shape="rect" id="node23" href="btnode_8h.html" title="btnode.h" alt="" coords="533,379,605,405"/>
<area shape="rect" id="node24" href="direct_8h.html" title="direct.h" alt="" coords="1145,229,1211,256"/>
<area shape="rect" id="node25" href="mdt_8h.html" title="mdt.h" alt="" coords="665,80,720,107"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="234,379,317,405"/>
<area shape="rect" id="node27" href="page_8h.html" title="page.h" alt="" coords="662,155,723,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae58d2ac5f5d520ed6f67660e258b05ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#ae58d2ac5f5d520ed6f67660e258b05ea">NILFS_BMAP_GROUP_DIV</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ae58d2ac5f5d520ed6f67660e258b05ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aef6e9d2acff7b7d161389bb790483d06"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06">nilfs_bmap_get_dat</a> (const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>)</td></tr>
<tr class="separator:aef6e9d2acff7b7d161389bb790483d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7ea41075313d317e5036ebc1fbbe3b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b">nilfs_bmap_convert_error</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, const char *<a class="el" href="structfname.html">fname</a>, int err)</td></tr>
<tr class="separator:a7a7ea41075313d317e5036ebc1fbbe3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ec88eea126f6a0861c9da00aadb1d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a01ec88eea126f6a0861c9da00aadb1d7">nilfs_bmap_lookup_at_level</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, __u64 *ptrp)</td></tr>
<tr class="separator:a01ec88eea126f6a0861c9da00aadb1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562a4fcb04f5c54344afe05639c86914"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a562a4fcb04f5c54344afe05639c86914">nilfs_bmap_lookup_contig</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, __u64 *ptrp, unsigned int maxblocks)</td></tr>
<tr class="separator:a562a4fcb04f5c54344afe05639c86914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f71baa604f8d2043ceb4c11aa72ff3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3">nilfs_bmap_do_insert</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, __u64 ptr)</td></tr>
<tr class="separator:ac5f71baa604f8d2043ceb4c11aa72ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7fd87b553f99a5d10b2f1d0cbbec0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b">nilfs_bmap_insert</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, unsigned long rec)</td></tr>
<tr class="separator:a4e7fd87b553f99a5d10b2f1d0cbbec0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e619b4cf86165cb313e3e79ddc1964"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964">nilfs_bmap_do_delete</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a54e619b4cf86165cb313e3e79ddc1964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb8b386860fba82ebb80f18f00c50d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3">nilfs_bmap_seek_key</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, __u64 *keyp)</td></tr>
<tr class="separator:a0eb8b386860fba82ebb80f18f00c50d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a08ae054741730726fedb65362f507f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f">nilfs_bmap_last_key</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 *keyp)</td></tr>
<tr class="separator:a8a08ae054741730726fedb65362f507f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8c849b61993e58b8939b406cc3d72a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a">nilfs_bmap_delete</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a4d8c849b61993e58b8939b406cc3d72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175d4ecf6f57fcfbda44e32328fec75f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a175d4ecf6f57fcfbda44e32328fec75f">nilfs_bmap_do_truncate</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a175d4ecf6f57fcfbda44e32328fec75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcaab699f36844da5c7ccdc6c4342dee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#adcaab699f36844da5c7ccdc6c4342dee">nilfs_bmap_truncate</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:adcaab699f36844da5c7ccdc6c4342dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02b8b49a6e0b1beaaa401cb9f2f8bb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#ab02b8b49a6e0b1beaaa401cb9f2f8bb8">nilfs_bmap_clear</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>)</td></tr>
<tr class="separator:ab02b8b49a6e0b1beaaa401cb9f2f8bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb743019402ac67c539a449d627a07da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#afb743019402ac67c539a449d627a07da">nilfs_bmap_propagate</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, struct buffer_head *bh)</td></tr>
<tr class="separator:afb743019402ac67c539a449d627a07da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dba5d9babfbd2aac577674ebe5acf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a63dba5d9babfbd2aac577674ebe5acf2">nilfs_bmap_lookup_dirty_buffers</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, struct list_head *listp)</td></tr>
<tr class="separator:a63dba5d9babfbd2aac577674ebe5acf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0916dd1fafed37f0de176751552782b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a0916dd1fafed37f0de176751552782b4">nilfs_bmap_assign</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, struct buffer_head **bh, unsigned long blocknr, union nilfs_binfo *binfo)</td></tr>
<tr class="separator:a0916dd1fafed37f0de176751552782b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada48e8abd9d75673881ee7c8fb799d00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#ada48e8abd9d75673881ee7c8fb799d00">nilfs_bmap_mark</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>)</td></tr>
<tr class="separator:ada48e8abd9d75673881ee7c8fb799d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6183fc85d304f3be2788b7d5fd0771c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c">nilfs_bmap_test_and_clear_dirty</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>)</td></tr>
<tr class="separator:ac6183fc85d304f3be2788b7d5fd0771c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535a6a45690cb3d518108a2565a2a217"><td class="memItemLeft" align="right" valign="top">__u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a535a6a45690cb3d518108a2565a2a217">nilfs_bmap_data_get_key</a> (const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, const struct buffer_head *bh)</td></tr>
<tr class="separator:a535a6a45690cb3d518108a2565a2a217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e78ff327c425dcbcbf5fc71e2968c3d"><td class="memItemLeft" align="right" valign="top">__u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a9e78ff327c425dcbcbf5fc71e2968c3d">nilfs_bmap_find_target_seq</a> (const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, __u64 <a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a9e78ff327c425dcbcbf5fc71e2968c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff09e0b7867066d5fd7a838181816d6a"><td class="memItemLeft" align="right" valign="top">__u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#aff09e0b7867066d5fd7a838181816d6a">nilfs_bmap_find_target_in_group</a> (const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>)</td></tr>
<tr class="separator:aff09e0b7867066d5fd7a838181816d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dab812b511c175bcc95dd9221f82172"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a1dab812b511c175bcc95dd9221f82172">nilfs_bmap_read</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, struct nilfs_inode *raw_inode)</td></tr>
<tr class="separator:a1dab812b511c175bcc95dd9221f82172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac580a6c63197dea17f308f83a2a9bd08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#ac580a6c63197dea17f308f83a2a9bd08">nilfs_bmap_write</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, struct nilfs_inode *raw_inode)</td></tr>
<tr class="separator:ac580a6c63197dea17f308f83a2a9bd08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38787acb7ae6f453116bac88c530f3f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a38787acb7ae6f453116bac88c530f3f4">nilfs_bmap_init_gc</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>)</td></tr>
<tr class="separator:a38787acb7ae6f453116bac88c530f3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa549c9215d24ae7f44f0128fa9d81f98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#aa549c9215d24ae7f44f0128fa9d81f98">nilfs_bmap_save</a> (const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, struct <a class="el" href="structnilfs__bmap__store.html">nilfs_bmap_store</a> *store)</td></tr>
<tr class="separator:aa549c9215d24ae7f44f0128fa9d81f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd222edab3f6a8ce0617e4f9659472a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#aefd222edab3f6a8ce0617e4f9659472a">nilfs_bmap_restore</a> (struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *<a class="el" href="structbmap.html">bmap</a>, const struct <a class="el" href="structnilfs__bmap__store.html">nilfs_bmap_store</a> *store)</td></tr>
<tr class="separator:aefd222edab3f6a8ce0617e4f9659472a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a425e209932ff53a9965a0073760d292b"><td class="memItemLeft" align="right" valign="top">static struct lock_class_key&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a425e209932ff53a9965a0073760d292b">nilfs_bmap_dat_lock_key</a></td></tr>
<tr class="separator:a425e209932ff53a9965a0073760d292b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1398a0ec15fbc09c110caf74366b7080"><td class="memItemLeft" align="right" valign="top">static struct lock_class_key&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2bmap_8c.html#a1398a0ec15fbc09c110caf74366b7080">nilfs_bmap_mdt_lock_key</a></td></tr>
<tr class="separator:a1398a0ec15fbc09c110caf74366b7080"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae58d2ac5f5d520ed6f67660e258b05ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58d2ac5f5d520ed6f67660e258b05ea">&#9670;&nbsp;</a></span>NILFS_BMAP_GROUP_DIV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_BMAP_GROUP_DIV&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0916dd1fafed37f0de176751552782b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0916dd1fafed37f0de176751552782b4">&#9670;&nbsp;</a></span>nilfs_bmap_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_assign </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>blocknr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union nilfs_binfo *&#160;</td>
          <td class="paramname"><em>binfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_assign - assign a new block number to a block : bmap : pointer to buffer head : block number : block information</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#a0916dd1fafed37f0de176751552782b4">nilfs_bmap_assign()</a> assigns the block number  to the buffer specified by .</p>
<p>Return Value: On success, 0 is returned and the buffer head of a newly create buffer and the block information associated with the buffer are stored in the place pointed by  and , respectively. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_cgraph" id="nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="184,318,319,359"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="367,325,460,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="508,325,612,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="660,300,795,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="660,351,795,377"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="843,300,1004,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="863,351,983,377"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1244,300,1380,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1063,351,1185,377"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1052,402,1196,443"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1428,249,1581,276"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1821,275,1959,301"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1651,300,1751,327"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1463,81,1546,108"/>
<area shape="rect" id="node11" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1648,132,1753,159"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1629,183,1772,225"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1644,31,1757,57"/>
<area shape="rect" id="node17" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1820,56,1960,83"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1837,5,1943,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_icgraph" id="nilfs2_2bmap_8c_a0916dd1fafed37f0de176751552782b4_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="184,345,327,386"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="375,352,516,379"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="564,352,743,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1418,286,1567,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1209,411,1367,437"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="791,345,975,386"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1639,200,1745,227"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1634,301,1750,328"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1843,149,1963,176"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2059,107,2173,133"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2051,208,2181,235"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2283,157,2372,184"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2281,5,2373,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2278,56,2377,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2285,107,2370,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2289,232,2366,259"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1419,352,1567,379"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1423,403,1562,445"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1415,469,1571,496"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1813,352,1992,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1623,411,1761,437"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1838,403,1967,445"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2040,411,2192,437"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2594,436,2699,463"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2277,512,2377,539"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2240,461,2415,488"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2758,499,2847,525"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2463,461,2540,488"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2588,575,2705,601"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2753,575,2852,601"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1619,469,1765,496"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1825,469,1980,496"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2061,563,2171,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1023,185,1161,226"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1214,352,1362,379"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1219,149,1357,176"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1443,99,1543,125"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1433,149,1552,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1633,251,1751,277"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1647,99,1737,125"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1843,235,1962,261"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1833,286,1972,327"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2045,309,2187,336"/>
</map>
</div>

</div>
</div>
<a id="ab02b8b49a6e0b1beaaa401cb9f2f8bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab02b8b49a6e0b1beaaa401cb9f2f8bb8">&#9670;&nbsp;</a></span>nilfs_bmap_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_bmap_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_clear - free resources a bmap holds : bmap</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#ab02b8b49a6e0b1beaaa401cb9f2f8bb8">nilfs_bmap_clear()</a> frees resources associated with . </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ab02b8b49a6e0b1beaaa401cb9f2f8bb8_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ab02b8b49a6e0b1beaaa401cb9f2f8bb8_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ab02b8b49a6e0b1beaaa401cb9f2f8bb8_icgraph" id="nilfs2_2bmap_8c_ab02b8b49a6e0b1beaaa401cb9f2f8bb8_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="173,139,292,165"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="340,139,459,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="507,139,627,165"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="683,111,797,137"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="675,164,805,191"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="858,5,947,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="857,56,949,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="853,107,952,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="860,157,945,184"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="864,232,941,259"/>
</map>
</div>

</div>
</div>
<a id="a7a7ea41075313d317e5036ebc1fbbe3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a7ea41075313d317e5036ebc1fbbe3b">&#9670;&nbsp;</a></span>nilfs_bmap_convert_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_bmap_convert_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_cgraph" id="nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="188,325,281,352"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="329,325,433,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="481,300,616,327"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="481,351,616,377"/>
<area shape="rect" id="node5" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="664,300,825,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="685,351,805,377"/>
<area shape="rect" id="node8" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1065,300,1201,327"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="884,351,1007,377"/>
<area shape="rect" id="node19" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="873,402,1017,443"/>
<area shape="rect" id="node9" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1249,249,1403,276"/>
<area shape="rect" id="node12" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1642,275,1781,301"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1472,300,1572,327"/>
<area shape="rect" id="node14" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1285,81,1367,108"/>
<area shape="rect" id="node10" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1469,132,1575,159"/>
<area shape="rect" id="node11" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1451,183,1593,225"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1465,31,1579,57"/>
<area shape="rect" id="node16" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1641,56,1781,83"/>
<area shape="rect" id="node17" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1658,5,1765,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_icgraph" id="nilfs2_2bmap_8c_a7a7ea41075313d317e5036ebc1fbbe3b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="200,208,348,249"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a2db2c217075b59d70517b64fd3ce2337" title="nilfs_bmap_lookup_contig" alt="" coords="188,573,360,599"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="212,725,336,751"/>
<area shape="rect" id="node30" href="nilfs2_2bmap_8h.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="821,54,969,81"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8h.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="203,826,345,853"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8h.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="211,913,337,939"/>
<area shape="rect" id="node41" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="205,775,343,802"/>
<area shape="rect" id="node42" href="nilfs2_2bmap_8h.html#a4e4d1e3c6c00e6c90ef028015ab36b42" title="nilfs_bmap_propagate" alt="" coords="199,1059,349,1086"/>
<area shape="rect" id="node47" href="nilfs2_2bmap_8h.html#ab86d5dcef542a000d11ba96af676b5f0" title="nilfs_bmap_assign" alt="" coords="209,1165,339,1191"/>
<area shape="rect" id="node50" href="nilfs2_2bmap_8h.html#aee687b837e89608c14c2697b08fa2a71" title="nilfs_bmap_mark" alt="" coords="213,127,335,154"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="426,223,549,264"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="408,105,567,147"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="422,171,553,198"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ae74437bf40467cd7ef392867b1506518" title="nilfs_ioctl_get_bdescs" alt="" coords="619,227,769,254"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="857,322,934,349"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1028,547,1148,574"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="631,105,757,147"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="821,105,969,131"/>
<area shape="rect" id="node11" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="615,173,773,199"/>
<area shape="rect" id="node12" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="823,206,968,233"/>
<area shape="rect" id="node13" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1017,130,1159,157"/>
<area shape="rect" id="node14" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="1207,123,1389,164"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="433,573,542,599"/>
<area shape="rect" id="node26" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="849,455,941,482"/>
<area shape="rect" id="node17" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="625,598,763,625"/>
<area shape="rect" id="node19" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="627,395,761,422"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="641,446,747,473"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="637,497,751,523"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="635,649,753,675"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="641,699,747,726"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="644,801,744,827"/>
<area shape="rect" id="node25" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="625,329,763,371"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="846,598,945,625"/>
<area shape="rect" id="node28" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="415,733,560,775"/>
<area shape="rect" id="node29" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="616,750,772,777"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="418,810,557,837"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="424,883,551,924"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="836,813,955,839"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="631,903,757,944"/>
<area shape="rect" id="node37" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="410,978,565,1005"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="629,1033,759,1075"/>
<area shape="rect" id="node39" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="629,1099,759,1140"/>
<area shape="rect" id="node40" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="615,968,773,1009"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="414,1146,561,1173"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2" title="nilfs_collect_file_node" alt="" coords="412,1034,563,1061"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="413,1085,561,1111"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="629,1164,759,1205"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="416,1219,559,1260"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="623,1230,765,1257"/>
</map>
</div>

</div>
</div>
<a id="a535a6a45690cb3d518108a2565a2a217"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a535a6a45690cb3d518108a2565a2a217">&#9670;&nbsp;</a></span>nilfs_bmap_data_get_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u64 nilfs_bmap_data_get_key </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a535a6a45690cb3d518108a2565a2a217_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a535a6a45690cb3d518108a2565a2a217_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a535a6a45690cb3d518108a2565a2a217_icgraph" id="nilfs2_2bmap_8c_a535a6a45690cb3d518108a2565a2a217_icgraph">
<area shape="rect" id="node2" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="233,461,379,488"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="243,512,369,539"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="232,563,380,589"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="224,613,388,640"/>
<area shape="rect" id="node49" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="231,664,381,691"/>
<area shape="rect" id="node50" href="nilfs2_2direct_8c.html#ab01e002da82f61015e84db7f67bc3fe6" title="nilfs_direct_assign" alt="" coords="241,715,371,741"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="439,541,571,582"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="436,606,575,647"/>
<area shape="rect" id="node48" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="443,672,567,699"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="628,548,749,575"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="623,606,755,647"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="803,613,948,640"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="996,613,1120,640"/>
<area shape="rect" id="node12" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1186,512,1295,539"/>
<area shape="rect" id="node41" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1168,635,1313,677"/>
<area shape="rect" id="node13" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="1370,309,1509,336"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1781,360,1901,387"/>
<area shape="rect" id="node30" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="1372,664,1507,691"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="1386,715,1493,741"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="1383,208,1496,235"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1782,520,1901,547"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="1386,259,1493,285"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1389,487,1489,513"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1772,587,1911,629"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1585,208,1684,235"/>
<area shape="rect" id="node24" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1584,157,1685,184"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1573,259,1697,285"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1571,309,1699,336"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1793,208,1889,235"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1992,107,2107,133"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1984,411,2115,437"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2211,107,2300,133"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2209,5,2301,32"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2206,56,2305,83"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2213,157,2298,184"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2217,385,2294,412"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1991,56,2107,83"/>
<area shape="rect" id="node26" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1805,107,1878,133"/>
<area shape="rect" id="node28" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1787,259,1895,285"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1575,512,1694,539"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1589,461,1680,488"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1979,595,2120,621"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2168,595,2343,621"/>
<area shape="rect" id="node42" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1361,765,1517,792"/>
<area shape="rect" id="node43" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="1565,765,1704,792"/>
<area shape="rect" id="node44" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1762,815,1921,857"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1766,881,1917,908"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1764,685,1919,726"/>
<area shape="rect" id="node47" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="1752,750,1931,791"/>
</map>
</div>

</div>
</div>
<a id="a4d8c849b61993e58b8939b406cc3d72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8c849b61993e58b8939b406cc3d72a">&#9670;&nbsp;</a></span>nilfs_bmap_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_delete - delete a key-record pair from a bmap : bmap : key</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a">nilfs_bmap_delete()</a> deletes the key-record pair specified by  from .</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - A record associated with  does not exist. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_cgraph" id="nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="180,267,328,293"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="187,318,321,359"/>
<area shape="rect" id="node3" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="376,259,503,301"/>
<area shape="rect" id="node4" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="551,271,672,297"/>
<area shape="rect" id="node5" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="557,220,666,247"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="393,325,486,352"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="559,325,663,352"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="720,300,855,327"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="720,351,855,377"/>
<area shape="rect" id="node10" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="903,300,1064,327"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="923,351,1043,377"/>
<area shape="rect" id="node13" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1304,300,1440,327"/>
<area shape="rect" id="node23" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1123,351,1245,377"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1112,402,1256,443"/>
<area shape="rect" id="node14" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1488,249,1641,276"/>
<area shape="rect" id="node17" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1881,275,2019,301"/>
<area shape="rect" id="node18" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1711,300,1811,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1523,81,1606,108"/>
<area shape="rect" id="node15" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1708,132,1813,159"/>
<area shape="rect" id="node16" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1689,183,1832,225"/>
<area shape="rect" id="node20" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1704,31,1817,57"/>
<area shape="rect" id="node21" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1880,56,2020,83"/>
<area shape="rect" id="node22" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1897,5,2003,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_icgraph" id="nilfs2_2bmap_8c_a4d8c849b61993e58b8939b406cc3d72a_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="180,141,335,167"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="397,68,527,109"/>
<area shape="rect" id="node20" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="397,133,527,175"/>
<area shape="rect" id="node25" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="383,253,541,295"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="589,5,719,47"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="589,71,719,112"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="775,15,897,42"/>
<area shape="rect" id="node6" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="963,15,1070,42"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1133,15,1303,42"/>
<area shape="rect" id="node8" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1368,36,1495,77"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1555,69,1703,95"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2103,135,2223,162"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1751,69,1929,95"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1977,186,2055,213"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2279,135,2393,162"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2271,186,2401,213"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2454,59,2543,86"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2453,110,2545,137"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2449,161,2548,187"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2456,211,2541,238"/>
<area shape="rect" id="node21" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="953,132,1080,173"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1159,67,1277,108"/>
<area shape="rect" id="node23" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1155,132,1281,173"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1781,120,1899,161"/>
<area shape="rect" id="node26" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="767,372,905,413"/>
<area shape="rect" id="node27" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="953,379,1080,406"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1575,186,1682,213"/>
<area shape="rect" id="node30" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="1128,430,1308,457"/>
<area shape="rect" id="node29" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1781,186,1899,213"/>
<area shape="rect" id="node31" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1363,455,1500,482"/>
<area shape="rect" id="node34" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="1366,573,1497,599"/>
<area shape="rect" id="node40" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="1360,264,1503,305"/>
<area shape="rect" id="node42" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1372,674,1491,701"/>
<area shape="rect" id="node44" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1362,350,1501,377"/>
<area shape="rect" id="node47" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1356,405,1507,431"/>
<area shape="rect" id="node49" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1373,725,1489,751"/>
<area shape="rect" id="node32" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1569,455,1689,482"/>
<area shape="rect" id="node33" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1564,507,1693,548"/>
<area shape="rect" id="node35" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="1567,573,1690,599"/>
<area shape="rect" id="node37" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="1572,623,1685,650"/>
<area shape="rect" id="node39" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="1557,674,1700,701"/>
<area shape="rect" id="node36" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1763,616,1917,657"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1769,724,1911,765"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1772,237,1908,279"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1561,827,1696,868"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1767,303,1913,330"/>
<area shape="rect" id="node46" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="1557,339,1700,380"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1779,376,1901,417"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1556,893,1701,919"/>
</map>
</div>

</div>
</div>
<a id="a54e619b4cf86165cb313e3e79ddc1964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e619b4cf86165cb313e3e79ddc1964">&#9670;&nbsp;</a></span>nilfs_bmap_do_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_bmap_do_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_cgraph" id="nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_cgraph">
<area shape="rect" id="node2" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="201,23,328,65"/>
<area shape="rect" id="node3" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="376,5,497,32"/>
<area shape="rect" id="node4" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="382,56,491,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_icgraph" id="nilfs2_2bmap_8c_a54e619b4cf86165cb313e3e79ddc1964_icgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8h.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="218,488,345,515"/>
<area shape="rect" id="node41" href="nilfs2_2bmap_8c.html#a175d4ecf6f57fcfbda44e32328fec75f" title="nilfs_bmap_do_truncate" alt="" coords="201,555,361,582"/>
<area shape="rect" id="node3" href="mdt_8h.html#aee462900ac199be00a3cf832f5f7f154" title="nilfs_mdt_delete_block" alt="" coords="409,439,564,466"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="627,464,756,505"/>
<area shape="rect" id="node21" href="cpfile_8c.html#a3eae0b4142d9167d13e5d57535dbb5aa" title="nilfs_cpfile_delete\l_checkpoint_block" alt="" coords="626,398,757,440"/>
<area shape="rect" id="node26" href="sufile_8c.html#a6c6906f2fa7470c98e36fadfed86c294" title="nilfs_sufile_delete\l_segment_usage_block" alt="" coords="612,289,771,330"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="823,522,953,564"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="823,457,953,498"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1007,527,1130,554"/>
<area shape="rect" id="node7" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1217,527,1323,554"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1408,527,1577,554"/>
<area shape="rect" id="node9" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1631,472,1758,513"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1812,442,1960,468"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2411,543,2531,570"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2008,442,2187,468"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2255,442,2333,468"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2601,543,2716,570"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2593,492,2724,519"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2782,467,2871,494"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2781,518,2873,544"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2777,568,2876,595"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2784,619,2869,646"/>
<area shape="rect" id="node22" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1207,402,1333,444"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="1433,461,1552,502"/>
<area shape="rect" id="node24" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="1631,393,1758,434"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1827,376,1945,417"/>
<area shape="rect" id="node27" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="819,242,957,284"/>
<area shape="rect" id="node28" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="1005,199,1132,226"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1641,199,1748,226"/>
<area shape="rect" id="node31" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="1180,199,1360,226"/>
<area shape="rect" id="node30" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="2038,292,2157,319"/>
<area shape="rect" id="node32" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1424,258,1561,284"/>
<area shape="rect" id="node35" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="1427,359,1558,386"/>
<area shape="rect" id="node36" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="1421,192,1564,233"/>
<area shape="rect" id="node37" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1433,39,1552,66"/>
<area shape="rect" id="node38" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1423,90,1562,116"/>
<area shape="rect" id="node39" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1417,140,1568,167"/>
<area shape="rect" id="node40" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1435,308,1551,335"/>
<area shape="rect" id="node33" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1635,254,1755,280"/>
<area shape="rect" id="node34" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1630,305,1759,346"/>
<area shape="rect" id="node42" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="1625,588,1764,615"/>
<area shape="rect" id="node43" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1817,588,1955,615"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="2047,619,2147,646"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="2038,543,2157,570"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2235,695,2353,722"/>
<area shape="rect" id="node49" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2249,644,2339,671"/>
<area shape="rect" id="node46" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2411,666,2530,692"/>
<area shape="rect" id="node47" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2401,717,2540,758"/>
<area shape="rect" id="node48" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2588,724,2729,751"/>
</map>
</div>

</div>
</div>
<a id="ac5f71baa604f8d2043ceb4c11aa72ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5f71baa604f8d2043ceb4c11aa72ff3">&#9670;&nbsp;</a></span>nilfs_bmap_do_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_bmap_do_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_cgraph" id="nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_cgraph">
<area shape="rect" id="node2" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="199,724,331,765"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a6b425e1129c6131fb5f0d7018d2c6bb4" title="nilfs_btree_node_size" alt="" coords="1065,119,1213,146"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="388,1013,527,1055"/>
<area shape="rect" id="node26" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="603,508,742,549"/>
<area shape="rect" id="node46" href="nilfs2_2inode_8c.html#a4c71b629def228b5da94615b61c71844" title="nilfs_inode_add_blocks" alt="" coords="379,1289,536,1315"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="591,994,755,1021"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1287,846,1421,873"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="605,829,740,871"/>
<area shape="rect" id="node21" href="nilfs2_2btree_8c.html#a138fc85ede4ab5e3710abf081f3b62fe" title="nilfs_btree_get_new\l_block" alt="" coords="603,1121,742,1163"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#a85dab214f0695b10c68e3383eb543a4a" title="nilfs_bmap_abort_alloc_ptr" alt="" coords="584,1058,761,1085"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a9e78ff327c425dcbcbf5fc71e2968c3d" title="nilfs_bmap_find_target_seq" alt="" coords="814,1019,995,1046"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#a27fffc667f6b2e8c87bcfd46f4ef6e32" title="nilfs_btree_find_near" alt="" coords="833,969,976,995"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8c.html#aff09e0b7867066d5fd7a838181816d6a" title="nilfs_bmap_find_target\l_in_group" alt="" coords="1062,809,1215,851"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#acff20bf162ecdde531518979c511e630" title="nilfs_btree_get_node" alt="" coords="1067,1027,1210,1054"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a4e5971c771cb11818cbe00ddc1436cac" title="nilfs_btree_height" alt="" coords="1292,1078,1416,1105"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#adeb0179c8c2aa4b1186a582df5ab417c" title="nilfs_btree_node_get_ptr" alt="" coords="1057,693,1221,719"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a17a122f397fd12734d718b7264231e4d" title="nilfs_btree_get_root" alt="" coords="1490,1027,1626,1054"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#a143d75b82b858e4161f7c7641da377d7" title="nilfs_btree_nchildren\l_per_block" alt="" coords="1283,961,1425,1003"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a105eb06cfffcb3e3faee8f48045f993d" title="nilfs_btree_node_dptrs" alt="" coords="1277,305,1431,331"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a0919f45613eeddfc774d8773bb15e88c" title="nilfs_btree_node_dkeys" alt="" coords="1479,254,1637,281"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="1287,744,1421,785"/>
<area shape="rect" id="node19" href="dat_8c.html#a847699730c6c40488a135453e5c0fe2d" title="nilfs_dat_prepare_alloc" alt="" coords="827,758,982,785"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a2526803bd330f64dcb666c31878f4eb4" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1070,744,1207,785"/>
<area shape="rect" id="node22" href="nilfs_8h.html#ab02aecb562f6c74a04aad6d769ac9f1e" title="NILFS_BMAP_I" alt="" coords="847,1187,963,1214"/>
<area shape="rect" id="node23" href="btnode_8c.html#aa637db552250ee79451b63053b89dd1d" title="nilfs_btnode_create\l_block" alt="" coords="837,1121,972,1163"/>
<area shape="rect" id="node25" href="dat_8c.html#a51c3495765ecf051e3877ecd35b04053" title="nilfs_dat_abort_alloc" alt="" coords="834,1070,975,1097"/>
<area shape="rect" id="node27" href="nilfs2_2btree_8c.html#a60fb1455ef3bef9737a4de47cbc2641a" title="__nilfs_btree_init" alt="" coords="845,177,965,203"/>
<area shape="rect" id="node28" href="nilfs2_2bmap_8h.html#aa56d4c2bd0d10c4825e4f8f741fe2a97" title="nilfs_bmap_commit_alloc_ptr" alt="" coords="809,439,1000,466"/>
<area shape="rect" id="node30" href="nilfs2_2btree_8c.html#a9c16906ee9e92036ce8fe7eb21056aea" title="nilfs_btree_node_init" alt="" coords="1068,170,1209,197"/>
<area shape="rect" id="node34" href="nilfs2_2btree_8c.html#ace5540d781453f6e73f0f0a2f5aa9a4e" title="nilfs_btree_node_insert" alt="" coords="1061,221,1217,247"/>
<area shape="rect" id="node36" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="843,490,966,517"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8h.html#a5399d2acb05251b7a62d8895ba4d4027" title="nilfs_bmap_dirty" alt="" coords="846,541,963,567"/>
<area shape="rect" id="node41" href="nilfs2_2bmap_8h.html#a11a06de14ca3db8d04843a2aadbb8d7f" title="nilfs_bmap_set_dirty" alt="" coords="833,591,976,618"/>
<area shape="rect" id="node42" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="823,379,987,406"/>
<area shape="rect" id="node29" href="dat_8c.html#aec0d4be9c58232055e7bb8221e0bd1d7" title="nilfs_dat_commit_alloc" alt="" coords="1061,439,1216,466"/>
<area shape="rect" id="node31" href="nilfs2_2btree_8c.html#a211b423c3541a37b1c30794ffb3467a4" title="nilfs_btree_node_set\l_flags" alt="" coords="1283,5,1425,47"/>
<area shape="rect" id="node32" href="nilfs2_2btree_8c.html#addd746d948cbce76236fe4b56bd483ce" title="nilfs_btree_node_set\l_level" alt="" coords="1283,71,1425,112"/>
<area shape="rect" id="node33" href="nilfs2_2btree_8c.html#af3f1a7d46b9b62280e52eb4fd4efbe26" title="nilfs_btree_node_set\l_nchildren" alt="" coords="1283,188,1425,229"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#a55d2c414d2839e3ab8aa38e93df992e8" title="nilfs_btree_node_get\l_nchildren" alt="" coords="1283,356,1425,397"/>
<area shape="rect" id="node37" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1078,541,1199,567"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1071,591,1206,618"/>
<area shape="rect" id="node39" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1069,490,1208,517"/>
<area shape="rect" id="node43" href="nilfs2_2bmap_8h.html#af32e85812bd6ab4405f97c0032e6c931" title="nilfs_bmap_data_get_key" alt="" coords="1053,322,1224,349"/>
<area shape="rect" id="node44" href="nilfs2_2bmap_8h.html#a995b6a1488fcc0373c566d8853cf7844" title="nilfs_bmap_find_target_seq" alt="" coords="1048,271,1229,298"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="1062,373,1215,415"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="637,1289,708,1315"/>
<area shape="rect" id="node48" href="stat_8c.html#a6d1a1cfe3332bd59c1a38f7fda0d0cbb" title="inode_add_bytes" alt="" coords="613,1339,733,1366"/>
<area shape="rect" id="node49" href="stat_8c.html#a5068a45a4e15ed238b321f20ec361ebe" title="__inode_add_bytes" alt="" coords="837,1365,972,1391"/>
<area shape="rect" id="node50" href="stat_8c.html#affd1fdb8f01b3cac9b32a14d77d44b21" title="EXPORT_SYMBOL" alt="" coords="1069,1339,1208,1366"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_icgraph" id="nilfs2_2bmap_8c_ac5f71baa604f8d2043ceb4c11aa72ff3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="199,472,323,498"/>
<area shape="rect" id="node3" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="783,244,892,270"/>
<area shape="rect" id="node35" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="371,494,516,535"/>
<area shape="rect" id="node4" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="975,488,1113,514"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1417,361,1537,388"/>
<area shape="rect" id="node23" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="977,168,1111,194"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="991,218,1097,245"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="987,269,1101,296"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1418,26,1537,53"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="991,320,1097,346"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="994,117,1094,144"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1408,99,1547,140"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1221,462,1320,489"/>
<area shape="rect" id="node15" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1220,564,1321,590"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1209,513,1333,540"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1207,412,1335,438"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1429,462,1525,489"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1608,513,1723,540"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1600,361,1731,388"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1827,520,1916,546"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1825,582,1917,609"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1822,658,1921,685"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1829,462,1914,489"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1833,336,1910,362"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1607,665,1723,692"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1441,614,1514,641"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1423,564,1531,590"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1622,564,1709,590"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1624,614,1707,641"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1211,117,1330,144"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1225,168,1316,194"/>
<area shape="rect" id="node31" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1595,106,1736,133"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1784,106,1959,133"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2007,106,2084,133"/>
<area shape="rect" id="node36" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="564,697,720,724"/>
<area shape="rect" id="node37" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="768,746,907,773"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="965,422,1123,463"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="969,688,1119,714"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="967,804,1121,846"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="955,739,1133,780"/>
<area shape="rect" id="node47" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="967,922,1121,963"/>
<area shape="rect" id="node48" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1202,958,1339,985"/>
<area shape="rect" id="node49" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1195,874,1346,901"/>
<area shape="rect" id="node50" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="961,622,1127,663"/>
<area shape="rect" id="node39" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1207,346,1334,387"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1197,746,1344,787"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="1191,615,1350,656"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1197,680,1345,722"/>
<area shape="rect" id="node45" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="1181,812,1360,838"/>
</map>
</div>

</div>
</div>
<a id="a175d4ecf6f57fcfbda44e32328fec75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a175d4ecf6f57fcfbda44e32328fec75f">&#9670;&nbsp;</a></span>nilfs_bmap_do_truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_bmap_do_truncate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_cgraph" id="nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="213,31,361,57"/>
<area shape="rect" id="node3" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="409,23,536,65"/>
<area shape="rect" id="node4" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="584,5,705,32"/>
<area shape="rect" id="node5" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="590,56,699,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_icgraph" id="nilfs2_2bmap_8c_a175d4ecf6f57fcfbda44e32328fec75f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="213,488,352,515"/>
<area shape="rect" id="node3" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="400,488,539,515"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="587,463,687,489"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="735,539,853,565"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="735,361,853,388"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2645,425,2765,452"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1113,488,1204,515"/>
<area shape="rect" id="node6" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="911,336,1030,363"/>
<area shape="rect" id="node7" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="901,266,1040,307"/>
<area shape="rect" id="node8" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1088,228,1229,255"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1277,220,1452,247"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1500,177,1577,204"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2842,68,2947,95"/>
<area shape="rect" id="node13" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1625,177,1743,204"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3013,105,3102,132"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1820,203,1919,229"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1791,152,1948,179"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2000,211,2148,237"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2005,145,2143,186"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1996,93,2152,120"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2200,324,2379,351"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2465,336,2543,363"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2837,425,2952,452"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2829,349,2960,376"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="3013,501,3102,528"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="3011,349,3103,376"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="3008,400,3107,427"/>
<area shape="rect" id="node24" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="3015,451,3100,477"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2220,163,2359,189"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2439,177,2569,218"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2629,195,2781,221"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2845,144,2945,171"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2216,93,2363,120"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2427,93,2581,120"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2650,93,2761,120"/>
</map>
</div>

</div>
</div>
<a id="aff09e0b7867066d5fd7a838181816d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff09e0b7867066d5fd7a838181816d6a">&#9670;&nbsp;</a></span>nilfs_bmap_find_target_in_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u64 nilfs_bmap_find_target_in_group </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_cgraph" id="nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1904,291,2039,318"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="207,704,340,745"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="783,535,964,562"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="388,674,536,716"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="597,777,722,818"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="810,977,937,1018"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1262,782,1358,808"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1012,579,1179,606"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1243,926,1377,968"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="584,598,735,624"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="598,712,721,753"/>
<area shape="rect" id="node10" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="804,478,943,504"/>
<area shape="rect" id="node11" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1023,275,1168,302"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1017,478,1173,504"/>
<area shape="rect" id="node12" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1231,275,1389,302"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1474,427,1593,454"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1921,35,2021,62"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1468,224,1599,251"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1729,554,1800,580"/>
<area shape="rect" id="node24" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1458,86,1609,112"/>
<area shape="rect" id="node26" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1492,275,1575,302"/>
<area shape="rect" id="node14" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1685,427,1844,454"/>
<area shape="rect" id="node16" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2087,136,2225,163"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1691,238,1839,280"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1697,136,1832,163"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1904,622,2039,664"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2109,630,2203,656"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2273,630,2377,656"/>
<area shape="rect" id="node25" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1673,35,1856,62"/>
<area shape="rect" id="node27" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1708,304,1821,331"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1233,731,1387,758"/>
<area shape="rect" id="node32" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1237,529,1383,570"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1227,680,1393,707"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1233,478,1387,504"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1441,899,1625,926"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1467,848,1600,875"/>
<area shape="rect" id="node33" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1703,630,1827,656"/>
<area shape="rect" id="node34" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1910,432,2033,459"/>
<area shape="rect" id="node35" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1462,579,1605,606"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1469,732,1598,773"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1457,798,1609,824"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1451,680,1615,707"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="810,836,937,863"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="807,770,940,812"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1015,832,1176,859"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1032,1101,1159,1142"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1025,1036,1165,1077"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1694,894,1835,920"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1243,992,1377,1033"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_icgraph" id="nilfs2_2bmap_8c_aff09e0b7867066d5fd7a838181816d6a_icgraph">
<area shape="rect" id="node2" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="208,363,372,389"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="208,493,372,520"/>
<area shape="rect" id="node50" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="207,548,373,575"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="425,290,557,331"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="421,355,560,397"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="613,365,735,392"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="608,419,740,461"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="788,427,933,453"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="981,427,1105,453"/>
<area shape="rect" id="node9" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1171,293,1281,320"/>
<area shape="rect" id="node38" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1153,449,1299,490"/>
<area shape="rect" id="node10" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="1355,217,1494,244"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1767,268,1887,295"/>
<area shape="rect" id="node27" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="1357,572,1492,599"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="1371,65,1478,92"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="1368,116,1481,143"/>
<area shape="rect" id="node30" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1767,420,1886,447"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="1371,167,1478,193"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1375,344,1475,371"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1757,471,1896,513"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1571,167,1669,193"/>
<area shape="rect" id="node21" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1569,65,1671,92"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1558,116,1682,143"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1556,217,1684,244"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1779,116,1875,143"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1977,268,2092,295"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1969,420,2100,447"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2196,295,2285,321"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2195,345,2287,372"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2191,244,2290,271"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2198,193,2283,220"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2202,420,2279,447"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1977,319,2093,345"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1790,65,1863,92"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1773,167,1881,193"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1561,420,1679,447"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1575,369,1665,396"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1964,479,2105,505"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2153,479,2328,505"/>
<area shape="rect" id="node39" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1347,636,1503,663"/>
<area shape="rect" id="node40" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="1551,649,1689,676"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1747,667,1906,709"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1751,733,1902,760"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1749,785,1904,826"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="1737,537,1916,578"/>
<area shape="rect" id="node45" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1749,602,1904,643"/>
<area shape="rect" id="node47" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="425,421,557,462"/>
<area shape="rect" id="node48" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="421,486,560,527"/>
<area shape="rect" id="node49" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="429,552,553,579"/>
</map>
</div>

</div>
</div>
<a id="a9e78ff327c425dcbcbf5fc71e2968c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e78ff327c425dcbcbf5fc71e2968c3d">&#9670;&nbsp;</a></span>nilfs_bmap_find_target_seq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__u64 nilfs_bmap_find_target_seq </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a9e78ff327c425dcbcbf5fc71e2968c3d_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a9e78ff327c425dcbcbf5fc71e2968c3d_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a9e78ff327c425dcbcbf5fc71e2968c3d_icgraph" id="nilfs2_2bmap_8c_a9e78ff327c425dcbcbf5fc71e2968c3d_icgraph">
<area shape="rect" id="node2" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="236,363,400,389"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="236,493,400,520"/>
<area shape="rect" id="node50" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="235,548,401,575"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="453,290,585,331"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="449,355,588,397"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="641,365,763,392"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="636,419,768,461"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="816,427,961,453"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1009,427,1133,453"/>
<area shape="rect" id="node9" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1199,293,1309,320"/>
<area shape="rect" id="node38" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1181,449,1327,490"/>
<area shape="rect" id="node10" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="1383,217,1522,244"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1795,268,1915,295"/>
<area shape="rect" id="node27" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="1385,572,1520,599"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="1399,65,1506,92"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="1396,116,1509,143"/>
<area shape="rect" id="node30" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1795,420,1914,447"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="1399,167,1506,193"/>
<area shape="rect" id="node32" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1403,344,1503,371"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1785,471,1924,513"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1599,167,1697,193"/>
<area shape="rect" id="node21" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1597,65,1699,92"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1586,116,1710,143"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1584,217,1712,244"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1807,116,1903,143"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2005,268,2120,295"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1997,420,2128,447"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2224,295,2313,321"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2223,345,2315,372"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2219,244,2318,271"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2226,193,2311,220"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2230,420,2307,447"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="2005,319,2121,345"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1818,65,1891,92"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1801,167,1909,193"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1589,420,1707,447"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1603,369,1693,396"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1992,479,2133,505"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2181,479,2356,505"/>
<area shape="rect" id="node39" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1375,636,1531,663"/>
<area shape="rect" id="node40" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="1579,649,1717,676"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1775,667,1934,709"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1779,733,1930,760"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1777,785,1932,826"/>
<area shape="rect" id="node44" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="1765,537,1944,578"/>
<area shape="rect" id="node45" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1777,602,1932,643"/>
<area shape="rect" id="node47" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="453,421,585,462"/>
<area shape="rect" id="node48" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="449,486,588,527"/>
<area shape="rect" id="node49" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="457,552,581,579"/>
</map>
</div>

</div>
</div>
<a id="aef6e9d2acff7b7d161389bb790483d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6e9d2acff7b7d161389bb790483d06">&#9670;&nbsp;</a></span>nilfs_bmap_get_dat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>* nilfs_bmap_get_dat </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_aef6e9d2acff7b7d161389bb790483d06_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_aef6e9d2acff7b7d161389bb790483d06_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_aef6e9d2acff7b7d161389bb790483d06_icgraph" id="nilfs2_2bmap_8c_aef6e9d2acff7b7d161389bb790483d06_icgraph">
<area shape="rect" id="node2" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="208,5,335,47"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="631,71,763,112"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="631,136,763,177"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="209,594,333,621"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="627,208,766,249"/>
<area shape="rect" id="node17" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="627,325,766,367"/>
<area shape="rect" id="node18" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="191,645,351,671"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a1ca1a099b59d94778dadc82e87d5cfc4" title="nilfs_btree_propagate_gc" alt="" coords="188,695,355,722"/>
<area shape="rect" id="node21" href="nilfs2_2btree_8c.html#ae8fd34257f04690a23daa3fb34e4864c" title="nilfs_btree_assign_v" alt="" coords="201,746,342,773"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="197,797,345,823"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="197,477,345,519"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="421,578,551,605"/>
<area shape="rect" id="node41" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="195,237,348,279"/>
<area shape="rect" id="node44" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="635,274,759,301"/>
<area shape="rect" id="node46" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="206,848,337,889"/>
<area shape="rect" id="node47" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="208,914,335,941"/>
<area shape="rect" id="node48" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="197,965,346,991"/>
<area shape="rect" id="node49" href="nilfs2_2direct_8c.html#a86e6661436549ae94df47245a39d98ef" title="nilfs_direct_assign_v" alt="" coords="199,1015,343,1042"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="836,111,957,138"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="831,321,963,363"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1017,329,1163,355"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1238,329,1362,355"/>
<area shape="rect" id="node11" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1455,383,1565,410"/>
<area shape="rect" id="node16" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1437,317,1583,359"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1646,383,1766,410"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1861,333,1976,359"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1853,383,1984,410"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2056,459,2133,486"/>
<area shape="rect" id="node19" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="413,645,559,671"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#a699ab54fa5128b631cc1a86b9a3793b4" title="nilfs_btree_assign" alt="" coords="423,746,549,773"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="835,528,958,569"/>
<area shape="rect" id="node27" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1221,469,1379,511"/>
<area shape="rect" id="node26" href="nilfs2_2ioctl_8c.html#ae74437bf40467cd7ef392867b1506518" title="nilfs_ioctl_get_bdescs" alt="" coords="1631,535,1781,562"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1447,469,1573,511"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1632,481,1780,507"/>
<area shape="rect" id="node30" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1829,485,2008,511"/>
<area shape="rect" id="node32" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="617,618,776,645"/>
<area shape="rect" id="node33" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="824,659,969,686"/>
<area shape="rect" id="node34" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="1021,659,1159,686"/>
<area shape="rect" id="node40" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1019,710,1161,737"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1225,783,1375,810"/>
<area shape="rect" id="node36" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="1223,835,1377,876"/>
<area shape="rect" id="node37" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="1211,587,1389,628"/>
<area shape="rect" id="node38" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="1223,652,1377,693"/>
<area shape="rect" id="node39" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="1217,717,1383,759"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="404,173,568,199"/>
<area shape="rect" id="node43" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="404,223,568,250"/>
<area shape="rect" id="node45" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="403,274,569,301"/>
<area shape="rect" id="node50" href="nilfs2_2direct_8c.html#ab01e002da82f61015e84db7f67bc3fe6" title="nilfs_direct_assign" alt="" coords="421,1015,551,1042"/>
</map>
</div>

</div>
</div>
<a id="a38787acb7ae6f453116bac88c530f3f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38787acb7ae6f453116bac88c530f3f4">&#9670;&nbsp;</a></span>nilfs_bmap_init_gc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_bmap_init_gc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_cgraph" id="nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#ab02aecb562f6c74a04aad6d769ac9f1e" title="NILFS_BMAP_I" alt="" coords="189,5,305,32"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a31c310a33d6e623a9a7c15f6e2722200" title="nilfs_btree_init_gc" alt="" coords="184,56,311,83"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a6b425e1129c6131fb5f0d7018d2c6bb4" title="nilfs_btree_node_size" alt="" coords="359,56,507,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_icgraph" id="nilfs2_2bmap_8c_a38787acb7ae6f453116bac88c530f3f4_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a2c5af5602d5da89eda7b8b207a141f8d" title="nilfs_init_gcinode" alt="" coords="184,56,307,83"/>
<area shape="rect" id="node3" href="nilfs_8h.html#ad35645870060c9d83e6c1ca96a402675" title="nilfs_iget_for_gc" alt="" coords="355,56,472,83"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a30a0a343bac14fc5cf5591ee64c4830b" title="nilfs_ioctl_move_blocks" alt="" coords="520,31,681,57"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1081,81,1201,108"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="729,31,908,57"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="956,31,1033,57"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1257,81,1372,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1249,31,1380,57"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1433,5,1522,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1431,56,1523,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1428,107,1527,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1435,157,1520,184"/>
</map>
</div>

</div>
</div>
<a id="a4e7fd87b553f99a5d10b2f1d0cbbec0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7fd87b553f99a5d10b2f1d0cbbec0b">&#9670;&nbsp;</a></span>nilfs_bmap_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_insert </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_insert - insert a new key-record pair into a bmap : bmap : key : record</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b">nilfs_bmap_insert()</a> inserts the new key-record pair specified by  and  into .</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-EEXIST - A record associated with  already exist. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_cgraph" id="nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="177,1073,323,1100"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="183,1125,317,1166"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="371,918,503,959"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a6b425e1129c6131fb5f0d7018d2c6bb4" title="nilfs_btree_node_size" alt="" coords="1011,1332,1159,1359"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="560,355,699,397"/>
<area shape="rect" id="node18" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="560,918,699,959"/>
<area shape="rect" id="node42" href="nilfs2_2inode_8c.html#a4c71b629def228b5da94615b61c71844" title="nilfs_inode_add_blocks" alt="" coords="551,79,708,105"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="769,159,933,185"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1236,468,1371,495"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="784,231,919,273"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a138fc85ede4ab5e3710abf081f3b62fe" title="nilfs_btree_get_new\l_block" alt="" coords="782,326,921,367"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a85dab214f0695b10c68e3383eb543a4a" title="nilfs_bmap_abort_alloc_ptr" alt="" coords="763,392,940,419"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#a9e78ff327c425dcbcbf5fc71e2968c3d" title="nilfs_bmap_find_target_seq" alt="" coords="995,56,1176,83"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#a27fffc667f6b2e8c87bcfd46f4ef6e32" title="nilfs_btree_find_near" alt="" coords="1014,107,1157,133"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#aff09e0b7867066d5fd7a838181816d6a" title="nilfs_bmap_find_target\l_in_group" alt="" coords="1009,158,1162,199"/>
<area shape="rect" id="node12" href="dat_8c.html#a847699730c6c40488a135453e5c0fe2d" title="nilfs_dat_prepare_alloc" alt="" coords="1008,224,1163,251"/>
<area shape="rect" id="node14" href="nilfs_8h.html#ab02aecb562f6c74a04aad6d769ac9f1e" title="NILFS_BMAP_I" alt="" coords="1027,341,1143,368"/>
<area shape="rect" id="node15" href="btnode_8c.html#aa637db552250ee79451b63053b89dd1d" title="nilfs_btnode_create\l_block" alt="" coords="1018,275,1153,317"/>
<area shape="rect" id="node17" href="dat_8c.html#a51c3495765ecf051e3877ecd35b04053" title="nilfs_dat_abort_alloc" alt="" coords="1015,392,1156,419"/>
<area shape="rect" id="node19" href="nilfs2_2btree_8c.html#a60fb1455ef3bef9737a4de47cbc2641a" title="__nilfs_btree_init" alt="" coords="791,1183,911,1209"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#aa56d4c2bd0d10c4825e4f8f741fe2a97" title="nilfs_bmap_commit_alloc_ptr" alt="" coords="756,875,947,901"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#a143d75b82b858e4161f7c7641da377d7" title="nilfs_btree_nchildren\l_per_block" alt="" coords="781,809,922,850"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#a9c16906ee9e92036ce8fe7eb21056aea" title="nilfs_btree_node_init" alt="" coords="781,925,922,952"/>
<area shape="rect" id="node29" href="nilfs2_2btree_8c.html#ace5540d781453f6e73f0f0a2f5aa9a4e" title="nilfs_btree_node_insert" alt="" coords="773,980,929,1007"/>
<area shape="rect" id="node31" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="790,1031,913,1057"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8h.html#a5399d2acb05251b7a62d8895ba4d4027" title="nilfs_bmap_dirty" alt="" coords="793,1081,910,1108"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8h.html#a11a06de14ca3db8d04843a2aadbb8d7f" title="nilfs_bmap_set_dirty" alt="" coords="780,1132,923,1159"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a17a122f397fd12734d718b7264231e4d" title="nilfs_btree_get_root" alt="" coords="783,603,919,629"/>
<area shape="rect" id="node38" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="769,653,933,680"/>
<area shape="rect" id="node21" href="dat_8c.html#aec0d4be9c58232055e7bb8221e0bd1d7" title="nilfs_dat_commit_alloc" alt="" coords="1008,712,1163,739"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html#a211b423c3541a37b1c30794ffb3467a4" title="nilfs_btree_node_set\l_flags" alt="" coords="1014,763,1157,805"/>
<area shape="rect" id="node25" href="nilfs2_2btree_8c.html#addd746d948cbce76236fe4b56bd483ce" title="nilfs_btree_node_set\l_level" alt="" coords="1014,829,1157,870"/>
<area shape="rect" id="node26" href="nilfs2_2btree_8c.html#af3f1a7d46b9b62280e52eb4fd4efbe26" title="nilfs_btree_node_set\l_nchildren" alt="" coords="1014,946,1157,987"/>
<area shape="rect" id="node27" href="nilfs2_2btree_8c.html#a0919f45613eeddfc774d8773bb15e88c" title="nilfs_btree_node_dkeys" alt="" coords="1224,1012,1383,1039"/>
<area shape="rect" id="node28" href="nilfs2_2btree_8c.html#a105eb06cfffcb3e3faee8f48045f993d" title="nilfs_btree_node_dptrs" alt="" coords="1009,1012,1162,1039"/>
<area shape="rect" id="node30" href="nilfs2_2btree_8c.html#a55d2c414d2839e3ab8aa38e93df992e8" title="nilfs_btree_node_get\l_nchildren" alt="" coords="1014,1063,1157,1105"/>
<area shape="rect" id="node32" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1025,1281,1146,1308"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1018,1180,1153,1207"/>
<area shape="rect" id="node34" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1016,1231,1155,1257"/>
<area shape="rect" id="node39" href="nilfs2_2bmap_8h.html#af32e85812bd6ab4405f97c0032e6c931" title="nilfs_bmap_data_get_key" alt="" coords="1000,595,1171,621"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8h.html#a995b6a1488fcc0373c566d8853cf7844" title="nilfs_bmap_find_target_seq" alt="" coords="995,544,1176,571"/>
<area shape="rect" id="node41" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="1009,646,1162,687"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="816,79,887,105"/>
<area shape="rect" id="node44" href="stat_8c.html#a6d1a1cfe3332bd59c1a38f7fda0d0cbb" title="inode_add_bytes" alt="" coords="791,13,911,40"/>
<area shape="rect" id="node45" href="stat_8c.html#a5068a45a4e15ed238b321f20ec361ebe" title="__inode_add_bytes" alt="" coords="1018,5,1153,32"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="390,1132,483,1159"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="577,1284,681,1311"/>
<area shape="rect" id="node49" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="784,1284,919,1311"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="784,1335,919,1361"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_icgraph" id="nilfs2_2bmap_8c_a4e7fd87b553f99a5d10b2f1d0cbbec0b_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="589,237,699,264"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="177,520,323,562"/>
<area shape="rect" id="node3" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="781,582,920,609"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1224,473,1344,500"/>
<area shape="rect" id="node22" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="783,60,918,86"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="797,110,904,137"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="794,161,907,188"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1225,81,1343,108"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="797,262,904,289"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="801,313,901,340"/>
<area shape="rect" id="node29" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1215,230,1353,271"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="1028,532,1127,558"/>
<area shape="rect" id="node14" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1027,684,1128,710"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="1015,582,1139,609"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="1013,633,1141,660"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1236,528,1332,554"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1415,528,1529,554"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1407,426,1537,453"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1633,465,1723,492"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1632,516,1724,542"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1629,566,1727,593"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1635,680,1721,706"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1639,389,1717,416"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1414,477,1530,504"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1247,730,1321,757"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="1230,629,1338,656"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1429,578,1515,605"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1431,629,1513,656"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1018,262,1137,289"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1032,313,1123,340"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1401,237,1543,264"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1591,237,1765,264"/>
<area shape="rect" id="node32" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1813,237,1891,264"/>
<area shape="rect" id="node35" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="371,804,527,830"/>
<area shape="rect" id="node36" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="575,873,713,900"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="771,491,930,532"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="775,814,926,841"/>
<area shape="rect" id="node43" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="773,866,928,907"/>
<area shape="rect" id="node46" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="761,931,940,972"/>
<area shape="rect" id="node47" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="773,1048,928,1090"/>
<area shape="rect" id="node48" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1009,1052,1146,1078"/>
<area shape="rect" id="node49" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1002,1110,1153,1137"/>
<area shape="rect" id="node50" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="767,748,934,790"/>
<area shape="rect" id="node38" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1014,466,1141,507"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1004,735,1151,776"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="998,800,1157,842"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1003,866,1151,907"/>
<area shape="rect" id="node44" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="988,997,1167,1024"/>
<area shape="rect" id="node45" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1014,931,1141,972"/>
</map>
</div>

</div>
</div>
<a id="a8a08ae054741730726fedb65362f507f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a08ae054741730726fedb65362f507f">&#9670;&nbsp;</a></span>nilfs_bmap_last_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_last_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>keyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_cgraph" id="nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="195,318,329,359"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="377,325,471,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="519,325,623,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="671,300,805,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="671,351,805,377"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="853,300,1015,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="874,351,994,377"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1255,300,1391,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1073,351,1196,377"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1063,402,1207,443"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1439,249,1592,276"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1831,275,1970,301"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1661,300,1761,327"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1474,81,1557,108"/>
<area shape="rect" id="node11" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1659,132,1764,159"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1640,183,1783,225"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1655,31,1768,57"/>
<area shape="rect" id="node17" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1831,56,1971,83"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1847,5,1954,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_icgraph" id="nilfs2_2bmap_8c_a8a08ae054741730726fedb65362f507f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1375,61,1513,88"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="195,235,321,277"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1598,36,1698,63"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1589,87,1707,113"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1789,188,1907,215"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1979,87,2099,113"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1803,36,1893,63"/>
<area shape="rect" id="node5" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1979,188,2098,215"/>
<area shape="rect" id="node6" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1969,257,2108,298"/>
<area shape="rect" id="node7" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2156,276,2297,303"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2345,283,2520,309"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2169,131,2284,157"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2161,29,2292,56"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2388,131,2477,157"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2387,181,2479,208"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2383,232,2482,259"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2390,80,2475,107"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2394,29,2471,56"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="369,334,496,375"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="548,385,681,426"/>
<area shape="rect" id="node49" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="544,207,685,249"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="749,659,902,701"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="735,316,916,343"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="985,417,1112,444"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1181,541,1318,582"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1188,607,1311,633"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="733,525,917,552"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="967,708,1131,735"/>
<area shape="rect" id="node26" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="967,784,1131,811"/>
<area shape="rect" id="node28" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="965,657,1132,684"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1183,723,1315,765"/>
<area shape="rect" id="node25" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="1180,658,1319,699"/>
<area shape="rect" id="node27" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="1183,789,1315,830"/>
<area shape="rect" id="node30" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="997,316,1100,343"/>
<area shape="rect" id="node31" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="1391,213,1497,240"/>
<area shape="rect" id="node32" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1569,227,1727,253"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1783,239,1913,265"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1783,137,1913,164"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1775,289,1921,316"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1188,279,1311,321"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1187,214,1312,255"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1181,345,1318,386"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1188,410,1311,451"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1181,475,1318,517"/>
<area shape="rect" id="node40" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1367,388,1521,415"/>
<area shape="rect" id="node41" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1386,439,1502,481"/>
<area shape="rect" id="node46" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1391,607,1497,633"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="975,523,1122,565"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="782,215,869,241"/>
</map>
</div>

</div>
</div>
<a id="a01ec88eea126f6a0861c9da00aadb1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ec88eea126f6a0861c9da00aadb1d7">&#9670;&nbsp;</a></span>nilfs_bmap_lookup_at_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_lookup_at_level </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>ptrp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_lookup_at_level - find a data block or node block : bmap : key : level : place to store the value associated to </p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#a01ec88eea126f6a0861c9da00aadb1d7">nilfs_bmap_lookup_at_level()</a> finds a record whose key matches  in the block at  of the bmap.</p>
<p>Return Value: On success, 0 is returned and the record associated with  is stored in the place pointed by . On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - A record associated with  does not exist. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_cgraph" id="nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="201,312,336,353"/>
<area shape="rect" id="node16" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="205,590,333,617"/>
<area shape="rect" id="node50" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="201,641,336,667"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="819,105,913,131"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="992,78,1096,105"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1182,27,1317,54"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1182,78,1317,105"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1391,27,1552,54"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1411,78,1531,105"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1805,111,1941,138"/>
<area shape="rect" id="node14" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1613,71,1736,98"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1603,5,1747,47"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="2005,106,2159,133"/>
<area shape="rect" id="node11" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2239,157,2339,183"/>
<area shape="rect" id="node12" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2412,131,2551,158"/>
<area shape="rect" id="node13" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="2247,207,2330,234"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568" title="nilfs_palloc_get_entry\l_block" alt="" coords="384,583,532,624"/>
<area shape="rect" id="node45" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="405,365,511,391"/>
<area shape="rect" id="node47" href="mdt_8c.html#ac812454a88416aae4c77cdb630f97716" title="nilfs_mdt_get_frozen\l_buffer" alt="" coords="387,888,529,929"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab" title="nilfs_palloc_block\l_get_entry" alt="" coords="605,823,730,864"/>
<area shape="rect" id="node18" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1627,689,1723,715"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1396,150,1547,177"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="606,583,729,624"/>
<area shape="rect" id="node20" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1605,253,1744,279"/>
<area shape="rect" id="node21" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1800,254,1945,281"/>
<area shape="rect" id="node27" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1795,385,1951,411"/>
<area shape="rect" id="node22" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="2003,258,2161,285"/>
<area shape="rect" id="node23" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="2229,385,2348,411"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="2223,309,2354,335"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="2253,519,2324,546"/>
<area shape="rect" id="node26" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="2213,258,2364,285"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="2005,461,2159,487"/>
<area shape="rect" id="node29" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="2009,512,2155,553"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1999,309,2165,335"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="2005,359,2159,386"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="803,741,929,767"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1183,361,1316,403"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="977,685,1111,727"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1159,693,1340,719"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1175,465,1323,507"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1187,744,1312,785"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="1186,572,1313,613"/>
<area shape="rect" id="node36" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1388,689,1555,715"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1608,304,1741,345"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1408,572,1535,613"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1401,303,1541,344"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1391,251,1552,278"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="580,259,755,286"/>
<area shape="rect" id="node48" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="602,888,733,929"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_icgraph" id="nilfs2_2bmap_8c_a01ec88eea126f6a0861c9da00aadb1d7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="205,59,328,101"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="987,202,1145,243"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="201,260,332,287"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#ae74437bf40467cd7ef392867b1506518" title="nilfs_ioctl_get_bdescs" alt="" coords="587,35,737,61"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1911,43,1989,69"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2061,93,2181,120"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2237,93,2352,120"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2229,43,2360,69"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2413,17,2502,44"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2411,68,2503,95"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2408,119,2507,145"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2415,169,2500,196"/>
<area shape="rect" id="node13" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1231,43,1358,85"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1448,43,1596,69"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1660,43,1839,69"/>
<area shape="rect" id="node17" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="380,499,539,525"/>
<area shape="rect" id="node18" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="589,735,735,761"/>
<area shape="rect" id="node19" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="787,735,925,761"/>
<area shape="rect" id="node49" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="785,1084,927,1111"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="991,1295,1141,1321"/>
<area shape="rect" id="node24" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="989,346,1143,387"/>
<area shape="rect" id="node31" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="977,281,1155,322"/>
<area shape="rect" id="node33" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="989,698,1143,739"/>
<area shape="rect" id="node34" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1226,1033,1363,1060"/>
<area shape="rect" id="node44" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="1219,764,1370,791"/>
<area shape="rect" id="node45" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="983,935,1149,977"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1221,1418,1368,1459"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="1215,1287,1374,1329"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1221,1353,1369,1394"/>
<area shape="rect" id="node25" href="cpfile_8h.html#a8008085b3c0f288ec4d3332f6c3a61cc" title="nilfs_cpfile_get_checkpoint" alt="" coords="1205,409,1384,436"/>
<area shape="rect" id="node26" href="cpfile_8h.html#a4e57280f967700ddccaf2fe883e430e9" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="1231,161,1358,202"/>
<area shape="rect" id="node27" href="cpfile_8c.html#a063fdfbdf57b5c77444ea3bee7eea7c5" title="nilfs_cpfile_do_get\l_ssinfo" alt="" coords="1229,226,1360,267"/>
<area shape="rect" id="node28" href="cpfile_8c.html#a987eccfb76e10b13685d86b96f740c2e" title="nilfs_cpfile_set_snapshot" alt="" coords="1210,292,1379,319"/>
<area shape="rect" id="node29" href="cpfile_8c.html#a89e33b9de3faac99d87d1c55ddcaf8b7" title="nilfs_cpfile_clear\l_snapshot" alt="" coords="1235,343,1354,385"/>
<area shape="rect" id="node30" href="cpfile_8h.html#a3449472f483c42ad36c89de01f0204d5" title="nilfs_cpfile_get_stat" alt="" coords="1225,460,1364,487"/>
<area shape="rect" id="node32" href="cpfile_8h.html#a44962d0686d471deea4f0f55285ffe86" title="nilfs_cpfile_is_snapshot" alt="" coords="1214,109,1375,136"/>
<area shape="rect" id="node36" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="1684,1073,1815,1100"/>
<area shape="rect" id="node37" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="1690,855,1809,881"/>
<area shape="rect" id="node38" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="1680,753,1819,780"/>
<area shape="rect" id="node39" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="1680,666,1819,707"/>
<area shape="rect" id="node40" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="1887,784,2013,811"/>
<area shape="rect" id="node42" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="1691,804,1807,831"/>
<area shape="rect" id="node35" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="1432,917,1612,944"/>
<area shape="rect" id="node43" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="1462,983,1582,1009"/>
<area shape="rect" id="node41" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="1674,980,1825,1007"/>
<area shape="rect" id="node46" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1219,983,1371,1009"/>
<area shape="rect" id="node47" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="1211,866,1378,907"/>
<area shape="rect" id="node48" href="sufile_8h.html#a202058a1d5a7ee3658e8e7cda1ffee37" title="nilfs_sufile_trim_fs" alt="" coords="1229,932,1360,959"/>
<area shape="rect" id="node50" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="975,1346,1157,1387"/>
</map>
</div>

</div>
</div>
<a id="a562a4fcb04f5c54344afe05639c86914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562a4fcb04f5c54344afe05639c86914">&#9670;&nbsp;</a></span>nilfs_bmap_lookup_contig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_lookup_contig </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>ptrp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>maxblocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_cgraph" id="nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="225,318,360,359"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="408,325,501,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="549,325,653,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="701,300,836,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="701,351,836,377"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="884,300,1045,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="905,351,1025,377"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1285,300,1421,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1104,351,1227,377"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1093,402,1237,443"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1469,249,1623,276"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1862,275,2001,301"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1692,300,1792,327"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1505,81,1587,108"/>
<area shape="rect" id="node11" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1689,132,1795,159"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1671,183,1813,225"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1685,31,1799,57"/>
<area shape="rect" id="node17" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1861,56,2001,83"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1878,5,1985,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_icgraph" id="nilfs2_2bmap_8c_a562a4fcb04f5c54344afe05639c86914_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="225,464,335,491"/>
<area shape="rect" id="node50" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="234,351,326,377"/>
<area shape="rect" id="node3" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="383,185,521,212"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="755,287,875,313"/>
<area shape="rect" id="node22" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="385,641,519,668"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="399,692,505,719"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="395,388,509,415"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="755,591,874,617"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="399,489,505,516"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="402,439,502,465"/>
<area shape="rect" id="node29" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="745,525,884,566"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="584,236,683,263"/>
<area shape="rect" id="node14" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="583,84,684,111"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="571,185,695,212"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="569,135,697,161"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="767,236,863,263"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="945,236,1060,263"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1344,388,1475,415"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1164,236,1253,263"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1163,287,1255,313"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1159,185,1258,212"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1166,84,1251,111"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2363,388,2440,415"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="945,287,1061,313"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="778,33,851,60"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#ae2705c2358d0e75d783e8773536d2c02" title="nilfs_do_unlink" alt="" coords="761,135,869,161"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="959,185,1046,212"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="961,135,1044,161"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="574,489,693,516"/>
<area shape="rect" id="node49" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="588,439,679,465"/>
<area shape="rect" id="node30" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="932,563,1073,589"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1121,621,1296,648"/>
<area shape="rect" id="node32" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1371,704,1448,731"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2727,675,2832,701"/>
<area shape="rect" id="node35" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1523,704,1640,731"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2880,649,2969,676"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1717,704,1816,731"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1688,573,1845,600"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1897,439,2045,465"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1902,541,2041,582"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1893,607,2049,633"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2097,439,2276,465"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2117,548,2256,575"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2337,541,2466,582"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2527,548,2679,575"/>
<area shape="rect" id="node44" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2729,599,2829,625"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2113,607,2260,633"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2324,628,2479,655"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2547,649,2658,676"/>
</map>
</div>

</div>
</div>
<a id="a63dba5d9babfbd2aac577674ebe5acf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dba5d9babfbd2aac577674ebe5acf2">&#9670;&nbsp;</a></span>nilfs_bmap_lookup_dirty_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_bmap_lookup_dirty_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"><em>listp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_lookup_dirty_buffers - : bmap : pointer to buffer head list </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a63dba5d9babfbd2aac577674ebe5acf2_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a63dba5d9babfbd2aac577674ebe5acf2_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a63dba5d9babfbd2aac577674ebe5acf2_icgraph" id="nilfs2_2bmap_8c_a63dba5d9babfbd2aac577674ebe5acf2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a54b68878b13cea892fdcc2eb8a4ed7e2" title="nilfs_segctor_scan_file" alt="" coords="216,352,371,379"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="419,345,560,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="608,352,749,379"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="797,352,976,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1651,286,1801,327"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1443,411,1600,437"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1024,345,1208,386"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1873,200,1978,227"/>
<area shape="rect" id="node16" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1867,301,1983,328"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2076,149,2196,176"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2292,107,2407,133"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2284,208,2415,235"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2516,157,2605,184"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2515,5,2607,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2511,56,2610,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2518,107,2603,133"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2522,232,2599,259"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1652,352,1800,379"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1657,403,1795,445"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1648,469,1804,496"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2047,352,2225,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1856,411,1995,437"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2071,403,2201,445"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2273,411,2425,437"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2827,436,2933,463"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2511,512,2611,539"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2473,461,2648,488"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2991,499,3081,525"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2696,461,2773,488"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2821,575,2939,601"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2987,575,3085,601"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1852,469,1999,496"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2059,469,2213,496"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2294,563,2405,589"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1256,185,1395,226"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1447,352,1595,379"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1452,149,1591,176"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1676,99,1776,125"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1667,149,1785,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1866,251,1985,277"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1880,99,1971,125"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2077,235,2195,261"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2067,286,2205,327"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2279,309,2420,336"/>
</map>
</div>

</div>
</div>
<a id="ada48e8abd9d75673881ee7c8fb799d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada48e8abd9d75673881ee7c8fb799d00">&#9670;&nbsp;</a></span>nilfs_bmap_mark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_mark </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_mark - mark block dirty : bmap : key : level</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#ada48e8abd9d75673881ee7c8fb799d00">nilfs_bmap_mark()</a> marks the block specified by  and  as dirty.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_cgraph" id="nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="175,318,309,359"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="357,325,451,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="499,325,603,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="651,300,785,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="651,351,785,377"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="833,300,995,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="854,351,974,377"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1235,300,1371,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1053,351,1176,377"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1043,402,1187,443"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1419,249,1572,276"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1811,275,1950,301"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1641,300,1741,327"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1454,81,1537,108"/>
<area shape="rect" id="node11" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1639,132,1744,159"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1620,183,1763,225"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1635,31,1748,57"/>
<area shape="rect" id="node17" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1811,56,1951,83"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1827,5,1934,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_icgraph" id="nilfs2_2bmap_8c_ada48e8abd9d75673881ee7c8fb799d00_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="175,49,333,90"/>
<area shape="rect" id="node3" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="381,49,508,90"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="556,31,704,57"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1104,81,1224,108"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="752,31,931,57"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="979,31,1056,57"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1280,81,1395,108"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1272,31,1403,57"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1455,5,1545,32"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1454,56,1546,83"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1451,107,1549,133"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1457,157,1543,184"/>
</map>
</div>

</div>
</div>
<a id="afb743019402ac67c539a449d627a07da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb743019402ac67c539a449d627a07da">&#9670;&nbsp;</a></span>nilfs_bmap_propagate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_propagate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_propagate - propagate dirty state : bmap : buffer head</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#afb743019402ac67c539a449d627a07da">nilfs_bmap_propagate()</a> marks the buffers that directly or indirectly refer to the block specified by  dirty.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_cgraph" id="nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="203,318,337,359"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="385,325,479,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="527,325,631,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="679,300,813,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="679,351,813,377"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="861,300,1023,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="882,351,1002,377"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1263,300,1399,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1081,351,1204,377"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1071,402,1215,443"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1447,249,1600,276"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1839,275,1978,301"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1669,300,1769,327"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1482,81,1565,108"/>
<area shape="rect" id="node11" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1667,132,1772,159"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1648,183,1791,225"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1663,31,1776,57"/>
<area shape="rect" id="node17" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1839,56,1979,83"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1855,5,1962,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_icgraph" id="nilfs2_2bmap_8c_afb743019402ac67c539a449d627a07da_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a44e21b984b71a487ba13e57a7d590312" title="nilfs_collect_file_data" alt="" coords="205,352,351,379"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a5b6d7fa2a9578d73a4f90db3fdd787a2" title="nilfs_collect_file_node" alt="" coords="203,403,353,429"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#aa2d45a6aa306f69789c3a4b76db4bef3" title="nilfs_collect_dat_data" alt="" coords="204,453,352,480"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a96c6bac7991c2db1aab03b5884a8c7f7" title="nilfs_segctor_scan\l_file_dsync" alt="" coords="401,345,532,386"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="580,345,721,386"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="769,352,911,379"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="959,352,1137,379"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1813,286,1962,327"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1604,411,1761,437"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1185,345,1369,386"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="2034,200,2139,227"/>
<area shape="rect" id="node17" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="2029,301,2145,328"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2237,149,2357,176"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2453,107,2568,133"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2445,208,2576,235"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2677,157,2767,184"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2676,5,2768,32"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2673,56,2771,83"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2679,107,2765,133"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2683,232,2761,259"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1813,352,1961,379"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1818,403,1957,445"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1809,469,1965,496"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2208,352,2387,379"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2017,411,2156,437"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2233,403,2362,445"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2435,411,2587,437"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2989,436,3094,463"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2672,512,2772,539"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2635,461,2809,488"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="3153,499,3242,525"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2857,461,2935,488"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2983,575,3100,601"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="3148,575,3247,601"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2013,469,2160,496"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2220,469,2375,496"/>
<area shape="rect" id="node35" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2455,563,2566,589"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1417,185,1556,226"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1609,352,1757,379"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1613,149,1752,176"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1837,99,1937,125"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1828,149,1947,176"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="2027,251,2146,277"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="2041,99,2132,125"/>
<area shape="rect" id="node41" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="2238,235,2357,261"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="2228,286,2367,327"/>
<area shape="rect" id="node43" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2440,309,2581,336"/>
</map>
</div>

</div>
</div>
<a id="a1dab812b511c175bcc95dd9221f82172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dab812b511c175bcc95dd9221f82172">&#9670;&nbsp;</a></span>nilfs_bmap_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_inode *&#160;</td>
          <td class="paramname"><em>raw_inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_read - read a bmap from an inode : bmap : on-disk inode</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#a1dab812b511c175bcc95dd9221f82172">nilfs_bmap_read()</a> initializes the bmap .</p>
<p>Return Value: On success, 0 is returned. On error, the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_cgraph" id="nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#ab02aecb562f6c74a04aad6d769ac9f1e" title="NILFS_BMAP_I" alt="" coords="171,60,287,87"/>
<area shape="rect" id="node3" href="nilfs2_2btree_8c.html#a8e12be4abec0ec1530a707fea17e7298" title="nilfs_btree_init" alt="" coords="175,111,282,137"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="174,161,283,188"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a60fb1455ef3bef9737a4de47cbc2641a" title="__nilfs_btree_init" alt="" coords="353,24,473,51"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a89d82007326260ecfcb26412f299297a" title="nilfs_btree_root_broken" alt="" coords="335,111,492,137"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a17a122f397fd12734d718b7264231e4d" title="nilfs_btree_get_root" alt="" coords="345,161,481,188"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a6b425e1129c6131fb5f0d7018d2c6bb4" title="nilfs_btree_node_size" alt="" coords="540,5,688,32"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#a427bb91c91c14dc89a2bfdcbadace0c9" title="nilfs_btree_node_get\l_level" alt="" coords="543,57,685,98"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#acd55e7ca4162de408cc1094902494abd" title="nilfs_btree_node_get\l_flags" alt="" coords="543,122,685,163"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a55d2c414d2839e3ab8aa38e93df992e8" title="nilfs_btree_node_get\l_nchildren" alt="" coords="543,187,685,229"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_icgraph" id="nilfs2_2bmap_8c_a1dab812b511c175bcc95dd9221f82172_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="993,81,1107,108"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a5a108c5a1277a073e6a59f8e283bb072" title="nilfs_read_inode_common" alt="" coords="171,593,344,620"/>
<area shape="rect" id="node3" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1190,5,1279,32"/>
<area shape="rect" id="node4" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1189,56,1281,83"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1185,107,1284,133"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1192,157,1277,184"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1175,655,1295,681"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1366,651,1497,677"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1607,685,1685,712"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="794,877,925,904"/>
<area shape="rect" id="node27" href="cpfile_8h.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="392,593,508,620"/>
<area shape="rect" id="node29" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="399,543,501,569"/>
<area shape="rect" id="node30" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="397,819,503,845"/>
<area shape="rect" id="node37" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="392,425,508,452"/>
<area shape="rect" id="node12" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1013,877,1087,904"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1360,979,1503,1005"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1189,776,1280,803"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1177,827,1292,853"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1177,877,1292,904"/>
<area shape="rect" id="node22" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1165,710,1304,751"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1571,928,1721,955"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1913,877,2018,904"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2072,903,2161,929"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1369,827,1494,853"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1369,877,1494,904"/>
<area shape="rect" id="node23" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1361,767,1502,793"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1559,797,1733,824"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1781,797,1859,824"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1907,797,2024,824"/>
<area shape="rect" id="node28" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="573,568,719,595"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="1352,928,1511,955"/>
<area shape="rect" id="node32" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="567,819,725,845"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="794,753,925,780"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="786,819,933,845"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="983,746,1117,787"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="992,811,1108,853"/>
<area shape="rect" id="node38" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="556,359,736,385"/>
<area shape="rect" id="node39" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="791,543,928,569"/>
<area shape="rect" id="node42" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="794,132,925,159"/>
<area shape="rect" id="node45" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="788,183,931,225"/>
<area shape="rect" id="node46" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="800,249,919,276"/>
<area shape="rect" id="node47" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="790,300,929,327"/>
<area shape="rect" id="node48" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="790,351,929,393"/>
<area shape="rect" id="node49" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="987,425,1113,452"/>
<area shape="rect" id="node50" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="784,492,935,519"/>
<area shape="rect" id="node40" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="990,476,1110,503"/>
<area shape="rect" id="node41" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="985,527,1115,569"/>
<area shape="rect" id="node43" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="989,183,1111,209"/>
<area shape="rect" id="node44" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="993,132,1107,159"/>
</map>
</div>

</div>
</div>
<a id="aefd222edab3f6a8ce0617e4f9659472a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd222edab3f6a8ce0617e4f9659472a">&#9670;&nbsp;</a></span>nilfs_bmap_restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_bmap_restore </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__bmap__store.html">nilfs_bmap_store</a> *&#160;</td>
          <td class="paramname"><em>store</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_aefd222edab3f6a8ce0617e4f9659472a_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_aefd222edab3f6a8ce0617e4f9659472a_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_aefd222edab3f6a8ce0617e4f9659472a_icgraph" id="nilfs2_2bmap_8c_aefd222edab3f6a8ce0617e4f9659472a_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="185,99,340,141"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="388,107,536,133"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="584,107,763,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="811,107,888,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="936,81,1056,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1112,81,1227,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1104,132,1235,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1287,5,1377,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1286,56,1378,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1283,107,1381,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1289,157,1375,184"/>
</map>
</div>

</div>
</div>
<a id="aa549c9215d24ae7f44f0128fa9d81f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa549c9215d24ae7f44f0128fa9d81f98">&#9670;&nbsp;</a></span>nilfs_bmap_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_bmap_save </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap__store.html">nilfs_bmap_store</a> *&#160;</td>
          <td class="paramname"><em>store</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_aa549c9215d24ae7f44f0128fa9d81f98_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_aa549c9215d24ae7f44f0128fa9d81f98_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_aa549c9215d24ae7f44f0128fa9d81f98_icgraph" id="nilfs2_2bmap_8c_aa549c9215d24ae7f44f0128fa9d81f98_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a1b91aea5f3e024d438f92e11efb9309b" title="nilfs_mdt_save_to_shadow_map" alt="" coords="173,107,385,133"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="433,107,581,133"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="629,107,808,133"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="856,107,933,133"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="981,81,1101,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1157,81,1272,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1149,132,1280,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1333,5,1422,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1331,56,1423,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1328,107,1427,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1335,157,1420,184"/>
</map>
</div>

</div>
</div>
<a id="a0eb8b386860fba82ebb80f18f00c50d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb8b386860fba82ebb80f18f00c50d3">&#9670;&nbsp;</a></span>nilfs_bmap_seek_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_seek_key </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>keyp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_seek_key - seek a valid entry and return its key : bmap struct : start key number : place to store valid key</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#a0eb8b386860fba82ebb80f18f00c50d3">nilfs_bmap_seek_key()</a> seeks a valid key on  starting from , and stores it to  if found.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available.</p>
<p>%-ENOENT - No valid entry was found </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_cgraph" id="nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="201,318,336,359"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="384,325,477,352"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="525,325,629,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="677,300,812,327"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="677,351,812,377"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="860,300,1021,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="881,351,1001,377"/>
<area shape="rect" id="node9" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1261,300,1397,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1080,351,1203,377"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1069,402,1213,443"/>
<area shape="rect" id="node10" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1445,249,1599,276"/>
<area shape="rect" id="node13" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1838,275,1977,301"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1668,300,1768,327"/>
<area shape="rect" id="node15" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1481,81,1563,108"/>
<area shape="rect" id="node11" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1665,132,1771,159"/>
<area shape="rect" id="node12" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1647,183,1789,225"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1661,31,1775,57"/>
<area shape="rect" id="node17" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1837,56,1977,83"/>
<area shape="rect" id="node18" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1854,5,1961,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_icgraph" id="nilfs2_2bmap_8c_a0eb8b386860fba82ebb80f18f00c50d3_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="201,107,343,133"/>
<area shape="rect" id="node3" href="cpfile_8c.html#aef70b3a4a8a5ff5520368acfc981309c" title="nilfs_cpfile_find_checkpoint\l_block" alt="" coords="391,99,573,141"/>
<area shape="rect" id="node4" href="cpfile_8c.html#adcc12fdd10ce1288436abf623cafddf6" title="nilfs_cpfile_do_get\l_cpinfo" alt="" coords="621,99,752,141"/>
<area shape="rect" id="node5" href="cpfile_8h.html#af8a3238ead93e98a3649d9894bdb2697" title="nilfs_cpfile_get_cpinfo" alt="" coords="800,76,951,103"/>
<area shape="rect" id="node15" href="cpfile_8h.html#a6e990efd59118351015faa42bdd10540" title="nilfs_cpfile_delete\l_checkpoint" alt="" coords="812,129,939,170"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#a052bde2d471171e3c79d95c1c39c1561" title="nilfs_ioctl_do_get\l_cpinfo" alt="" coords="999,66,1121,107"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1169,107,1247,133"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1295,81,1415,108"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1471,81,1585,108"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1463,132,1593,159"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1646,5,1735,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1645,56,1737,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1641,107,1740,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1648,157,1733,184"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1001,131,1119,173"/>
</map>
</div>

</div>
</div>
<a id="ac6183fc85d304f3be2788b7d5fd0771c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6183fc85d304f3be2788b7d5fd0771c">&#9670;&nbsp;</a></span>nilfs_bmap_test_and_clear_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_test_and_clear_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_test_and_clear_dirty - test and clear a bmap dirty state : bmap</p>
<p>Description: nilfs_test_and_clear() is the atomic operation to test and clear the dirty state of .</p>
<p>Return Value: 1 is returned if  is dirty, or 0 if clear. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_cgraph" id="nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8h.html#a5399d2acb05251b7a62d8895ba4d4027" title="nilfs_bmap_dirty" alt="" coords="213,5,331,32"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#acdd57fe8b71bb70aaf1a0cb3c0ad79d6" title="nilfs_bmap_clear_dirty" alt="" coords="196,56,348,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_icgraph" id="nilfs2_2bmap_8c_ac6183fc85d304f3be2788b7d5fd0771c_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a0068a76c65a214c857fceaefe8a7dd8a" title="nilfs_mdt_fetch_dirty" alt="" coords="196,276,339,303"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="387,269,523,310"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="816,220,963,247"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="571,301,749,328"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1029,220,1187,247"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1455,157,1601,184"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1239,279,1387,305"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1243,213,1382,254"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1235,161,1391,188"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1439,275,1617,301"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1686,299,1763,325"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1849,411,1969,437"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2053,411,2168,437"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2045,309,2176,336"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2277,436,2367,463"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2276,487,2368,513"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2273,335,2371,361"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2279,385,2365,412"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1459,220,1597,247"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1845,227,1974,269"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2035,259,2187,285"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2589,132,2694,159"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2272,56,2372,83"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2235,208,2409,235"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2753,81,2842,108"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2457,107,2535,133"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2583,5,2700,32"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2748,5,2847,32"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1832,157,1987,184"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2055,107,2166,133"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1238,330,1387,371"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="797,378,981,419"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1672,349,1777,376"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1470,325,1586,352"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1039,401,1177,442"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1034,276,1182,303"/>
<area shape="rect" id="node37" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1243,427,1382,453"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1478,485,1578,512"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1665,400,1784,427"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1665,552,1784,579"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1679,451,1770,477"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1850,552,1969,579"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1840,471,1979,513"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2040,360,2181,387"/>
</map>
</div>

</div>
</div>
<a id="adcaab699f36844da5c7ccdc6c4342dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcaab699f36844da5c7ccdc6c4342dee">&#9670;&nbsp;</a></span>nilfs_bmap_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_bmap_truncate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_truncate - truncate a bmap to a specified key : bmap : key</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#adcaab699f36844da5c7ccdc6c4342dee">nilfs_bmap_truncate()</a> removes key-record pairs whose keys are greater than or equal to  from .</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error codes is returned.</p>
<p>%-EIO - I/O error.</p>
<p>%-ENOMEM - Insufficient amount of memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_cgraph.png" border="0" usemap="#nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_cgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_cgraph" id="nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a175d4ecf6f57fcfbda44e32328fec75f" title="nilfs_bmap_do_truncate" alt="" coords="192,244,352,271"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="205,295,339,337"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="400,244,548,271"/>
<area shape="rect" id="node4" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="596,237,723,278"/>
<area shape="rect" id="node5" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="777,195,899,221"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="783,245,893,272"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="427,303,521,329"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="607,303,711,329"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="771,300,905,327"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="771,351,905,377"/>
<area shape="rect" id="node11" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="953,300,1115,327"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="974,351,1094,377"/>
<area shape="rect" id="node14" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1355,300,1491,327"/>
<area shape="rect" id="node24" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1173,351,1296,377"/>
<area shape="rect" id="node25" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1163,402,1307,443"/>
<area shape="rect" id="node15" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1539,249,1692,276"/>
<area shape="rect" id="node18" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1931,275,2070,301"/>
<area shape="rect" id="node19" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1761,300,1861,327"/>
<area shape="rect" id="node20" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1574,81,1657,108"/>
<area shape="rect" id="node16" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1759,132,1864,159"/>
<area shape="rect" id="node17" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1740,183,1883,225"/>
<area shape="rect" id="node21" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1755,31,1868,57"/>
<area shape="rect" id="node22" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1931,56,2071,83"/>
<area shape="rect" id="node23" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1947,5,2054,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_icgraph" id="nilfs2_2bmap_8c_adcaab699f36844da5c7ccdc6c4342dee_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="192,488,331,515"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="379,463,479,489"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="527,539,645,565"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="527,361,645,388"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2437,425,2557,452"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="905,488,996,515"/>
<area shape="rect" id="node5" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="703,336,822,363"/>
<area shape="rect" id="node6" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="693,266,832,307"/>
<area shape="rect" id="node7" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="880,228,1021,255"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1069,220,1244,247"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1292,177,1369,204"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2634,68,2739,95"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1417,177,1535,204"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2805,105,2894,132"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1612,203,1711,229"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1583,152,1740,179"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1792,211,1940,237"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1797,145,1935,186"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1788,93,1944,120"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1992,324,2171,351"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2257,336,2335,363"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2629,425,2744,452"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2621,349,2752,376"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2805,501,2894,528"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2803,349,2895,376"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2800,400,2899,427"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2807,451,2892,477"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2012,163,2151,189"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2231,177,2361,218"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2421,195,2573,221"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2637,144,2737,171"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2008,93,2155,120"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2219,93,2373,120"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2442,93,2553,120"/>
</map>
</div>

</div>
</div>
<a id="ac580a6c63197dea17f308f83a2a9bd08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac580a6c63197dea17f308f83a2a9bd08">&#9670;&nbsp;</a></span>nilfs_bmap_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_bmap_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bmap.html">nilfs_bmap</a> *&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_inode *&#160;</td>
          <td class="paramname"><em>raw_inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_bmap_write - write back a bmap to an inode : bmap : on-disk inode</p>
<p>Description: <a class="el" href="nilfs2_2bmap_8c.html#ac580a6c63197dea17f308f83a2a9bd08">nilfs_bmap_write()</a> stores  in . </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2bmap_8c_ac580a6c63197dea17f308f83a2a9bd08_icgraph.png" border="0" usemap="#nilfs2_2bmap_8c_ac580a6c63197dea17f308f83a2a9bd08_icgraph" alt=""/></div>
<map name="nilfs2_2bmap_8c_ac580a6c63197dea17f308f83a2a9bd08_icgraph" id="nilfs2_2bmap_8c_ac580a6c63197dea17f308f83a2a9bd08_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a124dc262bd3aba953462c70d91c5a8c4" title="nilfs_write_inode_common" alt="" coords="173,1172,349,1199"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="188,1263,335,1290"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="397,1012,528,1039"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1643,860,1763,887"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="405,1165,521,1206"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="405,1230,521,1272"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="598,904,733,945"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="838,962,954,988"/>
<area shape="rect" id="node14" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1040,683,1192,710"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="803,480,989,507"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1852,646,1967,672"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1844,1024,1975,1051"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2051,443,2141,470"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2050,494,2142,520"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2047,595,2145,622"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2053,696,2139,723"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2057,1024,2135,1051"/>
<area shape="rect" id="node15" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1465,480,1567,507"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1655,582,1751,608"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1271,556,1371,583"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1457,860,1575,887"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1277,810,1364,836"/>
<area shape="rect" id="node26" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1279,759,1362,786"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#aa4bf29d1dddcdb9d54f71ac228671ece" title="nilfs_add_nondir" alt="" coords="1851,468,1967,495"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1666,480,1739,507"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1457,430,1575,456"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1471,759,1561,786"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1643,92,1762,119"/>
<area shape="rect" id="node22" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1633,237,1772,278"/>
<area shape="rect" id="node28" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1061,227,1171,254"/>
<area shape="rect" id="node29" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="1251,354,1390,380"/>
<area shape="rect" id="node30" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="1253,202,1388,228"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="1267,50,1374,76"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="1264,100,1377,127"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="1267,151,1374,178"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="576,1252,755,1279"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1246,1196,1395,1237"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1037,1375,1195,1402"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="804,1254,988,1296"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1463,1164,1569,1191"/>
<area shape="rect" id="node38" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1458,1215,1574,1242"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1247,1262,1395,1288"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1251,1313,1390,1354"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1243,1379,1399,1406"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1820,1227,1999,1254"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1447,1320,1585,1347"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1047,1309,1185,1350"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1042,1258,1190,1284"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="405,1296,521,1337"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a425e209932ff53a9965a0073760d292b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425e209932ff53a9965a0073760d292b">&#9670;&nbsp;</a></span>nilfs_bmap_dat_lock_key</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct lock_class_key nilfs_bmap_dat_lock_key</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1398a0ec15fbc09c110caf74366b7080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1398a0ec15fbc09c110caf74366b7080">&#9670;&nbsp;</a></span>nilfs_bmap_mdt_lock_key</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct lock_class_key nilfs_bmap_mdt_lock_key</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="nilfs2_2bmap_8c.html">bmap.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
