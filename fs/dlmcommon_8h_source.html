<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ocfs2/dlm/dlmcommon.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dlmcommon_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">dlmcommon.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="dlmcommon_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* -*- mode: c; c-basic-offset: 8; -*-</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * vim: noexpandtab sw=8 ts=8 sts=0:</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * dlmcommon.h</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2004 Oracle.  All rights reserved.</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU General Public</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2 of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * General Public License for more details.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * License along with this program; if not, write to the</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * Free Software Foundation, Inc., 59 Temple Place - Suite 330,</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * Boston, MA 021110-1307, USA.</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef DLMCOMMON_H</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define DLMCOMMON_H</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;linux/kref.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a60b47fdbcf3db59c3b581141875ec9d2">   30</a></span>&#160;<span class="preprocessor">#define DLM_HB_NODE_DOWN_PRI     (0xf000000)</span></div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a60558869c9f90312699f3c9c662e8b44">   31</a></span>&#160;<span class="preprocessor">#define DLM_HB_NODE_UP_PRI       (0x8000000)</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a6f95293b51d51cf4d6d3f81bf8538284">   33</a></span>&#160;<span class="preprocessor">#define DLM_LOCKID_NAME_MAX    32</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#afccb13a9c0d1fe1f07e8dba45c826089">   35</a></span>&#160;<span class="preprocessor">#define DLM_DOMAIN_NAME_MAX_LEN    255</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a556ecd416b5480850757804ee04cd332">   36</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_OWNER_UNKNOWN     O2NM_MAX_NODES</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#abbd5074df446f6dd0fd6bace59725158">   37</a></span>&#160;<span class="preprocessor">#define DLM_THREAD_SHUFFLE_INTERVAL    5     // flush everything every 5 passes</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a7dfe13d97c559bfccc3110ed675d8bfa">   38</a></span>&#160;<span class="preprocessor">#define DLM_THREAD_MS                  200   // flush at least every 200 ms</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af2980c33c8fc45d9bdd70afcaf344ec2">   40</a></span>&#160;<span class="preprocessor">#define DLM_HASH_SIZE_DEFAULT   (1 &lt;&lt; 17)</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#if DLM_HASH_SIZE_DEFAULT &lt; PAGE_SIZE</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor"># define DLM_HASH_PAGES     1</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a366d6dda98ac0554dfdc8c397fa4d77e">   44</a></span>&#160;<span class="preprocessor"># define DLM_HASH_PAGES     (DLM_HASH_SIZE_DEFAULT / PAGE_SIZE)</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9b345967fff1fea5217e492aa6bf81f3">   46</a></span>&#160;<span class="preprocessor">#define DLM_BUCKETS_PER_PAGE    (PAGE_SIZE / sizeof(struct hlist_head))</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a8dc1e6b7e07654fd16469faef9814580">   47</a></span>&#160;<span class="preprocessor">#define DLM_HASH_BUCKETS    (DLM_HASH_PAGES * DLM_BUCKETS_PER_PAGE)</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/* Intended to make it easier for us to switch out hash functions */</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a56d7d084f2f9acd73ca90a40aba6eed9">   50</a></span>&#160;<span class="preprocessor">#define dlm_lockid_hash(_n, _l) full_name_hash(NULL, _n, _l)</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838">   52</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838">dlm_mle_type</a> {</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838a781eeebb7c4ae941f4439156cdb80905">   53</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838a781eeebb7c4ae941f4439156cdb80905">DLM_MLE_BLOCK</a> = 0,</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ab57739b2f2037429f76e12128dff54b6">   54</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ab57739b2f2037429f76e12128dff54b6">DLM_MLE_MASTER</a> = 1,</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838a9ecbc1bcaf6d71a04fa13b5a6025e955">   55</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838a9ecbc1bcaf6d71a04fa13b5a6025e955">DLM_MLE_MIGRATION</a> = 2,</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ad41e39753bef3b9a8d8f0f23b60c9a47">   56</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ad41e39753bef3b9a8d8f0f23b60c9a47">DLM_MLE_NUM_TYPES</a> = 3,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html">   59</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__master__list__entry.html">dlm_master_list_entry</a> {</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a92d870e14cc092871d9096646551af3a">   60</a></span>&#160;    <span class="keyword">struct </span>hlist_node <a class="code" href="structdlm__master__list__entry.html#a92d870e14cc092871d9096646551af3a">master_hash_node</a>;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a755d6c3b550bac04e6cf5e62531d37bf">   61</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="structdlm__master__list__entry.html#a755d6c3b550bac04e6cf5e62531d37bf">hb_events</a>;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">   62</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a42de515f319e93fb5adb233a4ead3879">   63</a></span>&#160;    spinlock_t <a class="code" href="structdlm__master__list__entry.html#a42de515f319e93fb5adb233a4ead3879">spinlock</a>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#ae3bbaba5ddaea3a73bc7290fc43e80f1">   64</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__master__list__entry.html#ae3bbaba5ddaea3a73bc7290fc43e80f1">wq</a>;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a9c8a133ff850c98344b83daaac3eedd7">   65</a></span>&#160;    atomic_t <a class="code" href="structdlm__master__list__entry.html#a9c8a133ff850c98344b83daaac3eedd7">woken</a>;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#aa1fa526c99db461fd2c8f82a1c832982">   66</a></span>&#160;    <span class="keyword">struct </span>kref <a class="code" href="structdlm__master__list__entry.html#aa1fa526c99db461fd2c8f82a1c832982">mle_refs</a>;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#ab7d579ff7767fb30b6065252506e2062">   67</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdlm__master__list__entry.html#ab7d579ff7767fb30b6065252506e2062">inuse</a>;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#ab1919fae1243394fe8b796dade1304cc">   68</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structdlm__master__list__entry.html#ab1919fae1243394fe8b796dade1304cc">maybe_map</a>[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a61b44bfaf4e205c24ee49316b48486e1">   69</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structdlm__master__list__entry.html#a61b44bfaf4e205c24ee49316b48486e1">vote_map</a>[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#ac24a8b668552d8c589731e8390b60ad2">   70</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structdlm__master__list__entry.html#ac24a8b668552d8c589731e8390b60ad2">response_map</a>[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a917557dc7349b3b9b584bd4dd42575a3">   71</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structdlm__master__list__entry.html#a917557dc7349b3b9b584bd4dd42575a3">node_map</a>[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a952204d2ef705e9417ff974722e0f83e">   72</a></span>&#160;    u8 <a class="code" href="structdlm__master__list__entry.html#a952204d2ef705e9417ff974722e0f83e">master</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a9ec475a2d62fba987308067149de1f25">   73</a></span>&#160;    u8 <a class="code" href="structdlm__master__list__entry.html#a9ec475a2d62fba987308067149de1f25">new_master</a>;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a97b3eed9319b4aa1d6e547e84930870c">   74</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838">dlm_mle_type</a> <a class="code" href="structdlm__master__list__entry.html#a97b3eed9319b4aa1d6e547e84930870c">type</a>;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a8f9b2c6b50dae210bb1386d8f5b86f6f">   75</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structo2hb__callback__func.html">o2hb_callback_func</a> <a class="code" href="structdlm__master__list__entry.html#a8f9b2c6b50dae210bb1386d8f5b86f6f">mle_hb_up</a>;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a4200499ae2784c839a3391fbcf51ece3">   76</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structo2hb__callback__func.html">o2hb_callback_func</a> <a class="code" href="structdlm__master__list__entry.html#a4200499ae2784c839a3391fbcf51ece3">mle_hb_down</a>;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a509830cfa4de837a26dd1e8a20bec27f">   77</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *<a class="code" href="structdlm__master__list__entry.html#a509830cfa4de837a26dd1e8a20bec27f">mleres</a>;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#abefb7db820fd6b12357e27394a3b682e">   78</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdlm__master__list__entry.html#abefb7db820fd6b12357e27394a3b682e">mname</a>[<a class="code" href="dlmcommon_8h.html#a6f95293b51d51cf4d6d3f81bf8538284">DLM_LOCKID_NAME_MAX</a>];</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a3d241b35039c733d934e4428324afa0a">   79</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdlm__master__list__entry.html#a3d241b35039c733d934e4428324afa0a">mnamelen</a>;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structdlm__master__list__entry.html#a771cc5552a883da132f3f3563f86d203">   80</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdlm__master__list__entry.html#a771cc5552a883da132f3f3563f86d203">mnamehash</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;};</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482">   83</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482">dlm_ast_type</a> {</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a79ecd788fb389dafdd9f14eb2b06dc13">   84</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a79ecd788fb389dafdd9f14eb2b06dc13">DLM_AST</a> = 0,</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a44822ebfcce05d3e76db609d3df741de">   85</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a44822ebfcce05d3e76db609d3df741de">DLM_BAST</a> = 1,</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482afffccfb5dfd4c5bde1d4d85fd1df4f0b">   86</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482afffccfb5dfd4c5bde1d4d85fd1df4f0b">DLM_ASTUNLOCK</a> = 2,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;};</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a39fed177fa79d680cd0c7c1cd82d4dce">   90</a></span>&#160;<span class="preprocessor">#define LKM_VALID_FLAGS (LKM_VALBLK | LKM_CONVERT | LKM_UNLOCK | \</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">             LKM_CANCEL | LKM_INVVALBLK | LKM_FORCE | \</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">             LKM_RECOVERY | LKM_LOCAL | LKM_NOQUEUE)</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ac9927c9288c91cf4378312bb616411cf">   94</a></span>&#160;<span class="preprocessor">#define DLM_RECOVERY_LOCK_NAME       &quot;$RECOVERY&quot;</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aba45610940c6ca131938b8e19e3cf158">   95</a></span>&#160;<span class="preprocessor">#define DLM_RECOVERY_LOCK_NAME_LEN   9</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391">   97</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391">dlm_is_recovery_lock</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *lock_name, <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#af56dc0f218e25ace3ee2d64bbaf2a2a8">name_len</a>)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (name_len == <a class="code" href="dlmcommon_8h.html#aba45610940c6ca131938b8e19e3cf158">DLM_RECOVERY_LOCK_NAME_LEN</a> &amp;&amp;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        memcmp(lock_name, <a class="code" href="dlmcommon_8h.html#ac9927c9288c91cf4378312bb616411cf">DLM_RECOVERY_LOCK_NAME</a>, name_len)==0)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ab36988b1c80df8b512cf829feeeb9d63">  105</a></span>&#160;<span class="preprocessor">#define DLM_RECO_STATE_ACTIVE    0x0001</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aae3c8e7b7626db7da2bd6ce435116bde">  106</a></span>&#160;<span class="preprocessor">#define DLM_RECO_STATE_FINALIZE  0x0002</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html">  108</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__recovery__ctxt.html">dlm_recovery_ctxt</a></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#a6690c1daa7d55606bb192584e13a1298">  110</a></span>&#160;    <span class="keyword">struct </span>list_head resources;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#a158d175dcaf6bbee6a49f2d5e0e5e121">  111</a></span>&#160;    <span class="keyword">struct </span>list_head node_data;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#a9d0b93d99eccc4fb1ed8e43233e4d7e4">  112</a></span>&#160;    u8  <a class="code" href="structdlm__recovery__ctxt.html#a9d0b93d99eccc4fb1ed8e43233e4d7e4">new_master</a>;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#abe88fccd96aa1fc6305cc6e9fe4a2d3b">  113</a></span>&#160;    u8  <a class="code" href="structdlm__recovery__ctxt.html#abe88fccd96aa1fc6305cc6e9fe4a2d3b">dead_node</a>;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#a736261c22fe0e8824fde8dce2c55f35a">  114</a></span>&#160;    u16 <a class="code" href="structdlm__recovery__ctxt.html#a736261c22fe0e8824fde8dce2c55f35a">state</a>;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#ad128e7df863370e161ddea4f57cc6a75">  115</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structdlm__master__list__entry.html#a917557dc7349b3b9b584bd4dd42575a3">node_map</a>[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structdlm__recovery__ctxt.html#a012034ab02cc298849855f9401e10179">  116</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__recovery__ctxt.html#a012034ab02cc298849855f9401e10179">event</a>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;};</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cd">  119</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cd">dlm_ctxt_state</a> {</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda48c3cf04966044f28e4c5abe79a92575">  120</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda48c3cf04966044f28e4c5abe79a92575">DLM_CTXT_NEW</a> = 0,</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda65c7195e70d9e346b19e410dd12a3c1a">  121</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda65c7195e70d9e346b19e410dd12a3c1a">DLM_CTXT_JOINED</a> = 1,</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda0393eb46473b204e1e5820f0ba96e147">  122</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda0393eb46473b204e1e5820f0ba96e147">DLM_CTXT_IN_SHUTDOWN</a> = 2,</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cdaab118ed8fa209f9ed222a74b5d122c7b">  123</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cdaab118ed8fa209f9ed222a74b5d122c7b">DLM_CTXT_LEAVING</a> = 3,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;};</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html">  126</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__ctxt.html">dlm_ctxt</a></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a21987da60e76764dbbd938c4078c1e67">  128</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a20b9a7dc63146eeca9b9a171c360a4ba">  129</a></span>&#160;    <span class="keyword">struct </span>hlist_head **<a class="code" href="structdlm__ctxt.html#a20b9a7dc63146eeca9b9a171c360a4ba">lockres_hash</a>;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ab26856b7b507007fbc7433153b53162b">  130</a></span>&#160;    <span class="keyword">struct </span>list_head dirty_list;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a8dd5436670fe3bbe515f01d71d1d7383">  131</a></span>&#160;    <span class="keyword">struct </span>list_head purge_list;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a6481741ebe382257fad27da4fa0b3bd4">  132</a></span>&#160;    <span class="keyword">struct </span>list_head pending_asts;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ae44376778094860686a41737b7b17126">  133</a></span>&#160;    <span class="keyword">struct </span>list_head pending_basts;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#aedf383c9d6e2442fdd90c955a1f122fb">  134</a></span>&#160;    <span class="keyword">struct </span>list_head tracking_list;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ad4be3b3cd7b38fe4298ac9fbfa1b72ff">  135</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdlm__ctxt.html#ad4be3b3cd7b38fe4298ac9fbfa1b72ff">purge_count</a>;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a5afa83702450db3ea887cc1a6637c494">  136</a></span>&#160;    spinlock_t <a class="code" href="structdlm__ctxt.html#a5afa83702450db3ea887cc1a6637c494">spinlock</a>;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a047b56cd08ddaf0e0679d26f30ef0858">  137</a></span>&#160;    spinlock_t <a class="code" href="structdlm__ctxt.html#a047b56cd08ddaf0e0679d26f30ef0858">ast_lock</a>;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a96da367d2737ffb270cedd35b6b2d53e">  138</a></span>&#160;    spinlock_t <a class="code" href="structdlm__ctxt.html#a96da367d2737ffb270cedd35b6b2d53e">track_lock</a>;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a02a7c15cdf6f05e7712e300bc0e463a1">  139</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structdlm__ctxt.html#a02a7c15cdf6f05e7712e300bc0e463a1">name</a>;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ad0e0113b9d82f9361b69feccd2b59c53">  140</a></span>&#160;    u8 <a class="code" href="structdlm__ctxt.html#ad0e0113b9d82f9361b69feccd2b59c53">node_num</a>;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ad6f95b7b68de0d02cfb01c087c9cced7">  141</a></span>&#160;    u32 <a class="code" href="structdlm__ctxt.html#ad6f95b7b68de0d02cfb01c087c9cced7">key</a>;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a1cfec5d108e79547db730aa5b6e4afe3">  142</a></span>&#160;    u8  <a class="code" href="structdlm__ctxt.html#a1cfec5d108e79547db730aa5b6e4afe3">joining_node</a>;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#af3be90203d7f2e6fbd2ecbdad996c32d">  143</a></span>&#160;    u8 <a class="code" href="structdlm__ctxt.html#af3be90203d7f2e6fbd2ecbdad996c32d">migrate_done</a>; <span class="comment">/* set to 1 means node has migrated all lock resources */</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a0202ff9a417288ad110fac5ea148595a">  144</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__ctxt.html#a0202ff9a417288ad110fac5ea148595a">dlm_join_events</a>;</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a9f1e0962dadfec510c813d28ed6e50b5">  145</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> live_nodes_map[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#abfe40c938f194826eb7b152e572e7a8f">  146</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> domain_map[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a29bba1ae3b3a04eaea7e5352b33446d5">  147</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> exit_domain_map[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a2814dd46bcda139f58b4b09900ea0884">  148</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> recovery_map[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a4b10b9b9b9ddee19241d281c15a44603">  149</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__recovery__ctxt.html">dlm_recovery_ctxt</a> reco;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#aac6ce7a55f2a1a442fb01ba7c1d2a838">  150</a></span>&#160;    spinlock_t <a class="code" href="structdlm__ctxt.html#aac6ce7a55f2a1a442fb01ba7c1d2a838">master_lock</a>;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a9b8314e87543ec11875418ac3fcdca8b">  151</a></span>&#160;    <span class="keyword">struct </span>hlist_head **<a class="code" href="structdlm__ctxt.html#a9b8314e87543ec11875418ac3fcdca8b">master_hash</a>;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a15ff2808b805a0277a2ae1da32eee3c0">  152</a></span>&#160;    <span class="keyword">struct </span>list_head mle_hb_events;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">/* these give a really vague idea of the system load */</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a6db00b5fdea9c8123c98c938f6bd76ad">  155</a></span>&#160;    atomic_t mle_tot_count[<a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ad41e39753bef3b9a8d8f0f23b60c9a47">DLM_MLE_NUM_TYPES</a>];</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ac7b06588fb8bad21a945637e85b2f617">  156</a></span>&#160;    atomic_t mle_cur_count[<a class="code" href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ad41e39753bef3b9a8d8f0f23b60c9a47">DLM_MLE_NUM_TYPES</a>];</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a6c4d0e9b850c27acb89a7b4ead56fa44">  157</a></span>&#160;    atomic_t <a class="code" href="structdlm__ctxt.html#a6c4d0e9b850c27acb89a7b4ead56fa44">res_tot_count</a>;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a63a11a2202ccaaca95a95619e00dd87f">  158</a></span>&#160;    atomic_t <a class="code" href="structdlm__ctxt.html#a63a11a2202ccaaca95a95619e00dd87f">res_cur_count</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a0a5bd08b5383110cab9be38dd3543373">  160</a></span>&#160;    <span class="keyword">struct </span>dlm_debug_ctxt *<a class="code" href="structdlm__ctxt.html#a0a5bd08b5383110cab9be38dd3543373">dlm_debug_ctxt</a>;</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a6da08c50d9eb01e1e9a79a7368e5e996">  161</a></span>&#160;    <span class="keyword">struct </span>dentry *<a class="code" href="structdlm__ctxt.html#a6da08c50d9eb01e1e9a79a7368e5e996">dlm_debugfs_subroot</a>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">/* NOTE: Next three are protected by dlm_domain_lock */</span></div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a45906d3f58b8b9c1ea3ec1e60c8a288c">  164</a></span>&#160;    <span class="keyword">struct </span>kref dlm_refs;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a4c6e9c97e7a4e582c0fbe40fbdf716b6">  165</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cd">dlm_ctxt_state</a> dlm_state;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a45100b032ee75528980885acbb759984">  166</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdlm__ctxt.html#a45100b032ee75528980885acbb759984">num_joins</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#aafa0d9680795db718fac9f02ec35da2b">  168</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structo2hb__callback__func.html">o2hb_callback_func</a> dlm_hb_up;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a9453c2b4bf80a12f7d15e9b044abd07e">  169</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structo2hb__callback__func.html">o2hb_callback_func</a> dlm_hb_down;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#af481d9ea02b5e33b5ce9d3cc8fc2857d">  170</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structdlm__ctxt.html#af481d9ea02b5e33b5ce9d3cc8fc2857d">dlm_thread_task</a>;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a6e83eef8c593ef9a8f1d9f7fafd2ea8f">  171</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structdlm__ctxt.html#a6e83eef8c593ef9a8f1d9f7fafd2ea8f">dlm_reco_thread_task</a>;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a0008c3312bd0eff5da0567d1c80a0429">  172</a></span>&#160;    <span class="keyword">struct </span>workqueue_struct *<a class="code" href="structdlm__ctxt.html#a0008c3312bd0eff5da0567d1c80a0429">dlm_worker</a>;</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a13bd48eb0db191f9b7eaa5b7bd00f5b0">  173</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__ctxt.html#a13bd48eb0db191f9b7eaa5b7bd00f5b0">dlm_thread_wq</a>;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#aa0fd3507d8612b5d87b1d562921b21af">  174</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__ctxt.html#aa0fd3507d8612b5d87b1d562921b21af">dlm_reco_thread_wq</a>;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#aaa6322dfac79e6ab7ec7129d41d6e063">  175</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__ctxt.html#aaa6322dfac79e6ab7ec7129d41d6e063">ast_wq</a>;</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ac1a59624cdd67fd1d77a598c70d58c03">  176</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__ctxt.html#ac1a59624cdd67fd1d77a598c70d58c03">migration_wq</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a919be7a038b6d321e2921a1c371333a1">  178</a></span>&#160;    <span class="keyword">struct </span>work_struct dispatched_work;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a654582ec73907c974713ffee659e5e19">  179</a></span>&#160;    <span class="keyword">struct </span>list_head work_list;</div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#ad1ef3a2d2d55a44716637113ad7eef52">  180</a></span>&#160;    spinlock_t <a class="code" href="structdlm__ctxt.html#ad1ef3a2d2d55a44716637113ad7eef52">work_lock</a>;</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#acc7c923e3f357917e62789634d725569">  181</a></span>&#160;    <span class="keyword">struct </span>list_head dlm_domain_handlers;</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a122591cc1101b0521293d9d2ae4f998f">  182</a></span>&#160;    <span class="keyword">struct </span>list_head    dlm_eviction_callbacks;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">/* The filesystem specifies this at domain registration.  We</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">     * cache it here to know what to tell other nodes. */</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a1cc1d5bc64d2c7abd14c1d0316d1b07d">  186</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__protocol__version.html">dlm_protocol_version</a> fs_locking_proto;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">/* This is the inter-dlm communication version */</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structdlm__ctxt.html#a8a4b8661f418696f4ffc44298df6e6b6">  188</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__protocol__version.html">dlm_protocol_version</a> dlm_locking_proto;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;};</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae6b5b04a326832ea9439f7abb3353774">  191</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>hlist_head *<a class="code" href="dlmcommon_8h.html#ae6b5b04a326832ea9439f7abb3353774">dlm_lockres_hash</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>, <span class="keywordtype">unsigned</span> i)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">return</span> dlm-&gt;<a class="code" href="structdlm__ctxt.html#a20b9a7dc63146eeca9b9a171c360a4ba">lockres_hash</a>[(i / <a class="code" href="dlmcommon_8h.html#a9b345967fff1fea5217e492aa6bf81f3">DLM_BUCKETS_PER_PAGE</a>) % <a class="code" href="dlmcommon_8h.html#a366d6dda98ac0554dfdc8c397fa4d77e">DLM_HASH_PAGES</a>] + (i % <a class="code" href="dlmcommon_8h.html#a9b345967fff1fea5217e492aa6bf81f3">DLM_BUCKETS_PER_PAGE</a>);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a246b3831e0961d0ac3dd1e564b772c25">  196</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>hlist_head *<a class="code" href="dlmcommon_8h.html#a246b3831e0961d0ac3dd1e564b772c25">dlm_master_hash</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                         <span class="keywordtype">unsigned</span> i)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> dlm-&gt;<a class="code" href="structdlm__ctxt.html#a9b8314e87543ec11875418ac3fcdca8b">master_hash</a>[(i / <a class="code" href="dlmcommon_8h.html#a9b345967fff1fea5217e492aa6bf81f3">DLM_BUCKETS_PER_PAGE</a>) % <a class="code" href="dlmcommon_8h.html#a366d6dda98ac0554dfdc8c397fa4d77e">DLM_HASH_PAGES</a>] +</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            (i % <a class="code" href="dlmcommon_8h.html#a9b345967fff1fea5217e492aa6bf81f3">DLM_BUCKETS_PER_PAGE</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/* these keventd work queue items are for less-frequently</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> * called functions that cannot be directly called from the</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> * net message handlers for some reason, usually because</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> * they need to send net messages of their own. */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#abc9f0b2c3d40d88e505893df29cbaa05">dlm_dispatch_work</a>(<span class="keyword">struct</span> work_struct *work);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__work__item.html">dlm_work_item</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5079e0aa02b8414573510fbd1d3769ff">  212</a></span>&#160;<span class="keyword">typedef</span> void (<a class="code" href="dlmcommon_8h.html#a5079e0aa02b8414573510fbd1d3769ff">dlm_workfunc_t</a>)(<span class="keyword">struct </span><a class="code" href="structdlm__work__item.html">dlm_work_item</a> *, <span class="keywordtype">void</span> *);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structdlm__request__all__locks__priv.html">  214</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__request__all__locks__priv.html">dlm_request_all_locks_priv</a></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structdlm__request__all__locks__priv.html#a03c10ae8f9fd69916704174c5e310cae">  216</a></span>&#160;    u8 <a class="code" href="structdlm__request__all__locks__priv.html#a03c10ae8f9fd69916704174c5e310cae">reco_master</a>;</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structdlm__request__all__locks__priv.html#a0c079cc90c81226cbe583857762c656f">  217</a></span>&#160;    u8 <a class="code" href="structdlm__request__all__locks__priv.html#a0c079cc90c81226cbe583857762c656f">dead_node</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;};</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structdlm__mig__lockres__priv.html">  220</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__mig__lockres__priv.html">dlm_mig_lockres_priv</a></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="structdlm__mig__lockres__priv.html#acaa70e0832178049b105ba0d717de9ee">  222</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *<a class="code" href="structdlm__mig__lockres__priv.html#acaa70e0832178049b105ba0d717de9ee">lockres</a>;</div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="structdlm__mig__lockres__priv.html#abb234d0c20df47483c3dc47a135f669a">  223</a></span>&#160;    u8 <a class="code" href="structdlm__mig__lockres__priv.html#abb234d0c20df47483c3dc47a135f669a">real_master</a>;</div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structdlm__mig__lockres__priv.html#a34d669c5ee7fac747c0972967f89e999">  224</a></span>&#160;    u8 <a class="code" href="structdlm__mig__lockres__priv.html#a34d669c5ee7fac747c0972967f89e999">extra_ref</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;};</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structdlm__assert__master__priv.html">  227</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__assert__master__priv.html">dlm_assert_master_priv</a></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structdlm__assert__master__priv.html#aa4fb35097669b3f61465115940df48c1">  229</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *<a class="code" href="structdlm__assert__master__priv.html#aa4fb35097669b3f61465115940df48c1">lockres</a>;</div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structdlm__assert__master__priv.html#a3fd2372970c90f13c7eca4b0e6c7ea01">  230</a></span>&#160;    u8 <a class="code" href="structdlm__assert__master__priv.html#a3fd2372970c90f13c7eca4b0e6c7ea01">request_from</a>;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="structdlm__assert__master__priv.html#ac3435f1c877226d4327150825e3cb967">  231</a></span>&#160;    u32 <a class="code" href="structdlm__assert__master__priv.html#ac3435f1c877226d4327150825e3cb967">flags</a>;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structdlm__assert__master__priv.html#a998c1c5d1e4f3a5c677e68703e3fdb7d">  232</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structdlm__assert__master__priv.html#a998c1c5d1e4f3a5c677e68703e3fdb7d">ignore_higher</a>:1;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;};</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__priv.html">  235</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__deref__lockres__priv.html">dlm_deref_lockres_priv</a></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__priv.html#a2563ead79a1f43d379dffb0555acc3f0">  237</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *<a class="code" href="structdlm__deref__lockres__priv.html#a2563ead79a1f43d379dffb0555acc3f0">deref_res</a>;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__priv.html#a72f007cf288bf8cc565a6a77150109e1">  238</a></span>&#160;    u8 <a class="code" href="structdlm__deref__lockres__priv.html#a72f007cf288bf8cc565a6a77150109e1">deref_node</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;};</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="structdlm__work__item.html">  241</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__work__item.html">dlm_work_item</a></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#a53294ad1288d1ad2f0f2841ec13ff9d8">  243</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;</div><div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#ae2d919533cfacbe0a6b642221aab8d23">  244</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a5079e0aa02b8414573510fbd1d3769ff">dlm_workfunc_t</a> *<a class="code" href="structdlm__work__item.html#ae2d919533cfacbe0a6b642221aab8d23">func</a>;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#ace57af5f424c245f2ba733990b194660">  245</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__work__item.html#ace57af5f424c245f2ba733990b194660">dlm</a>;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#a32a911e0ecd40fefaf72bd6e89b95708">  246</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdlm__work__item.html#a32a911e0ecd40fefaf72bd6e89b95708">data</a>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#a3899236ea9393ebc8427a4f003708d39">  248</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structdlm__request__all__locks__priv.html">dlm_request_all_locks_priv</a> ral;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#a89953c7ffa3cb127960b156dc60c8590">  249</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structdlm__mig__lockres__priv.html">dlm_mig_lockres_priv</a> ml;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#a02d1afdc355611fd8c1567792cdd7b06">  250</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structdlm__assert__master__priv.html">dlm_assert_master_priv</a> am;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structdlm__work__item.html#a70c25ed2232194fe55a630bafe7e0af6">  251</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structdlm__deref__lockres__priv.html">dlm_deref_lockres_priv</a> dl;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    } <a class="code" href="protocol_8h.html#ad56754751edde9686250d5005b525abf">u</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;};</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a3728f584c5b44a3bf95e4b8e4b7ddf80">  255</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a3728f584c5b44a3bf95e4b8e4b7ddf80">dlm_init_work_item</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structdlm__work__item.html">dlm_work_item</a> *i,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                      <a class="code" href="dlmcommon_8h.html#a5079e0aa02b8414573510fbd1d3769ff">dlm_workfunc_t</a> *f, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;{</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    memset(i, 0, <span class="keyword">sizeof</span>(*i));</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    i-&gt;<a class="code" href="structdlm__work__item.html#ae2d919533cfacbe0a6b642221aab8d23">func</a> = f;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    INIT_LIST_HEAD(&amp;i-&gt;<a class="code" href="structdlm__work__item.html#a53294ad1288d1ad2f0f2841ec13ff9d8">list</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    i-&gt;<a class="code" href="structdlm__work__item.html#a32a911e0ecd40fefaf72bd6e89b95708">data</a> = <a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    i-&gt;<a class="code" href="structdlm__work__item.html#ace57af5f424c245f2ba733990b194660">dlm</a> = <a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>;  <span class="comment">/* must have already done a dlm_grab on this! */</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae3eea3c41cbcdb164c5c89f56b050c78">  268</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ae3eea3c41cbcdb164c5c89f56b050c78">__dlm_set_joining_node</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>,</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                      u8 node)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    assert_spin_locked(&amp;dlm-&gt;<a class="code" href="structdlm__ctxt.html#a5afa83702450db3ea887cc1a6637c494">spinlock</a>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    dlm-&gt;<a class="code" href="structdlm__ctxt.html#a1cfec5d108e79547db730aa5b6e4afe3">joining_node</a> = node;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    wake_up(&amp;dlm-&gt;<a class="code" href="structdlm__ctxt.html#a0202ff9a417288ad110fac5ea148595a">dlm_join_events</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ad81911bcae6a7dce878b0557de9bfca7">  277</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_UNINITED             0x00000001</span></div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aefabc07e6c0afadeac469859a28960df">  278</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_RECOVERING           0x00000002</span></div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ac98499d93594dc7fe40d629404138378">  279</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_READY                0x00000004</span></div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9e1caf6d57a83b5bddc20866dc605554">  280</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_DIRTY                0x00000008</span></div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ac1a48746ad80e71f32e22805d1f6bba1">  281</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_IN_PROGRESS          0x00000010</span></div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a0436345348f52a65b2eff75c1cdc2cae">  282</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_MIGRATING            0x00000020</span></div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#adc467f92b83d97d017b75dfa31b63dc7">  283</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_DROPPING_REF         0x00000040</span></div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aaa912a08133b7e1431cd1e7c265f9326">  284</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_BLOCK_DIRTY          0x00001000</span></div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#afda4cf70bb993821aa09bbf0785ba2e9">  285</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_SETREF_INPROG        0x00002000</span></div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aa2ef928a88f4e2666b96e6a256a95530">  286</a></span>&#160;<span class="preprocessor">#define DLM_LOCK_RES_RECOVERY_WAITING     0x00004000</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">/* max milliseconds to wait to sync up a network failure with a node death */</span></div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae74171d6db157648553e381881ff62dc">  289</a></span>&#160;<span class="preprocessor">#define DLM_NODE_DEATH_WAIT_MAX (5 * 1000)</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a21d17e9a47d33f835d966d7185a65004">  291</a></span>&#160;<span class="preprocessor">#define DLM_PURGE_INTERVAL_MS   (8 * 1000)</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html">  293</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;{</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">/* WARNING: Please see the comment in dlm_init_lockres before</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">     * adding fields here. */</span></div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#afe824e7d9495b56c2dcddc9432c773b5">  297</a></span>&#160;    <span class="keyword">struct </span>hlist_node hash_node;</div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#af7ab6b305052f5e0cf239f05b96e9904">  298</a></span>&#160;    <span class="keyword">struct </span>qstr lockname;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a0ed4ebad4fb178ba0c9cf9086b458cb4">  299</a></span>&#160;    <span class="keyword">struct </span>kref      refs;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">     * Please keep granted, converting, and blocked in this order,</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">     * as some funcs want to iterate over all lists.</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">     * All four lists are protected by the hash&#39;s reference.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#aa0c14589bfc3decb96897a2195b2c9a7">  307</a></span>&#160;    <span class="keyword">struct </span>list_head granted;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a0c3702fefb85af285c59771d0c318070">  308</a></span>&#160;    <span class="keyword">struct </span>list_head converting;</div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a67e24e4dd74d93ba47e5ee465baef0e5">  309</a></span>&#160;    <span class="keyword">struct </span>list_head blocked;</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#ac21f6109dbe6889c6d01f70e3fd6dcab">  310</a></span>&#160;    <span class="keyword">struct </span>list_head purge;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">     * These two lists require you to hold an additional reference</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">     * while they are on the list.</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#ae2f043fd62d04e100bde13eca91b1996">  316</a></span>&#160;    <span class="keyword">struct </span>list_head dirty;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a91589e423b37e2e775021a9e261ccf8d">  317</a></span>&#160;    <span class="keyword">struct </span>list_head recovering; <span class="comment">// dlm_recovery_ctxt.resources list</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="comment">/* Added during init and removed during release */</span></div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#af7329437e4f191e6276f260ea38d99a2">  320</a></span>&#160;    <span class="keyword">struct </span>list_head tracking;  <span class="comment">/* dlm-&gt;tracking_list */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">/* unused lock resources have their last_used stamped and are</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">     * put on a list for the dlm thread to run. */</span></div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#ae93f35307e2f5ddbcf3ada94c9d4ac05">  324</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>    <a class="code" href="structdlm__lock__resource.html#ae93f35307e2f5ddbcf3ada94c9d4ac05">last_used</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a31bcae9712402f5cfab6f34e48de9e81">  326</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__lock__resource.html#a31bcae9712402f5cfab6f34e48de9e81">dlm</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#abaa7e232396c2704384be63dee6dfa7a">  328</a></span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="structdlm__lock__resource.html#abaa7e232396c2704384be63dee6dfa7a">migration_pending</a>:1;</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a7c552c35065ae9e7364003680cd73fd6">  329</a></span>&#160;    atomic_t <a class="code" href="structdlm__lock__resource.html#a7c552c35065ae9e7364003680cd73fd6">asts_reserved</a>;</div><div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a2a1ef74840381cf56f8fafac9121a5b9">  330</a></span>&#160;    spinlock_t <a class="code" href="structdlm__lock__resource.html#a2a1ef74840381cf56f8fafac9121a5b9">spinlock</a>;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a7f4799a76cc5584b7d5860f91bf5a57e">  331</a></span>&#160;    wait_queue_head_t <a class="code" href="structdlm__lock__resource.html#a7f4799a76cc5584b7d5860f91bf5a57e">wq</a>;</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a2684deb2677ccaddf5af89fa9d39d7d4">  332</a></span>&#160;    u8  <a class="code" href="structdlm__lock__resource.html#a2684deb2677ccaddf5af89fa9d39d7d4">owner</a>;              <span class="comment">//node which owns the lock resource, or unknown</span></div><div class="line"><a name="l00333"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a48c2cbd37d00946401ce10b29671b5a0">  333</a></span>&#160;    u16 <a class="code" href="structdlm__lock__resource.html#a48c2cbd37d00946401ce10b29671b5a0">state</a>;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#ac27db399dc010d21dfc1e9d694623e8a">  334</a></span>&#160;    <span class="keywordtype">char</span> lvb[<a class="code" href="dlmapi_8h.html#a10ad0178a8aa3a2fe7c219c990da9b45">DLM_LVB_LEN</a>];</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a6a82281cd71b8b88b7222673fd9d9149">  335</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdlm__lock__resource.html#a6a82281cd71b8b88b7222673fd9d9149">inflight_locks</a>;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a6378d23605781123bd6f99647ed1e60d">  336</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdlm__lock__resource.html#a6378d23605781123bd6f99647ed1e60d">inflight_assert_workers</a>;</div><div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="structdlm__lock__resource.html#a3a0874a6e8e1a5940d24174ad480121a">  337</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> refmap[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;};</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html">  340</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__migratable__lock.html">dlm_migratable_lock</a></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;{</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#af895fc5c3fe083cbb428108dfe59c9d9">  342</a></span>&#160;    __be64 <a class="code" href="structdlm__migratable__lock.html#af895fc5c3fe083cbb428108dfe59c9d9">cookie</a>;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">/* these 3 are just padding for the in-memory structure, but</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">     * list and flags are actually used when sent over the wire */</span></div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#a3e408f9f82b596f211b8448545d5b852">  346</a></span>&#160;    __be16 <a class="code" href="structdlm__migratable__lock.html#a3e408f9f82b596f211b8448545d5b852">pad1</a>;</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#aaefc605c8199ce8eb6a3956ff32e4db3">  347</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lock.html#aaefc605c8199ce8eb6a3956ff32e4db3">list</a>;  <span class="comment">// 0=granted, 1=converting, 2=blocked</span></div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#aa518c02afedf4b1d445eefa6ad3d4de9">  348</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lock.html#aa518c02afedf4b1d445eefa6ad3d4de9">flags</a>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#a35afe0d511774e19f586c5fb0651eef8">  350</a></span>&#160;    s8 <a class="code" href="structdlm__migratable__lock.html#a35afe0d511774e19f586c5fb0651eef8">type</a>;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#a0be6cecfceb636345048d2c165b717d6">  351</a></span>&#160;    s8 <a class="code" href="structdlm__migratable__lock.html#a0be6cecfceb636345048d2c165b717d6">convert_type</a>;</div><div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#a447eaf55af935daefa65484c737a09d1">  352</a></span>&#160;    s8 <a class="code" href="structdlm__migratable__lock.html#a447eaf55af935daefa65484c737a09d1">highest_blocked</a>;</div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="structdlm__migratable__lock.html#ada259aa975a2ea6cb745791efee1185a">  353</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lock.html#ada259aa975a2ea6cb745791efee1185a">node</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;};  <span class="comment">// 16 bytes</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="structdlm__lock.html">  356</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock.html">dlm_lock</a></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="structdlm__lock.html#afff5f94f219c8ae94f0c1bef17378666">  358</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__migratable__lock.html">dlm_migratable_lock</a> ml;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="structdlm__lock.html#a263f470ad2d0b0038cbea0b049911fd8">  360</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="structdlm__lock.html#ad10c26b2fc607fe8927a8f3e7c9e95eb">  361</a></span>&#160;    <span class="keyword">struct </span>list_head ast_list;</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="structdlm__lock.html#a9a720274a484dde61a2c9b10b9ce2116">  362</a></span>&#160;    <span class="keyword">struct </span>list_head bast_list;</div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="structdlm__lock.html#afe652cc6d95555cdf842286b0f125749">  363</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *<a class="code" href="structdlm__lock.html#afe652cc6d95555cdf842286b0f125749">lockres</a>;</div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="structdlm__lock.html#a6d386ac2ecfe1ce289cff40213385258">  364</a></span>&#160;    spinlock_t <a class="code" href="structdlm__lock.html#a6d386ac2ecfe1ce289cff40213385258">spinlock</a>;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="structdlm__lock.html#aed5b22c084a081debada174c32613843">  365</a></span>&#160;    <span class="keyword">struct </span>kref lock_refs;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// ast and bast must be callable while holding a spinlock!</span></div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="structdlm__lock.html#a2459754015a273e3cc57e6abc76dbcd9">  368</a></span>&#160;    <a class="code" href="dlmapi_8h.html#aaf7fd5b9504a2234d0d8225c833d5d39">dlm_astlockfunc_t</a> *<a class="code" href="structdlm__lock.html#a2459754015a273e3cc57e6abc76dbcd9">ast</a>;</div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="structdlm__lock.html#a1ca375f8d2bc9fc77ff9408e8e29054b">  369</a></span>&#160;    <a class="code" href="dlmapi_8h.html#afd3872305415df41a8efb40cce506b3a">dlm_bastlockfunc_t</a> *<a class="code" href="structdlm__lock.html#a1ca375f8d2bc9fc77ff9408e8e29054b">bast</a>;</div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="structdlm__lock.html#a609d850b9a379d75d3faed9e727df986">  370</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structdlm__lock.html#a609d850b9a379d75d3faed9e727df986">astdata</a>;</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="structdlm__lock.html#ac6366160e7831b5a6a474e2187fca88c">  371</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lockstatus.html">dlm_lockstatus</a> *<a class="code" href="structdlm__lock.html#ac6366160e7831b5a6a474e2187fca88c">lksb</a>;</div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="structdlm__lock.html#ae696e5b975169ea6b665062b6fb0d1f6">  372</a></span>&#160;    <span class="keywordtype">unsigned</span> ast_pending:1,</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;         bast_pending:1,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         convert_pending:1,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;         lock_pending:1,</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         cancel_pending:1,</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         <a class="code" href="structdlm__lock.html#ae696e5b975169ea6b665062b6fb0d1f6">unlock_pending</a>:1,</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;         lksb_kernel_allocated:1;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;};</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8">  381</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8">dlm_lockres_list</a> {</div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a23baf06f65cc52e90014db3d50844bde">  382</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a23baf06f65cc52e90014db3d50844bde">DLM_GRANTED_LIST</a> = 0,</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a588d0d5c628a144bededc09d750ee8a1">  383</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a588d0d5c628a144bededc09d750ee8a1">DLM_CONVERTING_LIST</a> = 1,</div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a4941fe33644f6275387d5ec3610a390f">  384</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a4941fe33644f6275387d5ec3610a390f">DLM_BLOCKED_LIST</a> = 2,</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;};</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a162c4445310e82598c2c418fef7162e3">  387</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a162c4445310e82598c2c418fef7162e3">dlm_lvb_is_empty</a>(<span class="keywordtype">char</span> *<a class="code" href="structdlm__lockstatus.html#a2a26e4d802ef10cff83db3899dd7f7e6">lvb</a>)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;{</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="dlmapi_8h.html#a10ad0178a8aa3a2fe7c219c990da9b45">DLM_LVB_LEN</a>; i++)</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="keywordflow">if</span> (lvb[i])</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a11b7daa4c96abe656c8d935270c11789">  396</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">char</span> *<a class="code" href="dlmcommon_8h.html#a11b7daa4c96abe656c8d935270c11789">dlm_list_in_text</a>(<span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8">dlm_lockres_list</a> idx)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (idx == <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a23baf06f65cc52e90014db3d50844bde">DLM_GRANTED_LIST</a>)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;granted&quot;</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (idx == <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a588d0d5c628a144bededc09d750ee8a1">DLM_CONVERTING_LIST</a>)</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;converting&quot;</span>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (idx == <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a4941fe33644f6275387d5ec3610a390f">DLM_BLOCKED_LIST</a>)</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;blocked&quot;</span>;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>list_head *</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#adb91dece9162f80d56c6213f71f4f84a">  409</a></span>&#160;<a class="code" href="dlmcommon_8h.html#adb91dece9162f80d56c6213f71f4f84a">dlm_list_idx_to_ptr</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, <span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8">dlm_lockres_list</a> idx)</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;{</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">struct </span>list_head *ret = NULL;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (idx == <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a23baf06f65cc52e90014db3d50844bde">DLM_GRANTED_LIST</a>)</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        ret = &amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#aa0c14589bfc3decb96897a2195b2c9a7">granted</a>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (idx == <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a588d0d5c628a144bededc09d750ee8a1">DLM_CONVERTING_LIST</a>)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        ret = &amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#a0c3702fefb85af285c59771d0c318070">converting</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (idx == <a class="code" href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a4941fe33644f6275387d5ec3610a390f">DLM_BLOCKED_LIST</a>)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        ret = &amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#a67e24e4dd74d93ba47e5ee465baef0e5">blocked</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        BUG();</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="structdlm__node__iter.html">  426</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__node__iter.html">dlm_node_iter</a></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="structdlm__node__iter.html#afb73aa1c920362fb96ce0218848bb8b1">  428</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structdlm__master__list__entry.html#a917557dc7349b3b9b584bd4dd42575a3">node_map</a>[BITS_TO_LONGS(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">  429</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">curnode</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;};</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca7ddaed898929151d5b09ed4b34ae9977">  434</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca7ddaed898929151d5b09ed4b34ae9977">DLM_MASTER_REQUEST_MSG</a>      = 500,</div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cadf0f75fb4b68f734f78cc124dc17295b">  435</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cadf0f75fb4b68f734f78cc124dc17295b">DLM_UNUSED_MSG1</a>         = 501,</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca8aef0e96c3e89ad67df162521beb48e7">  436</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca8aef0e96c3e89ad67df162521beb48e7">DLM_ASSERT_MASTER_MSG</a>       = 502,</div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca1a659e35778e7c021b2031ef041f6712">  437</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca1a659e35778e7c021b2031ef041f6712">DLM_CREATE_LOCK_MSG</a>     = 503,</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca50d4571e6a6753db17f53469ac7ded28">  438</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca50d4571e6a6753db17f53469ac7ded28">DLM_CONVERT_LOCK_MSG</a>        = 504,</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cabc2f0e08bae46c287cc8bb3afe0ceb54">  439</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cabc2f0e08bae46c287cc8bb3afe0ceb54">DLM_PROXY_AST_MSG</a>       = 505,</div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca575a093919f6de0b5b6315ba7acb1022">  440</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca575a093919f6de0b5b6315ba7acb1022">DLM_UNLOCK_LOCK_MSG</a>     = 506,</div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cab4d6a725ce4b1c237401a17405ac5e15">  441</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cab4d6a725ce4b1c237401a17405ac5e15">DLM_DEREF_LOCKRES_MSG</a>       = 507,</div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca75f82b716f2dd375aaadcee900e5ac68">  442</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca75f82b716f2dd375aaadcee900e5ac68">DLM_MIGRATE_REQUEST_MSG</a>     = 508,</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2414d53f7968efe246bba1b5614621ae">  443</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2414d53f7968efe246bba1b5614621ae">DLM_MIG_LOCKRES_MSG</a>     = 509,</div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca27790acb2825d2269dff41c204007126">  444</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca27790acb2825d2269dff41c204007126">DLM_QUERY_JOIN_MSG</a>      = 510,</div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca27618eae5974198664254f8cbe18049d">  445</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca27618eae5974198664254f8cbe18049d">DLM_ASSERT_JOINED_MSG</a>       = 511,</div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca92895ecdb3044c1bb4af47193ac6c1f3">  446</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca92895ecdb3044c1bb4af47193ac6c1f3">DLM_CANCEL_JOIN_MSG</a>     = 512,</div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca9be6f60cc2ecbd39e0e95c3aebfb807c">  447</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca9be6f60cc2ecbd39e0e95c3aebfb807c">DLM_EXIT_DOMAIN_MSG</a>     = 513,</div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca23bbcb2afce49a60f32b727b511fc9e7">  448</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca23bbcb2afce49a60f32b727b511fc9e7">DLM_MASTER_REQUERY_MSG</a>      = 514,</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2948e8c6169d99a2b9a64ef076d815bf">  449</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2948e8c6169d99a2b9a64ef076d815bf">DLM_LOCK_REQUEST_MSG</a>        = 515,</div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca3c84849ac0008f07a2e932cfe01818f2">  450</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca3c84849ac0008f07a2e932cfe01818f2">DLM_RECO_DATA_DONE_MSG</a>      = 516,</div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cacf8dbb09b364cc5c689582977a827ae8">  451</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cacf8dbb09b364cc5c689582977a827ae8">DLM_BEGIN_RECO_MSG</a>      = 517,</div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2076e5a712c8712489a77ade3f0556ea">  452</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2076e5a712c8712489a77ade3f0556ea">DLM_FINALIZE_RECO_MSG</a>       = 518,</div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6caf91c5003140f5ee586bbea7e5529ceb0">  453</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6caf91c5003140f5ee586bbea7e5529ceb0">DLM_QUERY_REGION</a>        = 519,</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cad6d4385a6c421663f1798af53144ca63">  454</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cad6d4385a6c421663f1798af53144ca63">DLM_QUERY_NODEINFO</a>      = 520,</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca9618fce9da21052305169f26153f6e60">  455</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca9618fce9da21052305169f26153f6e60">DLM_BEGIN_EXIT_DOMAIN_MSG</a>   = 521,</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca7752a439bb94d594c01358c6cb333cff">  456</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca7752a439bb94d594c01358c6cb333cff">DLM_DEREF_LOCKRES_DONE</a>      = 522,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;};</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="structdlm__reco__node__data.html">  459</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__reco__node__data.html">dlm_reco_node_data</a></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;{</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="structdlm__reco__node__data.html#a3178e2ab8e5de3ca889bbb9a42e8effe">  461</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdlm__reco__node__data.html#a3178e2ab8e5de3ca889bbb9a42e8effe">state</a>;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="structdlm__reco__node__data.html#ae8dfa9fb412cbb00c2a7df4ab3cb382e">  462</a></span>&#160;    u8 <a class="code" href="structdlm__reco__node__data.html#ae8dfa9fb412cbb00c2a7df4ab3cb382e">node_num</a>;</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="structdlm__reco__node__data.html#aff0dd668eb70759e9b0b792710f25de6">  463</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;};</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa0cdd1afca093d5d16cd528f439d3476d">  467</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa0cdd1afca093d5d16cd528f439d3476d">DLM_RECO_NODE_DATA_DEAD</a> = -1,</div><div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa3deeb427075e999ea900dcfa7b83dd97">  468</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa3deeb427075e999ea900dcfa7b83dd97">DLM_RECO_NODE_DATA_INIT</a> = 0,</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caaa4af71ce02a63006767b8c75bb6e2abe">  469</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caaa4af71ce02a63006767b8c75bb6e2abe">DLM_RECO_NODE_DATA_REQUESTING</a> = 1,</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caab6d140e369b1f09afab40eeeef28d16b">  470</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caab6d140e369b1f09afab40eeeef28d16b">DLM_RECO_NODE_DATA_REQUESTED</a> = 2,</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa5c59d7ab721545db57b99ef716e65a79">  471</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa5c59d7ab721545db57b99ef716e65a79">DLM_RECO_NODE_DATA_RECEIVING</a> = 3,</div><div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caaded46e53974ba52a7e84098279591199">  472</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caaded46e53974ba52a7e84098279591199">DLM_RECO_NODE_DATA_DONE</a> = 4,</div><div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caab052df4940ad4cebaeab45e804280cdb">  473</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caab052df4940ad4cebaeab45e804280cdb">DLM_RECO_NODE_DATA_FINALIZE_SENT</a> = 5,</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;};</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503ba1e3e8b754bdc5cd9fc361dc924ead7f2">  478</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503ba1e3e8b754bdc5cd9fc361dc924ead7f2">DLM_MASTER_RESP_NO</a> = 0,</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503ba84fc071f6ea7ec9820404372eb054834">  479</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503ba84fc071f6ea7ec9820404372eb054834">DLM_MASTER_RESP_YES</a> = 1,</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503baf5872e772247f0614bf870045ecb7576">  480</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503baf5872e772247f0614bf870045ecb7576">DLM_MASTER_RESP_MAYBE</a> = 2,</div><div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503bac3dac1ac282ac46506f924e1ccdf75c1">  481</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503bac3dac1ac282ac46506f924e1ccdf75c1">DLM_MASTER_RESP_ERROR</a> = 3,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;};</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="structdlm__master__request.html">  485</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__master__request.html">dlm_master_request</a></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;{</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="structdlm__master__request.html#ace5a92b479934b5d926335472862d831">  487</a></span>&#160;    u8 <a class="code" href="structdlm__master__request.html#ace5a92b479934b5d926335472862d831">node_idx</a>;</div><div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="structdlm__master__request.html#aacc418773924402f1b5820eb9ce22b7f">  488</a></span>&#160;    u8 <a class="code" href="structdlm__master__request.html#aacc418773924402f1b5820eb9ce22b7f">namelen</a>;</div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="structdlm__master__request.html#a8fd4385e1df8aeb7843573104a5385db">  489</a></span>&#160;    __be16 <a class="code" href="structdlm__master__request.html#a8fd4385e1df8aeb7843573104a5385db">pad1</a>;</div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="structdlm__master__request.html#ae0763390a4c7b23d08f8fc59a1927710">  490</a></span>&#160;    __be32 <a class="code" href="structdlm__master__request.html#ae0763390a4c7b23d08f8fc59a1927710">flags</a>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="structdlm__master__request.html#af3f4374bd73de43bd2561bdb8bcbd692">  492</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;};</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aa8e26fcb8e4e538de471193692ed989a">  495</a></span>&#160;<span class="preprocessor">#define DLM_ASSERT_RESPONSE_REASSERT       0x00000001</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a119c1aeb6891068480fd8e0909ec47e6">  496</a></span>&#160;<span class="preprocessor">#define DLM_ASSERT_RESPONSE_MASTERY_REF    0x00000002</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5f727b4744bd65287be05884a955aede">  498</a></span>&#160;<span class="preprocessor">#define DLM_ASSERT_MASTER_MLE_CLEANUP      0x00000001</span></div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a44b756128578aa7bd20672f30da8f806">  499</a></span>&#160;<span class="preprocessor">#define DLM_ASSERT_MASTER_REQUERY          0x00000002</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a77abc9a10ee8b3ee6cc77a0d6b409614">  500</a></span>&#160;<span class="preprocessor">#define DLM_ASSERT_MASTER_FINISH_MIGRATION 0x00000004</span></div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="structdlm__assert__master.html">  501</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__assert__master.html">dlm_assert_master</a></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;{</div><div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="structdlm__assert__master.html#a4441a20e8cbf1ea638dd9f86d12592ca">  503</a></span>&#160;    u8 <a class="code" href="structdlm__assert__master.html#a4441a20e8cbf1ea638dd9f86d12592ca">node_idx</a>;</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="structdlm__assert__master.html#a3a08f809be34166085b231bfaf440134">  504</a></span>&#160;    u8 <a class="code" href="structdlm__assert__master.html#a3a08f809be34166085b231bfaf440134">namelen</a>;</div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structdlm__assert__master.html#a3755b800daf0241fc68c46ac80b585ee">  505</a></span>&#160;    __be16 <a class="code" href="structdlm__assert__master.html#a3755b800daf0241fc68c46ac80b585ee">pad1</a>;</div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="structdlm__assert__master.html#ad70b21eef4a37879de68cee50c670a95">  506</a></span>&#160;    __be32 <a class="code" href="structdlm__assert__master.html#ad70b21eef4a37879de68cee50c670a95">flags</a>;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="structdlm__assert__master.html#a9a02179db7581fa187d50e4f5a1bc852">  508</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;};</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aee6b52c1a805e18d9e5d4c1a2eeea370">  511</a></span>&#160;<span class="preprocessor">#define DLM_MIGRATE_RESPONSE_MASTERY_REF   0x00000001</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html">  513</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__migrate__request.html">dlm_migrate_request</a></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;{</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html#aad3560bde8bf3fec47243b06e77ed5e3">  515</a></span>&#160;    u8 <a class="code" href="structdlm__migrate__request.html#aad3560bde8bf3fec47243b06e77ed5e3">master</a>;</div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html#afe9533755d9ba49953fc0b792d6b2a65">  516</a></span>&#160;    u8 <a class="code" href="structdlm__migrate__request.html#afe9533755d9ba49953fc0b792d6b2a65">new_master</a>;</div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html#aec39d86798a60ae42bdce9799d08723f">  517</a></span>&#160;    u8 <a class="code" href="structdlm__migrate__request.html#aec39d86798a60ae42bdce9799d08723f">namelen</a>;</div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html#a89097c7f50f7562d102cb67c58255231">  518</a></span>&#160;    u8 <a class="code" href="structdlm__migrate__request.html#a89097c7f50f7562d102cb67c58255231">pad1</a>;</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html#af9ac4fb6c7852ef3b35f1b2d79f6e3fc">  519</a></span>&#160;    __be32 <a class="code" href="structdlm__migrate__request.html#af9ac4fb6c7852ef3b35f1b2d79f6e3fc">pad2</a>;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="structdlm__migrate__request.html#a2df8eb1e3daa71f0cfd4a9f508b43cdb">  520</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;};</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html">  523</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__master__requery.html">dlm_master_requery</a></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;{</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html#adcfaa2dc33b469051c067be52abac4f1">  525</a></span>&#160;    u8 <a class="code" href="structdlm__master__requery.html#adcfaa2dc33b469051c067be52abac4f1">pad1</a>;</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html#a782788b64114b694110dc99541c1d9d6">  526</a></span>&#160;    u8 <a class="code" href="structdlm__master__requery.html#a782788b64114b694110dc99541c1d9d6">pad2</a>;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html#ae7f0fdd5a03fa39eae348fef3feede91">  527</a></span>&#160;    u8 <a class="code" href="structdlm__master__requery.html#ae7f0fdd5a03fa39eae348fef3feede91">node_idx</a>;</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html#a1d08e1b6498a448c446a7fbecc3dd302">  528</a></span>&#160;    u8 <a class="code" href="structdlm__master__requery.html#a1d08e1b6498a448c446a7fbecc3dd302">namelen</a>;</div><div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html#af27939f22c703359df63be97c0f7a841">  529</a></span>&#160;    __be32 <a class="code" href="structdlm__master__requery.html#af27939f22c703359df63be97c0f7a841">pad3</a>;</div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="structdlm__master__requery.html#a5f45072b0a05cd7881e2ff9c7d846253">  530</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;};</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a619125bc78617fb170691c2037766b36">  533</a></span>&#160;<span class="preprocessor">#define DLM_MRES_RECOVERY   0x01</span></div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5acbe65b0e5f0d40f9741453f17eaef1">  534</a></span>&#160;<span class="preprocessor">#define DLM_MRES_MIGRATION  0x02</span></div><div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae6a98f7c3b1bfa7cd1e16c2fd6447ffa">  535</a></span>&#160;<span class="preprocessor">#define DLM_MRES_ALL_DONE   0x04</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"> * We would like to get one whole lockres into a single network</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"> * message whenever possible.  Generally speaking, there will be</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment"> * at most one dlm_lock on a lockres for each node in the cluster,</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"> * plus (infrequently) any additional locks coming in from userdlm.</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> * struct _dlm_lockres_page</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> * {</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"> *  dlm_migratable_lockres mres;</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"> *  dlm_migratable_lock ml[DLM_MAX_MIGRATABLE_LOCKS];</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"> *  u8 pad[DLM_MIG_LOCKRES_RESERVED];</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment"> * };</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> * from ../cluster/tcp.h</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment"> *    O2NET_MAX_PAYLOAD_BYTES  (4096 - sizeof(net_msg))</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment"> *    (roughly 4080 bytes)</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"> * and sizeof(dlm_migratable_lockres) = 112 bytes</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"> * and sizeof(dlm_migratable_lock) = 16 bytes</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"> * Choosing DLM_MAX_MIGRATABLE_LOCKS=240 and</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"> * DLM_MIG_LOCKRES_RESERVED=128 means we have this:</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"> *  (DLM_MAX_MIGRATABLE_LOCKS * sizeof(dlm_migratable_lock)) +</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment"> *     sizeof(dlm_migratable_lockres) + DLM_MIG_LOCKRES_RESERVED =</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"> *        NET_MAX_PAYLOAD_BYTES</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"> *  (240 * 16) + 112 + 128 = 4080</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> * So a lockres would need more than 240 locks before it would</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * use more than one network packet to recover.  Not too bad.</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a3280f310bc851a87d213269d8537cb27">  567</a></span>&#160;<span class="preprocessor">#define DLM_MAX_MIGRATABLE_LOCKS   240</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html">  569</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__migratable__lockres.html">dlm_migratable_lockres</a></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div><div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a85de5ca65efc5369706d9774f0d0c00a">  571</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lockres.html#a85de5ca65efc5369706d9774f0d0c00a">master</a>;</div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a1f413f8b9f3561ee0726772daf4632e0">  572</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lockres.html#a1f413f8b9f3561ee0726772daf4632e0">lockname_len</a>;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a95e29d66ec0374e643a2c707ad86e131">  573</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lockres.html#a95e29d66ec0374e643a2c707ad86e131">num_locks</a>;    <span class="comment">// locks sent in this structure</span></div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a0f4ad7026938aca8cf8c0aac16267bac">  574</a></span>&#160;    u8 <a class="code" href="structdlm__migratable__lockres.html#a0f4ad7026938aca8cf8c0aac16267bac">flags</a>;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#ae1a74675ca7412078b248a3571a3b2e1">  575</a></span>&#160;    __be32 <a class="code" href="structdlm__migratable__lockres.html#ae1a74675ca7412078b248a3571a3b2e1">total_locks</a>; <span class="comment">// locks to be sent for this migration cookie</span></div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a63abdaf73abb735cd4f5c1c1bf44baa7">  576</a></span>&#160;    __be64 <a class="code" href="structdlm__migratable__lockres.html#a63abdaf73abb735cd4f5c1c1bf44baa7">mig_cookie</a>;  <span class="comment">// cookie for this lockres migration</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;             <span class="comment">// or zero if not needed</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// 16 bytes</span></div><div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a2c79d0d62f9c7d26c7fb711494b81274">  579</a></span>&#160;    u8 lockname[<a class="code" href="dlmcommon_8h.html#a6f95293b51d51cf4d6d3f81bf8538284">DLM_LOCKID_NAME_MAX</a>];</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// 48 bytes</span></div><div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a6358dccb1b9d033504f053fa81c38885">  581</a></span>&#160;    u8 lvb[<a class="code" href="dlmapi_8h.html#a10ad0178a8aa3a2fe7c219c990da9b45">DLM_LVB_LEN</a>];</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">// 112 bytes</span></div><div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="structdlm__migratable__lockres.html#a19e75cd538412f2272c2804020220d75">  583</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__migratable__lock.html">dlm_migratable_lock</a> ml[0];  <span class="comment">// 16 bytes each, begins at byte 112</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;};</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a3f723e48ad293cba2a71b410ec3affac">  585</a></span>&#160;<span class="preprocessor">#define DLM_MIG_LOCKRES_MAX_LEN  \</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="preprocessor">    (sizeof(struct dlm_migratable_lockres) + \</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="preprocessor">     (sizeof(struct dlm_migratable_lock) * \</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="preprocessor">      DLM_MAX_MIGRATABLE_LOCKS) )</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">/* from above, 128 bytes</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"> * for some undetermined future use */</span></div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a6093cd1f67bcc66ff60904bf36c9b922">  592</a></span>&#160;<span class="preprocessor">#define DLM_MIG_LOCKRES_RESERVED   (O2NET_MAX_PAYLOAD_BYTES - \</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="preprocessor">                    DLM_MIG_LOCKRES_MAX_LEN)</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html">  595</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__create__lock.html">dlm_create_lock</a></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;{</div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#aa30fcecdf1436e738519251b578275a3">  597</a></span>&#160;    __be64 <a class="code" href="structdlm__create__lock.html#aa30fcecdf1436e738519251b578275a3">cookie</a>;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#aec291ae8b278167fc0681cd071d9c6ef">  599</a></span>&#160;    __be32 <a class="code" href="structdlm__create__lock.html#aec291ae8b278167fc0681cd071d9c6ef">flags</a>;</div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#adcf3180aa4a1cbe6e7ff8c1189c62f9d">  600</a></span>&#160;    u8 <a class="code" href="structdlm__create__lock.html#adcf3180aa4a1cbe6e7ff8c1189c62f9d">pad1</a>;</div><div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#ae718719eec0501d52ceb901d07de2340">  601</a></span>&#160;    u8 <a class="code" href="structdlm__create__lock.html#ae718719eec0501d52ceb901d07de2340">node_idx</a>;</div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#a18921f729d3977d11bddb579fb0ae9b7">  602</a></span>&#160;    s8 <a class="code" href="structdlm__create__lock.html#a18921f729d3977d11bddb579fb0ae9b7">requested_type</a>;</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#a80e2cdff2636503cf8db7095634de004">  603</a></span>&#160;    u8 <a class="code" href="structdlm__create__lock.html#a80e2cdff2636503cf8db7095634de004">namelen</a>;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="structdlm__create__lock.html#a5f555417053cdfbabe6d03eae5745bb3">  605</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;};</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html">  608</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__convert__lock.html">dlm_convert_lock</a></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;{</div><div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#accc68db75af9cfe15d8b33ed02f89d52">  610</a></span>&#160;    __be64 <a class="code" href="structdlm__convert__lock.html#accc68db75af9cfe15d8b33ed02f89d52">cookie</a>;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#a97f34279074286f025eb0a80394ac0a4">  612</a></span>&#160;    __be32 <a class="code" href="structdlm__convert__lock.html#a97f34279074286f025eb0a80394ac0a4">flags</a>;</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#a88c9ea322110c6537d641213c9736db5">  613</a></span>&#160;    u8 <a class="code" href="structdlm__convert__lock.html#a88c9ea322110c6537d641213c9736db5">pad1</a>;</div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#ad081cc0e6db73d90868749d9321e3245">  614</a></span>&#160;    u8 <a class="code" href="structdlm__convert__lock.html#ad081cc0e6db73d90868749d9321e3245">node_idx</a>;</div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#ad2e04dedd3bb279b490b9c668cb01cec">  615</a></span>&#160;    s8 <a class="code" href="structdlm__convert__lock.html#ad2e04dedd3bb279b490b9c668cb01cec">requested_type</a>;</div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#ad99d59e36f1d08e7c94a8c6c63743203">  616</a></span>&#160;    u8 <a class="code" href="structdlm__convert__lock.html#ad99d59e36f1d08e7c94a8c6c63743203">namelen</a>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#ab373452d4669b8c24096f369e9a9079e">  618</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="structdlm__convert__lock.html#aea1441528660a9448d5d78ed46e381dd">  620</a></span>&#160;    s8 lvb[0];</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;};</div><div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a2d370eab7bb8c20101a3487f1ebdcd83">  622</a></span>&#160;<span class="preprocessor">#define DLM_CONVERT_LOCK_MAX_LEN  (sizeof(struct dlm_convert_lock)+DLM_LVB_LEN)</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html">  624</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__unlock__lock.html">dlm_unlock_lock</a></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#a3e8844a0085286dd941a67a8c10d237d">  626</a></span>&#160;    __be64 <a class="code" href="structdlm__unlock__lock.html#a3e8844a0085286dd941a67a8c10d237d">cookie</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#a8f7df0b99242d3a3914a9afb76543058">  628</a></span>&#160;    __be32 <a class="code" href="structdlm__unlock__lock.html#a8f7df0b99242d3a3914a9afb76543058">flags</a>;</div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#aa735c807bbf19cdfc001fe9c9da55c8b">  629</a></span>&#160;    __be16 <a class="code" href="structdlm__unlock__lock.html#aa735c807bbf19cdfc001fe9c9da55c8b">pad1</a>;</div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#a43b9b64ab32b4ac69854e9db1410a327">  630</a></span>&#160;    u8 <a class="code" href="structdlm__unlock__lock.html#a43b9b64ab32b4ac69854e9db1410a327">node_idx</a>;</div><div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#a02bf54ffcb3761ef63530cd654dd521d">  631</a></span>&#160;    u8 <a class="code" href="structdlm__unlock__lock.html#a02bf54ffcb3761ef63530cd654dd521d">namelen</a>;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#afa8d74350567e5489fe592cccaa8a26e">  633</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="structdlm__unlock__lock.html#a2725220fc17f1fcfde35439ca8510761">  635</a></span>&#160;    s8 lvb[0];</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;};</div><div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af02a2dc3f669ac6e847166505f5161eb">  637</a></span>&#160;<span class="preprocessor">#define DLM_UNLOCK_LOCK_MAX_LEN  (sizeof(struct dlm_unlock_lock)+DLM_LVB_LEN)</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html">  639</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__proxy__ast.html">dlm_proxy_ast</a></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;{</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#aa2188ad251d28276f7f84f7115d498e2">  641</a></span>&#160;    __be64 <a class="code" href="structdlm__proxy__ast.html#aa2188ad251d28276f7f84f7115d498e2">cookie</a>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a895b03b7b8474bc6d63f0628dd184533">  643</a></span>&#160;    __be32 <a class="code" href="structdlm__proxy__ast.html#a895b03b7b8474bc6d63f0628dd184533">flags</a>;</div><div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a6a9dec3d8fabc75eec236647ce212766">  644</a></span>&#160;    u8 <a class="code" href="structdlm__proxy__ast.html#a6a9dec3d8fabc75eec236647ce212766">node_idx</a>;</div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a650fdb73f721daafeac4df80647d639a">  645</a></span>&#160;    u8 <a class="code" href="structdlm__proxy__ast.html#a650fdb73f721daafeac4df80647d639a">type</a>;</div><div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a67d7eb89d105c44e1dccb924c6c4755c">  646</a></span>&#160;    u8 <a class="code" href="structdlm__proxy__ast.html#a67d7eb89d105c44e1dccb924c6c4755c">blocked_type</a>;</div><div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a61fd82daf9ee8a303080e99c9193e4e1">  647</a></span>&#160;    u8 <a class="code" href="structdlm__proxy__ast.html#a61fd82daf9ee8a303080e99c9193e4e1">namelen</a>;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a9aa3999b993094074102b88052f6a8f0">  649</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="structdlm__proxy__ast.html#a53fb5ae7230b266e30a2d9629f7732c5">  651</a></span>&#160;    s8 lvb[0];</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;};</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ac436fc379922cafa6ed1d723adce2af5">  653</a></span>&#160;<span class="preprocessor">#define DLM_PROXY_AST_MAX_LEN  (sizeof(struct dlm_proxy_ast)+DLM_LVB_LEN)</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#acd25533d9b31735e302a79b3073eda5a">  655</a></span>&#160;<span class="preprocessor">#define DLM_MOD_KEY (0x666c6172)</span></div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192">  656</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192">dlm_query_join_response_code</a> {</div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192a1ab0179cfaa621d8e5e69b4625d6eaf5">  657</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192a1ab0179cfaa621d8e5e69b4625d6eaf5">JOIN_DISALLOW</a> = 0,</div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192acf2a7967f5a3da728927b3f4c50b96d1">  658</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192acf2a7967f5a3da728927b3f4c50b96d1">JOIN_OK</a> = 1,</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192ab2b4614e90bb8cc1a63cf80e982244c0">  659</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192ab2b4614e90bb8cc1a63cf80e982244c0">JOIN_OK_NO_MAP</a> = 2,</div><div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192a44821dd9c63f0260d068c47effbb396c">  660</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192a44821dd9c63f0260d068c47effbb396c">JOIN_PROTOCOL_MISMATCH</a> = 3,</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;};</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="structdlm__query__join__packet.html">  663</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__query__join__packet.html">dlm_query_join_packet</a> {</div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="structdlm__query__join__packet.html#aad03ab6c6d8bba2186792f1f1b186284">  664</a></span>&#160;    u8 <a class="code" href="structdlm__query__join__packet.html#aad03ab6c6d8bba2186792f1f1b186284">code</a>;    <span class="comment">/* Response code.  dlm_minor and fs_minor</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">               are only valid if this is JOIN_OK */</span></div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="structdlm__query__join__packet.html#aab7e982a398808f7d531752c298b40fd">  666</a></span>&#160;    u8 <a class="code" href="structdlm__query__join__packet.html#aab7e982a398808f7d531752c298b40fd">dlm_minor</a>;   <span class="comment">/* The minor version of the protocol the</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">               dlm is speaking. */</span></div><div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="structdlm__query__join__packet.html#aaf2f57b3701bc80b349facdc8721931f">  668</a></span>&#160;    u8 <a class="code" href="structdlm__query__join__packet.html#aaf2f57b3701bc80b349facdc8721931f">fs_minor</a>;    <span class="comment">/* The minor version of the protocol the</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">               filesystem is speaking. */</span></div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="structdlm__query__join__packet.html#a2f6dca6a86a60b270a1088d2dc02bdf8">  670</a></span>&#160;    u8 <a class="code" href="structdlm__query__join__packet.html#a2f6dca6a86a60b270a1088d2dc02bdf8">reserved</a>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;};</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="uniondlm__query__join__response.html">  673</a></span>&#160;<span class="keyword">union </span><a class="code" href="uniondlm__query__join__response.html">dlm_query_join_response</a> {</div><div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="uniondlm__query__join__response.html#ad1f2bed7e3760c61214b89593db0df43">  674</a></span>&#160;    __be32 <a class="code" href="uniondlm__query__join__response.html#ad1f2bed7e3760c61214b89593db0df43">intval</a>;</div><div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="uniondlm__query__join__response.html#a40360fb9a05aed8e41c54dd595e82f43">  675</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__query__join__packet.html">dlm_query_join_packet</a> packet;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;};</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="structdlm__lock__request.html">  678</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__request.html">dlm_lock_request</a></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;{</div><div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="structdlm__lock__request.html#a5ad95691775d848034edc71d263a3ff6">  680</a></span>&#160;    u8 <a class="code" href="structdlm__lock__request.html#a5ad95691775d848034edc71d263a3ff6">node_idx</a>;</div><div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="structdlm__lock__request.html#af3c62ecca350fca275036f126bd8a826">  681</a></span>&#160;    u8 <a class="code" href="structdlm__lock__request.html#af3c62ecca350fca275036f126bd8a826">dead_node</a>;</div><div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="structdlm__lock__request.html#a95b213967cc9760f5dde9e946ef39f60">  682</a></span>&#160;    __be16 <a class="code" href="structdlm__lock__request.html#a95b213967cc9760f5dde9e946ef39f60">pad1</a>;</div><div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="structdlm__lock__request.html#a3d49cb369e10014172f375592f95bc2a">  683</a></span>&#160;    __be32 <a class="code" href="structdlm__lock__request.html#a3d49cb369e10014172f375592f95bc2a">pad2</a>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;};</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="structdlm__reco__data__done.html">  686</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__reco__data__done.html">dlm_reco_data_done</a></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div><div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="structdlm__reco__data__done.html#a8dc010ecc27961cc64edf99d4a42d976">  688</a></span>&#160;    u8 <a class="code" href="structdlm__reco__data__done.html#a8dc010ecc27961cc64edf99d4a42d976">node_idx</a>;</div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="structdlm__reco__data__done.html#ab95605308001d2b256d3c4663efd956b">  689</a></span>&#160;    u8 <a class="code" href="structdlm__reco__data__done.html#ab95605308001d2b256d3c4663efd956b">dead_node</a>;</div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="structdlm__reco__data__done.html#a961bdfec74a129e125eb477ccfc62a84">  690</a></span>&#160;    __be16 <a class="code" href="structdlm__reco__data__done.html#a961bdfec74a129e125eb477ccfc62a84">pad1</a>;</div><div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="structdlm__reco__data__done.html#a7fe536d35e86c74ab8805895beb22909">  691</a></span>&#160;    __be32 <a class="code" href="structdlm__reco__data__done.html#a7fe536d35e86c74ab8805895beb22909">pad2</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">/* unused for now */</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">/* eventually we can use this to attempt</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">     * lvb recovery based on each node&#39;s info */</span></div><div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="structdlm__reco__data__done.html#a5951b448ba89111660d3b3b871837b31">  696</a></span>&#160;    u8 reco_lvb[<a class="code" href="dlmapi_8h.html#a10ad0178a8aa3a2fe7c219c990da9b45">DLM_LVB_LEN</a>];</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;};</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="structdlm__begin__reco.html">  699</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__begin__reco.html">dlm_begin_reco</a></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;{</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="structdlm__begin__reco.html#abdd2aadee12098ad3db9835769729d67">  701</a></span>&#160;    u8 <a class="code" href="structdlm__begin__reco.html#abdd2aadee12098ad3db9835769729d67">node_idx</a>;</div><div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="structdlm__begin__reco.html#a45d1f16cd48ac737c17aee4ffe0d9410">  702</a></span>&#160;    u8 <a class="code" href="structdlm__begin__reco.html#a45d1f16cd48ac737c17aee4ffe0d9410">dead_node</a>;</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="structdlm__begin__reco.html#ae444e666b58829b282110d6f0958bf43">  703</a></span>&#160;    __be16 <a class="code" href="structdlm__begin__reco.html#ae444e666b58829b282110d6f0958bf43">pad1</a>;</div><div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="structdlm__begin__reco.html#a1474b8eb3e64bc4e1ebb2ed3bc82c8c4">  704</a></span>&#160;    __be32 <a class="code" href="structdlm__begin__reco.html#a1474b8eb3e64bc4e1ebb2ed3bc82c8c4">pad2</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;};</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a369ecd38b3ab077fc235f892354bb46f">  708</a></span>&#160;<span class="preprocessor">#define BITS_PER_BYTE 8</span></div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a5ca3b4583fce5571bd3174e3493638d6">  709</a></span>&#160;<span class="preprocessor">#define BITS_TO_BYTES(bits) (((bits)+BITS_PER_BYTE-1)/BITS_PER_BYTE)</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html">  711</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__query__join__request.html">dlm_query_join_request</a></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div><div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#aece4acbfbf9a6b2405f5af2ee13d2552">  713</a></span>&#160;    u8 <a class="code" href="structdlm__query__join__request.html#aece4acbfbf9a6b2405f5af2ee13d2552">node_idx</a>;</div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#a53309e306c7473a7817560bf7282e577">  714</a></span>&#160;    u8 pad1[2];</div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#a0a70f4ee33e0cdadeca74e9b580e3a05">  715</a></span>&#160;    u8 <a class="code" href="structdlm__query__join__request.html#a0a70f4ee33e0cdadeca74e9b580e3a05">name_len</a>;</div><div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#af7b88ca5055b492db1178943f7178955">  716</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__protocol__version.html">dlm_protocol_version</a> dlm_proto;</div><div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#ae6d5c96c26778852320d5145b2dde29a">  717</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__protocol__version.html">dlm_protocol_version</a> fs_proto;</div><div class="line"><a name="l00718"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#aa9473eaa5bd57e081e9ed26949cc1183">  718</a></span>&#160;    u8 domain[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="structdlm__query__join__request.html#a5e9b9ba847d3252c715e9bb767c5d34a">  719</a></span>&#160;    u8 <a class="code" href="structdlm__master__list__entry.html#a917557dc7349b3b9b584bd4dd42575a3">node_map</a>[<a class="code" href="dlmcommon_8h.html#a5ca3b4583fce5571bd3174e3493638d6">BITS_TO_BYTES</a>(<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>)];</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;};</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="structdlm__assert__joined.html">  722</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__assert__joined.html">dlm_assert_joined</a></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;{</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="structdlm__assert__joined.html#a95e6b40eef145a7a556fe0ab9ef0b9f3">  724</a></span>&#160;    u8 <a class="code" href="structdlm__assert__joined.html#a95e6b40eef145a7a556fe0ab9ef0b9f3">node_idx</a>;</div><div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="structdlm__assert__joined.html#a5c391dfe79bd4cdb0bcdfc4fb80072d0">  725</a></span>&#160;    u8 pad1[2];</div><div class="line"><a name="l00726"></a><span class="lineno"><a class="line" href="structdlm__assert__joined.html#a74d224a5ffda73061ba28bc30b299d5e">  726</a></span>&#160;    u8 <a class="code" href="structdlm__assert__joined.html#a74d224a5ffda73061ba28bc30b299d5e">name_len</a>;</div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="structdlm__assert__joined.html#a763fa9970d6a6da714c82013fac20d19">  727</a></span>&#160;    u8 domain[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;};</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="structdlm__cancel__join.html">  730</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__cancel__join.html">dlm_cancel_join</a></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;{</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="structdlm__cancel__join.html#a28cb95cce5c47f163e23c5755c00684d">  732</a></span>&#160;    u8 <a class="code" href="structdlm__cancel__join.html#a28cb95cce5c47f163e23c5755c00684d">node_idx</a>;</div><div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="structdlm__cancel__join.html#ac84dc57d18b45bcd3ca4f6a334c51c13">  733</a></span>&#160;    u8 pad1[2];</div><div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="structdlm__cancel__join.html#a2dabfdefe0b972986730cb5b1f61b883">  734</a></span>&#160;    u8 <a class="code" href="structdlm__cancel__join.html#a2dabfdefe0b972986730cb5b1f61b883">name_len</a>;</div><div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="structdlm__cancel__join.html#a2b59eb8f884fc69e34f8ab26f6a3ac1f">  735</a></span>&#160;    u8 domain[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;};</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="structdlm__query__region.html">  738</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__query__region.html">dlm_query_region</a> {</div><div class="line"><a name="l00739"></a><span class="lineno"><a class="line" href="structdlm__query__region.html#a82e02f2085dba854c01d70c183620976">  739</a></span>&#160;    u8 <a class="code" href="structdlm__query__region.html#a82e02f2085dba854c01d70c183620976">qr_node</a>;</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="structdlm__query__region.html#a0442bc8ce0ec3bcc658a9c9b8afdb5e7">  740</a></span>&#160;    u8 <a class="code" href="structdlm__query__region.html#a0442bc8ce0ec3bcc658a9c9b8afdb5e7">qr_numregions</a>;</div><div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="structdlm__query__region.html#aa73e5a4f353a0241e60448b460ce983d">  741</a></span>&#160;    u8 <a class="code" href="structdlm__query__region.html#aa73e5a4f353a0241e60448b460ce983d">qr_namelen</a>;</div><div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="structdlm__query__region.html#a5198369110476ea1eb9ae5e94fc1d62f">  742</a></span>&#160;    u8 <a class="code" href="structdlm__query__region.html#a5198369110476ea1eb9ae5e94fc1d62f">pad1</a>;</div><div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="structdlm__query__region.html#aedd3e79ff7e5a36dc0bb8273481fdb06">  743</a></span>&#160;    u8 qr_domain[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="structdlm__query__region.html#a9a0b3d23736f549fd14c781af26d342d">  744</a></span>&#160;    u8 qr_regions[<a class="code" href="cluster_2heartbeat_8h.html#aa7783518742842f561a16d4cb6696997">O2HB_MAX_REGION_NAME_LEN</a> * <a class="code" href="ocfs2__nodemanager_8h.html#a4fa1bb30cf83cb0cfa827731e4d22ace">O2NM_MAX_REGIONS</a>];</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;};</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="structdlm__node__info.html">  747</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__node__info.html">dlm_node_info</a> {</div><div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="structdlm__node__info.html#ab97a68024339f71fadce9cfacf13c5a4">  748</a></span>&#160;    u8 <a class="code" href="structdlm__node__info.html#ab97a68024339f71fadce9cfacf13c5a4">ni_nodenum</a>;</div><div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="structdlm__node__info.html#af2086e425d553aa72f02767db607cc02">  749</a></span>&#160;    u8 <a class="code" href="structdlm__node__info.html#af2086e425d553aa72f02767db607cc02">pad1</a>;</div><div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="structdlm__node__info.html#a4c6f2a6cd72ed9dd034cf80f13d0d1f8">  750</a></span>&#160;    __be16 <a class="code" href="structdlm__node__info.html#a4c6f2a6cd72ed9dd034cf80f13d0d1f8">ni_ipv4_port</a>;</div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="structdlm__node__info.html#ac499e405e4ddaa6b04d09a6b03d6f0fa">  751</a></span>&#160;    __be32 <a class="code" href="structdlm__node__info.html#ac499e405e4ddaa6b04d09a6b03d6f0fa">ni_ipv4_address</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;};</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html">  754</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__query__nodeinfo.html">dlm_query_nodeinfo</a> {</div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html#a2d88d5cb0d01d413aeb52e3d70ab02ad">  755</a></span>&#160;    u8 <a class="code" href="structdlm__query__nodeinfo.html#a2d88d5cb0d01d413aeb52e3d70ab02ad">qn_nodenum</a>;</div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html#a2bbe9551d5a29e977097ee562944c4a3">  756</a></span>&#160;    u8 <a class="code" href="structdlm__query__nodeinfo.html#a2bbe9551d5a29e977097ee562944c4a3">qn_numnodes</a>;</div><div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html#ad084403e358c48329772e04609a4f5fd">  757</a></span>&#160;    u8 <a class="code" href="structdlm__query__nodeinfo.html#ad084403e358c48329772e04609a4f5fd">qn_namelen</a>;</div><div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html#ac879079db0ee7e77b0e132db7393e510">  758</a></span>&#160;    u8 <a class="code" href="structdlm__query__nodeinfo.html#ac879079db0ee7e77b0e132db7393e510">pad1</a>;</div><div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html#acf561dd7a3f3bdb077124c94c81944f6">  759</a></span>&#160;    u8 qn_domain[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="structdlm__query__nodeinfo.html#a8f8f7c5d33887293e42a4c6c588501ff">  760</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__node__info.html">dlm_node_info</a> qn_nodes[<a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>];</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;};</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="structdlm__exit__domain.html">  763</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__exit__domain.html">dlm_exit_domain</a></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;{</div><div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="structdlm__exit__domain.html#a1811e3b4799542fbb286e731700521d9">  765</a></span>&#160;    u8 <a class="code" href="structdlm__exit__domain.html#a1811e3b4799542fbb286e731700521d9">node_idx</a>;</div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="structdlm__exit__domain.html#a937235271d140f93e6b15b702336c06d">  766</a></span>&#160;    u8 pad1[3];</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;};</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="structdlm__finalize__reco.html">  769</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__finalize__reco.html">dlm_finalize_reco</a></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;{</div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="structdlm__finalize__reco.html#a5e6e6c4a9c431b913f386b65e90ffee4">  771</a></span>&#160;    u8 <a class="code" href="structdlm__finalize__reco.html#a5e6e6c4a9c431b913f386b65e90ffee4">node_idx</a>;</div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="structdlm__finalize__reco.html#af868e285d7b2f47cbe0c0f0d1e90c1c9">  772</a></span>&#160;    u8 <a class="code" href="structdlm__finalize__reco.html#af868e285d7b2f47cbe0c0f0d1e90c1c9">dead_node</a>;</div><div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="structdlm__finalize__reco.html#ae5b68278d834fa10aad1b954f8b41f92">  773</a></span>&#160;    u8 <a class="code" href="structdlm__finalize__reco.html#ae5b68278d834fa10aad1b954f8b41f92">flags</a>;</div><div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="structdlm__finalize__reco.html#a1a91af9f20f648f2e9122701f46f4e64">  774</a></span>&#160;    u8 <a class="code" href="structdlm__finalize__reco.html#a1a91af9f20f648f2e9122701f46f4e64">pad1</a>;</div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="structdlm__finalize__reco.html#a1a27aa6b9d530729c09af9ce3b1d5b00">  775</a></span>&#160;    __be32 <a class="code" href="structdlm__finalize__reco.html#a1a27aa6b9d530729c09af9ce3b1d5b00">pad2</a>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;};</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres.html">  778</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__deref__lockres.html">dlm_deref_lockres</a></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;{</div><div class="line"><a name="l00780"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres.html#a4cc31ea99e715e68308adbfdd3275ae1">  780</a></span>&#160;    u32 <a class="code" href="structdlm__deref__lockres.html#a4cc31ea99e715e68308adbfdd3275ae1">pad1</a>;</div><div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres.html#a7ee51cb605d85ba930f0409ce2e5a991">  781</a></span>&#160;    u16 <a class="code" href="structdlm__deref__lockres.html#a7ee51cb605d85ba930f0409ce2e5a991">pad2</a>;</div><div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres.html#acdcb93ba9242bcfd54dc81d74c81fc56">  782</a></span>&#160;    u8 <a class="code" href="structdlm__deref__lockres.html#acdcb93ba9242bcfd54dc81d74c81fc56">node_idx</a>;</div><div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres.html#a8e863648273442a7f992e10a6ed50aea">  783</a></span>&#160;    u8 <a class="code" href="structdlm__deref__lockres.html#a8e863648273442a7f992e10a6ed50aea">namelen</a>;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div><div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres.html#a58a3c827da0d446afdf3cb1cb518bda6">  785</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;};</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aa6330de06cf867727bd76475403c83f8aa94ac4a0201455302ca4c6a95c6df6f6">  789</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#aa6330de06cf867727bd76475403c83f8aa94ac4a0201455302ca4c6a95c6df6f6">DLM_DEREF_RESPONSE_DONE</a> = 0,</div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aa6330de06cf867727bd76475403c83f8a4af12e1ce98e48f28ef7504478d39e30">  790</a></span>&#160;    <a class="code" href="dlmcommon_8h.html#aa6330de06cf867727bd76475403c83f8a4af12e1ce98e48f28ef7504478d39e30">DLM_DEREF_RESPONSE_INPROG</a> = 1,</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;};</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__done.html">  793</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__deref__lockres__done.html">dlm_deref_lockres_done</a> {</div><div class="line"><a name="l00794"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__done.html#aa57259b0b616f5632e5a94f6f6b3624b">  794</a></span>&#160;    u32 <a class="code" href="structdlm__deref__lockres__done.html#aa57259b0b616f5632e5a94f6f6b3624b">pad1</a>;</div><div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__done.html#a4904e9c9dfa9680b66b6fb6c596a999d">  795</a></span>&#160;    u16 <a class="code" href="structdlm__deref__lockres__done.html#a4904e9c9dfa9680b66b6fb6c596a999d">pad2</a>;</div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__done.html#a476b9026b785932d3c5c26d1cd393edc">  796</a></span>&#160;    u8 <a class="code" href="structdlm__deref__lockres__done.html#a476b9026b785932d3c5c26d1cd393edc">node_idx</a>;</div><div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__done.html#a22afcf3d6d3737e579eb5ffd46a50821">  797</a></span>&#160;    u8 <a class="code" href="structdlm__deref__lockres__done.html#a22afcf3d6d3737e579eb5ffd46a50821">namelen</a>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="structdlm__deref__lockres__done.html#a54d30115b4b37acb3390182eb6e14d70">  799</a></span>&#160;    u8 <a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>[<a class="code" href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a>];</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;};</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a></div><div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71">  803</a></span>&#160;<a class="code" href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71">__dlm_lockres_state_to_status</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res)</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">enum</span> <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> <a class="code" href="mount__clnt_8c.html#a088e3e37581e2ecb5079c1d75067923f">status</a> = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaa3e73fb9139980f9d0890c473b116bdd">DLM_NORMAL</a>;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    assert_spin_locked(&amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#a2a1ef74840381cf56f8fafac9121a5b9">spinlock</a>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (res-&gt;<a class="code" href="structdlm__lock__resource.html#a48c2cbd37d00946401ce10b29671b5a0">state</a> &amp; (<a class="code" href="dlmcommon_8h.html#aefabc07e6c0afadeac469859a28960df">DLM_LOCK_RES_RECOVERING</a>|</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <a class="code" href="dlmcommon_8h.html#aa2ef928a88f4e2666b96e6a256a95530">DLM_LOCK_RES_RECOVERY_WAITING</a>))</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        status = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaa8ef4fe888b3f436fd976bc141f0f1c0">DLM_RECOVERING</a>;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res-&gt;<a class="code" href="structdlm__lock__resource.html#a48c2cbd37d00946401ce10b29671b5a0">state</a> &amp; <a class="code" href="dlmcommon_8h.html#a0436345348f52a65b2eff75c1cdc2cae">DLM_LOCK_RES_MIGRATING</a>)</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        status = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acafb3e7b8d633273d6a9751c96dd3b5a01">DLM_MIGRATING</a>;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (res-&gt;<a class="code" href="structdlm__lock__resource.html#a48c2cbd37d00946401ce10b29671b5a0">state</a> &amp; <a class="code" href="dlmcommon_8h.html#ac1a48746ad80e71f32e22805d1f6bba1">DLM_LOCK_RES_IN_PROGRESS</a>)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        status = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca531ead3e0d6a75c7ddf21224418499c7">DLM_FORWARD</a>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mount__clnt_8c.html#a088e3e37581e2ecb5079c1d75067923f">status</a>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;}</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7">  820</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u8 <a class="code" href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7">dlm_get_lock_cookie_node</a>(u64 cookie)</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;{</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    u8 ret;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    cookie &gt;&gt;= 56;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    ret = (u8)(cookie &amp; 0xffULL);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;}</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e">  828</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e">dlm_get_lock_cookie_seq</a>(u64 cookie)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;{</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> ret;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    ret = ((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> long)cookie) &amp; 0x00ffffffffffffffULL;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock.html">dlm_lock</a> * <a class="code" href="dlmcommon_8h.html#aa4b87c51307a6fb69d9c27b5ad394e54">dlm_new_lock</a>(<span class="keywordtype">int</span> <a class="code" href="structdlm__master__list__entry.html#a97b3eed9319b4aa1d6e547e84930870c">type</a>, u8 node, u64 cookie,</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lockstatus.html">dlm_lockstatus</a> *<a class="code" href="structdlm__lock.html#ac6366160e7831b5a6a474e2187fca88c">lksb</a>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a84cd601553d99a8a3618edd0fb9c6c76">dlm_lock_get</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ae9c6cdb477b5d634636fe8805b4c75c5">dlm_lock_put</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ac2a426185562b36aae11782380f7a25e">dlm_lock_attach_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock,</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                 <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#aff4377248f6d39ae909620bb757b2130">dlm_create_lock_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a91f92e4d51fb2193a8612545fb410491">dlm_convert_lock_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                 <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7">dlm_proxy_ast_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;              <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#aa005fb0766c187b6de6932e0a5d8fe2a">dlm_revert_pending_convert</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a1595fa19e5e16d32aeeca3227173476f">dlm_revert_pending_lock</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                 <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a090351848838012686c2bc29bf67005f">dlm_unlock_lock_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a02dd9e91522a22b1b51bf7021eff3b3f">dlm_commit_pending_cancel</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#aa30579bb55ba65df5d4ca3be7d1b7ef8">dlm_commit_pending_unlock</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#afd78890587a1059dd5fda24cebffbdf3">dlm_launch_thread</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm</a>);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a5565e204e32e5d70d90e9f13ff0c9848">dlm_complete_thread</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a70ab66f50a1a5bc76e3e91945a83c1d6">dlm_launch_recovery_thread</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ac7b07b886d4de4d0cb303471f3c6cff4">dlm_complete_recovery_thread</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408">dlm_wait_for_recovery</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1">dlm_kick_recovery_thread</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ae365ae431f9fba6b50ee73b564f45610">dlm_is_node_dead</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, u8 node);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a2842524d2f810359181d86c42734a300">dlm_wait_for_node_death</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, u8 node, <span class="keywordtype">int</span> timeout);</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a3fcef7966941b8b6ef48ddbdb19f9c57">dlm_wait_for_node_recovery</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, u8 node, <span class="keywordtype">int</span> timeout);</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a018fd62fa8f63ca78bc06a1e6ac24286">dlm_put</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *<a class="code" href="dlmcommon_8h.html#a443ec7266a4e91e1c207127c2ff377e9">dlm_grab</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a9f8ef0519749d7bfe7879a377f8feee7">dlm_domain_fully_joined</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a461756eecfce141abffa1d9ad40ab629">__dlm_lockres_calc_usage</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                  <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263">dlm_lockres_calc_usage</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6">  880</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6">dlm_lockres_get</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res)</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;{</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">/* This is called on every lookup, so it might be worth</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">     * inlining. */</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    kref_get(&amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#a0ed4ebad4fb178ba0c9cf9086b458cb4">refs</a>);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;}</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed">dlm_lockres_put</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a9314de9625fc9ba31710f31e7b30b1c0">__dlm_unhash_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a3ea1a44f420aebc54d145a56bbf64744">__dlm_insert_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> * <a class="code" href="dlmcommon_8h.html#ad334d8510ef9071075b1f1c3a516be90">__dlm_lookup_lockres_full</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                             <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>,</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1">hash</a>);</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> * <a class="code" href="dlmcommon_8h.html#a1a4a44a0c416ba22754129aa0029a6fa">__dlm_lookup_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>,</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1">hash</a>);</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> * <a class="code" href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63">dlm_lookup_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>);</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5">dlm_is_host_down</a>(<span class="keywordtype">int</span> <a class="code" href="ctree_8h.html#aa5cdcfb6e464dcdd3cbfed516d65d07c">errno</a>);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> * <a class="code" href="dlmcommon_8h.html#a76a197f358861cc174f4dfaa0b595665">dlm_get_lock_resource</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span> *lockid,</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                         <span class="keywordtype">int</span> namelen,</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                         <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="keyword">struct </span><a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *<a class="code" href="dlmcommon_8h.html#af84b4854d72c195f508de5044bcf1539">dlm_new_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                      <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> namelen);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a7596aaf9419a5517e36b9833886d093c">dlm_lockres_set_refmap_bit</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, <span class="keywordtype">int</span> bit);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a20ba52e420952c008a4603f9d149aacc">dlm_lockres_clear_refmap_bit</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                  <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, <span class="keywordtype">int</span> bit);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a39f04b047ae6225e0b0a61a1d099a955">dlm_lockres_drop_inflight_ref</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#af8f1cfdebed47ccf631f300ef65b58ad">dlm_lockres_grab_inflight_ref</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a4fd1866e731c1d1cee28128df271388d">__dlm_lockres_grab_inflight_worker</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b">dlm_queue_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07">dlm_queue_bast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a">__dlm_queue_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9">__dlm_queue_bast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38">dlm_do_local_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;              <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;              <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432">dlm_do_remote_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;              <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;              <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a">dlm_do_local_bast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;               <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;               <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock,</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;               <span class="keywordtype">int</span> blocked_type);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf">dlm_send_proxy_ast_msg</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;               <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;               <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock,</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;               <span class="keywordtype">int</span> msg_type,</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;               <span class="keywordtype">int</span> blocked_type, <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a852727e128a065d116949dd8601969d0">  943</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a852727e128a065d116949dd8601969d0">dlm_send_proxy_bast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock,</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                      <span class="keywordtype">int</span> blocked_type)</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;{</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf">dlm_send_proxy_ast_msg</a>(dlm, res, lock, <a class="code" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a44822ebfcce05d3e76db609d3df741de">DLM_BAST</a>,</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                      blocked_type, 0);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e">  952</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e">dlm_send_proxy_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                     <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                     <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock,</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                     <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;{</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf">dlm_send_proxy_ast_msg</a>(dlm, res, lock, <a class="code" href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a79ecd788fb389dafdd9f14eb2b06dc13">DLM_AST</a>,</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                      0, flags);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42">dlm_print_one_lock_resource</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a2f8b5f86f31c821e8c2277c0d96756b1">__dlm_print_one_lock_resource</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b">dlm_kick_thread</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a460f04cf1a0a46ff870ab5eace8182e3">__dlm_dirty_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a31d7ed9873f86d3063b8a6a77edee272">dlm_hb_node_down_cb</a>(<span class="keyword">struct</span> <a class="code" href="structo2nm__node.html">o2nm_node</a> *node, <span class="keywordtype">int</span> idx, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a4706bfd51d8cdfa0f6ee8df840f7c15c">dlm_hb_node_up_cb</a>(<span class="keyword">struct</span> <a class="code" href="structo2nm__node.html">o2nm_node</a> *node, <span class="keywordtype">int</span> idx, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a66e161bd596eab7030ccca17c587be94">dlm_empty_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ab6c8e71cb05196cbce82c26b4d03728b">dlm_finish_migration</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;             u8 old_master);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747">dlm_lockres_release_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                 <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701">__dlm_lockres_reserve_ast</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#af7b915573ccffed3acbcf9fecaf4d105">dlm_master_request_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                   <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#aba99757320810aa0b0be4cfaa5b1f324">dlm_assert_master_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                  <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a98cb0be263f01c7d7d4b2d2b10cfb7dc">dlm_assert_master_post_handler</a>(<span class="keywordtype">int</span> <a class="code" href="mount__clnt_8c.html#a088e3e37581e2ecb5079c1d75067923f">status</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>, <span class="keywordtype">void</span> *ret_data);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a340cf70140fb45fa2dd347baced4457e">dlm_deref_lockres_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                  <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a3ce1754221abab76998924c96222be85">dlm_deref_lockres_done_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                  <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#aeab3ccff0bfeec9f95ada579e4ae23d6">dlm_migrate_request_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ace80937921f6805fb2ae2cb3df36ac9b">dlm_mig_lockres_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a6dbeaf5c66a94161de5a54d82de8c3c4">dlm_master_requery_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                   <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ae1c2c7d823e9f3ebc761c4acf3face32">dlm_request_all_locks_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                  <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a796b6935a1cbaa3a1d914bedd938a295">dlm_reco_data_done_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                   <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a45e0a3a70ec5e9a60b390dc8307566d7">dlm_begin_reco_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;               <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a3f660df26d4fe449fe69b81bd329b2ee">dlm_finalize_reco_handler</a>(<span class="keyword">struct</span> <a class="code" href="structo2net__msg.html">o2net_msg</a> *msg, u32 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>, <span class="keywordtype">void</span> *<a class="code" href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a>,</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                  <span class="keywordtype">void</span> **ret_data);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a883beb1e51ab8959198da139b89fc9d1">dlm_do_master_requery</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;              u8 nodenum, u8 *real_master);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a47fdfec4ed4ea569556ba288c3055fe6">__dlm_do_purge_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#adabb7b8fb2cde13e9c3cb89e084d209f">dlm_dispatch_assert_master</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                   <span class="keywordtype">int</span> ignore_higher,</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                   u8 request_from,</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                   u32 <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a6a6f06242be836f8ed9f23f4ecae77ee">dlm_send_one_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structdlm__migratable__lockres.html">dlm_migratable_lockres</a> *mres,</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;             u8 send_to,</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;             u8 <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e">dlm_move_lockres_to_recovery_list</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                       <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">/* will exit holding res-&gt;spinlock, but may drop in function */</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31">__dlm_wait_on_lockres_flags</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res, <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">/* will exit holding res-&gt;spinlock, but may drop in function */</span></div><div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd"> 1027</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd">__dlm_wait_on_lockres</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res)</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;{</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31">__dlm_wait_on_lockres_flags</a>(res, (<a class="code" href="dlmcommon_8h.html#ac1a48746ad80e71f32e22805d1f6bba1">DLM_LOCK_RES_IN_PROGRESS</a>|</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                          <a class="code" href="dlmcommon_8h.html#aefabc07e6c0afadeac469859a28960df">DLM_LOCK_RES_RECOVERING</a>|</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                      <a class="code" href="dlmcommon_8h.html#aa2ef928a88f4e2666b96e6a256a95530">DLM_LOCK_RES_RECOVERY_WAITING</a>|</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                      <a class="code" href="dlmcommon_8h.html#a0436345348f52a65b2eff75c1cdc2cae">DLM_LOCK_RES_MIGRATING</a>));</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;}</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a49780eb60f10c4985597828e8861efea">__dlm_unlink_mle</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__master__list__entry.html">dlm_master_list_entry</a> *mle);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a7036a81449ebfe5144f613ee00c64f69">__dlm_insert_mle</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__master__list__entry.html">dlm_master_list_entry</a> *mle);</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">/* create/destroy slab caches */</span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#af29515288060f4ce40ed0b3de0f605a3">dlm_init_master_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#aff2b3ed1bab55a82ebd314d9a8886671">dlm_destroy_master_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a33bde48be8aa227e228e92e17fe88146">dlm_init_lock_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a1ab914948a4f4bf335b9ae47dc3ceec8">dlm_destroy_lock_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a65b499273255cec98af64a905936a85c">dlm_init_mle_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#acff94899d610011466104893a3336ad3">dlm_destroy_mle_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#ab7f6133937aa9754576d68f2efec216f">dlm_hb_event_notify_attached</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keywordtype">int</span> idx, <span class="keywordtype">int</span> node_up);</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#aecf1149444e17decd7ab1f130eff5300">dlm_drop_lockres_ref</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;             <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a10fcd66e648ca3402b4e7067a0e5c1c9">dlm_clean_master_list</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;               u8 dead_node);</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a4670c04dfc3106b07062c045c7ef9627">dlm_force_free_mles</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ae0eba6f5489b558e3dffdca83356b52a">dlm_lock_basts_flushed</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm, <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a8f151a810a2867342844ad803783dbfe">__dlm_lockres_has_locks</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a67364f4eb7ef88a419121f0e983de76c">__dlm_lockres_unused</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;</div><div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a0395821803041b64b8d996673a72c5bd"> 1058</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="dlmcommon_8h.html#a0395821803041b64b8d996673a72c5bd">dlm_lock_mode_name</a>(<span class="keywordtype">int</span> mode)</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;{</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">switch</span> (mode) {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dlmapi_8h.html#a03bddf53918f042b2d12336e990b84c4">LKM_EXMODE</a>:</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;EX&quot;</span>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dlmapi_8h.html#aa647f9516500549833a0f96cd857ba33">LKM_PRMODE</a>:</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PR&quot;</span>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="dlmapi_8h.html#a8da3bd3cece12556291cd4f9313850fb">LKM_NLMODE</a>:</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;NL&quot;</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div><div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a91affc63da616dadcdc244bf45682340"> 1072</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a91affc63da616dadcdc244bf45682340">dlm_lock_compatible</a>(<span class="keywordtype">int</span> existing, <span class="keywordtype">int</span> request)</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;{</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="comment">/* NO_LOCK compatible with all */</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (request == <a class="code" href="dlmapi_8h.html#a8da3bd3cece12556291cd4f9313850fb">LKM_NLMODE</a> ||</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        existing == <a class="code" href="dlmapi_8h.html#a8da3bd3cece12556291cd4f9313850fb">LKM_NLMODE</a>)</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="comment">/* EX incompatible with all non-NO_LOCK */</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> (request == <a class="code" href="dlmapi_8h.html#a03bddf53918f042b2d12336e990b84c4">LKM_EXMODE</a>)</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="comment">/* request must be PR, which is compatible with PR */</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">if</span> (existing == <a class="code" href="dlmapi_8h.html#aa647f9516500549833a0f96cd857ba33">LKM_PRMODE</a>)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;}</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a22955526a2b2156a90b13a5e280e2a4e"> 1090</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#a22955526a2b2156a90b13a5e280e2a4e">dlm_lock_on_list</a>(<span class="keyword">struct</span> list_head *head,</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                   <span class="keyword">struct</span> <a class="code" href="structdlm__lock.html">dlm_lock</a> *lock)</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;{</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdlm__lock.html">dlm_lock</a> *tmplock;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    list_for_each_entry(tmplock, head, <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>) {</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        <span class="keywordflow">if</span> (tmplock == lock)</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ad13bcb40e8ab852309972e8579e7aa7f"> 1103</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> <a class="code" href="dlmcommon_8h.html#ad13bcb40e8ab852309972e8579e7aa7f">dlm_err_to_dlm_status</a>(<span class="keywordtype">int</span> err)</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;{</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keyword">enum</span> <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a> ret;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (err == -ENOMEM)</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        ret = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca586c1566020f37df3c3eb3c1a207796b">DLM_SYSERR</a>;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == -ETIMEDOUT || <a class="code" href="tcp_8h.html#ae950a2818b848da1399a572845854a0c">o2net_link_down</a>(err, NULL))</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        ret = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaef2c297e136b143c18f66d45d9def127">DLM_NOLOCKMGR</a>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == -EINVAL)</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        ret = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca153d9a3cc49d9ff2155ccae1dba5d62e">DLM_BADPARAM</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == -ENAMETOOLONG)</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        ret = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca0ddc67ec627f2a2a29024d2ee30c456f">DLM_IVBUFLEN</a>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        ret = <a class="code" href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaf2952c53b19fff21e52d8cbd58d2aced">DLM_BADARGS</a>;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#af5cdb7a61affe8a799d35d5576c579c9"> 1120</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#af5cdb7a61affe8a799d35d5576c579c9">dlm_node_iter_init</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *map,</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                      <span class="keyword">struct</span> <a class="code" href="structdlm__node__iter.html">dlm_node_iter</a> *iter)</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;{</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    memcpy(iter-&gt;<a class="code" href="structdlm__node__iter.html#afb73aa1c920362fb96ce0218848bb8b1">node_map</a>, map, <span class="keyword">sizeof</span>(iter-&gt;<a class="code" href="structdlm__node__iter.html#afb73aa1c920362fb96ce0218848bb8b1">node_map</a>));</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    iter-&gt;<a class="code" href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">curnode</a> = -1;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;</div><div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#ab829dbce70bac03c9cff8eaff2004f2a"> 1127</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="dlmcommon_8h.html#ab829dbce70bac03c9cff8eaff2004f2a">dlm_node_iter_next</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__node__iter.html">dlm_node_iter</a> *iter)</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordtype">int</span> bit;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    bit = find_next_bit(iter-&gt;<a class="code" href="structdlm__node__iter.html#afb73aa1c920362fb96ce0218848bb8b1">node_map</a>, <a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>, iter-&gt;<a class="code" href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">curnode</a>+1);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">if</span> (bit &gt;= <a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>) {</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        iter-&gt;<a class="code" href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">curnode</a> = <a class="code" href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a>;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="keywordflow">return</span> -ENOENT;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    }</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    iter-&gt;<a class="code" href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">curnode</a> = bit;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">return</span> bit;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#aef83eb51f2231233082b14f1c517781f"> 1139</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#aef83eb51f2231233082b14f1c517781f">dlm_set_lockres_owner</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                     <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                     u8 <a class="code" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>)</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;{</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    assert_spin_locked(&amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#a2a1ef74840381cf56f8fafac9121a5b9">spinlock</a>);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    res-&gt;<a class="code" href="structdlm__lock__resource.html#a2684deb2677ccaddf5af89fa9d39d7d4">owner</a> = <a class="code" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;}</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="dlmcommon_8h.html#a0b58292fb3b080ef6d174b6cb3e3faf7"> 1148</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="dlmcommon_8h.html#a0b58292fb3b080ef6d174b6cb3e3faf7">dlm_change_lockres_owner</a>(<span class="keyword">struct</span> <a class="code" href="structdlm__ctxt.html">dlm_ctxt</a> *dlm,</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structdlm__lock__resource.html">dlm_lock_resource</a> *res,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                        u8 <a class="code" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>)</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;{</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    assert_spin_locked(&amp;res-&gt;<a class="code" href="structdlm__lock__resource.html#a2a1ef74840381cf56f8fafac9121a5b9">spinlock</a>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">if</span> (owner != res-&gt;<a class="code" href="structdlm__lock__resource.html#a2684deb2677ccaddf5af89fa9d39d7d4">owner</a>)</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="dlmcommon_8h.html#aef83eb51f2231233082b14f1c517781f">dlm_set_lockres_owner</a>(dlm, res, owner);</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;}</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* DLMCOMMON_H */</span><span class="preprocessor"></span></div><div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9acaf2952c53b19fff21e52d8cbd58d2aced"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaf2952c53b19fff21e52d8cbd58d2aced">DLM_BADARGS</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:54</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9314de9625fc9ba31710f31e7b30b1c0"><div class="ttname"><a href="dlmcommon_8h.html#a9314de9625fc9ba31710f31e7b30b1c0">__dlm_unhash_lockres</a></div><div class="ttdeci">void __dlm_unhash_lockres(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:162</div></div>
<div class="ttc" id="dlmcommon_8h_html_aff2b3ed1bab55a82ebd314d9a8886671"><div class="ttname"><a href="dlmcommon_8h.html#aff2b3ed1bab55a82ebd314d9a8886671">dlm_destroy_master_caches</a></div><div class="ttdeci">void dlm_destroy_master_caches(void)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:472</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9aca0ddc67ec627f2a2a29024d2ee30c456f"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca0ddc67ec627f2a2a29024d2ee30c456f">DLM_IVBUFLEN</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:57</div></div>
<div class="ttc" id="uniondlm__query__join__response_html"><div class="ttname"><a href="uniondlm__query__join__response.html">dlm_query_join_response</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:673</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html_a63abdaf73abb735cd4f5c1c1bf44baa7"><div class="ttname"><a href="structdlm__migratable__lockres.html#a63abdaf73abb735cd4f5c1c1bf44baa7">dlm_migratable_lockres::mig_cookie</a></div><div class="ttdeci">__be64 mig_cookie</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:576</div></div>
<div class="ttc" id="structdlm__deref__lockres_html_acdcb93ba9242bcfd54dc81d74c81fc56"><div class="ttname"><a href="structdlm__deref__lockres.html#acdcb93ba9242bcfd54dc81d74c81fc56">dlm_deref_lockres::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:782</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a6378d23605781123bd6f99647ed1e60d"><div class="ttname"><a href="structdlm__lock__resource.html#a6378d23605781123bd6f99647ed1e60d">dlm_lock_resource::inflight_assert_workers</a></div><div class="ttdeci">unsigned int inflight_assert_workers</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:336</div></div>
<div class="ttc" id="dlmcommon_8h_html_aef83eb51f2231233082b14f1c517781f"><div class="ttname"><a href="dlmcommon_8h.html#aef83eb51f2231233082b14f1c517781f">dlm_set_lockres_owner</a></div><div class="ttdeci">static void dlm_set_lockres_owner(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, u8 owner)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1139</div></div>
<div class="ttc" id="structdlm__node__info_html_ac499e405e4ddaa6b04d09a6b03d6f0fa"><div class="ttname"><a href="structdlm__node__info.html#ac499e405e4ddaa6b04d09a6b03d6f0fa">dlm_node_info::ni_ipv4_address</a></div><div class="ttdeci">__be32 ni_ipv4_address</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:751</div></div>
<div class="ttc" id="structdlm__proxy__ast_html_a6a9dec3d8fabc75eec236647ce212766"><div class="ttname"><a href="structdlm__proxy__ast.html#a6a9dec3d8fabc75eec236647ce212766">dlm_proxy_ast::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:644</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html_a0f4ad7026938aca8cf8c0aac16267bac"><div class="ttname"><a href="structdlm__migratable__lockres.html#a0f4ad7026938aca8cf8c0aac16267bac">dlm_migratable_lockres::flags</a></div><div class="ttdeci">u8 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:574</div></div>
<div class="ttc" id="structdlm__lock_html_a2459754015a273e3cc57e6abc76dbcd9"><div class="ttname"><a href="structdlm__lock.html#a2459754015a273e3cc57e6abc76dbcd9">dlm_lock::ast</a></div><div class="ttdeci">dlm_astlockfunc_t * ast</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:368</div></div>
<div class="ttc" id="structdlm__reco__node__data_html_a3178e2ab8e5de3ca889bbb9a42e8effe"><div class="ttname"><a href="structdlm__reco__node__data.html#a3178e2ab8e5de3ca889bbb9a42e8effe">dlm_reco_node_data::state</a></div><div class="ttdeci">int state</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:461</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a917557dc7349b3b9b584bd4dd42575a3"><div class="ttname"><a href="structdlm__master__list__entry.html#a917557dc7349b3b9b584bd4dd42575a3">dlm_master_list_entry::node_map</a></div><div class="ttdeci">unsigned long node_map[BITS_TO_LONGS(O2NM_MAX_NODES)]</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:71</div></div>
<div class="ttc" id="structdlm__work__item_html_a53294ad1288d1ad2f0f2841ec13ff9d8"><div class="ttname"><a href="structdlm__work__item.html#a53294ad1288d1ad2f0f2841ec13ff9d8">dlm_work_item::list</a></div><div class="ttdeci">struct list_head list</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:243</div></div>
<div class="ttc" id="dlmcommon_8h_html_aefabc07e6c0afadeac469859a28960df"><div class="ttname"><a href="dlmcommon_8h.html#aefabc07e6c0afadeac469859a28960df">DLM_LOCK_RES_RECOVERING</a></div><div class="ttdeci">#define DLM_LOCK_RES_RECOVERING</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:278</div></div>
<div class="ttc" id="structdlm__deref__lockres__done_html_a4904e9c9dfa9680b66b6fb6c596a999d"><div class="ttname"><a href="structdlm__deref__lockres__done.html#a4904e9c9dfa9680b66b6fb6c596a999d">dlm_deref_lockres_done::pad2</a></div><div class="ttdeci">u16 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:795</div></div>
<div class="ttc" id="structdlm__convert__lock_html_ad081cc0e6db73d90868749d9321e3245"><div class="ttname"><a href="structdlm__convert__lock.html#ad081cc0e6db73d90868749d9321e3245">dlm_convert_lock::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:614</div></div>
<div class="ttc" id="dlmcommon_8h_html_abc9f0b2c3d40d88e505893df29cbaa05"><div class="ttname"><a href="dlmcommon_8h.html#abc9f0b2c3d40d88e505893df29cbaa05">dlm_dispatch_work</a></div><div class="ttdeci">void dlm_dispatch_work(struct work_struct *work)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:152</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab5e5a00231433d431f4180e4d6612c4b"><div class="ttname"><a href="dlmcommon_8h.html#ab5e5a00231433d431f4180e4d6612c4b">dlm_queue_ast</a></div><div class="ttdeci">void dlm_queue_ast(struct dlm_ctxt *dlm, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmast.c:146</div></div>
<div class="ttc" id="structdlm__query__join__packet_html_aad03ab6c6d8bba2186792f1f1b186284"><div class="ttname"><a href="structdlm__query__join__packet.html#aad03ab6c6d8bba2186792f1f1b186284">dlm_query_join_packet::code</a></div><div class="ttdeci">u8 code</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:664</div></div>
<div class="ttc" id="structdlm__node__iter_html_afb73aa1c920362fb96ce0218848bb8b1"><div class="ttname"><a href="structdlm__node__iter.html#afb73aa1c920362fb96ce0218848bb8b1">dlm_node_iter::node_map</a></div><div class="ttdeci">unsigned long node_map[BITS_TO_LONGS(O2NM_MAX_NODES)]</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:428</div></div>
<div class="ttc" id="structdlm__lock_html_a6d386ac2ecfe1ce289cff40213385258"><div class="ttname"><a href="structdlm__lock.html#a6d386ac2ecfe1ce289cff40213385258">dlm_lock::spinlock</a></div><div class="ttdeci">spinlock_t spinlock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:364</div></div>
<div class="ttc" id="structdlm__exit__domain_html_a1811e3b4799542fbb286e731700521d9"><div class="ttname"><a href="structdlm__exit__domain.html#a1811e3b4799542fbb286e731700521d9">dlm_exit_domain::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:765</div></div>
<div class="ttc" id="structdlm__node__info_html_a4c6f2a6cd72ed9dd034cf80f13d0d1f8"><div class="ttname"><a href="structdlm__node__info.html#a4c6f2a6cd72ed9dd034cf80f13d0d1f8">dlm_node_info::ni_ipv4_port</a></div><div class="ttdeci">__be16 ni_ipv4_port</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:750</div></div>
<div class="ttc" id="structdlm__migrate__request_html_aec39d86798a60ae42bdce9799d08723f"><div class="ttname"><a href="structdlm__migrate__request.html#aec39d86798a60ae42bdce9799d08723f">dlm_migrate_request::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:517</div></div>
<div class="ttc" id="structdlm__begin__reco_html_abdd2aadee12098ad3db9835769729d67"><div class="ttname"><a href="structdlm__begin__reco.html#abdd2aadee12098ad3db9835769729d67">dlm_begin_reco::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:701</div></div>
<div class="ttc" id="dlmcommon_8h_html_aac3c67ad9759229029b5c161c631a93b"><div class="ttname"><a href="dlmcommon_8h.html#aac3c67ad9759229029b5c161c631a93b">dlm_kick_thread</a></div><div class="ttdeci">void dlm_kick_thread(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:516</div></div>
<div class="ttc" id="structdlm__lock__resource_html_abaa7e232396c2704384be63dee6dfa7a"><div class="ttname"><a href="structdlm__lock__resource.html#abaa7e232396c2704384be63dee6dfa7a">dlm_lock_resource::migration_pending</a></div><div class="ttdeci">unsigned migration_pending</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:328</div></div>
<div class="ttc" id="ctree_8h_html_a39f26b10bb4a92b7f6d651d588a364b3"><div class="ttname"><a href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a></div><div class="ttdeci">__le64 owner</div><div class="ttdef"><b>Definition:</b> ctree.h:114</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca23bbcb2afce49a60f32b727b511fc9e7"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca23bbcb2afce49a60f32b727b511fc9e7">DLM_MASTER_REQUERY_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:448</div></div>
<div class="ttc" id="structdlm__create__lock_html_aa30fcecdf1436e738519251b578275a3"><div class="ttname"><a href="structdlm__create__lock.html#aa30fcecdf1436e738519251b578275a3">dlm_create_lock::cookie</a></div><div class="ttdeci">__be64 cookie</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:597</div></div>
<div class="ttc" id="dlmcommon_8h_html_a162c4445310e82598c2c418fef7162e3"><div class="ttname"><a href="dlmcommon_8h.html#a162c4445310e82598c2c418fef7162e3">dlm_lvb_is_empty</a></div><div class="ttdeci">static int dlm_lvb_is_empty(char *lvb)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:387</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6cabc2f0e08bae46c287cc8bb3afe0ceb54"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cabc2f0e08bae46c287cc8bb3afe0ceb54">DLM_PROXY_AST_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:439</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5ec47e281e88544932aabe7012e257b1"><div class="ttname"><a href="dlmcommon_8h.html#a5ec47e281e88544932aabe7012e257b1">dlm_kick_recovery_thread</a></div><div class="ttdeci">void dlm_kick_recovery_thread(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:191</div></div>
<div class="ttc" id="structdlm__lockstatus_html"><div class="ttname"><a href="structdlm__lockstatus.html">dlm_lockstatus</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:111</div></div>
<div class="ttc" id="structdlm__query__join__request_html"><div class="ttname"><a href="structdlm__query__join__request.html">dlm_query_join_request</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:711</div></div>
<div class="ttc" id="structdlm__reco__data__done_html_a7fe536d35e86c74ab8805895beb22909"><div class="ttname"><a href="structdlm__reco__data__done.html#a7fe536d35e86c74ab8805895beb22909">dlm_reco_data_done::pad2</a></div><div class="ttdeci">__be32 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:691</div></div>
<div class="ttc" id="structdlm__node__iter_html_a4f6b10789fad570486f47de7a23a3a69"><div class="ttname"><a href="structdlm__node__iter.html#a4f6b10789fad570486f47de7a23a3a69">dlm_node_iter::curnode</a></div><div class="ttdeci">int curnode</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:429</div></div>
<div class="ttc" id="dlmapi_8h_html_a8da3bd3cece12556291cd4f9313850fb"><div class="ttname"><a href="dlmapi_8h.html#a8da3bd3cece12556291cd4f9313850fb">LKM_NLMODE</a></div><div class="ttdeci">#define LKM_NLMODE</div><div class="ttdef"><b>Definition:</b> dlmapi.h:120</div></div>
<div class="ttc" id="structdlm__query__region_html_a5198369110476ea1eb9ae5e94fc1d62f"><div class="ttname"><a href="structdlm__query__region.html#a5198369110476ea1eb9ae5e94fc1d62f">dlm_query_region::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:742</div></div>
<div class="ttc" id="structdlm__lock_html_ae696e5b975169ea6b665062b6fb0d1f6"><div class="ttname"><a href="structdlm__lock.html#ae696e5b975169ea6b665062b6fb0d1f6">dlm_lock::unlock_pending</a></div><div class="ttdeci">unsigned unlock_pending</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:372</div></div>
<div class="ttc" id="dlmcommon_8h_html_a2749ebdca9697757b58988aeafe32ab6"><div class="ttname"><a href="dlmcommon_8h.html#a2749ebdca9697757b58988aeafe32ab6">dlm_lockres_get</a></div><div class="ttdeci">static void dlm_lockres_get(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:880</div></div>
<div class="ttc" id="structdlm__reco__data__done_html_ab95605308001d2b256d3c4663efd956b"><div class="ttname"><a href="structdlm__reco__data__done.html#ab95605308001d2b256d3c4663efd956b">dlm_reco_data_done::dead_node</a></div><div class="ttdeci">u8 dead_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:689</div></div>
<div class="ttc" id="structdlm__master__list__entry_html"><div class="ttname"><a href="structdlm__master__list__entry.html">dlm_master_list_entry</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:59</div></div>
<div class="ttc" id="dlmcommon_8h_html_a84cd601553d99a8a3618edd0fb9c6c76"><div class="ttname"><a href="dlmcommon_8h.html#a84cd601553d99a8a3618edd0fb9c6c76">dlm_lock_get</a></div><div class="ttdeci">void dlm_lock_get(struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:341</div></div>
<div class="ttc" id="dlmcommon_8h_html_a59a38d625be089eb7012d95599904482a44822ebfcce05d3e76db609d3df741de"><div class="ttname"><a href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a44822ebfcce05d3e76db609d3df741de">DLM_BAST</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:85</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5f91cd780d72a80e1eff02177b3469a8"><div class="ttname"><a href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8">dlm_lockres_list</a></div><div class="ttdeci">dlm_lockres_list</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:381</div></div>
<div class="ttc" id="dlmcommon_8h_html_af8f1cfdebed47ccf631f300ef65b58ad"><div class="ttname"><a href="dlmcommon_8h.html#af8f1cfdebed47ccf631f300ef65b58ad">dlm_lockres_grab_inflight_ref</a></div><div class="ttdeci">void dlm_lockres_grab_inflight_ref(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:650</div></div>
<div class="ttc" id="structdlm__ctxt_html_aaa6322dfac79e6ab7ec7129d41d6e063"><div class="ttname"><a href="structdlm__ctxt.html#aaa6322dfac79e6ab7ec7129d41d6e063">dlm_ctxt::ast_wq</a></div><div class="ttdeci">wait_queue_head_t ast_wq</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:175</div></div>
<div class="ttc" id="structdlm__ctxt_html_af3be90203d7f2e6fbd2ecbdad996c32d"><div class="ttname"><a href="structdlm__ctxt.html#af3be90203d7f2e6fbd2ecbdad996c32d">dlm_ctxt::migrate_done</a></div><div class="ttdeci">u8 migrate_done</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:143</div></div>
<div class="ttc" id="structdlm__query__join__packet_html_a2f6dca6a86a60b270a1088d2dc02bdf8"><div class="ttname"><a href="structdlm__query__join__packet.html#a2f6dca6a86a60b270a1088d2dc02bdf8">dlm_query_join_packet::reserved</a></div><div class="ttdeci">u8 reserved</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:670</div></div>
<div class="ttc" id="structdlm__query__join__packet_html"><div class="ttname"><a href="structdlm__query__join__packet.html">dlm_query_join_packet</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:663</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a2684deb2677ccaddf5af89fa9d39d7d4"><div class="ttname"><a href="structdlm__lock__resource.html#a2684deb2677ccaddf5af89fa9d39d7d4">dlm_lock_resource::owner</a></div><div class="ttdeci">u8 owner</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:332</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1e34fbd5f9532d770b3a6d0a9c43b2ed"><div class="ttname"><a href="dlmcommon_8h.html#a1e34fbd5f9532d770b3a6d0a9c43b2ed">dlm_lockres_put</a></div><div class="ttdeci">void dlm_lockres_put(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:535</div></div>
<div class="ttc" id="dlmcommon_8h_html_af1fdb8583300050f268e10e1d6e9a192acf2a7967f5a3da728927b3f4c50b96d1"><div class="ttname"><a href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192acf2a7967f5a3da728927b3f4c50b96d1">JOIN_OK</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:658</div></div>
<div class="ttc" id="structdlm__assert__master_html_a3755b800daf0241fc68c46ac80b585ee"><div class="ttname"><a href="structdlm__assert__master.html#a3755b800daf0241fc68c46ac80b585ee">dlm_assert_master::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:505</div></div>
<div class="ttc" id="ocfs2__nodemanager_8h_html_a4fa1bb30cf83cb0cfa827731e4d22ace"><div class="ttname"><a href="ocfs2__nodemanager_8h.html#a4fa1bb30cf83cb0cfa827731e4d22ace">O2NM_MAX_REGIONS</a></div><div class="ttdeci">#define O2NM_MAX_REGIONS</div><div class="ttdef"><b>Definition:</b> ocfs2_nodemanager.h:43</div></div>
<div class="ttc" id="structdlm__ctxt_html_a6da08c50d9eb01e1e9a79a7368e5e996"><div class="ttname"><a href="structdlm__ctxt.html#a6da08c50d9eb01e1e9a79a7368e5e996">dlm_ctxt::dlm_debugfs_subroot</a></div><div class="ttdeci">struct dentry * dlm_debugfs_subroot</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:161</div></div>
<div class="ttc" id="cifspdu_8h_html_af56dc0f218e25ace3ee2d64bbaf2a2a8"><div class="ttname"><a href="cifspdu_8h.html#af56dc0f218e25ace3ee2d64bbaf2a2a8">name_len</a></div><div class="ttdeci">unsigned char name_len</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="dlmapi_8h_html_a10ad0178a8aa3a2fe7c219c990da9b45"><div class="ttname"><a href="dlmapi_8h.html#a10ad0178a8aa3a2fe7c219c990da9b45">DLM_LVB_LEN</a></div><div class="ttdeci">#define DLM_LVB_LEN</div><div class="ttdef"><b>Definition:</b> dlmapi.h:107</div></div>
<div class="ttc" id="dlmcommon_8h_html_ad6e5511d2518fc21f9c462232dd2503baf5872e772247f0614bf870045ecb7576"><div class="ttname"><a href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503baf5872e772247f0614bf870045ecb7576">DLM_MASTER_RESP_MAYBE</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:480</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caab052df4940ad4cebaeab45e804280cdb"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caab052df4940ad4cebaeab45e804280cdb">DLM_RECO_NODE_DATA_FINALIZE_SENT</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:473</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5327b4bda47dbdee1a589f8112045b31"><div class="ttname"><a href="dlmcommon_8h.html#a5327b4bda47dbdee1a589f8112045b31">__dlm_wait_on_lockres_flags</a></div><div class="ttdeci">void __dlm_wait_on_lockres_flags(struct dlm_lock_resource *res, int flags)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:61</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae83947b29a282503d05ee724a2e768cdaab118ed8fa209f9ed222a74b5d122c7b"><div class="ttname"><a href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cdaab118ed8fa209f9ed222a74b5d122c7b">DLM_CTXT_LEAVING</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:123</div></div>
<div class="ttc" id="dlmcommon_8h_html_a2f8b5f86f31c821e8c2277c0d96756b1"><div class="ttname"><a href="dlmcommon_8h.html#a2f8b5f86f31c821e8c2277c0d96756b1">__dlm_print_one_lock_resource</a></div><div class="ttdeci">void __dlm_print_one_lock_resource(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmdebug.c:97</div></div>
<div class="ttc" id="structdlm__ctxt_html_ad4be3b3cd7b38fe4298ac9fbfa1b72ff"><div class="ttname"><a href="structdlm__ctxt.html#ad4be3b3cd7b38fe4298ac9fbfa1b72ff">dlm_ctxt::purge_count</a></div><div class="ttdeci">unsigned int purge_count</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:135</div></div>
<div class="ttc" id="dlmcommon_8h_html_a3fcef7966941b8b6ef48ddbdb19f9c57"><div class="ttname"><a href="dlmcommon_8h.html#a3fcef7966941b8b6ef48ddbdb19f9c57">dlm_wait_for_node_recovery</a></div><div class="ttdeci">void dlm_wait_for_node_recovery(struct dlm_ctxt *dlm, u8 node, int timeout)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:379</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_a35afe0d511774e19f586c5fb0651eef8"><div class="ttname"><a href="structdlm__migratable__lock.html#a35afe0d511774e19f586c5fb0651eef8">dlm_migratable_lock::type</a></div><div class="ttdeci">s8 type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:350</div></div>
<div class="ttc" id="dlmcommon_8h_html_a7576e0d163acfcf2a6dd3b9a11159701"><div class="ttname"><a href="dlmcommon_8h.html#a7576e0d163acfcf2a6dd3b9a11159701">__dlm_lockres_reserve_ast</a></div><div class="ttdeci">void __dlm_lockres_reserve_ast(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:3505</div></div>
<div class="ttc" id="dlmcommon_8h_html_a883beb1e51ab8959198da139b89fc9d1"><div class="ttname"><a href="dlmcommon_8h.html#a883beb1e51ab8959198da139b89fc9d1">dlm_do_master_requery</a></div><div class="ttdeci">int dlm_do_master_requery(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, u8 nodenum, u8 *real_master)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:1685</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a2a1ef74840381cf56f8fafac9121a5b9"><div class="ttname"><a href="structdlm__lock__resource.html#a2a1ef74840381cf56f8fafac9121a5b9">dlm_lock_resource::spinlock</a></div><div class="ttdeci">spinlock_t spinlock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:330</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae83947b29a282503d05ee724a2e768cda0393eb46473b204e1e5820f0ba96e147"><div class="ttname"><a href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda0393eb46473b204e1e5820f0ba96e147">DLM_CTXT_IN_SHUTDOWN</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:122</div></div>
<div class="ttc" id="structdlm__cancel__join_html_a28cb95cce5c47f163e23c5755c00684d"><div class="ttname"><a href="structdlm__cancel__join.html#a28cb95cce5c47f163e23c5755c00684d">dlm_cancel_join::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:732</div></div>
<div class="ttc" id="dlmcommon_8h_html_a8f413f31d419f11b1b6d1b97dff83747"><div class="ttname"><a href="dlmcommon_8h.html#a8f413f31d419f11b1b6d1b97dff83747">dlm_lockres_release_ast</a></div><div class="ttdeci">void dlm_lockres_release_ast(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:3529</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca7752a439bb94d594c01358c6cb333cff"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca7752a439bb94d594c01358c6cb333cff">DLM_DEREF_LOCKRES_DONE</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:456</div></div>
<div class="ttc" id="uniondlm__query__join__response_html_ad1f2bed7e3760c61214b89593db0df43"><div class="ttname"><a href="uniondlm__query__join__response.html#ad1f2bed7e3760c61214b89593db0df43">dlm_query_join_response::intval</a></div><div class="ttdeci">__be32 intval</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:674</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4670c04dfc3106b07062c045c7ef9627"><div class="ttname"><a href="dlmcommon_8h.html#a4670c04dfc3106b07062c045c7ef9627">dlm_force_free_mles</a></div><div class="ttdeci">void dlm_force_free_mles(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:3548</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9f8ef0519749d7bfe7879a377f8feee7"><div class="ttname"><a href="dlmcommon_8h.html#a9f8ef0519749d7bfe7879a377f8feee7">dlm_domain_fully_joined</a></div><div class="ttdeci">int dlm_domain_fully_joined(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:382</div></div>
<div class="ttc" id="structdlm__migrate__request_html_afe9533755d9ba49953fc0b792d6b2a65"><div class="ttname"><a href="structdlm__migrate__request.html#afe9533755d9ba49953fc0b792d6b2a65">dlm_migrate_request::new_master</a></div><div class="ttdeci">u8 new_master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:516</div></div>
<div class="ttc" id="structdlm__assert__master__priv_html_a998c1c5d1e4f3a5c677e68703e3fdb7d"><div class="ttname"><a href="structdlm__assert__master__priv.html#a998c1c5d1e4f3a5c677e68703e3fdb7d">dlm_assert_master_priv::ignore_higher</a></div><div class="ttdeci">unsigned ignore_higher</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:232</div></div>
<div class="ttc" id="structdlm__query__region_html_aa73e5a4f353a0241e60448b460ce983d"><div class="ttname"><a href="structdlm__query__region.html#aa73e5a4f353a0241e60448b460ce983d">dlm_query_region::qr_namelen</a></div><div class="ttdeci">u8 qr_namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:741</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6cadf0f75fb4b68f734f78cc124dc17295b"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cadf0f75fb4b68f734f78cc124dc17295b">DLM_UNUSED_MSG1</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:435</div></div>
<div class="ttc" id="structdlm__query__nodeinfo_html_ad084403e358c48329772e04609a4f5fd"><div class="ttname"><a href="structdlm__query__nodeinfo.html#ad084403e358c48329772e04609a4f5fd">dlm_query_nodeinfo::qn_namelen</a></div><div class="ttdeci">u8 qn_namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:757</div></div>
<div class="ttc" id="structdlm__lock__resource_html_ae93f35307e2f5ddbcf3ada94c9d4ac05"><div class="ttname"><a href="structdlm__lock__resource.html#ae93f35307e2f5ddbcf3ada94c9d4ac05">dlm_lock_resource::last_used</a></div><div class="ttdeci">unsigned long last_used</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:324</div></div>
<div class="ttc" id="structdlm__reco__data__done_html"><div class="ttname"><a href="structdlm__reco__data__done.html">dlm_reco_data_done</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:686</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae365ae431f9fba6b50ee73b564f45610"><div class="ttname"><a href="dlmcommon_8h.html#ae365ae431f9fba6b50ee73b564f45610">dlm_is_node_dead</a></div><div class="ttdeci">int dlm_is_node_dead(struct dlm_ctxt *dlm, u8 node)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:341</div></div>
<div class="ttc" id="structdlm__deref__lockres__priv_html_a72f007cf288bf8cc565a6a77150109e1"><div class="ttname"><a href="structdlm__deref__lockres__priv.html#a72f007cf288bf8cc565a6a77150109e1">dlm_deref_lockres_priv::deref_node</a></div><div class="ttdeci">u8 deref_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:238</div></div>
<div class="ttc" id="structdlm__convert__lock_html_a88c9ea322110c6537d641213c9736db5"><div class="ttname"><a href="structdlm__convert__lock.html#a88c9ea322110c6537d641213c9736db5">dlm_convert_lock::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:613</div></div>
<div class="ttc" id="structdlm__master__requery_html_af27939f22c703359df63be97c0f7a841"><div class="ttname"><a href="structdlm__master__requery.html#af27939f22c703359df63be97c0f7a841">dlm_master_requery::pad3</a></div><div class="ttdeci">__be32 pad3</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:529</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_aa518c02afedf4b1d445eefa6ad3d4de9"><div class="ttname"><a href="structdlm__migratable__lock.html#aa518c02afedf4b1d445eefa6ad3d4de9">dlm_migratable_lock::flags</a></div><div class="ttdeci">u8 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:348</div></div>
<div class="ttc" id="dlmcommon_8h_html_a10fcd66e648ca3402b4e7067a0e5c1c9"><div class="ttname"><a href="dlmcommon_8h.html#a10fcd66e648ca3402b4e7067a0e5c1c9">dlm_clean_master_list</a></div><div class="ttdeci">void dlm_clean_master_list(struct dlm_ctxt *dlm, u8 dead_node)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:3347</div></div>
<div class="ttc" id="block__dev_8c_html_a79868b6f75989a03b1ad72c771d39cc1"><div class="ttname"><a href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1">hash</a></div><div class="ttdeci">static unsigned long hash(dev_t dev)</div><div class="ttdef"><b>Definition:</b> block_dev.c:830</div></div>
<div class="ttc" id="dlmcommon_8h_html_adabb7b8fb2cde13e9c3cb89e084d209f"><div class="ttname"><a href="dlmcommon_8h.html#adabb7b8fb2cde13e9c3cb89e084d209f">dlm_dispatch_assert_master</a></div><div class="ttdeci">int dlm_dispatch_assert_master(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, int ignore_higher, u8 request_from, u32 flags)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2066</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a0ed4ebad4fb178ba0c9cf9086b458cb4"><div class="ttname"><a href="structdlm__lock__resource.html#a0ed4ebad4fb178ba0c9cf9086b458cb4">dlm_lock_resource::refs</a></div><div class="ttdeci">struct kref refs</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:299</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9ee4079a72538256c51fff9af62be5bf"><div class="ttname"><a href="dlmcommon_8h.html#a9ee4079a72538256c51fff9af62be5bf">dlm_send_proxy_ast_msg</a></div><div class="ttdeci">int dlm_send_proxy_ast_msg(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_lock *lock, int msg_type, int blocked_type, int flags)</div><div class="ttdef"><b>Definition:</b> dlmast.c:448</div></div>
<div class="ttc" id="structdlm__ctxt_html_a047b56cd08ddaf0e0679d26f30ef0858"><div class="ttname"><a href="structdlm__ctxt.html#a047b56cd08ddaf0e0679d26f30ef0858">dlm_ctxt::ast_lock</a></div><div class="ttdeci">spinlock_t ast_lock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:137</div></div>
<div class="ttc" id="dlmcommon_8h_html_ad6e5511d2518fc21f9c462232dd2503bac3dac1ac282ac46506f924e1ccdf75c1"><div class="ttname"><a href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503bac3dac1ac282ac46506f924e1ccdf75c1">DLM_MASTER_RESP_ERROR</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:481</div></div>
<div class="ttc" id="structdlm__convert__lock_html_a97f34279074286f025eb0a80394ac0a4"><div class="ttname"><a href="structdlm__convert__lock.html#a97f34279074286f025eb0a80394ac0a4">dlm_convert_lock::flags</a></div><div class="ttdeci">__be32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:612</div></div>
<div class="ttc" id="structdlm__unlock__lock_html_aa735c807bbf19cdfc001fe9c9da55c8b"><div class="ttname"><a href="structdlm__unlock__lock.html#aa735c807bbf19cdfc001fe9c9da55c8b">dlm_unlock_lock::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:629</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca2414d53f7968efe246bba1b5614621ae"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2414d53f7968efe246bba1b5614621ae">DLM_MIG_LOCKRES_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:443</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a61b44bfaf4e205c24ee49316b48486e1"><div class="ttname"><a href="structdlm__master__list__entry.html#a61b44bfaf4e205c24ee49316b48486e1">dlm_master_list_entry::vote_map</a></div><div class="ttdeci">unsigned long vote_map[BITS_TO_LONGS(O2NM_MAX_NODES)]</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:69</div></div>
<div class="ttc" id="structdlm__unlock__lock_html_a8f7df0b99242d3a3914a9afb76543058"><div class="ttname"><a href="structdlm__unlock__lock.html#a8f7df0b99242d3a3914a9afb76543058">dlm_unlock_lock::flags</a></div><div class="ttdeci">__be32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:628</div></div>
<div class="ttc" id="dlmcommon_8h_html_aa30579bb55ba65df5d4ca3be7d1b7ef8"><div class="ttname"><a href="dlmcommon_8h.html#aa30579bb55ba65df5d4ca3be7d1b7ef8">dlm_commit_pending_unlock</a></div><div class="ttdeci">void dlm_commit_pending_unlock(struct dlm_lock_resource *res, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmunlock.c:267</div></div>
<div class="ttc" id="structdlm__master__request_html_ace5a92b479934b5d926335472862d831"><div class="ttname"><a href="structdlm__master__request.html#ace5a92b479934b5d926335472862d831">dlm_master_request::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:487</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html_a1f413f8b9f3561ee0726772daf4632e0"><div class="ttname"><a href="structdlm__migratable__lockres.html#a1f413f8b9f3561ee0726772daf4632e0">dlm_migratable_lockres::lockname_len</a></div><div class="ttdeci">u8 lockname_len</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:572</div></div>
<div class="ttc" id="structdlm__unlock__lock_html_a02bf54ffcb3761ef63530cd654dd521d"><div class="ttname"><a href="structdlm__unlock__lock.html#a02bf54ffcb3761ef63530cd654dd521d">dlm_unlock_lock::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:631</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca9be6f60cc2ecbd39e0e95c3aebfb807c"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca9be6f60cc2ecbd39e0e95c3aebfb807c">DLM_EXIT_DOMAIN_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:447</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_abefb7db820fd6b12357e27394a3b682e"><div class="ttname"><a href="structdlm__master__list__entry.html#abefb7db820fd6b12357e27394a3b682e">dlm_master_list_entry::mname</a></div><div class="ttdeci">unsigned char mname[DLM_LOCKID_NAME_MAX]</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:78</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a509830cfa4de837a26dd1e8a20bec27f"><div class="ttname"><a href="structdlm__master__list__entry.html#a509830cfa4de837a26dd1e8a20bec27f">dlm_master_list_entry::mleres</a></div><div class="ttdeci">struct dlm_lock_resource * mleres</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:77</div></div>
<div class="ttc" id="structdlm__assert__master_html"><div class="ttname"><a href="structdlm__assert__master.html">dlm_assert_master</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:501</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab013ec9b983e65ab5b8a59f4744797c5"><div class="ttname"><a href="dlmcommon_8h.html#ab013ec9b983e65ab5b8a59f4744797c5">dlm_is_host_down</a></div><div class="ttdeci">int dlm_is_host_down(int errno)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:132</div></div>
<div class="ttc" id="structdlm__ctxt_html_ac1a59624cdd67fd1d77a598c70d58c03"><div class="ttname"><a href="structdlm__ctxt.html#ac1a59624cdd67fd1d77a598c70d58c03">dlm_ctxt::migration_wq</a></div><div class="ttdeci">wait_queue_head_t migration_wq</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:176</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5079e0aa02b8414573510fbd1d3769ff"><div class="ttname"><a href="dlmcommon_8h.html#a5079e0aa02b8414573510fbd1d3769ff">dlm_workfunc_t</a></div><div class="ttdeci">void() dlm_workfunc_t(struct dlm_work_item *, void *)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:212</div></div>
<div class="ttc" id="structdlm__deref__lockres_html_a7ee51cb605d85ba930f0409ce2e5a991"><div class="ttname"><a href="structdlm__deref__lockres.html#a7ee51cb605d85ba930f0409ce2e5a991">dlm_deref_lockres::pad2</a></div><div class="ttdeci">u16 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:781</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca2948e8c6169d99a2b9a64ef076d815bf"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2948e8c6169d99a2b9a64ef076d815bf">DLM_LOCK_REQUEST_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:449</div></div>
<div class="ttc" id="structdlm__ctxt_html_a6e83eef8c593ef9a8f1d9f7fafd2ea8f"><div class="ttname"><a href="structdlm__ctxt.html#a6e83eef8c593ef9a8f1d9f7fafd2ea8f">dlm_ctxt::dlm_reco_thread_task</a></div><div class="ttdeci">struct task_struct * dlm_reco_thread_task</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:171</div></div>
<div class="ttc" id="dlmcommon_8h_html_ad6e5511d2518fc21f9c462232dd2503ba84fc071f6ea7ec9820404372eb054834"><div class="ttname"><a href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503ba84fc071f6ea7ec9820404372eb054834">DLM_MASTER_RESP_YES</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:479</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab6c8e71cb05196cbce82c26b4d03728b"><div class="ttname"><a href="dlmcommon_8h.html#ab6c8e71cb05196cbce82c26b4d03728b">dlm_finish_migration</a></div><div class="ttdeci">int dlm_finish_migration(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, u8 old_master)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:3431</div></div>
<div class="ttc" id="dlmcommon_8h_html_aa2ef928a88f4e2666b96e6a256a95530"><div class="ttname"><a href="dlmcommon_8h.html#aa2ef928a88f4e2666b96e6a256a95530">DLM_LOCK_RES_RECOVERY_WAITING</a></div><div class="ttdeci">#define DLM_LOCK_RES_RECOVERY_WAITING</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:286</div></div>
<div class="ttc" id="dlmcommon_8h_html_aa6330de06cf867727bd76475403c83f8a4af12e1ce98e48f28ef7504478d39e30"><div class="ttname"><a href="dlmcommon_8h.html#aa6330de06cf867727bd76475403c83f8a4af12e1ce98e48f28ef7504478d39e30">DLM_DEREF_RESPONSE_INPROG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:790</div></div>
<div class="ttc" id="structdlm__master__requery_html_ae7f0fdd5a03fa39eae348fef3feede91"><div class="ttname"><a href="structdlm__master__requery.html#ae7f0fdd5a03fa39eae348fef3feede91">dlm_master_requery::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:527</div></div>
<div class="ttc" id="structdlm__migrate__request_html_aad3560bde8bf3fec47243b06e77ed5e3"><div class="ttname"><a href="structdlm__migrate__request.html#aad3560bde8bf3fec47243b06e77ed5e3">dlm_migrate_request::master</a></div><div class="ttdeci">u8 master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:515</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4188f1526ed8ae04f6e24947c128c838"><div class="ttname"><a href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838">dlm_mle_type</a></div><div class="ttdeci">dlm_mle_type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:52</div></div>
<div class="ttc" id="dlmapi_8h_html_afd3872305415df41a8efb40cce506b3a"><div class="ttname"><a href="dlmapi_8h.html#afd3872305415df41a8efb40cce506b3a">dlm_bastlockfunc_t</a></div><div class="ttdeci">void() dlm_bastlockfunc_t(void *, int)</div><div class="ttdef"><b>Definition:</b> dlmapi.h:177</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1a4a44a0c416ba22754129aa0029a6fa"><div class="ttname"><a href="dlmcommon_8h.html#a1a4a44a0c416ba22754129aa0029a6fa">__dlm_lookup_lockres</a></div><div class="ttdeci">struct dlm_lock_resource * __dlm_lookup_lockres(struct dlm_ctxt *dlm, const char *name, unsigned int len, unsigned int hash)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:223</div></div>
<div class="ttc" id="dlmcommon_8h_html_afc58dda977ad3a2d86e5c099f795659e"><div class="ttname"><a href="dlmcommon_8h.html#afc58dda977ad3a2d86e5c099f795659e">dlm_get_lock_cookie_seq</a></div><div class="ttdeci">static unsigned long long dlm_get_lock_cookie_seq(u64 cookie)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:828</div></div>
<div class="ttc" id="dlmcommon_8h_html_a92fdcef610fb06a5b2a8fbcc2d10d4e7"><div class="ttname"><a href="dlmcommon_8h.html#a92fdcef610fb06a5b2a8fbcc2d10d4e7">dlm_proxy_ast_handler</a></div><div class="ttdeci">int dlm_proxy_ast_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmast.c:283</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1595fa19e5e16d32aeeca3227173476f"><div class="ttname"><a href="dlmcommon_8h.html#a1595fa19e5e16d32aeeca3227173476f">dlm_revert_pending_lock</a></div><div class="ttdeci">void dlm_revert_pending_lock(struct dlm_lock_resource *res, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:198</div></div>
<div class="ttc" id="structdlm__ctxt_html_aac6ce7a55f2a1a442fb01ba7c1d2a838"><div class="ttname"><a href="structdlm__ctxt.html#aac6ce7a55f2a1a442fb01ba7c1d2a838">dlm_ctxt::master_lock</a></div><div class="ttdeci">spinlock_t master_lock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:150</div></div>
<div class="ttc" id="structdlm__exit__domain_html"><div class="ttname"><a href="structdlm__exit__domain.html">dlm_exit_domain</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:763</div></div>
<div class="ttc" id="dlmcommon_8h_html_acff94899d610011466104893a3336ad3"><div class="ttname"><a href="dlmcommon_8h.html#acff94899d610011466104893a3336ad3">dlm_destroy_mle_cache</a></div><div class="ttdeci">void dlm_destroy_mle_cache(void)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:415</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4706bfd51d8cdfa0f6ee8df840f7c15c"><div class="ttname"><a href="dlmcommon_8h.html#a4706bfd51d8cdfa0f6ee8df840f7c15c">dlm_hb_node_up_cb</a></div><div class="ttdeci">void dlm_hb_node_up_cb(struct o2nm_node *node, int idx, void *data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:2526</div></div>
<div class="ttc" id="structdlm__query__region_html_a82e02f2085dba854c01d70c183620976"><div class="ttname"><a href="structdlm__query__region.html#a82e02f2085dba854c01d70c183620976">dlm_query_region::qr_node</a></div><div class="ttdeci">u8 qr_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:739</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_aaefc605c8199ce8eb6a3956ff32e4db3"><div class="ttname"><a href="structdlm__migratable__lock.html#aaefc605c8199ce8eb6a3956ff32e4db3">dlm_migratable_lock::list</a></div><div class="ttdeci">u8 list</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:347</div></div>
<div class="ttc" id="structdlm__create__lock_html_ae718719eec0501d52ceb901d07de2340"><div class="ttname"><a href="structdlm__create__lock.html#ae718719eec0501d52ceb901d07de2340">dlm_create_lock::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:601</div></div>
<div class="ttc" id="dlmcommon_8h_html_a59a38d625be089eb7012d95599904482"><div class="ttname"><a href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482">dlm_ast_type</a></div><div class="ttdeci">dlm_ast_type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:83</div></div>
<div class="ttc" id="dlmcommon_8h_html_a39f04b047ae6225e0b0a61a1d099a955"><div class="ttname"><a href="dlmcommon_8h.html#a39f04b047ae6225e0b0a61a1d099a955">dlm_lockres_drop_inflight_ref</a></div><div class="ttdeci">void dlm_lockres_drop_inflight_ref(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:657</div></div>
<div class="ttc" id="dlmcommon_8h_html_ac2a426185562b36aae11782380f7a25e"><div class="ttname"><a href="dlmcommon_8h.html#ac2a426185562b36aae11782380f7a25e">dlm_lock_attach_lockres</a></div><div class="ttdeci">void dlm_lock_attach_lockres(struct dlm_lock *lock, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:373</div></div>
<div class="ttc" id="dlmcommon_8h_html_aa005fb0766c187b6de6932e0a5d8fe2a"><div class="ttname"><a href="dlmcommon_8h.html#aa005fb0766c187b6de6932e0a5d8fe2a">dlm_revert_pending_convert</a></div><div class="ttdeci">void dlm_revert_pending_convert(struct dlm_lock_resource *res, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmconvert.c:250</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4188f1526ed8ae04f6e24947c128c838a9ecbc1bcaf6d71a04fa13b5a6025e955"><div class="ttname"><a href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838a9ecbc1bcaf6d71a04fa13b5a6025e955">DLM_MLE_MIGRATION</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:55</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5f91cd780d72a80e1eff02177b3469a8a588d0d5c628a144bededc09d750ee8a1"><div class="ttname"><a href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a588d0d5c628a144bededc09d750ee8a1">DLM_CONVERTING_LIST</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:383</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caa5c59d7ab721545db57b99ef716e65a79"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa5c59d7ab721545db57b99ef716e65a79">DLM_RECO_NODE_DATA_RECEIVING</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:471</div></div>
<div class="ttc" id="structdlm__query__nodeinfo_html_a2bbe9551d5a29e977097ee562944c4a3"><div class="ttname"><a href="structdlm__query__nodeinfo.html#a2bbe9551d5a29e977097ee562944c4a3">dlm_query_nodeinfo::qn_numnodes</a></div><div class="ttdeci">u8 qn_numnodes</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:756</div></div>
<div class="ttc" id="structdlm__assert__master_html_ad70b21eef4a37879de68cee50c670a95"><div class="ttname"><a href="structdlm__assert__master.html#ad70b21eef4a37879de68cee50c670a95">dlm_assert_master::flags</a></div><div class="ttdeci">__be32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:506</div></div>
<div class="ttc" id="structdlm__assert__master__priv_html_a3fd2372970c90f13c7eca4b0e6c7ea01"><div class="ttname"><a href="structdlm__assert__master__priv.html#a3fd2372970c90f13c7eca4b0e6c7ea01">dlm_assert_master_priv::request_from</a></div><div class="ttdeci">u8 request_from</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:230</div></div>
<div class="ttc" id="structo2hb__callback__func_html"><div class="ttname"><a href="structo2hb__callback__func.html">o2hb_callback_func</a></div><div class="ttdef"><b>Definition:</b> heartbeat.h:57</div></div>
<div class="ttc" id="dlmcommon_8h_html_a47fdfec4ed4ea569556ba288c3055fe6"><div class="ttname"><a href="dlmcommon_8h.html#a47fdfec4ed4ea569556ba288c3055fe6">__dlm_do_purge_lockres</a></div><div class="ttdeci">void __dlm_do_purge_lockres(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:169</div></div>
<div class="ttc" id="dlmcommon_8h_html_a80ad158bcf1b1f205e7c3c5e13c5cc9e"><div class="ttname"><a href="dlmcommon_8h.html#a80ad158bcf1b1f205e7c3c5e13c5cc9e">dlm_move_lockres_to_recovery_list</a></div><div class="ttdeci">void dlm_move_lockres_to_recovery_list(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:2070</div></div>
<div class="ttc" id="structdlm__lock_html_afe652cc6d95555cdf842286b0f125749"><div class="ttname"><a href="structdlm__lock.html#afe652cc6d95555cdf842286b0f125749">dlm_lock::lockres</a></div><div class="ttdeci">struct dlm_lock_resource * lockres</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:363</div></div>
<div class="ttc" id="structdlm__migrate__request_html_a89097c7f50f7562d102cb67c58255231"><div class="ttname"><a href="structdlm__migrate__request.html#a89097c7f50f7562d102cb67c58255231">dlm_migrate_request::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:518</div></div>
<div class="ttc" id="dlmcommon_8h_html_a22be72fc260d0d426bce68a8cd2ab60a"><div class="ttname"><a href="dlmcommon_8h.html#a22be72fc260d0d426bce68a8cd2ab60a">__dlm_queue_ast</a></div><div class="ttdeci">void __dlm_queue_ast(struct dlm_ctxt *dlm, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmast.c:91</div></div>
<div class="ttc" id="protocol_8h_html_ad56754751edde9686250d5005b525abf"><div class="ttname"><a href="protocol_8h.html#ad56754751edde9686250d5005b525abf">u</a></div><div class="ttdeci">unsigned char u[16]</div><div class="ttdef"><b>Definition:</b> protocol.h:31</div></div>
<div class="ttc" id="structdlm__assert__master__priv_html_ac3435f1c877226d4327150825e3cb967"><div class="ttname"><a href="structdlm__assert__master__priv.html#ac3435f1c877226d4327150825e3cb967">dlm_assert_master_priv::flags</a></div><div class="ttdeci">u32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:231</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a0c3702fefb85af285c59771d0c318070"><div class="ttname"><a href="structdlm__lock__resource.html#a0c3702fefb85af285c59771d0c318070">dlm_lock_resource::converting</a></div><div class="ttdeci">struct list_head converting</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:308</div></div>
<div class="ttc" id="structdlm__ctxt_html_a45100b032ee75528980885acbb759984"><div class="ttname"><a href="structdlm__ctxt.html#a45100b032ee75528980885acbb759984">dlm_ctxt::num_joins</a></div><div class="ttdeci">unsigned int num_joins</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:166</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae9c6cdb477b5d634636fe8805b4c75c5"><div class="ttname"><a href="dlmcommon_8h.html#ae9c6cdb477b5d634636fe8805b4c75c5">dlm_lock_put</a></div><div class="ttdeci">void dlm_lock_put(struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:346</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab7f6133937aa9754576d68f2efec216f"><div class="ttname"><a href="dlmcommon_8h.html#ab7f6133937aa9754576d68f2efec216f">dlm_hb_event_notify_attached</a></div><div class="ttdeci">void dlm_hb_event_notify_attached(struct dlm_ctxt *dlm, int idx, int node_up)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:361</div></div>
<div class="ttc" id="dlmcommon_8h_html_a2842524d2f810359181d86c42734a300"><div class="ttname"><a href="dlmcommon_8h.html#a2842524d2f810359181d86c42734a300">dlm_wait_for_node_death</a></div><div class="ttdeci">void dlm_wait_for_node_death(struct dlm_ctxt *dlm, u8 node, int timeout)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:362</div></div>
<div class="ttc" id="ctree_8h_html_aa5cdcfb6e464dcdd3cbfed516d65d07c"><div class="ttname"><a href="ctree_8h.html#aa5cdcfb6e464dcdd3cbfed516d65d07c">errno</a></div><div class="ttdeci">const char unsigned int int errno</div><div class="ttdef"><b>Definition:</b> ctree.h:3535</div></div>
<div class="ttc" id="structdlm__convert__lock_html_ad99d59e36f1d08e7c94a8c6c63743203"><div class="ttname"><a href="structdlm__convert__lock.html#ad99d59e36f1d08e7c94a8c6c63743203">dlm_convert_lock::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:616</div></div>
<div class="ttc" id="structdlm__finalize__reco_html_a5e6e6c4a9c431b913f386b65e90ffee4"><div class="ttname"><a href="structdlm__finalize__reco.html#a5e6e6c4a9c431b913f386b65e90ffee4">dlm_finalize_reco::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:771</div></div>
<div class="ttc" id="dlmcommon_8h_html_a340cf70140fb45fa2dd347baced4457e"><div class="ttname"><a href="dlmcommon_8h.html#a340cf70140fb45fa2dd347baced4457e">dlm_deref_lockres_handler</a></div><div class="ttdeci">int dlm_deref_lockres_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2266</div></div>
<div class="ttc" id="dlmcommon_8h_html_af7b915573ccffed3acbcf9fecaf4d105"><div class="ttname"><a href="dlmcommon_8h.html#af7b915573ccffed3acbcf9fecaf4d105">dlm_master_request_handler</a></div><div class="ttdeci">int dlm_master_request_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:1417</div></div>
<div class="ttc" id="dlmcommon_8h_html_a02dd9e91522a22b1b51bf7021eff3b3f"><div class="ttname"><a href="dlmcommon_8h.html#a02dd9e91522a22b1b51bf7021eff3b3f">dlm_commit_pending_cancel</a></div><div class="ttdeci">void dlm_commit_pending_cancel(struct dlm_lock_resource *res, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmunlock.c:275</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9aca531ead3e0d6a75c7ddf21224418499c7"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca531ead3e0d6a75c7ddf21224418499c7">DLM_FORWARD</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:67</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a8f9b2c6b50dae210bb1386d8f5b86f6f"><div class="ttname"><a href="structdlm__master__list__entry.html#a8f9b2c6b50dae210bb1386d8f5b86f6f">dlm_master_list_entry::mle_hb_up</a></div><div class="ttdeci">struct o2hb_callback_func mle_hb_up</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:75</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a755d6c3b550bac04e6cf5e62531d37bf"><div class="ttname"><a href="structdlm__master__list__entry.html#a755d6c3b550bac04e6cf5e62531d37bf">dlm_master_list_entry::hb_events</a></div><div class="ttdeci">struct list_head hb_events</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:61</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca75f82b716f2dd375aaadcee900e5ac68"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca75f82b716f2dd375aaadcee900e5ac68">DLM_MIGRATE_REQUEST_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:442</div></div>
<div class="ttc" id="structdlm__ctxt_html_ad1ef3a2d2d55a44716637113ad7eef52"><div class="ttname"><a href="structdlm__ctxt.html#ad1ef3a2d2d55a44716637113ad7eef52">dlm_ctxt::work_lock</a></div><div class="ttdeci">spinlock_t work_lock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:180</div></div>
<div class="ttc" id="structdlm__node__info_html_af2086e425d553aa72f02767db607cc02"><div class="ttname"><a href="structdlm__node__info.html#af2086e425d553aa72f02767db607cc02">dlm_node_info::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:749</div></div>
<div class="ttc" id="structdlm__create__lock_html_aec291ae8b278167fc0681cd071d9c6ef"><div class="ttname"><a href="structdlm__create__lock.html#aec291ae8b278167fc0681cd071d9c6ef">dlm_create_lock::flags</a></div><div class="ttdeci">__be32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:599</div></div>
<div class="ttc" id="structdlm__master__request_html"><div class="ttname"><a href="structdlm__master__request.html">dlm_master_request</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:485</div></div>
<div class="ttc" id="dlmcommon_8h_html_a443ec7266a4e91e1c207127c2ff377e9"><div class="ttname"><a href="dlmcommon_8h.html#a443ec7266a4e91e1c207127c2ff377e9">dlm_grab</a></div><div class="ttdeci">struct dlm_ctxt * dlm_grab(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:362</div></div>
<div class="ttc" id="structdlm__master__request_html_ae0763390a4c7b23d08f8fc59a1927710"><div class="ttname"><a href="structdlm__master__request.html#ae0763390a4c7b23d08f8fc59a1927710">dlm_master_request::flags</a></div><div class="ttdeci">__be32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:490</div></div>
<div class="ttc" id="structdlm__proxy__ast_html_aa2188ad251d28276f7f84f7115d498e2"><div class="ttname"><a href="structdlm__proxy__ast.html#aa2188ad251d28276f7f84f7115d498e2">dlm_proxy_ast::cookie</a></div><div class="ttdeci">__be64 cookie</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:641</div></div>
<div class="ttc" id="structdlm__assert__joined_html_a95e6b40eef145a7a556fe0ab9ef0b9f3"><div class="ttname"><a href="structdlm__assert__joined.html#a95e6b40eef145a7a556fe0ab9ef0b9f3">dlm_assert_joined::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:724</div></div>
<div class="ttc" id="structdlm__work__item_html_a32a911e0ecd40fefaf72bd6e89b95708"><div class="ttname"><a href="structdlm__work__item.html#a32a911e0ecd40fefaf72bd6e89b95708">dlm_work_item::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:246</div></div>
<div class="ttc" id="dlmcommon_8h_html_af84b4854d72c195f508de5044bcf1539"><div class="ttname"><a href="dlmcommon_8h.html#af84b4854d72c195f508de5044bcf1539">dlm_new_lockres</a></div><div class="ttdeci">struct dlm_lock_resource * dlm_new_lockres(struct dlm_ctxt *dlm, const char *name, unsigned int namelen)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:595</div></div>
<div class="ttc" id="dlmcommon_8h_html_a98cb0be263f01c7d7d4b2d2b10cfb7dc"><div class="ttname"><a href="dlmcommon_8h.html#a98cb0be263f01c7d7d4b2d2b10cfb7dc">dlm_assert_master_post_handler</a></div><div class="ttdeci">void dlm_assert_master_post_handler(int status, void *data, void *ret_data)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2052</div></div>
<div class="ttc" id="structdlm__query__nodeinfo_html"><div class="ttname"><a href="structdlm__query__nodeinfo.html">dlm_query_nodeinfo</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:754</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a42de515f319e93fb5adb233a4ead3879"><div class="ttname"><a href="structdlm__master__list__entry.html#a42de515f319e93fb5adb233a4ead3879">dlm_master_list_entry::spinlock</a></div><div class="ttdeci">spinlock_t spinlock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:63</div></div>
<div class="ttc" id="dlmcommon_8h_html_a26e7b16fa5aa9ad832822f88f59fa17a"><div class="ttname"><a href="dlmcommon_8h.html#a26e7b16fa5aa9ad832822f88f59fa17a">dlm_do_local_bast</a></div><div class="ttdeci">void dlm_do_local_bast(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_lock *lock, int blocked_type)</div><div class="ttdef"><b>Definition:</b> dlmast.c:265</div></div>
<div class="ttc" id="structdlm__query__nodeinfo_html_a2d88d5cb0d01d413aeb52e3d70ab02ad"><div class="ttname"><a href="structdlm__query__nodeinfo.html#a2d88d5cb0d01d413aeb52e3d70ab02ad">dlm_query_nodeinfo::qn_nodenum</a></div><div class="ttdeci">u8 qn_nodenum</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:755</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a952204d2ef705e9417ff974722e0f83e"><div class="ttname"><a href="structdlm__master__list__entry.html#a952204d2ef705e9417ff974722e0f83e">dlm_master_list_entry::master</a></div><div class="ttdeci">u8 master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:72</div></div>
<div class="ttc" id="structdlm__lock_html"><div class="ttname"><a href="structdlm__lock.html">dlm_lock</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:356</div></div>
<div class="ttc" id="structdlm__reco__node__data_html"><div class="ttname"><a href="structdlm__reco__node__data.html">dlm_reco_node_data</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:459</div></div>
<div class="ttc" id="dlmcommon_8h_html_ace80937921f6805fb2ae2cb3df36ac9b"><div class="ttname"><a href="dlmcommon_8h.html#ace80937921f6805fb2ae2cb3df36ac9b">dlm_mig_lockres_handler</a></div><div class="ttdeci">int dlm_mig_lockres_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:1371</div></div>
<div class="ttc" id="structdlm__node__info_html"><div class="ttname"><a href="structdlm__node__info.html">dlm_node_info</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:747</div></div>
<div class="ttc" id="structdlm__ctxt_html_af481d9ea02b5e33b5ce9d3cc8fc2857d"><div class="ttname"><a href="structdlm__ctxt.html#af481d9ea02b5e33b5ce9d3cc8fc2857d">dlm_ctxt::dlm_thread_task</a></div><div class="ttdeci">struct task_struct * dlm_thread_task</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:170</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9aca586c1566020f37df3c3eb3c1a207796b"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca586c1566020f37df3c3eb3c1a207796b">DLM_SYSERR</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:43</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a311e8c19de1f260a637d0d272e6de7c3"><div class="ttname"><a href="structdlm__master__list__entry.html#a311e8c19de1f260a637d0d272e6de7c3">dlm_master_list_entry::dlm</a></div><div class="ttdeci">struct dlm_ctxt * dlm</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:62</div></div>
<div class="ttc" id="structdlm__master__request_html_aacc418773924402f1b5820eb9ce22b7f"><div class="ttname"><a href="structdlm__master__request.html#aacc418773924402f1b5820eb9ce22b7f">dlm_master_request::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:488</div></div>
<div class="ttc" id="structdlm__assert__master__priv_html"><div class="ttname"><a href="structdlm__assert__master__priv.html">dlm_assert_master_priv</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:227</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a67e24e4dd74d93ba47e5ee465baef0e5"><div class="ttname"><a href="structdlm__lock__resource.html#a67e24e4dd74d93ba47e5ee465baef0e5">dlm_lock_resource::blocked</a></div><div class="ttdeci">struct list_head blocked</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:309</div></div>
<div class="ttc" id="structdlm__lock__resource_html_aa0c14589bfc3decb96897a2195b2c9a7"><div class="ttname"><a href="structdlm__lock__resource.html#aa0c14589bfc3decb96897a2195b2c9a7">dlm_lock_resource::granted</a></div><div class="ttdeci">struct list_head granted</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:307</div></div>
<div class="ttc" id="structdlm__unlock__lock_html_a3e8844a0085286dd941a67a8c10d237d"><div class="ttname"><a href="structdlm__unlock__lock.html#a3e8844a0085286dd941a67a8c10d237d">dlm_unlock_lock::cookie</a></div><div class="ttdeci">__be64 cookie</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:626</div></div>
<div class="ttc" id="structdlm__lock_html_a609d850b9a379d75d3faed9e727df986"><div class="ttname"><a href="structdlm__lock.html#a609d850b9a379d75d3faed9e727df986">dlm_lock::astdata</a></div><div class="ttdeci">void * astdata</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:370</div></div>
<div class="ttc" id="structdlm__ctxt_html_ad6f95b7b68de0d02cfb01c087c9cced7"><div class="ttname"><a href="structdlm__ctxt.html#ad6f95b7b68de0d02cfb01c087c9cced7">dlm_ctxt::key</a></div><div class="ttdeci">u32 key</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:141</div></div>
<div class="ttc" id="structdlm__unlock__lock_html"><div class="ttname"><a href="structdlm__unlock__lock.html">dlm_unlock_lock</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:624</div></div>
<div class="ttc" id="structdlm__ctxt_html_a0202ff9a417288ad110fac5ea148595a"><div class="ttname"><a href="structdlm__ctxt.html#a0202ff9a417288ad110fac5ea148595a">dlm_ctxt::dlm_join_events</a></div><div class="ttdeci">wait_queue_head_t dlm_join_events</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:144</div></div>
<div class="ttc" id="structdlm__proxy__ast_html_a650fdb73f721daafeac4df80647d639a"><div class="ttname"><a href="structdlm__proxy__ast.html#a650fdb73f721daafeac4df80647d639a">dlm_proxy_ast::type</a></div><div class="ttdeci">u8 type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:645</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab1cad48be435485bbbff5979d421eb42"><div class="ttname"><a href="dlmcommon_8h.html#ab1cad48be435485bbbff5979d421eb42">dlm_print_one_lock_resource</a></div><div class="ttdeci">void dlm_print_one_lock_resource(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmdebug.c:50</div></div>
<div class="ttc" id="dlmcommon_8h_html_a366d6dda98ac0554dfdc8c397fa4d77e"><div class="ttname"><a href="dlmcommon_8h.html#a366d6dda98ac0554dfdc8c397fa4d77e">DLM_HASH_PAGES</a></div><div class="ttdeci">#define DLM_HASH_PAGES</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:44</div></div>
<div class="ttc" id="dlmcommon_8h_html_a49780eb60f10c4985597828e8861efea"><div class="ttname"><a href="dlmcommon_8h.html#a49780eb60f10c4985597828e8861efea">__dlm_unlink_mle</a></div><div class="ttdeci">void __dlm_unlink_mle(struct dlm_ctxt *dlm, struct dlm_master_list_entry *mle)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:319</div></div>
<div class="ttc" id="structdlm__create__lock_html"><div class="ttname"><a href="structdlm__create__lock.html">dlm_create_lock</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:595</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_ae3bbaba5ddaea3a73bc7290fc43e80f1"><div class="ttname"><a href="structdlm__master__list__entry.html#ae3bbaba5ddaea3a73bc7290fc43e80f1">dlm_master_list_entry::wq</a></div><div class="ttdeci">wait_queue_head_t wq</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:64</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9acaa8ef4fe888b3f436fd976bc141f0f1c0"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaa8ef4fe888b3f436fd976bc141f0f1c0">DLM_RECOVERING</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:75</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca92895ecdb3044c1bb4af47193ac6c1f3"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca92895ecdb3044c1bb4af47193ac6c1f3">DLM_CANCEL_JOIN_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:446</div></div>
<div class="ttc" id="structdlm__assert__master_html_a3a08f809be34166085b231bfaf440134"><div class="ttname"><a href="structdlm__assert__master.html#a3a08f809be34166085b231bfaf440134">dlm_assert_master::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:504</div></div>
<div class="ttc" id="dlmcommon_8h_html_a31d7ed9873f86d3063b8a6a77edee272"><div class="ttname"><a href="dlmcommon_8h.html#a31d7ed9873f86d3063b8a6a77edee272">dlm_hb_node_down_cb</a></div><div class="ttdeci">void dlm_hb_node_down_cb(struct o2nm_node *node, int idx, void *data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:2505</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caab6d140e369b1f09afab40eeeef28d16b"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caab6d140e369b1f09afab40eeeef28d16b">DLM_RECO_NODE_DATA_REQUESTED</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:470</div></div>
<div class="ttc" id="structdlm__ctxt_html_a9b8314e87543ec11875418ac3fcdca8b"><div class="ttname"><a href="structdlm__ctxt.html#a9b8314e87543ec11875418ac3fcdca8b">dlm_ctxt::master_hash</a></div><div class="ttdeci">struct hlist_head ** master_hash</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:151</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca50d4571e6a6753db17f53469ac7ded28"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca50d4571e6a6753db17f53469ac7ded28">DLM_CONVERT_LOCK_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:438</div></div>
<div class="ttc" id="dlmcommon_8h_html_a3728f584c5b44a3bf95e4b8e4b7ddf80"><div class="ttname"><a href="dlmcommon_8h.html#a3728f584c5b44a3bf95e4b8e4b7ddf80">dlm_init_work_item</a></div><div class="ttdeci">static void dlm_init_work_item(struct dlm_ctxt *dlm, struct dlm_work_item *i, dlm_workfunc_t *f, void *data)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:255</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_a3e408f9f82b596f211b8448545d5b852"><div class="ttname"><a href="structdlm__migratable__lock.html#a3e408f9f82b596f211b8448545d5b852">dlm_migratable_lock::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:346</div></div>
<div class="ttc" id="dlmcommon_8h_html_a810a1b5decb1b256034d7493d83ac391"><div class="ttname"><a href="dlmcommon_8h.html#a810a1b5decb1b256034d7493d83ac391">dlm_is_recovery_lock</a></div><div class="ttdeci">static int dlm_is_recovery_lock(const char *lock_name, int name_len)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:97</div></div>
<div class="ttc" id="structdlm__unlock__lock_html_a43b9b64ab32b4ac69854e9db1410a327"><div class="ttname"><a href="structdlm__unlock__lock.html#a43b9b64ab32b4ac69854e9db1410a327">dlm_unlock_lock::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:630</div></div>
<div class="ttc" id="tcp_8h_html_ae950a2818b848da1399a572845854a0c"><div class="ttname"><a href="tcp_8h.html#ae950a2818b848da1399a572845854a0c">o2net_link_down</a></div><div class="ttdeci">static int o2net_link_down(int err, struct socket *sock)</div><div class="ttdef"><b>Definition:</b> tcp.h:69</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1ab914948a4f4bf335b9ae47dc3ceec8"><div class="ttname"><a href="dlmcommon_8h.html#a1ab914948a4f4bf335b9ae47dc3ceec8">dlm_destroy_lock_cache</a></div><div class="ttdeci">void dlm_destroy_lock_cache(void)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:78</div></div>
<div class="ttc" id="structdlm__proxy__ast_html_a895b03b7b8474bc6d63f0628dd184533"><div class="ttname"><a href="structdlm__proxy__ast.html#a895b03b7b8474bc6d63f0628dd184533">dlm_proxy_ast::flags</a></div><div class="ttdeci">__be32 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:643</div></div>
<div class="ttc" id="dlmcommon_8h_html_a090351848838012686c2bc29bf67005f"><div class="ttname"><a href="dlmcommon_8h.html#a090351848838012686c2bc29bf67005f">dlm_unlock_lock_handler</a></div><div class="ttdeci">int dlm_unlock_lock_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmunlock.c:391</div></div>
<div class="ttc" id="structdlm__request__all__locks__priv_html"><div class="ttname"><a href="structdlm__request__all__locks__priv.html">dlm_request_all_locks_priv</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:214</div></div>
<div class="ttc" id="structdlm__lock__request_html"><div class="ttname"><a href="structdlm__lock__request.html">dlm_lock_request</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:678</div></div>
<div class="ttc" id="dlmcommon_8h_html_a6f95293b51d51cf4d6d3f81bf8538284"><div class="ttname"><a href="dlmcommon_8h.html#a6f95293b51d51cf4d6d3f81bf8538284">DLM_LOCKID_NAME_MAX</a></div><div class="ttdeci">#define DLM_LOCKID_NAME_MAX</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:33</div></div>
<div class="ttc" id="dlmcommon_8h_html_a461756eecfce141abffa1d9ad40ab629"><div class="ttname"><a href="dlmcommon_8h.html#a461756eecfce141abffa1d9ad40ab629">__dlm_lockres_calc_usage</a></div><div class="ttdeci">void __dlm_lockres_calc_usage(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:125</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caa0cdd1afca093d5d16cd528f439d3476d"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa0cdd1afca093d5d16cd528f439d3476d">DLM_RECO_NODE_DATA_DEAD</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:467</div></div>
<div class="ttc" id="dlmcommon_8h_html_a460f04cf1a0a46ff870ab5eace8182e3"><div class="ttname"><a href="dlmcommon_8h.html#a460f04cf1a0a46ff870ab5eace8182e3">__dlm_dirty_lockres</a></div><div class="ttdeci">void __dlm_dirty_lockres(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:528</div></div>
<div class="ttc" id="dlmcommon_8h_html_a76a197f358861cc174f4dfaa0b595665"><div class="ttname"><a href="dlmcommon_8h.html#a76a197f358861cc174f4dfaa0b595665">dlm_get_lock_resource</a></div><div class="ttdeci">struct dlm_lock_resource * dlm_get_lock_resource(struct dlm_ctxt *dlm, const char *lockid, int namelen, int flags)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:718</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9aca153d9a3cc49d9ff2155ccae1dba5d62e"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9aca153d9a3cc49d9ff2155ccae1dba5d62e">DLM_BADPARAM</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:59</div></div>
<div class="ttc" id="structdlm__work__item_html_ace57af5f424c245f2ba733990b194660"><div class="ttname"><a href="structdlm__work__item.html#ace57af5f424c245f2ba733990b194660">dlm_work_item::dlm</a></div><div class="ttdeci">struct dlm_ctxt * dlm</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:245</div></div>
<div class="ttc" id="structdlm__query__join__request_html_aece4acbfbf9a6b2405f5af2ee13d2552"><div class="ttname"><a href="structdlm__query__join__request.html#aece4acbfbf9a6b2405f5af2ee13d2552">dlm_query_join_request::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:713</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab4ec333709fe49ff933c13cfad732d63"><div class="ttname"><a href="dlmcommon_8h.html#ab4ec333709fe49ff933c13cfad732d63">dlm_lookup_lockres</a></div><div class="ttdeci">struct dlm_lock_resource * dlm_lookup_lockres(struct dlm_ctxt *dlm, const char *name, unsigned int len)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:248</div></div>
<div class="ttc" id="structdlm__ctxt_html_a96da367d2737ffb270cedd35b6b2d53e"><div class="ttname"><a href="structdlm__ctxt.html#a96da367d2737ffb270cedd35b6b2d53e">dlm_ctxt::track_lock</a></div><div class="ttdeci">spinlock_t track_lock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:138</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a771cc5552a883da132f3f3563f86d203"><div class="ttname"><a href="structdlm__master__list__entry.html#a771cc5552a883da132f3f3563f86d203">dlm_master_list_entry::mnamehash</a></div><div class="ttdeci">unsigned int mnamehash</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:80</div></div>
<div class="ttc" id="structdlm__node__iter_html"><div class="ttname"><a href="structdlm__node__iter.html">dlm_node_iter</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:426</div></div>
<div class="ttc" id="structdlm__work__item_html"><div class="ttname"><a href="structdlm__work__item.html">dlm_work_item</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:241</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_a447eaf55af935daefa65484c737a09d1"><div class="ttname"><a href="structdlm__migratable__lock.html#a447eaf55af935daefa65484c737a09d1">dlm_migratable_lock::highest_blocked</a></div><div class="ttdeci">s8 highest_blocked</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:352</div></div>
<div class="ttc" id="dlmcommon_8h_html_ad6e5511d2518fc21f9c462232dd2503ba1e3e8b754bdc5cd9fc361dc924ead7f2"><div class="ttname"><a href="dlmcommon_8h.html#ad6e5511d2518fc21f9c462232dd2503ba1e3e8b754bdc5cd9fc361dc924ead7f2">DLM_MASTER_RESP_NO</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:478</div></div>
<div class="ttc" id="structdlm__ctxt_html_a63a11a2202ccaaca95a95619e00dd87f"><div class="ttname"><a href="structdlm__ctxt.html#a63a11a2202ccaaca95a95619e00dd87f">dlm_ctxt::res_cur_count</a></div><div class="ttdeci">atomic_t res_cur_count</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:158</div></div>
<div class="ttc" id="dlmcommon_8h_html_ac1a48746ad80e71f32e22805d1f6bba1"><div class="ttname"><a href="dlmcommon_8h.html#ac1a48746ad80e71f32e22805d1f6bba1">DLM_LOCK_RES_IN_PROGRESS</a></div><div class="ttdeci">#define DLM_LOCK_RES_IN_PROGRESS</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:281</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca3c84849ac0008f07a2e932cfe01818f2"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca3c84849ac0008f07a2e932cfe01818f2">DLM_RECO_DATA_DONE_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:450</div></div>
<div class="ttc" id="dlmcommon_8h_html_a67364f4eb7ef88a419121f0e983de76c"><div class="ttname"><a href="dlmcommon_8h.html#a67364f4eb7ef88a419121f0e983de76c">__dlm_lockres_unused</a></div><div class="ttdeci">int __dlm_lockres_unused(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:93</div></div>
<div class="ttc" id="dlmcommon_8h_html_a50f02f902f36f2c0f78a6de9d0d16263"><div class="ttname"><a href="dlmcommon_8h.html#a50f02f902f36f2c0f78a6de9d0d16263">dlm_lockres_calc_usage</a></div><div class="ttdeci">void dlm_lockres_calc_usage(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:151</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4188f1526ed8ae04f6e24947c128c838ab57739b2f2037429f76e12128dff54b6"><div class="ttname"><a href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ab57739b2f2037429f76e12128dff54b6">DLM_MLE_MASTER</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:54</div></div>
<div class="ttc" id="structdlm__convert__lock_html_ad2e04dedd3bb279b490b9c668cb01cec"><div class="ttname"><a href="structdlm__convert__lock.html#ad2e04dedd3bb279b490b9c668cb01cec">dlm_convert_lock::requested_type</a></div><div class="ttdeci">s8 requested_type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:615</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caaded46e53974ba52a7e84098279591199"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caaded46e53974ba52a7e84098279591199">DLM_RECO_NODE_DATA_DONE</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:472</div></div>
<div class="ttc" id="dlmcommon_8h_html_a98a04a72093756d3990d8dc325168a07"><div class="ttname"><a href="dlmcommon_8h.html#a98a04a72093756d3990d8dc325168a07">dlm_queue_bast</a></div><div class="ttdeci">void dlm_queue_bast(struct dlm_ctxt *dlm, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmast.c:183</div></div>
<div class="ttc" id="structdlm__proxy__ast_html_a61fd82daf9ee8a303080e99c9193e4e1"><div class="ttname"><a href="structdlm__proxy__ast.html#a61fd82daf9ee8a303080e99c9193e4e1">dlm_proxy_ast::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:647</div></div>
<div class="ttc" id="dlmcommon_8h_html_a6d4a15293470effa745bfcc49e6a5b2e"><div class="ttname"><a href="dlmcommon_8h.html#a6d4a15293470effa745bfcc49e6a5b2e">dlm_send_proxy_ast</a></div><div class="ttdeci">static int dlm_send_proxy_ast(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_lock *lock, int flags)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:952</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca2076e5a712c8712489a77ade3f0556ea"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca2076e5a712c8712489a77ade3f0556ea">DLM_FINALIZE_RECO_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:452</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6cad6d4385a6c421663f1798af53144ca63"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cad6d4385a6c421663f1798af53144ca63">DLM_QUERY_NODEINFO</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:454</div></div>
<div class="ttc" id="structdlm__master__request_html_a8fd4385e1df8aeb7843573104a5385db"><div class="ttname"><a href="structdlm__master__request.html#a8fd4385e1df8aeb7843573104a5385db">dlm_master_request::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:489</div></div>
<div class="ttc" id="dlmcommon_8h_html_a11b7daa4c96abe656c8d935270c11789"><div class="ttname"><a href="dlmcommon_8h.html#a11b7daa4c96abe656c8d935270c11789">dlm_list_in_text</a></div><div class="ttdeci">static char * dlm_list_in_text(enum dlm_lockres_list idx)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:396</div></div>
<div class="ttc" id="dlmcommon_8h_html_afd78890587a1059dd5fda24cebffbdf3"><div class="ttname"><a href="dlmcommon_8h.html#afd78890587a1059dd5fda24cebffbdf3">dlm_launch_thread</a></div><div class="ttdeci">int dlm_launch_thread(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:553</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab829dbce70bac03c9cff8eaff2004f2a"><div class="ttname"><a href="dlmcommon_8h.html#ab829dbce70bac03c9cff8eaff2004f2a">dlm_node_iter_next</a></div><div class="ttdeci">static int dlm_node_iter_next(struct dlm_node_iter *iter)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1127</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html_a95e29d66ec0374e643a2c707ad86e131"><div class="ttname"><a href="structdlm__migratable__lockres.html#a95e29d66ec0374e643a2c707ad86e131">dlm_migratable_lockres::num_locks</a></div><div class="ttdeci">u8 num_locks</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:573</div></div>
<div class="ttc" id="structdlm__recovery__ctxt_html_abe88fccd96aa1fc6305cc6e9fe4a2d3b"><div class="ttname"><a href="structdlm__recovery__ctxt.html#abe88fccd96aa1fc6305cc6e9fe4a2d3b">dlm_recovery_ctxt::dead_node</a></div><div class="ttdeci">u8 dead_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:113</div></div>
<div class="ttc" id="structdlm__lockstatus_html_a2a26e4d802ef10cff83db3899dd7f7e6"><div class="ttname"><a href="structdlm__lockstatus.html#a2a26e4d802ef10cff83db3899dd7f7e6">dlm_lockstatus::lvb</a></div><div class="ttdeci">char lvb[DLM_LVB_LEN]</div><div class="ttdef"><b>Definition:</b> dlmapi.h:115</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae6b5b04a326832ea9439f7abb3353774"><div class="ttname"><a href="dlmcommon_8h.html#ae6b5b04a326832ea9439f7abb3353774">dlm_lockres_hash</a></div><div class="ttdeci">static struct hlist_head * dlm_lockres_hash(struct dlm_ctxt *dlm, unsigned i)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:191</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca7ddaed898929151d5b09ed4b34ae9977"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca7ddaed898929151d5b09ed4b34ae9977">DLM_MASTER_REQUEST_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:434</div></div>
<div class="ttc" id="dlmcommon_8h_html_a3f660df26d4fe449fe69b81bd329b2ee"><div class="ttname"><a href="dlmcommon_8h.html#a3f660df26d4fe449fe69b81bd329b2ee">dlm_finalize_reco_handler</a></div><div class="ttdeci">int dlm_finalize_reco_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:2914</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae83947b29a282503d05ee724a2e768cda65c7195e70d9e346b19e410dd12a3c1a"><div class="ttname"><a href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda65c7195e70d9e346b19e410dd12a3c1a">DLM_CTXT_JOINED</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:121</div></div>
<div class="ttc" id="dlmcommon_8h_html_a6a6f06242be836f8ed9f23f4ecae77ee"><div class="ttname"><a href="dlmcommon_8h.html#a6a6f06242be836f8ed9f23f4ecae77ee">dlm_send_one_lockres</a></div><div class="ttdeci">int dlm_send_one_lockres(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_migratable_lockres *mres, u8 send_to, u8 flags)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:1286</div></div>
<div class="ttc" id="dlmcommon_8h_html_a0436345348f52a65b2eff75c1cdc2cae"><div class="ttname"><a href="dlmcommon_8h.html#a0436345348f52a65b2eff75c1cdc2cae">DLM_LOCK_RES_MIGRATING</a></div><div class="ttdeci">#define DLM_LOCK_RES_MIGRATING</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:282</div></div>
<div class="ttc" id="structdlm__cancel__join_html_a2dabfdefe0b972986730cb5b1f61b883"><div class="ttname"><a href="structdlm__cancel__join.html#a2dabfdefe0b972986730cb5b1f61b883">dlm_cancel_join::name_len</a></div><div class="ttdeci">u8 name_len</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:734</div></div>
<div class="ttc" id="structdlm__lock__request_html_a3d49cb369e10014172f375592f95bc2a"><div class="ttname"><a href="structdlm__lock__request.html#a3d49cb369e10014172f375592f95bc2a">dlm_lock_request::pad2</a></div><div class="ttdeci">__be32 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:683</div></div>
<div class="ttc" id="structdlm__lock__request_html_a5ad95691775d848034edc71d263a3ff6"><div class="ttname"><a href="structdlm__lock__request.html#a5ad95691775d848034edc71d263a3ff6">dlm_lock_request::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:680</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_ab1919fae1243394fe8b796dade1304cc"><div class="ttname"><a href="structdlm__master__list__entry.html#ab1919fae1243394fe8b796dade1304cc">dlm_master_list_entry::maybe_map</a></div><div class="ttdeci">unsigned long maybe_map[BITS_TO_LONGS(O2NM_MAX_NODES)]</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:68</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html"><div class="ttname"><a href="structdlm__migratable__lockres.html">dlm_migratable_lockres</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:569</div></div>
<div class="ttc" id="structdlm__finalize__reco_html_ae5b68278d834fa10aad1b954f8b41f92"><div class="ttname"><a href="structdlm__finalize__reco.html#ae5b68278d834fa10aad1b954f8b41f92">dlm_finalize_reco::flags</a></div><div class="ttdeci">u8 flags</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:773</div></div>
<div class="ttc" id="dlmcommon_8h_html_a22955526a2b2156a90b13a5e280e2a4e"><div class="ttname"><a href="dlmcommon_8h.html#a22955526a2b2156a90b13a5e280e2a4e">dlm_lock_on_list</a></div><div class="ttdeci">static int dlm_lock_on_list(struct list_head *head, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1090</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a7f4799a76cc5584b7d5860f91bf5a57e"><div class="ttname"><a href="structdlm__lock__resource.html#a7f4799a76cc5584b7d5860f91bf5a57e">dlm_lock_resource::wq</a></div><div class="ttdeci">wait_queue_head_t wq</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:331</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae83947b29a282503d05ee724a2e768cda48c3cf04966044f28e4c5abe79a92575"><div class="ttname"><a href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cda48c3cf04966044f28e4c5abe79a92575">DLM_CTXT_NEW</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:120</div></div>
<div class="ttc" id="structdlm__ctxt_html_a13bd48eb0db191f9b7eaa5b7bd00f5b0"><div class="ttname"><a href="structdlm__ctxt.html#a13bd48eb0db191f9b7eaa5b7bd00f5b0">dlm_ctxt::dlm_thread_wq</a></div><div class="ttdeci">wait_queue_head_t dlm_thread_wq</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:173</div></div>
<div class="ttc" id="dlmcommon_8h_html_a45e0a3a70ec5e9a60b390dc8307566d7"><div class="ttname"><a href="dlmcommon_8h.html#a45e0a3a70ec5e9a60b390dc8307566d7">dlm_begin_reco_handler</a></div><div class="ttdeci">int dlm_begin_reco_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:2782</div></div>
<div class="ttc" id="structdlm__master__requery_html_adcfaa2dc33b469051c067be52abac4f1"><div class="ttname"><a href="structdlm__master__requery.html#adcfaa2dc33b469051c067be52abac4f1">dlm_master_requery::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:525</div></div>
<div class="ttc" id="dlmcommon_8h_html_a246b3831e0961d0ac3dd1e564b772c25"><div class="ttname"><a href="dlmcommon_8h.html#a246b3831e0961d0ac3dd1e564b772c25">dlm_master_hash</a></div><div class="ttdeci">static struct hlist_head * dlm_master_hash(struct dlm_ctxt *dlm, unsigned i)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:196</div></div>
<div class="ttc" id="structdlm__migrate__request_html_af9ac4fb6c7852ef3b35f1b2d79f6e3fc"><div class="ttname"><a href="structdlm__migrate__request.html#af9ac4fb6c7852ef3b35f1b2d79f6e3fc">dlm_migrate_request::pad2</a></div><div class="ttdeci">__be32 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:519</div></div>
<div class="ttc" id="dlmcommon_8h_html_a33bde48be8aa227e228e92e17fe88146"><div class="ttname"><a href="dlmcommon_8h.html#a33bde48be8aa227e228e92e17fe88146">dlm_init_lock_cache</a></div><div class="ttdeci">int dlm_init_lock_cache(void)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:68</div></div>
<div class="ttc" id="dlmcommon_8h_html_a7b1572ca5e2068b3a1ce155e0e1f5e38"><div class="ttname"><a href="dlmcommon_8h.html#a7b1572ca5e2068b3a1ce155e0e1f5e38">dlm_do_local_ast</a></div><div class="ttdeci">void dlm_do_local_ast(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmast.c:223</div></div>
<div class="ttc" id="structdlm__deref__lockres__done_html_a476b9026b785932d3c5c26d1cd393edc"><div class="ttname"><a href="structdlm__deref__lockres__done.html#a476b9026b785932d3c5c26d1cd393edc">dlm_deref_lockres_done::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:796</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca27618eae5974198664254f8cbe18049d"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca27618eae5974198664254f8cbe18049d">DLM_ASSERT_JOINED_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:445</div></div>
<div class="ttc" id="dlmcommon_8h_html_ac7b07b886d4de4d0cb303471f3c6cff4"><div class="ttname"><a href="dlmcommon_8h.html#ac7b07b886d4de4d0cb303471f3c6cff4">dlm_complete_recovery_thread</a></div><div class="ttdeci">void dlm_complete_recovery_thread(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:218</div></div>
<div class="ttc" id="structdlm__begin__reco_html_ae444e666b58829b282110d6f0958bf43"><div class="ttname"><a href="structdlm__begin__reco.html#ae444e666b58829b282110d6f0958bf43">dlm_begin_reco::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:703</div></div>
<div class="ttc" id="dlmcommon_8h_html_a75eccd63d933ef4c9819494238b962cd"><div class="ttname"><a href="dlmcommon_8h.html#a75eccd63d933ef4c9819494238b962cd">__dlm_wait_on_lockres</a></div><div class="ttdeci">static void __dlm_wait_on_lockres(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1027</div></div>
<div class="ttc" id="structdlm__deref__lockres__done_html"><div class="ttname"><a href="structdlm__deref__lockres__done.html">dlm_deref_lockres_done</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:793</div></div>
<div class="ttc" id="dlmcommon_8h_html_aa6330de06cf867727bd76475403c83f8aa94ac4a0201455302ca4c6a95c6df6f6"><div class="ttname"><a href="dlmcommon_8h.html#aa6330de06cf867727bd76475403c83f8aa94ac4a0201455302ca4c6a95c6df6f6">DLM_DEREF_RESPONSE_DONE</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:789</div></div>
<div class="ttc" id="structdlm__recovery__ctxt_html_a012034ab02cc298849855f9401e10179"><div class="ttname"><a href="structdlm__recovery__ctxt.html#a012034ab02cc298849855f9401e10179">dlm_recovery_ctxt::event</a></div><div class="ttdeci">wait_queue_head_t event</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:116</div></div>
<div class="ttc" id="dlmapi_8h_html_aaf7fd5b9504a2234d0d8225c833d5d39"><div class="ttname"><a href="dlmapi_8h.html#aaf7fd5b9504a2234d0d8225c833d5d39">dlm_astlockfunc_t</a></div><div class="ttdeci">void() dlm_astlockfunc_t(void *)</div><div class="ttdef"><b>Definition:</b> dlmapi.h:176</div></div>
<div class="ttc" id="structdlm__ctxt_html_a0008c3312bd0eff5da0567d1c80a0429"><div class="ttname"><a href="structdlm__ctxt.html#a0008c3312bd0eff5da0567d1c80a0429">dlm_ctxt::dlm_worker</a></div><div class="ttdeci">struct workqueue_struct * dlm_worker</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:172</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_ac24a8b668552d8c589731e8390b60ad2"><div class="ttname"><a href="structdlm__master__list__entry.html#ac24a8b668552d8c589731e8390b60ad2">dlm_master_list_entry::response_map</a></div><div class="ttdeci">unsigned long response_map[BITS_TO_LONGS(O2NM_MAX_NODES)]</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:70</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a31bcae9712402f5cfab6f34e48de9e81"><div class="ttname"><a href="structdlm__lock__resource.html#a31bcae9712402f5cfab6f34e48de9e81">dlm_lock_resource::dlm</a></div><div class="ttdeci">struct dlm_ctxt * dlm</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:326</div></div>
<div class="ttc" id="dlmcommon_8h_html_af29515288060f4ce40ed0b3de0f605a3"><div class="ttname"><a href="dlmcommon_8h.html#af29515288060f4ce40ed0b3de0f605a3">dlm_init_master_caches</a></div><div class="ttdeci">int dlm_init_master_caches(void)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:452</div></div>
<div class="ttc" id="dlmcommon_8h_html_a91affc63da616dadcdc244bf45682340"><div class="ttname"><a href="dlmcommon_8h.html#a91affc63da616dadcdc244bf45682340">dlm_lock_compatible</a></div><div class="ttdeci">static int dlm_lock_compatible(int existing, int request)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1072</div></div>
<div class="ttc" id="dlmcommon_8h_html_a796b6935a1cbaa3a1d914bedd938a295"><div class="ttname"><a href="dlmcommon_8h.html#a796b6935a1cbaa3a1d914bedd938a295">dlm_reco_data_done_handler</a></div><div class="ttdeci">int dlm_reco_data_done_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:993</div></div>
<div class="ttc" id="structdlm__finalize__reco_html_a1a27aa6b9d530729c09af9ce3b1d5b00"><div class="ttname"><a href="structdlm__finalize__reco.html#a1a27aa6b9d530729c09af9ce3b1d5b00">dlm_finalize_reco::pad2</a></div><div class="ttdeci">__be32 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:775</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5ca3b4583fce5571bd3174e3493638d6"><div class="ttname"><a href="dlmcommon_8h.html#a5ca3b4583fce5571bd3174e3493638d6">BITS_TO_BYTES</a></div><div class="ttdeci">#define BITS_TO_BYTES(bits)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:709</div></div>
<div class="ttc" id="structdlm__mig__lockres__priv_html_acaa70e0832178049b105ba0d717de9ee"><div class="ttname"><a href="structdlm__mig__lockres__priv.html#acaa70e0832178049b105ba0d717de9ee">dlm_mig_lockres_priv::lockres</a></div><div class="ttdeci">struct dlm_lock_resource * lockres</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:222</div></div>
<div class="ttc" id="ocfs2__nodemanager_8h_html_a0c756a18709cf1a54af771a71fcd2364"><div class="ttname"><a href="ocfs2__nodemanager_8h.html#a0c756a18709cf1a54af771a71fcd2364">O2NM_MAX_NAME_LEN</a></div><div class="ttdeci">#define O2NM_MAX_NAME_LEN</div><div class="ttdef"><b>Definition:</b> ocfs2_nodemanager.h:37</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_ab7d579ff7767fb30b6065252506e2062"><div class="ttname"><a href="structdlm__master__list__entry.html#ab7d579ff7767fb30b6065252506e2062">dlm_master_list_entry::inuse</a></div><div class="ttdeci">int inuse</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:67</div></div>
<div class="ttc" id="structdlm__cancel__join_html"><div class="ttname"><a href="structdlm__cancel__join.html">dlm_cancel_join</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:730</div></div>
<div class="ttc" id="dlmcommon_8h_html_a59a38d625be089eb7012d95599904482a79ecd788fb389dafdd9f14eb2b06dc13"><div class="ttname"><a href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482a79ecd788fb389dafdd9f14eb2b06dc13">DLM_AST</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:84</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4fd1866e731c1d1cee28128df271388d"><div class="ttname"><a href="dlmcommon_8h.html#a4fd1866e731c1d1cee28128df271388d">__dlm_lockres_grab_inflight_worker</a></div><div class="ttdeci">void __dlm_lockres_grab_inflight_worker(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:673</div></div>
<div class="ttc" id="structdlm__ctxt_html_a02a7c15cdf6f05e7712e300bc0e463a1"><div class="ttname"><a href="structdlm__ctxt.html#a02a7c15cdf6f05e7712e300bc0e463a1">dlm_ctxt::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:139</div></div>
<div class="ttc" id="structdlm__deref__lockres__done_html_aa57259b0b616f5632e5a94f6f6b3624b"><div class="ttname"><a href="structdlm__deref__lockres__done.html#aa57259b0b616f5632e5a94f6f6b3624b">dlm_deref_lockres_done::pad1</a></div><div class="ttdeci">u32 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:794</div></div>
<div class="ttc" id="dlmcommon_8h_html_a65b499273255cec98af64a905936a85c"><div class="ttname"><a href="dlmcommon_8h.html#a65b499273255cec98af64a905936a85c">dlm_init_mle_cache</a></div><div class="ttdeci">int dlm_init_mle_cache(void)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:404</div></div>
<div class="ttc" id="structdlm__master__requery_html_a1d08e1b6498a448c446a7fbecc3dd302"><div class="ttname"><a href="structdlm__master__requery.html#a1d08e1b6498a448c446a7fbecc3dd302">dlm_master_requery::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:528</div></div>
<div class="ttc" id="dlmcommon_8h_html_a3ea1a44f420aebc54d145a56bbf64744"><div class="ttname"><a href="dlmcommon_8h.html#a3ea1a44f420aebc54d145a56bbf64744">__dlm_insert_lockres</a></div><div class="ttdeci">void __dlm_insert_lockres(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:173</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6cab4d6a725ce4b1c237401a17405ac5e15"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cab4d6a725ce4b1c237401a17405ac5e15">DLM_DEREF_LOCKRES_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:441</div></div>
<div class="ttc" id="structdlm__lock__request_html_af3c62ecca350fca275036f126bd8a826"><div class="ttname"><a href="structdlm__lock__request.html#af3c62ecca350fca275036f126bd8a826">dlm_lock_request::dead_node</a></div><div class="ttdeci">u8 dead_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:681</div></div>
<div class="ttc" id="structdlm__query__region_html"><div class="ttname"><a href="structdlm__query__region.html">dlm_query_region</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:738</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9acafb3e7b8d633273d6a9751c96dd3b5a01"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acafb3e7b8d633273d6a9751c96dd3b5a01">DLM_MIGRATING</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:77</div></div>
<div class="ttc" id="structdlm__node__info_html_ab97a68024339f71fadce9cfacf13c5a4"><div class="ttname"><a href="structdlm__node__info.html#ab97a68024339f71fadce9cfacf13c5a4">dlm_node_info::ni_nodenum</a></div><div class="ttdeci">u8 ni_nodenum</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:748</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a3d241b35039c733d934e4428324afa0a"><div class="ttname"><a href="structdlm__master__list__entry.html#a3d241b35039c733d934e4428324afa0a">dlm_master_list_entry::mnamelen</a></div><div class="ttdeci">unsigned int mnamelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:79</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a4200499ae2784c839a3391fbcf51ece3"><div class="ttname"><a href="structdlm__master__list__entry.html#a4200499ae2784c839a3391fbcf51ece3">dlm_master_list_entry::mle_hb_down</a></div><div class="ttdeci">struct o2hb_callback_func mle_hb_down</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:76</div></div>
<div class="ttc" id="cifspdu_8h_html_aaa61af584164f982573a6890174ef943"><div class="ttname"><a href="cifspdu_8h.html#aaa61af584164f982573a6890174ef943">data</a></div><div class="ttdeci">__u8 * data</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae1c2c7d823e9f3ebc761c4acf3face32"><div class="ttname"><a href="dlmcommon_8h.html#ae1c2c7d823e9f3ebc761c4acf3face32">dlm_request_all_locks_handler</a></div><div class="ttdeci">int dlm_request_all_locks_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:837</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9ac"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9ac">dlm_status</a></div><div class="ttdeci">dlm_status</div><div class="ttdef"><b>Definition:</b> dlmapi.h:34</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6caf91c5003140f5ee586bbea7e5529ceb0"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6caf91c5003140f5ee586bbea7e5529ceb0">DLM_QUERY_REGION</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:453</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a92d870e14cc092871d9096646551af3a"><div class="ttname"><a href="structdlm__master__list__entry.html#a92d870e14cc092871d9096646551af3a">dlm_master_list_entry::master_hash_node</a></div><div class="ttdeci">struct hlist_node master_hash_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:60</div></div>
<div class="ttc" id="dlmapi_8h_html_a03bddf53918f042b2d12336e990b84c4"><div class="ttname"><a href="dlmapi_8h.html#a03bddf53918f042b2d12336e990b84c4">LKM_EXMODE</a></div><div class="ttdeci">#define LKM_EXMODE</div><div class="ttdef"><b>Definition:</b> dlmapi.h:125</div></div>
<div class="ttc" id="structdlm__ctxt_html_a6c4d0e9b850c27acb89a7b4ead56fa44"><div class="ttname"><a href="structdlm__ctxt.html#a6c4d0e9b850c27acb89a7b4ead56fa44">dlm_ctxt::res_tot_count</a></div><div class="ttdeci">atomic_t res_tot_count</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:157</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5f91cd780d72a80e1eff02177b3469a8a4941fe33644f6275387d5ec3610a390f"><div class="ttname"><a href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a4941fe33644f6275387d5ec3610a390f">DLM_BLOCKED_LIST</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:384</div></div>
<div class="ttc" id="send_8h_html_ac6c61fc2d54b5e017432ab28daf5a7a9"><div class="ttname"><a href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a></div><div class="ttdeci">__le32 len</div><div class="ttdef"><b>Definition:</b> send.h:4583</div></div>
<div class="ttc" id="dlmcommon_8h_html_ad13bcb40e8ab852309972e8579e7aa7f"><div class="ttname"><a href="dlmcommon_8h.html#ad13bcb40e8ab852309972e8579e7aa7f">dlm_err_to_dlm_status</a></div><div class="ttdeci">static enum dlm_status dlm_err_to_dlm_status(int err)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1103</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9b345967fff1fea5217e492aa6bf81f3"><div class="ttname"><a href="dlmcommon_8h.html#a9b345967fff1fea5217e492aa6bf81f3">DLM_BUCKETS_PER_PAGE</a></div><div class="ttdeci">#define DLM_BUCKETS_PER_PAGE</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:46</div></div>
<div class="ttc" id="structdlm__ctxt_html_ad0e0113b9d82f9361b69feccd2b59c53"><div class="ttname"><a href="structdlm__ctxt.html#ad0e0113b9d82f9361b69feccd2b59c53">dlm_ctxt::node_num</a></div><div class="ttdeci">u8 node_num</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:140</div></div>
<div class="ttc" id="structdlm__assert__master__priv_html_aa4fb35097669b3f61465115940df48c1"><div class="ttname"><a href="structdlm__assert__master__priv.html#aa4fb35097669b3f61465115940df48c1">dlm_assert_master_priv::lockres</a></div><div class="ttdeci">struct dlm_lock_resource * lockres</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:229</div></div>
<div class="ttc" id="dlmcommon_8h_html_a8f151a810a2867342844ad803783dbfe"><div class="ttname"><a href="dlmcommon_8h.html#a8f151a810a2867342844ad803783dbfe">__dlm_lockres_has_locks</a></div><div class="ttdeci">int __dlm_lockres_has_locks(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:80</div></div>
<div class="ttc" id="structdlm__ctxt_html_a0a5bd08b5383110cab9be38dd3543373"><div class="ttname"><a href="structdlm__ctxt.html#a0a5bd08b5383110cab9be38dd3543373">dlm_ctxt::dlm_debug_ctxt</a></div><div class="ttdeci">struct dlm_debug_ctxt * dlm_debug_ctxt</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:160</div></div>
<div class="ttc" id="ocfs2__nodemanager_8h_html_a447caef79942c7a95c6634a928faa686"><div class="ttname"><a href="ocfs2__nodemanager_8h.html#a447caef79942c7a95c6634a928faa686">O2NM_MAX_NODES</a></div><div class="ttdeci">#define O2NM_MAX_NODES</div><div class="ttdef"><b>Definition:</b> ocfs2_nodemanager.h:33</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a9ec475a2d62fba987308067149de1f25"><div class="ttname"><a href="structdlm__master__list__entry.html#a9ec475a2d62fba987308067149de1f25">dlm_master_list_entry::new_master</a></div><div class="ttdeci">u8 new_master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:73</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caaa4af71ce02a63006767b8c75bb6e2abe"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caaa4af71ce02a63006767b8c75bb6e2abe">DLM_RECO_NODE_DATA_REQUESTING</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:469</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_af895fc5c3fe083cbb428108dfe59c9d9"><div class="ttname"><a href="structdlm__migratable__lock.html#af895fc5c3fe083cbb428108dfe59c9d9">dlm_migratable_lock::cookie</a></div><div class="ttdeci">__be64 cookie</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:342</div></div>
<div class="ttc" id="structdlm__lock__request_html_a95b213967cc9760f5dde9e946ef39f60"><div class="ttname"><a href="structdlm__lock__request.html#a95b213967cc9760f5dde9e946ef39f60">dlm_lock_request::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:682</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4188f1526ed8ae04f6e24947c128c838ad41e39753bef3b9a8d8f0f23b60c9a47"><div class="ttname"><a href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838ad41e39753bef3b9a8d8f0f23b60c9a47">DLM_MLE_NUM_TYPES</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:56</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a6a82281cd71b8b88b7222673fd9d9149"><div class="ttname"><a href="structdlm__lock__resource.html#a6a82281cd71b8b88b7222673fd9d9149">dlm_lock_resource::inflight_locks</a></div><div class="ttdeci">unsigned int inflight_locks</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:335</div></div>
<div class="ttc" id="structdlm__ctxt_html_a20b9a7dc63146eeca9b9a171c360a4ba"><div class="ttname"><a href="structdlm__ctxt.html#a20b9a7dc63146eeca9b9a171c360a4ba">dlm_ctxt::lockres_hash</a></div><div class="ttdeci">struct hlist_head ** lockres_hash</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:129</div></div>
<div class="ttc" id="structdlm__migrate__request_html"><div class="ttname"><a href="structdlm__migrate__request.html">dlm_migrate_request</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:513</div></div>
<div class="ttc" id="structdlm__protocol__version_html"><div class="ttname"><a href="structdlm__protocol__version.html">dlm_protocol_version</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:196</div></div>
<div class="ttc" id="dlmcommon_8h_html_a3ce1754221abab76998924c96222be85"><div class="ttname"><a href="dlmcommon_8h.html#a3ce1754221abab76998924c96222be85">dlm_deref_lockres_done_handler</a></div><div class="ttdeci">int dlm_deref_lockres_done_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2360</div></div>
<div class="ttc" id="structdlm__deref__lockres__done_html_a22afcf3d6d3737e579eb5ffd46a50821"><div class="ttname"><a href="structdlm__deref__lockres__done.html#a22afcf3d6d3737e579eb5ffd46a50821">dlm_deref_lockres_done::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:797</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6cacf8dbb09b364cc5c689582977a827ae8"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6cacf8dbb09b364cc5c689582977a827ae8">DLM_BEGIN_RECO_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:451</div></div>
<div class="ttc" id="structdlm__recovery__ctxt_html_a9d0b93d99eccc4fb1ed8e43233e4d7e4"><div class="ttname"><a href="structdlm__recovery__ctxt.html#a9d0b93d99eccc4fb1ed8e43233e4d7e4">dlm_recovery_ctxt::new_master</a></div><div class="ttdeci">u8 new_master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:112</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_aa1fa526c99db461fd2c8f82a1c832982"><div class="ttname"><a href="structdlm__master__list__entry.html#aa1fa526c99db461fd2c8f82a1c832982">dlm_master_list_entry::mle_refs</a></div><div class="ttdeci">struct kref mle_refs</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:66</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_ada259aa975a2ea6cb745791efee1185a"><div class="ttname"><a href="structdlm__migratable__lock.html#ada259aa975a2ea6cb745791efee1185a">dlm_migratable_lock::node</a></div><div class="ttdeci">u8 node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:353</div></div>
<div class="ttc" id="structdlm__ctxt_html"><div class="ttname"><a href="structdlm__ctxt.html">dlm_ctxt</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:126</div></div>
<div class="ttc" id="structdlm__deref__lockres_html_a4cc31ea99e715e68308adbfdd3275ae1"><div class="ttname"><a href="structdlm__deref__lockres.html#a4cc31ea99e715e68308adbfdd3275ae1">dlm_deref_lockres::pad1</a></div><div class="ttdeci">u32 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:780</div></div>
<div class="ttc" id="dlmcommon_8h_html_a7596aaf9419a5517e36b9833886d093c"><div class="ttname"><a href="dlmcommon_8h.html#a7596aaf9419a5517e36b9833886d093c">dlm_lockres_set_refmap_bit</a></div><div class="ttdeci">void dlm_lockres_set_refmap_bit(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, int bit)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:618</div></div>
<div class="ttc" id="structdlm__recovery__ctxt_html"><div class="ttname"><a href="structdlm__recovery__ctxt.html">dlm_recovery_ctxt</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:108</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5565e204e32e5d70d90e9f13ff0c9848"><div class="ttname"><a href="dlmcommon_8h.html#a5565e204e32e5d70d90e9f13ff0c9848">dlm_complete_thread</a></div><div class="ttdeci">void dlm_complete_thread(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmthread.c:568</div></div>
<div class="ttc" id="dlmcommon_8h_html_aa4b87c51307a6fb69d9c27b5ad394e54"><div class="ttname"><a href="dlmcommon_8h.html#aa4b87c51307a6fb69d9c27b5ad394e54">dlm_new_lock</a></div><div class="ttdeci">struct dlm_lock * dlm_new_lock(int type, u8 node, u64 cookie, struct dlm_lockstatus *lksb)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:422</div></div>
<div class="ttc" id="dlmcommon_8h_html_a59a38d625be089eb7012d95599904482afffccfb5dfd4c5bde1d4d85fd1df4f0b"><div class="ttname"><a href="dlmcommon_8h.html#a59a38d625be089eb7012d95599904482afffccfb5dfd4c5bde1d4d85fd1df4f0b">DLM_ASTUNLOCK</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:86</div></div>
<div class="ttc" id="dlmcommon_8h_html_aba45610940c6ca131938b8e19e3cf158"><div class="ttname"><a href="dlmcommon_8h.html#aba45610940c6ca131938b8e19e3cf158">DLM_RECOVERY_LOCK_NAME_LEN</a></div><div class="ttdeci">#define DLM_RECOVERY_LOCK_NAME_LEN</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:95</div></div>
<div class="ttc" id="structdlm__proxy__ast_html"><div class="ttname"><a href="structdlm__proxy__ast.html">dlm_proxy_ast</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:639</div></div>
<div class="ttc" id="dlmcommon_8h_html_a1dd9af24d8192be6300443776eef71caa3deeb427075e999ea900dcfa7b83dd97"><div class="ttname"><a href="dlmcommon_8h.html#a1dd9af24d8192be6300443776eef71caa3deeb427075e999ea900dcfa7b83dd97">DLM_RECO_NODE_DATA_INIT</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:468</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9acaef2c297e136b143c18f66d45d9def127"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaef2c297e136b143c18f66d45d9def127">DLM_NOLOCKMGR</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:52</div></div>
<div class="ttc" id="structdlm__lock_html_a1ca375f8d2bc9fc77ff9408e8e29054b"><div class="ttname"><a href="structdlm__lock.html#a1ca375f8d2bc9fc77ff9408e8e29054b">dlm_lock::bast</a></div><div class="ttdeci">dlm_bastlockfunc_t * bast</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:369</div></div>
<div class="ttc" id="structdlm__deref__lockres__priv_html_a2563ead79a1f43d379dffb0555acc3f0"><div class="ttname"><a href="structdlm__deref__lockres__priv.html#a2563ead79a1f43d379dffb0555acc3f0">dlm_deref_lockres_priv::deref_res</a></div><div class="ttdeci">struct dlm_lock_resource * deref_res</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:237</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae02d978b3a4f4a1c59c96eaf8f79dd71"><div class="ttname"><a href="dlmcommon_8h.html#ae02d978b3a4f4a1c59c96eaf8f79dd71">__dlm_lockres_state_to_status</a></div><div class="ttdeci">static enum dlm_status __dlm_lockres_state_to_status(struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:803</div></div>
<div class="ttc" id="structdlm__lock_html_ac6366160e7831b5a6a474e2187fca88c"><div class="ttname"><a href="structdlm__lock.html#ac6366160e7831b5a6a474e2187fca88c">dlm_lock::lksb</a></div><div class="ttdeci">struct dlm_lockstatus * lksb</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:371</div></div>
<div class="ttc" id="dlmcommon_8h_html_a20ba52e420952c008a4603f9d149aacc"><div class="ttname"><a href="dlmcommon_8h.html#a20ba52e420952c008a4603f9d149aacc">dlm_lockres_clear_refmap_bit</a></div><div class="ttdeci">void dlm_lockres_clear_refmap_bit(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, int bit)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:629</div></div>
<div class="ttc" id="structdlm__migratable__lock_html"><div class="ttname"><a href="structdlm__migratable__lock.html">dlm_migratable_lock</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:340</div></div>
<div class="ttc" id="dlmcommon_8h_html_a2a76bcae008427747b4bf5eb8f727be9"><div class="ttname"><a href="dlmcommon_8h.html#a2a76bcae008427747b4bf5eb8f727be9">__dlm_queue_bast</a></div><div class="ttdeci">void __dlm_queue_bast(struct dlm_ctxt *dlm, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmast.c:157</div></div>
<div class="ttc" id="cluster_2heartbeat_8h_html_aa7783518742842f561a16d4cb6696997"><div class="ttname"><a href="cluster_2heartbeat_8h.html#aa7783518742842f561a16d4cb6696997">O2HB_MAX_REGION_NAME_LEN</a></div><div class="ttdeci">#define O2HB_MAX_REGION_NAME_LEN</div><div class="ttdef"><b>Definition:</b> heartbeat.h:34</div></div>
<div class="ttc" id="structdlm__finalize__reco_html_af868e285d7b2f47cbe0c0f0d1e90c1c9"><div class="ttname"><a href="structdlm__finalize__reco.html#af868e285d7b2f47cbe0c0f0d1e90c1c9">dlm_finalize_reco::dead_node</a></div><div class="ttdeci">u8 dead_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:772</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca9618fce9da21052305169f26153f6e60"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca9618fce9da21052305169f26153f6e60">DLM_BEGIN_EXIT_DOMAIN_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:455</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca27790acb2825d2269dff41c204007126"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca27790acb2825d2269dff41c204007126">DLM_QUERY_JOIN_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:444</div></div>
<div class="ttc" id="structdlm__mig__lockres__priv_html"><div class="ttname"><a href="structdlm__mig__lockres__priv.html">dlm_mig_lockres_priv</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:220</div></div>
<div class="ttc" id="structdlm__master__requery_html"><div class="ttname"><a href="structdlm__master__requery.html">dlm_master_requery</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:523</div></div>
<div class="ttc" id="dlmcommon_8h_html_a0b58292fb3b080ef6d174b6cb3e3faf7"><div class="ttname"><a href="dlmcommon_8h.html#a0b58292fb3b080ef6d174b6cb3e3faf7">dlm_change_lockres_owner</a></div><div class="ttdeci">static void dlm_change_lockres_owner(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, u8 owner)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1148</div></div>
<div class="ttc" id="dlmcommon_8h_html_a66e161bd596eab7030ccca17c587be94"><div class="ttname"><a href="dlmcommon_8h.html#a66e161bd596eab7030ccca17c587be94">dlm_empty_lockres</a></div><div class="ttdeci">int dlm_empty_lockres(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2781</div></div>
<div class="ttc" id="structdlm__assert__joined_html"><div class="ttname"><a href="structdlm__assert__joined.html">dlm_assert_joined</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:722</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a9c8a133ff850c98344b83daaac3eedd7"><div class="ttname"><a href="structdlm__master__list__entry.html#a9c8a133ff850c98344b83daaac3eedd7">dlm_master_list_entry::woken</a></div><div class="ttdeci">atomic_t woken</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:65</div></div>
<div class="ttc" id="dlmcommon_8h_html_af1fdb8583300050f268e10e1d6e9a192ab2b4614e90bb8cc1a63cf80e982244c0"><div class="ttname"><a href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192ab2b4614e90bb8cc1a63cf80e982244c0">JOIN_OK_NO_MAP</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:659</div></div>
<div class="ttc" id="structdlm__migratable__lock_html_a0be6cecfceb636345048d2c165b717d6"><div class="ttname"><a href="structdlm__migratable__lock.html#a0be6cecfceb636345048d2c165b717d6">dlm_migratable_lock::convert_type</a></div><div class="ttdeci">s8 convert_type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:351</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a7c552c35065ae9e7364003680cd73fd6"><div class="ttname"><a href="structdlm__lock__resource.html#a7c552c35065ae9e7364003680cd73fd6">dlm_lock_resource::asts_reserved</a></div><div class="ttdeci">atomic_t asts_reserved</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:329</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca1a659e35778e7c021b2031ef041f6712"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca1a659e35778e7c021b2031ef041f6712">DLM_CREATE_LOCK_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:437</div></div>
<div class="ttc" id="dlmcommon_8h_html_a26e00298ba02974bb812eabda2d18408"><div class="ttname"><a href="dlmcommon_8h.html#a26e00298ba02974bb812eabda2d18408">dlm_wait_for_recovery</a></div><div class="ttdeci">void dlm_wait_for_recovery(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:412</div></div>
<div class="ttc" id="structdlm__lock__resource_html"><div class="ttname"><a href="structdlm__lock__resource.html">dlm_lock_resource</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:293</div></div>
<div class="ttc" id="structdlm__mig__lockres__priv_html_abb234d0c20df47483c3dc47a135f669a"><div class="ttname"><a href="structdlm__mig__lockres__priv.html#abb234d0c20df47483c3dc47a135f669a">dlm_mig_lockres_priv::real_master</a></div><div class="ttdeci">u8 real_master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:223</div></div>
<div class="ttc" id="dlmcommon_8h_html_aecf1149444e17decd7ab1f130eff5300"><div class="ttname"><a href="dlmcommon_8h.html#aecf1149444e17decd7ab1f130eff5300">dlm_drop_lockres_ref</a></div><div class="ttdeci">int dlm_drop_lockres_ref(struct dlm_ctxt *dlm, struct dlm_lock_resource *res)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2232</div></div>
<div class="ttc" id="structdlm__master__list__entry_html_a97b3eed9319b4aa1d6e547e84930870c"><div class="ttname"><a href="structdlm__master__list__entry.html#a97b3eed9319b4aa1d6e547e84930870c">dlm_master_list_entry::type</a></div><div class="ttdeci">enum dlm_mle_type type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:74</div></div>
<div class="ttc" id="structdlm__master__requery_html_a782788b64114b694110dc99541c1d9d6"><div class="ttname"><a href="structdlm__master__requery.html#a782788b64114b694110dc99541c1d9d6">dlm_master_requery::pad2</a></div><div class="ttdeci">u8 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:526</div></div>
<div class="ttc" id="dlmcommon_8h_html_a8a681ad4848e51e25ad947d3c87f9432"><div class="ttname"><a href="dlmcommon_8h.html#a8a681ad4848e51e25ad947d3c87f9432">dlm_do_remote_ast</a></div><div class="ttdeci">int dlm_do_remote_ast(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmast.c:241</div></div>
<div class="ttc" id="dlmcommon_8h_html_a91f92e4d51fb2193a8612545fb410491"><div class="ttname"><a href="dlmcommon_8h.html#a91f92e4d51fb2193a8612545fb410491">dlm_convert_lock_handler</a></div><div class="ttdeci">int dlm_convert_lock_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmconvert.c:446</div></div>
<div class="ttc" id="mount__clnt_8c_html_a088e3e37581e2ecb5079c1d75067923f"><div class="ttname"><a href="mount__clnt_8c.html#a088e3e37581e2ecb5079c1d75067923f">status</a></div><div class="ttdeci">u32 status</div><div class="ttdef"><b>Definition:</b> mount_clnt.c:83</div></div>
<div class="ttc" id="dlmcommon_8h_html_af1fdb8583300050f268e10e1d6e9a192a1ab0179cfaa621d8e5e69b4625d6eaf5"><div class="ttname"><a href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192a1ab0179cfaa621d8e5e69b4625d6eaf5">JOIN_DISALLOW</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:657</div></div>
<div class="ttc" id="structdlm__convert__lock_html"><div class="ttname"><a href="structdlm__convert__lock.html">dlm_convert_lock</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:608</div></div>
<div class="ttc" id="structdlm__deref__lockres_html"><div class="ttname"><a href="structdlm__deref__lockres.html">dlm_deref_lockres</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:778</div></div>
<div class="ttc" id="dlmcommon_8h_html_a7036a81449ebfe5144f613ee00c64f69"><div class="ttname"><a href="dlmcommon_8h.html#a7036a81449ebfe5144f613ee00c64f69">__dlm_insert_mle</a></div><div class="ttdeci">void __dlm_insert_mle(struct dlm_ctxt *dlm, struct dlm_master_list_entry *mle)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:328</div></div>
<div class="ttc" id="structdlm__finalize__reco_html_a1a91af9f20f648f2e9122701f46f4e64"><div class="ttname"><a href="structdlm__finalize__reco.html#a1a91af9f20f648f2e9122701f46f4e64">dlm_finalize_reco::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:774</div></div>
<div class="ttc" id="dlmcommon_8h_html_ab090478ae1ea3aab2e70f8b494357df7"><div class="ttname"><a href="dlmcommon_8h.html#ab090478ae1ea3aab2e70f8b494357df7">dlm_get_lock_cookie_node</a></div><div class="ttdeci">static u8 dlm_get_lock_cookie_node(u64 cookie)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:820</div></div>
<div class="ttc" id="structdlm__query__join__request_html_a0a70f4ee33e0cdadeca74e9b580e3a05"><div class="ttname"><a href="structdlm__query__join__request.html#a0a70f4ee33e0cdadeca74e9b580e3a05">dlm_query_join_request::name_len</a></div><div class="ttdeci">u8 name_len</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:715</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca8aef0e96c3e89ad67df162521beb48e7"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca8aef0e96c3e89ad67df162521beb48e7">DLM_ASSERT_MASTER_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:436</div></div>
<div class="ttc" id="dlmapi_8h_html_aa647f9516500549833a0f96cd857ba33"><div class="ttname"><a href="dlmapi_8h.html#aa647f9516500549833a0f96cd857ba33">LKM_PRMODE</a></div><div class="ttdeci">#define LKM_PRMODE</div><div class="ttdef"><b>Definition:</b> dlmapi.h:123</div></div>
<div class="ttc" id="dlmcommon_8h_html_a0395821803041b64b8d996673a72c5bd"><div class="ttname"><a href="dlmcommon_8h.html#a0395821803041b64b8d996673a72c5bd">dlm_lock_mode_name</a></div><div class="ttdeci">static const char * dlm_lock_mode_name(int mode)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1058</div></div>
<div class="ttc" id="dlmcommon_8h_html_adb91dece9162f80d56c6213f71f4f84a"><div class="ttname"><a href="dlmcommon_8h.html#adb91dece9162f80d56c6213f71f4f84a">dlm_list_idx_to_ptr</a></div><div class="ttdeci">static struct list_head * dlm_list_idx_to_ptr(struct dlm_lock_resource *res, enum dlm_lockres_list idx)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:409</div></div>
<div class="ttc" id="structdlm__query__join__packet_html_aab7e982a398808f7d531752c298b40fd"><div class="ttname"><a href="structdlm__query__join__packet.html#aab7e982a398808f7d531752c298b40fd">dlm_query_join_packet::dlm_minor</a></div><div class="ttdeci">u8 dlm_minor</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:666</div></div>
<div class="ttc" id="dlmcommon_8h_html_aba99757320810aa0b0be4cfaa5b1f324"><div class="ttname"><a href="dlmcommon_8h.html#aba99757320810aa0b0be4cfaa5b1f324">dlm_assert_master_handler</a></div><div class="ttdeci">int dlm_assert_master_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:1776</div></div>
<div class="ttc" id="structflags_html"><div class="ttname"><a href="structflags.html">flags</a></div><div class="ttdef"><b>Definition:</b> export.c:1089</div></div>
<div class="ttc" id="structdlm__lock__resource_html_a48c2cbd37d00946401ce10b29671b5a0"><div class="ttname"><a href="structdlm__lock__resource.html#a48c2cbd37d00946401ce10b29671b5a0">dlm_lock_resource::state</a></div><div class="ttdeci">u16 state</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:333</div></div>
<div class="ttc" id="structdlm__reco__data__done_html_a8dc010ecc27961cc64edf99d4a42d976"><div class="ttname"><a href="structdlm__reco__data__done.html#a8dc010ecc27961cc64edf99d4a42d976">dlm_reco_data_done::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:688</div></div>
<div class="ttc" id="dlmcommon_8h_html_a018fd62fa8f63ca78bc06a1e6ac24286"><div class="ttname"><a href="dlmcommon_8h.html#a018fd62fa8f63ca78bc06a1e6ac24286">dlm_put</a></div><div class="ttdeci">void dlm_put(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:347</div></div>
<div class="ttc" id="structdlm__ctxt_html_aa0fd3507d8612b5d87b1d562921b21af"><div class="ttname"><a href="structdlm__ctxt.html#aa0fd3507d8612b5d87b1d562921b21af">dlm_ctxt::dlm_reco_thread_wq</a></div><div class="ttdeci">wait_queue_head_t dlm_reco_thread_wq</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:174</div></div>
<div class="ttc" id="structdlm__ctxt_html_a1cfec5d108e79547db730aa5b6e4afe3"><div class="ttname"><a href="structdlm__ctxt.html#a1cfec5d108e79547db730aa5b6e4afe3">dlm_ctxt::joining_node</a></div><div class="ttdeci">u8 joining_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:142</div></div>
<div class="ttc" id="structdlm__convert__lock_html_accc68db75af9cfe15d8b33ed02f89d52"><div class="ttname"><a href="structdlm__convert__lock.html#accc68db75af9cfe15d8b33ed02f89d52">dlm_convert_lock::cookie</a></div><div class="ttdeci">__be64 cookie</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:610</div></div>
<div class="ttc" id="structdlm__create__lock_html_a18921f729d3977d11bddb579fb0ae9b7"><div class="ttname"><a href="structdlm__create__lock.html#a18921f729d3977d11bddb579fb0ae9b7">dlm_create_lock::requested_type</a></div><div class="ttdeci">s8 requested_type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:602</div></div>
<div class="ttc" id="structo2nm__node_html"><div class="ttname"><a href="structo2nm__node.html">o2nm_node</a></div><div class="ttdef"><b>Definition:</b> nodemanager.h:42</div></div>
<div class="ttc" id="dlmcommon_8h_html_a5f91cd780d72a80e1eff02177b3469a8a23baf06f65cc52e90014db3d50844bde"><div class="ttname"><a href="dlmcommon_8h.html#a5f91cd780d72a80e1eff02177b3469a8a23baf06f65cc52e90014db3d50844bde">DLM_GRANTED_LIST</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:382</div></div>
<div class="ttc" id="dlmcommon_8h_html_aeab3ccff0bfeec9f95ada579e4ae23d6"><div class="ttname"><a href="dlmcommon_8h.html#aeab3ccff0bfeec9f95ada579e4ae23d6">dlm_migrate_request_handler</a></div><div class="ttdeci">int dlm_migrate_request_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:3119</div></div>
<div class="ttc" id="dlmcommon_8h_html_ac9927c9288c91cf4378312bb616411cf"><div class="ttname"><a href="dlmcommon_8h.html#ac9927c9288c91cf4378312bb616411cf">DLM_RECOVERY_LOCK_NAME</a></div><div class="ttdeci">#define DLM_RECOVERY_LOCK_NAME</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:94</div></div>
<div class="ttc" id="structdlm__request__all__locks__priv_html_a0c079cc90c81226cbe583857762c656f"><div class="ttname"><a href="structdlm__request__all__locks__priv.html#a0c079cc90c81226cbe583857762c656f">dlm_request_all_locks_priv::dead_node</a></div><div class="ttdeci">u8 dead_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:217</div></div>
<div class="ttc" id="dlmcommon_8h_html_a852727e128a065d116949dd8601969d0"><div class="ttname"><a href="dlmcommon_8h.html#a852727e128a065d116949dd8601969d0">dlm_send_proxy_bast</a></div><div class="ttdeci">static int dlm_send_proxy_bast(struct dlm_ctxt *dlm, struct dlm_lock_resource *res, struct dlm_lock *lock, int blocked_type)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:943</div></div>
<div class="ttc" id="dlmcommon_8h_html_a9d6070975e011e495c74312972cfcd6ca575a093919f6de0b5b6315ba7acb1022"><div class="ttname"><a href="dlmcommon_8h.html#a9d6070975e011e495c74312972cfcd6ca575a093919f6de0b5b6315ba7acb1022">DLM_UNLOCK_LOCK_MSG</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:440</div></div>
<div class="ttc" id="dlmcommon_8h_html_a4188f1526ed8ae04f6e24947c128c838a781eeebb7c4ae941f4439156cdb80905"><div class="ttname"><a href="dlmcommon_8h.html#a4188f1526ed8ae04f6e24947c128c838a781eeebb7c4ae941f4439156cdb80905">DLM_MLE_BLOCK</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:53</div></div>
<div class="ttc" id="dlmcommon_8h_html_a70ab66f50a1a5bc76e3e91945a83c1d6"><div class="ttname"><a href="dlmcommon_8h.html#a70ab66f50a1a5bc76e3e91945a83c1d6">dlm_launch_recovery_thread</a></div><div class="ttdeci">int dlm_launch_recovery_thread(struct dlm_ctxt *dlm)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:203</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html_ae1a74675ca7412078b248a3571a3b2e1"><div class="ttname"><a href="structdlm__migratable__lockres.html#ae1a74675ca7412078b248a3571a3b2e1">dlm_migratable_lockres::total_locks</a></div><div class="ttdeci">__be32 total_locks</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:575</div></div>
<div class="ttc" id="structdlm__proxy__ast_html_a67d7eb89d105c44e1dccb924c6c4755c"><div class="ttname"><a href="structdlm__proxy__ast.html#a67d7eb89d105c44e1dccb924c6c4755c">dlm_proxy_ast::blocked_type</a></div><div class="ttdeci">u8 blocked_type</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:646</div></div>
<div class="ttc" id="dlmcommon_8h_html_a6dbeaf5c66a94161de5a54d82de8c3c4"><div class="ttname"><a href="dlmcommon_8h.html#a6dbeaf5c66a94161de5a54d82de8c3c4">dlm_master_requery_handler</a></div><div class="ttdeci">int dlm_master_requery_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmrecovery.c:1723</div></div>
<div class="ttc" id="cifspdu_8h_html_a7e28d0d49fe972b6aea4a399c7bc0cb0"><div class="ttname"><a href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a></div><div class="ttdeci">struct gea list[1]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="structdlm__request__all__locks__priv_html_a03c10ae8f9fd69916704174c5e310cae"><div class="ttname"><a href="structdlm__request__all__locks__priv.html#a03c10ae8f9fd69916704174c5e310cae">dlm_request_all_locks_priv::reco_master</a></div><div class="ttdeci">u8 reco_master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:216</div></div>
<div class="ttc" id="structdlm__begin__reco_html"><div class="ttname"><a href="structdlm__begin__reco.html">dlm_begin_reco</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:699</div></div>
<div class="ttc" id="structo2net__msg_html"><div class="ttname"><a href="structo2net__msg.html">o2net_msg</a></div><div class="ttdef"><b>Definition:</b> tcp.h:40</div></div>
<div class="ttc" id="structdlm__mig__lockres__priv_html_a34d669c5ee7fac747c0972967f89e999"><div class="ttname"><a href="structdlm__mig__lockres__priv.html#a34d669c5ee7fac747c0972967f89e999">dlm_mig_lockres_priv::extra_ref</a></div><div class="ttdeci">u8 extra_ref</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:224</div></div>
<div class="ttc" id="structdlm__assert__joined_html_a74d224a5ffda73061ba28bc30b299d5e"><div class="ttname"><a href="structdlm__assert__joined.html#a74d224a5ffda73061ba28bc30b299d5e">dlm_assert_joined::name_len</a></div><div class="ttdeci">u8 name_len</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:726</div></div>
<div class="ttc" id="structdlm__ctxt_html_a5afa83702450db3ea887cc1a6637c494"><div class="ttname"><a href="structdlm__ctxt.html#a5afa83702450db3ea887cc1a6637c494">dlm_ctxt::spinlock</a></div><div class="ttdeci">spinlock_t spinlock</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:136</div></div>
<div class="ttc" id="structdlm__deref__lockres__priv_html"><div class="ttname"><a href="structdlm__deref__lockres__priv.html">dlm_deref_lockres_priv</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:235</div></div>
<div class="ttc" id="structdlm__create__lock_html_a80e2cdff2636503cf8db7095634de004"><div class="ttname"><a href="structdlm__create__lock.html#a80e2cdff2636503cf8db7095634de004">dlm_create_lock::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:603</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae83947b29a282503d05ee724a2e768cd"><div class="ttname"><a href="dlmcommon_8h.html#ae83947b29a282503d05ee724a2e768cd">dlm_ctxt_state</a></div><div class="ttdeci">dlm_ctxt_state</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:119</div></div>
<div class="ttc" id="structdlm__begin__reco_html_a1474b8eb3e64bc4e1ebb2ed3bc82c8c4"><div class="ttname"><a href="structdlm__begin__reco.html#a1474b8eb3e64bc4e1ebb2ed3bc82c8c4">dlm_begin_reco::pad2</a></div><div class="ttdeci">__be32 pad2</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:704</div></div>
<div class="ttc" id="dlmcommon_8h_html_aff4377248f6d39ae909620bb757b2130"><div class="ttname"><a href="dlmcommon_8h.html#aff4377248f6d39ae909620bb757b2130">dlm_create_lock_handler</a></div><div class="ttdeci">int dlm_create_lock_handler(struct o2net_msg *msg, u32 len, void *data, void **ret_data)</div><div class="ttdef"><b>Definition:</b> dlmlock.c:457</div></div>
<div class="ttc" id="structdlm__work__item_html_ae2d919533cfacbe0a6b642221aab8d23"><div class="ttname"><a href="structdlm__work__item.html#ae2d919533cfacbe0a6b642221aab8d23">dlm_work_item::func</a></div><div class="ttdeci">dlm_workfunc_t * func</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:244</div></div>
<div class="ttc" id="structdlm__begin__reco_html_a45d1f16cd48ac737c17aee4ffe0d9410"><div class="ttname"><a href="structdlm__begin__reco.html#a45d1f16cd48ac737c17aee4ffe0d9410">dlm_begin_reco::dead_node</a></div><div class="ttdeci">u8 dead_node</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:702</div></div>
<div class="ttc" id="structdlm__assert__master_html_a4441a20e8cbf1ea638dd9f86d12592ca"><div class="ttname"><a href="structdlm__assert__master.html#a4441a20e8cbf1ea638dd9f86d12592ca">dlm_assert_master::node_idx</a></div><div class="ttdeci">u8 node_idx</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:503</div></div>
<div class="ttc" id="structdlm__create__lock_html_adcf3180aa4a1cbe6e7ff8c1189c62f9d"><div class="ttname"><a href="structdlm__create__lock.html#adcf3180aa4a1cbe6e7ff8c1189c62f9d">dlm_create_lock::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:600</div></div>
<div class="ttc" id="structdlm__recovery__ctxt_html_a736261c22fe0e8824fde8dce2c55f35a"><div class="ttname"><a href="structdlm__recovery__ctxt.html#a736261c22fe0e8824fde8dce2c55f35a">dlm_recovery_ctxt::state</a></div><div class="ttdeci">u16 state</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:114</div></div>
<div class="ttc" id="structdlm__reco__node__data_html_ae8dfa9fb412cbb00c2a7df4ab3cb382e"><div class="ttname"><a href="structdlm__reco__node__data.html#ae8dfa9fb412cbb00c2a7df4ab3cb382e">dlm_reco_node_data::node_num</a></div><div class="ttdeci">u8 node_num</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:462</div></div>
<div class="ttc" id="cifspdu_8h_html_a4a06ef9aaffd2c58a6d395fd433cde26"><div class="ttname"><a href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="structdlm__query__join__packet_html_aaf2f57b3701bc80b349facdc8721931f"><div class="ttname"><a href="structdlm__query__join__packet.html#aaf2f57b3701bc80b349facdc8721931f">dlm_query_join_packet::fs_minor</a></div><div class="ttdeci">u8 fs_minor</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:668</div></div>
<div class="ttc" id="structdlm__query__nodeinfo_html_ac879079db0ee7e77b0e132db7393e510"><div class="ttname"><a href="structdlm__query__nodeinfo.html#ac879079db0ee7e77b0e132db7393e510">dlm_query_nodeinfo::pad1</a></div><div class="ttdeci">u8 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:758</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae3eea3c41cbcdb164c5c89f56b050c78"><div class="ttname"><a href="dlmcommon_8h.html#ae3eea3c41cbcdb164c5c89f56b050c78">__dlm_set_joining_node</a></div><div class="ttdeci">static void __dlm_set_joining_node(struct dlm_ctxt *dlm, u8 node)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:268</div></div>
<div class="ttc" id="structdlm__deref__lockres_html_a8e863648273442a7f992e10a6ed50aea"><div class="ttname"><a href="structdlm__deref__lockres.html#a8e863648273442a7f992e10a6ed50aea">dlm_deref_lockres::namelen</a></div><div class="ttdeci">u8 namelen</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:783</div></div>
<div class="ttc" id="structdlm__reco__data__done_html_a961bdfec74a129e125eb477ccfc62a84"><div class="ttname"><a href="structdlm__reco__data__done.html#a961bdfec74a129e125eb477ccfc62a84">dlm_reco_data_done::pad1</a></div><div class="ttdeci">__be16 pad1</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:690</div></div>
<div class="ttc" id="structdlm__finalize__reco_html"><div class="ttname"><a href="structdlm__finalize__reco.html">dlm_finalize_reco</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:769</div></div>
<div class="ttc" id="structdlm__query__region_html_a0442bc8ce0ec3bcc658a9c9b8afdb5e7"><div class="ttname"><a href="structdlm__query__region.html#a0442bc8ce0ec3bcc658a9c9b8afdb5e7">dlm_query_region::qr_numregions</a></div><div class="ttdeci">u8 qr_numregions</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:740</div></div>
<div class="ttc" id="dlmcommon_8h_html_ae0eba6f5489b558e3dffdca83356b52a"><div class="ttname"><a href="dlmcommon_8h.html#ae0eba6f5489b558e3dffdca83356b52a">dlm_lock_basts_flushed</a></div><div class="ttdeci">int dlm_lock_basts_flushed(struct dlm_ctxt *dlm, struct dlm_lock *lock)</div><div class="ttdef"><b>Definition:</b> dlmmaster.c:2810</div></div>
<div class="ttc" id="dlmcommon_8h_html_af1fdb8583300050f268e10e1d6e9a192a44821dd9c63f0260d068c47effbb396c"><div class="ttname"><a href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192a44821dd9c63f0260d068c47effbb396c">JOIN_PROTOCOL_MISMATCH</a></div><div class="ttdef"><b>Definition:</b> dlmcommon.h:660</div></div>
<div class="ttc" id="structdlm__migratable__lockres_html_a85de5ca65efc5369706d9774f0d0c00a"><div class="ttname"><a href="structdlm__migratable__lockres.html#a85de5ca65efc5369706d9774f0d0c00a">dlm_migratable_lockres::master</a></div><div class="ttdeci">u8 master</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:571</div></div>
<div class="ttc" id="dlmapi_8h_html_a9088cf3e567b309fce580a243043c9acaa3e73fb9139980f9d0890c473b116bdd"><div class="ttname"><a href="dlmapi_8h.html#a9088cf3e567b309fce580a243043c9acaa3e73fb9139980f9d0890c473b116bdd">DLM_NORMAL</a></div><div class="ttdef"><b>Definition:</b> dlmapi.h:35</div></div>
<div class="ttc" id="dlmcommon_8h_html_af1fdb8583300050f268e10e1d6e9a192"><div class="ttname"><a href="dlmcommon_8h.html#af1fdb8583300050f268e10e1d6e9a192">dlm_query_join_response_code</a></div><div class="ttdeci">dlm_query_join_response_code</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:656</div></div>
<div class="ttc" id="dlmcommon_8h_html_ad334d8510ef9071075b1f1c3a516be90"><div class="ttname"><a href="dlmcommon_8h.html#ad334d8510ef9071075b1f1c3a516be90">__dlm_lookup_lockres_full</a></div><div class="ttdeci">struct dlm_lock_resource * __dlm_lookup_lockres_full(struct dlm_ctxt *dlm, const char *name, unsigned int len, unsigned int hash)</div><div class="ttdef"><b>Definition:</b> dlmdomain.c:190</div></div>
<div class="ttc" id="dlmcommon_8h_html_af5cdb7a61affe8a799d35d5576c579c9"><div class="ttname"><a href="dlmcommon_8h.html#af5cdb7a61affe8a799d35d5576c579c9">dlm_node_iter_init</a></div><div class="ttdeci">static void dlm_node_iter_init(unsigned long *map, struct dlm_node_iter *iter)</div><div class="ttdef"><b>Definition:</b> dlmcommon.h:1120</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_be0bb2a89c3680926f7eb84069ee534c.html">ocfs2</a></li><li class="navelem"><a class="el" href="dir_eaaa279294f07d0e352ac8bb34d3fddd.html">dlm</a></li><li class="navelem"><a class="el" href="dlmcommon_8h.html">dlmcommon.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
