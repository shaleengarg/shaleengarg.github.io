<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: f2fs/f2fs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('f2fs_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">f2fs.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="f2fs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * fs/f2fs/f2fs.h</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Copyright (c) 2012 Samsung Electronics Co., Ltd.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *             http://www.samsung.com/</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License version 2 as</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * published by the Free Software Foundation.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifndef _LINUX_F2FS_H</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#define _LINUX_F2FS_H</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;linux/types.h&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;linux/page-flags.h&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;linux/buffer_head.h&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;linux/slab.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;linux/crc32.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;linux/magic.h&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;linux/kobject.h&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;linux/sched.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;linux/cred.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;linux/vmalloc.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;linux/bio.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;linux/blkdev.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;linux/quotaops.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;crypto/hash.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a287d1fe5c747ce32dc0173931bbad6b1">   29</a></span>&#160;<span class="preprocessor">#define __FS_HAS_ENCRYPTION IS_ENABLED(CONFIG_F2FS_FS_ENCRYPTION)</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;linux/fscrypt.h&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_CHECK_FS</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#define f2fs_bug_on(sbi, condition) BUG_ON(condition)</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">   35</a></span>&#160;<span class="preprocessor">#define f2fs_bug_on(sbi, condition)                 \</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">        if (unlikely(condition)) {              \</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">            WARN_ON(1);                 \</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">            set_sbi_flag(sbi, SBI_NEED_FSCK);       \</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">        }                           \</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    FAULT_KMALLOC,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    FAULT_KVMALLOC,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    FAULT_PAGE_ALLOC,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    FAULT_PAGE_GET,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    FAULT_ALLOC_BIO,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    FAULT_ALLOC_NID,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    FAULT_ORPHAN,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    FAULT_BLOCK,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    FAULT_DIR_DEPTH,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    FAULT_EVICT_INODE,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    FAULT_TRUNCATE,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    FAULT_IO,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    FAULT_CHECKPOINT,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    FAULT_MAX,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;};</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">struct </span>f2fs_fault_info {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    atomic_t <a class="code" href="fault__inject_8c.html#a366ac430233784051a0b3354292e8211">inject_ops</a>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inject_rate;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inject_type;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">char</span> *fault_name[FAULT_MAX];</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#define IS_FAULT_SET(fi, type) ((fi)-&gt;inject_type &amp; (1 &lt;&lt; (type)))</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> * For mount options</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a04b1312fc6f61d678eb77dcccfc5e95b">   75</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_BG_GC        0x00000001</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a10a6ae560a40a10ce24731a98de0155b">   76</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_DISABLE_ROLL_FORWARD 0x00000002</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3ffb263ce0acb4dd730f5d9fe92064b8">   77</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_DISCARD      0x00000004</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abb8b97f1a3754f5cb2fd71c0380822b4">   78</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_NOHEAP       0x00000008</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa154ed95df7a1e41e814d4568c5e4b25">   79</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_XATTR_USER       0x00000010</span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4b20b0b371a4c30c0ee76f9b68dfdf56">   80</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_POSIX_ACL        0x00000020</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7430570041ea7ff759d0b0b388224f4a">   81</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_DISABLE_EXT_IDENTIFY 0x00000040</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2f4939206dc9592f1c145718bf7b4c45">   82</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_INLINE_XATTR     0x00000080</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a701d1e38d1045ccbd9dfe7d5a80602a6">   83</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_INLINE_DATA      0x00000100</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a39efb2884eccec712de666649e0d1df2">   84</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_INLINE_DENTRY    0x00000200</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae8a389e53dc6dc5d757cd5ff73e57b37">   85</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_FLUSH_MERGE      0x00000400</span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abf53b8130fb2fcefedcce90b8bda2416">   86</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_NOBARRIER        0x00000800</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aab4f7a0ccbecae5ed740a7b8becfabea">   87</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_FASTBOOT     0x00001000</span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16c6c912f910422b1c9b20c5d4e9b6cb">   88</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_EXTENT_CACHE     0x00002000</span></div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad1a3e489d3d290d75233681f43f848ef">   89</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_FORCE_FG_GC      0x00004000</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a15beafd5dcdc5ba01755bd0903ba4644">   90</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_DATA_FLUSH       0x00008000</span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a483628ff5a3c77d9dbec9428ff9ab962">   91</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_FAULT_INJECTION  0x00010000</span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a073223982498f9bfb49fd7d5eb26a737">   92</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_ADAPTIVE     0x00020000</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a28fa3131283f12d146aa851cdc6f2ac8">   93</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_LFS          0x00040000</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7e1bd05609953e945d4d65e86debc98f">   94</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_USRQUOTA     0x00080000</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aebae8b46dc285d847434706f1010f57e">   95</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_GRPQUOTA     0x00100000</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3e01f2c60d9b441a5d983f5ca8ce4c62">   96</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_PRJQUOTA     0x00200000</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a32767288335fb6b73c4abee51fee5bb8">   97</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_QUOTA        0x00400000</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0915b86d0248bdbe62a335c8db7888e3">   98</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_INLINE_XATTR_SIZE    0x00800000</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aaeeeae4f56b2c390e9fc8b937391fdb3">   99</a></span>&#160;<span class="preprocessor">#define F2FS_MOUNT_RESERVE_ROOT     0x01000000</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">  101</a></span>&#160;<span class="preprocessor">#define F2FS_OPTION(sbi)    ((sbi)-&gt;mount_opt)</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5e6a66fbc42edb5aab775973fffd6ee8">  102</a></span>&#160;<span class="preprocessor">#define clear_opt(sbi, option)  (F2FS_OPTION(sbi).opt &amp;= ~F2FS_MOUNT_##option)</span></div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5d4575eec6d5eb3794c975b55e58bce0">  103</a></span>&#160;<span class="preprocessor">#define set_opt(sbi, option)    (F2FS_OPTION(sbi).opt |= F2FS_MOUNT_##option)</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ade483dbca063c73c4fea7dcd671289be">  104</a></span>&#160;<span class="preprocessor">#define test_opt(sbi, option)   (F2FS_OPTION(sbi).opt &amp; F2FS_MOUNT_##option)</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2db91522ad87cd9be35b2ac93f22bac4">  106</a></span>&#160;<span class="preprocessor">#define ver_after(a, b) (typecheck(unsigned long long, a) &amp;&amp;        \</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">        typecheck(unsigned long long, b) &amp;&amp;         \</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">        ((long long)((a) - (b)) &gt; 0))</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">  110</a></span>&#160;<span class="keyword">typedef</span> u32 <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a>;    <span class="comment">/*</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">             * should not change u32, since it is the on-disk block</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">             * address format, __le32.</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">             */</span></div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">  114</a></span>&#160;<span class="keyword">typedef</span> u32 <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html">  116</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__mount__info.html">f2fs_mount_info</a> {</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#a0ba7e2b1f29dc3f89ea03882c5fd67e5">  117</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#a0ba7e2b1f29dc3f89ea03882c5fd67e5">opt</a>;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#af4c0055b586daa70a7a3343acba9cde5">  118</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#af4c0055b586daa70a7a3343acba9cde5">write_io_size_bits</a>;     <span class="comment">/* Write IO size bits */</span></div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#ad09289aeccc9c6333ad9abbec9d625a9">  119</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__mount__info.html#ad09289aeccc9c6333ad9abbec9d625a9">root_reserved_blocks</a>;   <span class="comment">/* root reserved blocks */</span></div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#af495d2bc1c97a99b97c0470b24646d4c">  120</a></span>&#160;    kuid_t <a class="code" href="structf2fs__mount__info.html#af495d2bc1c97a99b97c0470b24646d4c">s_resuid</a>;        <span class="comment">/* reserved blocks for uid */</span></div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#a965a6cfc097e93fe6cb52f79c3e14225">  121</a></span>&#160;    kgid_t <a class="code" href="structf2fs__mount__info.html#a965a6cfc097e93fe6cb52f79c3e14225">s_resgid</a>;        <span class="comment">/* reserved blocks for gid */</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#ae8988e0a514466eec28e9c28c5149219">  122</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#ae8988e0a514466eec28e9c28c5149219">active_logs</a>;        <span class="comment">/* # of active logs */</span></div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#aaec9c2c36f19c57eca27fcf020899fa8">  123</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#aaec9c2c36f19c57eca27fcf020899fa8">inline_xattr_size</a>;      <span class="comment">/* inline xattr size */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keyword">struct </span>f2fs_fault_info fault_info;  <span class="comment">/* For fault injection */</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#ifdef CONFIG_QUOTA</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">/* Names of quota files with journalled quota */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">char</span> *s_qf_names[MAXQUOTAS];</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">int</span> s_jquota_fmt;           <span class="comment">/* Format of quota to use */</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">/* For which write hints are passed down to block layer */</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#a992f014e9504c64d0d7340deb8c369d5">  133</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#a992f014e9504c64d0d7340deb8c369d5">whint_mode</a>;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#ad7602d9a686d4cbfc8ee667d92d54d76">  134</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#ad7602d9a686d4cbfc8ee667d92d54d76">alloc_mode</a>;         <span class="comment">/* segment allocation policy */</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#ae272d012fcabacc28afc6d136de3aa35">  135</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__mount__info.html#ae272d012fcabacc28afc6d136de3aa35">fsync_mode</a>;         <span class="comment">/* fsync policy */</span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="structf2fs__mount__info.html#a41fd40e87e65ef1e2304c2ab72c8c230">  136</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structf2fs__mount__info.html#a41fd40e87e65ef1e2304c2ab72c8c230">test_dummy_encryption</a>; <span class="comment">/* test dummy encryption */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;};</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac260fc963728669a5c687c857894004d">  139</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_ENCRYPT        0x0001</span></div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3687f4b110272b184905ba5ff6c7f2f8">  140</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_BLKZONED       0x0002</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae383a3f8a197a457446aeaf40a6a91b2">  141</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_ATOMIC_WRITE   0x0004</span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aadc920fa783c2a76b86499e09f34eef5">  142</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_EXTRA_ATTR     0x0008</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a75eeced7ec1978af461f41895c1feca8">  143</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_PRJQUOTA       0x0010</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5ae596d1acd5ab27362fea7fe28c6b2c">  144</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_INODE_CHKSUM   0x0020</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a99e78966b55ec5ca4727a6c38970e700">  145</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_FLEXIBLE_INLINE_XATTR  0x0040</span></div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8545dc5f89fa94f3fc50279972297b6b">  146</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_QUOTA_INO      0x0080</span></div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aea2187d0dfb20e7afe23105cb56b8eef">  147</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_INODE_CRTIME   0x0100</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abeb2a3786493ca47966c0566b7baaab6">  148</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_LOST_FOUND     0x0200</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a38b731ffe603a10432e2ed7be29c9e1b">  149</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_VERITY     0x0400  </span><span class="comment">/* reserved */</span><span class="preprocessor"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a929313a58efcbcae5aa20d1635d3e4d2">  151</a></span>&#160;<span class="preprocessor">#define F2FS_HAS_FEATURE(sb, mask)                  \</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">    ((F2FS_SB(sb)-&gt;raw_super-&gt;feature &amp; cpu_to_le32(mask)) != 0)</span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac8f82961adda19d9a05d0b10113cb611">  153</a></span>&#160;<span class="preprocessor">#define F2FS_SET_FEATURE(sb, mask)                  \</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">    (F2FS_SB(sb)-&gt;raw_super-&gt;feature |= cpu_to_le32(mask))</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af291818202355d6873c7a2261a150e9e">  155</a></span>&#160;<span class="preprocessor">#define F2FS_CLEAR_FEATURE(sb, mask)                    \</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">    (F2FS_SB(sb)-&gt;raw_super-&gt;feature &amp;= ~cpu_to_le32(mask))</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> * Default values for user and/or group using reserved blocks</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab9e835329d06279df45605af868cdefc">  161</a></span>&#160;<span class="preprocessor">#define F2FS_DEF_RESUID     0</span></div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac13d6af141a8ea234ece1a7d6af08d57">  162</a></span>&#160;<span class="preprocessor">#define F2FS_DEF_RESGID     0</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> * For checkpoint manager</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621">  168</a></span>&#160;    <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621">NAT_BITMAP</a>,</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39a0d434e7a9567128693a53389457d0d46">  169</a></span>&#160;    <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39a0d434e7a9567128693a53389457d0d46">SIT_BITMAP</a></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;};</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2868ec5f32efd71511810a3f4f506b08">  172</a></span>&#160;<span class="preprocessor">#define CP_UMOUNT   0x00000001</span></div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0629380a08ae644943b105080e04f9bf">  173</a></span>&#160;<span class="preprocessor">#define CP_FASTBOOT 0x00000002</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9da0ace987ba4da9d929cf4bbe970176">  174</a></span>&#160;<span class="preprocessor">#define CP_SYNC     0x00000004</span></div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab93821a509a3ab18a8968c35ffb7a174">  175</a></span>&#160;<span class="preprocessor">#define CP_RECOVERY 0x00000008</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a03f98929c6a87aa3dca78ef6153e8a48">  176</a></span>&#160;<span class="preprocessor">#define CP_DISCARD  0x00000010</span></div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3071860f211609708166d2a1633049fc">  177</a></span>&#160;<span class="preprocessor">#define CP_TRIMMED  0x00000020</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a228e858010c80c1cc722c9faf6e47442">  179</a></span>&#160;<span class="preprocessor">#define DEF_BATCHED_TRIM_SECTIONS   2048</span></div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a577d2a693799b1964dd35a4c91680941">  180</a></span>&#160;<span class="preprocessor">#define BATCHED_TRIM_SEGMENTS(sbi)  \</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="preprocessor">        (GET_SEG_FROM_SEC(sbi, SM_I(sbi)-&gt;trim_sections))</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5beea255324b78cd6a5054942d4b4700">  182</a></span>&#160;<span class="preprocessor">#define BATCHED_TRIM_BLOCKS(sbi)    \</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">        (BATCHED_TRIM_SEGMENTS(sbi) &lt;&lt; (sbi)-&gt;log_blocks_per_seg)</span></div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9f441b7acbaf453af266f2f367894d45">  184</a></span>&#160;<span class="preprocessor">#define MAX_DISCARD_BLOCKS(sbi)     BLKS_PER_SEC(sbi)</span></div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6e855aa0e2b326e5886e15d47edbac46">  185</a></span>&#160;<span class="preprocessor">#define DEF_MAX_DISCARD_REQUEST     8   </span><span class="comment">/* issue 8 discards per round */</span><span class="preprocessor"></span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac61147964f4fdf84db794238b3eb1755">  186</a></span>&#160;<span class="preprocessor">#define DEF_MIN_DISCARD_ISSUE_TIME  50  </span><span class="comment">/* 50 ms, if exists */</span><span class="preprocessor"></span></div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab59058449a43f1c54f86410ddbe65148">  187</a></span>&#160;<span class="preprocessor">#define DEF_MAX_DISCARD_ISSUE_TIME  60000   </span><span class="comment">/* 60 s, if no candidates */</span><span class="preprocessor"></span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad099b098931443b6cc2dfb2ed0f24773">  188</a></span>&#160;<span class="preprocessor">#define DEF_CP_INTERVAL         60  </span><span class="comment">/* 60 secs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0de781b8d53bda42def49999000d4569">  189</a></span>&#160;<span class="preprocessor">#define DEF_IDLE_INTERVAL       5   </span><span class="comment">/* 5 secs */</span><span class="preprocessor"></span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="structcp__control.html">  191</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcp__control.html">cp_control</a> {</div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="structcp__control.html#a3117d99503d5554f867703730a49fbd4">  192</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structcp__control.html#a3117d99503d5554f867703730a49fbd4">reason</a>;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="structcp__control.html#a83f792baa2eaafa023a596cfd6a245f0">  193</a></span>&#160;    __u64 <a class="code" href="structcp__control.html#a83f792baa2eaafa023a596cfd6a245f0">trim_start</a>;</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="structcp__control.html#a5ce688547af49431301147a76ceee21b">  194</a></span>&#160;    __u64 <a class="code" href="structcp__control.html#a5ce688547af49431301147a76ceee21b">trim_end</a>;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="structcp__control.html#a44d4fc54ed515137b417b0edb74c574d">  195</a></span>&#160;    __u64 <a class="code" href="structcp__control.html#a44d4fc54ed515137b417b0edb74c574d">trim_minlen</a>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;};</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"> * For CP/NAT/SIT/SSA readahead</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987ac88a740b809f78cadda005ae79fec266">  202</a></span>&#160;    <a class="code" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987ac88a740b809f78cadda005ae79fec266">META_CP</a>,</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a014d49bda3a39c574748d6e7503a8859">  203</a></span>&#160;    <a class="code" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a014d49bda3a39c574748d6e7503a8859">META_NAT</a>,</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a46ec57a6ab2c272217ea62dc0bc2155f">  204</a></span>&#160;    <a class="code" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a46ec57a6ab2c272217ea62dc0bc2155f">META_SIT</a>,</div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987ae9cc0385c1367d8a4d22e2e0d663304a">  205</a></span>&#160;    <a class="code" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987ae9cc0385c1367d8a4d22e2e0d663304a">META_SSA</a>,</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a373eaa474699ca3a86dddc51da74f0c8">  206</a></span>&#160;    <a class="code" href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a373eaa474699ca3a86dddc51da74f0c8">META_POR</a>,</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;};</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/* for the list of ino */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3dad62de1ca5b8862f924dad7a3d27b096c">  211</a></span>&#160;    <a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3dad62de1ca5b8862f924dad7a3d27b096c">ORPHAN_INO</a>,     <span class="comment">/* for orphan ino list */</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da0f58b8a8629e19f5c2d5438b827823c0">  212</a></span>&#160;    <a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da0f58b8a8629e19f5c2d5438b827823c0">APPEND_INO</a>,     <span class="comment">/* for append ino list */</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3dab904e6c2e4414af140202d2fc6294a52">  213</a></span>&#160;    <a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3dab904e6c2e4414af140202d2fc6294a52">UPDATE_INO</a>,     <span class="comment">/* for update ino list */</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da94009d90228d6e389bc6ab5448aa2b9c">  214</a></span>&#160;    <a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da94009d90228d6e389bc6ab5448aa2b9c">TRANS_DIR_INO</a>,      <span class="comment">/* for trasactions dir ino list */</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da867617ba4bcabd15d2762caa2cc846f5">  215</a></span>&#160;    <a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da867617ba4bcabd15d2762caa2cc846f5">FLUSH_INO</a>,      <span class="comment">/* for multiple device flushing */</span></div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da9de1fbc6c4e2ef586dec867c17da08b4">  216</a></span>&#160;    <a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da9de1fbc6c4e2ef586dec867c17da08b4">MAX_INO_ENTRY</a>,      <span class="comment">/* max. list */</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;};</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="structino__entry.html">  219</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structino__entry.html">ino_entry</a> {</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structino__entry.html#a9294ace79238e2a724326a19972ed1b2">  220</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;      <span class="comment">/* list head */</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="structino__entry.html#ac065320d4fac7fe7a9273beaa333de4c">  221</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structino__entry.html#ac065320d4fac7fe7a9273beaa333de4c">ino</a>;          <span class="comment">/* inode number */</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="structino__entry.html#a73bdb06764f94501f82b16f91c9372cf">  222</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structino__entry.html#a73bdb06764f94501f82b16f91c9372cf">dirty_device</a>;  <span class="comment">/* dirty device bitmap */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;};</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">/* for the list of inodes to be GCed */</span></div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structinode__entry.html">  226</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structinode__entry.html">inode_entry</a> {</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structinode__entry.html#a33bf7709db101023ef700003b14613c5">  227</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;  <span class="comment">/* list head */</span></div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structinode__entry.html#a56d180498070c079d8afbf71b200456a">  228</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="structinode__entry.html#a56d180498070c079d8afbf71b200456a">inode</a>;    <span class="comment">/* vfs inode pointer */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;};</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/* for the bitmap indicate blocks to be discarded */</span></div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structdiscard__entry.html">  232</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdiscard__entry.html">discard_entry</a> {</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structdiscard__entry.html#ab181375e1acce1d855693ee9ba7f3bf9">  233</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;  <span class="comment">/* list head */</span></div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structdiscard__entry.html#a37452a41c674ea16dca6c523d1d9347c">  234</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__entry.html#a37452a41c674ea16dca6c523d1d9347c">start_blkaddr</a>;  <span class="comment">/* start blockaddr of current segment */</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structdiscard__entry.html#a954f0e5fcff6cd63f06ac6fd25956977">  235</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> discard_map[SIT_VBLOCK_MAP_SIZE]; <span class="comment">/* segment discard bitmap */</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;};</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/* default discard granularity of inner discard thread, unit: block count */</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3feb418ef011f27ae84f14246dcdbd7e">  239</a></span>&#160;<span class="preprocessor">#define DEFAULT_DISCARD_GRANULARITY     16</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/* max discard pend list number */</span></div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a95a550e09ea2f05ff64b48bc404997bd">  242</a></span>&#160;<span class="preprocessor">#define MAX_PLIST_NUM       512</span></div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9feeae0899d2b56c163f068a09f9a3f3">  243</a></span>&#160;<span class="preprocessor">#define plist_idx(blk_num)  ((blk_num) &gt;= MAX_PLIST_NUM ?       \</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">                    (MAX_PLIST_NUM - 1) : (blk_num - 1))</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a759373ac37ad3035f5141d1c0d214da8">  247</a></span>&#160;    <a class="code" href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a759373ac37ad3035f5141d1c0d214da8">D_PREP</a>,</div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a66d4308bfa97f796a73ece1110b22a5a">  248</a></span>&#160;    <a class="code" href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a66d4308bfa97f796a73ece1110b22a5a">D_SUBMIT</a>,</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a95084c3e583017116832bf4c6d1ab0b4">  249</a></span>&#160;    <a class="code" href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a95084c3e583017116832bf4c6d1ab0b4">D_DONE</a>,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;};</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structdiscard__info.html">  252</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdiscard__info.html">discard_info</a> {</div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structdiscard__info.html#a41c5b650cce266066ab315a7e523a491">  253</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__info.html#a41c5b650cce266066ab315a7e523a491">lstart</a>;         <span class="comment">/* logical start address */</span></div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="structdiscard__info.html#a127f8e0e42298e12c5885e4cc87264f0">  254</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__info.html#a127f8e0e42298e12c5885e4cc87264f0">len</a>;            <span class="comment">/* length */</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="structdiscard__info.html#a3eb47e9db64071324e7a711f678c013d">  255</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__info.html#a3eb47e9db64071324e7a711f678c013d">start</a>;          <span class="comment">/* actual start address in dev */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;};</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html">  258</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdiscard__cmd.html">discard_cmd</a> {</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#a689056804698386daa915bae37a7b956">  259</a></span>&#160;    <span class="keyword">struct </span>rb_node rb_node;     <span class="comment">/* rb node located in rb-tree */</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keyword">struct </span>{</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#a4cb962690425caa9d374647fcd553ffd">  262</a></span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__cmd.html#a4cb962690425caa9d374647fcd553ffd">lstart</a>; <span class="comment">/* logical start address */</span></div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#a9d616cd290926c4c3832e41b62e6c042">  263</a></span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__cmd.html#a9d616cd290926c4c3832e41b62e6c042">len</a>;    <span class="comment">/* length */</span></div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#af7b4a5cdac73c5cb068d099f20a023c2">  264</a></span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdiscard__cmd.html#af7b4a5cdac73c5cb068d099f20a023c2">start</a>;  <span class="comment">/* actual start address in dev */</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        };</div><div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#aee5a6801e2dd307bd9945e74d56eb1bf">  266</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structdiscard__info.html">discard_info</a> di; <span class="comment">/* discard info */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    };</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#a8e209596a9737166c65eaff9f734d677">  269</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;      <span class="comment">/* command list */</span></div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#aff715cd129fde12bd962cf2b3385a854">  270</a></span>&#160;    <span class="keyword">struct </span>completion wait;     <span class="comment">/* compleation */</span></div><div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#abd818f815fe6d0fe954af4c2d164dea9">  271</a></span>&#160;    <span class="keyword">struct </span>block_device *<a class="code" href="structdiscard__cmd.html#abd818f815fe6d0fe954af4c2d164dea9">bdev</a>;  <span class="comment">/* bdev */</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#a1d9324ff2f58a8befd7dd5208336af88">  272</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structdiscard__cmd.html#a1d9324ff2f58a8befd7dd5208336af88">ref</a>;     <span class="comment">/* reference count */</span></div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#a8ef06c32f3f1dc11537626589bc9e4e9">  273</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structdiscard__cmd.html#a8ef06c32f3f1dc11537626589bc9e4e9">state</a>;        <span class="comment">/* state */</span></div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structdiscard__cmd.html#af1d36223fbb00b2403d62fb10f19743c">  274</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdiscard__cmd.html#af1d36223fbb00b2403d62fb10f19743c">error</a>;          <span class="comment">/* bio error */</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;};</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a2590427e105580b05ac1e1cc749deafb">  278</a></span>&#160;    <a class="code" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a2590427e105580b05ac1e1cc749deafb">DPOLICY_BG</a>,</div><div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705aa1e5bdceeb5f4929725ac9c6b95c015e">  279</a></span>&#160;    <a class="code" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705aa1e5bdceeb5f4929725ac9c6b95c015e">DPOLICY_FORCE</a>,</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a1c2673fcf359d24d551a22ed91707c16">  280</a></span>&#160;    <a class="code" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a1c2673fcf359d24d551a22ed91707c16">DPOLICY_FSTRIM</a>,</div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705aaddd48f4e938f547289830f925ef0c31">  281</a></span>&#160;    <a class="code" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705aaddd48f4e938f547289830f925ef0c31">DPOLICY_UMOUNT</a>,</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a165db5bb70736cecc817db945010db2e">  282</a></span>&#160;    <a class="code" href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a165db5bb70736cecc817db945010db2e">MAX_DPOLICY</a>,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;};</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="structdiscard__policy.html">  285</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdiscard__policy.html">discard_policy</a> {</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#a85fb42e3fa753187b4df1850c729f335">  286</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structdiscard__policy.html#a85fb42e3fa753187b4df1850c729f335">type</a>;           <span class="comment">/* type of discard */</span></div><div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#a3b1fa6d464996a3e3fc64cb8c8eeca88">  287</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__policy.html#a3b1fa6d464996a3e3fc64cb8c8eeca88">min_interval</a>;  <span class="comment">/* used for candidates exist */</span></div><div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#ad4a1c4fa90902189005e1de93d3ffd39">  288</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__policy.html#ad4a1c4fa90902189005e1de93d3ffd39">max_interval</a>;  <span class="comment">/* used for candidates not exist */</span></div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#a80831264e8ce5f353a987afd694fedf8">  289</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__policy.html#a80831264e8ce5f353a987afd694fedf8">max_requests</a>;  <span class="comment">/* # of discards issued per round */</span></div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#a538d44c29c7e3997e57500de7384575d">  290</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__policy.html#a538d44c29c7e3997e57500de7384575d">io_aware_gran</a>; <span class="comment">/* minimum granularity discard not be aware of I/O */</span></div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#a7055b951deff756c39654711fb7b2df9">  291</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structdiscard__policy.html#a7055b951deff756c39654711fb7b2df9">io_aware</a>;          <span class="comment">/* issue discard in idle time */</span></div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#a2f3efd50edf1b8da83af2234039b397f">  292</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structdiscard__policy.html#a2f3efd50edf1b8da83af2234039b397f">sync</a>;          <span class="comment">/* submit discard with REQ_SYNC flag */</span></div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="structdiscard__policy.html#ae0f8fca1187b6962309c9d71f01db29b">  293</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__policy.html#ae0f8fca1187b6962309c9d71f01db29b">granularity</a>;   <span class="comment">/* discard granularity */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;};</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html">  296</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdiscard__cmd__control.html">discard_cmd_control</a> {</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a540174b78ecb55e6b39f391a6a7dabda">  297</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structdiscard__cmd__control.html#a540174b78ecb55e6b39f391a6a7dabda">f2fs_issue_discard</a>; <span class="comment">/* discard thread */</span></div><div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#ac68e0c3789b086dedf2c792d86b27ccd">  298</a></span>&#160;    <span class="keyword">struct </span>list_head entry_list;        <span class="comment">/* 4KB discard entry list */</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a785dd6900baa7aff631988bbf81e6942">  299</a></span>&#160;    <span class="keyword">struct </span>list_head pend_list[<a class="code" href="f2fs_8h.html#a95a550e09ea2f05ff64b48bc404997bd">MAX_PLIST_NUM</a>];<span class="comment">/* store pending entries */</span></div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a5bc30a191d3bc434fa9cf63177133acd">  300</a></span>&#160;    <span class="keyword">struct </span>list_head wait_list;     <span class="comment">/* store on-flushing entries */</span></div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#aa1bb6540189ca3e91cdad90f132924c2">  301</a></span>&#160;    <span class="keyword">struct </span>list_head fstrim_list;       <span class="comment">/* in-flight discard from fstrim */</span></div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a96456fac25202f7e0a401f30aa050aeb">  302</a></span>&#160;    wait_queue_head_t <a class="code" href="structdiscard__cmd__control.html#a96456fac25202f7e0a401f30aa050aeb">discard_wait_queue</a>;   <span class="comment">/* waiting queue for wake-up */</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#ad0cace344afb4603c5d5c404c4853051">  303</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__cmd__control.html#ad0cace344afb4603c5d5c404c4853051">discard_wake</a>;      <span class="comment">/* to wake up discard thread */</span></div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a0da45bef9cbaebe724c444222322479f">  304</a></span>&#160;    <span class="keyword">struct </span>mutex cmd_lock;</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a4e0164b4f31ad21766ed984eafee949e">  305</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__cmd__control.html#a4e0164b4f31ad21766ed984eafee949e">nr_discards</a>;       <span class="comment">/* # of discards in the list */</span></div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#afbf5c51b5536cf7b1ba7c950be1a18a9">  306</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__cmd__control.html#afbf5c51b5536cf7b1ba7c950be1a18a9">max_discards</a>;      <span class="comment">/* max. discards to be issued */</span></div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#ae285221064dddfad76a234b745fa97b2">  307</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__cmd__control.html#ae285221064dddfad76a234b745fa97b2">discard_granularity</a>;   <span class="comment">/* discard granularity */</span></div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a256d57f7c978b5e2e86c398f52e671a1">  308</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdiscard__cmd__control.html#a256d57f7c978b5e2e86c398f52e671a1">undiscard_blks</a>;        <span class="comment">/* # of undiscard blocks */</span></div><div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#abf114bb0c54cf60f217468f33458c428">  309</a></span>&#160;    atomic_t <a class="code" href="structdiscard__cmd__control.html#abf114bb0c54cf60f217468f33458c428">issued_discard</a>;        <span class="comment">/* # of issued discard */</span></div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#ad5f480d70ca1bd249d44923f1b8b183d">  310</a></span>&#160;    atomic_t <a class="code" href="structdiscard__cmd__control.html#ad5f480d70ca1bd249d44923f1b8b183d">issing_discard</a>;        <span class="comment">/* # of issing discard */</span></div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a731041d03794819480601a7106624ba5">  311</a></span>&#160;    atomic_t <a class="code" href="structdiscard__cmd__control.html#a731041d03794819480601a7106624ba5">discard_cmd_cnt</a>;       <span class="comment">/* # of cached cmd count */</span></div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="structdiscard__cmd__control.html#a5a549707add1daa20eecaf81dceadcf2">  312</a></span>&#160;    <span class="keyword">struct </span>rb_root <a class="code" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>;            <span class="comment">/* root of discard rb-tree */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;};</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">/* for the list of fsync inodes, used only during recovery */</span></div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structfsync__inode__entry.html">  316</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structfsync__inode__entry.html">fsync_inode_entry</a> {</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="structfsync__inode__entry.html#a7d17b553d0708f6c22791aa4add085d5">  317</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;  <span class="comment">/* list head */</span></div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="structfsync__inode__entry.html#aad611329b134d609120d516c5157a825">  318</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="structfsync__inode__entry.html#aad611329b134d609120d516c5157a825">inode</a>;    <span class="comment">/* vfs inode pointer */</span></div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structfsync__inode__entry.html#a9eeb687d56f9f91cf201d5f3fc03b424">  319</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structfsync__inode__entry.html#a9eeb687d56f9f91cf201d5f3fc03b424">blkaddr</a>;    <span class="comment">/* block address locating the last fsync */</span></div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="structfsync__inode__entry.html#a68b14eb93b624ef38757b96855220ace">  320</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structfsync__inode__entry.html#a68b14eb93b624ef38757b96855220ace">last_dentry</a>;    <span class="comment">/* block address locating the last dentry */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;};</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8bef1bac26f4e77f81a652c24aefa649">  323</a></span>&#160;<span class="preprocessor">#define nats_in_cursum(jnl)     (le16_to_cpu((jnl)-&gt;n_nats))</span></div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4ad6ce267b006286b546fbe4dfdb6597">  324</a></span>&#160;<span class="preprocessor">#define sits_in_cursum(jnl)     (le16_to_cpu((jnl)-&gt;n_sits))</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6c24b388a1ffb301726b000384ab939c">  326</a></span>&#160;<span class="preprocessor">#define nat_in_journal(jnl, i)      ((jnl)-&gt;nat_j.entries[i].ne)</span></div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a95f4a23e478efdc1cb7e107850d95d9a">  327</a></span>&#160;<span class="preprocessor">#define nid_in_journal(jnl, i)      ((jnl)-&gt;nat_j.entries[i].nid)</span></div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aafd430b1982b62adc60528a10d02207a">  328</a></span>&#160;<span class="preprocessor">#define sit_in_journal(jnl, i)      ((jnl)-&gt;sit_j.entries[i].se)</span></div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af0561f5770dfd53d42bfaa2aef22d551">  329</a></span>&#160;<span class="preprocessor">#define segno_in_journal(jnl, i)    ((jnl)-&gt;sit_j.entries[i].segno)</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a54642c93c8d5a721da0ed0a0c36e91d5">  331</a></span>&#160;<span class="preprocessor">#define MAX_NAT_JENTRIES(jnl)   (NAT_JOURNAL_ENTRIES - nats_in_cursum(jnl))</span></div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa614d3104ba5f243a3ac755eb588238d">  332</a></span>&#160;<span class="preprocessor">#define MAX_SIT_JENTRIES(jnl)   (SIT_JOURNAL_ENTRIES - sits_in_cursum(jnl))</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a590b92b30ad66e46f87851c45798a471">  334</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a590b92b30ad66e46f87851c45798a471">update_nats_in_cursum</a>(<span class="keyword">struct</span> f2fs_journal *journal, <span class="keywordtype">int</span> i)</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordtype">int</span> before = <a class="code" href="f2fs_8h.html#a8bef1bac26f4e77f81a652c24aefa649">nats_in_cursum</a>(journal);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    journal-&gt;n_nats = cpu_to_le16(before + i);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> before;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a989689b7337eb48acee57ee16e2e956d">  342</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a989689b7337eb48acee57ee16e2e956d">update_sits_in_cursum</a>(<span class="keyword">struct</span> f2fs_journal *journal, <span class="keywordtype">int</span> i)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">int</span> before = <a class="code" href="f2fs_8h.html#a4ad6ce267b006286b546fbe4dfdb6597">sits_in_cursum</a>(journal);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    journal-&gt;n_sits = cpu_to_le16(before + i);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> before;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5a1e4fa6e8f5848979b241b42636efac">  350</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a5a1e4fa6e8f5848979b241b42636efac">__has_cursum_space</a>(<span class="keyword">struct</span> f2fs_journal *journal,</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                            <span class="keywordtype">int</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;{</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (type == NAT_JOURNAL)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> size &lt;= <a class="code" href="f2fs_8h.html#a54642c93c8d5a721da0ed0a0c36e91d5">MAX_NAT_JENTRIES</a>(journal);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> size &lt;= <a class="code" href="f2fs_8h.html#aa614d3104ba5f243a3ac755eb588238d">MAX_SIT_JENTRIES</a>(journal);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"> * ioctl commands</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6f121ed81ce9996c95a0557583c59de9">  361</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GETFLAGS       FS_IOC_GETFLAGS</span></div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab58ccb939247a429fc1ee22d649988e6">  362</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_SETFLAGS       FS_IOC_SETFLAGS</span></div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7f8103b864ba26351cb4bd96f311407f">  363</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GETVERSION     FS_IOC_GETVERSION</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af1d1d535c2832906d4107a620b58c1b1">  365</a></span>&#160;<span class="preprocessor">#define F2FS_IOCTL_MAGIC        0xf5</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a39ffb553ac149760b3e1fa7d0232adf8">  366</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_START_ATOMIC_WRITE _IO(F2FS_IOCTL_MAGIC, 1)</span></div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="f2fs_8h.html#adb59f8a1abd0a1ddba218357e3331db1">  367</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_COMMIT_ATOMIC_WRITE    _IO(F2FS_IOCTL_MAGIC, 2)</span></div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abb98a70561424025aa6e86ad39c7765d">  368</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_START_VOLATILE_WRITE   _IO(F2FS_IOCTL_MAGIC, 3)</span></div><div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1aa6178ad59b9e1ed569e150f7dbc086">  369</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_RELEASE_VOLATILE_WRITE _IO(F2FS_IOCTL_MAGIC, 4)</span></div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af2f5040ebaa03f47927b1828167ad134">  370</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_ABORT_VOLATILE_WRITE   _IO(F2FS_IOCTL_MAGIC, 5)</span></div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa272964ee4433b1f67594d6bd163bdfa">  371</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GARBAGE_COLLECT    _IOW(F2FS_IOCTL_MAGIC, 6, __u32)</span></div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a904bbe7a24358e2ae4f0f610dd1c7674">  372</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_WRITE_CHECKPOINT   _IO(F2FS_IOCTL_MAGIC, 7)</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a69205f14fa6e01824b85e2f66992a02f">  373</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_DEFRAGMENT     _IOWR(F2FS_IOCTL_MAGIC, 8,  \</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">                        struct f2fs_defragment)</span></div><div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a89139f9b596360ee82bed6b4c00754f6">  375</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_MOVE_RANGE     _IOWR(F2FS_IOCTL_MAGIC, 9,  \</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="preprocessor">                        struct f2fs_move_range)</span></div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4b92ec9cff3a5a2f54a9e5a19ac5e730">  377</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_FLUSH_DEVICE       _IOW(F2FS_IOCTL_MAGIC, 10,  \</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="preprocessor">                        struct f2fs_flush_device)</span></div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2052e38425dabe42250e0d1185375ae1">  379</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GARBAGE_COLLECT_RANGE  _IOW(F2FS_IOCTL_MAGIC, 11,  \</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="preprocessor">                        struct f2fs_gc_range)</span></div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad6294d9f1de49b53b4469fc4f50ab572">  381</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GET_FEATURES       _IOR(F2FS_IOCTL_MAGIC, 12, __u32)</span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a86fcd7035830b3883d99e3c9c96f85ea">  382</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_SET_PIN_FILE       _IOW(F2FS_IOCTL_MAGIC, 13, __u32)</span></div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2d8ee3845f6b1aa772984642793ec997">  383</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GET_PIN_FILE       _IOR(F2FS_IOCTL_MAGIC, 14, __u32)</span></div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="f2fs_8h.html#adb0d10ce8a4547049b52652fa9a6db51">  384</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_PRECACHE_EXTENTS   _IO(F2FS_IOCTL_MAGIC, 15)</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a138eb707f9cc816936562f6a72ba9d3d">  386</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_SET_ENCRYPTION_POLICY  FS_IOC_SET_ENCRYPTION_POLICY</span></div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4ddd9fcc83444576de64f91a4f5cc137">  387</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GET_ENCRYPTION_POLICY  FS_IOC_GET_ENCRYPTION_POLICY</span></div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a679547459ec1be73504db6315133d43e">  388</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_GET_ENCRYPTION_PWSALT  FS_IOC_GET_ENCRYPTION_PWSALT</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"> * should be same as XFS_IOC_GOINGDOWN.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"> * Flags for going down operation used by FS_IOC_GOINGDOWN</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad887d0d0cf8d8caee15375f504d112f8">  394</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_SHUTDOWN   _IOR(&#39;X&#39;, 125, __u32)   </span><span class="comment">/* Shutdown */</span><span class="preprocessor"></span></div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af3c982a4cdfa40c158b80562e59c1d39">  395</a></span>&#160;<span class="preprocessor">#define F2FS_GOING_DOWN_FULLSYNC    0x0 </span><span class="comment">/* going down with full sync */</span><span class="preprocessor"></span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a005f1f32c1e6f884cfdb0debc91b62ed">  396</a></span>&#160;<span class="preprocessor">#define F2FS_GOING_DOWN_METASYNC    0x1 </span><span class="comment">/* going down with metadata */</span><span class="preprocessor"></span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a211831fee19bfdf21867d34ade207388">  397</a></span>&#160;<span class="preprocessor">#define F2FS_GOING_DOWN_NOSYNC      0x2 </span><span class="comment">/* going down */</span><span class="preprocessor"></span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad393b59a4901776a9b606e1b946dea77">  398</a></span>&#160;<span class="preprocessor">#define F2FS_GOING_DOWN_METAFLUSH   0x3 </span><span class="comment">/* going down with meta flush */</span><span class="preprocessor"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="preprocessor">#if defined(__KERNEL__) &amp;&amp; defined(CONFIG_COMPAT)</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> * ioctl commands in 32 bit emulation</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#define F2FS_IOC32_GETFLAGS     FS_IOC32_GETFLAGS</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="preprocessor">#define F2FS_IOC32_SETFLAGS     FS_IOC32_SETFLAGS</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#define F2FS_IOC32_GETVERSION       FS_IOC32_GETVERSION</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aba0fb317068b68083fe0f6b358e0c1db">  409</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_FSGETXATTR     FS_IOC_FSGETXATTR</span></div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a48a09c580443c530c24291a86aa07918">  410</a></span>&#160;<span class="preprocessor">#define F2FS_IOC_FSSETXATTR     FS_IOC_FSSETXATTR</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="structf2fs__gc__range.html">  412</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__gc__range.html">f2fs_gc_range</a> {</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="structf2fs__gc__range.html#aaf68ef8cc8f2fe91f04f41240b9c41d2">  413</a></span>&#160;    u32 <a class="code" href="structf2fs__gc__range.html#aaf68ef8cc8f2fe91f04f41240b9c41d2">sync</a>;</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="structf2fs__gc__range.html#a898804b554ae509b07e3ced81e339273">  414</a></span>&#160;    u64 <a class="code" href="structf2fs__gc__range.html#a898804b554ae509b07e3ced81e339273">start</a>;</div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structf2fs__gc__range.html#a033d93bc728e6ec81b838831b722df23">  415</a></span>&#160;    u64 <a class="code" href="structf2fs__gc__range.html#a033d93bc728e6ec81b838831b722df23">len</a>;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;};</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="structf2fs__defragment.html">  418</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__defragment.html">f2fs_defragment</a> {</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structf2fs__defragment.html#a80ce16cacffffbde5093df6943f2c56d">  419</a></span>&#160;    u64 <a class="code" href="structf2fs__defragment.html#a80ce16cacffffbde5093df6943f2c56d">start</a>;</div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="structf2fs__defragment.html#ad8d635af9937a6d9ddab468f88fc107a">  420</a></span>&#160;    u64 <a class="code" href="structf2fs__defragment.html#ad8d635af9937a6d9ddab468f88fc107a">len</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;};</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="structf2fs__move__range.html">  423</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__move__range.html">f2fs_move_range</a> {</div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="structf2fs__move__range.html#aa10272e76ad1eb64b287276afcdb96c3">  424</a></span>&#160;    u32 <a class="code" href="structf2fs__move__range.html#aa10272e76ad1eb64b287276afcdb96c3">dst_fd</a>;     <span class="comment">/* destination fd */</span></div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="structf2fs__move__range.html#a1e4c66dfd8d5dd1385e5a1098d2f653b">  425</a></span>&#160;    u64 <a class="code" href="structf2fs__move__range.html#a1e4c66dfd8d5dd1385e5a1098d2f653b">pos_in</a>;     <span class="comment">/* start position in src_fd */</span></div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="structf2fs__move__range.html#adbad462a5aee24b086711eeec3f48941">  426</a></span>&#160;    u64 <a class="code" href="structf2fs__move__range.html#adbad462a5aee24b086711eeec3f48941">pos_out</a>;        <span class="comment">/* start position in dst_fd */</span></div><div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="structf2fs__move__range.html#adab95cde105c80f257c079cb807c30a7">  427</a></span>&#160;    u64 <a class="code" href="structf2fs__move__range.html#adab95cde105c80f257c079cb807c30a7">len</a>;        <span class="comment">/* size to move */</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;};</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="structf2fs__flush__device.html">  430</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__flush__device.html">f2fs_flush_device</a> {</div><div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="structf2fs__flush__device.html#afc6356ab715eb1977ac36dae1606ad4d">  431</a></span>&#160;    u32 <a class="code" href="structf2fs__flush__device.html#afc6356ab715eb1977ac36dae1606ad4d">dev_num</a>;        <span class="comment">/* device number to flush */</span></div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="structf2fs__flush__device.html#a5fdd42f6dd26d1dcbb08fc3a47328273">  432</a></span>&#160;    u32 <a class="code" href="structf2fs__flush__device.html#a5fdd42f6dd26d1dcbb08fc3a47328273">segments</a>;       <span class="comment">/* # of segments to flush */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;};</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">/* for inline stuff */</span></div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af633eccb05dce1e76cd98b26d18a3e6b">  436</a></span>&#160;<span class="preprocessor">#define DEF_INLINE_RESERVED_SIZE    1</span></div><div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a322297e8b87c0c1d9b2641c660bd150d">  437</a></span>&#160;<span class="preprocessor">#define DEF_MIN_INLINE_SIZE     1</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aba102f52ce9c86ee0da7fe94c8ad15bb">get_extra_isize</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967">get_inline_xattr_addrs</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>);</div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac693405b59146fb42ceaf39386686d93">  440</a></span>&#160;<span class="preprocessor">#define MAX_INLINE_DATA(inode)  (sizeof(__le32) *           \</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="preprocessor">                (CUR_ADDRS_PER_INODE(inode) -       \</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">                get_inline_xattr_addrs(inode) - \</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="preprocessor">                DEF_INLINE_RESERVED_SIZE))</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">/* for inline dir */</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab9a9c21326b7bcb95e5ade062d8d2703">  446</a></span>&#160;<span class="preprocessor">#define NR_INLINE_DENTRY(inode) (MAX_INLINE_DATA(inode) * BITS_PER_BYTE / \</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="preprocessor">                ((SIZE_OF_DIR_ENTRY + F2FS_SLOT_LEN) * \</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">                BITS_PER_BYTE + 1))</span></div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aff6d9b515be1159f84ff48c9c261467a">  449</a></span>&#160;<span class="preprocessor">#define INLINE_DENTRY_BITMAP_SIZE(inode)    ((NR_INLINE_DENTRY(inode) + \</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">                    BITS_PER_BYTE - 1) / BITS_PER_BYTE)</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5ff5fdb7a070c6e22017b30e94ee6ea9">  451</a></span>&#160;<span class="preprocessor">#define INLINE_RESERVED_SIZE(inode) (MAX_INLINE_DATA(inode) - \</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="preprocessor">                ((SIZE_OF_DIR_ENTRY + F2FS_SLOT_LEN) * \</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="preprocessor">                NR_INLINE_DENTRY(inode) + \</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="preprocessor">                INLINE_DENTRY_BITMAP_SIZE(inode)))</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"> * For INODE and NODE manager</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/* for directory operations */</span></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html">  460</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> {</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html#a45a33f26a79a11d307a98021a12f3b85">  461</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="structf2fs__dentry__ptr.html#a45a33f26a79a11d307a98021a12f3b85">inode</a>;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html#a61872042c282e37b3087345af560d732">  462</a></span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="structf2fs__dentry__ptr.html#a61872042c282e37b3087345af560d732">bitmap</a>;</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html#a180b51a8c853dac360c6b76527b8b30a">  463</a></span>&#160;    <span class="keyword">struct </span>f2fs_dir_entry *<a class="code" href="structf2fs__dentry__ptr.html#a180b51a8c853dac360c6b76527b8b30a">dentry</a>;</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html#aebac4c99732fa16b3b8c1f95af049066">  464</a></span>&#160;    __u8 (*filename)[F2FS_SLOT_LEN];</div><div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html#a2ce282419b0d3cb7af7f9230ecf04c5f">  465</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__dentry__ptr.html#a2ce282419b0d3cb7af7f9230ecf04c5f">max</a>;</div><div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="structf2fs__dentry__ptr.html#a54864524fd3e262ac07a00a49c28482c">  466</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__dentry__ptr.html#a54864524fd3e262ac07a00a49c28482c">nr_bitmap</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;};</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acda30faacd9fd8fec5775e4c30a207a4">  469</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#acda30faacd9fd8fec5775e4c30a207a4">make_dentry_ptr_block</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>,</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keyword">struct</span> <a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> *d, <span class="keyword">struct</span> f2fs_dentry_block *t)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a45a33f26a79a11d307a98021a12f3b85">inode</a> = <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a2ce282419b0d3cb7af7f9230ecf04c5f">max</a> = NR_DENTRY_IN_BLOCK;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a54864524fd3e262ac07a00a49c28482c">nr_bitmap</a> = SIZE_OF_DENTRY_BITMAP;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a61872042c282e37b3087345af560d732">bitmap</a> = t-&gt;dentry_bitmap;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a180b51a8c853dac360c6b76527b8b30a">dentry</a> = t-&gt;dentry;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#aebac4c99732fa16b3b8c1f95af049066">filename</a> = t-&gt;filename;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a953bab37447650f859d17a3db09b42a1">  480</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a953bab37447650f859d17a3db09b42a1">make_dentry_ptr_inline</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>,</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                    <span class="keyword">struct</span> <a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> *d, <span class="keywordtype">void</span> *t)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordtype">int</span> entry_cnt = <a class="code" href="f2fs_8h.html#ab9a9c21326b7bcb95e5ade062d8d2703">NR_INLINE_DENTRY</a>(inode);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">int</span> bitmap_size = <a class="code" href="f2fs_8h.html#aff6d9b515be1159f84ff48c9c261467a">INLINE_DENTRY_BITMAP_SIZE</a>(inode);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="keywordtype">int</span> reserved_size = <a class="code" href="f2fs_8h.html#a5ff5fdb7a070c6e22017b30e94ee6ea9">INLINE_RESERVED_SIZE</a>(inode);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a45a33f26a79a11d307a98021a12f3b85">inode</a> = <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a2ce282419b0d3cb7af7f9230ecf04c5f">max</a> = entry_cnt;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a54864524fd3e262ac07a00a49c28482c">nr_bitmap</a> = bitmap_size;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a61872042c282e37b3087345af560d732">bitmap</a> = t;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#a180b51a8c853dac360c6b76527b8b30a">dentry</a> = t + bitmap_size + reserved_size;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    d-&gt;<a class="code" href="structf2fs__dentry__ptr.html#aebac4c99732fa16b3b8c1f95af049066">filename</a> = t + bitmap_size + reserved_size +</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                    SIZE_OF_DIR_ENTRY * entry_cnt;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment"> * XATTR_NODE_OFFSET stores xattrs to one node block per file keeping -1</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> * as its node offset to distinguish from index node blocks.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment"> * But some bits are used to mark the node block.</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a71518da6339e36a7106098b9c1927db9">  501</a></span>&#160;<span class="preprocessor">#define XATTR_NODE_OFFSET   ((((unsigned int)-1) &lt;&lt; OFFSET_BIT_SHIFT) \</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">                &gt;&gt; OFFSET_BIT_SHIFT)</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294a6c99b70420759208128a45ae2f753af5">  504</a></span>&#160;    <a class="code" href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294a6c99b70420759208128a45ae2f753af5">ALLOC_NODE</a>,         <span class="comment">/* allocate a new node page if needed */</span></div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294ac0d8f3f113f976d29478b4d497967b68">  505</a></span>&#160;    <a class="code" href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294ac0d8f3f113f976d29478b4d497967b68">LOOKUP_NODE</a>,            <span class="comment">/* look up a node without readahead */</span></div><div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294a76fae55ff48dc0e6d53eee2d212c73d1">  506</a></span>&#160;    <a class="code" href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294a76fae55ff48dc0e6d53eee2d212c73d1">LOOKUP_NODE_RA</a>,         <span class="comment">/*</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">                     * look up a node with readahead called</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">                     * by get_data_block.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">                     */</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;};</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af6afc1114d2673460e30cb5b90a4ea0e">  512</a></span>&#160;<span class="preprocessor">#define F2FS_LINK_MAX   0xffffffff  </span><span class="comment">/* maximum link count per file */</span><span class="preprocessor"></span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a542a2dfe8d7fe7f8b9b536eabfc78ef1">  514</a></span>&#160;<span class="preprocessor">#define MAX_DIR_RA_PAGES    4   </span><span class="comment">/* maximum ra pages of dir */</span><span class="preprocessor"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">/* vector size for gang look-up from extent cache that consists of radix tree */</span></div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad5c33bd18b6ba379a296489e88978837">  517</a></span>&#160;<span class="preprocessor">#define EXT_TREE_VEC_SIZE   64</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/* for in-memory extent cache entry */</span></div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a14f3504fc8c556e9458894dab976c4ec">  520</a></span>&#160;<span class="preprocessor">#define F2FS_MIN_EXTENT_LEN 64  </span><span class="comment">/* minimum extent length */</span><span class="preprocessor"></span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">/* number of extent info in extent cache we try to shrink */</span></div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a313c7f0437aca573071f2a3b397c4b90">  523</a></span>&#160;<span class="preprocessor">#define EXTENT_CACHE_SHRINK_NUMBER  128</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="structrb__entry.html">  525</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrb__entry.html">rb_entry</a> {</div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="structrb__entry.html#a4d3ab31f7417f42c8a46454248b3451c">  526</a></span>&#160;    <span class="keyword">struct </span>rb_node rb_node;     <span class="comment">/* rb node located in rb-tree */</span></div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="structrb__entry.html#a88264427b69d702bfa9edbdd53cd39bb">  527</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrb__entry.html#a88264427b69d702bfa9edbdd53cd39bb">ofs</a>;       <span class="comment">/* start offset of the entry */</span></div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="structrb__entry.html#a28bd2ede83747f8030d2bb0e0b4a360c">  528</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrb__entry.html#a28bd2ede83747f8030d2bb0e0b4a360c">len</a>;       <span class="comment">/* length of the entry */</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;};</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="structextent__info.html">  531</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structextent__info.html">extent_info</a> {</div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">  532</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">fofs</a>;      <span class="comment">/* start offset in a file */</span></div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">  533</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a>;       <span class="comment">/* length of the extent */</span></div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">  534</a></span>&#160;    u32 <a class="code" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">blk</a>;            <span class="comment">/* start block address of the extent */</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;};</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="structextent__node.html">  537</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structextent__node.html">extent_node</a> {</div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="structextent__node.html#a8aba56313d6f55b01d71afd99fd74367">  538</a></span>&#160;    <span class="keyword">struct </span>rb_node rb_node;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="keyword">struct </span>{</div><div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="structextent__node.html#ab43808308c691f2f4da70c3487a44455">  541</a></span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structextent__node.html#ab43808308c691f2f4da70c3487a44455">fofs</a>;</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="structextent__node.html#a975083ca3787b2a6d639b42e2741b177">  542</a></span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structextent__node.html#a975083ca3787b2a6d639b42e2741b177">len</a>;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="structextent__node.html#a5c363d7ea3dd1a1125181bf42f5c61f3">  543</a></span>&#160;            u32 <a class="code" href="structextent__node.html#a5c363d7ea3dd1a1125181bf42f5c61f3">blk</a>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        };</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="structextent__node.html#af466405f58ac0fd19becd114c6ee0426">  545</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structextent__info.html">extent_info</a> ei;  <span class="comment">/* extent info */</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    };</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="structextent__node.html#a8c71ef2b0a777f82344d1ddff7582f82">  548</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;      <span class="comment">/* node in global extent list of sbi */</span></div><div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="structextent__node.html#ad7a613fbfbed536904be7b0d70fe75cc">  549</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structextent__tree.html">extent_tree</a> *<a class="code" href="structextent__node.html#ad7a613fbfbed536904be7b0d70fe75cc">et</a>;     <span class="comment">/* extent tree pointer */</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;};</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="structextent__tree.html">  552</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structextent__tree.html">extent_tree</a> {</div><div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="structextent__tree.html#ac5c40017841663483fdcb38b74e310d3">  553</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structextent__tree.html#ac5c40017841663483fdcb38b74e310d3">ino</a>;          <span class="comment">/* inode number */</span></div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="structextent__tree.html#aa611c46f0072c37b12d9c17d14d043b1">  554</a></span>&#160;    <span class="keyword">struct </span>rb_root <a class="code" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>;        <span class="comment">/* root of extent info rb-tree */</span></div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="structextent__tree.html#ab3d15691e3341bf2d2272d68ac4b74bf">  555</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structextent__node.html">extent_node</a> *<a class="code" href="structextent__tree.html#ab3d15691e3341bf2d2272d68ac4b74bf">cached_en</a>;  <span class="comment">/* recently accessed extent node */</span></div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="structextent__tree.html#a025a4a57e623711730c7cb0702552de9">  556</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structextent__info.html">extent_info</a> largest; <span class="comment">/* largested extent info */</span></div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="structextent__tree.html#ac55fa7b86285eea4349c30391b5446a4">  557</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;      <span class="comment">/* to be used by sbi-&gt;zombie_list */</span></div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="structextent__tree.html#a976e1eb17c56669fb5cb238edb3fbfdb">  558</a></span>&#160;    rwlock_t <a class="code" href="structextent__tree.html#a976e1eb17c56669fb5cb238edb3fbfdb">lock</a>;          <span class="comment">/* protect extent info rb-tree */</span></div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="structextent__tree.html#a5cd5d0e4dd36e685b86b030d3c57b5a1">  559</a></span>&#160;    atomic_t <a class="code" href="structextent__tree.html#a5cd5d0e4dd36e685b86b030d3c57b5a1">node_cnt</a>;      <span class="comment">/* # of extent node in rb-tree*/</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;};</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment"> * This structure is taken from ext4_map_blocks.</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"> * Note that, however, f2fs uses NEW and MAPPED flags for f2fs_map_blocks().</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a44102930021323aef0bb405ee24bddbb">  567</a></span>&#160;<span class="preprocessor">#define F2FS_MAP_NEW        (1 &lt;&lt; BH_New)</span></div><div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a36b225dd9aea99ee70767b5d330c2c91">  568</a></span>&#160;<span class="preprocessor">#define F2FS_MAP_MAPPED     (1 &lt;&lt; BH_Mapped)</span></div><div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae28cc049d2e4825e5c257dc764672e0c">  569</a></span>&#160;<span class="preprocessor">#define F2FS_MAP_UNWRITTEN  (1 &lt;&lt; BH_Unwritten)</span></div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a09185e207ffa0145fce66fb213e32f5e">  570</a></span>&#160;<span class="preprocessor">#define F2FS_MAP_FLAGS      (F2FS_MAP_NEW | F2FS_MAP_MAPPED |\</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">                F2FS_MAP_UNWRITTEN)</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html">  573</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__map__blocks.html">f2fs_map_blocks</a> {</div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#a24f15e414344c497377ba3f9a1aa266b">  574</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__map__blocks.html#a24f15e414344c497377ba3f9a1aa266b">m_pblk</a>;</div><div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#a8cdce45e81faf8f1237054deb3a2ed7e">  575</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__map__blocks.html#a8cdce45e81faf8f1237054deb3a2ed7e">m_lblk</a>;</div><div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#a23187a1498b26adae7c569e8f8866ffe">  576</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__map__blocks.html#a23187a1498b26adae7c569e8f8866ffe">m_len</a>;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#a5e3b29a919f8543a0145bb9608f0a4e7">  577</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__map__blocks.html#a5e3b29a919f8543a0145bb9608f0a4e7">m_flags</a>;</div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#a0a2f3a9a716b46098052f55409fc31c7">  578</a></span>&#160;    pgoff_t *<a class="code" href="structf2fs__map__blocks.html#a0a2f3a9a716b46098052f55409fc31c7">m_next_pgofs</a>;      <span class="comment">/* point next possible non-hole pgofs */</span></div><div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#ad84fe64870049956ce06240a88364709">  579</a></span>&#160;    pgoff_t *<a class="code" href="structf2fs__map__blocks.html#ad84fe64870049956ce06240a88364709">m_next_extent</a>;     <span class="comment">/* point to next possible extent */</span></div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="structf2fs__map__blocks.html#a708da5fd4cf072687799860a0f001951">  580</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__map__blocks.html#a708da5fd4cf072687799860a0f001951">m_seg_type</a>;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;};</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">/* for flag in get_data_block */</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a5d968719570d77bb46d6642fc4fb85ae">  585</a></span>&#160;    <a class="code" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a5d968719570d77bb46d6642fc4fb85ae">F2FS_GET_BLOCK_DEFAULT</a>,</div><div class="line"><a name="l00586"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a185865f124028fbb35a69332e619fcb1">  586</a></span>&#160;    <a class="code" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a185865f124028fbb35a69332e619fcb1">F2FS_GET_BLOCK_FIEMAP</a>,</div><div class="line"><a name="l00587"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a6c645da4478d7ab3133db97bf59db340">  587</a></span>&#160;    <a class="code" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a6c645da4478d7ab3133db97bf59db340">F2FS_GET_BLOCK_BMAP</a>,</div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6ae2ad323df22a9d2bf8b5b37e7787369f">  588</a></span>&#160;    <a class="code" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6ae2ad323df22a9d2bf8b5b37e7787369f">F2FS_GET_BLOCK_PRE_DIO</a>,</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a5550bec41fbf811a10b6e4675f38b467">  589</a></span>&#160;    <a class="code" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a5550bec41fbf811a10b6e4675f38b467">F2FS_GET_BLOCK_PRE_AIO</a>,</div><div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a1e8fbf77d027ad1d8c459be62287437d">  590</a></span>&#160;    <a class="code" href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a1e8fbf77d027ad1d8c459be62287437d">F2FS_GET_BLOCK_PRECACHE</a>,</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;};</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment"> * i_advise uses FADVISE_XXX_BIT. We can add additional hints later.</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af58c698a708911817961cbdccda88a33">  596</a></span>&#160;<span class="preprocessor">#define FADVISE_COLD_BIT    0x01</span></div><div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5d9cfee5ce00ba1a0b629ae7caa304ce">  597</a></span>&#160;<span class="preprocessor">#define FADVISE_LOST_PINO_BIT   0x02</span></div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a96c1643c3facea7c440c230231ae8f65">  598</a></span>&#160;<span class="preprocessor">#define FADVISE_ENCRYPT_BIT 0x04</span></div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0c9186158419f390cc4920ec4c128fb8">  599</a></span>&#160;<span class="preprocessor">#define FADVISE_ENC_NAME_BIT    0x08</span></div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2f8eb05b721bc38c63270e1e9ba0f0f0">  600</a></span>&#160;<span class="preprocessor">#define FADVISE_KEEP_SIZE_BIT   0x10</span></div><div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2273b1090bcc387587bba3bca0aa70b5">  601</a></span>&#160;<span class="preprocessor">#define FADVISE_HOT_BIT     0x20</span></div><div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae0d48e22911f63d7aa82e7070fc90a7b">  602</a></span>&#160;<span class="preprocessor">#define FADVISE_VERITY_BIT  0x40    </span><span class="comment">/* reserved */</span><span class="preprocessor"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a549eb9524316af7b033079f1f6baf119">  604</a></span>&#160;<span class="preprocessor">#define file_is_cold(inode) is_file(inode, FADVISE_COLD_BIT)</span></div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2b9090939369d35934b3c95cb7bc9511">  605</a></span>&#160;<span class="preprocessor">#define file_wrong_pino(inode)  is_file(inode, FADVISE_LOST_PINO_BIT)</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae160e20c14331638d5ab63a5f17915a1">  606</a></span>&#160;<span class="preprocessor">#define file_set_cold(inode)    set_file(inode, FADVISE_COLD_BIT)</span></div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acdacfcf09002f0faff27fbe39e4533f9">  607</a></span>&#160;<span class="preprocessor">#define file_lost_pino(inode)   set_file(inode, FADVISE_LOST_PINO_BIT)</span></div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3c319e9081e518fa2df85ee103d737c1">  608</a></span>&#160;<span class="preprocessor">#define file_clear_cold(inode)  clear_file(inode, FADVISE_COLD_BIT)</span></div><div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab423b988b44f60f3247af02cc0f95516">  609</a></span>&#160;<span class="preprocessor">#define file_got_pino(inode)    clear_file(inode, FADVISE_LOST_PINO_BIT)</span></div><div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="f2fs_8h.html#afb7ce1d185397bd5768ebd313b74c412">  610</a></span>&#160;<span class="preprocessor">#define file_is_encrypt(inode)  is_file(inode, FADVISE_ENCRYPT_BIT)</span></div><div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acfdc38b539d81494c7d9056b10e4f789">  611</a></span>&#160;<span class="preprocessor">#define file_set_encrypt(inode) set_file(inode, FADVISE_ENCRYPT_BIT)</span></div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a93948a04ded2872eecb2c4806445b23c">  612</a></span>&#160;<span class="preprocessor">#define file_clear_encrypt(inode) clear_file(inode, FADVISE_ENCRYPT_BIT)</span></div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aca5db6b45f17f01c790a35f21e35a048">  613</a></span>&#160;<span class="preprocessor">#define file_enc_name(inode)    is_file(inode, FADVISE_ENC_NAME_BIT)</span></div><div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8c36ed5d38a78332a0f717db39d369a7">  614</a></span>&#160;<span class="preprocessor">#define file_set_enc_name(inode) set_file(inode, FADVISE_ENC_NAME_BIT)</span></div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="f2fs_8h.html#afb1be754a23443d0f2435576b6ca7cd5">  615</a></span>&#160;<span class="preprocessor">#define file_keep_isize(inode)  is_file(inode, FADVISE_KEEP_SIZE_BIT)</span></div><div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="f2fs_8h.html#affb9369753919a46650c4d314496d209">  616</a></span>&#160;<span class="preprocessor">#define file_set_keep_isize(inode) set_file(inode, FADVISE_KEEP_SIZE_BIT)</span></div><div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad06174bb57f82e7f1ae5d2fa932d2ad7">  617</a></span>&#160;<span class="preprocessor">#define file_is_hot(inode)  is_file(inode, FADVISE_HOT_BIT)</span></div><div class="line"><a name="l00618"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7001d98f254f5ca79aa03c3a0652467f">  618</a></span>&#160;<span class="preprocessor">#define file_set_hot(inode) set_file(inode, FADVISE_HOT_BIT)</span></div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0cb3e0aec2351fd918f4cc162542b692">  619</a></span>&#160;<span class="preprocessor">#define file_clear_hot(inode)   clear_file(inode, FADVISE_HOT_BIT)</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aab12d8e43d75c016089b07d33f0e9655">  621</a></span>&#160;<span class="preprocessor">#define DEF_DIR_LEVEL       0</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html">  623</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__inode__info.html">f2fs_inode_info</a> {</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#af30467db7f9cdd7b03d7890a1cba7042">  624</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> vfs_inode;     <span class="comment">/* serve a vfs inode */</span></div><div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a31d9a10baf81f875f2dd095282f1922b">  625</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structf2fs__inode__info.html#a31d9a10baf81f875f2dd095282f1922b">i_flags</a>;      <span class="comment">/* keep an inode flags for ioctl */</span></div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#ab20d62d1ee8473c4f3525319e506d6ff">  626</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structf2fs__inode__info.html#ab20d62d1ee8473c4f3525319e506d6ff">i_advise</a>;     <span class="comment">/* use to give file attribute hints */</span></div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a15af616f32fa3e54f3c3dc03b41df12a">  627</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structf2fs__inode__info.html#a15af616f32fa3e54f3c3dc03b41df12a">i_dir_level</a>;  <span class="comment">/* use for dentry level for large dir */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keyword">union </span>{</div><div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a375cdc4e8bb19b6bf0b84752dcea726f">  629</a></span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__inode__info.html#a375cdc4e8bb19b6bf0b84752dcea726f">i_current_depth</a>;   <span class="comment">/* only for directory depth */</span></div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a0cfb8fb5fbdb93aaecf700cdeff0e2c0">  630</a></span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structf2fs__inode__info.html#a0cfb8fb5fbdb93aaecf700cdeff0e2c0">i_gc_failures</a>;   <span class="comment">/* only for regular file */</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    };</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#aa3f555ff8063cd27b682f8a7ae7b1e87">  632</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__inode__info.html#aa3f555ff8063cd27b682f8a7ae7b1e87">i_pino</a>;        <span class="comment">/* parent inode number */</span></div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a60adc66e93314680e1698b66259a2485">  633</a></span>&#160;    umode_t <a class="code" href="structf2fs__inode__info.html#a60adc66e93314680e1698b66259a2485">i_acl_mode</a>;     <span class="comment">/* keep file acl mode temporarily */</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">/* Use below internally in f2fs*/</span></div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">  636</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>;        <span class="comment">/* use to pass per-file flags */</span></div><div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a28bdf524fba9dc7dd3b5a57101db098f">  637</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore i_sem;  <span class="comment">/* protect fi info */</span></div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a34e5cf93fce7751bb7a70b18e48882b1">  638</a></span>&#160;    atomic_t <a class="code" href="structf2fs__inode__info.html#a34e5cf93fce7751bb7a70b18e48882b1">dirty_pages</a>;       <span class="comment">/* # of dirty pages */</span></div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#acea025057d4a92314d2535b4311c4d5b">  639</a></span>&#160;    f2fs_hash_t <a class="code" href="structf2fs__inode__info.html#acea025057d4a92314d2535b4311c4d5b">chash</a>;      <span class="comment">/* hash value of given file name */</span></div><div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a173b2f77d5241a91b22583a667e97a60">  640</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__inode__info.html#a173b2f77d5241a91b22583a667e97a60">clevel</a>;        <span class="comment">/* maximum level of given file name */</span></div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a47871418baa14af5650694a5f1cbb407">  641</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structf2fs__inode__info.html#a47871418baa14af5650694a5f1cbb407">task</a>;   <span class="comment">/* lookup and create consistency */</span></div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a14b3161b03dda7de46cf8ef931c1cdf3">  642</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structf2fs__inode__info.html#a14b3161b03dda7de46cf8ef931c1cdf3">cp_task</a>;    <span class="comment">/* separate cp/wb IO stats*/</span></div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a727c604d96c40ef872eed3fc502f7f4a">  643</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structf2fs__inode__info.html#a727c604d96c40ef872eed3fc502f7f4a">i_xattr_nid</a>;      <span class="comment">/* node id that contains xattrs */</span></div><div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a9d40503ab6e50146a76bd02988ee88ff">  644</a></span>&#160;    loff_t  <a class="code" href="structf2fs__inode__info.html#a9d40503ab6e50146a76bd02988ee88ff">last_disk_size</a>;     <span class="comment">/* lastly written file size */</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="preprocessor">#ifdef CONFIG_QUOTA</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keyword">struct </span>dquot *<a class="code" href="dquot_8c.html#a78a0deba7a34cea1fc4576102f98db4f">i_dquot</a>[MAXQUOTAS];</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">/* quota space reservation, managed internally by quota code */</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    qsize_t i_reserved_quota;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a76c048cded90e9403d84ce12f5064d96">  652</a></span>&#160;    <span class="keyword">struct </span>list_head dirty_list;    <span class="comment">/* dirty list for dirs and files */</span></div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a7005883e58a37b46dcd92318a3dfebb8">  653</a></span>&#160;    <span class="keyword">struct </span>list_head gdirty_list;   <span class="comment">/* linked in global dirty list */</span></div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a0d1d457945ecec0ba5d1e53f02da9ed1">  654</a></span>&#160;    <span class="keyword">struct </span>list_head inmem_ilist;   <span class="comment">/* list for inmem inodes */</span></div><div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#ad82b324654789a6482544e74f7420750">  655</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="structinmem__pages.html">inmem_pages</a>;   <span class="comment">/* inmemory pages managed by f2fs */</span></div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a89a318ce78898dc561763e88ddda11c2">  656</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structf2fs__inode__info.html#a89a318ce78898dc561763e88ddda11c2">inmem_task</a>; <span class="comment">/* store inmemory task */</span></div><div class="line"><a name="l00657"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#ac0a6179c992b22610390a8fd443b33f4">  657</a></span>&#160;    <span class="keyword">struct </span>mutex inmem_lock;    <span class="comment">/* lock for inmemory pages */</span></div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a9428c61c115605f70b4bba62fb6ca9de">  658</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structextent__tree.html">extent_tree</a> *<a class="code" href="structf2fs__inode__info.html#a9428c61c115605f70b4bba62fb6ca9de">extent_tree</a>;    <span class="comment">/* cached extent_tree entry */</span></div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a53057bcd51b86c29fa26711ab4ec3044">  659</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore dio_rwsem[2];<span class="comment">/* avoid racing between dio and gc */</span></div><div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#aea73456c23fd91a7742d8865ada76cc4">  660</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore i_mmap_sem;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a2022cad73a6521eaef4c7826e44a341e">  661</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore i_xattr_sem; <span class="comment">/* avoid racing between reading and changing EAs */</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#af56dec5e4b903ad9d8cfa9718e1dc984">  663</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__inode__info.html#af56dec5e4b903ad9d8cfa9718e1dc984">i_extra_isize</a>;      <span class="comment">/* size of extra space located in i_addr */</span></div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a8b136d9defea52098816860fc760f158">  664</a></span>&#160;    kprojid_t <a class="code" href="structf2fs__inode__info.html#a8b136d9defea52098816860fc760f158">i_projid</a>;     <span class="comment">/* id for project quota */</span></div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a6348fac90e115ca34e122fc0d0704c26">  665</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__inode__info.html#a6348fac90e115ca34e122fc0d0704c26">i_inline_xattr_size</a>;    <span class="comment">/* inline xattr size */</span></div><div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a81d4ecef00b155caf37c93c1d926c295">  666</a></span>&#160;    <span class="keyword">struct </span>timespec i_crtime;   <span class="comment">/* inode creation time */</span></div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="structf2fs__inode__info.html#a6fc73c455e2baf3bd6ff18d6dc1d392f">  667</a></span>&#160;    <span class="keyword">struct </span>timespec i_disk_time[4]; <span class="comment">/* inode disk times */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;};</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a78c75d3e3e1193b36f392197f560da78">  670</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a78c75d3e3e1193b36f392197f560da78">get_extent_info</a>(<span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *ext,</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    <span class="keyword">struct</span> f2fs_extent *i_ext)</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    ext-&gt;<a class="code" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">fofs</a> = le32_to_cpu(i_ext-&gt;fofs);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    ext-&gt;<a class="code" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">blk</a> = le32_to_cpu(i_ext-&gt;blk);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    ext-&gt;<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a> = le32_to_cpu(i_ext-&gt;len);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a69b8f6322fe6e0f7a53e05669e0ae49a">  678</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a69b8f6322fe6e0f7a53e05669e0ae49a">set_raw_extent</a>(<span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *ext,</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                    <span class="keyword">struct</span> f2fs_extent *i_ext)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;{</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    i_ext-&gt;fofs = cpu_to_le32(ext-&gt;<a class="code" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">fofs</a>);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    i_ext-&gt;blk = cpu_to_le32(ext-&gt;<a class="code" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">blk</a>);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    i_ext-&gt;len = cpu_to_le32(ext-&gt;<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a843e361df4da264f86f6db47d2f4acea">  686</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a843e361df4da264f86f6db47d2f4acea">set_extent_info</a>(<span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *ei, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fofs,</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        u32 blk, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>)</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;{</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    ei-&gt;<a class="code" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">fofs</a> = fofs;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    ei-&gt;<a class="code" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">blk</a> = blk;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    ei-&gt;<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a> = <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6787a5546891c0680c2ef6609c5a66a2">  694</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a6787a5546891c0680c2ef6609c5a66a2">__is_discard_mergeable</a>(<span class="keyword">struct</span> <a class="code" href="structdiscard__info.html">discard_info</a> *back,</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structdiscard__info.html">discard_info</a> *front)</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;{</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">return</span> back-&gt;<a class="code" href="structdiscard__info.html#a41c5b650cce266066ab315a7e523a491">lstart</a> + back-&gt;<a class="code" href="structdiscard__info.html#a127f8e0e42298e12c5885e4cc87264f0">len</a> == front-&gt;<a class="code" href="structdiscard__info.html#a41c5b650cce266066ab315a7e523a491">lstart</a>;</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a23c5c1268e4fd4bad5c9f5fb5346feec">  700</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a23c5c1268e4fd4bad5c9f5fb5346feec">__is_discard_back_mergeable</a>(<span class="keyword">struct</span> <a class="code" href="structdiscard__info.html">discard_info</a> *cur,</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structdiscard__info.html">discard_info</a> *back)</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;{</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a6787a5546891c0680c2ef6609c5a66a2">__is_discard_mergeable</a>(back, cur);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a97f52f690b9e24fe918bab5c05c0ce0d">  706</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a97f52f690b9e24fe918bab5c05c0ce0d">__is_discard_front_mergeable</a>(<span class="keyword">struct</span> <a class="code" href="structdiscard__info.html">discard_info</a> *cur,</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structdiscard__info.html">discard_info</a> *front)</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a6787a5546891c0680c2ef6609c5a66a2">__is_discard_mergeable</a>(cur, front);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a79f3449fbe28000b7c7175c69394355d">  712</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a79f3449fbe28000b7c7175c69394355d">__is_extent_mergeable</a>(<span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *back,</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *front)</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> (back-&gt;<a class="code" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">fofs</a> + back-&gt;<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a> == front-&gt;<a class="code" href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">fofs</a> &amp;&amp;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            back-&gt;<a class="code" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">blk</a> + back-&gt;<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a> == front-&gt;<a class="code" href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">blk</a>);</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad86f292f3c5afc397a113b5ef660f96f">  719</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ad86f292f3c5afc397a113b5ef660f96f">__is_back_mergeable</a>(<span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *cur,</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *back)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a79f3449fbe28000b7c7175c69394355d">__is_extent_mergeable</a>(back, cur);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab773234c2145985622656547fcb8a397">  725</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ab773234c2145985622656547fcb8a397">__is_front_mergeable</a>(<span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *cur,</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        <span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *front)</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;{</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a79f3449fbe28000b7c7175c69394355d">__is_extent_mergeable</a>(cur, front);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>, <span class="keywordtype">bool</span> sync);</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5db361da7f1bc2d00781b328a81ac937">  732</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a5db361da7f1bc2d00781b328a81ac937">__try_update_largest_extent</a>(<span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="keyword">struct</span> <a class="code" href="structextent__tree.html">extent_tree</a> *et, <span class="keyword">struct</span> <a class="code" href="structextent__node.html">extent_node</a> *en)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;{</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">if</span> (en-&gt;<a class="code" href="structextent__node.html#af466405f58ac0fd19becd114c6ee0426">ei</a>.<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a> &gt; et-&gt;<a class="code" href="structextent__tree.html#a025a4a57e623711730c7cb0702552de9">largest</a>.<a class="code" href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">len</a>) {</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        et-&gt;<a class="code" href="structextent__tree.html#a025a4a57e623711730c7cb0702552de9">largest</a> = en-&gt;<a class="code" href="structextent__node.html#af466405f58ac0fd19becd114c6ee0426">ei</a>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;}</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"> * For free nid management</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbd">  744</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbd">nid_state</a> {</div><div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbda36cf132dc4befa1c8aea6565263a0c5c">  745</a></span>&#160;    <a class="code" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbda36cf132dc4befa1c8aea6565263a0c5c">FREE_NID</a>,       <span class="comment">/* newly added to free nid list */</span></div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbda4f967d24df4ffda92e2fbfb2265ec7eb">  746</a></span>&#160;    <a class="code" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbda4f967d24df4ffda92e2fbfb2265ec7eb">PREALLOC_NID</a>,       <span class="comment">/* it is preallocated */</span></div><div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbdac1432da8908b3252215d187639cdcb8b">  747</a></span>&#160;    <a class="code" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbdac1432da8908b3252215d187639cdcb8b">MAX_NID_STATE</a>,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;};</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html">  750</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__nm__info.html">f2fs_nm_info</a> {</div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#aa07df19a7390b6270d60e5ef6d96f1f0">  751</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__nm__info.html#aa07df19a7390b6270d60e5ef6d96f1f0">nat_blkaddr</a>;        <span class="comment">/* base disk address of NAT */</span></div><div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a9adc45be3507ede95cb1d49345645974">  752</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structf2fs__nm__info.html#a9adc45be3507ede95cb1d49345645974">max_nid</a>;          <span class="comment">/* maximum possible node ids */</span></div><div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#adcef8ffde28b776e450bcd68b1404a8c">  753</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structf2fs__nm__info.html#adcef8ffde28b776e450bcd68b1404a8c">available_nids</a>;       <span class="comment">/* # of available node ids */</span></div><div class="line"><a name="l00754"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a4e0f7ee07db3bfd3da11df7a4fe00faa">  754</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structf2fs__nm__info.html#a4e0f7ee07db3bfd3da11df7a4fe00faa">next_scan_nid</a>;        <span class="comment">/* the next nid to be scanned */</span></div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#ad81648649090c18ae64f12284bb5d6b2">  755</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#ad81648649090c18ae64f12284bb5d6b2">ram_thresh</a>;    <span class="comment">/* control the memory footprint */</span></div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#ab5068a74c7dbcb8afbc5ce7f6f70cff6">  756</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#ab5068a74c7dbcb8afbc5ce7f6f70cff6">ra_nid_pages</a>;  <span class="comment">/* # of nid pages to be readaheaded */</span></div><div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#ac45555c0b5278c8777562654395394cd">  757</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#ac45555c0b5278c8777562654395394cd">dirty_nats_ratio</a>;  <span class="comment">/* control dirty nats ratio threshold */</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">/* NAT cache management */</span></div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a3e83e5fcbc6999e0ffe21a487dde8cf6">  760</a></span>&#160;    <span class="keyword">struct </span>radix_tree_root nat_root;<span class="comment">/* root of the nat entry cache */</span></div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#ad0634f46253d80338b9d475e0e024775">  761</a></span>&#160;    <span class="keyword">struct </span>radix_tree_root nat_set_root;<span class="comment">/* root of the nat set cache */</span></div><div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#ad3ef53e41a5f9e581f5368d728805d56">  762</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore nat_tree_lock;  <span class="comment">/* protect nat_tree_lock */</span></div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a9d22d7396cda65ada9a2ae9c7ac7d80e">  763</a></span>&#160;    <span class="keyword">struct </span>list_head nat_entries;   <span class="comment">/* cached nat entry list (clean) */</span></div><div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a8bc4586dbb5dbf6d3b21cdb984b35ba5">  764</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#a8bc4586dbb5dbf6d3b21cdb984b35ba5">nat_cnt</a>;       <span class="comment">/* the # of cached nat entries */</span></div><div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a801cf7a1a0695524351a52e8d025e6cf">  765</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#a801cf7a1a0695524351a52e8d025e6cf">dirty_nat_cnt</a>; <span class="comment">/* total num of nat entries in set */</span></div><div class="line"><a name="l00766"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#ad967c3a0a5bdd8a63ead419792d99307">  766</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#ad967c3a0a5bdd8a63ead419792d99307">nat_blocks</a>;    <span class="comment">/* # of nat blocks */</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">/* free node ids management */</span></div><div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a602b50e8cdf0515e3e93ff246cff26d8">  769</a></span>&#160;    <span class="keyword">struct </span>radix_tree_root free_nid_root;<span class="comment">/* root of the free_nid cache */</span></div><div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a737a5a11e1102de9c14c706103d4dfa5">  770</a></span>&#160;    <span class="keyword">struct </span>list_head free_nid_list;     <span class="comment">/* list for free nids excluding preallocated nids */</span></div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a8a707015844630b11eff4446c38530cd">  771</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nid_cnt[<a class="code" href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbdac1432da8908b3252215d187639cdcb8b">MAX_NID_STATE</a>];    <span class="comment">/* the number of free node id */</span></div><div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a8988437b331ccbf0cbeb24ff0e38ac12">  772</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__nm__info.html#a8988437b331ccbf0cbeb24ff0e38ac12">nid_list_lock</a>;   <span class="comment">/* protect nid lists ops */</span></div><div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#adca391f95a85d98957cbc12d3ff37ffb">  773</a></span>&#160;    <span class="keyword">struct </span>mutex build_lock;    <span class="comment">/* lock for build free nids */</span></div><div class="line"><a name="l00774"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a4555a0cddc3bf8ff25d0f4c9e1a77a54">  774</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **<a class="code" href="structf2fs__nm__info.html#a4555a0cddc3bf8ff25d0f4c9e1a77a54">free_nid_bitmap</a>;</div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a014072dbc44f8a052fd36feb5f96c557">  775</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structf2fs__nm__info.html#a014072dbc44f8a052fd36feb5f96c557">nat_block_bitmap</a>;</div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a92b62d0be8167789f0a9254db2929fea">  776</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> *<a class="code" href="structf2fs__nm__info.html#a92b62d0be8167789f0a9254db2929fea">free_nid_count</a>; <span class="comment">/* free nid count of NAT block */</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">/* for checkpoint */</span></div><div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a1cfd110c7bcc841d6c3aeff796c00de0">  779</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structf2fs__nm__info.html#a1cfd110c7bcc841d6c3aeff796c00de0">nat_bitmap</a>;       <span class="comment">/* NAT bitmap pointer */</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a75706d4210640206905dc10028b1b69c">  781</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#a75706d4210640206905dc10028b1b69c">nat_bits_blocks</a>;   <span class="comment">/* # of nat bits blocks */</span></div><div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#af11c9a6b4214dbcd3e649d2cfedd144d">  782</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structf2fs__nm__info.html#af11c9a6b4214dbcd3e649d2cfedd144d">nat_bits</a>;    <span class="comment">/* NAT bits blocks */</span></div><div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a145fd4879c481d7ecda4599bbd689fc4">  783</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structf2fs__nm__info.html#a145fd4879c481d7ecda4599bbd689fc4">full_nat_bits</a>;   <span class="comment">/* full NAT pages */</span></div><div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#adfd8f17ebc513008a50ebe30291422d8">  784</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="structf2fs__nm__info.html#adfd8f17ebc513008a50ebe30291422d8">empty_nat_bits</a>;  <span class="comment">/* empty NAT pages */</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_CHECK_FS</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordtype">char</span> *nat_bitmap_mir;       <span class="comment">/* NAT bitmap mirror */</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="structf2fs__nm__info.html#a83ab66f9a1870a6a4ebb9a280ea96208">  788</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__nm__info.html#a83ab66f9a1870a6a4ebb9a280ea96208">bitmap_size</a>;        <span class="comment">/* bitmap size */</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;};</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment"> * this structure is used as one of function parameters.</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> * all the information are dedicated to a given direct node block determined</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> * by the data offset in a file.</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="structdnode__of__data.html">  796</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdnode__of__data.html">dnode_of_data</a> {</div><div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a34914a51a57dbc52d3888ee225dbca6f">  797</a></span>&#160;    <span class="keyword">struct </span>inode *<a class="code" href="structdnode__of__data.html#a34914a51a57dbc52d3888ee225dbca6f">inode</a>;        <span class="comment">/* vfs inode pointer */</span></div><div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">  798</a></span>&#160;    <span class="keyword">struct </span>page *<a class="code" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">inode_page</a>;    <span class="comment">/* its inode page, NULL is possible */</span></div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">  799</a></span>&#160;    <span class="keyword">struct </span>page *<a class="code" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">node_page</a>;     <span class="comment">/* cached direct node page */</span></div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#af0d2c9988a80e1adaaca46ac18a7ff66">  800</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structdnode__of__data.html#af0d2c9988a80e1adaaca46ac18a7ff66">nid</a>;          <span class="comment">/* node id of the direct node block */</span></div><div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a9bd071a524daad2c02abed8da43fce85">  801</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdnode__of__data.html#a9bd071a524daad2c02abed8da43fce85">ofs_in_node</a>;   <span class="comment">/* data offset in the node page */</span></div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a36abd92165f673f7caaa27054a41c9f5">  802</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structdnode__of__data.html#a36abd92165f673f7caaa27054a41c9f5">inode_page_locked</a>;     <span class="comment">/* inode page is locked or not */</span></div><div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a22f2724de38d4d420ee038a103dec2aa">  803</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structdnode__of__data.html#a22f2724de38d4d420ee038a103dec2aa">node_changed</a>;      <span class="comment">/* is node block changed */</span></div><div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#ae2370283a61fbc06f74b8e905bf49e5c">  804</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="structdnode__of__data.html#ae2370283a61fbc06f74b8e905bf49e5c">cur_level</a>;         <span class="comment">/* level of hole node page */</span></div><div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a7b991e19574d66e8fab6b87995af83ca">  805</a></span>&#160;    <span class="keywordtype">char</span> <a class="code" href="structdnode__of__data.html#a7b991e19574d66e8fab6b87995af83ca">max_level</a>;         <span class="comment">/* level of current page located */</span></div><div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="structdnode__of__data.html#a7583b5f7ebd887dce310978e02705623">  806</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structdnode__of__data.html#a7583b5f7ebd887dce310978e02705623">data_blkaddr</a>;       <span class="comment">/* block address of the node block */</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;};</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aefe00cdc8bfc9d5a5aa99efed5a606d0">  809</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aefe00cdc8bfc9d5a5aa99efed5a606d0">set_new_dnode</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, <span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keyword">struct</span> page *ipage, <span class="keyword">struct</span> page *npage, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid)</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    memset(dn, 0, <span class="keyword">sizeof</span>(*dn));</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    dn-&gt;<a class="code" href="structdnode__of__data.html#a34914a51a57dbc52d3888ee225dbca6f">inode</a> = <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    dn-&gt;<a class="code" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">inode_page</a> = ipage;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    dn-&gt;<a class="code" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">node_page</a> = npage;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    dn-&gt;<a class="code" href="structdnode__of__data.html#af0d2c9988a80e1adaaca46ac18a7ff66">nid</a> = nid;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;}</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"> * For SIT manager</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment"> * By default, there are 6 active log areas across the whole main area.</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment"> * When considering hot and cold data separation to reduce cleaning overhead,</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment"> * we split 3 for data logs and 3 for node logs as hot, warm, and cold types,</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"> * respectively.</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"> * In the current design, you should not change the numbers intentionally.</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"> * Instead, as a mount option such as active_logs=x, you can use 2, 4, and 6</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment"> * logs individually according to the underlying devices. (default: 6)</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"> * Just in case, on-disk layout covers maximum 16 logs that consist of 8 for</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment"> * data and 8 for node logs.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8412fe167c642a148ac7be47226dfe97">  832</a></span>&#160;<span class="preprocessor">#define NR_CURSEG_DATA_TYPE (3)</span></div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6e75367dfa9343474bb25fe9b85380ff">  833</a></span>&#160;<span class="preprocessor">#define NR_CURSEG_NODE_TYPE (3)</span></div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a104fe17e1d9f64925b8fb4e67360a2d6">  834</a></span>&#160;<span class="preprocessor">#define NR_CURSEG_TYPE  (NR_CURSEG_DATA_TYPE + NR_CURSEG_NODE_TYPE)</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa65572f623b9279e639abe6f222c9aabd">  837</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa65572f623b9279e639abe6f222c9aabd">CURSEG_HOT_DATA</a> = 0,    <span class="comment">/* directory entry blocks */</span></div><div class="line"><a name="l00838"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa6973656f3627ddcef1a84685352215a8">  838</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa6973656f3627ddcef1a84685352215a8">CURSEG_WARM_DATA</a>,   <span class="comment">/* data blocks */</span></div><div class="line"><a name="l00839"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa15a323449c1071670817cb465839f962">  839</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa15a323449c1071670817cb465839f962">CURSEG_COLD_DATA</a>,   <span class="comment">/* multimedia or GCed data blocks */</span></div><div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa2b49dac0f24ee3a96aea3109418d84df">  840</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa2b49dac0f24ee3a96aea3109418d84df">CURSEG_HOT_NODE</a>,    <span class="comment">/* direct node blocks of directory files */</span></div><div class="line"><a name="l00841"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa026fccc0a6cc3ba5c87b84dc684e231b">  841</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa026fccc0a6cc3ba5c87b84dc684e231b">CURSEG_WARM_NODE</a>,   <span class="comment">/* direct node blocks of normal files */</span></div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fae5f5f00a61d59b3dbeaafce9aa774357">  842</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fae5f5f00a61d59b3dbeaafce9aa774357">CURSEG_COLD_NODE</a>,   <span class="comment">/* indirect node blocks */</span></div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa65ef61dc8647dd5d5c427a27dde6525b">  843</a></span>&#160;    <a class="code" href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa65ef61dc8647dd5d5c427a27dde6525b">NO_CHECK_TYPE</a>,</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;};</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="structflush__cmd.html">  846</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflush__cmd.html">flush_cmd</a> {</div><div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="structflush__cmd.html#a53bf60280629d33ce69b5bbff2655ce1">  847</a></span>&#160;    <span class="keyword">struct </span>completion wait;</div><div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="structflush__cmd.html#aec754ad05032d175755e02fc2ff5542a">  848</a></span>&#160;    <span class="keyword">struct </span>llist_node llnode;</div><div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="structflush__cmd.html#a6ba79a35461476b9201370c46a10116e">  849</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structflush__cmd.html#a6ba79a35461476b9201370c46a10116e">ino</a>;</div><div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="structflush__cmd.html#a94867cea3edc229b96080b3b1f0df904">  850</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structflush__cmd.html#a94867cea3edc229b96080b3b1f0df904">ret</a>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;};</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html">  853</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflush__cmd__control.html">flush_cmd_control</a> {</div><div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html#a0627215cc09a4c4af1ccfca80a74b808">  854</a></span>&#160;    <span class="keyword">struct </span>task_struct *<a class="code" href="structflush__cmd__control.html#a0627215cc09a4c4af1ccfca80a74b808">f2fs_issue_flush</a>;   <span class="comment">/* flush thread */</span></div><div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html#a670ebdabbbc5264d9c3d4df257cbbf0d">  855</a></span>&#160;    wait_queue_head_t <a class="code" href="structflush__cmd__control.html#a670ebdabbbc5264d9c3d4df257cbbf0d">flush_wait_queue</a>; <span class="comment">/* waiting queue for wake-up */</span></div><div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html#adaa4b3543f16225ada706565bed47162">  856</a></span>&#160;    atomic_t <a class="code" href="structflush__cmd__control.html#adaa4b3543f16225ada706565bed47162">issued_flush</a>;          <span class="comment">/* # of issued flushes */</span></div><div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html#a5ccaa91a5d4e59da226cc8badf48116e">  857</a></span>&#160;    atomic_t <a class="code" href="structflush__cmd__control.html#a5ccaa91a5d4e59da226cc8badf48116e">issing_flush</a>;          <span class="comment">/* # of issing flushes */</span></div><div class="line"><a name="l00858"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html#ac9d2f4bddc59cddee9d11e2f47062770">  858</a></span>&#160;    <span class="keyword">struct </span>llist_head issue_list;       <span class="comment">/* list for command issue */</span></div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="structflush__cmd__control.html#aaff05a0aae4df0f441961d691bf2c538">  859</a></span>&#160;    <span class="keyword">struct </span>llist_node *<a class="code" href="structflush__cmd__control.html#aaff05a0aae4df0f441961d691bf2c538">dispatch_list</a>;   <span class="comment">/* list for command dispatch */</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;};</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html">  862</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__sm__info.html">f2fs_sm_info</a> {</div><div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ac69ef6c62d2d6a9ac474e8dca9d9188b">  863</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsit__info.html">sit_info</a> *<a class="code" href="structf2fs__sm__info.html#ac69ef6c62d2d6a9ac474e8dca9d9188b">sit_info</a>;      <span class="comment">/* whole segment information */</span></div><div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a08f5033b7a40da9ad1d0fce3f1a013e4">  864</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structfree__segmap__info.html">free_segmap_info</a> *<a class="code" href="structf2fs__sm__info.html#a08f5033b7a40da9ad1d0fce3f1a013e4">free_info</a>; <span class="comment">/* free segment information */</span></div><div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ac3346a7625b658b51b8b9dc4b2fa572d">  865</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdirty__seglist__info.html">dirty_seglist_info</a> *<a class="code" href="structf2fs__sm__info.html#ac3346a7625b658b51b8b9dc4b2fa572d">dirty_info</a>;  <span class="comment">/* dirty segment information */</span></div><div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#adc4947c9f57c361d180a67891d5153df">  866</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structcurseg__info.html">curseg_info</a> *<a class="code" href="structf2fs__sm__info.html#adc4947c9f57c361d180a67891d5153df">curseg_array</a>;   <span class="comment">/* active segment information */</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ad8c57ae15ae2839abe4e1230cd0df7ea">  868</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore curseg_lock;    <span class="comment">/* for preventing curseg change */</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a782b4bdb9fc4f5b31711ab592b81f729">  870</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sm__info.html#a782b4bdb9fc4f5b31711ab592b81f729">seg0_blkaddr</a>;       <span class="comment">/* block address of 0&#39;th segment */</span></div><div class="line"><a name="l00871"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a6769f4a47a2e4cbf39043a94aed69a1c">  871</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sm__info.html#a6769f4a47a2e4cbf39043a94aed69a1c">main_blkaddr</a>;       <span class="comment">/* start block address of main area */</span></div><div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a2fb2a7989ab9575d601f5418d595b98d">  872</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sm__info.html#a2fb2a7989ab9575d601f5418d595b98d">ssa_blkaddr</a>;        <span class="comment">/* start block address of SSA area */</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div><div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a3aea491f285464dc0012ed594571c9fc">  874</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#a3aea491f285464dc0012ed594571c9fc">segment_count</a>; <span class="comment">/* total # of segments */</span></div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ae7a52ff1db95cc97ca695bbd31b5bb27">  875</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#ae7a52ff1db95cc97ca695bbd31b5bb27">main_segments</a>; <span class="comment">/* # of segments in main area */</span></div><div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ab0e677bd205babb01af59a921a594d6b">  876</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#ab0e677bd205babb01af59a921a594d6b">reserved_segments</a>; <span class="comment">/* # of reserved segments */</span></div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a784519d5665f92f02144f97192299226">  877</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#a784519d5665f92f02144f97192299226">ovp_segments</a>;  <span class="comment">/* # of overprovision segments */</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">/* a threshold to reclaim prefree segments */</span></div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a12a02e22831200c3c38de2d98572f399">  880</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#a12a02e22831200c3c38de2d98572f399">rec_prefree_segments</a>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="comment">/* for batched trimming */</span></div><div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ad8f11ff5f1a28db945381cc383a363b5">  883</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#ad8f11ff5f1a28db945381cc383a363b5">trim_sections</a>;     <span class="comment">/* # of sections to trim */</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a50d8d4f89c73725c7ccf2e18ddf7308b">  885</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="structsit__entry__set.html">sit_entry_set</a>; <span class="comment">/* sit entry set list */</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a89e0e4d4fecc561f50cb92ac5f836b21">  887</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#a89e0e4d4fecc561f50cb92ac5f836b21">ipu_policy</a>;    <span class="comment">/* in-place-update policy */</span></div><div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#aff8f4b9faebb2c308356a12a5a81ac2a">  888</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#aff8f4b9faebb2c308356a12a5a81ac2a">min_ipu_util</a>;  <span class="comment">/* in-place-update threshold */</span></div><div class="line"><a name="l00889"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ac4e903ddf175287ea6ef3ac9a9a698fa">  889</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#ac4e903ddf175287ea6ef3ac9a9a698fa">min_fsync_blocks</a>;  <span class="comment">/* threshold for fsync */</span></div><div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#ad2802effa6e9575fe709639e7578afe5">  890</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#ad2802effa6e9575fe709639e7578afe5">min_hot_blocks</a>;    <span class="comment">/* threshold for hot block allocation */</span></div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a1f2d7d7a4287724aa877bf82db43c95f">  891</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sm__info.html#a1f2d7d7a4287724aa877bf82db43c95f">min_ssr_sections</a>;  <span class="comment">/* threshold to trigger SSR allocation */</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="comment">/* for flush command control */</span></div><div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#aa6daefef271f8023185319d398526a69">  894</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structflush__cmd__control.html">flush_cmd_control</a> *<a class="code" href="structf2fs__sm__info.html#aa6daefef271f8023185319d398526a69">fcc_info</a>;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">/* for discard command control */</span></div><div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="structf2fs__sm__info.html#a805a79d2b9456743fae8bc406b6adca0">  897</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structdiscard__cmd__control.html">discard_cmd_control</a> *<a class="code" href="structf2fs__sm__info.html#a805a79d2b9456743fae8bc406b6adca0">dcc_info</a>;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;};</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment"> * For superblock</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment"> * COUNT_TYPE for monitoring</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"> * f2fs monitors the number of several block types such as on-writeback,</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"> * dirty dentry blocks, dirty node blocks, and dirty meta blocks.</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2dc86170435bbe67e5e3953aba8e49fc">  909</a></span>&#160;<span class="preprocessor">#define WB_DATA_TYPE(p) (__is_cp_guaranteed(p) ? F2FS_WB_CP_DATA : F2FS_WB_DATA)</span></div><div class="line"><a name="l00910"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424">  910</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424">count_type</a> {</div><div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a13978bcafefc9b54a05300116e864131">  911</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a13978bcafefc9b54a05300116e864131">F2FS_DIRTY_DENTS</a>,</div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7">  912</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7">F2FS_DIRTY_DATA</a>,</div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424af544ae3d21587331fcbb2ce6662d6dac">  913</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424af544ae3d21587331fcbb2ce6662d6dac">F2FS_DIRTY_QDATA</a>,</div><div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a148251429296e93142e91a0fa0f2145b">  914</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a148251429296e93142e91a0fa0f2145b">F2FS_DIRTY_NODES</a>,</div><div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a4faa7c7c2e4c4801dbd2772b4e2acfd7">  915</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a4faa7c7c2e4c4801dbd2772b4e2acfd7">F2FS_DIRTY_META</a>,</div><div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a14845b372dd7f7efe0e9bcbfe7071c3a">  916</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a14845b372dd7f7efe0e9bcbfe7071c3a">F2FS_INMEM_PAGES</a>,</div><div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a72c57d9eb5093588e3329b1f7a6f6a62">  917</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a72c57d9eb5093588e3329b1f7a6f6a62">F2FS_DIRTY_IMETA</a>,</div><div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424ad73634dfa4a03df6fd0f53cadea41fae">  918</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424ad73634dfa4a03df6fd0f53cadea41fae">F2FS_WB_CP_DATA</a>,</div><div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a1f6d4048b428c4262cc47145c401692d">  919</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a1f6d4048b428c4262cc47145c401692d">F2FS_WB_DATA</a>,</div><div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a0a1e68a3a212bb2d1859ad1de84981f1">  920</a></span>&#160;    <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a0a1e68a3a212bb2d1859ad1de84981f1">NR_COUNT_TYPE</a>,</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;};</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment"> * The below are the page types of bios used in submit_bio().</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment"> * The available types are:</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment"> * DATA         User data pages. It operates as async mode.</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment"> * NODE         Node pages. It operates as async mode.</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment"> * META         FS metadata pages such as SIT, NAT, CP.</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment"> * NR_PAGE_TYPE     The number of page types.</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment"> * META_FLUSH       Make sure the previous pages are written</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment"> *          with waiting the bio&#39;s completion</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment"> * ...          Only can be used with META.</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af45b4ecc0562cd780d8eb138d4165e29">  934</a></span>&#160;<span class="preprocessor">#define PAGE_TYPE_OF_BIO(type)  ((type) &gt; META ? META : (type))</span></div><div class="line"><a name="l00935"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">  935</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> {</div><div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a9d7d6f31868d66330397c967c4afd2d2">  936</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a9d7d6f31868d66330397c967c4afd2d2">DATA</a>,</div><div class="line"><a name="l00937"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a59a889456a2d742fdca191dccb3e871d">  937</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a59a889456a2d742fdca191dccb3e871d">NODE</a>,</div><div class="line"><a name="l00938"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a8a9f2c14b017fe4aa2428e5d7f7e54d1">  938</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a8a9f2c14b017fe4aa2428e5d7f7e54d1">META</a>,</div><div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a75732d7d8f393121e917ca88d1aae408">  939</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a75732d7d8f393121e917ca88d1aae408">NR_PAGE_TYPE</a>,</div><div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a6273ce4cdba748f73d9e6e1661ba502c">  940</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a6273ce4cdba748f73d9e6e1661ba502c">META_FLUSH</a>,</div><div class="line"><a name="l00941"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6ad433c8230214ae48f0d9d1587568e8e7">  941</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6ad433c8230214ae48f0d9d1587568e8e7">INMEM</a>,      <span class="comment">/* the below types are used by tracepoints only. */</span></div><div class="line"><a name="l00942"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a33e88457632b01fa10f7837486336f00">  942</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a33e88457632b01fa10f7837486336f00">INMEM_DROP</a>,</div><div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a25fe04fa230ce2ea1b92c6b32cad5c5c">  943</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a25fe04fa230ce2ea1b92c6b32cad5c5c">INMEM_INVALIDATE</a>,</div><div class="line"><a name="l00944"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a7cebb856de8e4cb97466d7566f9f421a">  944</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a7cebb856de8e4cb97466d7566f9f421a">INMEM_REVOKE</a>,</div><div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6af57bec1fe7a71419be46e444cb4d3a6c">  945</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6af57bec1fe7a71419be46e444cb4d3a6c">IPU</a>,</div><div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6ab3df28a32d11a8c8db7e1f56970e2990">  946</a></span>&#160;    <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6ab3df28a32d11a8c8db7e1f56970e2990">OPU</a>,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;};</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71da">  949</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71da">temp_type</a> {</div><div class="line"><a name="l00950"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daa5b2eed487adc23f794cf34d514dc804f">  950</a></span>&#160;    <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daa5b2eed487adc23f794cf34d514dc804f">HOT</a> = 0,    <span class="comment">/* must be zero for meta bio */</span></div><div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daad3ba9823ef2b08b784b7997b39374f42">  951</a></span>&#160;    <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daad3ba9823ef2b08b784b7997b39374f42">WARM</a>,</div><div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daa2c896812ac6d7506f6ef0f8ad8773fdd">  952</a></span>&#160;    <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daa2c896812ac6d7506f6ef0f8ad8773fdd">COLD</a>,</div><div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daaff9d699b9a6d333c520831fd945a3702">  953</a></span>&#160;    <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daaff9d699b9a6d333c520831fd945a3702">NR_TEMP_TYPE</a>,</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;};</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351">  956</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351">need_lock_type</a> {</div><div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351af3c89323f68af21fdaf13194dde15b22">  957</a></span>&#160;    <a class="code" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351af3c89323f68af21fdaf13194dde15b22">LOCK_REQ</a> = 0,</div><div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351a6b6d3fca1fc11eb8dd155a435fcab596">  958</a></span>&#160;    <a class="code" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351a6b6d3fca1fc11eb8dd155a435fcab596">LOCK_DONE</a>,</div><div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351a1f809ea8cb2e7f0faf4e1e1a3f5c72ce">  959</a></span>&#160;    <a class="code" href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351a1f809ea8cb2e7f0faf4e1e1a3f5c72ce">LOCK_RETRY</a>,</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;};</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197">  962</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197">cp_reason_type</a> {</div><div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a57a02d96219204312e8a8278d7955fe4">  963</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a57a02d96219204312e8a8278d7955fe4">CP_NO_NEEDED</a>,</div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197ae972a6a8d117c2ddee0024a4a57a221d">  964</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197ae972a6a8d117c2ddee0024a4a57a221d">CP_NON_REGULAR</a>,</div><div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a13c3889a26c2e845e65ef90407b01682">  965</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a13c3889a26c2e845e65ef90407b01682">CP_HARDLINK</a>,</div><div class="line"><a name="l00966"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a0400429c02b41e568eb9cc5a7508b105">  966</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a0400429c02b41e568eb9cc5a7508b105">CP_SB_NEED_CP</a>,</div><div class="line"><a name="l00967"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197aa6024e4080b087c9e8a2a9c17e7f2249">  967</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197aa6024e4080b087c9e8a2a9c17e7f2249">CP_WRONG_PINO</a>,</div><div class="line"><a name="l00968"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a63850c2bd311b5be1604776471e8433c">  968</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a63850c2bd311b5be1604776471e8433c">CP_NO_SPC_ROLL</a>,</div><div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a307a628c92152553870d2061ca9362ba">  969</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a307a628c92152553870d2061ca9362ba">CP_NODE_NEED_CP</a>,</div><div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a4d3b5ba35e686a0d719588c3417d66de">  970</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a4d3b5ba35e686a0d719588c3417d66de">CP_FASTBOOT_MODE</a>,</div><div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197afa1f673312c29b7320557126944d6c36">  971</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197afa1f673312c29b7320557126944d6c36">CP_SPEC_LOG_NUM</a>,</div><div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a4e2abc11d5065ae9d83845209ed7d814">  972</a></span>&#160;    <a class="code" href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a4e2abc11d5065ae9d83845209ed7d814">CP_RECOVER_DIR</a>,</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;};</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">  975</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> {</div><div class="line"><a name="l00976"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a05451d22c5173f708a89efd1e10339f3">  976</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a05451d22c5173f708a89efd1e10339f3">APP_DIRECT_IO</a>,          <span class="comment">/* app direct IOs */</span></div><div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a27f251babc7d78e16fd0e5d84284eaa0">  977</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a27f251babc7d78e16fd0e5d84284eaa0">APP_BUFFERED_IO</a>,        <span class="comment">/* app buffered IOs */</span></div><div class="line"><a name="l00978"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acd72577fad4fd6c64431d538f58e567d">  978</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acd72577fad4fd6c64431d538f58e567d">APP_WRITE_IO</a>,           <span class="comment">/* app write IOs */</span></div><div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acda6be58359d3715dc035c6cf6953ef5">  979</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acda6be58359d3715dc035c6cf6953ef5">APP_MAPPED_IO</a>,          <span class="comment">/* app mapped IOs */</span></div><div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a7ddf75a4e6be656d4b611af4cf4aebbd">  980</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a7ddf75a4e6be656d4b611af4cf4aebbd">FS_DATA_IO</a>,         <span class="comment">/* data IOs from kworker/fsync/reclaimer */</span></div><div class="line"><a name="l00981"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a7ad0c4d7fb59ead958931d25e6141c4b">  981</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a7ad0c4d7fb59ead958931d25e6141c4b">FS_NODE_IO</a>,         <span class="comment">/* node IOs from kworker/fsync/reclaimer */</span></div><div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acff098dba3c8917cc63513cc1690e502">  982</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acff098dba3c8917cc63513cc1690e502">FS_META_IO</a>,         <span class="comment">/* meta IOs from kworker/reclaimer */</span></div><div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22aa281ddae440e9405d5309fc4e95185f2">  983</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22aa281ddae440e9405d5309fc4e95185f2">FS_GC_DATA_IO</a>,          <span class="comment">/* data IOs from forground gc */</span></div><div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22af3aa85576a2a5540eefbf5b891f2a559">  984</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22af3aa85576a2a5540eefbf5b891f2a559">FS_GC_NODE_IO</a>,          <span class="comment">/* node IOs from forground gc */</span></div><div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a85be3cedb97a57492fde9f162bf37923">  985</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a85be3cedb97a57492fde9f162bf37923">FS_CP_DATA_IO</a>,          <span class="comment">/* data IOs from checkpoint */</span></div><div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a0ec1545e5963e43fcd72a4c0bb4262e7">  986</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a0ec1545e5963e43fcd72a4c0bb4262e7">FS_CP_NODE_IO</a>,          <span class="comment">/* node IOs from checkpoint */</span></div><div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a9b2a7ec02a49da9f35d23c77c19e06fb">  987</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a9b2a7ec02a49da9f35d23c77c19e06fb">FS_CP_META_IO</a>,          <span class="comment">/* meta IOs from checkpoint */</span></div><div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22af240d31da3c61c3d37ede4364ec61e0a">  988</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22af240d31da3c61c3d37ede4364ec61e0a">FS_DISCARD</a>,         <span class="comment">/* discard */</span></div><div class="line"><a name="l00989"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22ae6ec6c1d2e4ec2f3cdd5a96e37096bf5">  989</a></span>&#160;    <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22ae6ec6c1d2e4ec2f3cdd5a96e37096bf5">NR_IO_TYPE</a>,</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;};</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div><div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html">  992</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> {</div><div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#acca81a71a483edcdd6164dbafcce2cc8">  993</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *<a class="code" href="structf2fs__io__info.html#acca81a71a483edcdd6164dbafcce2cc8">sbi</a>;   <span class="comment">/* f2fs_sb_info pointer */</span></div><div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#acb086b5796176dbca7c906fec4e4148b">  994</a></span>&#160;    <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="structf2fs__io__info.html#acb086b5796176dbca7c906fec4e4148b">ino</a>;      <span class="comment">/* inode number */</span></div><div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#ad57935e1e5bf8548f3672f25bc92565c">  995</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;    <span class="comment">/* contains DATA/NODE/META/META_FLUSH */</span></div><div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#ad5af9bfbc6a9591e0276eadf65620c57">  996</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71da">temp_type</a> temp;    <span class="comment">/* contains HOT/WARM/COLD */</span></div><div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#ac63eb290e70cbd5bde96f262dd87cc92">  997</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__io__info.html#ac63eb290e70cbd5bde96f262dd87cc92">op</a>;         <span class="comment">/* contains REQ_OP_ */</span></div><div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#acaa22ee41b070905c0a5922da4c9ba39">  998</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__io__info.html#acaa22ee41b070905c0a5922da4c9ba39">op_flags</a>;       <span class="comment">/* req_flag_bits */</span></div><div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a8889802956019f04640275c51aef5d7d">  999</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__io__info.html#a8889802956019f04640275c51aef5d7d">new_blkaddr</a>;    <span class="comment">/* new block address to be written */</span></div><div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a89ef0f1400f48950b2e9303549d7c83e"> 1000</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__io__info.html#a89ef0f1400f48950b2e9303549d7c83e">old_blkaddr</a>;    <span class="comment">/* old block address before Cow */</span></div><div class="line"><a name="l01001"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#af8dff94476a3425e352e391c37825170"> 1001</a></span>&#160;    <span class="keyword">struct </span>page *<a class="code" href="structf2fs__io__info.html#af8dff94476a3425e352e391c37825170">page</a>;  <span class="comment">/* page to be written */</span></div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a9894f9da3bbed4019d9541ea7559c47f"> 1002</a></span>&#160;    <span class="keyword">struct </span>page *<a class="code" href="structf2fs__io__info.html#a9894f9da3bbed4019d9541ea7559c47f">encrypted_page</a>;    <span class="comment">/* encrypted page */</span></div><div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#ac9dff5c06c7c8bd8e472d11fe24a4699"> 1003</a></span>&#160;    <span class="keyword">struct </span>list_head <a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>;      <span class="comment">/* serialize IOs */</span></div><div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a8bf9eadd1f1f6ab4e88459e9b90fd4b0"> 1004</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structf2fs__io__info.html#a8bf9eadd1f1f6ab4e88459e9b90fd4b0">submitted</a>;     <span class="comment">/* indicate IO submission */</span></div><div class="line"><a name="l01005"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#ae3f2dee6ab16cd08bf15526d9811a517"> 1005</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__io__info.html#ae3f2dee6ab16cd08bf15526d9811a517">need_lock</a>;      <span class="comment">/* indicate we need to lock cp_rwsem */</span></div><div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a4e07e45770f0c16a1b36908ac88d14e2"> 1006</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structf2fs__io__info.html#a4e07e45770f0c16a1b36908ac88d14e2">in_list</a>;       <span class="comment">/* indicate fio is in io_list */</span></div><div class="line"><a name="l01007"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a9f5b3f43b8d17c003d05e3f0e31e7f77"> 1007</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structf2fs__io__info.html#a9f5b3f43b8d17c003d05e3f0e31e7f77">is_meta</a>;       <span class="comment">/* indicate borrow meta inode mapping or not */</span></div><div class="line"><a name="l01008"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a78ab780ed10cf1ef4ed9fd74ef116607"> 1008</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> io_type;   <span class="comment">/* io type */</span></div><div class="line"><a name="l01009"></a><span class="lineno"><a class="line" href="structf2fs__io__info.html#a9ac7a377ef8adfdb24d8508c6e76a5d7"> 1009</a></span>&#160;    <span class="keyword">struct </span>writeback_control *<a class="code" href="structf2fs__io__info.html#a9ac7a377ef8adfdb24d8508c6e76a5d7">io_wbc</a>; <span class="comment">/* writeback control */</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;};</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a243f77408e12508cf7d8c38194913724"> 1012</a></span>&#160;<span class="preprocessor">#define is_read_io(rw) ((rw) == READ)</span></div><div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html"> 1013</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__bio__info.html">f2fs_bio_info</a> {</div><div class="line"><a name="l01014"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#a8dbbe185a315980eff6331556a44e967"> 1014</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *<a class="code" href="structf2fs__bio__info.html#a8dbbe185a315980eff6331556a44e967">sbi</a>;   <span class="comment">/* f2fs superblock */</span></div><div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#a78509296db0db7feb40ab55be62dea40"> 1015</a></span>&#160;    <span class="keyword">struct </span>bio *<a class="code" href="structf2fs__bio__info.html#a78509296db0db7feb40ab55be62dea40">bio</a>;        <span class="comment">/* bios to merge */</span></div><div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#a3457a29cfa0f7c05312e05448f90b400"> 1016</a></span>&#160;    sector_t <a class="code" href="structf2fs__bio__info.html#a3457a29cfa0f7c05312e05448f90b400">last_block_in_bio</a>; <span class="comment">/* last block number */</span></div><div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#a592968c6669031706291c5ffc0dcb469"> 1017</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> fio;    <span class="comment">/* store buffered io info. */</span></div><div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#a9734177bc0794813b0eab90e8457af19"> 1018</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore io_rwsem;   <span class="comment">/* blocking op for bio */</span></div><div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#aba60b94c8b826e11d9beef74e81637bf"> 1019</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__bio__info.html#aba60b94c8b826e11d9beef74e81637bf">io_lock</a>;     <span class="comment">/* serialize DATA/NODE IOs */</span></div><div class="line"><a name="l01020"></a><span class="lineno"><a class="line" href="structf2fs__bio__info.html#afa37e844460775a4b6f27e1a87560646"> 1020</a></span>&#160;    <span class="keyword">struct </span>list_head io_list;   <span class="comment">/* track fios */</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;};</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div><div class="line"><a name="l01023"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a312edb0052fd3417e65ad37307af51df"> 1023</a></span>&#160;<span class="preprocessor">#define FDEV(i)             (sbi-&gt;devs[i])</span></div><div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abf7900f7fb36c18a1bf68f5109ab582f"> 1024</a></span>&#160;<span class="preprocessor">#define RDEV(i)             (raw_super-&gt;devs[i])</span></div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="structf2fs__dev__info.html"> 1025</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__dev__info.html">f2fs_dev_info</a> {</div><div class="line"><a name="l01026"></a><span class="lineno"><a class="line" href="structf2fs__dev__info.html#a30bcbe6d4b287b28b67b142ecce8ebe2"> 1026</a></span>&#160;    <span class="keyword">struct </span>block_device *<a class="code" href="structf2fs__dev__info.html#a30bcbe6d4b287b28b67b142ecce8ebe2">bdev</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="structf2fs__dev__info.html#a9f4ec1da9c786119146e25ad78486e3a"> 1027</a></span>&#160;    <span class="keywordtype">char</span> path[MAX_PATH_LEN];</div><div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="structf2fs__dev__info.html#a886bcc5e80610b3b5187b3d82db1e024"> 1028</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__dev__info.html#a886bcc5e80610b3b5187b3d82db1e024">total_segments</a>;</div><div class="line"><a name="l01029"></a><span class="lineno"><a class="line" href="structf2fs__dev__info.html#a514a1109d9a1263b977fea96447060cc"> 1029</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__dev__info.html#a514a1109d9a1263b977fea96447060cc">start_blk</a>;</div><div class="line"><a name="l01030"></a><span class="lineno"><a class="line" href="structf2fs__dev__info.html#a3da4321a080fc679ab24bbc0c429271d"> 1030</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__dev__info.html#a3da4321a080fc679ab24bbc0c429271d">end_blk</a>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="preprocessor">#ifdef CONFIG_BLK_DEV_ZONED</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr_blkz;           <span class="comment">/* Total number of zones */</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    u8 *blkz_type;              <span class="comment">/* Array of zones type */</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;};</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ff"> 1037</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ff">inode_type</a> {</div><div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa9ac32b103a209a0ff69721e7e08d314b"> 1038</a></span>&#160;    <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa9ac32b103a209a0ff69721e7e08d314b">DIR_INODE</a>,          <span class="comment">/* for dirty dir inode */</span></div><div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa0db1f253f5d3972c03d94e8c3ba1ef6e"> 1039</a></span>&#160;    <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa0db1f253f5d3972c03d94e8c3ba1ef6e">FILE_INODE</a>,         <span class="comment">/* for dirty regular/symlink inode */</span></div><div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa020240e220811b0bc51163faf3b87061"> 1040</a></span>&#160;    <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa020240e220811b0bc51163faf3b87061">DIRTY_META</a>,         <span class="comment">/* for all dirtied inode metadata */</span></div><div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffad882636bcaacede5795121769db8bd18"> 1041</a></span>&#160;    <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffad882636bcaacede5795121769db8bd18">ATOMIC_FILE</a>,            <span class="comment">/* for all atomic files */</span></div><div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8"> 1042</a></span>&#160;    <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8">NR_INODE_TYPE</a>,</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;};</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment">/* for inner inode cache management */</span></div><div class="line"><a name="l01046"></a><span class="lineno"><a class="line" href="structinode__management.html"> 1046</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structinode__management.html">inode_management</a> {</div><div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="structinode__management.html#aa2a39244c91a2dd8011358a852333dce"> 1047</a></span>&#160;    <span class="keyword">struct </span>radix_tree_root ino_root;    <span class="comment">/* ino entry array */</span></div><div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="structinode__management.html#a8fb2031c598cd8142991629507b7548b"> 1048</a></span>&#160;    spinlock_t <a class="code" href="structinode__management.html#a8fb2031c598cd8142991629507b7548b">ino_lock</a>;            <span class="comment">/* for ino entry lock */</span></div><div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="structinode__management.html#a29a0f842051cc7e12ded0fe34541c40e"> 1049</a></span>&#160;    <span class="keyword">struct </span>list_head ino_list;      <span class="comment">/* inode list head */</span></div><div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="structinode__management.html#a93502f1f1832ad24d7b01f73e17362ad"> 1050</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structinode__management.html#a93502f1f1832ad24d7b01f73e17362ad">ino_num</a>;          <span class="comment">/* number of entries */</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;};</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">/* For s_flag in struct f2fs_sb_info */</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l01055"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a35caaf7663535cceeb4c7c05f1b71c0e"> 1055</a></span>&#160;    <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a35caaf7663535cceeb4c7c05f1b71c0e">SBI_IS_DIRTY</a>,               <span class="comment">/* dirty flag for checkpoint */</span></div><div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631af0a7854bc09ce752eaf285c70d8d016a"> 1056</a></span>&#160;    <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631af0a7854bc09ce752eaf285c70d8d016a">SBI_IS_CLOSE</a>,               <span class="comment">/* specify unmounting */</span></div><div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a0484aba3ed9465930c7267621e42b92e"> 1057</a></span>&#160;    <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a0484aba3ed9465930c7267621e42b92e">SBI_NEED_FSCK</a>,              <span class="comment">/* need fsck.f2fs to fix */</span></div><div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631ae5434ba1ceb33b881bd72a0c0130e1ae"> 1058</a></span>&#160;    <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631ae5434ba1ceb33b881bd72a0c0130e1ae">SBI_POR_DOING</a>,              <span class="comment">/* recovery is doing or not */</span></div><div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a3184f684e58c80806db03acc9582cce8"> 1059</a></span>&#160;    <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a3184f684e58c80806db03acc9582cce8">SBI_NEED_SB_WRITE</a>,          <span class="comment">/* need to recover superblock */</span></div><div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631ae70b8f2fd3b7a029e839c25b9302ca10"> 1060</a></span>&#160;    <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631ae70b8f2fd3b7a029e839c25b9302ca10">SBI_NEED_CP</a>,                <span class="comment">/* need to checkpoint */</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;};</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a0c17ed5e070147f6931f724fefb50d54"> 1064</a></span>&#160;    <a class="code" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a0c17ed5e070147f6931f724fefb50d54">CP_TIME</a>,</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a72bf34b9e7b1dff38e6d2127028bb381"> 1065</a></span>&#160;    <a class="code" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a72bf34b9e7b1dff38e6d2127028bb381">REQ_TIME</a>,</div><div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a1f7e5992c1020e803dee059a64d87622"> 1066</a></span>&#160;    <a class="code" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a1f7e5992c1020e803dee059a64d87622">MAX_TIME</a>,</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;};</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4ac0f8993a5434453b710470750da865f6"> 1070</a></span>&#160;    <a class="code" href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4ac0f8993a5434453b710470750da865f6">WHINT_MODE_OFF</a>,     <span class="comment">/* not pass down write hints */</span></div><div class="line"><a name="l01071"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4a175638fd4c01af8732154b508ba4bedc"> 1071</a></span>&#160;    <a class="code" href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4a175638fd4c01af8732154b508ba4bedc">WHINT_MODE_USER</a>,    <span class="comment">/* try to pass down hints given by users */</span></div><div class="line"><a name="l01072"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4af5d08a3c32f3ec3addae4ca483d6392c"> 1072</a></span>&#160;    <a class="code" href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4af5d08a3c32f3ec3addae4ca483d6392c">WHINT_MODE_FS</a>,      <span class="comment">/* pass down hints with F2FS policy */</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;};</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3143b57146ef21ea3727156d369558f2a116b7c983201e95554b603db9b75c22f"> 1076</a></span>&#160;    <a class="code" href="f2fs_8h.html#a3143b57146ef21ea3727156d369558f2a116b7c983201e95554b603db9b75c22f">ALLOC_MODE_DEFAULT</a>, <span class="comment">/* stay default */</span></div><div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3143b57146ef21ea3727156d369558f2af7ee24dc55ebef880f829940946a97fd"> 1077</a></span>&#160;    <a class="code" href="f2fs_8h.html#a3143b57146ef21ea3727156d369558f2af7ee24dc55ebef880f829940946a97fd">ALLOC_MODE_REUSE</a>,   <span class="comment">/* reuse segments as much as possible */</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;};</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437"> 1080</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437">fsync_mode</a> {</div><div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437a6e622de8e4595ac19be310492578833a"> 1081</a></span>&#160;    <a class="code" href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437a6e622de8e4595ac19be310492578833a">FSYNC_MODE_POSIX</a>,   <span class="comment">/* fsync follows posix semantics */</span></div><div class="line"><a name="l01082"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437a571dae7e43f451b7d257a7924c1da0ca"> 1082</a></span>&#160;    <a class="code" href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437a571dae7e43f451b7d257a7924c1da0ca">FSYNC_MODE_STRICT</a>,  <span class="comment">/* fsync behaves in line with ext4 */</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;};</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FS_ENCRYPTION</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="preprocessor">#define DUMMY_ENCRYPTION_ENABLED(sbi) \</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="preprocessor">            (unlikely(F2FS_OPTION(sbi).test_dummy_encryption))</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a77f2acb604892ed732eda28efe0e8c4b"> 1089</a></span>&#160;<span class="preprocessor">#define DUMMY_ENCRYPTION_ENABLED(sbi) (0)</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div><div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html"> 1092</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> {</div><div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a80fbc604407c81e9d6ab2756847f9b76"> 1093</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="structf2fs__sb__info.html#a80fbc604407c81e9d6ab2756847f9b76">sb</a>;         <span class="comment">/* pointer to VFS super block */</span></div><div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ae4c99c97813e1919a3d6add3200e58fc"> 1094</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structproc__dir__entry.html">proc_dir_entry</a> *<a class="code" href="structf2fs__sb__info.html#ae4c99c97813e1919a3d6add3200e58fc">s_proc</a>;      <span class="comment">/* proc entry */</span></div><div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#acd0edefa36e84661810f38e2460a7924"> 1095</a></span>&#160;    <span class="keyword">struct </span>f2fs_super_block *<a class="code" href="structf2fs__sb__info.html#acd0edefa36e84661810f38e2460a7924">raw_super</a>; <span class="comment">/* raw super block pointer */</span></div><div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ae90819bb6c8c809f9186ca90ef2e240f"> 1096</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore sb_lock;        <span class="comment">/* lock for raw super block */</span></div><div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ac99cbeeb1ac24dfa7001d7f7700c9301"> 1097</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#ac99cbeeb1ac24dfa7001d7f7700c9301">valid_super_block</a>;          <span class="comment">/* valid super block no */</span></div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a7465e210af93c2455635f7f9021879d5"> 1098</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structf2fs__sb__info.html#a7465e210af93c2455635f7f9021879d5">s_flag</a>;               <span class="comment">/* flags for sbi */</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="preprocessor">#ifdef CONFIG_BLK_DEV_ZONED</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blocks_per_blkz;       <span class="comment">/* F2FS blocks per zone */</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> log_blocks_per_blkz;   <span class="comment">/* log2 F2FS blocks per zone */</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">/* for node-related operations */</span></div><div class="line"><a name="l01106"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a4869d788ce1a560b31c1d7dcc397cff9"> 1106</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__nm__info.html">f2fs_nm_info</a> *<a class="code" href="structf2fs__sb__info.html#a4869d788ce1a560b31c1d7dcc397cff9">nm_info</a>;       <span class="comment">/* node manager */</span></div><div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af28b52b326d467e7a3b93415e101ed16"> 1107</a></span>&#160;    <span class="keyword">struct </span>inode *<a class="code" href="structf2fs__sb__info.html#af28b52b326d467e7a3b93415e101ed16">node_inode</a>;       <span class="comment">/* cache node blocks */</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">/* for segment-related operations */</span></div><div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a2516acd7128a3c013ca31c1bfbbe8895"> 1110</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__sm__info.html">f2fs_sm_info</a> *<a class="code" href="structf2fs__sb__info.html#a2516acd7128a3c013ca31c1bfbbe8895">sm_info</a>;       <span class="comment">/* segment manager */</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">/* for bio operations */</span></div><div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a1d381ef5e3ff1d0246f4ddc14f59940a"> 1113</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__bio__info.html">f2fs_bio_info</a> *write_io[<a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a75732d7d8f393121e917ca88d1aae408">NR_PAGE_TYPE</a>];   <span class="comment">/* for write bios */</span></div><div class="line"><a name="l01114"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a1ad3fad4f55b5765033f2d8374fe3f48"> 1114</a></span>&#160;    <span class="keyword">struct </span>mutex wio_mutex[<a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a75732d7d8f393121e917ca88d1aae408">NR_PAGE_TYPE</a> - 1][<a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daaff9d699b9a6d333c520831fd945a3702">NR_TEMP_TYPE</a>];</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                        <span class="comment">/* bio ordering for NODE/DATA */</span></div><div class="line"><a name="l01116"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#aab42a80139782e9811676e5a47374761"> 1116</a></span>&#160;    mempool_t *<a class="code" href="structf2fs__sb__info.html#aab42a80139782e9811676e5a47374761">write_io_dummy</a>;      <span class="comment">/* Dummy pages */</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="comment">/* for checkpoint */</span></div><div class="line"><a name="l01119"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a0c56334b7f3b51ad03cbc32ec01a58a4"> 1119</a></span>&#160;    <span class="keyword">struct </span>f2fs_checkpoint *<a class="code" href="structf2fs__sb__info.html#a0c56334b7f3b51ad03cbc32ec01a58a4">ckpt</a>;       <span class="comment">/* raw checkpoint pointer */</span></div><div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b"> 1120</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b">cur_cp_pack</a>;            <span class="comment">/* remain current cp pack */</span></div><div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49"> 1121</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>;         <span class="comment">/* for flag in ckpt */</span></div><div class="line"><a name="l01122"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a5b19bff380154a01e5bbdc6b0a276522"> 1122</a></span>&#160;    <span class="keyword">struct </span>inode *<a class="code" href="structf2fs__sb__info.html#a5b19bff380154a01e5bbdc6b0a276522">meta_inode</a>;       <span class="comment">/* cache meta blocks */</span></div><div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a116f4873a40f6edf20ea7bc924d44fcd"> 1123</a></span>&#160;    <span class="keyword">struct </span>mutex cp_mutex;          <span class="comment">/* checkpoint procedure lock */</span></div><div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4"> 1124</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore cp_rwsem;       <span class="comment">/* blocking FS operations */</span></div><div class="line"><a name="l01125"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a3c22bd433a7660c8e8a67165788b5e4f"> 1125</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore node_write;     <span class="comment">/* locking node writes */</span></div><div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ac47e430c0853626de85f86c192aa58b7"> 1126</a></span>&#160;    <span class="keyword">struct </span>rw_semaphore node_change;    <span class="comment">/* locking node change */</span></div><div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#afbae0d2aac2658e324fa14e29a210219"> 1127</a></span>&#160;    wait_queue_head_t <a class="code" href="structf2fs__sb__info.html#afbae0d2aac2658e324fa14e29a210219">cp_wait</a>;</div><div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a0431ad8b7687f0e617ec2391257d475f"> 1128</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> last_time[<a class="code" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a1f7e5992c1020e803dee059a64d87622">MAX_TIME</a>];  <span class="comment">/* to store time in jiffies */</span></div><div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a8c3fcc61d80909c06afe0297ad2240c1"> 1129</a></span>&#160;    <span class="keywordtype">long</span> interval_time[<a class="code" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a1f7e5992c1020e803dee059a64d87622">MAX_TIME</a>];       <span class="comment">/* to store thresholds */</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a8feede82effcbdf52cbbaf2ec6a12ba2"> 1131</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structinode__management.html">inode_management</a> im[<a class="code" href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da9de1fbc6c4e2ef586dec867c17da08b4">MAX_INO_ENTRY</a>];      <span class="comment">/* manage inode cache */</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">/* for orphan inode, use 0&#39;th array */</span></div><div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#abb571059e1535155c93cb116769e293f"> 1134</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#abb571059e1535155c93cb116769e293f">max_orphans</a>;       <span class="comment">/* max orphan inodes */</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="comment">/* for inode management */</span></div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a3d0dbf504591ab77869a4e9f2d0a5200"> 1137</a></span>&#160;    <span class="keyword">struct </span>list_head inode_list[<a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8">NR_INODE_TYPE</a>]; <span class="comment">/* dirty inode list */</span></div><div class="line"><a name="l01138"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a3fc11051f26166b199bbd0ab308c8287"> 1138</a></span>&#160;    spinlock_t inode_lock[<a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8">NR_INODE_TYPE</a>];   <span class="comment">/* for dirty inode list lock */</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="comment">/* for extent tree cache */</span></div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#acd365bdc54d189f97eb2924e7e9db2a5"> 1141</a></span>&#160;    <span class="keyword">struct </span>radix_tree_root extent_tree_root;<span class="comment">/* cache extent cache entries */</span></div><div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ad245d3e575cf5f6aa4c42460d9f094dc"> 1142</a></span>&#160;    <span class="keyword">struct </span>mutex extent_tree_lock;  <span class="comment">/* locking extent radix tree */</span></div><div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ac89b6124fdf9e202ef3eddd4e44728d7"> 1143</a></span>&#160;    <span class="keyword">struct </span>list_head extent_list;       <span class="comment">/* lru list for shrinker */</span></div><div class="line"><a name="l01144"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af88b20a74b0018a8982862ff8da4246d"> 1144</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__sb__info.html#af88b20a74b0018a8982862ff8da4246d">extent_lock</a>;         <span class="comment">/* locking extent lru list */</span></div><div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a39af1e7b6f494ce23497eee909876926"> 1145</a></span>&#160;    atomic_t <a class="code" href="structf2fs__sb__info.html#a39af1e7b6f494ce23497eee909876926">total_ext_tree</a>;        <span class="comment">/* extent tree count */</span></div><div class="line"><a name="l01146"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af103d09ba745754ca82b86ffb0770dc9"> 1146</a></span>&#160;    <span class="keyword">struct </span>list_head zombie_list;       <span class="comment">/* extent zombie tree list */</span></div><div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af5a896a18cc17418fba8c838830dd1e3"> 1147</a></span>&#160;    atomic_t <a class="code" href="structf2fs__sb__info.html#af5a896a18cc17418fba8c838830dd1e3">total_zombie_tree</a>;     <span class="comment">/* extent zombie tree count */</span></div><div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ab457eb0538b700e1279fc1b256fffeec"> 1148</a></span>&#160;    atomic_t <a class="code" href="structf2fs__sb__info.html#ab457eb0538b700e1279fc1b256fffeec">total_ext_node</a>;        <span class="comment">/* extent info count */</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="comment">/* basic filesystem units */</span></div><div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a97abfd51b0e91575f14320a361f08f50"> 1151</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a97abfd51b0e91575f14320a361f08f50">log_sectors_per_block</a>; <span class="comment">/* log2 sectors per block */</span></div><div class="line"><a name="l01152"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a2ca6df404d412ef52ce8a6acba799848"> 1152</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a2ca6df404d412ef52ce8a6acba799848">log_blocksize</a>;     <span class="comment">/* log2 block size */</span></div><div class="line"><a name="l01153"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a674c37589c9797d8b15b4e3211aec063"> 1153</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a674c37589c9797d8b15b4e3211aec063">blocksize</a>;         <span class="comment">/* block size */</span></div><div class="line"><a name="l01154"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a3aec0da494d4430c4e049e175511575e"> 1154</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a3aec0da494d4430c4e049e175511575e">root_ino_num</a>;      <span class="comment">/* root inode number*/</span></div><div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a60b79977ecd9aad769b592ad5b55adb4"> 1155</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a60b79977ecd9aad769b592ad5b55adb4">node_ino_num</a>;      <span class="comment">/* node inode number*/</span></div><div class="line"><a name="l01156"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ac835630c067a4cc3ace7c3320d0cc064"> 1156</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#ac835630c067a4cc3ace7c3320d0cc064">meta_ino_num</a>;      <span class="comment">/* meta inode number*/</span></div><div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ad7d19200ec87d0fdd90db8422f119f7f"> 1157</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#ad7d19200ec87d0fdd90db8422f119f7f">log_blocks_per_seg</a>;    <span class="comment">/* log2 blocks per segment */</span></div><div class="line"><a name="l01158"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a29165310cbf394f16570d745da3450a6"> 1158</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a29165310cbf394f16570d745da3450a6">blocks_per_seg</a>;        <span class="comment">/* blocks per segment */</span></div><div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a370dc358e9504deb27cf24774d28ca56"> 1159</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a370dc358e9504deb27cf24774d28ca56">segs_per_sec</a>;      <span class="comment">/* segments per section */</span></div><div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ab303a06006b8c0fb8567bcd59d9b0f9e"> 1160</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#ab303a06006b8c0fb8567bcd59d9b0f9e">secs_per_zone</a>;     <span class="comment">/* sections per zone */</span></div><div class="line"><a name="l01161"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a91865cf30f69f97df350cadfd8b703b8"> 1161</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a91865cf30f69f97df350cadfd8b703b8">total_sections</a>;        <span class="comment">/* total section count */</span></div><div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#adce3736f23e297c09ae26ed9be82833a"> 1162</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#adce3736f23e297c09ae26ed9be82833a">total_node_count</a>;      <span class="comment">/* total node block count */</span></div><div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274"> 1163</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">total_valid_node_count</a>;    <span class="comment">/* valid node block count */</span></div><div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a7fed4099bb5ce92fb1e62f92e8f6913c"> 1164</a></span>&#160;    loff_t <a class="code" href="structf2fs__sb__info.html#a7fed4099bb5ce92fb1e62f92e8f6913c">max_file_blocks</a>;         <span class="comment">/* max block index of file */</span></div><div class="line"><a name="l01165"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a22f26cd1994b04e586c6690d34d3c8cb"> 1165</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a22f26cd1994b04e586c6690d34d3c8cb">dir_level</a>;              <span class="comment">/* directory level */</span></div><div class="line"><a name="l01166"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ab6ff82d1d2de19793063e846c5bc1586"> 1166</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#ab6ff82d1d2de19793063e846c5bc1586">trigger_ssr_threshold</a>; <span class="comment">/* threshold to trigger ssr */</span></div><div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a9f503924be055c5b8c2cc8d66b359ccd"> 1167</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a9f503924be055c5b8c2cc8d66b359ccd">readdir_ra</a>;             <span class="comment">/* readahead inode in readdir */</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#aaf942439a5af1465793bf7ff0e0d79ab"> 1169</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sb__info.html#aaf942439a5af1465793bf7ff0e0d79ab">user_block_count</a>;       <span class="comment">/* # of user blocks */</span></div><div class="line"><a name="l01170"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f"> 1170</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a>;    <span class="comment">/* # of valid blocks */</span></div><div class="line"><a name="l01171"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af487b29f1ba99af07889e6baea27ce71"> 1171</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sb__info.html#af487b29f1ba99af07889e6baea27ce71">discard_blks</a>;           <span class="comment">/* discard command candidats */</span></div><div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a2fa0b08010d5c91648ee7800d246da31"> 1172</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sb__info.html#a2fa0b08010d5c91648ee7800d246da31">last_valid_block_count</a>;     <span class="comment">/* for recovery */</span></div><div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8"> 1173</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">reserved_blocks</a>;        <span class="comment">/* configurable reserved blocks */</span></div><div class="line"><a name="l01174"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6"> 1174</a></span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a>;    <span class="comment">/* current reserved blocks */</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a866815208afa17e52aa60ad6d1430919"> 1176</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a866815208afa17e52aa60ad6d1430919">nquota_files</a>;      <span class="comment">/* # of quota sysfile */</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ae943fb2f01c0965818009346b4ad0439"> 1178</a></span>&#160;    u32 <a class="code" href="structf2fs__sb__info.html#ae943fb2f01c0965818009346b4ad0439">s_next_generation</a>;          <span class="comment">/* for NFS support */</span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">/* # of pages, see count_type */</span></div><div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#aec216c86eeeeb66a7cf99445479d917b"> 1181</a></span>&#160;    atomic_t nr_pages[<a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a0a1e68a3a212bb2d1859ad1de84981f1">NR_COUNT_TYPE</a>];</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <span class="comment">/* # of allocated blocks */</span></div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a9db94be0c0f0c9341aa6e0f92c43e7fa"> 1183</a></span>&#160;    <span class="keyword">struct </span>percpu_counter alloc_valid_block_count;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">/* writeback control */</span></div><div class="line"><a name="l01186"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a22a5b518620b41b4bc7a45570362310f"> 1186</a></span>&#160;    atomic_t <a class="code" href="structf2fs__sb__info.html#a22a5b518620b41b4bc7a45570362310f">wb_sync_req</a>;           <span class="comment">/* count # of WB_SYNC threads */</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">/* valid inode count */</span></div><div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a47104575e1b821aed814840b5cf2c7d8"> 1189</a></span>&#160;    <span class="keyword">struct </span>percpu_counter total_valid_inode_count;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ac899d975c8f906f84a3c6d0b64ade4ed"> 1191</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__mount__info.html">f2fs_mount_info</a> mount_opt;   <span class="comment">/* mount options */</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">/* for cleaning operations */</span></div><div class="line"><a name="l01194"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a18f057f06eb6405de81ee5155b949874"> 1194</a></span>&#160;    <span class="keyword">struct </span>mutex gc_mutex;          <span class="comment">/* mutex for GC */</span></div><div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#abbf6a2ae9e4375697a0162cc457ff635"> 1195</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__gc__kthread.html">f2fs_gc_kthread</a>  *<a class="code" href="structf2fs__sb__info.html#abbf6a2ae9e4375697a0162cc457ff635">gc_thread</a>; <span class="comment">/* GC thread */</span></div><div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a0d6e38ffa61afe5e4028b69b97972966"> 1196</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a0d6e38ffa61afe5e4028b69b97972966">cur_victim_sec</a>;        <span class="comment">/* current victim section num */</span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">/* threshold for converting bg victims for fg */</span></div><div class="line"><a name="l01199"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a4a633d9436cf9f9acaaf0c172b32f700"> 1199</a></span>&#160;    u64 <a class="code" href="structf2fs__sb__info.html#a4a633d9436cf9f9acaaf0c172b32f700">fggc_threshold</a>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="comment">/* threshold for gc trials on pinned files */</span></div><div class="line"><a name="l01202"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#afdfa7d258ff66561cda371c81c9430f5"> 1202</a></span>&#160;    u64 <a class="code" href="structf2fs__sb__info.html#afdfa7d258ff66561cda371c81c9430f5">gc_pin_file_threshold</a>;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="comment">/* maximum # of trials to find a victim segment for SSR and GC */</span></div><div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a51e38099013519d11b8fc26fbc59e8b8"> 1205</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a51e38099013519d11b8fc26fbc59e8b8">max_victim_search</a>;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">     * for stat information.</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment">     * one is for the LFS mode, and the other is for the SSR mode.</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_STAT_FS</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keyword">struct </span>f2fs_stat_info *stat_info;   <span class="comment">/* FS status information */</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> segment_count[2];      <span class="comment">/* # of allocated segments */</span></div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_count[2];        <span class="comment">/* # of allocated blocks */</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    atomic_t inplace_count;     <span class="comment">/* # of inplace update */</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    atomic64_t total_hit_ext;       <span class="comment">/* # of lookup extent cache */</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    atomic64_t read_hit_rbtree;     <span class="comment">/* # of hit rbtree extent node */</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    atomic64_t read_hit_largest;        <span class="comment">/* # of hit largest extent node */</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    atomic64_t read_hit_cached;     <span class="comment">/* # of hit cached extent node */</span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    atomic_t inline_xattr;          <span class="comment">/* # of inline_xattr inodes */</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    atomic_t inline_inode;          <span class="comment">/* # of inline_data inodes */</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    atomic_t inline_dir;            <span class="comment">/* # of inline_dentry inodes */</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    atomic_t aw_cnt;            <span class="comment">/* # of atomic writes */</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    atomic_t vw_cnt;            <span class="comment">/* # of volatile writes */</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    atomic_t max_aw_cnt;            <span class="comment">/* max # of atomic writes */</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    atomic_t max_vw_cnt;            <span class="comment">/* max # of volatile writes */</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordtype">int</span> bg_gc;              <span class="comment">/* background gc calls */</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ndirty_inode[<a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8">NR_INODE_TYPE</a>];   <span class="comment">/* # of dirty inodes */</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b"> 1230</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>;           <span class="comment">/* lock for stat operations */</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">/* For app/fs IO statistics */</span></div><div class="line"><a name="l01233"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b"> 1233</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b">iostat_lock</a>;</div><div class="line"><a name="l01234"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d"> 1234</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> write_iostat[<a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22ae6ec6c1d2e4ec2f3cdd5a96e37096bf5">NR_IO_TYPE</a>];</div><div class="line"><a name="l01235"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ae07b8bb5d0e3aaea3a51c170a3b9ab7a"> 1235</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structf2fs__sb__info.html#ae07b8bb5d0e3aaea3a51c170a3b9ab7a">iostat_enable</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">/* For sysfs suppport */</span></div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#aec33f371a16c83577656f6e2ebd77864"> 1238</a></span>&#160;    <span class="keyword">struct </span>kobject s_kobj;</div><div class="line"><a name="l01239"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#af0ac8e90e56bf83b8df32f2ea02e0f1e"> 1239</a></span>&#160;    <span class="keyword">struct </span>completion s_kobj_unregister;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">/* For shrinker support */</span></div><div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a0c89c048944dc61a84f7f78b8e31ca54"> 1242</a></span>&#160;    <span class="keyword">struct </span>list_head s_list;</div><div class="line"><a name="l01243"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a4853c088086a7886cac88e8b4b0789a1"> 1243</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a4853c088086a7886cac88e8b4b0789a1">s_ndevs</a>;                <span class="comment">/* number of devices */</span></div><div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a779b748945d8a6119ae8cf11e3c83a33"> 1244</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__dev__info.html">f2fs_dev_info</a> *<a class="code" href="structf2fs__sb__info.html#a779b748945d8a6119ae8cf11e3c83a33">devs</a>;     <span class="comment">/* for device list */</span></div><div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#afa0a1cde802268e4aa3ba839ac1ef349"> 1245</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#afa0a1cde802268e4aa3ba839ac1ef349">dirty_device</a>;      <span class="comment">/* for checkpoint data flush */</span></div><div class="line"><a name="l01246"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#abf65f5ed308201129d1accd1059d2aee"> 1246</a></span>&#160;    spinlock_t <a class="code" href="structf2fs__sb__info.html#abf65f5ed308201129d1accd1059d2aee">dev_lock</a>;            <span class="comment">/* protect dirty_device */</span></div><div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a1e12b67201e06395aa1ce10df99bc99f"> 1247</a></span>&#160;    <span class="keyword">struct </span>mutex umount_mutex;</div><div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a1e200b1505c80587e22277036d58906f"> 1248</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structf2fs__sb__info.html#a1e200b1505c80587e22277036d58906f">shrinker_run_no</a>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="comment">/* For write statistics */</span></div><div class="line"><a name="l01251"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#ae0234fa6f9c7536dbb2a00503bd382a8"> 1251</a></span>&#160;    u64 <a class="code" href="structf2fs__sb__info.html#ae0234fa6f9c7536dbb2a00503bd382a8">sectors_written_start</a>;</div><div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a42741b5ccb5989a97905cba3e0195ab7"> 1252</a></span>&#160;    u64 <a class="code" href="structf2fs__sb__info.html#a42741b5ccb5989a97905cba3e0195ab7">kbytes_written</a>;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="comment">/* Reference to checksum algorithm driver via cryptoapi */</span></div><div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#aea240205a9a096264a9abb8f93a765b6"> 1255</a></span>&#160;    <span class="keyword">struct </span>crypto_shash *<a class="code" href="structf2fs__sb__info.html#aea240205a9a096264a9abb8f93a765b6">s_chksum_driver</a>;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">/* Precomputed FS UUID checksum for seeding other checksums */</span></div><div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="structf2fs__sb__info.html#a62d36adec2b1c5a1fb63082630213002"> 1258</a></span>&#160;    __u32 <a class="code" href="structf2fs__sb__info.html#a62d36adec2b1c5a1fb63082630213002">s_chksum_seed</a>;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;};</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="preprocessor">#define f2fs_show_injection_info(type)              \</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="preprocessor">    printk(&quot;%sF2FS-fs : inject %s in %s of %pF\n&quot;,      \</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="preprocessor">        KERN_INFO, fault_name[type],            \</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="preprocessor">        __func__, __builtin_return_address(0))</span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> time_to_inject(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;{</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keyword">struct </span>f2fs_fault_info *ffi = &amp;<a class="code" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a>(sbi).fault_info;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (!ffi-&gt;inject_rate)</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (!IS_FAULT_SET(ffi, type))</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    atomic_inc(&amp;ffi-&gt;inject_ops);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">if</span> (atomic_read(&amp;ffi-&gt;inject_ops) &gt;= ffi-&gt;inject_rate) {</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;        atomic_set(&amp;ffi-&gt;inject_ops, 0);</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;}</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">/* For write statistics. Suppose sector size is 512 bytes,</span></div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment"> * and the return value is in kbytes. s is of struct f2fs_sb_info.</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab630b3a7447b97f0fe421b78c8a43dcb"> 1288</a></span>&#160;<span class="preprocessor">#define BD_PART_WRITTEN(s)                       \</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="preprocessor">(((u64)part_stat_read((s)-&gt;sb-&gt;s_bdev-&gt;bd_part, sectors[1]) -        \</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="preprocessor">        (s)-&gt;sectors_written_start) &gt;&gt; 1)</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad47678754457cbb03acea49da927a9ee"> 1292</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ad47678754457cbb03acea49da927a9ee">f2fs_update_time</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;{</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0431ad8b7687f0e617ec2391257d475f">last_time</a>[<a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>] = jiffies;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;}</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div><div class="line"><a name="l01297"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a54645832e1fd3f38aaf5ac2e05fa78c0"> 1297</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a54645832e1fd3f38aaf5ac2e05fa78c0">f2fs_time_over</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;{</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> interval = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a8c3fcc61d80909c06afe0297ad2240c1">interval_time</a>[<a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>] * HZ;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">return</span> time_after(jiffies, sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0431ad8b7687f0e617ec2391257d475f">last_time</a>[type] + interval);</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;}</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad2310e429aaefbae7b794c792d24526c"> 1304</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ad2310e429aaefbae7b794c792d24526c">is_idle</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;{</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keyword">struct </span>block_device *bdev = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a80fbc604407c81e9d6ab2756847f9b76">sb</a>-&gt;s_bdev;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keyword">struct </span>request_queue *q = bdev_get_queue(bdev);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keyword">struct </span>request_list *rl = &amp;q-&gt;root_rl;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <span class="keywordflow">if</span> (rl-&gt;count[BLK_RW_SYNC] || rl-&gt;count[BLK_RW_ASYNC])</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a54645832e1fd3f38aaf5ac2e05fa78c0">f2fs_time_over</a>(sbi, <a class="code" href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a72bf34b9e7b1dff38e6d2127028bb381">REQ_TIME</a>);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;}</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment"> * Inline functions</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01319"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2ee7f55a8733c57fd2f2e1f57f7eb695"> 1319</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u32 <a class="code" href="f2fs_8h.html#a2ee7f55a8733c57fd2f2e1f57f7eb695">__f2fs_crc32</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, u32 <a class="code" href="send_8h.html#a1a1741f5378b82fa7a9665089956c3a7">crc</a>,</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">void</span> *address, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>)</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;{</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keyword">struct </span>{</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <span class="keyword">struct </span>shash_desc shash;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordtype">char</span> ctx[4];</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    } desc;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    BUG_ON(crypto_shash_descsize(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aea240205a9a096264a9abb8f93a765b6">s_chksum_driver</a>) != <span class="keyword">sizeof</span>(desc.ctx));</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    desc.shash.tfm = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aea240205a9a096264a9abb8f93a765b6">s_chksum_driver</a>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    desc.shash.flags = 0;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    *(u32 *)desc.ctx = crc;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    err = crypto_shash_update(&amp;desc.shash, address, length);</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    BUG_ON(err);</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordflow">return</span> *(u32 *)desc.ctx;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;}</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a33ee87a6964bd9452f9862e7a650e51f"> 1340</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u32 <a class="code" href="f2fs_8h.html#a33ee87a6964bd9452f9862e7a650e51f">f2fs_crc32</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keyword">const</span> <span class="keywordtype">void</span> *address,</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>)</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;{</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a2ee7f55a8733c57fd2f2e1f57f7eb695">__f2fs_crc32</a>(sbi, F2FS_SUPER_MAGIC, address, length);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;}</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01346"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af43ff16f1b0adf15b4129e017b1ec82c"> 1346</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#af43ff16f1b0adf15b4129e017b1ec82c">f2fs_crc_valid</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, __u32 blk_crc,</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                  <span class="keywordtype">void</span> *buf, <span class="keywordtype">size_t</span> buf_size)</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;{</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a33ee87a6964bd9452f9862e7a650e51f">f2fs_crc32</a>(sbi, buf, buf_size) == blk_crc;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;}</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0d23b4e32aa26d1a337e2932bfb9a22d"> 1352</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> u32 <a class="code" href="f2fs_8h.html#a0d23b4e32aa26d1a337e2932bfb9a22d">f2fs_chksum</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, u32 <a class="code" href="send_8h.html#a1a1741f5378b82fa7a9665089956c3a7">crc</a>,</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">void</span> *address, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>)</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;{</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a2ee7f55a8733c57fd2f2e1f57f7eb695">__f2fs_crc32</a>(sbi, crc, address, length);</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb"> 1358</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__inode__info.html">f2fs_inode_info</a> *<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;{</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <span class="keywordflow">return</span> container_of(inode, <span class="keyword">struct</span> <a class="code" href="structf2fs__inode__info.html">f2fs_inode_info</a>, <a class="code" href="structf2fs__inode__info.html#af30467db7f9cdd7b03d7890a1cba7042">vfs_inode</a>);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div><div class="line"><a name="l01363"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae4ef40bc46e01abbe539204218bcf106"> 1363</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *<a class="code" href="f2fs_8h.html#ae4ef40bc46e01abbe539204218bcf106">F2FS_SB</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;{</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">return</span> sb-&gt;s_fs_info;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;}</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div><div class="line"><a name="l01368"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7"> 1368</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;{</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ae4ef40bc46e01abbe539204218bcf106">F2FS_SB</a>(inode-&gt;i_sb);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;}</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a775eff172a82c770b1982e02e4312eb8"> 1373</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *<a class="code" href="f2fs_8h.html#a775eff172a82c770b1982e02e4312eb8">F2FS_M_SB</a>(<span class="keyword">struct</span> address_space *mapping)</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;{</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(mapping-&gt;host);</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8a8c4c2d892d1eafc69f46df674f974a"> 1378</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *<a class="code" href="f2fs_8h.html#a8a8c4c2d892d1eafc69f46df674f974a">F2FS_P_SB</a>(<span class="keyword">struct</span> page *page)</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a775eff172a82c770b1982e02e4312eb8">F2FS_M_SB</a>(page-&gt;mapping);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7dffbcf93012840e801f5357ebc2669e"> 1383</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>f2fs_super_block *<a class="code" href="f2fs_8h.html#a7dffbcf93012840e801f5357ebc2669e">F2FS_RAW_SUPER</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;{</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> f2fs_super_block *)(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#acd0edefa36e84661810f38e2460a7924">raw_super</a>);</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;}</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div><div class="line"><a name="l01388"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1"> 1388</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>f2fs_checkpoint *<a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;{</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> f2fs_checkpoint *)(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0c56334b7f3b51ad03cbc32ec01a58a4">ckpt</a>);</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;}</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;</div><div class="line"><a name="l01393"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5e5a7af5a4dc3c84a46515ec1dcbf51b"> 1393</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>f2fs_node *<a class="code" href="f2fs_8h.html#a5e5a7af5a4dc3c84a46515ec1dcbf51b">F2FS_NODE</a>(<span class="keyword">struct</span> page *page)</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;{</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> f2fs_node *)page_address(page);</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;}</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div><div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4c94b67bbbabbeee9ea4eac1326e42ec"> 1398</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>f2fs_inode *<a class="code" href="f2fs_8h.html#a4c94b67bbbabbeee9ea4eac1326e42ec">F2FS_INODE</a>(<span class="keyword">struct</span> page *page)</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;{</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">return</span> &amp;((<span class="keyword">struct </span>f2fs_node *)page_address(page))-&gt;i;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;}</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a809a8b0fec3a3139d3e68bbf97410996"> 1403</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__nm__info.html">f2fs_nm_info</a> *<a class="code" href="f2fs_8h.html#a809a8b0fec3a3139d3e68bbf97410996">NM_I</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;{</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structf2fs__nm__info.html">f2fs_nm_info</a> *)(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a4869d788ce1a560b31c1d7dcc397cff9">nm_info</a>);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;}</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="f2fs_8h.html#adb061aa88c6725a813c30b1c9c11e73b"> 1408</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structf2fs__sm__info.html">f2fs_sm_info</a> *<a class="code" href="f2fs_8h.html#adb061aa88c6725a813c30b1c9c11e73b">SM_I</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;{</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structf2fs__sm__info.html">f2fs_sm_info</a> *)(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a2516acd7128a3c013ca31c1bfbbe8895">sm_info</a>);</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;}</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div><div class="line"><a name="l01413"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a47b6613afe5d00de8205bd048875e951"> 1413</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structsit__info.html">sit_info</a> *<a class="code" href="f2fs_8h.html#a47b6613afe5d00de8205bd048875e951">SIT_I</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;{</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structsit__info.html">sit_info</a> *)(<a class="code" href="f2fs_8h.html#adb061aa88c6725a813c30b1c9c11e73b">SM_I</a>(sbi)-&gt;<a class="code" href="structf2fs__sm__info.html#ac69ef6c62d2d6a9ac474e8dca9d9188b">sit_info</a>);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a276e1a9ee4f10353e7f23d6ae089112b"> 1418</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structfree__segmap__info.html">free_segmap_info</a> *<a class="code" href="f2fs_8h.html#a276e1a9ee4f10353e7f23d6ae089112b">FREE_I</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;{</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structfree__segmap__info.html">free_segmap_info</a> *)(<a class="code" href="f2fs_8h.html#adb061aa88c6725a813c30b1c9c11e73b">SM_I</a>(sbi)-&gt;<a class="code" href="structf2fs__sm__info.html#a08f5033b7a40da9ad1d0fce3f1a013e4">free_info</a>);</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;}</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div><div class="line"><a name="l01423"></a><span class="lineno"><a class="line" href="f2fs_8h.html#afba5ea72e2d34d08ac7d1be3f03559e0"> 1423</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span><a class="code" href="structdirty__seglist__info.html">dirty_seglist_info</a> *<a class="code" href="f2fs_8h.html#afba5ea72e2d34d08ac7d1be3f03559e0">DIRTY_I</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;{</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code" href="structdirty__seglist__info.html">dirty_seglist_info</a> *)(<a class="code" href="f2fs_8h.html#adb061aa88c6725a813c30b1c9c11e73b">SM_I</a>(sbi)-&gt;<a class="code" href="structf2fs__sm__info.html#ac3346a7625b658b51b8b9dc4b2fa572d">dirty_info</a>);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8826c1c198e1e502d643792da13615d4"> 1428</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>address_space *<a class="code" href="f2fs_8h.html#a8826c1c198e1e502d643792da13615d4">META_MAPPING</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;{</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">return</span> sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a5b19bff380154a01e5bbdc6b0a276522">meta_inode</a>-&gt;i_mapping;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;}</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aab8e501a500e723cf611b0d816e9d6a1"> 1433</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>address_space *<a class="code" href="f2fs_8h.html#aab8e501a500e723cf611b0d816e9d6a1">NODE_MAPPING</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;{</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keywordflow">return</span> sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af28b52b326d467e7a3b93415e101ed16">node_inode</a>-&gt;i_mapping;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0233fb27dc3ca25611a05d87ecec1fdc"> 1438</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a0233fb27dc3ca25611a05d87ecec1fdc">is_sbi_flag_set</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;{</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">return</span> test_bit(type, &amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a7465e210af93c2455635f7f9021879d5">s_flag</a>);</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;}</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2cdfd24554c7f3f0cc5a0cccab495f11"> 1443</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a2cdfd24554c7f3f0cc5a0cccab495f11">set_sbi_flag</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;{</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    set_bit(type, &amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a7465e210af93c2455635f7f9021879d5">s_flag</a>);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;}</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab1e22e9076986e6758f425e0c6a0fae3"> 1448</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ab1e22e9076986e6758f425e0c6a0fae3">clear_sbi_flag</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;{</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    clear_bit(type, &amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a7465e210af93c2455635f7f9021879d5">s_flag</a>);</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;}</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9dc76e28efb9a0768daa3d02691ef8c7"> 1453</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#a9dc76e28efb9a0768daa3d02691ef8c7">cur_cp_version</a>(<span class="keyword">struct</span> f2fs_checkpoint *cp)</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;{</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">return</span> le64_to_cpu(cp-&gt;checkpoint_ver);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;}</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;</div><div class="line"><a name="l01458"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6ca44b5d99135a7b3d7dc29f204a1571"> 1458</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#a6ca44b5d99135a7b3d7dc29f204a1571">f2fs_qf_ino</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;{</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (type &lt; F2FS_MAX_QUOTAS)</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="keywordflow">return</span> le32_to_cpu(<a class="code" href="f2fs_8h.html#ae4ef40bc46e01abbe539204218bcf106">F2FS_SB</a>(sb)-&gt;raw_super-&gt;qf_ino[type]);</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa6c39a96655ae37af10bcfbb7f487e18"> 1465</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __u64 <a class="code" href="f2fs_8h.html#aa6c39a96655ae37af10bcfbb7f487e18">cur_cp_crc</a>(<span class="keyword">struct</span> f2fs_checkpoint *cp)</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    <span class="keywordtype">size_t</span> crc_offset = le32_to_cpu(cp-&gt;checksum_offset);</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">return</span> le32_to_cpu(*((__le32 *)((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)cp + crc_offset)));</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;}</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abb6676bbd589a9ca63ae2dd34a6501f7"> 1471</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#abb6676bbd589a9ca63ae2dd34a6501f7">__is_set_ckpt_flags</a>(<span class="keyword">struct</span> f2fs_checkpoint *cp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f)</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;{</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ckpt_flags = le32_to_cpu(cp-&gt;ckpt_flags);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">return</span> ckpt_flags &amp; f;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db"> 1478</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f)</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;{</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#abb6676bbd589a9ca63ae2dd34a6501f7">__is_set_ckpt_flags</a>(<a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi), f);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1df29979ea88907683cfcdaf1f4e144e"> 1483</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1df29979ea88907683cfcdaf1f4e144e">__set_ckpt_flags</a>(<span class="keyword">struct</span> f2fs_checkpoint *cp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f)</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ckpt_flags;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    ckpt_flags = le32_to_cpu(cp-&gt;ckpt_flags);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    ckpt_flags |= f;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    cp-&gt;ckpt_flags = cpu_to_le32(ckpt_flags);</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;}</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"><a class="line" href="f2fs_8h.html#afd0183853749ddf02fac2eb4bf38ecd4"> 1492</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#afd0183853749ddf02fac2eb4bf38ecd4">set_ckpt_flags</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f)</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;{</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ctree_8h.html#a92950c4c9053228f2a3fa6f2cb934d30">flags</a>;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    spin_lock_irqsave(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>, flags);</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="f2fs_8h.html#a1df29979ea88907683cfcdaf1f4e144e">__set_ckpt_flags</a>(<a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi), f);</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    spin_unlock_irqrestore(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>, flags);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;}</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;</div><div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a897735bc95b06bb72a78024dd397ec9c"> 1501</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a897735bc95b06bb72a78024dd397ec9c">__clear_ckpt_flags</a>(<span class="keyword">struct</span> f2fs_checkpoint *cp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f)</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;{</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ckpt_flags;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    ckpt_flags = le32_to_cpu(cp-&gt;ckpt_flags);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    ckpt_flags &amp;= (~f);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    cp-&gt;ckpt_flags = cpu_to_le32(ckpt_flags);</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;}</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a76647ff5628f2e061268c8aeef03525f"> 1510</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a76647ff5628f2e061268c8aeef03525f">clear_ckpt_flags</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f)</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;{</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ctree_8h.html#a92950c4c9053228f2a3fa6f2cb934d30">flags</a>;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    spin_lock_irqsave(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>, flags);</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <a class="code" href="f2fs_8h.html#a897735bc95b06bb72a78024dd397ec9c">__clear_ckpt_flags</a>(<a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi), f);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    spin_unlock_irqrestore(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>, flags);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;}</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div><div class="line"><a name="l01519"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1b6805195d08887999e7fd5be949d26a"> 1519</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1b6805195d08887999e7fd5be949d26a">disable_nat_bits</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> lock)</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;{</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ctree_8h.html#a92950c4c9053228f2a3fa6f2cb934d30">flags</a>;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <a class="code" href="f2fs_8h.html#a2cdfd24554c7f3f0cc5a0cccab495f11">set_sbi_flag</a>(sbi, <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a0484aba3ed9465930c7267621e42b92e">SBI_NEED_FSCK</a>);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        spin_lock_irqsave(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>, flags);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <a class="code" href="f2fs_8h.html#a897735bc95b06bb72a78024dd397ec9c">__clear_ckpt_flags</a>(<a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi), CP_NAT_BITS_FLAG);</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    kfree(<a class="code" href="f2fs_8h.html#a809a8b0fec3a3139d3e68bbf97410996">NM_I</a>(sbi)-&gt;nat_bits);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <a class="code" href="f2fs_8h.html#a809a8b0fec3a3139d3e68bbf97410996">NM_I</a>(sbi)-&gt;<a class="code" href="structf2fs__nm__info.html#af11c9a6b4214dbcd3e649d2cfedd144d">nat_bits</a> = NULL;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="keywordflow">if</span> (lock)</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        spin_unlock_irqrestore(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">cp_lock</a>, flags);</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;}</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;</div><div class="line"><a name="l01534"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7a2e499600c155f217665b4a2f679c5a"> 1534</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a7a2e499600c155f217665b4a2f679c5a">enabled_nat_bits</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                    <span class="keyword">struct</span> <a class="code" href="structcp__control.html">cp_control</a> *cpc)</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;{</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordtype">bool</span> <span class="keyword">set</span> = <a class="code" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a>(sbi, CP_NAT_BITS_FLAG);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">return</span> (cpc) ? (cpc-&gt;<a class="code" href="structcp__control.html#a3117d99503d5554f867703730a49fbd4">reason</a> &amp; <a class="code" href="f2fs_8h.html#a2868ec5f32efd71511810a3f4f506b08">CP_UMOUNT</a>) &amp;&amp; <span class="keyword">set</span> : <span class="keyword">set</span>;</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;}</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a44d5ae2c13d9d628a85c40d4e10abc9a"> 1542</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a44d5ae2c13d9d628a85c40d4e10abc9a">f2fs_lock_op</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;{</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    down_read(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4">cp_rwsem</a>);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;}</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"><a class="line" href="f2fs_8h.html#accb955944554886bb8a20adc9be63cb3"> 1547</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#accb955944554886bb8a20adc9be63cb3">f2fs_trylock_op</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;{</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">return</span> down_read_trylock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4">cp_rwsem</a>);</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;}</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a516f344f529edbf5c31535c0b00be714"> 1552</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a516f344f529edbf5c31535c0b00be714">f2fs_unlock_op</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;{</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    up_read(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4">cp_rwsem</a>);</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;}</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa4a315b1d9baaa173855d99798d43099"> 1557</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aa4a315b1d9baaa173855d99798d43099">f2fs_lock_all</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;{</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    down_write(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4">cp_rwsem</a>);</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;}</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01562"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae6760a32968fb10673a5a68ea00ec551"> 1562</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae6760a32968fb10673a5a68ea00ec551">f2fs_unlock_all</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;{</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    up_write(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4">cp_rwsem</a>);</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;}</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1f4f97c43f3ea226574c9b905876431c"> 1567</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a1f4f97c43f3ea226574c9b905876431c">__get_cp_reason</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;{</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordtype">int</span> reason = <a class="code" href="f2fs_8h.html#a9da0ace987ba4da9d929cf4bbe970176">CP_SYNC</a>;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ade483dbca063c73c4fea7dcd671289be">test_opt</a>(sbi, FASTBOOT))</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        reason = <a class="code" href="f2fs_8h.html#a0629380a08ae644943b105080e04f9bf">CP_FASTBOOT</a>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#a0233fb27dc3ca25611a05d87ecec1fdc">is_sbi_flag_set</a>(sbi, <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631af0a7854bc09ce752eaf285c70d8d016a">SBI_IS_CLOSE</a>))</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;        reason = <a class="code" href="f2fs_8h.html#a2868ec5f32efd71511810a3f4f506b08">CP_UMOUNT</a>;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">return</span> reason;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a58ccdd26bb35d6510f9a8024d2f9abe8"> 1578</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a58ccdd26bb35d6510f9a8024d2f9abe8">__remain_node_summaries</a>(<span class="keywordtype">int</span> reason)</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;{</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span> (reason &amp; (<a class="code" href="f2fs_8h.html#a2868ec5f32efd71511810a3f4f506b08">CP_UMOUNT</a> | <a class="code" href="f2fs_8h.html#a0629380a08ae644943b105080e04f9bf">CP_FASTBOOT</a>));</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9979b9db5eb8c0e197077d732f103cf0"> 1583</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a9979b9db5eb8c0e197077d732f103cf0">__exist_node_summaries</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;{</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a>(sbi, CP_UMOUNT_FLAG) ||</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <a class="code" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a>(sbi, CP_FASTBOOT_FLAG));</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment"> * Check whether the given nid is within node id range.</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01592"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a30dade6ff389a148c7c171b2e2a3c25e"> 1592</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a30dade6ff389a148c7c171b2e2a3c25e">check_nid_range</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid)</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;{</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">if</span> (unlikely(nid &lt; F2FS_ROOT_INO(sbi)))</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">if</span> (unlikely(nid &gt;= <a class="code" href="f2fs_8h.html#a809a8b0fec3a3139d3e68bbf97410996">NM_I</a>(sbi)-&gt;max_nid))</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;}</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment"> * Check whether the inode has blocks or not</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9afc4b816f06b5df4ffc08314bab3223"> 1604</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a9afc4b816f06b5df4ffc08314bab3223">F2FS_HAS_BLOCKS</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;{</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> xattr_block = <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a727c604d96c40ef872eed3fc502f7f4a">i_xattr_nid</a> ? 1 : 0;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">return</span> (inode-&gt;i_blocks &gt;&gt; F2FS_LOG_SECTORS_PER_BLOCK) &gt; xattr_block;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;}</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;</div><div class="line"><a name="l01611"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aed18e7670f13cf639dda3164c86b9e78"> 1611</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aed18e7670f13cf639dda3164c86b9e78">f2fs_has_xattr_block</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ofs)</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;{</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="keywordflow">return</span> ofs == <a class="code" href="f2fs_8h.html#a71518da6339e36a7106098b9c1927db9">XATTR_NODE_OFFSET</a>;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;}</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae3313daf79e35382713e3ff77a463d24"> 1616</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ae3313daf79e35382713e3ff77a463d24">__allow_reserved_blocks</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                    <span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;{</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">if</span> (!inode)</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="f2fs_8h.html#ade483dbca063c73c4fea7dcd671289be">test_opt</a>(sbi, RESERVE_ROOT))</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">if</span> (IS_NOQUOTA(inode))</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">if</span> (uid_eq(<a class="code" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a>(sbi).s_resuid, current_fsuid()))</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (!gid_eq(<a class="code" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a>(sbi).s_resgid, GLOBAL_ROOT_GID) &amp;&amp;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                    in_group_p(<a class="code" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a>(sbi).s_resgid))</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">if</span> (capable(CAP_SYS_RESOURCE))</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;}</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a>(<span class="keyword">struct</span> inode *, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a>, <span class="keywordtype">bool</span>, <span class="keywordtype">bool</span>);</div><div class="line"><a name="l01636"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1b4a24df4e88a067b4b1e34f12ad5b23"> 1636</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a1b4a24df4e88a067b4b1e34f12ad5b23">inc_valid_block_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                 <span class="keyword">struct</span> inode *inode, blkcnt_t *<a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>)</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;{</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    blkcnt_t diff = 0, release = 0;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> avail_user_block_count;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    ret = dquot_reserve_block(inode, *count);</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span> (ret)</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(sbi, FAULT_BLOCK)) {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        f2fs_show_injection_info(FAULT_BLOCK);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        release = *<a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="keywordflow">goto</span> enospc;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    }</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">     * let&#39;s increase this in prior to actual block count change in order</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">     * for f2fs_sync_file to avoid data races when deciding checkpoint.</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    percpu_counter_add(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a9db94be0c0f0c9341aa6e0f92c43e7fa">alloc_valid_block_count</a>, (*count));</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> += (<a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a>)(*count);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    avail_user_block_count = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aaf942439a5af1465793bf7ff0e0d79ab">user_block_count</a> -</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;                    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a>;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="f2fs_8h.html#ae3313daf79e35382713e3ff77a463d24">__allow_reserved_blocks</a>(sbi, inode))</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        avail_user_block_count -= <a class="code" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a>(sbi).root_reserved_blocks;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordflow">if</span> (unlikely(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> &gt; avail_user_block_count)) {</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        diff = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> - avail_user_block_count;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <span class="keywordflow">if</span> (diff &gt; *count)</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;            diff = *<a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        *count -= diff;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        release = diff;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> -= diff;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="keywordflow">if</span> (!*count) {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;            percpu_counter_sub(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a9db94be0c0f0c9341aa6e0f92c43e7fa">alloc_valid_block_count</a>, diff);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;            <span class="keywordflow">goto</span> enospc;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        }</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    }</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (unlikely(release))</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        dquot_release_reservation_block(inode, release);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a>(inode, *count, <span class="keyword">true</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;enospc:</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    dquot_release_reservation_block(inode, release);</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">return</span> -ENOSPC;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;}</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;</div><div class="line"><a name="l01693"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acc95be668128fceb3f3249f48f3ccffc"> 1693</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#acc95be668128fceb3f3249f48f3ccffc">dec_valid_block_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                        <span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;                        <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>)</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;{</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    blkcnt_t sectors = count &lt;&lt; F2FS_LOG_SECTORS_PER_BLOCK;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <a class="code" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a>(sbi, sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> &lt; (<a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a>) count);</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <a class="code" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a>(sbi, inode-&gt;i_blocks &lt; sectors);</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> -= (<a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a>)count;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keywordflow">if</span> (sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">reserved_blocks</a> &amp;&amp;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a> &lt; sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">reserved_blocks</a>)</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a> = min(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">reserved_blocks</a>,</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a> + count);</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;    spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    <a class="code" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a>(inode, count, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;}</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4b20cd3f318e8e62ed4cec6b03530ed6"> 1711</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4b20cd3f318e8e62ed4cec6b03530ed6">inc_page_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424">count_type</a>)</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;{</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    atomic_inc(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aec216c86eeeeb66a7cf99445479d917b">nr_pages</a>[count_type]);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">if</span> (count_type == <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7">F2FS_DIRTY_DATA</a> || count_type == <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a14845b372dd7f7efe0e9bcbfe7071c3a">F2FS_INMEM_PAGES</a> ||</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        count_type == <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424ad73634dfa4a03df6fd0f53cadea41fae">F2FS_WB_CP_DATA</a> || count_type == <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a1f6d4048b428c4262cc47145c401692d">F2FS_WB_DATA</a>)</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="f2fs_8h.html#a2cdfd24554c7f3f0cc5a0cccab495f11">set_sbi_flag</a>(sbi, <a class="code" href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a35caaf7663535cceeb4c7c05f1b71c0e">SBI_IS_DIRTY</a>);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;}</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9cda59177f41ec26dbdc3be2e7dc9669"> 1722</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a9cda59177f41ec26dbdc3be2e7dc9669">inode_inc_dirty_pages</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;{</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    atomic_inc(&amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;dirty_pages);</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <a class="code" href="f2fs_8h.html#a4b20cd3f318e8e62ed4cec6b03530ed6">inc_page_count</a>(<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode), S_ISDIR(inode-&gt;i_mode) ?</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a13978bcafefc9b54a05300116e864131">F2FS_DIRTY_DENTS</a> : <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7">F2FS_DIRTY_DATA</a>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">if</span> (IS_NOQUOTA(inode))</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <a class="code" href="f2fs_8h.html#a4b20cd3f318e8e62ed4cec6b03530ed6">inc_page_count</a>(<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode), <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424af544ae3d21587331fcbb2ce6662d6dac">F2FS_DIRTY_QDATA</a>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;}</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a956726f1863279a8f96bb1bd4ceb4e73"> 1731</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a956726f1863279a8f96bb1bd4ceb4e73">dec_page_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424">count_type</a>)</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;{</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    atomic_dec(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aec216c86eeeeb66a7cf99445479d917b">nr_pages</a>[count_type]);</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;}</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad8097b505bbcd1eb8911669906d92520"> 1736</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ad8097b505bbcd1eb8911669906d92520">inode_dec_dirty_pages</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;{</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">if</span> (!S_ISDIR(inode-&gt;i_mode) &amp;&amp; !S_ISREG(inode-&gt;i_mode) &amp;&amp;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            !S_ISLNK(inode-&gt;i_mode))</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    atomic_dec(&amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;dirty_pages);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <a class="code" href="f2fs_8h.html#a956726f1863279a8f96bb1bd4ceb4e73">dec_page_count</a>(<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode), S_ISDIR(inode-&gt;i_mode) ?</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424a13978bcafefc9b54a05300116e864131">F2FS_DIRTY_DENTS</a> : <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7">F2FS_DIRTY_DATA</a>);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">if</span> (IS_NOQUOTA(inode))</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="f2fs_8h.html#a956726f1863279a8f96bb1bd4ceb4e73">dec_page_count</a>(<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode), <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424af544ae3d21587331fcbb2ce6662d6dac">F2FS_DIRTY_QDATA</a>);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;}</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab9b89fbc6698715c48d39b8872a9d6ab"> 1749</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> s64 <a class="code" href="f2fs_8h.html#ab9b89fbc6698715c48d39b8872a9d6ab">get_pages</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8246e7360341cf479227199635db5424">count_type</a>)</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;{</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="keywordflow">return</span> atomic_read(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aec216c86eeeeb66a7cf99445479d917b">nr_pages</a>[count_type]);</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;}</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;</div><div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a82a317db620089f67f0493f5475ec6b5"> 1754</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a82a317db620089f67f0493f5475ec6b5">get_dirty_pages</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;{</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span> atomic_read(&amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;dirty_pages);</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a21274970a1ecd55f1d2967bff2288454"> 1759</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a21274970a1ecd55f1d2967bff2288454">get_blocktype_secs</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> block_type)</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;{</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pages_per_sec = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a370dc358e9504deb27cf24774d28ca56">segs_per_sec</a> * sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a29165310cbf394f16570d745da3450a6">blocks_per_seg</a>;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> segs = (<a class="code" href="f2fs_8h.html#ab9b89fbc6698715c48d39b8872a9d6ab">get_pages</a>(sbi, block_type) + pages_per_sec - 1) &gt;&gt;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#ad7d19200ec87d0fdd90db8422f119f7f">log_blocks_per_seg</a>;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">return</span> segs / sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a370dc358e9504deb27cf24774d28ca56">segs_per_sec</a>;</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;}</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae72aed3be496d850be5d309898bbf056"> 1768</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#ae72aed3be496d850be5d309898bbf056">valid_user_blocks</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;{</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">return</span> sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a>;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;}</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;</div><div class="line"><a name="l01773"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3663c6290750e274eef45f3743e713ac"> 1773</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#a3663c6290750e274eef45f3743e713ac">discard_blocks</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;{</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    <span class="keywordflow">return</span> sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af487b29f1ba99af07889e6baea27ce71">discard_blks</a>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;}</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div><div class="line"><a name="l01778"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a83ac0b6590c66024dd5262b491a767ee"> 1778</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#a83ac0b6590c66024dd5262b491a767ee">__bitmap_size</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> flag)</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;{</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keyword">struct </span>f2fs_checkpoint *ckpt = <a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi);</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="comment">/* return NAT or SIT bitmap */</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">if</span> (flag == <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621">NAT_BITMAP</a>)</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">return</span> le32_to_cpu(ckpt-&gt;nat_ver_bitmap_bytesize);</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag == <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39a0d434e7a9567128693a53389457d0d46">SIT_BITMAP</a>)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordflow">return</span> le32_to_cpu(ckpt-&gt;sit_ver_bitmap_bytesize);</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;}</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ace68ed974400fee5bead36282f486df1"> 1791</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#ace68ed974400fee5bead36282f486df1">__cp_payload</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;{</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">return</span> le32_to_cpu(<a class="code" href="f2fs_8h.html#a7dffbcf93012840e801f5357ebc2669e">F2FS_RAW_SUPER</a>(sbi)-&gt;cp_payload);</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;}</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div><div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0628bfc6240b099d4dea1af398b8a0ef"> 1796</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#a0628bfc6240b099d4dea1af398b8a0ef">__bitmap_ptr</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> flag)</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;{</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keyword">struct </span>f2fs_checkpoint *ckpt = <a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi);</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a>(sbi, CP_LARGE_NAT_BITMAP_FLAG)) {</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        offset = (flag == <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39a0d434e7a9567128693a53389457d0d46">SIT_BITMAP</a>) ?</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            le32_to_cpu(ckpt-&gt;nat_ver_bitmap_bytesize) : 0;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        <span class="keywordflow">return</span> &amp;ckpt-&gt;sit_nat_version_bitmap + <a class="code" href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    }</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ace68ed974400fee5bead36282f486df1">__cp_payload</a>(sbi) &gt; 0) {</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <span class="keywordflow">if</span> (flag == <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621">NAT_BITMAP</a>)</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <span class="keywordflow">return</span> &amp;ckpt-&gt;sit_nat_version_bitmap;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)ckpt + F2FS_BLKSIZE;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        offset = (flag == <a class="code" href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621">NAT_BITMAP</a>) ?</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            le32_to_cpu(ckpt-&gt;sit_ver_bitmap_bytesize) : 0;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <span class="keywordflow">return</span> &amp;ckpt-&gt;sit_nat_version_bitmap + <a class="code" href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    }</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;}</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div><div class="line"><a name="l01819"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1ee55d25e5362f8b7452e54e5b004521"> 1819</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#a1ee55d25e5362f8b7452e54e5b004521">__start_cp_addr</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;{</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> start_addr = le32_to_cpu(<a class="code" href="f2fs_8h.html#a7dffbcf93012840e801f5357ebc2669e">F2FS_RAW_SUPER</a>(sbi)-&gt;cp_blkaddr);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> (sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b">cur_cp_pack</a> == 2)</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        start_addr += sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a29165310cbf394f16570d745da3450a6">blocks_per_seg</a>;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    <span class="keywordflow">return</span> start_addr;</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;}</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div><div class="line"><a name="l01828"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5665f1e96b16d5767f05f3fd6f52f609"> 1828</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#a5665f1e96b16d5767f05f3fd6f52f609">__start_cp_next_addr</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;{</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> start_addr = le32_to_cpu(<a class="code" href="f2fs_8h.html#a7dffbcf93012840e801f5357ebc2669e">F2FS_RAW_SUPER</a>(sbi)-&gt;cp_blkaddr);</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">if</span> (sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b">cur_cp_pack</a> == 1)</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;        start_addr += sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a29165310cbf394f16570d745da3450a6">blocks_per_seg</a>;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">return</span> start_addr;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;}</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5b2b7c1b63f0527445d7893084fbf35e"> 1837</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a5b2b7c1b63f0527445d7893084fbf35e">__set_cp_next_pack</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;{</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b">cur_cp_pack</a> = (sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b">cur_cp_pack</a> == 1) ? 2 : 1;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;}</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a6f07f383e0c2b9ab6c9623f0f7c182d5"> 1842</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#a6f07f383e0c2b9ab6c9623f0f7c182d5">__start_sum_addr</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;{</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">return</span> le32_to_cpu(<a class="code" href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a>(sbi)-&gt;cp_pack_start_sum);</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;}</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae9da62655347c3f004628ad453483aff"> 1847</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ae9da62655347c3f004628ad453483aff">inc_valid_node_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                    <span class="keyword">struct</span> inode *inode, <span class="keywordtype">bool</span> is_inode)</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;{</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> valid_block_count;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aed9f6e2862079e965feb3376f601ce5f">valid_node_count</a>;</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordtype">bool</span> quota = inode &amp;&amp; !is_inode;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">if</span> (quota) {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <span class="keywordtype">int</span> ret = dquot_reserve_block(inode, 1);</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        <span class="keywordflow">if</span> (ret)</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    }</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(sbi, FAULT_BLOCK)) {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        f2fs_show_injection_info(FAULT_BLOCK);</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <span class="keywordflow">goto</span> enospc;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    }</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    valid_block_count = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a> +</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a> + 1;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="f2fs_8h.html#ae3313daf79e35382713e3ff77a463d24">__allow_reserved_blocks</a>(sbi, inode))</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        valid_block_count += <a class="code" href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a>(sbi).root_reserved_blocks;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    <span class="keywordflow">if</span> (unlikely(valid_block_count &gt; sbi-&gt;<a class="code" href="structf2fs__sb__info.html#aaf942439a5af1465793bf7ff0e0d79ab">user_block_count</a>)) {</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        <span class="keywordflow">goto</span> enospc;</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    }</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    valid_node_count = sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">total_valid_node_count</a> + 1;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span> (unlikely(valid_node_count &gt; sbi-&gt;<a class="code" href="structf2fs__sb__info.html#adce3736f23e297c09ae26ed9be82833a">total_node_count</a>)) {</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <span class="keywordflow">goto</span> enospc;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    }</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">total_valid_node_count</a>++;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a>++;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <span class="keywordflow">if</span> (inode) {</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <span class="keywordflow">if</span> (is_inode)</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            <a class="code" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a>(inode, 1, <span class="keyword">true</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    }</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    percpu_counter_inc(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a9db94be0c0f0c9341aa6e0f92c43e7fa">alloc_valid_block_count</a>);</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;enospc:</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    <span class="keywordflow">if</span> (quota)</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        dquot_release_reservation_block(inode, 1);</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">return</span> -ENOSPC;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;}</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acc166b0f5bc218a19c5faf9dc9d55698"> 1906</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#acc166b0f5bc218a19c5faf9dc9d55698">dec_valid_node_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                    <span class="keyword">struct</span> inode *inode, <span class="keywordtype">bool</span> is_inode)</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;{</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <a class="code" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a>(sbi, !sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a>);</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <a class="code" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a>(sbi, !sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">total_valid_node_count</a>);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <a class="code" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a>(sbi, !is_inode &amp;&amp; !inode-&gt;i_blocks);</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">total_valid_node_count</a>--;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">total_valid_block_count</a>--;</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">if</span> (sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">reserved_blocks</a> &amp;&amp;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a> &lt; sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">reserved_blocks</a>)</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">current_reserved_blocks</a>++;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">stat_lock</a>);</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordflow">if</span> (!is_inode)</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <a class="code" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a>(inode, 1, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;}</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div><div class="line"><a name="l01927"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aed9f6e2862079e965feb3376f601ce5f"> 1927</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aed9f6e2862079e965feb3376f601ce5f">valid_node_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;{</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="keywordflow">return</span> sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">total_valid_node_count</a>;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;}</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a06824a573928f4fe3b3348611d4bf555"> 1932</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a06824a573928f4fe3b3348611d4bf555">inc_valid_inode_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;{</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    percpu_counter_inc(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a47104575e1b821aed814840b5cf2c7d8">total_valid_inode_count</a>);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;}</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;</div><div class="line"><a name="l01937"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7adf17ecc9a01ec844821102053c6f5e"> 1937</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7adf17ecc9a01ec844821102053c6f5e">dec_valid_inode_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;{</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    percpu_counter_dec(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a47104575e1b821aed814840b5cf2c7d8">total_valid_inode_count</a>);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;}</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;</div><div class="line"><a name="l01942"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aee9966e781dc663e607c19706c503ea0"> 1942</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> s64 <a class="code" href="f2fs_8h.html#aee9966e781dc663e607c19706c503ea0">valid_inode_count</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;{</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">return</span> percpu_counter_sum_positive(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a47104575e1b821aed814840b5cf2c7d8">total_valid_inode_count</a>);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;}</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01947"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa21991918fdf7636a677390fa8fbab80"> 1947</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>page *<a class="code" href="f2fs_8h.html#aa21991918fdf7636a677390fa8fbab80">f2fs_grab_cache_page</a>(<span class="keyword">struct</span> address_space *mapping,</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                        pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">bool</span> for_write)</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;{</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keyword">struct </span>page *page = find_lock_page(mapping, index);</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    <span class="keywordflow">if</span> (page)</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        <span class="keywordflow">return</span> page;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(<a class="code" href="f2fs_8h.html#a775eff172a82c770b1982e02e4312eb8">F2FS_M_SB</a>(mapping), FAULT_PAGE_ALLOC)) {</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        f2fs_show_injection_info(FAULT_PAGE_ALLOC);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    }</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> (!for_write)</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keywordflow">return</span> grab_cache_page(mapping, index);</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    <span class="keywordflow">return</span> grab_cache_page_write_begin(mapping, index, AOP_FLAG_NOFS);</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;}</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a44f7d38d1afd4249ceb9ff495c3ef7a6"> 1966</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>page *<a class="code" href="f2fs_8h.html#a44f7d38d1afd4249ceb9ff495c3ef7a6">f2fs_pagecache_get_page</a>(</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                <span class="keyword">struct</span> address_space *mapping, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>,</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                <span class="keywordtype">int</span> fgp_flags, gfp_t gfp_mask)</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;{</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(<a class="code" href="f2fs_8h.html#a775eff172a82c770b1982e02e4312eb8">F2FS_M_SB</a>(mapping), FAULT_PAGE_GET)) {</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        f2fs_show_injection_info(FAULT_PAGE_GET);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    }</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keywordflow">return</span> pagecache_get_page(mapping, index, fgp_flags, gfp_mask);</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;}</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a48062cab2a4f605821b1b430bd41611a"> 1979</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a48062cab2a4f605821b1b430bd41611a">f2fs_copy_page</a>(<span class="keyword">struct</span> page *src, <span class="keyword">struct</span> page *dst)</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;{</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordtype">char</span> *src_kaddr = kmap(src);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordtype">char</span> *dst_kaddr = kmap(dst);</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    memcpy(dst_kaddr, src_kaddr, PAGE_SIZE);</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    kunmap(dst);</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    kunmap(src);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;}</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;</div><div class="line"><a name="l01989"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a767b62b0aebed2a97d79f41acbc6f4c2"> 1989</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a767b62b0aebed2a97d79f41acbc6f4c2">f2fs_put_page</a>(<span class="keyword">struct</span> page *page, <span class="keywordtype">int</span> unlock)</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;{</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">if</span> (!page)</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">if</span> (unlock) {</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        <a class="code" href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a>(<a class="code" href="f2fs_8h.html#a8a8c4c2d892d1eafc69f46df674f974a">F2FS_P_SB</a>(page), !PageLocked(page));</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        unlock_page(page);</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    }</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    put_page(page);</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;}</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div><div class="line"><a name="l02001"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a52ba4a1d633911b17b736a22bf5c06e0"> 2001</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a52ba4a1d633911b17b736a22bf5c06e0">f2fs_put_dnode</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn)</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;{</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    <span class="keywordflow">if</span> (dn-&gt;<a class="code" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">node_page</a>)</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;        <a class="code" href="f2fs_8h.html#a767b62b0aebed2a97d79f41acbc6f4c2">f2fs_put_page</a>(dn-&gt;<a class="code" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">node_page</a>, 1);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">if</span> (dn-&gt;<a class="code" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">inode_page</a> &amp;&amp; dn-&gt;<a class="code" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">node_page</a> != dn-&gt;<a class="code" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">inode_page</a>)</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <a class="code" href="f2fs_8h.html#a767b62b0aebed2a97d79f41acbc6f4c2">f2fs_put_page</a>(dn-&gt;<a class="code" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">inode_page</a>, 0);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    dn-&gt;<a class="code" href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">node_page</a> = NULL;</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    dn-&gt;<a class="code" href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">inode_page</a> = NULL;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;}</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div><div class="line"><a name="l02011"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a53e2da383ccf0c09a37364e25ac1f348"> 2011</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>kmem_cache *<a class="code" href="f2fs_8h.html#a53e2da383ccf0c09a37364e25ac1f348">f2fs_kmem_cache_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                    <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>)</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;{</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">return</span> kmem_cache_create(name, size, 0, SLAB_RECLAIM_ACCOUNT, NULL);</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;}</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a89cdeb21b1094324507ceb671f9df9b2"> 2017</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#a89cdeb21b1094324507ceb671f9df9b2">f2fs_kmem_cache_alloc</a>(<span class="keyword">struct</span> kmem_cache *cachep,</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;                        gfp_t <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;{</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordtype">void</span> *entry;</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    entry = kmem_cache_alloc(cachep, flags);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="keywordflow">if</span> (!entry)</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        entry = kmem_cache_alloc(cachep, flags | __GFP_NOFAIL);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keywordflow">return</span> entry;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;}</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02028"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a94fccd5613fad80a0f2682c4c6a9c3f5"> 2028</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>bio *<a class="code" href="f2fs_8h.html#a94fccd5613fad80a0f2682c4c6a9c3f5">f2fs_bio_alloc</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                        <span class="keywordtype">int</span> npages, <span class="keywordtype">bool</span> no_fail)</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;{</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <span class="keyword">struct </span>bio *bio;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordflow">if</span> (no_fail) {</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="comment">/* No failure on bio allocation */</span></div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;        bio = bio_alloc(GFP_NOIO, npages);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;        <span class="keywordflow">if</span> (!bio)</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            bio = bio_alloc(GFP_NOIO | __GFP_NOFAIL, npages);</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;        <span class="keywordflow">return</span> bio;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    }</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(sbi, FAULT_ALLOC_BIO)) {</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        f2fs_show_injection_info(FAULT_ALLOC_BIO);</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    }</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <span class="keywordflow">return</span> bio_alloc(GFP_KERNEL, npages);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;}</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a90a18d7de1830c9d037348df90f37dce"> 2049</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a90a18d7de1830c9d037348df90f37dce">f2fs_radix_tree_insert</a>(<span class="keyword">struct</span> radix_tree_root *<a class="code" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>,</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">void</span> *item)</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;{</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">while</span> (radix_tree_insert(root, index, item))</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        cond_resched();</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;}</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad4491fc93d930e858b58e52ac3cf9999"> 2056</a></span>&#160;<span class="preprocessor">#define RAW_IS_INODE(p) ((p)-&gt;footer.nid == (p)-&gt;footer.ino)</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;</div><div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2e7e36ea91927828f300a312b08a5a8b"> 2058</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a2e7e36ea91927828f300a312b08a5a8b">IS_INODE</a>(<span class="keyword">struct</span> page *page)</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;{</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keyword">struct </span>f2fs_node *p = <a class="code" href="f2fs_8h.html#a5e5a7af5a4dc3c84a46515ec1dcbf51b">F2FS_NODE</a>(page);</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad4491fc93d930e858b58e52ac3cf9999">RAW_IS_INODE</a>(p);</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;}</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;</div><div class="line"><a name="l02065"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aade72d8e34a62e274b5e97dd95cbd1ba"> 2065</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aade72d8e34a62e274b5e97dd95cbd1ba">offset_in_addr</a>(<span class="keyword">struct</span> f2fs_inode *i)</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;{</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">return</span> (i-&gt;i_inline &amp; F2FS_EXTRA_ATTR) ?</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            (le16_to_cpu(i-&gt;i_extra_isize) / <span class="keyword">sizeof</span>(__le32)) : 0;</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;}</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a23f046c39b6ddf0ffbab446c06e5f1a0"> 2071</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __le32 *<a class="code" href="f2fs_8h.html#a23f046c39b6ddf0ffbab446c06e5f1a0">blkaddr_in_node</a>(<span class="keyword">struct</span> f2fs_node *node)</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;{</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad4491fc93d930e858b58e52ac3cf9999">RAW_IS_INODE</a>(node) ? node-&gt;i.i_addr : node-&gt;dn.addr;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;}</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#adf012f8b4a141e87533929532a847866">f2fs_has_extra_attr</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02077"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4ecc66ac2787868d709c9a969bad075e"> 2077</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#a4ecc66ac2787868d709c9a969bad075e">datablock_addr</a>(<span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            <span class="keyword">struct</span> page *node_page, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;{</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    <span class="keyword">struct </span>f2fs_node *raw_node;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    __le32 *addr_array;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordtype">int</span> base = 0;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordtype">bool</span> is_inode = <a class="code" href="f2fs_8h.html#a2e7e36ea91927828f300a312b08a5a8b">IS_INODE</a>(node_page);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    raw_node = <a class="code" href="f2fs_8h.html#a5e5a7af5a4dc3c84a46515ec1dcbf51b">F2FS_NODE</a>(node_page);</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <span class="comment">/* from GC path only */</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    <span class="keywordflow">if</span> (is_inode) {</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">if</span> (!inode)</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;            base = <a class="code" href="f2fs_8h.html#aade72d8e34a62e274b5e97dd95cbd1ba">offset_in_addr</a>(&amp;raw_node-&gt;i);</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#adf012f8b4a141e87533929532a847866">f2fs_has_extra_attr</a>(inode))</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            base = <a class="code" href="f2fs_8h.html#aba102f52ce9c86ee0da7fe94c8ad15bb">get_extra_isize</a>(inode);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    }</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    addr_array = <a class="code" href="f2fs_8h.html#a23f046c39b6ddf0ffbab446c06e5f1a0">blkaddr_in_node</a>(raw_node);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordflow">return</span> le32_to_cpu(addr_array[base + offset]);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;}</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;</div><div class="line"><a name="l02099"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8519ed4a7ad303d626d8724becfba5e1"> 2099</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8519ed4a7ad303d626d8724becfba5e1">f2fs_test_bit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr, <span class="keywordtype">char</span> *addr)</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;{</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    addr += (nr &gt;&gt; 3);</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    mask = 1 &lt;&lt; (7 - (nr &amp; 0x07));</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">return</span> mask &amp; *addr;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;}</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9487b62fcb011b42114ddb9ff9b6bc74"> 2108</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a9487b62fcb011b42114ddb9ff9b6bc74">f2fs_set_bit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr, <span class="keywordtype">char</span> *addr)</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;{</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    addr += (nr &gt;&gt; 3);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    mask = 1 &lt;&lt; (7 - (nr &amp; 0x07));</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    *addr |= <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;}</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac47d775f3a84a926d7e0f4f7d641c901"> 2117</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac47d775f3a84a926d7e0f4f7d641c901">f2fs_clear_bit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr, <span class="keywordtype">char</span> *addr)</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;{</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;    addr += (nr &gt;&gt; 3);</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    mask = 1 &lt;&lt; (7 - (nr &amp; 0x07));</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    *addr &amp;= ~mask;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;}</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div><div class="line"><a name="l02126"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae05deec5726eb48e5c1d662288870c5f"> 2126</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ae05deec5726eb48e5c1d662288870c5f">f2fs_test_and_set_bit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr, <span class="keywordtype">char</span> *addr)</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;{</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    addr += (nr &gt;&gt; 3);</div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    mask = 1 &lt;&lt; (7 - (nr &amp; 0x07));</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;    ret = mask &amp; *addr;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    *addr |= <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;}</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;</div><div class="line"><a name="l02138"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa457e0296c8ac5792eb6c1a5175ddfdc"> 2138</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aa457e0296c8ac5792eb6c1a5175ddfdc">f2fs_test_and_clear_bit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr, <span class="keywordtype">char</span> *addr)</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;{</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    addr += (nr &gt;&gt; 3);</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    mask = 1 &lt;&lt; (7 - (nr &amp; 0x07));</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;    ret = mask &amp; *addr;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    *addr &amp;= ~mask;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;}</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;</div><div class="line"><a name="l02150"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2834a932c3e54d16c20329ffdbc6d038"> 2150</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a2834a932c3e54d16c20329ffdbc6d038">f2fs_change_bit</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr, <span class="keywordtype">char</span> *addr)</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;{</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    addr += (nr &gt;&gt; 3);</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    mask = 1 &lt;&lt; (7 - (nr &amp; 0x07));</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    *addr ^= <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;}</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;</div><div class="line"><a name="l02159"></a><span class="lineno"><a class="line" href="f2fs_8h.html#affdb7d9e348ec5a300348cac55c89dfd"> 2159</a></span>&#160;<span class="preprocessor">#define F2FS_REG_FLMASK     (~(FS_DIRSYNC_FL | FS_TOPDIR_FL))</span></div><div class="line"><a name="l02160"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3f18eea74b9da66b7166b6ed747f90f5"> 2160</a></span>&#160;<span class="preprocessor">#define F2FS_OTHER_FLMASK   (FS_NODUMP_FL | FS_NOATIME_FL)</span></div><div class="line"><a name="l02161"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac7b4d42dbff1cccca61dc85e0f750470"> 2161</a></span>&#160;<span class="preprocessor">#define F2FS_FL_INHERITED   (FS_PROJINHERIT_FL)</span></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae41e89d77d5f63577cd64741653bc934"> 2163</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> __u32 <a class="code" href="f2fs_8h.html#ae41e89d77d5f63577cd64741653bc934">f2fs_mask_flags</a>(umode_t mode, __u32 <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;{</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="keywordflow">if</span> (S_ISDIR(mode))</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ctree_8h.html#a92950c4c9053228f2a3fa6f2cb934d30">flags</a>;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S_ISREG(mode))</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <span class="keywordflow">return</span> flags &amp; <a class="code" href="f2fs_8h.html#affdb7d9e348ec5a300348cac55c89dfd">F2FS_REG_FLMASK</a>;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <span class="keywordflow">return</span> flags &amp; <a class="code" href="f2fs_8h.html#a3f18eea74b9da66b7166b6ed747f90f5">F2FS_OTHER_FLMASK</a>;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;}</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;<span class="comment">/* used for f2fs_inode_info-&gt;flags */</span></div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="keyword">enum</span> {</div><div class="line"><a name="l02175"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adf91aa3dac41425b881e6066843d026e"> 2175</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adf91aa3dac41425b881e6066843d026e">FI_NEW_INODE</a>,       <span class="comment">/* indicate newly allocated inode */</span></div><div class="line"><a name="l02176"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a945c12b0dca76d887b1ebcfa575c3954"> 2176</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a945c12b0dca76d887b1ebcfa575c3954">FI_DIRTY_INODE</a>,     <span class="comment">/* indicate inode is dirty or not */</span></div><div class="line"><a name="l02177"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58"> 2177</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a>,    <span class="comment">/* indicate inode is recoverable */</span></div><div class="line"><a name="l02178"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ac7d1ecb3ad0588eb90d57f0dd8e1b7d9"> 2178</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ac7d1ecb3ad0588eb90d57f0dd8e1b7d9">FI_DIRTY_DIR</a>,       <span class="comment">/* indicate directory has dirty pages */</span></div><div class="line"><a name="l02179"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a881a37eaa92d24d8b2745d20f2cc3308"> 2179</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a881a37eaa92d24d8b2745d20f2cc3308">FI_INC_LINK</a>,        <span class="comment">/* need to increment i_nlink */</span></div><div class="line"><a name="l02180"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ad25f77b8a557ad6bdd86f93d9cc0d3b8"> 2180</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ad25f77b8a557ad6bdd86f93d9cc0d3b8">FI_ACL_MODE</a>,        <span class="comment">/* indicate acl mode */</span></div><div class="line"><a name="l02181"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a25d1f487d25aeb0e4160658f5de11f7d"> 2181</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a25d1f487d25aeb0e4160658f5de11f7d">FI_NO_ALLOC</a>,        <span class="comment">/* should not allocate any blocks */</span></div><div class="line"><a name="l02182"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a69fb472aeabbb24597b8fee97530de2e"> 2182</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a69fb472aeabbb24597b8fee97530de2e">FI_FREE_NID</a>,        <span class="comment">/* free allocated nide */</span></div><div class="line"><a name="l02183"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5fd349433f3023046cd7c0cdd8bbb289"> 2183</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5fd349433f3023046cd7c0cdd8bbb289">FI_NO_EXTENT</a>,       <span class="comment">/* not to use the extent cache */</span></div><div class="line"><a name="l02184"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7"> 2184</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7">FI_INLINE_XATTR</a>,    <span class="comment">/* used for inline xattr */</span></div><div class="line"><a name="l02185"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306"> 2185</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306">FI_INLINE_DATA</a>,     <span class="comment">/* used for inline data*/</span></div><div class="line"><a name="l02186"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800"> 2186</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800">FI_INLINE_DENTRY</a>,   <span class="comment">/* used for inline dentry */</span></div><div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3f823972c9a5fc071065e4201876a1b9"> 2187</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3f823972c9a5fc071065e4201876a1b9">FI_APPEND_WRITE</a>,    <span class="comment">/* inode has appended data */</span></div><div class="line"><a name="l02188"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a86a4c8eae486de5c0794da7c90b6a6ad"> 2188</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a86a4c8eae486de5c0794da7c90b6a6ad">FI_UPDATE_WRITE</a>,    <span class="comment">/* inode has in-place-update data */</span></div><div class="line"><a name="l02189"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2b9777fc4286bb1566a41fae58339d3b"> 2189</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2b9777fc4286bb1566a41fae58339d3b">FI_NEED_IPU</a>,        <span class="comment">/* used for ipu per file */</span></div><div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acb857b53b3d9149b291d971d9caaa01a"> 2190</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acb857b53b3d9149b291d971d9caaa01a">FI_ATOMIC_FILE</a>,     <span class="comment">/* indicate atomic file */</span></div><div class="line"><a name="l02191"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a18b4375600b6a46492c69303bb8d6fe6"> 2191</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a18b4375600b6a46492c69303bb8d6fe6">FI_ATOMIC_COMMIT</a>,   <span class="comment">/* indicate the state of atomical committing */</span></div><div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2e63473ff22122443164cc446adcba41"> 2192</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2e63473ff22122443164cc446adcba41">FI_VOLATILE_FILE</a>,   <span class="comment">/* indicate volatile file */</span></div><div class="line"><a name="l02193"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae0d2e2d8fe578b7675b709e808bd2bfe"> 2193</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae0d2e2d8fe578b7675b709e808bd2bfe">FI_FIRST_BLOCK_WRITTEN</a>, <span class="comment">/* indicate #0 data block was written */</span></div><div class="line"><a name="l02194"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a926653c94d7dbbf3ba9e6a35558f2714"> 2194</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a926653c94d7dbbf3ba9e6a35558f2714">FI_DROP_CACHE</a>,      <span class="comment">/* drop dirty page cache */</span></div><div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056"> 2195</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056">FI_DATA_EXIST</a>,      <span class="comment">/* indicate data exists */</span></div><div class="line"><a name="l02196"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05"> 2196</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05">FI_INLINE_DOTS</a>,     <span class="comment">/* indicate inline dot dentries */</span></div><div class="line"><a name="l02197"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acf2bd2202ea8612d646d60262bff0891"> 2197</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acf2bd2202ea8612d646d60262bff0891">FI_DO_DEFRAG</a>,       <span class="comment">/* indicate defragment is running */</span></div><div class="line"><a name="l02198"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9afbf7d3c2598375ebb41d41689835bcce"> 2198</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9afbf7d3c2598375ebb41d41689835bcce">FI_DIRTY_FILE</a>,      <span class="comment">/* indicate regular/symlink has dirty pages */</span></div><div class="line"><a name="l02199"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a0561b4c97171d5ce4c1c0f0448f62c58"> 2199</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a0561b4c97171d5ce4c1c0f0448f62c58">FI_NO_PREALLOC</a>,     <span class="comment">/* indicate skipped preallocated blocks */</span></div><div class="line"><a name="l02200"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5655ff3b029cee71ded08abe5ad69238"> 2200</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5655ff3b029cee71ded08abe5ad69238">FI_HOT_DATA</a>,        <span class="comment">/* indicate file is hot */</span></div><div class="line"><a name="l02201"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b"> 2201</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b">FI_EXTRA_ATTR</a>,      <span class="comment">/* indicate file has extra attribute */</span></div><div class="line"><a name="l02202"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae39ab9cb28d94a6106d418737f275531"> 2202</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae39ab9cb28d94a6106d418737f275531">FI_PROJ_INHERIT</a>,    <span class="comment">/* indicate file inherits projectid */</span></div><div class="line"><a name="l02203"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b"> 2203</a></span>&#160;    <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b">FI_PIN_FILE</a>,        <span class="comment">/* indicate file should not be gced */</span></div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;};</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;</div><div class="line"><a name="l02206"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af345bf9b66bc15454b71b2cb9c4b89b4"> 2206</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#af345bf9b66bc15454b71b2cb9c4b89b4">__mark_inode_dirty_flag</a>(<span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                        <span class="keywordtype">int</span> flag, <span class="keywordtype">bool</span> <span class="keyword">set</span>)</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;{</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <span class="keywordflow">switch</span> (flag) {</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7">FI_INLINE_XATTR</a>:</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306">FI_INLINE_DATA</a>:</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800">FI_INLINE_DENTRY</a>:</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adf91aa3dac41425b881e6066843d026e">FI_NEW_INODE</a>:</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">set</span>)</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056">FI_DATA_EXIST</a>:</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05">FI_INLINE_DOTS</a>:</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b">FI_PIN_FILE</a>:</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;        <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    }</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;}</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;</div><div class="line"><a name="l02223"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac118578b3853482a50926edcb4a15b39"> 2223</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac118578b3853482a50926edcb4a15b39">set_inode_flag</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> flag)</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;{</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">if</span> (!test_bit(flag, &amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structflags.html">flags</a>))</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        set_bit(flag, &amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;    <a class="code" href="f2fs_8h.html#af345bf9b66bc15454b71b2cb9c4b89b4">__mark_inode_dirty_flag</a>(inode, flag, <span class="keyword">true</span>);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;}</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;</div><div class="line"><a name="l02230"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540"> 2230</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> flag)</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;{</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">return</span> test_bit(flag, &amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;}</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae0a0bddfc0bedddcfcf551dc3574bd37"> 2235</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae0a0bddfc0bedddcfcf551dc3574bd37">clear_inode_flag</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> flag)</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;{</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keywordflow">if</span> (test_bit(flag, &amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structflags.html">flags</a>))</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        clear_bit(flag, &amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <a class="code" href="f2fs_8h.html#af345bf9b66bc15454b71b2cb9c4b89b4">__mark_inode_dirty_flag</a>(inode, flag, <span class="keyword">false</span>);</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;}</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div><div class="line"><a name="l02242"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a64c96e95cacaf33a9dcd744093adb875"> 2242</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a64c96e95cacaf33a9dcd744093adb875">set_acl_inode</a>(<span class="keyword">struct</span> inode *inode, umode_t mode)</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;{</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a60adc66e93314680e1698b66259a2485">i_acl_mode</a> = mode;</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <a class="code" href="f2fs_8h.html#ac118578b3853482a50926edcb4a15b39">set_inode_flag</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ad25f77b8a557ad6bdd86f93d9cc0d3b8">FI_ACL_MODE</a>);</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">false</span>);</div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;}</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;</div><div class="line"><a name="l02249"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a89c67a719b3824dff2e0fae3e62e46d1"> 2249</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a89c67a719b3824dff2e0fae3e62e46d1">f2fs_i_links_write</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">bool</span> inc)</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;{</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="keywordflow">if</span> (inc)</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <a class="code" href="inode_8c.html#a9e6c5f183e4d22feba01bc18e9866dd1">inc_nlink</a>(inode);</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        <a class="code" href="inode_8c.html#a3f9c3c869559fa00d152bbfb03361e25">drop_nlink</a>(inode);</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;}</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;</div><div class="line"><a name="l02258"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a"> 2258</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a>(<span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                    <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> diff, <span class="keywordtype">bool</span> add, <span class="keywordtype">bool</span> claim)</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;{</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="keywordtype">bool</span> clean = !<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a945c12b0dca76d887b1ebcfa575c3954">FI_DIRTY_INODE</a>);</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordtype">bool</span> recover = <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a>);</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <span class="comment">/* add = 1, claim = 1 should be dquot_reserve_block in pair */</span></div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordflow">if</span> (add) {</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <span class="keywordflow">if</span> (claim)</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;            dquot_claim_block(inode, diff);</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            dquot_alloc_block_nofail(inode, diff);</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        dquot_free_block(inode, diff);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    }</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    <span class="keywordflow">if</span> (clean || recover)</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <a class="code" href="f2fs_8h.html#ac118578b3853482a50926edcb4a15b39">set_inode_flag</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a>);</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;}</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div><div class="line"><a name="l02279"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a486c63c60f22e160de4d6074045d6a0a"> 2279</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a486c63c60f22e160de4d6074045d6a0a">f2fs_i_size_write</a>(<span class="keyword">struct</span> inode *inode, loff_t i_size)</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;{</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;    <span class="keywordtype">bool</span> clean = !<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a945c12b0dca76d887b1ebcfa575c3954">FI_DIRTY_INODE</a>);</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;    <span class="keywordtype">bool</span> recover = <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a>);</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="keywordflow">if</span> (i_size_read(inode) == i_size)</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    i_size_write(inode, i_size);</div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (clean || recover)</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="f2fs_8h.html#ac118578b3853482a50926edcb4a15b39">set_inode_flag</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a>);</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;}</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;</div><div class="line"><a name="l02293"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae0b20ece38adaf33884a607729176a80"> 2293</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae0b20ece38adaf33884a607729176a80">f2fs_i_depth_write</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> depth)</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;{</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a375cdc4e8bb19b6bf0b84752dcea726f">i_current_depth</a> = depth;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;}</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;</div><div class="line"><a name="l02299"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2267e406fa8d6ffa81ab631cd6a10ecd"> 2299</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a2267e406fa8d6ffa81ab631cd6a10ecd">f2fs_i_gc_failures_write</a>(<span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>)</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;{</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a0cfb8fb5fbdb93aaecf700cdeff0e2c0">i_gc_failures</a> = <a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>;</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;}</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac41cf5fb80e486120b7775b96535c53e"> 2306</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac41cf5fb80e486120b7775b96535c53e">f2fs_i_xnid_write</a>(<span class="keyword">struct</span> inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> xnid)</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;{</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a727c604d96c40ef872eed3fc502f7f4a">i_xattr_nid</a> = xnid;</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div><div class="line"><a name="l02312"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae51e6508eeff681a9c1abc0e766862dc"> 2312</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae51e6508eeff681a9c1abc0e766862dc">f2fs_i_pino_write</a>(<span class="keyword">struct</span> inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="summary_8h.html#a63d24e8b6329b7df8964200bb5f1c69e">pino</a>)</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;{</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#aa3f555ff8063cd27b682f8a7ae7b1e87">i_pino</a> = <a class="code" href="summary_8h.html#a63d24e8b6329b7df8964200bb5f1c69e">pino</a>;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;}</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div><div class="line"><a name="l02318"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1e22627b464e4c93fe549e6c94cdc4fd"> 2318</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1e22627b464e4c93fe549e6c94cdc4fd">get_inline_info</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> f2fs_inode *ri)</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;{</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__inode__info.html">f2fs_inode_info</a> *fi = <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode);</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_INLINE_XATTR)</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7">FI_INLINE_XATTR</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_INLINE_DATA)</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306">FI_INLINE_DATA</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_INLINE_DENTRY)</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800">FI_INLINE_DENTRY</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_DATA_EXIST)</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056">FI_DATA_EXIST</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_INLINE_DOTS)</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05">FI_INLINE_DOTS</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_EXTRA_ATTR)</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b">FI_EXTRA_ATTR</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="keywordflow">if</span> (ri-&gt;i_inline &amp; F2FS_PIN_FILE)</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;        set_bit(<a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b">FI_PIN_FILE</a>, &amp;fi-&gt;<a class="code" href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">flags</a>);</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;}</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;</div><div class="line"><a name="l02338"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1ee369f5beac1d0c9e01362376bdd8c1"> 2338</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1ee369f5beac1d0c9e01362376bdd8c1">set_raw_inline</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> f2fs_inode *ri)</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;{</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    ri-&gt;i_inline = 0;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7">FI_INLINE_XATTR</a>))</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        ri-&gt;i_inline |= F2FS_INLINE_XATTR;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306">FI_INLINE_DATA</a>))</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        ri-&gt;i_inline |= F2FS_INLINE_DATA;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800">FI_INLINE_DENTRY</a>))</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        ri-&gt;i_inline |= F2FS_INLINE_DENTRY;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056">FI_DATA_EXIST</a>))</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;        ri-&gt;i_inline |= F2FS_DATA_EXIST;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05">FI_INLINE_DOTS</a>))</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        ri-&gt;i_inline |= F2FS_INLINE_DOTS;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b">FI_EXTRA_ATTR</a>))</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        ri-&gt;i_inline |= F2FS_EXTRA_ATTR;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b">FI_PIN_FILE</a>))</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        ri-&gt;i_inline |= F2FS_PIN_FILE;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;}</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;</div><div class="line"><a name="l02358"></a><span class="lineno"><a class="line" href="f2fs_8h.html#adf012f8b4a141e87533929532a847866"> 2358</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#adf012f8b4a141e87533929532a847866">f2fs_has_extra_attr</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;{</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b">FI_EXTRA_ATTR</a>);</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;}</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;</div><div class="line"><a name="l02363"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8d3d2e34f66c2f8314e70b93c3934097"> 2363</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8d3d2e34f66c2f8314e70b93c3934097">f2fs_has_inline_xattr</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;{</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7">FI_INLINE_XATTR</a>);</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;}</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div><div class="line"><a name="l02368"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aab46cda024dbc6fa34f7cdd7181b05d6"> 2368</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aab46cda024dbc6fa34f7cdd7181b05d6">addrs_per_inode</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;{</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    <span class="keywordflow">return</span> CUR_ADDRS_PER_INODE(inode) - <a class="code" href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967">get_inline_xattr_addrs</a>(inode);</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;}</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;</div><div class="line"><a name="l02373"></a><span class="lineno"><a class="line" href="f2fs_8h.html#afffcdabc0706361adcd9667dcbf5ce34"> 2373</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#afffcdabc0706361adcd9667dcbf5ce34">inline_xattr_addr</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *page)</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;{</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;    <span class="keyword">struct </span>f2fs_inode *ri = <a class="code" href="f2fs_8h.html#a4c94b67bbbabbeee9ea4eac1326e42ec">F2FS_INODE</a>(page);</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)&amp;(ri-&gt;i_addr[DEF_ADDRS_PER_INODE -</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;                    <a class="code" href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967">get_inline_xattr_addrs</a>(inode)]);</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;}</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;</div><div class="line"><a name="l02381"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a970b10b512e98ebcca90c7f19f0fb16f"> 2381</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a970b10b512e98ebcca90c7f19f0fb16f">inline_xattr_size</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;{</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967">get_inline_xattr_addrs</a>(inode) * <span class="keyword">sizeof</span>(__le32);</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;}</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;</div><div class="line"><a name="l02386"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acaf8c448b06ef187b51a3e493f2d9df8"> 2386</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#acaf8c448b06ef187b51a3e493f2d9df8">f2fs_has_inline_data</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;{</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306">FI_INLINE_DATA</a>);</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;}</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;</div><div class="line"><a name="l02391"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a579aa0650750131605beab950663d520"> 2391</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a579aa0650750131605beab950663d520">f2fs_exist_data</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;{</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056">FI_DATA_EXIST</a>);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;}</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;</div><div class="line"><a name="l02396"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a1c440449ddec7b6641d80617f1b4af39"> 2396</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a1c440449ddec7b6641d80617f1b4af39">f2fs_has_inline_dots</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;{</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05">FI_INLINE_DOTS</a>);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;}</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;</div><div class="line"><a name="l02401"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4b4c9e63e6e4506947c252265b77ccf3"> 2401</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a4b4c9e63e6e4506947c252265b77ccf3">f2fs_is_pinned_file</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;{</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b">FI_PIN_FILE</a>);</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;}</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div><div class="line"><a name="l02406"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a821e4a50963066ef7a660d6b68bc8f40"> 2406</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a821e4a50963066ef7a660d6b68bc8f40">f2fs_is_atomic_file</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;{</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acb857b53b3d9149b291d971d9caaa01a">FI_ATOMIC_FILE</a>);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;}</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div><div class="line"><a name="l02411"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa0abb151bd35fbfb12e9947c14378508"> 2411</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aa0abb151bd35fbfb12e9947c14378508">f2fs_is_commit_atomic_write</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;{</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a18b4375600b6a46492c69303bb8d6fe6">FI_ATOMIC_COMMIT</a>);</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;}</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;</div><div class="line"><a name="l02416"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a95ab1215b0ac9f5e025dd0d083f045b0"> 2416</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a95ab1215b0ac9f5e025dd0d083f045b0">f2fs_is_volatile_file</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;{</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2e63473ff22122443164cc446adcba41">FI_VOLATILE_FILE</a>);</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;}</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div><div class="line"><a name="l02421"></a><span class="lineno"><a class="line" href="f2fs_8h.html#afb69b10bfdf798bf07021b98b129b5aa"> 2421</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#afb69b10bfdf798bf07021b98b129b5aa">f2fs_is_first_block_written</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;{</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae0d2e2d8fe578b7675b709e808bd2bfe">FI_FIRST_BLOCK_WRITTEN</a>);</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;}</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;</div><div class="line"><a name="l02426"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa544e2765e6a18cda671ea5f6d066b15"> 2426</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aa544e2765e6a18cda671ea5f6d066b15">f2fs_is_drop_cache</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;{</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a926653c94d7dbbf3ba9e6a35558f2714">FI_DROP_CACHE</a>);</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;}</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;</div><div class="line"><a name="l02431"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a00a24630c1d78c5379db6cbe21a7be23"> 2431</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#a00a24630c1d78c5379db6cbe21a7be23">inline_data_addr</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *page)</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;{</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    <span class="keyword">struct </span>f2fs_inode *ri = <a class="code" href="f2fs_8h.html#a4c94b67bbbabbeee9ea4eac1326e42ec">F2FS_INODE</a>(page);</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="keywordtype">int</span> extra_size = <a class="code" href="f2fs_8h.html#aba102f52ce9c86ee0da7fe94c8ad15bb">get_extra_isize</a>(inode);</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)&amp;(ri-&gt;i_addr[extra_size + <a class="code" href="f2fs_8h.html#af633eccb05dce1e76cd98b26d18a3e6b">DEF_INLINE_RESERVED_SIZE</a>]);</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;}</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;</div><div class="line"><a name="l02439"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ac81087c929321576216877c4286cc7bf"> 2439</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ac81087c929321576216877c4286cc7bf">f2fs_has_inline_dentry</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;{</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800">FI_INLINE_DENTRY</a>);</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;}</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;</div><div class="line"><a name="l02444"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a296aee2c6c5fdb23e18702677e7a26dd"> 2444</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a296aee2c6c5fdb23e18702677e7a26dd">is_file</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;{</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#ab20d62d1ee8473c4f3525319e506d6ff">i_advise</a> &amp; <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;}</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div><div class="line"><a name="l02449"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aafbdd61c3e2214090c7c5ba5b11b4638"> 2449</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aafbdd61c3e2214090c7c5ba5b11b4638">set_file</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;{</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#ab20d62d1ee8473c4f3525319e506d6ff">i_advise</a> |= <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>;</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;}</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div><div class="line"><a name="l02455"></a><span class="lineno"><a class="line" href="f2fs_8h.html#af0ed360978707802cc54b1d560ff5d74"> 2455</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#af0ed360978707802cc54b1d560ff5d74">clear_file</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>)</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;{</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#ab20d62d1ee8473c4f3525319e506d6ff">i_advise</a> &amp;= ~type;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    <a class="code" href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a>(inode, <span class="keyword">true</span>);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;}</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div><div class="line"><a name="l02461"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9a073f5615247627ad344355ca4a0714"> 2461</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a9a073f5615247627ad344355ca4a0714">f2fs_skip_inode_update</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> dsync)</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;{</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="keywordtype">bool</span> ret;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;    <span class="keywordflow">if</span> (dsync) {</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;        <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi = <a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3fc11051f26166b199bbd0ab308c8287">inode_lock</a>[<a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa020240e220811b0bc51163faf3b87061">DIRTY_META</a>]);</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        ret = list_empty(&amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;gdirty_list);</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a3fc11051f26166b199bbd0ab308c8287">inode_lock</a>[<a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa020240e220811b0bc51163faf3b87061">DIRTY_META</a>]);</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    }</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a>) ||</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;            <a class="code" href="f2fs_8h.html#afb1be754a23443d0f2435576b6ca7cd5">file_keep_isize</a>(inode) ||</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;            i_size_read(inode) &amp; ~PAGE_MASK)</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordflow">if</span> (!timespec_equal(<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_disk_time, &amp;inode-&gt;i_atime))</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">if</span> (!timespec_equal(<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_disk_time + 1, &amp;inode-&gt;i_ctime))</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    <span class="keywordflow">if</span> (!timespec_equal(<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_disk_time + 2, &amp;inode-&gt;i_mtime))</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keywordflow">if</span> (!timespec_equal(<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_disk_time + 3,</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;                        &amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_crtime))</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    down_read(&amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_sem);</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    ret = <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a9d40503ab6e50146a76bd02988ee88ff">last_disk_size</a> == i_size_read(inode);</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    up_read(&amp;<a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;i_sem);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;}</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;</div><div class="line"><a name="l02495"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a433912635a7fb7c70dcf942a26f35c49"> 2495</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a433912635a7fb7c70dcf942a26f35c49">f2fs_readonly</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;{</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    <span class="keywordflow">return</span> sb_rdonly(sb);</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;}</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;</div><div class="line"><a name="l02500"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0e41fe42294e84b647d4ca523b98bec0"> 2500</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a0e41fe42294e84b647d4ca523b98bec0">f2fs_cp_error</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;{</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a>(sbi, CP_ERROR_FLAG);</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;}</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;</div><div class="line"><a name="l02505"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abadef6e4757c9eb0198e326339790ec3"> 2505</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#abadef6e4757c9eb0198e326339790ec3">is_dot_dotdot</a>(<span class="keyword">const</span> <span class="keyword">struct</span> qstr *str)</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;{</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="keywordflow">if</span> (str-&gt;len == 1 &amp;&amp; str-&gt;name[0] == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keywordflow">if</span> (str-&gt;len == 2 &amp;&amp; str-&gt;name[0] == <span class="charliteral">&#39;.&#39;</span> &amp;&amp; str-&gt;name[1] == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;}</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div><div class="line"><a name="l02516"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5c520ccc0079ed0a9b1be5a387f1d361"> 2516</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a5c520ccc0079ed0a9b1be5a387f1d361">f2fs_may_extent_tree</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;{</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="f2fs_8h.html#ade483dbca063c73c4fea7dcd671289be">test_opt</a>(<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode), <a class="code" href="node_8h.html#ad756268621f03e4812b68792b291fff5a20db9afc931b00a38189ceed22078131">EXTENT_CACHE</a>) ||</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;            <a class="code" href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a>(inode, <a class="code" href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5fd349433f3023046cd7c0cdd8bbb289">FI_NO_EXTENT</a>))</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    <span class="keywordflow">return</span> S_ISREG(inode-&gt;i_mode);</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;}</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;</div><div class="line"><a name="l02525"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a036c8838aa2eee8ace8e6940d0352a7a"> 2525</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#a036c8838aa2eee8ace8e6940d0352a7a">f2fs_kmalloc</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                    <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>, gfp_t <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;{</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(sbi, FAULT_KMALLOC)) {</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        f2fs_show_injection_info(FAULT_KMALLOC);</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    }</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    <span class="keywordflow">return</span> kmalloc(size, flags);</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;}</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;</div><div class="line"><a name="l02537"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8618342bf5f08a91e956d39efbdb4f2f"> 2537</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#a8618342bf5f08a91e956d39efbdb4f2f">f2fs_kzalloc</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                    <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>, gfp_t <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;{</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a036c8838aa2eee8ace8e6940d0352a7a">f2fs_kmalloc</a>(sbi, size, flags | __GFP_ZERO);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;}</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;</div><div class="line"><a name="l02543"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae1165e29e3458f6e3f5f23d3318f9fa3"> 2543</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#ae1165e29e3458f6e3f5f23d3318f9fa3">f2fs_kvmalloc</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                    <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>, gfp_t <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;{</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FAULT_INJECTION</span></div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <span class="keywordflow">if</span> (time_to_inject(sbi, FAULT_KVMALLOC)) {</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        f2fs_show_injection_info(FAULT_KVMALLOC);</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    }</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">return</span> kvmalloc(size, flags);</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;}</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;</div><div class="line"><a name="l02555"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5c13debb7490c6475b5d220a35764d8a"> 2555</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> *<a class="code" href="f2fs_8h.html#a5c13debb7490c6475b5d220a35764d8a">f2fs_kvzalloc</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                    <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>, gfp_t <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;{</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ae1165e29e3458f6e3f5f23d3318f9fa3">f2fs_kvmalloc</a>(sbi, size, flags | __GFP_ZERO);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;}</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div><div class="line"><a name="l02561"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aba102f52ce9c86ee0da7fe94c8ad15bb"> 2561</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aba102f52ce9c86ee0da7fe94c8ad15bb">get_extra_isize</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;{</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#af56dec5e4b903ad9d8cfa9718e1dc984">i_extra_isize</a> / <span class="keyword">sizeof</span>(__le32);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;}</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div><div class="line"><a name="l02566"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967"> 2566</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967">get_inline_xattr_addrs</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;{</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a>(inode)-&gt;<a class="code" href="structf2fs__inode__info.html#a6348fac90e115ca34e122fc0d0704c26">i_inline_xattr_size</a>;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;}</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;</div><div class="line"><a name="l02571"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a17dc650d9ce118f6897cd98ebfe4f816"> 2571</a></span>&#160;<span class="preprocessor">#define get_inode_mode(i) \</span></div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;<span class="preprocessor">    ((is_inode_flag_set(i, FI_ACL_MODE)) ? \</span></div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;<span class="preprocessor">     (F2FS_I(i)-&gt;i_acl_mode) : ((i)-&gt;i_mode))</span></div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;</div><div class="line"><a name="l02575"></a><span class="lineno"><a class="line" href="f2fs_8h.html#aa6b8c9dde3d42b2b942edaa117421ad2"> 2575</a></span>&#160;<span class="preprocessor">#define F2FS_TOTAL_EXTRA_ATTR_SIZE          \</span></div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;<span class="preprocessor">    (offsetof(struct f2fs_inode, i_extra_end) - \</span></div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<span class="preprocessor">    offsetof(struct f2fs_inode, i_extra_isize)) \</span></div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l02579"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a772a0bff2669f8b0b94ab2723858424b"> 2579</a></span>&#160;<span class="preprocessor">#define F2FS_OLD_ATTRIBUTE_SIZE (offsetof(struct f2fs_inode, i_addr))</span></div><div class="line"><a name="l02580"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5f181374b0524335f24b204ee4a634f2"> 2580</a></span>&#160;<span class="preprocessor">#define F2FS_FITS_IN_INODE(f2fs_inode, extra_isize, field)      \</span></div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;<span class="preprocessor">        ((offsetof(typeof(*f2fs_inode), field) +    \</span></div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;<span class="preprocessor">        sizeof((f2fs_inode)-&gt;field))            \</span></div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;<span class="preprocessor">        &lt;= (F2FS_OLD_ATTRIBUTE_SIZE + extra_isize)) \</span></div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l02585"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a83c6632176748f41fbbc640e64a6b776"> 2585</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a83c6632176748f41fbbc640e64a6b776">f2fs_reset_iostat</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;{</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;    spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b">iostat_lock</a>);</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22ae6ec6c1d2e4ec2f3cdd5a96e37096bf5">NR_IO_TYPE</a>; i++)</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d">write_iostat</a>[i] = 0;</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b">iostat_lock</a>);</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;}</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;</div><div class="line"><a name="l02595"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ada11bcb4b656c3cbb0ffafe34792c430"> 2595</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ada11bcb4b656c3cbb0ffafe34792c430">f2fs_update_iostat</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <span class="keyword">enum</span> <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> io_bytes)</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;{</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <span class="keywordflow">if</span> (!sbi-&gt;<a class="code" href="structf2fs__sb__info.html#ae07b8bb5d0e3aaea3a51c170a3b9ab7a">iostat_enable</a>)</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    spin_lock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b">iostat_lock</a>);</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d">write_iostat</a>[<a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>] += io_bytes;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="keywordflow">if</span> (type == <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acd72577fad4fd6c64431d538f58e567d">APP_WRITE_IO</a> || type == <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a05451d22c5173f708a89efd1e10339f3">APP_DIRECT_IO</a>)</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;        sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d">write_iostat</a>[<a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a27f251babc7d78e16fd0e5d84284eaa0">APP_BUFFERED_IO</a>] =</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d">write_iostat</a>[<a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acd72577fad4fd6c64431d538f58e567d">APP_WRITE_IO</a>] -</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d">write_iostat</a>[<a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a05451d22c5173f708a89efd1e10339f3">APP_DIRECT_IO</a>];</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    spin_unlock(&amp;sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b">iostat_lock</a>);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;}</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;<span class="comment"> * file.c</span></div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a715d870c00a9490e526ecb5855ec5126">f2fs_sync_file</a>(<span class="keyword">struct</span> file *file, loff_t <a class="code" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, loff_t end, <span class="keywordtype">int</span> datasync);</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a8ea2d039c47fb912212f83ae3a6a7db9">truncate_data_blocks</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn);</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a32d50e1604f8567bb6ef4c2a8359eb57">truncate_blocks</a>(<span class="keyword">struct</span> inode *inode, u64 from, <span class="keywordtype">bool</span> lock);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a6c9548df55a240cc391b2385e2f379e2">f2fs_truncate</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a27decabf69aab4fafa005b4dea474c86">f2fs_getattr</a>(<span class="keyword">const</span> <span class="keyword">struct</span> path *path, <span class="keyword">struct</span> kstat *<a class="code" href="nfs2xdr_8c.html#a7d6f8a25e94209bd3ba29b2051ca4f08">stat</a>,</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;            u32 request_mask, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ab301012520a223edda12de0f2e51ca09">f2fs_setattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> iattr *<a class="code" href="cifspdu_8h.html#a254afd421351a8d5ceee95b4084d9291">attr</a>);</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a7f26696c458e19ffc4372f64879679f8">truncate_hole</a>(<span class="keyword">struct</span> inode *inode, pgoff_t pg_start, pgoff_t pg_end);</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae46482f813469cfe1b7b094b824da561">truncate_data_blocks_range</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, <span class="keywordtype">int</span> <a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>);</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#af04252b97882d6a7e1b476451dcf41bd">f2fs_precache_extents</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;<span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#a3e75bfe82141c234d59cd60355e05309">f2fs_ioctl</a>(<span class="keyword">struct</span> file *filp, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> arg);</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;<span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#a60fb8b1bd99001713272ad926def5203">f2fs_compat_ioctl</a>(<span class="keyword">struct</span> file *file, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> arg);</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a202f47828bd43fd8cbf2d17659aa8588">f2fs_pin_file_control</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">bool</span> inc);</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;<span class="comment"> * inode.c</span></div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ab3742e62cbba39033616774625b5ba93">f2fs_set_inode_flags</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ac01cacf1b2fc97164d075118ca94626b">f2fs_inode_chksum_verify</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keyword">struct</span> page *page);</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a3594bb5ccd7fee0943c3fe52517e0a13">f2fs_inode_chksum_set</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keyword">struct</span> page *page);</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="f2fs_8h.html#a252581ebfb2c49bdef53a4788b9e1924">f2fs_iget</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>);</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="f2fs_8h.html#a9634034db37b4ce9afada2e88ed8dd20">f2fs_iget_retry</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>);</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aae07d50f0d0e5744250b64704dee88e3">try_to_free_nats</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> nr_shrink);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#adeefd6de7ea8ec94039f3d49afbdf21e">update_inode</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *node_page);</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aade5f153d0fbe8e95073fbad00885d8c">update_inode_page</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a5688ef40d0857400ea24ce572aacdd79">f2fs_write_inode</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> writeback_control *wbc);</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ab0295bf1a7ea2492972950bb4f29b532">f2fs_evict_inode</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ad1aee1f6e6366623494b343bcd1c41c3">handle_failed_inode</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;<span class="comment"> * namei.c</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a252662788d3e5d67dc40700580047cc9">update_extension_list</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;                            <span class="keywordtype">bool</span> hot, <span class="keywordtype">bool</span> <span class="keyword">set</span>);</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="f2fs_8h.html#a8f58b9d1e248318194470322f4378de7">f2fs_get_parent</a>(<span class="keyword">struct</span> dentry *child);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;<span class="comment"> * dir.c</span></div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#abc3e37f45d79de547039aa2f7f943a6f">set_de_type</a>(<span class="keyword">struct</span> f2fs_dir_entry *de, umode_t mode);</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="f2fs_8h.html#af2b3cfb16ce54f5c59a550ae354c8c4b">get_de_type</a>(<span class="keyword">struct</span> f2fs_dir_entry *de);</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="keyword">struct </span>f2fs_dir_entry *<a class="code" href="f2fs_8h.html#a0e1ebb030a7597a266cdc7066f612554">find_target_dentry</a>(<span class="keyword">struct</span> fscrypt_name *<a class="code" href="structfname.html">fname</a>,</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;            f2fs_hash_t namehash, <span class="keywordtype">int</span> *max_slots,</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;            <span class="keyword">struct</span> <a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> *d);</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ad42f1ea6b9710c3a45522a6ce66abd77">f2fs_fill_dentries</a>(<span class="keyword">struct</span> dir_context *ctx, <span class="keyword">struct</span> <a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> *d,</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> start_pos, <span class="keyword">struct</span> fscrypt_str *fstr);</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4fd467eb0c22cebe126dd67facb40a82">do_make_empty_dir</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> inode *parent,</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;            <span class="keyword">struct</span> <a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> *d);</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;<span class="keyword">struct </span>page *<a class="code" href="f2fs_8h.html#a714a4893796aecbb8264b824a65f79b0">init_inode_metadata</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> inode *dir,</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct</span> qstr *new_name,</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct</span> qstr *orig_name, <span class="keyword">struct</span> page *dpage);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac86fcc7efbd5bb84b5a45de02e042004">update_parent_metadata</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> current_depth);</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ab98bcb4879fb6ff99f07605e89dc0ca0">room_for_filename</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *bitmap, <span class="keywordtype">int</span> slots, <span class="keywordtype">int</span> max_slots);</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#afbbce014b7c4210966053b6e3c5470fe">f2fs_drop_nlink</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="keyword">struct </span>f2fs_dir_entry *<a class="code" href="f2fs_8h.html#a8cb5c632c21488bafdb044eaf03592f1">__f2fs_find_entry</a>(<span class="keyword">struct</span> inode *dir,</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;            <span class="keyword">struct</span> fscrypt_name *<a class="code" href="structfname.html">fname</a>, <span class="keyword">struct</span> page **res_page);</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;<span class="keyword">struct </span>f2fs_dir_entry *<a class="code" href="f2fs_8h.html#a5aeae30e14a557a73a0532d250866874">f2fs_find_entry</a>(<span class="keyword">struct</span> inode *dir,</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct</span> qstr *child, <span class="keyword">struct</span> page **res_page);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="keyword">struct </span>f2fs_dir_entry *<a class="code" href="f2fs_8h.html#a5cc2cbd350ff821d737cb03f13f1acd5">f2fs_parent_dir</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> page **p);</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;ino_t <a class="code" href="f2fs_8h.html#aa1c4ec302d3c82837e0ae4678abdf492">f2fs_inode_by_name</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">const</span> <span class="keyword">struct</span> qstr *qstr,</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;            <span class="keyword">struct</span> page **page);</div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ad733886eed8c5a6479f351a05e28c8f6">f2fs_set_link</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> f2fs_dir_entry *de,</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;            <span class="keyword">struct</span> page *page, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a96206c9fe2c5b74b38cddc0e683d3dc0">f2fs_update_dentry</a>(<a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, umode_t mode, <span class="keyword">struct</span> <a class="code" href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a> *d,</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct</span> qstr *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>, f2fs_hash_t name_hash,</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bit_pos);</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a6f6480b398d3b29025175235748992c1">f2fs_add_regular_entry</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">const</span> <span class="keyword">struct</span> qstr *new_name,</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct</span> qstr *orig_name,</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;            <span class="keyword">struct</span> inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, umode_t mode);</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aa98c94cea433725790aeef17a096164d">__f2fs_do_add_link</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> fscrypt_name *<a class="code" href="structfname.html">fname</a>,</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;            <span class="keyword">struct</span> inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, umode_t mode);</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a4ce7e3551f43e606f345d64705b4a471">__f2fs_add_link</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">const</span> <span class="keyword">struct</span> qstr *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;            <span class="keyword">struct</span> inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, umode_t mode);</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a6032991a084d4410dcafffa71fb44c90">f2fs_delete_entry</a>(<span class="keyword">struct</span> f2fs_dir_entry *dentry, <span class="keyword">struct</span> page *page,</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;            <span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#abb50cf21c3db202a52e8c05e7c563b68">f2fs_do_tmpfile</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> inode *dir);</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#af9ba3564129b6ebc081840054abd5031">f2fs_empty_dir</a>(<span class="keyword">struct</span> inode *dir);</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;</div><div class="line"><a name="l02692"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a76d6dcbe952b27758437675d883b1d45"> 2692</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a76d6dcbe952b27758437675d883b1d45">f2fs_add_link</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;{</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a4ce7e3551f43e606f345d64705b4a471">__f2fs_add_link</a>(d_inode(dentry-&gt;d_parent), &amp;dentry-&gt;d_name,</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;                inode, inode-&gt;i_ino, inode-&gt;i_mode);</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;}</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="comment"> * super.c</span></div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ac8a36e745fdd4142adf16bb8c806e7ec">f2fs_inode_dirtied</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">bool</span> sync);</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a8d20b65fbef303ebc86fc4245ed239c2">f2fs_inode_synced</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8ce95923480d1aedf0dd3de1324c665f">f2fs_enable_quota_files</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> rdonly);</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4630060ae17f00dfdfb1762a4d2de3e1">f2fs_quota_off_umount</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a324beb5ae828c8c7dfebcbfc5ce384e4">f2fs_commit_super</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> recover);</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a6e7e62f03aad476895140d7f10259d76">f2fs_sync_fs</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb, <span class="keywordtype">int</span> sync);</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;<span class="keyword">extern</span> <a class="code" href="f2fs_8h.html#acdb8399d566370fac24a5738b966c95e">__printf</a>(3, 4)</div><div class="line"><a name="l02708"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a4d8634ba374002ecc7800ee7e88b959f"> 2708</a></span>&#160;void <a class="code" href="f2fs_2super_8c.html#a2e467fc587c0c33bacafbe0e1200255e">f2fs_msg</a>(struct <a class="code" href="structsuper__block.html">super_block</a> *sb, const <span class="keywordtype">char</span> *<a class="code" href="f2fs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, const <span class="keywordtype">char</span> *<a class="code" href="f2fs_8h.html#ad9a5b33dafc33a26929ac177b964d4ab">fmt</a>, ...);</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a890e1fdad7f6306eb95d976d53bf15ab">sanity_check_ckpt</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;<span class="comment"> * hash.c</span></div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;f2fs_hash_t <a class="code" href="f2fs_8h.html#a6a3b6776424fbe064be9e18b430de0fa">f2fs_dentry_hash</a>(const struct qstr *name_info,</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;                struct fscrypt_name *<a class="code" href="structfname.html">fname</a>);</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;<span class="comment"> * node.c</span></div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a>;</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;struct <a class="code" href="structnode__info.html">node_info</a>;</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#af12a84e9c28d4da95856572524a5fffa">available_free_memory</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a51da1e0754836aac099bd4979276b1a6">need_dentry_mark</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid);</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a5179d16f4e2ef6280fcf8a4940622d1c">is_checkpointed_node</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid);</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a2b5a453427699443779a13a7c5a6b3bc">need_inode_block_update</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>);</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1a225e55aa706cedbb3f6ec0f141a0b9">get_node_info</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid, struct <a class="code" href="structnode__info.html">node_info</a> *ni);</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;pgoff_t <a class="code" href="f2fs_8h.html#a149d1eb104febcdfd3f9aa2b2ef36d26">get_next_page_offset</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, pgoff_t pgofs);</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a2a9fdeab5938f548ecdfc9ef3722ba2d">get_dnode_of_data</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">int</span> mode);</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a3c97b41c1f4d8cd74ed1768f2751d73d">truncate_inode_blocks</a>(struct inode *inode, pgoff_t from);</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ae5978b26b26f841e7964f70dc22cc333">truncate_xattr_node</a>(struct inode *inode);</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ab26b64187a7db95848a8c8516f8561fa">wait_on_node_pages_writeback</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>);</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ab967096d245b0c7f15d8f662bb06c1c8">remove_inode_page</a>(struct inode *inode);</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a0187ff4d79e837e7bc53775bab1dd463">new_inode_page</a>(struct inode *inode);</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a683d26ae1bcd2090fee235a3b5c2dcd7">new_node_page</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ofs);</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a31d6fa6b06abc42722cb9e4b10f55a45">ra_node_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid);</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a39fcad0647283e9efa84f551a18198a5">get_node_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, pgoff_t nid);</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;struct page *<a class="code" href="f2fs_8h.html#aa98bc4c33209a926a1edf8ea3355e948">get_node_page_ra</a>(struct page *parent, <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1d88d96bc0de6cd56d9b6f1fbe22ab98">move_node_page</a>(struct page *node_page, <span class="keywordtype">int</span> gc_type);</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#abbefbfa72c2ba173e2df15e8c74d32b7">fsync_node_pages</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct inode *inode,</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;            struct writeback_control *wbc, <span class="keywordtype">bool</span> atomic);</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ae4de0963f09032fa2533d8d3910e05b2">sync_node_pages</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct writeback_control *wbc,</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="do__balan_8c.html#a633866bcfdc41d2c0ccfb0f846537755">do_balance</a>, enum <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> io_type);</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4017380eacc74d792293bc88abf858e2">build_free_nids</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> sync, <span class="keywordtype">bool</span> <a class="code" href="structmount.html">mount</a>);</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#af2243dc2d698730964d509fe28116e12">alloc_nid</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> *nid);</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aa228cb5f40c193594a16aff7bf68ab70">alloc_nid_done</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid);</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a167d219e187bb61db3c5dbfd8d877926">alloc_nid_failed</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> nid);</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a4faacf5ce8a149e09d04668341530ced">try_to_free_nids</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> nr_shrink);</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a054085fb8bdc9ec896006277e7fe8f9a">recover_inline_xattr</a>(struct inode *inode, struct page *page);</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a4b8eb803267e3156d0e660a57dfe2240">recover_xattr_data</a>(struct inode *inode, struct page *page);</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aa63f16d50fb9580af8f1e7a16868f532">recover_inode_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct page *page);</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ad7a67987e116f42975de55329e9bb456">restore_node_summary</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> segno, struct f2fs_summary_block *sum);</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a1013c82f6c19c13ea62be85b35b7a999">flush_nat_entries</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct <a class="code" href="structcp__control.html">cp_control</a> *cpc);</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a1055bda7415d2d151a1df94d2efd6ccc">build_node_manager</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae6d01e95ec944a4bbcb1a0ab3b0f027c">destroy_node_manager</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;<span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#af05c4a8f96d02e60ae1a951a3e10f10e">create_node_manager_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a3244fe2be39470fe6eedac8cbd3a09f2">destroy_node_manager_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;<span class="comment"> * segment.c</span></div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#adaa482738fbf03256b6adea95ab30a22">need_SSR</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a13e7831bc2059e88271f48bc5bb8e384">register_inmem_page</a>(struct inode *inode, struct page *page);</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#af40f7278c3fda1c73d69828aa0cc09e9">drop_inmem_pages_all</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ab7e9d42ecf4d76a02fe770db2da47914">drop_inmem_pages</a>(struct inode *inode);</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a2d664986e2a42c77cb0adab22d9c820f">drop_inmem_page</a>(struct inode *inode, struct page *page);</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#abf707d41d0405b275a79cc0ec18fbeba">commit_inmem_pages</a>(struct inode *inode);</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7e72ebf903ee70d8dbbfa438ac05aba8">f2fs_balance_fs</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> need);</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a735af14bc5dcaa1a150ded9b1f566aae">f2fs_balance_fs_bg</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a314496eeb44300af15584d400b9fd0d0">f2fs_issue_flush</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>);</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8a0ae3c47a28ef4e204cf3fd368609ab">create_flush_cmd_control</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a75a36253c621817f88247bcefa4c6858">f2fs_flush_device_cache</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac234db118680cbb514730fa3362e2e30">destroy_flush_cmd_control</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> <a class="code" href="cifspdu_8h.html#a29e94a3da97728e39afcbafa40610788">free</a>);</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae3c356ef5c10329f83b1f453e075cf7a">invalidate_blocks</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> addr);</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#afef24e1c10be5542d1c1d2d7ec7fbfaa">is_checkpointed_data</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr);</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#adc28ea6512ab536920cdd30552a6fc34">init_discard_policy</a>(struct <a class="code" href="structdiscard__policy.html">discard_policy</a> *dpolicy, <span class="keywordtype">int</span> discard_type,</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> granularity);</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#add9e59b7c0dd05b6457fe25baa19ae45">drop_discard_cmd</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aace4fcf4e196dd09d23b1d51a93959d5">stop_discard_thread</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a125227539fdab4284eb2eef62ce12c6c">f2fs_wait_discard_bios</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aea46dd5b83e919030ffddf286e570dba">clear_prefree_segments</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct <a class="code" href="structcp__control.html">cp_control</a> *cpc);</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a311ff6612c784a01e02d059dc6c1a142">release_discard_addrs</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ac6e829bf9b13c636f028eeb45a72c679">npages_for_summary_flush</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> for_ra);</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a8e5687ad5ca92463a703e3d658acfe08">allocate_new_segments</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8782344e8f8af817e5071e9de33381ae">f2fs_trim_fs</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct fstrim_range *range);</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#acc4a93d89621930ce23763def363e5d7">exist_trim_candidates</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct <a class="code" href="structcp__control.html">cp_control</a> *cpc);</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a1b9d70fd0d0650d1c065256b5752eb83">get_sum_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> segno);</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aa8e8e3a28e0ae2e2be529f91e834d2ff">update_meta_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">void</span> *src, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blk_addr);</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a70f21faa1ba8435127f43598b796fb2a">write_meta_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct page *page,</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;                        enum <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> io_type);</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac7bb0dad2d94cd4cebac915f5ebaedf0">write_node_page</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nid, struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a930cbddb626a70f7c60f15d528d0e3aa">write_data_page</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ad306b7a9aac1d70940f0f407f0794968">rewrite_data_page</a>(struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4cfc069ec12e7adc07bb25095a7697fb">__f2fs_replace_block</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct f2fs_summary *sum,</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> old_blkaddr, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> new_blkaddr,</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;            <span class="keywordtype">bool</span> recover_curseg, <span class="keywordtype">bool</span> recover_newaddr);</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae400ec43639fb92623e49196f678fadd">f2fs_replace_block</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn,</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> old_addr, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> new_addr,</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="send_8h.html#ac21c5e21e8a44a607c448b05de413ed4">version</a>, <span class="keywordtype">bool</span> recover_curseg,</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;            <span class="keywordtype">bool</span> recover_newaddr);</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aabe0bb7b7e60850cc6ef6c76ce76d14d">allocate_data_block</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct page *page,</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> old_blkaddr, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> *new_blkaddr,</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;            struct f2fs_summary *sum, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>,</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;            struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio, <span class="keywordtype">bool</span> add_list);</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7c699e04b54dbb5f55a350f81fd520da">f2fs_wait_on_page_writeback</a>(struct page *page,</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;            enum <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>, <span class="keywordtype">bool</span> ordered);</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a916b06e502156bb17b7cc220271729de">f2fs_wait_on_block_writeback</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr);</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aff6703072e1f7564eab23b1748fa0881">write_data_summaries</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> start_blk);</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a69c8e39228cb69e65f618f4c0011428d">write_node_summaries</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> start_blk);</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a6ccdfc8dffb42d726fd1d13032b0439b">lookup_journal_in_cursum</a>(struct f2fs_journal *journal, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>,</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> val, <span class="keywordtype">int</span> alloc);</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a5b28abe55331239816e50187161744b3">flush_sit_entries</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct <a class="code" href="structcp__control.html">cp_control</a> *cpc);</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#afa166763e69e3cc5d86dac43bfafb1e3">build_segment_manager</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a68799a158aa6e7d4c17da108fe5f5526">destroy_segment_manager</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#a778f38779df73ce05f455a284284f9ce">create_segment_manager_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a61f005c36b3f75ef349980f1127faa85">destroy_segment_manager_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8874c84265db90ef17cbd75e2592cef0">rw_hint_to_seg_type</a>(enum rw_hint hint);</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;enum rw_hint <a class="code" href="f2fs_8h.html#aa52b22d1284c82df9a69bac6bf0451de">io_type_to_rw_hint</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, enum <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>,</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;                enum <a class="code" href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71da">temp_type</a> temp);</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;<span class="comment"> * checkpoint.c</span></div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ad13a7feee182a8f1fbb3496a221680a9">f2fs_stop_checkpoint</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> end_io);</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a2ee2c42611ca9e42be335178af2932ff">grab_meta_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a24b85bd6c5522c8e5a6532460041df74">get_meta_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a8a1b7b967a53b24cf7aa9258fff0e29a">get_tmp_page</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aee7ad34f91c5e802af41e718d42e396a">is_valid_blkaddr</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#abfa82d2509b2d54925c6ef0cd6215fd4">ra_meta_pages</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, <span class="keywordtype">int</span> nrpages,</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>, <span class="keywordtype">bool</span> sync);</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7e8ac6dc08172bd095a07d2802e8d86b">ra_meta_pages_cond</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;<span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#aefdd3983d5a130f9b7848b42b038e63c">sync_meta_pages</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, enum <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>,</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;            <span class="keywordtype">long</span> nr_to_write, enum <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> io_type);</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac94bc39df4ad958becbddfc4a49a2591">add_ino_entry</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a70d8d97ca90a9221e0248d4ae608cf3c">remove_ino_entry</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aafe79710f91e87de2c7716a77a606795">release_ino_entry</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> all);</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a52f054b8621ccc83542a9d438bcb7c8f">exist_written_data</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, <span class="keywordtype">int</span> mode);</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac23a60317281fdb41392f21ba094b8bc">set_dirty_device</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>,</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> devidx, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a20cafa430a9e29dbcab90c7e9cc594f5">is_dirty_device</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>,</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> devidx, <span class="keywordtype">int</span> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a5c1324270bc61d53ab8699dce160c2e0">f2fs_sync_inode_meta</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a45e5a404456e47589d82acd5bc2f86c4">acquire_orphan_inode</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a70b6654cf84630d558a00a42c3de958c">release_orphan_inode</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a083888559733f70ab15ca723aa722796">add_orphan_inode</a>(struct inode *inode);</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a927f665327600de182fba58670f1bf01">remove_orphan_inode</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>);</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aa25dca5ea421aad63f0340d546a619c7">recover_orphan_inodes</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#abe3dd832265be0b49eebdece24a2af8c">get_valid_checkpoint</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a70f51676d82e03cd377f2387c7ef8543">update_dirty_page</a>(struct inode *inode, struct page *page);</div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a21a867d078adf0e365d12d4a0070c37e">remove_dirty_inode</a>(struct inode *inode);</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a580d31d9fe6d5e5309caaa828d99cf0a">sync_dirty_inodes</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, enum <a class="code" href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ff">inode_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8e954ae2497dccd00edd251bdad8936d">write_checkpoint</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, struct <a class="code" href="structcp__control.html">cp_control</a> *cpc);</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4b1f08535df52fb7bb0d2fb8dc2f6be9">init_ino_entry_info</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#afd8d66fd5881bcf984df85211fb9a7f6">create_checkpoint_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#adf89b5ebe1eef51c2fa63baa0adbf71a">destroy_checkpoint_caches</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;<span class="comment"> * data.c</span></div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a5b9bc773fee216fa84c75e76fef56116">f2fs_submit_merged_write</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, enum <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a88a12e9f883516d61fb32fee5aa9d9cf">f2fs_submit_merged_write_cond</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                struct inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, pgoff_t idx,</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                enum <a class="code" href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a> <a class="code" href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a>);</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a9741cd28cddcfddf8dfca440cc554496">f2fs_flush_merged_writes</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a773cc1ea398bed1a7647dfb5460c67ba">f2fs_submit_page_bio</a>(struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ad1bc5ca602625bda0651d45d5f341bc1">f2fs_submit_page_write</a>(struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;struct block_device *<a class="code" href="f2fs_8h.html#a258235cb40452f0804a6c44880f59b6f">f2fs_target_device</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blk_addr, struct bio *bio);</div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aa2873a469167cd107b05c77fc98d9644">f2fs_target_device_index</a>(struct <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr);</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aa759407767971b534de89f3f45289461">set_data_blkaddr</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn);</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4edcb31ba255c46e4bba8ce12109645e">f2fs_update_data_blkaddr</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr);</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#aab65eda4a3d408ba4b949e6e755bf5e0">reserve_new_blocks</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, blkcnt_t <a class="code" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a>);</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a115fc7c52e51111d2b8f6a20aa68ce4d">reserve_new_block</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn);</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a9b2d4f0ae461e939668c6c94e32da5b9">f2fs_get_block</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#af608ca7c94e16fb34c4ea4bad3488d97">f2fs_preallocate_blocks</a>(struct kiocb *iocb, struct iov_iter *from);</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a5bb80aa5ea6971f819fea45b1ccdbbaf">f2fs_reserve_block</a>(struct <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;struct page *<a class="code" href="f2fs_8h.html#acd08fadcd3b929f4893db2e9fbc21778">get_read_data_page</a>(struct inode *inode, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>,</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;            <span class="keywordtype">int</span> op_flags, <span class="keywordtype">bool</span> for_write);</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;struct page *<a class="code" href="f2fs_8h.html#ab6a7077b9ca76cabd1fc475a8796b8b8">find_data_page</a>(struct inode *inode, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a6627890fee72678cb224a8fe967a877f">get_lock_data_page</a>(struct inode *inode, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>,</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;            <span class="keywordtype">bool</span> for_write);</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;struct page *<a class="code" href="f2fs_8h.html#a2ca0f1067d56cd29bf9154d01f391bcd">get_new_data_page</a>(struct inode *inode,</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            struct page *ipage, pgoff_t <a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>, <span class="keywordtype">bool</span> new_i_size);</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a0f4debf54216f62e338498da39646c0b">do_write_data_page</a>(struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<span class="keywordtype">int</span> <a class="code" href="structf2fs__map__blocks.html">f2fs_map_blocks</a>(struct inode *inode, struct <a class="code" href="structf2fs__map__blocks.html">f2fs_map_blocks</a> *map,</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;            <span class="keywordtype">int</span> create, <span class="keywordtype">int</span> flag);</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a4703f5829904bd37f463d4cb3c459f70">f2fs_fiemap</a>(struct inode *inode, struct fiemap_extent_info *fieinfo,</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;            u64 <a class="code" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>);</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#abe7ebbd080392f6e21c3a0022ecf2d45">should_update_inplace</a>(struct inode *inode, struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ad91f6b6ee2cd793831b9ee8c1f24fa1a">should_update_outplace</a>(struct inode *inode, struct <a class="code" href="structf2fs__io__info.html">f2fs_io_info</a> *fio);</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae9c97a170d3b5d12b6fe9c06b317a46b">f2fs_set_page_dirty_nobuffers</a>(struct page *page);</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8b4c830b35dcab1e2ca481fa2b888599">__f2fs_write_data_pages</a>(struct address_space *mapping,</div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;                        struct writeback_control *wbc,</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;                        enum <a class="code" href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a> io_type);</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#aa513c9e8702bb5cdb31fa6d7c30efbaf">f2fs_invalidate_page</a>(struct page *page, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>,</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a>);</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a9fbbef9b0c78d4ea91831fcebe84880f">f2fs_release_page</a>(struct page *page, gfp_t wait);</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;<span class="preprocessor">#ifdef CONFIG_MIGRATION</span></div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;<span class="keywordtype">int</span> f2fs_migrate_page(<span class="keyword">struct</span> address_space *mapping, <span class="keyword">struct</span> page *newpage,</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;            <span class="keyword">struct</span> page *page, <span class="keyword">enum</span> migrate_mode mode);</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a0d4de3c5398b9b3368b391d997f1bc8e">f2fs_overwrite_io</a>(<span class="keyword">struct</span> inode *inode, loff_t pos, <span class="keywordtype">size_t</span> <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>);</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;<span class="comment"> * gc.c</span></div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a05d708be10dc5018ef2ce6fdb7e77e06">start_gc_thread</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a4826cbd60f3bf54360d4ce94bae9b914">stop_gc_thread</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;<a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> <a class="code" href="f2fs_8h.html#a5240d5fb04c34c6cc7cae7cbc65c1a3f">start_bidx_of_node</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> node_ofs, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a9e6765c9138ab8ff1d5d7d29690350ef">f2fs_gc</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> sync, <span class="keywordtype">bool</span> background,</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> segno);</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a393c736c9afd9f2888cf5eb14b45a985">build_gc_manager</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;</div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;<span class="comment"> * recovery.c</span></div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a27678512f558467924ed7e92009d0840">recover_fsync_data</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">bool</span> check_only);</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#adfcdc61017fccc2c685b41dc8bd09630">space_for_roll_forward</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="comment"> * debug.c</span></div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_STAT_FS</span></div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;<span class="keyword">struct </span>f2fs_stat_info {</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    <span class="keyword">struct </span>list_head stat_list;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <span class="keyword">struct </span><a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi;</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="keywordtype">int</span> all_area_segs, sit_area_segs, nat_area_segs, ssa_area_segs;</div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="keywordtype">int</span> main_area_segs, main_area_sections, main_area_zones;</div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> hit_largest, hit_cached, hit_rbtree;</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> hit_total, total_ext;</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <span class="keywordtype">int</span> ext_tree, zombie_tree, <a class="code" href="extent__tree_8c.html#aa19b9ccd5b5a55afad7031e25e678271">ext_node</a>;</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="keywordtype">int</span> ndirty_node, ndirty_dent, ndirty_meta, ndirty_imeta;</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="keywordtype">int</span> ndirty_data, ndirty_qdata;</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structinmem__pages.html">inmem_pages</a>;</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ndirty_dirs, ndirty_files, <a class="code" href="structf2fs__sb__info.html#a866815208afa17e52aa60ad6d1430919">nquota_files</a>, ndirty_all;</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;    <span class="keywordtype">int</span> nats, dirty_nats, sits, dirty_sits;</div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <span class="keywordtype">int</span> free_nids, avail_nids, alloc_nids;</div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <span class="keywordtype">int</span> total_count, <a class="code" href="f2fs_2segment_8h.html#a42759e33e11b4ac6def39b34c4371d39">utilization</a>;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;    <span class="keywordtype">int</span> bg_gc, nr_wb_cp_data, nr_wb_data;</div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    <span class="keywordtype">int</span> nr_flushing, nr_flushed, flush_list_empty;</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <span class="keywordtype">int</span> nr_discarding, nr_discarded;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <span class="keywordtype">int</span> nr_discard_cmd;</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> undiscard_blks;</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="keywordtype">int</span> inline_xattr, inline_inode, inline_dir, <a class="code" href="hostfs__kern_8c.html#a3c5ac6221cba783e9289745d671dfab4">append</a>, update, orphans;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <span class="keywordtype">int</span> aw_cnt, max_aw_cnt, vw_cnt, max_vw_cnt;</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> valid_count, <a class="code" href="f2fs_8h.html#aed9f6e2862079e965feb3376f601ce5f">valid_node_count</a>, <a class="code" href="f2fs_8h.html#aee9966e781dc663e607c19706c503ea0">valid_inode_count</a>, <a class="code" href="structf2fs__sb__info.html#af487b29f1ba99af07889e6baea27ce71">discard_blks</a>;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bimodal, avg_vblocks;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordtype">int</span> util_free, util_valid, util_invalid;</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <span class="keywordtype">int</span> rsvd_segs, overp_segs;</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    <span class="keywordtype">int</span> dirty_count, node_pages, meta_pages;</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordtype">int</span> prefree_count, call_count, cp_count, bg_cp_count;</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    <span class="keywordtype">int</span> tot_segs, node_segs, data_segs, free_segs, free_secs;</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    <span class="keywordtype">int</span> bg_node_segs, bg_data_segs;</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="keywordtype">int</span> tot_blks, data_blks, node_blks;</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;    <span class="keywordtype">int</span> bg_data_blks, bg_node_blks;</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    <span class="keywordtype">int</span> curseg[<a class="code" href="f2fs_8h.html#a104fe17e1d9f64925b8fb4e67360a2d6">NR_CURSEG_TYPE</a>];</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    <span class="keywordtype">int</span> cursec[<a class="code" href="f2fs_8h.html#a104fe17e1d9f64925b8fb4e67360a2d6">NR_CURSEG_TYPE</a>];</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="keywordtype">int</span> curzone[<a class="code" href="f2fs_8h.html#a104fe17e1d9f64925b8fb4e67360a2d6">NR_CURSEG_TYPE</a>];</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> segment_count[2];</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> block_count[2];</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> inplace_count;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> base_mem, cache_mem, page_mem;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;};</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>f2fs_stat_info *F2FS_STAT(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;{</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <span class="keywordflow">return</span> (<span class="keyword">struct</span> f2fs_stat_info *)sbi-&gt;stat_info;</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;}</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;<span class="preprocessor">#define stat_inc_cp_count(si)       ((si)-&gt;cp_count++)</span></div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<span class="preprocessor">#define stat_inc_bg_cp_count(si)    ((si)-&gt;bg_cp_count++)</span></div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;<span class="preprocessor">#define stat_inc_call_count(si)     ((si)-&gt;call_count++)</span></div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="preprocessor">#define stat_inc_bggc_count(sbi)    ((sbi)-&gt;bg_gc++)</span></div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;<span class="preprocessor">#define stat_inc_dirty_inode(sbi, type) ((sbi)-&gt;ndirty_inode[type]++)</span></div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;<span class="preprocessor">#define stat_dec_dirty_inode(sbi, type) ((sbi)-&gt;ndirty_inode[type]--)</span></div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;<span class="preprocessor">#define stat_inc_total_hit(sbi)     (atomic64_inc(&amp;(sbi)-&gt;total_hit_ext))</span></div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;<span class="preprocessor">#define stat_inc_rbtree_node_hit(sbi)   (atomic64_inc(&amp;(sbi)-&gt;read_hit_rbtree))</span></div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;<span class="preprocessor">#define stat_inc_largest_node_hit(sbi)  (atomic64_inc(&amp;(sbi)-&gt;read_hit_largest))</span></div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="preprocessor">#define stat_inc_cached_node_hit(sbi)   (atomic64_inc(&amp;(sbi)-&gt;read_hit_cached))</span></div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;<span class="preprocessor">#define stat_inc_inline_xattr(inode)                    \</span></div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;<span class="preprocessor">        if (f2fs_has_inline_xattr(inode))           \</span></div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<span class="preprocessor">            (atomic_inc(&amp;F2FS_I_SB(inode)-&gt;inline_xattr));  \</span></div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;<span class="preprocessor">#define stat_dec_inline_xattr(inode)                    \</span></div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="preprocessor">        if (f2fs_has_inline_xattr(inode))           \</span></div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="preprocessor">            (atomic_dec(&amp;F2FS_I_SB(inode)-&gt;inline_xattr));  \</span></div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;<span class="preprocessor">#define stat_inc_inline_inode(inode)                    \</span></div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<span class="preprocessor">        if (f2fs_has_inline_data(inode))            \</span></div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;<span class="preprocessor">            (atomic_inc(&amp;F2FS_I_SB(inode)-&gt;inline_inode));  \</span></div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;<span class="preprocessor">#define stat_dec_inline_inode(inode)                    \</span></div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;<span class="preprocessor">        if (f2fs_has_inline_data(inode))            \</span></div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;<span class="preprocessor">            (atomic_dec(&amp;F2FS_I_SB(inode)-&gt;inline_inode));  \</span></div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;<span class="preprocessor">#define stat_inc_inline_dir(inode)                  \</span></div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;<span class="preprocessor">        if (f2fs_has_inline_dentry(inode))          \</span></div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;<span class="preprocessor">            (atomic_inc(&amp;F2FS_I_SB(inode)-&gt;inline_dir));    \</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;<span class="preprocessor">#define stat_dec_inline_dir(inode)                  \</span></div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="preprocessor">        if (f2fs_has_inline_dentry(inode))          \</span></div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;<span class="preprocessor">            (atomic_dec(&amp;F2FS_I_SB(inode)-&gt;inline_dir));    \</span></div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;<span class="preprocessor">#define stat_inc_seg_type(sbi, curseg)                  \</span></div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="preprocessor">        ((sbi)-&gt;segment_count[(curseg)-&gt;alloc_type]++)</span></div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="preprocessor">#define stat_inc_block_count(sbi, curseg)               \</span></div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="preprocessor">        ((sbi)-&gt;block_count[(curseg)-&gt;alloc_type]++)</span></div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;<span class="preprocessor">#define stat_inc_inplace_blocks(sbi)                    \</span></div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="preprocessor">        (atomic_inc(&amp;(sbi)-&gt;inplace_count))</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;<span class="preprocessor">#define stat_inc_atomic_write(inode)                    \</span></div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="preprocessor">        (atomic_inc(&amp;F2FS_I_SB(inode)-&gt;aw_cnt))</span></div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;<span class="preprocessor">#define stat_dec_atomic_write(inode)                    \</span></div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="preprocessor">        (atomic_dec(&amp;F2FS_I_SB(inode)-&gt;aw_cnt))</span></div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="preprocessor">#define stat_update_max_atomic_write(inode)             \</span></div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;<span class="preprocessor">        int cur = atomic_read(&amp;F2FS_I_SB(inode)-&gt;aw_cnt);   \</span></div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="preprocessor">        int max = atomic_read(&amp;F2FS_I_SB(inode)-&gt;max_aw_cnt);   \</span></div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="preprocessor">        if (cur &gt; max)                      \</span></div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="preprocessor">            atomic_set(&amp;F2FS_I_SB(inode)-&gt;max_aw_cnt, cur); \</span></div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="preprocessor">#define stat_inc_volatile_write(inode)                  \</span></div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="preprocessor">        (atomic_inc(&amp;F2FS_I_SB(inode)-&gt;vw_cnt))</span></div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="preprocessor">#define stat_dec_volatile_write(inode)                  \</span></div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="preprocessor">        (atomic_dec(&amp;F2FS_I_SB(inode)-&gt;vw_cnt))</span></div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="preprocessor">#define stat_update_max_volatile_write(inode)               \</span></div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="preprocessor">        int cur = atomic_read(&amp;F2FS_I_SB(inode)-&gt;vw_cnt);   \</span></div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="preprocessor">        int max = atomic_read(&amp;F2FS_I_SB(inode)-&gt;max_vw_cnt);   \</span></div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="preprocessor">        if (cur &gt; max)                      \</span></div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="preprocessor">            atomic_set(&amp;F2FS_I_SB(inode)-&gt;max_vw_cnt, cur); \</span></div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;<span class="preprocessor">#define stat_inc_seg_count(sbi, type, gc_type)              \</span></div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;<span class="preprocessor">        struct f2fs_stat_info *si = F2FS_STAT(sbi);     \</span></div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;<span class="preprocessor">        si-&gt;tot_segs++;                     \</span></div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;<span class="preprocessor">        if ((type) == SUM_TYPE_DATA) {              \</span></div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;<span class="preprocessor">            si-&gt;data_segs++;                \</span></div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="preprocessor">            si-&gt;bg_data_segs += (gc_type == BG_GC) ? 1 : 0; \</span></div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="preprocessor">        } else {                        \</span></div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;<span class="preprocessor">            si-&gt;node_segs++;                \</span></div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<span class="preprocessor">            si-&gt;bg_node_segs += (gc_type == BG_GC) ? 1 : 0; \</span></div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;<span class="preprocessor">        }                           \</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;<span class="preprocessor">#define stat_inc_tot_blk_count(si, blks)                \</span></div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;<span class="preprocessor">    ((si)-&gt;tot_blks += (blks))</span></div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;<span class="preprocessor">#define stat_inc_data_blk_count(sbi, blks, gc_type)         \</span></div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;<span class="preprocessor">        struct f2fs_stat_info *si = F2FS_STAT(sbi);     \</span></div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;<span class="preprocessor">        stat_inc_tot_blk_count(si, blks);           \</span></div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;<span class="preprocessor">        si-&gt;data_blks += (blks);                \</span></div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;<span class="preprocessor">        si-&gt;bg_data_blks += ((gc_type) == BG_GC) ? (blks) : 0;  \</span></div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;<span class="preprocessor">#define stat_inc_node_blk_count(sbi, blks, gc_type)         \</span></div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;<span class="preprocessor">    do {                                \</span></div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;<span class="preprocessor">        struct f2fs_stat_info *si = F2FS_STAT(sbi);     \</span></div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;<span class="preprocessor">        stat_inc_tot_blk_count(si, blks);           \</span></div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;<span class="preprocessor">        si-&gt;node_blks += (blks);                \</span></div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;<span class="preprocessor">        si-&gt;bg_node_blks += ((gc_type) == BG_GC) ? (blks) : 0;  \</span></div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;<span class="preprocessor">    } while (0)</span></div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a9d37c1e0cd35dfd111aa0807296b408f">f2fs_build_stats</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a70e65a02394b65421db771e31af55a92">f2fs_destroy_stats</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#a865eac838961c111fbeda455c2030762">f2fs_create_root_stats</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a224ce2f795665ce12f8cd62cd43244cd">f2fs_destroy_root_stats</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03077"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5d5341edc011493c3a6f018415afdce9"> 3077</a></span>&#160;<span class="preprocessor">#define stat_inc_cp_count(si)               do { } while (0)</span></div><div class="line"><a name="l03078"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a94c33b9c123260bc76eb5c1ac8774ef3"> 3078</a></span>&#160;<span class="preprocessor">#define stat_inc_bg_cp_count(si)            do { } while (0)</span></div><div class="line"><a name="l03079"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abb53cc8c1f7210d75cde4cf44876fb55"> 3079</a></span>&#160;<span class="preprocessor">#define stat_inc_call_count(si)             do { } while (0)</span></div><div class="line"><a name="l03080"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ae0870f949695c92a2676878768b078fc"> 3080</a></span>&#160;<span class="preprocessor">#define stat_inc_bggc_count(si)             do { } while (0)</span></div><div class="line"><a name="l03081"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad61b5e0817db8377e6ece9b99b7ce4bc"> 3081</a></span>&#160;<span class="preprocessor">#define stat_inc_dirty_inode(sbi, type)         do { } while (0)</span></div><div class="line"><a name="l03082"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad060abc7d7c0f9de300fa1651618b82a"> 3082</a></span>&#160;<span class="preprocessor">#define stat_dec_dirty_inode(sbi, type)         do { } while (0)</span></div><div class="line"><a name="l03083"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0c6af7b9283e72dee0c43fbee3856aab"> 3083</a></span>&#160;<span class="preprocessor">#define stat_inc_total_hit(sb)              do { } while (0)</span></div><div class="line"><a name="l03084"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a79a5122e993635863f468154952d9daa"> 3084</a></span>&#160;<span class="preprocessor">#define stat_inc_rbtree_node_hit(sb)            do { } while (0)</span></div><div class="line"><a name="l03085"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a335b2d4f2140508e74e27cc0bd4beec8"> 3085</a></span>&#160;<span class="preprocessor">#define stat_inc_largest_node_hit(sbi)          do { } while (0)</span></div><div class="line"><a name="l03086"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9e6dd6db1f879250e29ec55e9f1d13a1"> 3086</a></span>&#160;<span class="preprocessor">#define stat_inc_cached_node_hit(sbi)           do { } while (0)</span></div><div class="line"><a name="l03087"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9107e8efd8463a39fb8855c25994358b"> 3087</a></span>&#160;<span class="preprocessor">#define stat_inc_inline_xattr(inode)            do { } while (0)</span></div><div class="line"><a name="l03088"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a2eee7f79e9363597d51dd22db996f553"> 3088</a></span>&#160;<span class="preprocessor">#define stat_dec_inline_xattr(inode)            do { } while (0)</span></div><div class="line"><a name="l03089"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a903a7fedba1f93dca368fe1dde1e4c9b"> 3089</a></span>&#160;<span class="preprocessor">#define stat_inc_inline_inode(inode)            do { } while (0)</span></div><div class="line"><a name="l03090"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3c70bd5384d7c37ec798008950e3602a"> 3090</a></span>&#160;<span class="preprocessor">#define stat_dec_inline_inode(inode)            do { } while (0)</span></div><div class="line"><a name="l03091"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0247a7ec47db2392bed5c3645db2d179"> 3091</a></span>&#160;<span class="preprocessor">#define stat_inc_inline_dir(inode)          do { } while (0)</span></div><div class="line"><a name="l03092"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a615a5132553fe6b36234f4a6235c4107"> 3092</a></span>&#160;<span class="preprocessor">#define stat_dec_inline_dir(inode)          do { } while (0)</span></div><div class="line"><a name="l03093"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a70693725b03238101e126b220ae32331"> 3093</a></span>&#160;<span class="preprocessor">#define stat_inc_atomic_write(inode)            do { } while (0)</span></div><div class="line"><a name="l03094"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a078087df50d19053688397f58b9a6468"> 3094</a></span>&#160;<span class="preprocessor">#define stat_dec_atomic_write(inode)            do { } while (0)</span></div><div class="line"><a name="l03095"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ad8b7091efa20f5d35c4efd9b798fa703"> 3095</a></span>&#160;<span class="preprocessor">#define stat_update_max_atomic_write(inode)     do { } while (0)</span></div><div class="line"><a name="l03096"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a68fcec12fdcf75bcb7df21899e321191"> 3096</a></span>&#160;<span class="preprocessor">#define stat_inc_volatile_write(inode)          do { } while (0)</span></div><div class="line"><a name="l03097"></a><span class="lineno"><a class="line" href="f2fs_8h.html#abb20038d837337efeee3753cef0d9e9d"> 3097</a></span>&#160;<span class="preprocessor">#define stat_dec_volatile_write(inode)          do { } while (0)</span></div><div class="line"><a name="l03098"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8daa1b2832fa7b4965dc9a487d2df280"> 3098</a></span>&#160;<span class="preprocessor">#define stat_update_max_volatile_write(inode)       do { } while (0)</span></div><div class="line"><a name="l03099"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acc82e21b590122c7f6b5c4df32555f23"> 3099</a></span>&#160;<span class="preprocessor">#define stat_inc_seg_type(sbi, curseg)          do { } while (0)</span></div><div class="line"><a name="l03100"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3398964a2538542a4f7d411f18388a41"> 3100</a></span>&#160;<span class="preprocessor">#define stat_inc_block_count(sbi, curseg)       do { } while (0)</span></div><div class="line"><a name="l03101"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a0d5a79b6395ba9bb5c9836a5044e2e42"> 3101</a></span>&#160;<span class="preprocessor">#define stat_inc_inplace_blocks(sbi)            do { } while (0)</span></div><div class="line"><a name="l03102"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8af9999191505ef75f50044de08bc86a"> 3102</a></span>&#160;<span class="preprocessor">#define stat_inc_seg_count(sbi, type, gc_type)      do { } while (0)</span></div><div class="line"><a name="l03103"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a5b6eacdd7f6e44f05c192950e31e083a"> 3103</a></span>&#160;<span class="preprocessor">#define stat_inc_tot_blk_count(si, blks)        do { } while (0)</span></div><div class="line"><a name="l03104"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a939f9dc8668365b6e6fa92ba052df1e6"> 3104</a></span>&#160;<span class="preprocessor">#define stat_inc_data_blk_count(sbi, blks, gc_type) do { } while (0)</span></div><div class="line"><a name="l03105"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a748ceab35016cabf83ddd6cbe0326a37"> 3105</a></span>&#160;<span class="preprocessor">#define stat_inc_node_blk_count(sbi, blks, gc_type) do { } while (0)</span></div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;</div><div class="line"><a name="l03107"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9d37c1e0cd35dfd111aa0807296b408f"> 3107</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a9d37c1e0cd35dfd111aa0807296b408f">f2fs_build_stats</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi) { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l03108"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a70e65a02394b65421db771e31af55a92"> 3108</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a70e65a02394b65421db771e31af55a92">f2fs_destroy_stats</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi) { }</div><div class="line"><a name="l03109"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a865eac838961c111fbeda455c2030762"> 3109</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#a865eac838961c111fbeda455c2030762">f2fs_create_root_stats</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l03110"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a224ce2f795665ce12f8cd62cd43244cd"> 3110</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a224ce2f795665ce12f8cd62cd43244cd">f2fs_destroy_root_stats</a>(<span class="keywordtype">void</span>) { }</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations f2fs_dir_operations;</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations f2fs_file_operations;</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations f2fs_file_inode_operations;</div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>address_space_operations f2fs_dblock_aops;</div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>address_space_operations f2fs_node_aops;</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>address_space_operations f2fs_meta_aops;</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations f2fs_dir_inode_operations;</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations f2fs_symlink_inode_operations;</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations f2fs_encrypted_symlink_inode_operations;</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations f2fs_special_inode_operations;</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span>kmem_cache *<a class="code" href="f2fs_8h.html#a3a55731a66de0a627f3c2ca7a74c9e64">inode_entry_slab</a>;</div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;<span class="comment"> * inline.c</span></div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a6f783ca2aa99cafbbd2d037b018a1c96">f2fs_may_inline_data</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aacecd9e27b8ee5790905f73d0f0d0699">f2fs_may_inline_dentry</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ae658f55786a8333d438136f00901e0d6">read_inline_data</a>(<span class="keyword">struct</span> page *page, <span class="keyword">struct</span> page *ipage);</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a8a2d0906d79c1c53befbcb39845dbbe1">truncate_inline_inode</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *ipage, u64 from);</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a59adeff354970c1128f7d4a721fa68d3">f2fs_read_inline_data</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *page);</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#abb9e08f6a51435be001520e32d627771">f2fs_convert_inline_page</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn, <span class="keyword">struct</span> page *page);</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ac26454c1c0651bb169cb55dc6ac569a7">f2fs_convert_inline_inode</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a865065692afefe5e27b18da23c9832d5">f2fs_write_inline_data</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *page);</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#aa71a76f2f0ed482420f6949259c36592">recover_inline_data</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> page *npage);</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;<span class="keyword">struct </span>f2fs_dir_entry *<a class="code" href="f2fs_8h.html#a20673b1110ec83d3fd8cfa33f9d4ef86">find_in_inline_dir</a>(<span class="keyword">struct</span> inode *dir,</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            <span class="keyword">struct</span> fscrypt_name *<a class="code" href="structfname.html">fname</a>, <span class="keyword">struct</span> page **res_page);</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a1b572a97661e551ef0f2e1471eb6827a">make_empty_inline_dir</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> inode *parent,</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keyword">struct</span> page *ipage);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a8e5896a368db831ffefba816044d81cc">f2fs_add_inline_entry</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">const</span> <span class="keyword">struct</span> qstr *new_name,</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;            <span class="keyword">const</span> <span class="keyword">struct</span> qstr *orig_name,</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;            <span class="keyword">struct</span> inode *inode, <a class="code" href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a> <a class="code" href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a>, umode_t mode);</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a44fc4e29a9f3ba262705cd87e55e9cb4">f2fs_delete_inline_entry</a>(<span class="keyword">struct</span> f2fs_dir_entry *dentry, <span class="keyword">struct</span> page *page,</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            <span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a9b9bfdc3ef133e81d42d47ab697dd612">f2fs_empty_inline_dir</a>(<span class="keyword">struct</span> inode *dir);</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a0300f259f6ef1c0646108cc18420717a">f2fs_read_inline_dir</a>(<span class="keyword">struct</span> file *file, <span class="keyword">struct</span> dir_context *ctx,</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;            <span class="keyword">struct</span> fscrypt_str *fstr);</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a322e51cb77a06055f26c8810256c7963">f2fs_inline_data_fiemap</a>(<span class="keyword">struct</span> inode *inode,</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;            <span class="keyword">struct</span> fiemap_extent_info *fieinfo,</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;            __u64 <a class="code" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, __u64 <a class="code" href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a>);</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;<span class="comment"> * shrinker.c</span></div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#aad0f1fb87c57b93754bdeaf013370832">f2fs_shrink_count</a>(<span class="keyword">struct</span> shrinker *shrink,</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;            <span class="keyword">struct</span> shrink_control *sc);</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="f2fs_8h.html#aac70af5a420dc166017e4c9301b7e96f">f2fs_shrink_scan</a>(<span class="keyword">struct</span> shrinker *shrink,</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;            <span class="keyword">struct</span> shrink_control *sc);</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a11afd14367771ac159b9d5840e617e3f">f2fs_join_shrinker</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a405daec5283c22abbde19ff03b4fe9e4">f2fs_leave_shrinker</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;<span class="comment"> * extent_cache.c</span></div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;<span class="keyword">struct </span><a class="code" href="structrb__entry.html">rb_entry</a> *<a class="code" href="f2fs_8h.html#a810e0af6f168705718c9ba9c884c6b41">__lookup_rb_tree</a>(<span class="keyword">struct</span> rb_root *<a class="code" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>,</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                <span class="keyword">struct</span> <a class="code" href="structrb__entry.html">rb_entry</a> *cached_re, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structrb__entry.html#a88264427b69d702bfa9edbdd53cd39bb">ofs</a>);</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;<span class="keyword">struct </span>rb_node **<a class="code" href="f2fs_8h.html#a167d73c6ce47fd8c77882d7526aa16cd">__lookup_rb_tree_for_insert</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                <span class="keyword">struct</span> rb_root *root, <span class="keyword">struct</span> rb_node **parent,</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ofs);</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;<span class="keyword">struct </span><a class="code" href="structrb__entry.html">rb_entry</a> *<a class="code" href="f2fs_8h.html#a35457e8c3f4b94c33081de8338402de4">__lookup_rb_tree_ret</a>(<span class="keyword">struct</span> rb_root *root,</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;        <span class="keyword">struct</span> <a class="code" href="structrb__entry.html">rb_entry</a> *cached_re, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ofs,</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;        <span class="keyword">struct</span> <a class="code" href="structrb__entry.html">rb_entry</a> **prev_entry, <span class="keyword">struct</span> <a class="code" href="structrb__entry.html">rb_entry</a> **<a class="code" href="proc__sysctl_8c.html#a091cf7df76e63a357b1f68a9e6301837">next_entry</a>,</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;        <span class="keyword">struct</span> <a class="code" href="structrb__entry.html#a4d3ab31f7417f42c8a46454248b3451c">rb_node</a> ***insert_p, <span class="keyword">struct</span> <a class="code" href="structrb__entry.html#a4d3ab31f7417f42c8a46454248b3451c">rb_node</a> **insert_parent,</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        <span class="keywordtype">bool</span> force);</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a3903bee4ee4f16c555c3aa63ddff6d22">__check_rb_tree_consistence</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                        <span class="keyword">struct</span> rb_root *root);</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#ac7cd1e383c42adc1ef540a363a67ff5a">f2fs_shrink_extent_tree</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">int</span> nr_shrink);</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#af4638fbf481af350299ebfccfcd450a7">f2fs_init_extent_tree</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> f2fs_extent *i_ext);</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a94be519dbaaa6c76c361a416bb4d68d4">f2fs_drop_extent_tree</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a162534092e598f78a5896303638b6f0e">f2fs_destroy_extent_node</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7dc18bed1447a2b8c29b1b424acf12c0">f2fs_destroy_extent_tree</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ac754a910f96b4c5d4c484b22a27f7eee">f2fs_lookup_extent_cache</a>(<span class="keyword">struct</span> inode *inode, pgoff_t pgofs,</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;            <span class="keyword">struct</span> <a class="code" href="structextent__info.html">extent_info</a> *ei);</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#ac48b4ffc6c138707353b637589e571fe">f2fs_update_extent_cache</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn);</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a3dd07f5ce1af73d15f3b4068a2276499">f2fs_update_extent_cache_range</a>(<span class="keyword">struct</span> <a class="code" href="structdnode__of__data.html">dnode_of_data</a> *dn,</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;            pgoff_t fofs, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len);</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7c6826d51ca695a10f8e9963c7e5bd3f">init_extent_cache_info</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;<span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#a03a9923c6dc276fe24bb12cec2b6e697">create_extent_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a657755df985ef4ea99ccd0702da07a60">destroy_extent_cache</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="comment"> * sysfs.c</span></div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;<span class="keywordtype">int</span> __init <a class="code" href="f2fs_8h.html#aaeda9020acaeae9886d936f27c396850">f2fs_init_sysfs</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a01d350946478659d0d99ba9651c5972b">f2fs_exit_sysfs</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;<span class="keywordtype">int</span> <a class="code" href="f2fs_8h.html#a14cc06f196883edab22c038d41a7048b">f2fs_register_sysfs</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;<span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#add97bd6256bc00725dbc42cf9c455a3c">f2fs_unregister_sysfs</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi);</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;<span class="comment"> * crypto support</span></div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l03203"></a><span class="lineno"><a class="line" href="f2fs_8h.html#ab2b0bb50bacb1e82df81f84287d13e1e"> 3203</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#ab2b0bb50bacb1e82df81f84287d13e1e">f2fs_encrypted_inode</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;{</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#afb7ce1d185397bd5768ebd313b74c412">file_is_encrypt</a>(inode);</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;}</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;</div><div class="line"><a name="l03208"></a><span class="lineno"><a class="line" href="f2fs_8h.html#acde26798c7ca9ec96e306023fc9699d7"> 3208</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#acde26798c7ca9ec96e306023fc9699d7">f2fs_encrypted_file</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;{</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#ab2b0bb50bacb1e82df81f84287d13e1e">f2fs_encrypted_inode</a>(inode) &amp;&amp; S_ISREG(inode-&gt;i_mode);</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;}</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div><div class="line"><a name="l03213"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a3889fbb02d30bc69fa081746b7ba8659"> 3213</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a3889fbb02d30bc69fa081746b7ba8659">f2fs_set_encrypted_inode</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;{</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FS_ENCRYPTION</span></div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <a class="code" href="f2fs_8h.html#acfdc38b539d81494c7d9056b10e4f789">file_set_encrypt</a>(inode);</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    inode-&gt;i_flags |= S_ENCRYPTED;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;}</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;</div><div class="line"><a name="l03221"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9292f122c31eecae30614dd69055944e"> 3221</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a9292f122c31eecae30614dd69055944e">f2fs_bio_encrypted</a>(<span class="keyword">struct</span> bio *bio)</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;{</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">return</span> bio-&gt;bi_private != NULL;</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;}</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;</div><div class="line"><a name="l03226"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8"> 3226</a></span>&#160;<span class="preprocessor">#define F2FS_FEATURE_FUNCS(name, flagname) \</span></div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="preprocessor">static inline int f2fs_sb_has_##name(struct super_block *sb) \</span></div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="preprocessor">{ \</span></div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="preprocessor">    return F2FS_HAS_FEATURE(sb, F2FS_FEATURE_##flagname); \</span></div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="preprocessor">}</span></div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(encrypt, <a class="code" href="ecryptfs_2crypto_8c.html#a1cb0c60ca582db30ae87362ca43e8c19">ENCRYPT</a>);</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(blkzoned, BLKZONED);</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(extra_attr, EXTRA_ATTR);</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(project_quota, PRJQUOTA);</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(inode_chksum, INODE_CHKSUM);</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(flexible_inline_xattr, FLEXIBLE_INLINE_XATTR);</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(quota_ino, QUOTA_INO);</div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(inode_crtime, INODE_CRTIME);</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<a class="code" href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a>(lost_found, LOST_FOUND);</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="preprocessor">#ifdef CONFIG_BLK_DEV_ZONED</span></div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> get_blkz_type(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi,</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;            <span class="keyword">struct</span> block_device *bdev, <a class="code" href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a> blkaddr)</div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;{</div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> zno = blkaddr &gt;&gt; sbi-&gt;log_blocks_per_blkz;</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a4853c088086a7886cac88e8b4b0789a1">s_ndevs</a>; i++)</div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="f2fs_8h.html#a312edb0052fd3417e65ad37307af51df">FDEV</a>(i).bdev == bdev)</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="f2fs_8h.html#a312edb0052fd3417e65ad37307af51df">FDEV</a>(i).blkz_type[zno];</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">return</span> -EINVAL;</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;}</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;</div><div class="line"><a name="l03256"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a9950694608ca4299c7199d648974c035"> 3256</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a9950694608ca4299c7199d648974c035">f2fs_discard_en</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi)</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;{</div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;    <span class="keyword">struct </span>request_queue *q = bdev_get_queue(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a80fbc604407c81e9d6ab2756847f9b76">sb</a>-&gt;s_bdev);</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;</div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <span class="keywordflow">return</span> blk_queue_discard(q) || f2fs_sb_has_blkzoned(sbi-&gt;<a class="code" href="structf2fs__sb__info.html#a80fbc604407c81e9d6ab2756847f9b76">sb</a>);</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;}</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;</div><div class="line"><a name="l03263"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a7bac11615b14cbcbed5cdadcb6787106"> 3263</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="f2fs_8h.html#a7bac11615b14cbcbed5cdadcb6787106">set_opt_mode</a>(<span class="keyword">struct</span> <a class="code" href="structf2fs__sb__info.html">f2fs_sb_info</a> *sbi, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mt)</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;{</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <a class="code" href="f2fs_8h.html#a5e6a66fbc42edb5aab775973fffd6ee8">clear_opt</a>(sbi, ADAPTIVE);</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <a class="code" href="f2fs_8h.html#a5e6a66fbc42edb5aab775973fffd6ee8">clear_opt</a>(sbi, <a class="code" href="f2fs_2segment_8h.html#a89fa9ed16122c5ba3a10393f7c0bc5adaa03ec6e624aae3a7c939a4c742598638">LFS</a>);</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <span class="keywordflow">switch</span> (mt) {</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a073223982498f9bfb49fd7d5eb26a737">F2FS_MOUNT_ADAPTIVE</a>:</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;        <a class="code" href="f2fs_8h.html#a5d4575eec6d5eb3794c975b55e58bce0">set_opt</a>(sbi, ADAPTIVE);</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="f2fs_8h.html#a28fa3131283f12d146aa851cdc6f2ac8">F2FS_MOUNT_LFS</a>:</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;        <a class="code" href="f2fs_8h.html#a5d4575eec6d5eb3794c975b55e58bce0">set_opt</a>(sbi, <a class="code" href="f2fs_2segment_8h.html#a89fa9ed16122c5ba3a10393f7c0bc5adaa03ec6e624aae3a7c939a4c742598638">LFS</a>);</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;    }</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;}</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;</div><div class="line"><a name="l03278"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a80204a128d39c787c5d948f311947914"> 3278</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a80204a128d39c787c5d948f311947914">f2fs_may_encrypt</a>(<span class="keyword">struct</span> inode *inode)</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;{</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="preprocessor">#ifdef CONFIG_F2FS_FS_ENCRYPTION</span></div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    umode_t mode = inode-&gt;i_mode;</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="keywordflow">return</span> (S_ISREG(mode) || S_ISDIR(mode) || S_ISLNK(mode));</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;}</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;</div><div class="line"><a name="l03289"></a><span class="lineno"><a class="line" href="f2fs_8h.html#a8859ef8ac4ad7df9ea424cab7afd5b69"> 3289</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="f2fs_8h.html#a8859ef8ac4ad7df9ea424cab7afd5b69">f2fs_force_buffered_io</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> rw)</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;{</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="f2fs_8h.html#acde26798c7ca9ec96e306023fc9699d7">f2fs_encrypted_file</a>(inode) ||</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;            (rw == WRITE &amp;&amp; <a class="code" href="f2fs_8h.html#ade483dbca063c73c4fea7dcd671289be">test_opt</a>(<a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode), <a class="code" href="f2fs_2segment_8h.html#a89fa9ed16122c5ba3a10393f7c0bc5adaa03ec6e624aae3a7c939a4c742598638">LFS</a>)) ||</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;            <a class="code" href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a>(inode)-&gt;s_ndevs);</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;}</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structextent__info_html"><div class="ttname"><a href="structextent__info.html">extent_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:531</div></div>
<div class="ttc" id="f2fs_8h_html_ab98bcb4879fb6ff99f07605e89dc0ca0"><div class="ttname"><a href="f2fs_8h.html#ab98bcb4879fb6ff99f07605e89dc0ca0">room_for_filename</a></div><div class="ttdeci">int room_for_filename(const void *bitmap, int slots, int max_slots)</div><div class="ttdef"><b>Definition:</b> dir.c:451</div></div>
<div class="ttc" id="f2fs_8h_html_a2d664986e2a42c77cb0adab22d9c820f"><div class="ttname"><a href="f2fs_8h.html#a2d664986e2a42c77cb0adab22d9c820f">drop_inmem_page</a></div><div class="ttdeci">void drop_inmem_page(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> segment.c:316</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9adf91aa3dac41425b881e6066843d026e"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adf91aa3dac41425b881e6066843d026e">FI_NEW_INODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2175</div></div>
<div class="ttc" id="f2fs_8h_html_ac1351f3e26da80ee24b2888ecc68fca6a5550bec41fbf811a10b6e4675f38b467"><div class="ttname"><a href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a5550bec41fbf811a10b6e4675f38b467">F2FS_GET_BLOCK_PRE_AIO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:589</div></div>
<div class="ttc" id="cifspdu_8h_html_a254afd421351a8d5ceee95b4084d9291"><div class="ttname"><a href="cifspdu_8h.html#a254afd421351a8d5ceee95b4084d9291">attr</a></div><div class="ttdeci">__le16 attr</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="structsit__info_html"><div class="ttname"><a href="structsit__info.html">sit_info</a></div><div class="ttdef"><b>Definition:</b> segment.h:224</div></div>
<div class="ttc" id="structfname_html"><div class="ttname"><a href="structfname.html">fname</a></div><div class="ttdef"><b>Definition:</b> dir.c:402</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html_a54864524fd3e262ac07a00a49c28482c"><div class="ttname"><a href="structf2fs__dentry__ptr.html#a54864524fd3e262ac07a00a49c28482c">f2fs_dentry_ptr::nr_bitmap</a></div><div class="ttdeci">int nr_bitmap</div><div class="ttdef"><b>Definition:</b> f2fs.h:466</div></div>
<div class="ttc" id="f2fs_8h_html_a441c033e3d3f086db9e3901c0d66bd3da9de1fbc6c4e2ef586dec867c17da08b4"><div class="ttname"><a href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da9de1fbc6c4e2ef586dec867c17da08b4">MAX_INO_ENTRY</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:216</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a375cdc4e8bb19b6bf0b84752dcea726f"><div class="ttname"><a href="structf2fs__inode__info.html#a375cdc4e8bb19b6bf0b84752dcea726f">f2fs_inode_info::i_current_depth</a></div><div class="ttdeci">unsigned int i_current_depth</div><div class="ttdef"><b>Definition:</b> f2fs.h:629</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9acb857b53b3d9149b291d971d9caaa01a"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acb857b53b3d9149b291d971d9caaa01a">FI_ATOMIC_FILE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2190</div></div>
<div class="ttc" id="f2fs_8h_html_a337d6b8d9f9cc2b4d207e433a70d3987a46ec57a6ab2c272217ea62dc0bc2155f"><div class="ttname"><a href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a46ec57a6ab2c272217ea62dc0bc2155f">META_SIT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:204</div></div>
<div class="ttc" id="f2fs_8h_html_a76647ff5628f2e061268c8aeef03525f"><div class="ttname"><a href="f2fs_8h.html#a76647ff5628f2e061268c8aeef03525f">clear_ckpt_flags</a></div><div class="ttdeci">static void clear_ckpt_flags(struct f2fs_sb_info *sbi, unsigned int f)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1510</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22">iostat_type</a></div><div class="ttdeci">iostat_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:975</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a47104575e1b821aed814840b5cf2c7d8"><div class="ttname"><a href="structf2fs__sb__info.html#a47104575e1b821aed814840b5cf2c7d8">f2fs_sb_info::total_valid_inode_count</a></div><div class="ttdeci">struct percpu_counter total_valid_inode_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1189</div></div>
<div class="ttc" id="structcp__control_html_a44d4fc54ed515137b417b0edb74c574d"><div class="ttname"><a href="structcp__control.html#a44d4fc54ed515137b417b0edb74c574d">cp_control::trim_minlen</a></div><div class="ttdeci">__u64 trim_minlen</div><div class="ttdef"><b>Definition:</b> f2fs.h:195</div></div>
<div class="ttc" id="f2fs_8h_html_aa228cb5f40c193594a16aff7bf68ab70"><div class="ttname"><a href="f2fs_8h.html#aa228cb5f40c193594a16aff7bf68ab70">alloc_nid_done</a></div><div class="ttdeci">void alloc_nid_done(struct f2fs_sb_info *sbi, nid_t nid)</div><div class="ttdef"><b>Definition:</b> node.c:2145</div></div>
<div class="ttc" id="f2fs_8h_html_a8a0ae3c47a28ef4e204cf3fd368609ab"><div class="ttname"><a href="f2fs_8h.html#a8a0ae3c47a28ef4e204cf3fd368609ab">create_flush_cmd_control</a></div><div class="ttdeci">int create_flush_cmd_control(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:651</div></div>
<div class="ttc" id="f2fs_8h_html_a813ca1b47cec63cf28f187e0afd496ffa020240e220811b0bc51163faf3b87061"><div class="ttname"><a href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa020240e220811b0bc51163faf3b87061">DIRTY_META</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1040</div></div>
<div class="ttc" id="f2fs_8h_html_ac118578b3853482a50926edcb4a15b39"><div class="ttname"><a href="f2fs_8h.html#ac118578b3853482a50926edcb4a15b39">set_inode_flag</a></div><div class="ttdeci">static void set_inode_flag(struct inode *inode, int flag)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2223</div></div>
<div class="ttc" id="f2fs_8h_html_adaa482738fbf03256b6adea95ab30a22"><div class="ttname"><a href="f2fs_8h.html#adaa482738fbf03256b6adea95ab30a22">need_SSR</a></div><div class="ttdeci">bool need_SSR(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:172</div></div>
<div class="ttc" id="f2fs_8h_html_a9950694608ca4299c7199d648974c035"><div class="ttname"><a href="f2fs_8h.html#a9950694608ca4299c7199d648974c035">f2fs_discard_en</a></div><div class="ttdeci">static bool f2fs_discard_en(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3256</div></div>
<div class="ttc" id="f2fs_8h_html_a02e4d2050db69f79a770b2f0d2b2bea8"><div class="ttname"><a href="f2fs_8h.html#a02e4d2050db69f79a770b2f0d2b2bea8">F2FS_FEATURE_FUNCS</a></div><div class="ttdeci">#define F2FS_FEATURE_FUNCS(name, flagname)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3226</div></div>
<div class="ttc" id="cifspdu_8h_html_a12b1ee8c5efcba4a2341cc1d49f58b71"><div class="ttname"><a href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a></div><div class="ttdeci">__u32 mask</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a49d51dcf4db17027f99c6092950f1f49"><div class="ttname"><a href="structf2fs__sb__info.html#a49d51dcf4db17027f99c6092950f1f49">f2fs_sb_info::cp_lock</a></div><div class="ttdeci">spinlock_t cp_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1121</div></div>
<div class="ttc" id="structf2fs__sb__info_html_af49df34e47ce57cf3f1c61414145e35b"><div class="ttname"><a href="structf2fs__sb__info.html#af49df34e47ce57cf3f1c61414145e35b">f2fs_sb_info::stat_lock</a></div><div class="ttdeci">spinlock_t stat_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1230</div></div>
<div class="ttc" id="structflush__cmd__control_html_a5ccaa91a5d4e59da226cc8badf48116e"><div class="ttname"><a href="structflush__cmd__control.html#a5ccaa91a5d4e59da226cc8badf48116e">flush_cmd_control::issing_flush</a></div><div class="ttdeci">atomic_t issing_flush</div><div class="ttdef"><b>Definition:</b> f2fs.h:857</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9afbf7d3c2598375ebb41d41689835bcce"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9afbf7d3c2598375ebb41d41689835bcce">FI_DIRTY_FILE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2198</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_a708da5fd4cf072687799860a0f001951"><div class="ttname"><a href="structf2fs__map__blocks.html#a708da5fd4cf072687799860a0f001951">f2fs_map_blocks::m_seg_type</a></div><div class="ttdeci">int m_seg_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:580</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_a5e3b29a919f8543a0145bb9608f0a4e7"><div class="ttname"><a href="structf2fs__map__blocks.html#a5e3b29a919f8543a0145bb9608f0a4e7">f2fs_map_blocks::m_flags</a></div><div class="ttdeci">unsigned int m_flags</div><div class="ttdef"><b>Definition:</b> f2fs.h:577</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a2ca6df404d412ef52ce8a6acba799848"><div class="ttname"><a href="structf2fs__sb__info.html#a2ca6df404d412ef52ce8a6acba799848">f2fs_sb_info::log_blocksize</a></div><div class="ttdeci">unsigned int log_blocksize</div><div class="ttdef"><b>Definition:</b> f2fs.h:1152</div></div>
<div class="ttc" id="f2fs_8h_html_ae6d01e95ec944a4bbcb1a0ab3b0f027c"><div class="ttname"><a href="f2fs_8h.html#ae6d01e95ec944a4bbcb1a0ab3b0f027c">destroy_node_manager</a></div><div class="ttdeci">void destroy_node_manager(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> node.c:2781</div></div>
<div class="ttc" id="f2fs_8h_html_a579aa0650750131605beab950663d520"><div class="ttname"><a href="f2fs_8h.html#a579aa0650750131605beab950663d520">f2fs_exist_data</a></div><div class="ttdeci">static int f2fs_exist_data(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2391</div></div>
<div class="ttc" id="f2fs_8h_html_aa21991918fdf7636a677390fa8fbab80"><div class="ttname"><a href="f2fs_8h.html#aa21991918fdf7636a677390fa8fbab80">f2fs_grab_cache_page</a></div><div class="ttdeci">static struct page * f2fs_grab_cache_page(struct address_space *mapping, pgoff_t index, bool for_write)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1947</div></div>
<div class="ttc" id="f2fs_8h_html_a767b62b0aebed2a97d79f41acbc6f4c2"><div class="ttname"><a href="f2fs_8h.html#a767b62b0aebed2a97d79f41acbc6f4c2">f2fs_put_page</a></div><div class="ttdeci">static void f2fs_put_page(struct page *page, int unlock)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1989</div></div>
<div class="ttc" id="f2fs_8h_html_a58ccdd26bb35d6510f9a8024d2f9abe8"><div class="ttname"><a href="f2fs_8h.html#a58ccdd26bb35d6510f9a8024d2f9abe8">__remain_node_summaries</a></div><div class="ttdeci">static bool __remain_node_summaries(int reason)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1578</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a779b748945d8a6119ae8cf11e3c83a33"><div class="ttname"><a href="structf2fs__sb__info.html#a779b748945d8a6119ae8cf11e3c83a33">f2fs_sb_info::devs</a></div><div class="ttdeci">struct f2fs_dev_info * devs</div><div class="ttdef"><b>Definition:</b> f2fs.h:1244</div></div>
<div class="ttc" id="structf2fs__sb__info_html_afdfa7d258ff66561cda371c81c9430f5"><div class="ttname"><a href="structf2fs__sb__info.html#afdfa7d258ff66561cda371c81c9430f5">f2fs_sb_info::gc_pin_file_threshold</a></div><div class="ttdeci">u64 gc_pin_file_threshold</div><div class="ttdef"><b>Definition:</b> f2fs.h:1202</div></div>
<div class="ttc" id="f2fs_8h_html_ac8a36e745fdd4142adf16bb8c806e7ec"><div class="ttname"><a href="f2fs_8h.html#ac8a36e745fdd4142adf16bb8c806e7ec">f2fs_inode_dirtied</a></div><div class="ttdeci">int f2fs_inode_dirtied(struct inode *inode, bool sync)</div><div class="ttdef"><b>Definition:</b> super.c:889</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a8a9f2c14b017fe4aa2428e5d7f7e54d1"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a8a9f2c14b017fe4aa2428e5d7f7e54d1">META</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:938</div></div>
<div class="ttc" id="structfsync__inode__entry_html_a9eeb687d56f9f91cf201d5f3fc03b424"><div class="ttname"><a href="structfsync__inode__entry.html#a9eeb687d56f9f91cf201d5f3fc03b424">fsync_inode_entry::blkaddr</a></div><div class="ttdeci">block_t blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:319</div></div>
<div class="ttc" id="f2fs_8h_html_acd08fadcd3b929f4893db2e9fbc21778"><div class="ttname"><a href="f2fs_8h.html#acd08fadcd3b929f4893db2e9fbc21778">get_read_data_page</a></div><div class="ttdeci">struct page * get_read_data_page(struct inode *inode, pgoff_t index, int op_flags, bool for_write)</div><div class="ttdef"><b>Definition:</b> data.c:636</div></div>
<div class="ttc" id="f2fs_8h_html_afb7ce1d185397bd5768ebd313b74c412"><div class="ttname"><a href="f2fs_8h.html#afb7ce1d185397bd5768ebd313b74c412">file_is_encrypt</a></div><div class="ttdeci">#define file_is_encrypt(inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:610</div></div>
<div class="ttc" id="f2fs_8h_html_a20673b1110ec83d3fd8cfa33f9d4ef86"><div class="ttname"><a href="f2fs_8h.html#a20673b1110ec83d3fd8cfa33f9d4ef86">find_in_inline_dir</a></div><div class="ttdeci">struct f2fs_dir_entry * find_in_inline_dir(struct inode *dir, struct fscrypt_name *fname, struct page **res_page)</div><div class="ttdef"><b>Definition:</b> inline.c:294</div></div>
<div class="ttc" id="f2fs_8h_html_a1a225e55aa706cedbb3f6ec0f141a0b9"><div class="ttname"><a href="f2fs_8h.html#a1a225e55aa706cedbb3f6ec0f141a0b9">get_node_info</a></div><div class="ttdeci">void get_node_info(struct f2fs_sb_info *sbi, nid_t nid, struct node_info *ni)</div><div class="ttdef"><b>Definition:</b> node.c:416</div></div>
<div class="ttc" id="f2fs_8h_html_a61f005c36b3f75ef349980f1127faa85"><div class="ttname"><a href="f2fs_8h.html#a61f005c36b3f75ef349980f1127faa85">destroy_segment_manager_caches</a></div><div class="ttdeci">void destroy_segment_manager_caches(void)</div><div class="ttdef"><b>Definition:</b> segment.c:4006</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a2e63473ff22122443164cc446adcba41"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2e63473ff22122443164cc446adcba41">FI_VOLATILE_FILE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2192</div></div>
<div class="ttc" id="f2fs_8h_html_ad2310e429aaefbae7b794c792d24526c"><div class="ttname"><a href="f2fs_8h.html#ad2310e429aaefbae7b794c792d24526c">is_idle</a></div><div class="ttdeci">static bool is_idle(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1304</div></div>
<div class="ttc" id="f2fs_8h_html_a433912635a7fb7c70dcf942a26f35c49"><div class="ttname"><a href="f2fs_8h.html#a433912635a7fb7c70dcf942a26f35c49">f2fs_readonly</a></div><div class="ttdeci">static bool f2fs_readonly(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2495</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9ad25f77b8a557ad6bdd86f93d9cc0d3b8"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ad25f77b8a557ad6bdd86f93d9cc0d3b8">FI_ACL_MODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2180</div></div>
<div class="ttc" id="structf2fs__nm__info_html_af11c9a6b4214dbcd3e649d2cfedd144d"><div class="ttname"><a href="structf2fs__nm__info.html#af11c9a6b4214dbcd3e649d2cfedd144d">f2fs_nm_info::nat_bits</a></div><div class="ttdeci">unsigned char * nat_bits</div><div class="ttdef"><b>Definition:</b> f2fs.h:782</div></div>
<div class="ttc" id="f2fs_8h_html_aacecd9e27b8ee5790905f73d0f0d0699"><div class="ttname"><a href="f2fs_8h.html#aacecd9e27b8ee5790905f73d0f0d0699">f2fs_may_inline_dentry</a></div><div class="ttdeci">bool f2fs_may_inline_dentry(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inline.c:34</div></div>
<div class="ttc" id="f2fs_8h_html_a4826cbd60f3bf54360d4ce94bae9b914"><div class="ttname"><a href="f2fs_8h.html#a4826cbd60f3bf54360d4ce94bae9b914">stop_gc_thread</a></div><div class="ttdeci">void stop_gc_thread(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> gc.c:151</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a014072dbc44f8a052fd36feb5f96c557"><div class="ttname"><a href="structf2fs__nm__info.html#a014072dbc44f8a052fd36feb5f96c557">f2fs_nm_info::nat_block_bitmap</a></div><div class="ttdeci">unsigned char * nat_block_bitmap</div><div class="ttdef"><b>Definition:</b> f2fs.h:775</div></div>
<div class="ttc" id="f2fs_8h_html_a4c94b67bbbabbeee9ea4eac1326e42ec"><div class="ttname"><a href="f2fs_8h.html#a4c94b67bbbabbeee9ea4eac1326e42ec">F2FS_INODE</a></div><div class="ttdeci">static struct f2fs_inode * F2FS_INODE(struct page *page)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1398</div></div>
<div class="ttc" id="f2fs_8h_html_ad7a67987e116f42975de55329e9bb456"><div class="ttname"><a href="f2fs_8h.html#ad7a67987e116f42975de55329e9bb456">restore_node_summary</a></div><div class="ttdeci">void restore_node_summary(struct f2fs_sb_info *sbi, unsigned int segno, struct f2fs_summary_block *sum)</div><div class="ttdef"><b>Definition:</b> node.c:2352</div></div>
<div class="ttc" id="f2fs_8h_html_ae41e89d77d5f63577cd64741653bc934"><div class="ttname"><a href="f2fs_8h.html#ae41e89d77d5f63577cd64741653bc934">f2fs_mask_flags</a></div><div class="ttdeci">static __u32 f2fs_mask_flags(umode_t mode, __u32 flags)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2163</div></div>
<div class="ttc" id="structf2fs__dev__info_html_a3da4321a080fc679ab24bbc0c429271d"><div class="ttname"><a href="structf2fs__dev__info.html#a3da4321a080fc679ab24bbc0c429271d">f2fs_dev_info::end_blk</a></div><div class="ttdeci">block_t end_blk</div><div class="ttdef"><b>Definition:</b> f2fs.h:1030</div></div>
<div class="ttc" id="f2fs_8h_html_a2267e406fa8d6ffa81ab631cd6a10ecd"><div class="ttname"><a href="f2fs_8h.html#a2267e406fa8d6ffa81ab631cd6a10ecd">f2fs_i_gc_failures_write</a></div><div class="ttdeci">static void f2fs_i_gc_failures_write(struct inode *inode, unsigned int count)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2299</div></div>
<div class="ttc" id="f2fs_8h_html_ad733886eed8c5a6479f351a05e28c8f6"><div class="ttname"><a href="f2fs_8h.html#ad733886eed8c5a6479f351a05e28c8f6">f2fs_set_link</a></div><div class="ttdeci">void f2fs_set_link(struct inode *dir, struct f2fs_dir_entry *de, struct page *page, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> dir.c:294</div></div>
<div class="ttc" id="f2fs_8h_html_a2ee2c42611ca9e42be335178af2932ff"><div class="ttname"><a href="f2fs_8h.html#a2ee2c42611ca9e42be335178af2932ff">grab_meta_page</a></div><div class="ttdeci">struct page * grab_meta_page(struct f2fs_sb_info *sbi, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:39</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6af57bec1fe7a71419be46e444cb4d3a6c"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6af57bec1fe7a71419be46e444cb4d3a6c">IPU</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:945</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a69fb472aeabbb24597b8fee97530de2e"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a69fb472aeabbb24597b8fee97530de2e">FI_FREE_NID</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2182</div></div>
<div class="ttc" id="structino__entry_html"><div class="ttname"><a href="structino__entry.html">ino_entry</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:219</div></div>
<div class="ttc" id="f2fs_8h_html_a27decabf69aab4fafa005b4dea474c86"><div class="ttname"><a href="f2fs_8h.html#a27decabf69aab4fafa005b4dea474c86">f2fs_getattr</a></div><div class="ttdeci">int f2fs_getattr(const struct path *path, struct kstat *stat, u32 request_mask, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> file.c:673</div></div>
<div class="ttc" id="f2fs_8h_html_aff6d9b515be1159f84ff48c9c261467a"><div class="ttname"><a href="f2fs_8h.html#aff6d9b515be1159f84ff48c9c261467a">INLINE_DENTRY_BITMAP_SIZE</a></div><div class="ttdeci">#define INLINE_DENTRY_BITMAP_SIZE(inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:449</div></div>
<div class="ttc" id="structf2fs__move__range_html_adab95cde105c80f257c079cb807c30a7"><div class="ttname"><a href="structf2fs__move__range.html#adab95cde105c80f257c079cb807c30a7">f2fs_move_range::len</a></div><div class="ttdeci">u64 len</div><div class="ttdef"><b>Definition:</b> f2fs.h:427</div></div>
<div class="ttc" id="f2fs_8h_html_aa813f548b8ac910701505e35fe4cb437a6e622de8e4595ac19be310492578833a"><div class="ttname"><a href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437a6e622de8e4595ac19be310492578833a">FSYNC_MODE_POSIX</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1081</div></div>
<div class="ttc" id="f2fs_8h_html_ab6a7077b9ca76cabd1fc475a8796b8b8"><div class="ttname"><a href="f2fs_8h.html#ab6a7077b9ca76cabd1fc475a8796b8b8">find_data_page</a></div><div class="ttdeci">struct page * find_data_page(struct inode *inode, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> data.c:694</div></div>
<div class="ttc" id="f2fs_8h_html_a4b4c9e63e6e4506947c252265b77ccf3"><div class="ttname"><a href="f2fs_8h.html#a4b4c9e63e6e4506947c252265b77ccf3">f2fs_is_pinned_file</a></div><div class="ttdeci">static bool f2fs_is_pinned_file(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2401</div></div>
<div class="ttc" id="f2fs_8h_html_a9b9bfdc3ef133e81d42d47ab697dd612"><div class="ttname"><a href="f2fs_8h.html#a9b9bfdc3ef133e81d42d47ab697dd612">f2fs_empty_inline_dir</a></div><div class="ttdeci">bool f2fs_empty_inline_dir(struct inode *dir)</div><div class="ttdef"><b>Definition:</b> inline.c:594</div></div>
<div class="ttc" id="structf2fs__inode__info_html_af56dec5e4b903ad9d8cfa9718e1dc984"><div class="ttname"><a href="structf2fs__inode__info.html#af56dec5e4b903ad9d8cfa9718e1dc984">f2fs_inode_info::i_extra_isize</a></div><div class="ttdeci">int i_extra_isize</div><div class="ttdef"><b>Definition:</b> f2fs.h:663</div></div>
<div class="ttc" id="structdiscard__cmd_html_af7b4a5cdac73c5cb068d099f20a023c2"><div class="ttname"><a href="structdiscard__cmd.html#af7b4a5cdac73c5cb068d099f20a023c2">discard_cmd::start</a></div><div class="ttdeci">block_t start</div><div class="ttdef"><b>Definition:</b> f2fs.h:264</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a1a5c32605835d790ae3644950dd54800">FI_INLINE_DENTRY</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2186</div></div>
<div class="ttc" id="f2fs_8h_html_a927f665327600de182fba58670f1bf01"><div class="ttname"><a href="f2fs_8h.html#a927f665327600de182fba58670f1bf01">remove_orphan_inode</a></div><div class="ttdeci">void remove_orphan_inode(struct f2fs_sb_info *sbi, nid_t ino)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:562</div></div>
<div class="ttc" id="f2fs_8h_html_a3143b57146ef21ea3727156d369558f2af7ee24dc55ebef880f829940946a97fd"><div class="ttname"><a href="f2fs_8h.html#a3143b57146ef21ea3727156d369558f2af7ee24dc55ebef880f829940946a97fd">ALLOC_MODE_REUSE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1077</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html_a180b51a8c853dac360c6b76527b8b30a"><div class="ttname"><a href="structf2fs__dentry__ptr.html#a180b51a8c853dac360c6b76527b8b30a">f2fs_dentry_ptr::dentry</a></div><div class="ttdeci">struct f2fs_dir_entry * dentry</div><div class="ttdef"><b>Definition:</b> f2fs.h:463</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ac835630c067a4cc3ace7c3320d0cc064"><div class="ttname"><a href="structf2fs__sb__info.html#ac835630c067a4cc3ace7c3320d0cc064">f2fs_sb_info::meta_ino_num</a></div><div class="ttdeci">unsigned int meta_ino_num</div><div class="ttdef"><b>Definition:</b> f2fs.h:1156</div></div>
<div class="ttc" id="f2fs_8h_html_a6787a5546891c0680c2ef6609c5a66a2"><div class="ttname"><a href="f2fs_8h.html#a6787a5546891c0680c2ef6609c5a66a2">__is_discard_mergeable</a></div><div class="ttdeci">static bool __is_discard_mergeable(struct discard_info *back, struct discard_info *front)</div><div class="ttdef"><b>Definition:</b> f2fs.h:694</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a42741b5ccb5989a97905cba3e0195ab7"><div class="ttname"><a href="structf2fs__sb__info.html#a42741b5ccb5989a97905cba3e0195ab7">f2fs_sb_info::kbytes_written</a></div><div class="ttdeci">u64 kbytes_written</div><div class="ttdef"><b>Definition:</b> f2fs.h:1252</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a9b2a7ec02a49da9f35d23c77c19e06fb"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a9b2a7ec02a49da9f35d23c77c19e06fb">FS_CP_META_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:987</div></div>
<div class="ttc" id="structflush__cmd_html_a6ba79a35461476b9201370c46a10116e"><div class="ttname"><a href="structflush__cmd.html#a6ba79a35461476b9201370c46a10116e">flush_cmd::ino</a></div><div class="ttdeci">nid_t ino</div><div class="ttdef"><b>Definition:</b> f2fs.h:849</div></div>
<div class="ttc" id="structf2fs__defragment_html_a80ce16cacffffbde5093df6943f2c56d"><div class="ttname"><a href="structf2fs__defragment.html#a80ce16cacffffbde5093df6943f2c56d">f2fs_defragment::start</a></div><div class="ttdeci">u64 start</div><div class="ttdef"><b>Definition:</b> f2fs.h:419</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a34e5cf93fce7751bb7a70b18e48882b1"><div class="ttname"><a href="structf2fs__inode__info.html#a34e5cf93fce7751bb7a70b18e48882b1">f2fs_inode_info::dirty_pages</a></div><div class="ttdeci">atomic_t dirty_pages</div><div class="ttdef"><b>Definition:</b> f2fs.h:638</div></div>
<div class="ttc" id="structf2fs__io__info_html_af8dff94476a3425e352e391c37825170"><div class="ttname"><a href="structf2fs__io__info.html#af8dff94476a3425e352e391c37825170">f2fs_io_info::page</a></div><div class="ttdeci">struct page * page</div><div class="ttdef"><b>Definition:</b> f2fs.h:1001</div></div>
<div class="ttc" id="f2fs_8h_html_ac26454c1c0651bb169cb55dc6ac569a7"><div class="ttname"><a href="f2fs_8h.html#ac26454c1c0651bb169cb55dc6ac569a7">f2fs_convert_inline_inode</a></div><div class="ttdeci">int f2fs_convert_inline_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inline.c:164</div></div>
<div class="ttc" id="structf2fs__sb__info_html_afbae0d2aac2658e324fa14e29a210219"><div class="ttname"><a href="structf2fs__sb__info.html#afbae0d2aac2658e324fa14e29a210219">f2fs_sb_info::cp_wait</a></div><div class="ttdeci">wait_queue_head_t cp_wait</div><div class="ttdef"><b>Definition:</b> f2fs.h:1127</div></div>
<div class="ttc" id="f2fs_8h_html_aa25dca5ea421aad63f0340d546a619c7"><div class="ttname"><a href="f2fs_8h.html#aa25dca5ea421aad63f0340d546a619c7">recover_orphan_inodes</a></div><div class="ttdeci">int recover_orphan_inodes(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:617</div></div>
<div class="ttc" id="f2fs_8h_html_a337d6b8d9f9cc2b4d207e433a70d3987ae9cc0385c1367d8a4d22e2e0d663304a"><div class="ttname"><a href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987ae9cc0385c1367d8a4d22e2e0d663304a">META_SSA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:205</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a9428c61c115605f70b4bba62fb6ca9de"><div class="ttname"><a href="structf2fs__inode__info.html#a9428c61c115605f70b4bba62fb6ca9de">f2fs_inode_info::extent_tree</a></div><div class="ttdeci">struct extent_tree * extent_tree</div><div class="ttdef"><b>Definition:</b> f2fs.h:658</div></div>
<div class="ttc" id="f2fs_8h_html_a0e96acf73ec595679ffcca6fecc4d705a1c2673fcf359d24d551a22ed91707c16"><div class="ttname"><a href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a1c2673fcf359d24d551a22ed91707c16">DPOLICY_FSTRIM</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:280</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9acf2bd2202ea8612d646d60262bff0891"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9acf2bd2202ea8612d646d60262bff0891">FI_DO_DEFRAG</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2197</div></div>
<div class="ttc" id="f2fs_8h_html_a4edcb31ba255c46e4bba8ce12109645e"><div class="ttname"><a href="f2fs_8h.html#a4edcb31ba255c46e4bba8ce12109645e">f2fs_update_data_blkaddr</a></div><div class="ttdeci">void f2fs_update_data_blkaddr(struct dnode_of_data *dn, block_t blkaddr)</div><div class="ttdef"><b>Definition:</b> data.c:555</div></div>
<div class="ttc" id="f2fs_8h_html_accb955944554886bb8a20adc9be63cb3"><div class="ttname"><a href="f2fs_8h.html#accb955944554886bb8a20adc9be63cb3">f2fs_trylock_op</a></div><div class="ttdeci">static int f2fs_trylock_op(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1547</div></div>
<div class="ttc" id="f2fs_8h_html_a3594bb5ccd7fee0943c3fe52517e0a13"><div class="ttname"><a href="f2fs_8h.html#a3594bb5ccd7fee0943c3fe52517e0a13">f2fs_inode_chksum_set</a></div><div class="ttdeci">void f2fs_inode_chksum_set(struct f2fs_sb_info *sbi, struct page *page)</div><div class="ttdef"><b>Definition:</b> inode.c:178</div></div>
<div class="ttc" id="f2fs_8h_html_ae658f55786a8333d438136f00901e0d6"><div class="ttname"><a href="f2fs_8h.html#ae658f55786a8333d438136f00901e0d6">read_inline_data</a></div><div class="ttdeci">void read_inline_data(struct page *page, struct page *ipage)</div><div class="ttdef"><b>Definition:</b> inline.c:45</div></div>
<div class="ttc" id="structmount_html"><div class="ttname"><a href="structmount.html">mount</a></div><div class="ttdef"><b>Definition:</b> mount.h:34</div></div>
<div class="ttc" id="f2fs_8h_html_ae880e78e1d1dae96b991c0c0d711ae5a"><div class="ttname"><a href="f2fs_8h.html#ae880e78e1d1dae96b991c0c0d711ae5a">f2fs_i_blocks_write</a></div><div class="ttdeci">static void f2fs_i_blocks_write(struct inode *, block_t, bool, bool)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2258</div></div>
<div class="ttc" id="f2fs_8h_html_ae3c356ef5c10329f83b1f453e075cf7a"><div class="ttname"><a href="f2fs_8h.html#ae3c356ef5c10329f83b1f453e075cf7a">invalidate_blocks</a></div><div class="ttdeci">void invalidate_blocks(struct f2fs_sb_info *sbi, block_t addr)</div><div class="ttdef"><b>Definition:</b> segment.c:1905</div></div>
<div class="ttc" id="f2fs_8h_html_a890e1fdad7f6306eb95d976d53bf15ab"><div class="ttname"><a href="f2fs_8h.html#a890e1fdad7f6306eb95d976d53bf15ab">sanity_check_ckpt</a></div><div class="ttdeci">const char const char int sanity_check_ckpt(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> super.c:2220</div></div>
<div class="ttc" id="f2fs_8h_html_a8ea2d039c47fb912212f83ae3a6a7db9"><div class="ttname"><a href="f2fs_8h.html#a8ea2d039c47fb912212f83ae3a6a7db9">truncate_data_blocks</a></div><div class="ttdeci">void truncate_data_blocks(struct dnode_of_data *dn)</div><div class="ttdef"><b>Definition:</b> file.c:534</div></div>
<div class="ttc" id="f2fs_8h_html_a48062cab2a4f605821b1b430bd41611a"><div class="ttname"><a href="f2fs_8h.html#a48062cab2a4f605821b1b430bd41611a">f2fs_copy_page</a></div><div class="ttdeci">static void f2fs_copy_page(struct page *src, struct page *dst)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1979</div></div>
<div class="ttc" id="f2fs_8h_html_aa8e8e3a28e0ae2e2be529f91e834d2ff"><div class="ttname"><a href="f2fs_8h.html#aa8e8e3a28e0ae2e2be529f91e834d2ff">update_meta_page</a></div><div class="ttdeci">void update_meta_page(struct f2fs_sb_info *sbi, void *src, block_t blk_addr)</div><div class="ttdef"><b>Definition:</b> segment.c:1999</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a0cfb8fb5fbdb93aaecf700cdeff0e2c0"><div class="ttname"><a href="structf2fs__inode__info.html#a0cfb8fb5fbdb93aaecf700cdeff0e2c0">f2fs_inode_info::i_gc_failures</a></div><div class="ttdeci">unsigned short i_gc_failures</div><div class="ttdef"><b>Definition:</b> f2fs.h:630</div></div>
<div class="ttc" id="f2fs_8h_html_af2b3cfb16ce54f5c59a550ae354c8c4b"><div class="ttname"><a href="f2fs_8h.html#af2b3cfb16ce54f5c59a550ae354c8c4b">get_de_type</a></div><div class="ttdeci">unsigned char get_de_type(struct f2fs_dir_entry *de)</div><div class="ttdef"><b>Definition:</b> dir.c:68</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a782b4bdb9fc4f5b31711ab592b81f729"><div class="ttname"><a href="structf2fs__sm__info.html#a782b4bdb9fc4f5b31711ab592b81f729">f2fs_sm_info::seg0_blkaddr</a></div><div class="ttdeci">block_t seg0_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:870</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ac99cbeeb1ac24dfa7001d7f7700c9301"><div class="ttname"><a href="structf2fs__sb__info.html#ac99cbeeb1ac24dfa7001d7f7700c9301">f2fs_sb_info::valid_super_block</a></div><div class="ttdeci">int valid_super_block</div><div class="ttdef"><b>Definition:</b> f2fs.h:1097</div></div>
<div class="ttc" id="f2fs_8h_html_aa759407767971b534de89f3f45289461"><div class="ttname"><a href="f2fs_8h.html#aa759407767971b534de89f3f45289461">set_data_blkaddr</a></div><div class="ttdeci">void set_data_blkaddr(struct dnode_of_data *dn)</div><div class="ttdef"><b>Definition:</b> data.c:547</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ae07b8bb5d0e3aaea3a51c170a3b9ab7a"><div class="ttname"><a href="structf2fs__sb__info.html#ae07b8bb5d0e3aaea3a51c170a3b9ab7a">f2fs_sb_info::iostat_enable</a></div><div class="ttdeci">bool iostat_enable</div><div class="ttdef"><b>Definition:</b> f2fs.h:1235</div></div>
<div class="ttc" id="f2fs_8h_html_a314496eeb44300af15584d400b9fd0d0"><div class="ttname"><a href="f2fs_8h.html#a314496eeb44300af15584d400b9fd0d0">f2fs_issue_flush</a></div><div class="ttdeci">int f2fs_issue_flush(struct f2fs_sb_info *sbi, nid_t ino)</div><div class="ttdef"><b>Definition:</b> segment.c:587</div></div>
<div class="ttc" id="f2fs_8h_html_a9979b9db5eb8c0e197077d732f103cf0"><div class="ttname"><a href="f2fs_8h.html#a9979b9db5eb8c0e197077d732f103cf0">__exist_node_summaries</a></div><div class="ttdeci">static bool __exist_node_summaries(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1583</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22acff098dba3c8917cc63513cc1690e502"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acff098dba3c8917cc63513cc1690e502">FS_META_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:982</div></div>
<div class="ttc" id="f2fs_8h_html_a70f51676d82e03cd377f2387c7ef8543"><div class="ttname"><a href="f2fs_8h.html#a70f51676d82e03cd377f2387c7ef8543">update_dirty_page</a></div><div class="ttdeci">void update_dirty_page(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:901</div></div>
<div class="ttc" id="f2fs_8h_html_a05d708be10dc5018ef2ce6fdb7e77e06"><div class="ttname"><a href="f2fs_8h.html#a05d708be10dc5018ef2ce6fdb7e77e06">start_gc_thread</a></div><div class="ttdeci">int start_gc_thread(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> gc.c:117</div></div>
<div class="ttc" id="structflush__cmd_html"><div class="ttname"><a href="structflush__cmd.html">flush_cmd</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:846</div></div>
<div class="ttc" id="f2fs_8h_html_a88b3442e19f0a241cbca0781af2a71daa2c896812ac6d7506f6ef0f8ad8773fdd"><div class="ttname"><a href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daa2c896812ac6d7506f6ef0f8ad8773fdd">COLD</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:952</div></div>
<div class="ttc" id="f2fs_8h_html_a223be06596dd9ff740bf0a09c8632294ac0d8f3f113f976d29478b4d497967b68"><div class="ttname"><a href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294ac0d8f3f113f976d29478b4d497967b68">LOOKUP_NODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:505</div></div>
<div class="ttc" id="structdnode__of__data_html_ab384dc27d2125fb00b67f0642d5452e6"><div class="ttname"><a href="structdnode__of__data.html#ab384dc27d2125fb00b67f0642d5452e6">dnode_of_data::inode_page</a></div><div class="ttdeci">struct page * inode_page</div><div class="ttdef"><b>Definition:</b> f2fs.h:798</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22aa281ddae440e9405d5309fc4e95185f2"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22aa281ddae440e9405d5309fc4e95185f2">FS_GC_DATA_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:983</div></div>
<div class="ttc" id="ecryptfs_2crypto_8c_html_a1cb0c60ca582db30ae87362ca43e8c19"><div class="ttname"><a href="ecryptfs_2crypto_8c.html#a1cb0c60ca582db30ae87362ca43e8c19">ENCRYPT</a></div><div class="ttdeci">#define ENCRYPT</div><div class="ttdef"><b>Definition:</b> crypto.c:43</div></div>
<div class="ttc" id="f2fs_8h_html_abfa82d2509b2d54925c6ef0cd6215fd4"><div class="ttname"><a href="f2fs_8h.html#abfa82d2509b2d54925c6ef0cd6215fd4">ra_meta_pages</a></div><div class="ttdeci">int ra_meta_pages(struct f2fs_sb_info *sbi, block_t start, int nrpages, int type, bool sync)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:154</div></div>
<div class="ttc" id="f2fs_8h_html_a880436e632c427640b898b995bfb65c1"><div class="ttname"><a href="f2fs_8h.html#a880436e632c427640b898b995bfb65c1">nid_t</a></div><div class="ttdeci">u32 nid_t</div><div class="ttdef"><b>Definition:</b> f2fs.h:114</div></div>
<div class="ttc" id="f2fs_8h_html_a319d524aadad53dcd886c2bba304ded4a0c17ed5e070147f6931f724fefb50d54"><div class="ttname"><a href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a0c17ed5e070147f6931f724fefb50d54">CP_TIME</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1064</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197aa6024e4080b087c9e8a2a9c17e7f2249"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197aa6024e4080b087c9e8a2a9c17e7f2249">CP_WRONG_PINO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:967</div></div>
<div class="ttc" id="structf2fs__sm__info_html"><div class="ttname"><a href="structf2fs__sm__info.html">f2fs_sm_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:862</div></div>
<div class="ttc" id="structf2fs__dev__info_html_a514a1109d9a1263b977fea96447060cc"><div class="ttname"><a href="structf2fs__dev__info.html#a514a1109d9a1263b977fea96447060cc">f2fs_dev_info::start_blk</a></div><div class="ttdeci">block_t start_blk</div><div class="ttdef"><b>Definition:</b> f2fs.h:1029</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_afbf5c51b5536cf7b1ba7c950be1a18a9"><div class="ttname"><a href="structdiscard__cmd__control.html#afbf5c51b5536cf7b1ba7c950be1a18a9">discard_cmd_control::max_discards</a></div><div class="ttdeci">unsigned int max_discards</div><div class="ttdef"><b>Definition:</b> f2fs.h:306</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a97abfd51b0e91575f14320a361f08f50"><div class="ttname"><a href="structf2fs__sb__info.html#a97abfd51b0e91575f14320a361f08f50">f2fs_sb_info::log_sectors_per_block</a></div><div class="ttdeci">unsigned int log_sectors_per_block</div><div class="ttdef"><b>Definition:</b> f2fs.h:1151</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a0a1e68a3a212bb2d1859ad1de84981f1"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a0a1e68a3a212bb2d1859ad1de84981f1">NR_COUNT_TYPE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:920</div></div>
<div class="ttc" id="structdnode__of__data_html_af0d2c9988a80e1adaaca46ac18a7ff66"><div class="ttname"><a href="structdnode__of__data.html#af0d2c9988a80e1adaaca46ac18a7ff66">dnode_of_data::nid</a></div><div class="ttdeci">nid_t nid</div><div class="ttdef"><b>Definition:</b> f2fs.h:800</div></div>
<div class="ttc" id="structflush__cmd__control_html_a0627215cc09a4c4af1ccfca80a74b808"><div class="ttname"><a href="structflush__cmd__control.html#a0627215cc09a4c4af1ccfca80a74b808">flush_cmd_control::f2fs_issue_flush</a></div><div class="ttdeci">struct task_struct * f2fs_issue_flush</div><div class="ttdef"><b>Definition:</b> f2fs.h:854</div></div>
<div class="ttc" id="f2fs_8h_html_a1e22627b464e4c93fe549e6c94cdc4fd"><div class="ttname"><a href="f2fs_8h.html#a1e22627b464e4c93fe549e6c94cdc4fd">get_inline_info</a></div><div class="ttdeci">static void get_inline_info(struct inode *inode, struct f2fs_inode *ri)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2318</div></div>
<div class="ttc" id="f2fs_8h_html_adfcdc61017fccc2c685b41dc8bd09630"><div class="ttname"><a href="f2fs_8h.html#adfcdc61017fccc2c685b41dc8bd09630">space_for_roll_forward</a></div><div class="ttdeci">bool space_for_roll_forward(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> recovery.c:50</div></div>
<div class="ttc" id="f2fs_8h_html_a69b8f6322fe6e0f7a53e05669e0ae49a"><div class="ttname"><a href="f2fs_8h.html#a69b8f6322fe6e0f7a53e05669e0ae49a">set_raw_extent</a></div><div class="ttdeci">static void set_raw_extent(struct extent_info *ext, struct f2fs_extent *i_ext)</div><div class="ttdef"><b>Definition:</b> f2fs.h:678</div></div>
<div class="ttc" id="structf2fs__defragment_html"><div class="ttname"><a href="structf2fs__defragment.html">f2fs_defragment</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:418</div></div>
<div class="ttc" id="structf2fs__bio__info_html"><div class="ttname"><a href="structf2fs__bio__info.html">f2fs_bio_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1013</div></div>
<div class="ttc" id="structsuper__block_html"><div class="ttname"><a href="structsuper__block.html">super_block</a></div><div class="ttdef"><b>Definition:</b> ubifs.h:968</div></div>
<div class="ttc" id="f2fs_8h_html_ae9da62655347c3f004628ad453483aff"><div class="ttname"><a href="f2fs_8h.html#ae9da62655347c3f004628ad453483aff">inc_valid_node_count</a></div><div class="ttdeci">static int inc_valid_node_count(struct f2fs_sb_info *sbi, struct inode *inode, bool is_inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1847</div></div>
<div class="ttc" id="f2fs_8h_html_aade5f153d0fbe8e95073fbad00885d8c"><div class="ttname"><a href="f2fs_8h.html#aade5f153d0fbe8e95073fbad00885d8c">update_inode_page</a></div><div class="ttdeci">void update_inode_page(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inode.c:457</div></div>
<div class="ttc" id="f2fs_8h_html_acaf8c448b06ef187b51a3e493f2d9df8"><div class="ttname"><a href="f2fs_8h.html#acaf8c448b06ef187b51a3e493f2d9df8">f2fs_has_inline_data</a></div><div class="ttdeci">static int f2fs_has_inline_data(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2386</div></div>
<div class="ttc" id="cifspdu_8h_html_a29e94a3da97728e39afcbafa40610788"><div class="ttname"><a href="cifspdu_8h.html#a29e94a3da97728e39afcbafa40610788">free</a></div><div class="ttdeci">void(* free)(struct data_blob *data_blob)</div><div class="ttdef"><b>Definition:</b> cifspdu.h:459</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a92b62d0be8167789f0a9254db2929fea"><div class="ttname"><a href="structf2fs__nm__info.html#a92b62d0be8167789f0a9254db2929fea">f2fs_nm_info::free_nid_count</a></div><div class="ttdeci">unsigned short * free_nid_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:776</div></div>
<div class="ttc" id="f2fs_8h_html_a44d5ae2c13d9d628a85c40d4e10abc9a"><div class="ttname"><a href="f2fs_8h.html#a44d5ae2c13d9d628a85c40d4e10abc9a">f2fs_lock_op</a></div><div class="ttdeci">static void f2fs_lock_op(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1542</div></div>
<div class="ttc" id="ctree_8h_html_a3cfd2c1908c7a280340fc7ee887a88a8"><div class="ttname"><a href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a></div><div class="ttdeci">__le64 root</div><div class="ttdef"><b>Definition:</b> ctree.h:114</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_a540174b78ecb55e6b39f391a6a7dabda"><div class="ttname"><a href="structdiscard__cmd__control.html#a540174b78ecb55e6b39f391a6a7dabda">discard_cmd_control::f2fs_issue_discard</a></div><div class="ttdeci">struct task_struct * f2fs_issue_discard</div><div class="ttdef"><b>Definition:</b> f2fs.h:297</div></div>
<div class="ttc" id="f2fs_8h_html_a6f07f383e0c2b9ab6c9623f0f7c182d5"><div class="ttname"><a href="f2fs_8h.html#a6f07f383e0c2b9ab6c9623f0f7c182d5">__start_sum_addr</a></div><div class="ttdeci">static block_t __start_sum_addr(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1842</div></div>
<div class="ttc" id="f2fs_8h_html_a88b3442e19f0a241cbca0781af2a71daad3ba9823ef2b08b784b7997b39374f42"><div class="ttname"><a href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daad3ba9823ef2b08b784b7997b39374f42">WARM</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:951</div></div>
<div class="ttc" id="dquot_8c_html_a78a0deba7a34cea1fc4576102f98db4f"><div class="ttname"><a href="dquot_8c.html#a78a0deba7a34cea1fc4576102f98db4f">i_dquot</a></div><div class="ttdeci">static struct dquot ** i_dquot(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> dquot.c:921</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fa2b49dac0f24ee3a96aea3109418d84df"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa2b49dac0f24ee3a96aea3109418d84df">CURSEG_HOT_NODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:840</div></div>
<div class="ttc" id="f2fs_8h_html_a3244fe2be39470fe6eedac8cbd3a09f2"><div class="ttname"><a href="f2fs_8h.html#a3244fe2be39470fe6eedac8cbd3a09f2">destroy_node_manager_caches</a></div><div class="ttdeci">void destroy_node_manager_caches(void)</div><div class="ttdef"><b>Definition:</b> node.c:2879</div></div>
<div class="ttc" id="structdnode__of__data_html_a7583b5f7ebd887dce310978e02705623"><div class="ttname"><a href="structdnode__of__data.html#a7583b5f7ebd887dce310978e02705623">dnode_of_data::data_blkaddr</a></div><div class="ttdeci">block_t data_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:806</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a1849f685d00c6fbf476339b9b3c5d274"><div class="ttname"><a href="structf2fs__sb__info.html#a1849f685d00c6fbf476339b9b3c5d274">f2fs_sb_info::total_valid_node_count</a></div><div class="ttdeci">unsigned int total_valid_node_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1163</div></div>
<div class="ttc" id="f2fs_8h_html_a26fcf1e7f9cc14c41c5a63f8be9e5631ae70b8f2fd3b7a029e839c25b9302ca10"><div class="ttname"><a href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631ae70b8f2fd3b7a029e839c25b9302ca10">SBI_NEED_CP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1060</div></div>
<div class="ttc" id="f2fs_8h_html_a9e6765c9138ab8ff1d5d7d29690350ef"><div class="ttname"><a href="f2fs_8h.html#a9e6765c9138ab8ff1d5d7d29690350ef">f2fs_gc</a></div><div class="ttdeci">int f2fs_gc(struct f2fs_sb_info *sbi, bool sync, bool background, unsigned int segno)</div><div class="ttdef"><b>Definition:</b> gc.c:1008</div></div>
<div class="ttc" id="f2fs_8h_html_ac7bb0dad2d94cd4cebac915f5ebaedf0"><div class="ttname"><a href="f2fs_8h.html#ac7bb0dad2d94cd4cebac915f5ebaedf0">write_node_page</a></div><div class="ttdeci">void write_node_page(unsigned int nid, struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> segment.c:2765</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a9c5a7ea4ba86a0ae59dc0cfc08912056">FI_DATA_EXIST</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2195</div></div>
<div class="ttc" id="f2fs_8h_html_aed18e7670f13cf639dda3164c86b9e78"><div class="ttname"><a href="f2fs_8h.html#aed18e7670f13cf639dda3164c86b9e78">f2fs_has_xattr_block</a></div><div class="ttdeci">static bool f2fs_has_xattr_block(unsigned int ofs)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1611</div></div>
<div class="ttc" id="f2fs_8h_html_a8d3d2e34f66c2f8314e70b93c3934097"><div class="ttname"><a href="f2fs_8h.html#a8d3d2e34f66c2f8314e70b93c3934097">f2fs_has_inline_xattr</a></div><div class="ttdeci">static int f2fs_has_inline_xattr(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2363</div></div>
<div class="ttc" id="f2fs_8h_html_afa166763e69e3cc5d86dac43bfafb1e3"><div class="ttname"><a href="f2fs_8h.html#afa166763e69e3cc5d86dac43bfafb1e3">build_segment_manager</a></div><div class="ttdeci">int build_segment_manager(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:3793</div></div>
<div class="ttc" id="f2fs_8h_html_a01d350946478659d0d99ba9651c5972b"><div class="ttname"><a href="f2fs_8h.html#a01d350946478659d0d99ba9651c5972b">f2fs_exit_sysfs</a></div><div class="ttdeci">void f2fs_exit_sysfs(void)</div><div class="ttdef"><b>Definition:</b> sysfs.c:611</div></div>
<div class="ttc" id="f2fs_8h_html_a9afc4b816f06b5df4ffc08314bab3223"><div class="ttname"><a href="f2fs_8h.html#a9afc4b816f06b5df4ffc08314bab3223">F2FS_HAS_BLOCKS</a></div><div class="ttdeci">static int F2FS_HAS_BLOCKS(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1604</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a47871418baa14af5650694a5f1cbb407"><div class="ttname"><a href="structf2fs__inode__info.html#a47871418baa14af5650694a5f1cbb407">f2fs_inode_info::task</a></div><div class="ttdeci">struct task_struct * task</div><div class="ttdef"><b>Definition:</b> f2fs.h:641</div></div>
<div class="ttc" id="f2fs_8h_html_a26fcf1e7f9cc14c41c5a63f8be9e5631ae5434ba1ceb33b881bd72a0c0130e1ae"><div class="ttname"><a href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631ae5434ba1ceb33b881bd72a0c0130e1ae">SBI_POR_DOING</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1058</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a173b2f77d5241a91b22583a667e97a60"><div class="ttname"><a href="structf2fs__inode__info.html#a173b2f77d5241a91b22583a667e97a60">f2fs_inode_info::clevel</a></div><div class="ttdeci">unsigned int clevel</div><div class="ttdef"><b>Definition:</b> f2fs.h:640</div></div>
<div class="ttc" id="f2fs_8h_html_a580d31d9fe6d5e5309caaa828d99cf0a"><div class="ttname"><a href="f2fs_8h.html#a580d31d9fe6d5e5309caaa828d99cf0a">sync_dirty_inodes</a></div><div class="ttdeci">int sync_dirty_inodes(struct f2fs_sb_info *sbi, enum inode_type type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:937</div></div>
<div class="ttc" id="f2fs_8h_html_a773cc1ea398bed1a7647dfb5460c67ba"><div class="ttname"><a href="f2fs_8h.html#a773cc1ea398bed1a7647dfb5460c67ba">f2fs_submit_page_bio</a></div><div class="ttdeci">int f2fs_submit_page_bio(struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> data.c:380</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a6769f4a47a2e4cbf39043a94aed69a1c"><div class="ttname"><a href="structf2fs__sm__info.html#a6769f4a47a2e4cbf39043a94aed69a1c">f2fs_sm_info::main_blkaddr</a></div><div class="ttdeci">block_t main_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:871</div></div>
<div class="ttc" id="f2fs_8h_html_a9b2d4f0ae461e939668c6c94e32da5b9"><div class="ttname"><a href="f2fs_8h.html#a9b2d4f0ae461e939668c6c94e32da5b9">f2fs_get_block</a></div><div class="ttdeci">int f2fs_get_block(struct dnode_of_data *dn, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> data.c:623</div></div>
<div class="ttc" id="f2fs_8h_html_a871a83db4e53fc6c6872b5ac7cc94f39a0d434e7a9567128693a53389457d0d46"><div class="ttname"><a href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39a0d434e7a9567128693a53389457d0d46">SIT_BITMAP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:169</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html_a61872042c282e37b3087345af560d732"><div class="ttname"><a href="structf2fs__dentry__ptr.html#a61872042c282e37b3087345af560d732">f2fs_dentry_ptr::bitmap</a></div><div class="ttdeci">void * bitmap</div><div class="ttdef"><b>Definition:</b> f2fs.h:462</div></div>
<div class="ttc" id="f2fs_8h_html_a8b4c830b35dcab1e2ca481fa2b888599"><div class="ttname"><a href="f2fs_8h.html#a8b4c830b35dcab1e2ca481fa2b888599">__f2fs_write_data_pages</a></div><div class="ttdeci">int __f2fs_write_data_pages(struct address_space *mapping, struct writeback_control *wbc, enum iostat_type io_type)</div><div class="ttdef"><b>Definition:</b> data.c:2004</div></div>
<div class="ttc" id="f2fs_8h_html_a45e5a404456e47589d82acd5bc2f86c4"><div class="ttname"><a href="f2fs_8h.html#a45e5a404456e47589d82acd5bc2f86c4">acquire_orphan_inode</a></div><div class="ttdeci">int acquire_orphan_inode(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:522</div></div>
<div class="ttc" id="f2fs_8h_html_aa98bc4c33209a926a1edf8ea3355e948"><div class="ttname"><a href="f2fs_8h.html#aa98bc4c33209a926a1edf8ea3355e948">get_node_page_ra</a></div><div class="ttdeci">struct page * get_node_page_ra(struct page *parent, int start)</div><div class="ttdef"><b>Definition:</b> node.c:1240</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22ae6ec6c1d2e4ec2f3cdd5a96e37096bf5"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22ae6ec6c1d2e4ec2f3cdd5a96e37096bf5">NR_IO_TYPE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:989</div></div>
<div class="ttc" id="f2fs_8h_html_a70e65a02394b65421db771e31af55a92"><div class="ttname"><a href="f2fs_8h.html#a70e65a02394b65421db771e31af55a92">f2fs_destroy_stats</a></div><div class="ttdeci">static void f2fs_destroy_stats(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3108</div></div>
<div class="ttc" id="structdnode__of__data_html_a9bd071a524daad2c02abed8da43fce85"><div class="ttname"><a href="structdnode__of__data.html#a9bd071a524daad2c02abed8da43fce85">dnode_of_data::ofs_in_node</a></div><div class="ttdeci">unsigned int ofs_in_node</div><div class="ttdef"><b>Definition:</b> f2fs.h:801</div></div>
<div class="ttc" id="f2fs_8h_html_afd0183853749ddf02fac2eb4bf38ecd4"><div class="ttname"><a href="f2fs_8h.html#afd0183853749ddf02fac2eb4bf38ecd4">set_ckpt_flags</a></div><div class="ttdeci">static void set_ckpt_flags(struct f2fs_sb_info *sbi, unsigned int f)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1492</div></div>
<div class="ttc" id="f2fs_8h_html_ac86fcc7efbd5bb84b5a45de02e042004"><div class="ttname"><a href="f2fs_8h.html#ac86fcc7efbd5bb84b5a45de02e042004">update_parent_metadata</a></div><div class="ttdeci">void update_parent_metadata(struct inode *dir, struct inode *inode, unsigned int current_depth)</div><div class="ttdef"><b>Definition:</b> dir.c:433</div></div>
<div class="ttc" id="f2fs_8h_html_a4ad6ce267b006286b546fbe4dfdb6597"><div class="ttname"><a href="f2fs_8h.html#a4ad6ce267b006286b546fbe4dfdb6597">sits_in_cursum</a></div><div class="ttdeci">#define sits_in_cursum(jnl)</div><div class="ttdef"><b>Definition:</b> f2fs.h:324</div></div>
<div class="ttc" id="f2fs_8h_html_a7f26696c458e19ffc4372f64879679f8"><div class="ttname"><a href="f2fs_8h.html#a7f26696c458e19ffc4372f64879679f8">truncate_hole</a></div><div class="ttdeci">int truncate_hole(struct inode *inode, pgoff_t pg_start, pgoff_t pg_end)</div><div class="ttdef"><b>Definition:</b> file.c:866</div></div>
<div class="ttc" id="cifsacl_8h_html_a1d127017fb298b889f4ba24752d08b8e"><div class="ttname"><a href="cifsacl_8h.html#a1d127017fb298b889f4ba24752d08b8e">type</a></div><div class="ttdeci">__le16 type</div><div class="ttdef"><b>Definition:</b> cifsacl.h:1175</div></div>
<div class="ttc" id="f2fs_8h_html_ad13a7feee182a8f1fbb3496a221680a9"><div class="ttname"><a href="f2fs_8h.html#ad13a7feee182a8f1fbb3496a221680a9">f2fs_stop_checkpoint</a></div><div class="ttdeci">void f2fs_stop_checkpoint(struct f2fs_sb_info *sbi, bool end_io)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:29</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9ae39ab9cb28d94a6106d418737f275531"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae39ab9cb28d94a6106d418737f275531">FI_PROJ_INHERIT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2202</div></div>
<div class="ttc" id="structflush__cmd__control_html_aaff05a0aae4df0f441961d691bf2c538"><div class="ttname"><a href="structflush__cmd__control.html#aaff05a0aae4df0f441961d691bf2c538">flush_cmd_control::dispatch_list</a></div><div class="ttdeci">struct llist_node * dispatch_list</div><div class="ttdef"><b>Definition:</b> f2fs.h:859</div></div>
<div class="ttc" id="structdnode__of__data_html_a36abd92165f673f7caaa27054a41c9f5"><div class="ttname"><a href="structdnode__of__data.html#a36abd92165f673f7caaa27054a41c9f5">dnode_of_data::inode_page_locked</a></div><div class="ttdeci">bool inode_page_locked</div><div class="ttdef"><b>Definition:</b> f2fs.h:802</div></div>
<div class="ttc" id="f2fs_8h_html_ae05deec5726eb48e5c1d662288870c5f"><div class="ttname"><a href="f2fs_8h.html#ae05deec5726eb48e5c1d662288870c5f">f2fs_test_and_set_bit</a></div><div class="ttdeci">static int f2fs_test_and_set_bit(unsigned int nr, char *addr)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2126</div></div>
<div class="ttc" id="ceph_2export_8c_html_a296d1580804dc5bbf93436e3356361e7"><div class="ttname"><a href="ceph_2export_8c.html#a296d1580804dc5bbf93436e3356361e7">ino</a></div><div class="ttdeci">u64 ino</div><div class="ttdef"><b>Definition:</b> export.c:1467</div></div>
<div class="ttc" id="f2fs_8h_html_a8a2d0906d79c1c53befbcb39845dbbe1"><div class="ttname"><a href="f2fs_8h.html#a8a2d0906d79c1c53befbcb39845dbbe1">truncate_inline_inode</a></div><div class="ttdeci">void truncate_inline_inode(struct inode *inode, struct page *ipage, u64 from)</div><div class="ttdef"><b>Definition:</b> inline.c:67</div></div>
<div class="ttc" id="f2fs_8h_html_acc4a93d89621930ce23763def363e5d7"><div class="ttname"><a href="f2fs_8h.html#acc4a93d89621930ce23763def363e5d7">exist_trim_candidates</a></div><div class="ttdeci">bool exist_trim_candidates(struct f2fs_sb_info *sbi, struct cp_control *cpc)</div><div class="ttdef"><b>Definition:</b> segment.c:2358</div></div>
<div class="ttc" id="structrb__entry_html_a88264427b69d702bfa9edbdd53cd39bb"><div class="ttname"><a href="structrb__entry.html#a88264427b69d702bfa9edbdd53cd39bb">rb_entry::ofs</a></div><div class="ttdeci">unsigned int ofs</div><div class="ttdef"><b>Definition:</b> f2fs.h:527</div></div>
<div class="ttc" id="f2fs_8h_html_a88b3442e19f0a241cbca0781af2a71da"><div class="ttname"><a href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71da">temp_type</a></div><div class="ttdeci">temp_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:949</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a33e88457632b01fa10f7837486336f00"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a33e88457632b01fa10f7837486336f00">INMEM_DROP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:942</div></div>
<div class="ttc" id="f2fs_8h_html_a324beb5ae828c8c7dfebcbfc5ce384e4"><div class="ttname"><a href="f2fs_8h.html#a324beb5ae828c8c7dfebcbfc5ce384e4">f2fs_commit_super</a></div><div class="ttdeci">int f2fs_commit_super(struct f2fs_sb_info *sbi, bool recover)</div><div class="ttdef"><b>Definition:</b> super.c:2455</div></div>
<div class="ttc" id="f2fs_8h_html_a68799a158aa6e7d4c17da108fe5f5526"><div class="ttname"><a href="f2fs_8h.html#a68799a158aa6e7d4c17da108fe5f5526">destroy_segment_manager</a></div><div class="ttdeci">void destroy_segment_manager(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:3957</div></div>
<div class="ttc" id="f2fs_8h_html_afb1be754a23443d0f2435576b6ca7cd5"><div class="ttname"><a href="f2fs_8h.html#afb1be754a23443d0f2435576b6ca7cd5">file_keep_isize</a></div><div class="ttdeci">#define file_keep_isize(inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:615</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424ad73634dfa4a03df6fd0f53cadea41fae"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424ad73634dfa4a03df6fd0f53cadea41fae">F2FS_WB_CP_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:918</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a60adc66e93314680e1698b66259a2485"><div class="ttname"><a href="structf2fs__inode__info.html#a60adc66e93314680e1698b66259a2485">f2fs_inode_info::i_acl_mode</a></div><div class="ttdeci">umode_t i_acl_mode</div><div class="ttdef"><b>Definition:</b> f2fs.h:633</div></div>
<div class="ttc" id="structinmem__pages_html"><div class="ttname"><a href="structinmem__pages.html">inmem_pages</a></div><div class="ttdef"><b>Definition:</b> segment.h:218</div></div>
<div class="ttc" id="f2fs_8h_html_a1ee369f5beac1d0c9e01362376bdd8c1"><div class="ttname"><a href="f2fs_8h.html#a1ee369f5beac1d0c9e01362376bdd8c1">set_raw_inline</a></div><div class="ttdeci">static void set_raw_inline(struct inode *inode, struct f2fs_inode *ri)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2338</div></div>
<div class="ttc" id="f2fs_8h_html_a4fd467eb0c22cebe126dd67facb40a82"><div class="ttname"><a href="f2fs_8h.html#a4fd467eb0c22cebe126dd67facb40a82">do_make_empty_dir</a></div><div class="ttdeci">void do_make_empty_dir(struct inode *inode, struct inode *parent, struct f2fs_dentry_ptr *d)</div><div class="ttdef"><b>Definition:</b> dir.c:322</div></div>
<div class="ttc" id="structf2fs__mount__info_html_a41fd40e87e65ef1e2304c2ab72c8c230"><div class="ttname"><a href="structf2fs__mount__info.html#a41fd40e87e65ef1e2304c2ab72c8c230">f2fs_mount_info::test_dummy_encryption</a></div><div class="ttdeci">bool test_dummy_encryption</div><div class="ttdef"><b>Definition:</b> f2fs.h:136</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a2b9777fc4286bb1566a41fae58339d3b"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2b9777fc4286bb1566a41fae58339d3b">FI_NEED_IPU</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2189</div></div>
<div class="ttc" id="f2fs_8h_html_a69c8e39228cb69e65f618f4c0011428d"><div class="ttname"><a href="f2fs_8h.html#a69c8e39228cb69e65f618f4c0011428d">write_node_summaries</a></div><div class="ttdeci">void write_node_summaries(struct f2fs_sb_info *sbi, block_t start_blk)</div><div class="ttdef"><b>Definition:</b> segment.c:3185</div></div>
<div class="ttc" id="structfsync__inode__entry_html"><div class="ttname"><a href="structfsync__inode__entry.html">fsync_inode_entry</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:316</div></div>
<div class="ttc" id="structflush__cmd__control_html_adaa4b3543f16225ada706565bed47162"><div class="ttname"><a href="structflush__cmd__control.html#adaa4b3543f16225ada706565bed47162">flush_cmd_control::issued_flush</a></div><div class="ttdeci">atomic_t issued_flush</div><div class="ttdef"><b>Definition:</b> f2fs.h:856</div></div>
<div class="ttc" id="f2fs_8h_html_a44fc4e29a9f3ba262705cd87e55e9cb4"><div class="ttname"><a href="f2fs_8h.html#a44fc4e29a9f3ba262705cd87e55e9cb4">f2fs_delete_inline_entry</a></div><div class="ttdeci">void f2fs_delete_inline_entry(struct f2fs_dir_entry *dentry, struct page *page, struct inode *dir, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inline.c:565</div></div>
<div class="ttc" id="f2fs_8h_html_a319d524aadad53dcd886c2bba304ded4a1f7e5992c1020e803dee059a64d87622"><div class="ttname"><a href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a1f7e5992c1020e803dee059a64d87622">MAX_TIME</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1066</div></div>
<div class="ttc" id="f2fs_8h_html_ac1351f3e26da80ee24b2888ecc68fca6a1e8fbf77d027ad1d8c459be62287437d"><div class="ttname"><a href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a1e8fbf77d027ad1d8c459be62287437d">F2FS_GET_BLOCK_PRECACHE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:590</div></div>
<div class="ttc" id="f2fs_8h_html_a5b9bc773fee216fa84c75e76fef56116"><div class="ttname"><a href="f2fs_8h.html#a5b9bc773fee216fa84c75e76fef56116">f2fs_submit_merged_write</a></div><div class="ttdeci">void f2fs_submit_merged_write(struct f2fs_sb_info *sbi, enum page_type type)</div><div class="ttdef"><b>Definition:</b> data.c:357</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9adfc298eba3ded7d56ccb6b91a4783a58">FI_AUTO_RECOVER</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2177</div></div>
<div class="ttc" id="f2fs_8h_html_a3e1ebbd0b2f10fd7006f4ec30cab4e43"><div class="ttname"><a href="f2fs_8h.html#a3e1ebbd0b2f10fd7006f4ec30cab4e43">F2FS_OPTION</a></div><div class="ttdeci">#define F2FS_OPTION(sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:101</div></div>
<div class="ttc" id="structf2fs__sb__info_html_af28b52b326d467e7a3b93415e101ed16"><div class="ttname"><a href="structf2fs__sb__info.html#af28b52b326d467e7a3b93415e101ed16">f2fs_sb_info::node_inode</a></div><div class="ttdeci">struct inode * node_inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:1107</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fa65ef61dc8647dd5d5c427a27dde6525b"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa65ef61dc8647dd5d5c427a27dde6525b">NO_CHECK_TYPE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:843</div></div>
<div class="ttc" id="f2fs_8h_html_a5665f1e96b16d5767f05f3fd6f52f609"><div class="ttname"><a href="f2fs_8h.html#a5665f1e96b16d5767f05f3fd6f52f609">__start_cp_next_addr</a></div><div class="ttdeci">static block_t __start_cp_next_addr(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1828</div></div>
<div class="ttc" id="f2fs_8h_html_a8e954ae2497dccd00edd251bdad8936d"><div class="ttname"><a href="f2fs_8h.html#a8e954ae2497dccd00edd251bdad8936d">write_checkpoint</a></div><div class="ttdeci">int write_checkpoint(struct f2fs_sb_info *sbi, struct cp_control *cpc)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:1382</div></div>
<div class="ttc" id="f2fs_8h_html_a1b4a24df4e88a067b4b1e34f12ad5b23"><div class="ttname"><a href="f2fs_8h.html#a1b4a24df4e88a067b4b1e34f12ad5b23">inc_valid_block_count</a></div><div class="ttdeci">static int inc_valid_block_count(struct f2fs_sb_info *sbi, struct inode *inode, blkcnt_t *count)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1636</div></div>
<div class="ttc" id="structdiscard__info_html"><div class="ttname"><a href="structdiscard__info.html">discard_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:252</div></div>
<div class="ttc" id="f2fs_8h_html_a8bef1bac26f4e77f81a652c24aefa649"><div class="ttname"><a href="f2fs_8h.html#a8bef1bac26f4e77f81a652c24aefa649">nats_in_cursum</a></div><div class="ttdeci">#define nats_in_cursum(jnl)</div><div class="ttdef"><b>Definition:</b> f2fs.h:323</div></div>
<div class="ttc" id="f2fs_8h_html_a8a1b7b967a53b24cf7aa9258fff0e29a"><div class="ttname"><a href="f2fs_8h.html#a8a1b7b967a53b24cf7aa9258fff0e29a">get_tmp_page</a></div><div class="ttdeci">struct page * get_tmp_page(struct f2fs_sb_info *sbi, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:115</div></div>
<div class="ttc" id="f2fs_8h_html_afd8d66fd5881bcf984df85211fb9a7f6"><div class="ttname"><a href="f2fs_8h.html#afd8d66fd5881bcf984df85211fb9a7f6">create_checkpoint_caches</a></div><div class="ttdeci">int __init create_checkpoint_caches(void)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:1482</div></div>
<div class="ttc" id="f2fs_8h_html_a311ff6612c784a01e02d059dc6c1a142"><div class="ttname"><a href="f2fs_8h.html#a311ff6612c784a01e02d059dc6c1a142">release_discard_addrs</a></div><div class="ttdeci">void release_discard_addrs(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:1594</div></div>
<div class="ttc" id="structf2fs__bio__info_html_a8dbbe185a315980eff6331556a44e967"><div class="ttname"><a href="structf2fs__bio__info.html#a8dbbe185a315980eff6331556a44e967">f2fs_bio_info::sbi</a></div><div class="ttdeci">struct f2fs_sb_info * sbi</div><div class="ttdef"><b>Definition:</b> f2fs.h:1014</div></div>
<div class="ttc" id="f2fs_8h_html_acdb8399d566370fac24a5738b966c95e"><div class="ttname"><a href="f2fs_8h.html#acdb8399d566370fac24a5738b966c95e">__printf</a></div><div class="ttdeci">__printf(3, 4) void f2fs_msg(struct super_block *sb</div></div>
<div class="ttc" id="f2fs_8h_html_a82a317db620089f67f0493f5475ec6b5"><div class="ttname"><a href="f2fs_8h.html#a82a317db620089f67f0493f5475ec6b5">get_dirty_pages</a></div><div class="ttdeci">static int get_dirty_pages(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1754</div></div>
<div class="ttc" id="structf2fs__nm__info_html_adfd8f17ebc513008a50ebe30291422d8"><div class="ttname"><a href="structf2fs__nm__info.html#adfd8f17ebc513008a50ebe30291422d8">f2fs_nm_info::empty_nat_bits</a></div><div class="ttdeci">unsigned char * empty_nat_bits</div><div class="ttdef"><b>Definition:</b> f2fs.h:784</div></div>
<div class="ttc" id="structdiscard__cmd_html_af1d36223fbb00b2403d62fb10f19743c"><div class="ttname"><a href="structdiscard__cmd.html#af1d36223fbb00b2403d62fb10f19743c">discard_cmd::error</a></div><div class="ttdeci">int error</div><div class="ttdef"><b>Definition:</b> f2fs.h:274</div></div>
<div class="ttc" id="f2fs_8h_html_ab3742e62cbba39033616774625b5ba93"><div class="ttname"><a href="f2fs_8h.html#ab3742e62cbba39033616774625b5ba93">f2fs_set_inode_flags</a></div><div class="ttdeci">void f2fs_set_inode_flags(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inode.c:34</div></div>
<div class="ttc" id="f2fs_8h_html_a956726f1863279a8f96bb1bd4ceb4e73"><div class="ttname"><a href="f2fs_8h.html#a956726f1863279a8f96bb1bd4ceb4e73">dec_page_count</a></div><div class="ttdeci">static void dec_page_count(struct f2fs_sb_info *sbi, int count_type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1731</div></div>
<div class="ttc" id="structf2fs__bio__info_html_aba60b94c8b826e11d9beef74e81637bf"><div class="ttname"><a href="structf2fs__bio__info.html#aba60b94c8b826e11d9beef74e81637bf">f2fs_bio_info::io_lock</a></div><div class="ttdeci">spinlock_t io_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1019</div></div>
<div class="ttc" id="f2fs_8h_html_a778f38779df73ce05f455a284284f9ce"><div class="ttname"><a href="f2fs_8h.html#a778f38779df73ce05f455a284284f9ce">create_segment_manager_caches</a></div><div class="ttdeci">int __init create_segment_manager_caches(void)</div><div class="ttdef"><b>Definition:</b> segment.c:3973</div></div>
<div class="ttc" id="f2fs_8h_html_a083888559733f70ab15ca723aa722796"><div class="ttname"><a href="f2fs_8h.html#a083888559733f70ab15ca723aa722796">add_orphan_inode</a></div><div class="ttdeci">void add_orphan_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:555</div></div>
<div class="ttc" id="f2fs_8h_html_ab9a9c21326b7bcb95e5ade062d8d2703"><div class="ttname"><a href="f2fs_8h.html#ab9a9c21326b7bcb95e5ade062d8d2703">NR_INLINE_DENTRY</a></div><div class="ttdeci">#define NR_INLINE_DENTRY(inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:446</div></div>
<div class="ttc" id="extent__tree_8c_html_aa19b9ccd5b5a55afad7031e25e678271"><div class="ttname"><a href="extent__tree_8c.html#aa19b9ccd5b5a55afad7031e25e678271">ext_node</a></div><div class="ttdeci">static struct pnfs_block_extent * ext_node(struct rb_node *node)</div><div class="ttdef"><b>Definition:</b> extent_tree.c:13</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a12a02e22831200c3c38de2d98572f399"><div class="ttname"><a href="structf2fs__sm__info.html#a12a02e22831200c3c38de2d98572f399">f2fs_sm_info::rec_prefree_segments</a></div><div class="ttdeci">unsigned int rec_prefree_segments</div><div class="ttdef"><b>Definition:</b> f2fs.h:880</div></div>
<div class="ttc" id="f2fs_8h_html_aefdd3983d5a130f9b7848b42b038e63c"><div class="ttname"><a href="f2fs_8h.html#aefdd3983d5a130f9b7848b42b038e63c">sync_meta_pages</a></div><div class="ttdeci">long sync_meta_pages(struct f2fs_sb_info *sbi, enum page_type type, long nr_to_write, enum iostat_type io_type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:308</div></div>
<div class="ttc" id="structf2fs__mount__info_html_ae8988e0a514466eec28e9c28c5149219"><div class="ttname"><a href="structf2fs__mount__info.html#ae8988e0a514466eec28e9c28c5149219">f2fs_mount_info::active_logs</a></div><div class="ttdeci">int active_logs</div><div class="ttdef"><b>Definition:</b> f2fs.h:122</div></div>
<div class="ttc" id="f2fs_8h_html_a5b2b7c1b63f0527445d7893084fbf35e"><div class="ttname"><a href="f2fs_8h.html#a5b2b7c1b63f0527445d7893084fbf35e">__set_cp_next_pack</a></div><div class="ttdeci">static void __set_cp_next_pack(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1837</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ac4e903ddf175287ea6ef3ac9a9a698fa"><div class="ttname"><a href="structf2fs__sm__info.html#ac4e903ddf175287ea6ef3ac9a9a698fa">f2fs_sm_info::min_fsync_blocks</a></div><div class="ttdeci">unsigned int min_fsync_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:889</div></div>
<div class="ttc" id="structinode__entry_html_a56d180498070c079d8afbf71b200456a"><div class="ttname"><a href="structinode__entry.html#a56d180498070c079d8afbf71b200456a">inode_entry::inode</a></div><div class="ttdeci">struct inode * inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:228</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a14b3161b03dda7de46cf8ef931c1cdf3"><div class="ttname"><a href="structf2fs__inode__info.html#a14b3161b03dda7de46cf8ef931c1cdf3">f2fs_inode_info::cp_task</a></div><div class="ttdeci">struct task_struct * cp_task</div><div class="ttdef"><b>Definition:</b> f2fs.h:642</div></div>
<div class="ttc" id="f2fs_8h_html_ab2b0bb50bacb1e82df81f84287d13e1e"><div class="ttname"><a href="f2fs_8h.html#ab2b0bb50bacb1e82df81f84287d13e1e">f2fs_encrypted_inode</a></div><div class="ttdeci">static bool f2fs_encrypted_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3203</div></div>
<div class="ttc" id="f2fs_8h_html_a916b06e502156bb17b7cc220271729de"><div class="ttname"><a href="f2fs_8h.html#a916b06e502156bb17b7cc220271729de">f2fs_wait_on_block_writeback</a></div><div class="ttdeci">void f2fs_wait_on_block_writeback(struct f2fs_sb_info *sbi, block_t blkaddr)</div><div class="ttdef"><b>Definition:</b> segment.c:2931</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9ae0d2e2d8fe578b7675b709e808bd2bfe"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ae0d2e2d8fe578b7675b709e808bd2bfe">FI_FIRST_BLOCK_WRITTEN</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2193</div></div>
<div class="ttc" id="f2fs_8h_html_a9d37c1e0cd35dfd111aa0807296b408f"><div class="ttname"><a href="f2fs_8h.html#a9d37c1e0cd35dfd111aa0807296b408f">f2fs_build_stats</a></div><div class="ttdeci">static int f2fs_build_stats(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3107</div></div>
<div class="ttc" id="structf2fs__io__info_html_acca81a71a483edcdd6164dbafcce2cc8"><div class="ttname"><a href="structf2fs__io__info.html#acca81a71a483edcdd6164dbafcce2cc8">f2fs_io_info::sbi</a></div><div class="ttdeci">struct f2fs_sb_info * sbi</div><div class="ttdef"><b>Definition:</b> f2fs.h:993</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a0d6e38ffa61afe5e4028b69b97972966"><div class="ttname"><a href="structf2fs__sb__info.html#a0d6e38ffa61afe5e4028b69b97972966">f2fs_sb_info::cur_victim_sec</a></div><div class="ttdeci">unsigned int cur_victim_sec</div><div class="ttdef"><b>Definition:</b> f2fs.h:1196</div></div>
<div class="ttc" id="f2fs_8h_html_acc166b0f5bc218a19c5faf9dc9d55698"><div class="ttname"><a href="f2fs_8h.html#acc166b0f5bc218a19c5faf9dc9d55698">dec_valid_node_count</a></div><div class="ttdeci">static void dec_valid_node_count(struct f2fs_sb_info *sbi, struct inode *inode, bool is_inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1906</div></div>
<div class="ttc" id="ctree_8h_html_a370d10a726e7596cd6c17d656fa8c8ad"><div class="ttname"><a href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a></div><div class="ttdeci">__le32 size</div><div class="ttdef"><b>Definition:</b> ctree.h:107</div></div>
<div class="ttc" id="f2fs_8h_html_a5c13debb7490c6475b5d220a35764d8a"><div class="ttname"><a href="f2fs_8h.html#a5c13debb7490c6475b5d220a35764d8a">f2fs_kvzalloc</a></div><div class="ttdeci">static void * f2fs_kvzalloc(struct f2fs_sb_info *sbi, size_t size, gfp_t flags)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2555</div></div>
<div class="ttc" id="f2fs_8h_html_a8a8c4c2d892d1eafc69f46df674f974a"><div class="ttname"><a href="f2fs_8h.html#a8a8c4c2d892d1eafc69f46df674f974a">F2FS_P_SB</a></div><div class="ttdeci">static struct f2fs_sb_info * F2FS_P_SB(struct page *page)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1378</div></div>
<div class="ttc" id="f2fs_8h_html_a3dd07f5ce1af73d15f3b4068a2276499"><div class="ttname"><a href="f2fs_8h.html#a3dd07f5ce1af73d15f3b4068a2276499">f2fs_update_extent_cache_range</a></div><div class="ttdeci">void f2fs_update_extent_cache_range(struct dnode_of_data *dn, pgoff_t fofs, block_t blkaddr, unsigned int len)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:781</div></div>
<div class="ttc" id="f2fs_8h_html_a9292f122c31eecae30614dd69055944e"><div class="ttname"><a href="f2fs_8h.html#a9292f122c31eecae30614dd69055944e">f2fs_bio_encrypted</a></div><div class="ttdeci">static bool f2fs_bio_encrypted(struct bio *bio)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3221</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a4e2abc11d5065ae9d83845209ed7d814"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a4e2abc11d5065ae9d83845209ed7d814">CP_RECOVER_DIR</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:972</div></div>
<div class="ttc" id="f2fs_8h_html_a8e5687ad5ca92463a703e3d658acfe08"><div class="ttname"><a href="f2fs_8h.html#a8e5687ad5ca92463a703e3d658acfe08">allocate_new_segments</a></div><div class="ttdeci">void allocate_new_segments(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:2336</div></div>
<div class="ttc" id="f2fs_8h_html_adf012f8b4a141e87533929532a847866"><div class="ttname"><a href="f2fs_8h.html#adf012f8b4a141e87533929532a847866">f2fs_has_extra_attr</a></div><div class="ttdeci">static int f2fs_has_extra_attr(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2358</div></div>
<div class="ttc" id="f2fs_8h_html_aa63f16d50fb9580af8f1e7a16868f532"><div class="ttname"><a href="f2fs_8h.html#aa63f16d50fb9580af8f1e7a16868f532">recover_inode_page</a></div><div class="ttdeci">int recover_inode_page(struct f2fs_sb_info *sbi, struct page *page)</div><div class="ttdef"><b>Definition:</b> node.c:2291</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a866815208afa17e52aa60ad6d1430919"><div class="ttname"><a href="structf2fs__sb__info.html#a866815208afa17e52aa60ad6d1430919">f2fs_sb_info::nquota_files</a></div><div class="ttdeci">unsigned int nquota_files</div><div class="ttdef"><b>Definition:</b> f2fs.h:1176</div></div>
<div class="ttc" id="f2fs_8h_html_a104fe17e1d9f64925b8fb4e67360a2d6"><div class="ttname"><a href="f2fs_8h.html#a104fe17e1d9f64925b8fb4e67360a2d6">NR_CURSEG_TYPE</a></div><div class="ttdeci">#define NR_CURSEG_TYPE</div><div class="ttdef"><b>Definition:</b> f2fs.h:834</div></div>
<div class="ttc" id="f2fs_8h_html_af04252b97882d6a7e1b476451dcf41bd"><div class="ttname"><a href="f2fs_8h.html#af04252b97882d6a7e1b476451dcf41bd">f2fs_precache_extents</a></div><div class="ttdeci">int f2fs_precache_extents(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> file.c:2795</div></div>
<div class="ttc" id="f2fs_8h_html_ac6e829bf9b13c636f028eeb45a72c679"><div class="ttname"><a href="f2fs_8h.html#ac6e829bf9b13c636f028eeb45a72c679">npages_for_summary_flush</a></div><div class="ttdeci">int npages_for_summary_flush(struct f2fs_sb_info *sbi, bool for_ra)</div><div class="ttdef"><b>Definition:</b> segment.c:1964</div></div>
<div class="ttc" id="f2fs_2segment_8h_html_a89fa9ed16122c5ba3a10393f7c0bc5adaa03ec6e624aae3a7c939a4c742598638"><div class="ttname"><a href="f2fs_2segment_8h.html#a89fa9ed16122c5ba3a10393f7c0bc5adaa03ec6e624aae3a7c939a4c742598638">LFS</a></div><div class="ttdef"><b>Definition:</b> segment.h:140</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a307a628c92152553870d2061ca9362ba"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a307a628c92152553870d2061ca9362ba">CP_NODE_NEED_CP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:969</div></div>
<div class="ttc" id="f2fs_8h_html_a78c75d3e3e1193b36f392197f560da78"><div class="ttname"><a href="f2fs_8h.html#a78c75d3e3e1193b36f392197f560da78">get_extent_info</a></div><div class="ttdeci">static void get_extent_info(struct extent_info *ext, struct f2fs_extent *i_ext)</div><div class="ttdef"><b>Definition:</b> f2fs.h:670</div></div>
<div class="ttc" id="structf2fs__sm__info_html_aff8f4b9faebb2c308356a12a5a81ac2a"><div class="ttname"><a href="structf2fs__sm__info.html#aff8f4b9faebb2c308356a12a5a81ac2a">f2fs_sm_info::min_ipu_util</a></div><div class="ttdeci">unsigned int min_ipu_util</div><div class="ttdef"><b>Definition:</b> f2fs.h:888</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a89a318ce78898dc561763e88ddda11c2"><div class="ttname"><a href="structf2fs__inode__info.html#a89a318ce78898dc561763e88ddda11c2">f2fs_inode_info::inmem_task</a></div><div class="ttdeci">struct task_struct * inmem_task</div><div class="ttdef"><b>Definition:</b> f2fs.h:656</div></div>
<div class="ttc" id="node_8h_html_ad756268621f03e4812b68792b291fff5a20db9afc931b00a38189ceed22078131"><div class="ttname"><a href="node_8h.html#ad756268621f03e4812b68792b291fff5a20db9afc931b00a38189ceed22078131">EXTENT_CACHE</a></div><div class="ttdef"><b>Definition:</b> node.h:143</div></div>
<div class="ttc" id="f2fs_8h_html_ae46482f813469cfe1b7b094b824da561"><div class="ttname"><a href="f2fs_8h.html#ae46482f813469cfe1b7b094b824da561">truncate_data_blocks_range</a></div><div class="ttdeci">void truncate_data_blocks_range(struct dnode_of_data *dn, int count)</div><div class="ttdef"><b>Definition:</b> file.c:489</div></div>
<div class="ttc" id="f2fs_8h_html_adf89b5ebe1eef51c2fa63baa0adbf71a"><div class="ttname"><a href="f2fs_8h.html#adf89b5ebe1eef51c2fa63baa0adbf71a">destroy_checkpoint_caches</a></div><div class="ttdeci">void destroy_checkpoint_caches(void)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:1497</div></div>
<div class="ttc" id="f2fs_8h_html_a8f58b9d1e248318194470322f4378de7"><div class="ttname"><a href="f2fs_8h.html#a8f58b9d1e248318194470322f4378de7">f2fs_get_parent</a></div><div class="ttdeci">struct dentry * f2fs_get_parent(struct dentry *child)</div><div class="ttdef"><b>Definition:</b> namei.c:356</div></div>
<div class="ttc" id="structf2fs__gc__range_html_aaf68ef8cc8f2fe91f04f41240b9c41d2"><div class="ttname"><a href="structf2fs__gc__range.html#aaf68ef8cc8f2fe91f04f41240b9c41d2">f2fs_gc_range::sync</a></div><div class="ttdeci">u32 sync</div><div class="ttdef"><b>Definition:</b> f2fs.h:413</div></div>
<div class="ttc" id="f2fs_8h_html_aa544e2765e6a18cda671ea5f6d066b15"><div class="ttname"><a href="f2fs_8h.html#aa544e2765e6a18cda671ea5f6d066b15">f2fs_is_drop_cache</a></div><div class="ttdeci">static bool f2fs_is_drop_cache(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2426</div></div>
<div class="ttc" id="f2fs_8h_html_a2b5a453427699443779a13a7c5a6b3bc"><div class="ttname"><a href="f2fs_8h.html#a2b5a453427699443779a13a7c5a6b3bc">need_inode_block_update</a></div><div class="ttdeci">bool need_inode_block_update(struct f2fs_sb_info *sbi, nid_t ino)</div><div class="ttdef"><b>Definition:</b> node.c:294</div></div>
<div class="ttc" id="f2fs_8h_html_acda30faacd9fd8fec5775e4c30a207a4"><div class="ttname"><a href="f2fs_8h.html#acda30faacd9fd8fec5775e4c30a207a4">make_dentry_ptr_block</a></div><div class="ttdeci">static void make_dentry_ptr_block(struct inode *inode, struct f2fs_dentry_ptr *d, struct f2fs_dentry_block *t)</div><div class="ttdef"><b>Definition:</b> f2fs.h:469</div></div>
<div class="ttc" id="f2fs_8h_html_ac1351f3e26da80ee24b2888ecc68fca6a185865f124028fbb35a69332e619fcb1"><div class="ttname"><a href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a185865f124028fbb35a69332e619fcb1">F2FS_GET_BLOCK_FIEMAP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:586</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a16083c24f3f79456cf50156e42a0994b"><div class="ttname"><a href="structf2fs__sb__info.html#a16083c24f3f79456cf50156e42a0994b">f2fs_sb_info::iostat_lock</a></div><div class="ttdeci">spinlock_t iostat_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1233</div></div>
<div class="ttc" id="structf2fs__flush__device_html_a5fdd42f6dd26d1dcbb08fc3a47328273"><div class="ttname"><a href="structf2fs__flush__device.html#a5fdd42f6dd26d1dcbb08fc3a47328273">f2fs_flush_device::segments</a></div><div class="ttdeci">u32 segments</div><div class="ttdef"><b>Definition:</b> f2fs.h:432</div></div>
<div class="ttc" id="f2fs_8h_html_a1df29979ea88907683cfcdaf1f4e144e"><div class="ttname"><a href="f2fs_8h.html#a1df29979ea88907683cfcdaf1f4e144e">__set_ckpt_flags</a></div><div class="ttdeci">static void __set_ckpt_flags(struct f2fs_checkpoint *cp, unsigned int f)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1483</div></div>
<div class="ttc" id="f2fs_8h_html_abf707d41d0405b275a79cc0ec18fbeba"><div class="ttname"><a href="f2fs_8h.html#abf707d41d0405b275a79cc0ec18fbeba">commit_inmem_pages</a></div><div class="ttdeci">int commit_inmem_pages(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:408</div></div>
<div class="ttc" id="f2fs_8h_html_a953bab37447650f859d17a3db09b42a1"><div class="ttname"><a href="f2fs_8h.html#a953bab37447650f859d17a3db09b42a1">make_dentry_ptr_inline</a></div><div class="ttdeci">static void make_dentry_ptr_inline(struct inode *inode, struct f2fs_dentry_ptr *d, void *t)</div><div class="ttdef"><b>Definition:</b> f2fs.h:480</div></div>
<div class="ttc" id="f2fs_8h_html_a809a8b0fec3a3139d3e68bbf97410996"><div class="ttname"><a href="f2fs_8h.html#a809a8b0fec3a3139d3e68bbf97410996">NM_I</a></div><div class="ttdeci">static struct f2fs_nm_info * NM_I(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1403</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a370dc358e9504deb27cf24774d28ca56"><div class="ttname"><a href="structf2fs__sb__info.html#a370dc358e9504deb27cf24774d28ca56">f2fs_sb_info::segs_per_sec</a></div><div class="ttdeci">unsigned int segs_per_sec</div><div class="ttdef"><b>Definition:</b> f2fs.h:1159</div></div>
<div class="ttc" id="f2fs_8h_html_a9cda59177f41ec26dbdc3be2e7dc9669"><div class="ttname"><a href="f2fs_8h.html#a9cda59177f41ec26dbdc3be2e7dc9669">inode_inc_dirty_pages</a></div><div class="ttdeci">static void inode_inc_dirty_pages(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1722</div></div>
<div class="ttc" id="structf2fs__sb__info_html_aaf942439a5af1465793bf7ff0e0d79ab"><div class="ttname"><a href="structf2fs__sb__info.html#aaf942439a5af1465793bf7ff0e0d79ab">f2fs_sb_info::user_block_count</a></div><div class="ttdeci">block_t user_block_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1169</div></div>
<div class="ttc" id="structextent__tree_html_a025a4a57e623711730c7cb0702552de9"><div class="ttname"><a href="structextent__tree.html#a025a4a57e623711730c7cb0702552de9">extent_tree::largest</a></div><div class="ttdeci">struct extent_info largest</div><div class="ttdef"><b>Definition:</b> f2fs.h:556</div></div>
<div class="ttc" id="f2fs_8h_html_aa98c94cea433725790aeef17a096164d"><div class="ttname"><a href="f2fs_8h.html#aa98c94cea433725790aeef17a096164d">__f2fs_do_add_link</a></div><div class="ttdeci">int __f2fs_do_add_link(struct inode *dir, struct fscrypt_name *fname, struct inode *inode, nid_t ino, umode_t mode)</div><div class="ttdef"><b>Definition:</b> dir.c:589</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a926653c94d7dbbf3ba9e6a35558f2714"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a926653c94d7dbbf3ba9e6a35558f2714">FI_DROP_CACHE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2194</div></div>
<div class="ttc" id="f2fs_8h_html_a26fcf1e7f9cc14c41c5a63f8be9e5631af0a7854bc09ce752eaf285c70d8d016a"><div class="ttname"><a href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631af0a7854bc09ce752eaf285c70d8d016a">SBI_IS_CLOSE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1056</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a784519d5665f92f02144f97192299226"><div class="ttname"><a href="structf2fs__sm__info.html#a784519d5665f92f02144f97192299226">f2fs_sm_info::ovp_segments</a></div><div class="ttdeci">unsigned int ovp_segments</div><div class="ttdef"><b>Definition:</b> f2fs.h:877</div></div>
<div class="ttc" id="structf2fs__io__info_html_a9ac7a377ef8adfdb24d8508c6e76a5d7"><div class="ttname"><a href="structf2fs__io__info.html#a9ac7a377ef8adfdb24d8508c6e76a5d7">f2fs_io_info::io_wbc</a></div><div class="ttdeci">struct writeback_control * io_wbc</div><div class="ttdef"><b>Definition:</b> f2fs.h:1009</div></div>
<div class="ttc" id="f2fs_8h_html_a9da0ace987ba4da9d929cf4bbe970176"><div class="ttname"><a href="f2fs_8h.html#a9da0ace987ba4da9d929cf4bbe970176">CP_SYNC</a></div><div class="ttdeci">#define CP_SYNC</div><div class="ttdef"><b>Definition:</b> f2fs.h:174</div></div>
<div class="ttc" id="structf2fs__sb__info_html_af487b29f1ba99af07889e6baea27ce71"><div class="ttname"><a href="structf2fs__sb__info.html#af487b29f1ba99af07889e6baea27ce71">f2fs_sb_info::discard_blks</a></div><div class="ttdeci">block_t discard_blks</div><div class="ttdef"><b>Definition:</b> f2fs.h:1171</div></div>
<div class="ttc" id="f2fs_8h_html_aa513c9e8702bb5cdb31fa6d7c30efbaf"><div class="ttname"><a href="f2fs_8h.html#aa513c9e8702bb5cdb31fa6d7c30efbaf">f2fs_invalidate_page</a></div><div class="ttdeci">void f2fs_invalidate_page(struct page *page, unsigned int offset, unsigned int length)</div><div class="ttdef"><b>Definition:</b> data.c:2366</div></div>
<div class="ttc" id="f2fs_8h_html_a51da1e0754836aac099bd4979276b1a6"><div class="ttname"><a href="f2fs_8h.html#a51da1e0754836aac099bd4979276b1a6">need_dentry_mark</a></div><div class="ttdeci">int need_dentry_mark(struct f2fs_sb_info *sbi, nid_t nid)</div><div class="ttdef"><b>Definition:</b> node.c:263</div></div>
<div class="ttc" id="f2fs_8h_html_a897735bc95b06bb72a78024dd397ec9c"><div class="ttname"><a href="f2fs_8h.html#a897735bc95b06bb72a78024dd397ec9c">__clear_ckpt_flags</a></div><div class="ttdeci">static void __clear_ckpt_flags(struct f2fs_checkpoint *cp, unsigned int f)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1501</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a4555a0cddc3bf8ff25d0f4c9e1a77a54"><div class="ttname"><a href="structf2fs__nm__info.html#a4555a0cddc3bf8ff25d0f4c9e1a77a54">f2fs_nm_info::free_nid_bitmap</a></div><div class="ttdeci">unsigned char ** free_nid_bitmap</div><div class="ttdef"><b>Definition:</b> f2fs.h:774</div></div>
<div class="ttc" id="f2fs_8h_html_af2243dc2d698730964d509fe28116e12"><div class="ttname"><a href="f2fs_8h.html#af2243dc2d698730964d509fe28116e12">alloc_nid</a></div><div class="ttdeci">bool alloc_nid(struct f2fs_sb_info *sbi, nid_t *nid)</div><div class="ttdef"><b>Definition:</b> node.c:2102</div></div>
<div class="ttc" id="f2fs_8h_html_ad306b7a9aac1d70940f0f407f0794968"><div class="ttname"><a href="f2fs_8h.html#ad306b7a9aac1d70940f0f407f0794968">rewrite_data_page</a></div><div class="ttdeci">int rewrite_data_page(struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> segment.c:2790</div></div>
<div class="ttc" id="f2fs_8h_html_a2a9fdeab5938f548ecdfc9ef3722ba2d"><div class="ttname"><a href="f2fs_8h.html#a2a9fdeab5938f548ecdfc9ef3722ba2d">get_dnode_of_data</a></div><div class="ttdeci">int get_dnode_of_data(struct dnode_of_data *dn, pgoff_t index, int mode)</div><div class="ttdef"><b>Definition:</b> node.c:609</div></div>
<div class="ttc" id="structf2fs__sm__info_html_adc4947c9f57c361d180a67891d5153df"><div class="ttname"><a href="structf2fs__sm__info.html#adc4947c9f57c361d180a67891d5153df">f2fs_sm_info::curseg_array</a></div><div class="ttdeci">struct curseg_info * curseg_array</div><div class="ttdef"><b>Definition:</b> f2fs.h:866</div></div>
<div class="ttc" id="f2fs_8h_html_aab46cda024dbc6fa34f7cdd7181b05d6"><div class="ttname"><a href="f2fs_8h.html#aab46cda024dbc6fa34f7cdd7181b05d6">addrs_per_inode</a></div><div class="ttdeci">static unsigned int addrs_per_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2368</div></div>
<div class="ttc" id="f2fs_8h_html_a5e6a66fbc42edb5aab775973fffd6ee8"><div class="ttname"><a href="f2fs_8h.html#a5e6a66fbc42edb5aab775973fffd6ee8">clear_opt</a></div><div class="ttdeci">#define clear_opt(sbi, option)</div><div class="ttdef"><b>Definition:</b> f2fs.h:102</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a4d3b5ba35e686a0d719588c3417d66de"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a4d3b5ba35e686a0d719588c3417d66de">CP_FASTBOOT_MODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:970</div></div>
<div class="ttc" id="f2fs_8h_html_a8618342bf5f08a91e956d39efbdb4f2f"><div class="ttname"><a href="f2fs_8h.html#a8618342bf5f08a91e956d39efbdb4f2f">f2fs_kzalloc</a></div><div class="ttdeci">static void * f2fs_kzalloc(struct f2fs_sb_info *sbi, size_t size, gfp_t flags)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2537</div></div>
<div class="ttc" id="f2fs_8h_html_adb061aa88c6725a813c30b1c9c11e73b"><div class="ttname"><a href="f2fs_8h.html#adb061aa88c6725a813c30b1c9c11e73b">SM_I</a></div><div class="ttdeci">static struct f2fs_sm_info * SM_I(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1408</div></div>
<div class="ttc" id="structf2fs__sm__info_html_aa6daefef271f8023185319d398526a69"><div class="ttname"><a href="structf2fs__sm__info.html#aa6daefef271f8023185319d398526a69">f2fs_sm_info::fcc_info</a></div><div class="ttdeci">struct flush_cmd_control * fcc_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:894</div></div>
<div class="ttc" id="f2fs_8h_html_a9dc76e28efb9a0768daa3d02691ef8c7"><div class="ttname"><a href="f2fs_8h.html#a9dc76e28efb9a0768daa3d02691ef8c7">cur_cp_version</a></div><div class="ttdeci">static unsigned long long cur_cp_version(struct f2fs_checkpoint *cp)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1453</div></div>
<div class="ttc" id="f2fs_8h_html_a4630060ae17f00dfdfb1762a4d2de3e1"><div class="ttname"><a href="f2fs_8h.html#a4630060ae17f00dfdfb1762a4d2de3e1">f2fs_quota_off_umount</a></div><div class="ttdeci">void f2fs_quota_off_umount(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> super.c:1874</div></div>
<div class="ttc" id="f2fs_8h_html_ae72aed3be496d850be5d309898bbf056"><div class="ttname"><a href="f2fs_8h.html#ae72aed3be496d850be5d309898bbf056">valid_user_blocks</a></div><div class="ttdeci">static block_t valid_user_blocks(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1768</div></div>
<div class="ttc" id="f2fs_8h_html_a5bb80aa5ea6971f819fea45b1ccdbbaf"><div class="ttname"><a href="f2fs_8h.html#a5bb80aa5ea6971f819fea45b1ccdbbaf">f2fs_reserve_block</a></div><div class="ttdeci">int f2fs_reserve_block(struct dnode_of_data *dn, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> data.c:607</div></div>
<div class="ttc" id="f2fs_8h_html_aafbdd61c3e2214090c7c5ba5b11b4638"><div class="ttname"><a href="f2fs_8h.html#aafbdd61c3e2214090c7c5ba5b11b4638">set_file</a></div><div class="ttdeci">static void set_file(struct inode *inode, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2449</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a153133faa97b0245ef73f90290bed72b">FI_EXTRA_ATTR</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2201</div></div>
<div class="ttc" id="f2fs_8h_html_aa35bbc7be42569ff9ba436cf05942ce6a759373ac37ad3035f5141d1c0d214da8"><div class="ttname"><a href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a759373ac37ad3035f5141d1c0d214da8">D_PREP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:247</div></div>
<div class="ttc" id="f2fs_8h_html_ad47678754457cbb03acea49da927a9ee"><div class="ttname"><a href="f2fs_8h.html#ad47678754457cbb03acea49da927a9ee">f2fs_update_time</a></div><div class="ttdeci">static void f2fs_update_time(struct f2fs_sb_info *sbi, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1292</div></div>
<div class="ttc" id="f2fs_8h_html_a0e96acf73ec595679ffcca6fecc4d705aa1e5bdceeb5f4929725ac9c6b95c015e"><div class="ttname"><a href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705aa1e5bdceeb5f4929725ac9c6b95c015e">DPOLICY_FORCE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:279</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197ae972a6a8d117c2ddee0024a4a57a221d"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197ae972a6a8d117c2ddee0024a4a57a221d">CP_NON_REGULAR</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:964</div></div>
<div class="ttc" id="f2fs_8h_html_a4ecc66ac2787868d709c9a969bad075e"><div class="ttname"><a href="f2fs_8h.html#a4ecc66ac2787868d709c9a969bad075e">datablock_addr</a></div><div class="ttdeci">static block_t datablock_addr(struct inode *inode, struct page *node_page, unsigned int offset)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2077</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a29165310cbf394f16570d745da3450a6"><div class="ttname"><a href="structf2fs__sb__info.html#a29165310cbf394f16570d745da3450a6">f2fs_sb_info::blocks_per_seg</a></div><div class="ttdeci">unsigned int blocks_per_seg</div><div class="ttdef"><b>Definition:</b> f2fs.h:1158</div></div>
<div class="ttc" id="f2fs_8h_html_a39fcad0647283e9efa84f551a18198a5"><div class="ttname"><a href="f2fs_8h.html#a39fcad0647283e9efa84f551a18198a5">get_node_page</a></div><div class="ttdeci">struct page * get_node_page(struct f2fs_sb_info *sbi, pgoff_t nid)</div><div class="ttdef"><b>Definition:</b> node.c:1235</div></div>
<div class="ttc" id="f2fs_8h_html_a54642c93c8d5a721da0ed0a0c36e91d5"><div class="ttname"><a href="f2fs_8h.html#a54642c93c8d5a721da0ed0a0c36e91d5">MAX_NAT_JENTRIES</a></div><div class="ttdeci">#define MAX_NAT_JENTRIES(jnl)</div><div class="ttdef"><b>Definition:</b> f2fs.h:331</div></div>
<div class="ttc" id="f2fs_8h_html_a322e51cb77a06055f26c8810256c7963"><div class="ttname"><a href="f2fs_8h.html#a322e51cb77a06055f26c8810256c7963">f2fs_inline_data_fiemap</a></div><div class="ttdeci">int f2fs_inline_data_fiemap(struct inode *inode, struct fiemap_extent_info *fieinfo, __u64 start, __u64 len)</div><div class="ttdef"><b>Definition:</b> inline.c:649</div></div>
<div class="ttc" id="f2fs_8h_html_a21a867d078adf0e365d12d4a0070c37e"><div class="ttname"><a href="f2fs_8h.html#a21a867d078adf0e365d12d4a0070c37e">remove_dirty_inode</a></div><div class="ttdeci">void remove_dirty_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:920</div></div>
<div class="ttc" id="f2fs_8h_html_a80204a128d39c787c5d948f311947914"><div class="ttname"><a href="f2fs_8h.html#a80204a128d39c787c5d948f311947914">f2fs_may_encrypt</a></div><div class="ttdeci">static bool f2fs_may_encrypt(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3278</div></div>
<div class="ttc" id="f2fs_8h_html_a7dc18bed1447a2b8c29b1b424acf12c0"><div class="ttname"><a href="f2fs_8h.html#a7dc18bed1447a2b8c29b1b424acf12c0">f2fs_destroy_extent_tree</a></div><div class="ttdeci">void f2fs_destroy_extent_tree(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:720</div></div>
<div class="ttc" id="f2fs_8h_html_ad8097b505bbcd1eb8911669906d92520"><div class="ttname"><a href="f2fs_8h.html#ad8097b505bbcd1eb8911669906d92520">inode_dec_dirty_pages</a></div><div class="ttdeci">static void inode_dec_dirty_pages(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1736</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a8bc4586dbb5dbf6d3b21cdb984b35ba5"><div class="ttname"><a href="structf2fs__nm__info.html#a8bc4586dbb5dbf6d3b21cdb984b35ba5">f2fs_nm_info::nat_cnt</a></div><div class="ttdeci">unsigned int nat_cnt</div><div class="ttdef"><b>Definition:</b> f2fs.h:764</div></div>
<div class="ttc" id="f2fs_8h_html_a813ca1b47cec63cf28f187e0afd496ffa0db1f253f5d3972c03d94e8c3ba1ef6e"><div class="ttname"><a href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa0db1f253f5d3972c03d94e8c3ba1ef6e">FILE_INODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1039</div></div>
<div class="ttc" id="f2fs_8h_html_a401c9a99f2ac6e5c446f831295a145b7"><div class="ttname"><a href="f2fs_8h.html#a401c9a99f2ac6e5c446f831295a145b7">F2FS_I_SB</a></div><div class="ttdeci">static struct f2fs_sb_info * F2FS_I_SB(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1368</div></div>
<div class="ttc" id="f2fs_8h_html_a8ce95923480d1aedf0dd3de1324c665f"><div class="ttname"><a href="f2fs_8h.html#a8ce95923480d1aedf0dd3de1324c665f">f2fs_enable_quota_files</a></div><div class="ttdeci">int f2fs_enable_quota_files(struct f2fs_sb_info *sbi, bool rdonly)</div></div>
<div class="ttc" id="f2fs_8h_html_a88b3442e19f0a241cbca0781af2a71daa5b2eed487adc23f794cf34d514dc804f"><div class="ttname"><a href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daa5b2eed487adc23f794cf34d514dc804f">HOT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:950</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a60b79977ecd9aad769b592ad5b55adb4"><div class="ttname"><a href="structf2fs__sb__info.html#a60b79977ecd9aad769b592ad5b55adb4">f2fs_sb_info::node_ino_num</a></div><div class="ttdeci">unsigned int node_ino_num</div><div class="ttdef"><b>Definition:</b> f2fs.h:1155</div></div>
<div class="ttc" id="f2fs_8h_html_a4703f5829904bd37f463d4cb3c459f70"><div class="ttname"><a href="f2fs_8h.html#a4703f5829904bd37f463d4cb3c459f70">f2fs_fiemap</a></div><div class="ttdeci">int f2fs_fiemap(struct inode *inode, struct fiemap_extent_info *fieinfo, u64 start, u64 len)</div><div class="ttdef"><b>Definition:</b> data.c:1267</div></div>
<div class="ttc" id="f2fs_8h_html_afffcdabc0706361adcd9667dcbf5ce34"><div class="ttname"><a href="f2fs_8h.html#afffcdabc0706361adcd9667dcbf5ce34">inline_xattr_addr</a></div><div class="ttdeci">static void * inline_xattr_addr(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2373</div></div>
<div class="ttc" id="f2fs_8h_html_a1013c82f6c19c13ea62be85b35b7a999"><div class="ttname"><a href="f2fs_8h.html#a1013c82f6c19c13ea62be85b35b7a999">flush_nat_entries</a></div><div class="ttdeci">void flush_nat_entries(struct f2fs_sb_info *sbi, struct cp_control *cpc)</div><div class="ttdef"><b>Definition:</b> node.c:2551</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a321ad4193283ee0fe4f0dfbe6acc1f2b"><div class="ttname"><a href="structf2fs__sb__info.html#a321ad4193283ee0fe4f0dfbe6acc1f2b">f2fs_sb_info::cur_cp_pack</a></div><div class="ttdeci">int cur_cp_pack</div><div class="ttdef"><b>Definition:</b> f2fs.h:1120</div></div>
<div class="ttc" id="f2fs_8h_html_a775eff172a82c770b1982e02e4312eb8"><div class="ttname"><a href="f2fs_8h.html#a775eff172a82c770b1982e02e4312eb8">F2FS_M_SB</a></div><div class="ttdeci">static struct f2fs_sb_info * F2FS_M_SB(struct address_space *mapping)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1373</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a6348fac90e115ca34e122fc0d0704c26"><div class="ttname"><a href="structf2fs__inode__info.html#a6348fac90e115ca34e122fc0d0704c26">f2fs_inode_info::i_inline_xattr_size</a></div><div class="ttdeci">int i_inline_xattr_size</div><div class="ttdef"><b>Definition:</b> f2fs.h:665</div></div>
<div class="ttc" id="f2fs_8h_html_a0e41fe42294e84b647d4ca523b98bec0"><div class="ttname"><a href="f2fs_8h.html#a0e41fe42294e84b647d4ca523b98bec0">f2fs_cp_error</a></div><div class="ttdeci">static bool f2fs_cp_error(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2500</div></div>
<div class="ttc" id="f2fs_8h_html_aed9f6e2862079e965feb3376f601ce5f"><div class="ttname"><a href="f2fs_8h.html#aed9f6e2862079e965feb3376f601ce5f">valid_node_count</a></div><div class="ttdeci">static unsigned int valid_node_count(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1927</div></div>
<div class="ttc" id="f2fs_8h_html_a735af14bc5dcaa1a150ded9b1f566aae"><div class="ttname"><a href="f2fs_8h.html#a735af14bc5dcaa1a150ded9b1f566aae">f2fs_balance_fs_bg</a></div><div class="ttdeci">void f2fs_balance_fs_bg(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:479</div></div>
<div class="ttc" id="structdnode__of__data_html_ae2370283a61fbc06f74b8e905bf49e5c"><div class="ttname"><a href="structdnode__of__data.html#ae2370283a61fbc06f74b8e905bf49e5c">dnode_of_data::cur_level</a></div><div class="ttdeci">char cur_level</div><div class="ttdef"><b>Definition:</b> f2fs.h:804</div></div>
<div class="ttc" id="structextent__tree_html_a5cd5d0e4dd36e685b86b030d3c57b5a1"><div class="ttname"><a href="structextent__tree.html#a5cd5d0e4dd36e685b86b030d3c57b5a1">extent_tree::node_cnt</a></div><div class="ttdeci">atomic_t node_cnt</div><div class="ttdef"><b>Definition:</b> f2fs.h:559</div></div>
<div class="ttc" id="structf2fs__io__info_html_ac63eb290e70cbd5bde96f262dd87cc92"><div class="ttname"><a href="structf2fs__io__info.html#ac63eb290e70cbd5bde96f262dd87cc92">f2fs_io_info::op</a></div><div class="ttdeci">int op</div><div class="ttdef"><b>Definition:</b> f2fs.h:997</div></div>
<div class="ttc" id="structf2fs__nm__info_html_adcef8ffde28b776e450bcd68b1404a8c"><div class="ttname"><a href="structf2fs__nm__info.html#adcef8ffde28b776e450bcd68b1404a8c">f2fs_nm_info::available_nids</a></div><div class="ttdeci">nid_t available_nids</div><div class="ttdef"><b>Definition:</b> f2fs.h:753</div></div>
<div class="ttc" id="structf2fs__inode__info_html"><div class="ttname"><a href="structf2fs__inode__info.html">f2fs_inode_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:623</div></div>
<div class="ttc" id="f2fs_8h_html_a6ccdfc8dffb42d726fd1d13032b0439b"><div class="ttname"><a href="f2fs_8h.html#a6ccdfc8dffb42d726fd1d13032b0439b">lookup_journal_in_cursum</a></div><div class="ttdeci">int lookup_journal_in_cursum(struct f2fs_journal *journal, int type, unsigned int val, int alloc)</div><div class="ttdef"><b>Definition:</b> segment.c:3190</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a5b19bff380154a01e5bbdc6b0a276522"><div class="ttname"><a href="structf2fs__sb__info.html#a5b19bff380154a01e5bbdc6b0a276522">f2fs_sb_info::meta_inode</a></div><div class="ttdeci">struct inode * meta_inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:1122</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9aed4ef2b3555487418e97362053b7241b">FI_PIN_FILE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2203</div></div>
<div class="ttc" id="f2fs_8h_html_a073223982498f9bfb49fd7d5eb26a737"><div class="ttname"><a href="f2fs_8h.html#a073223982498f9bfb49fd7d5eb26a737">F2FS_MOUNT_ADAPTIVE</a></div><div class="ttdeci">#define F2FS_MOUNT_ADAPTIVE</div><div class="ttdef"><b>Definition:</b> f2fs.h:92</div></div>
<div class="ttc" id="structextent__tree_html_ab3d15691e3341bf2d2272d68ac4b74bf"><div class="ttname"><a href="structextent__tree.html#ab3d15691e3341bf2d2272d68ac4b74bf">extent_tree::cached_en</a></div><div class="ttdeci">struct extent_node * cached_en</div><div class="ttdef"><b>Definition:</b> f2fs.h:555</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a4a633d9436cf9f9acaaf0c172b32f700"><div class="ttname"><a href="structf2fs__sb__info.html#a4a633d9436cf9f9acaaf0c172b32f700">f2fs_sb_info::fggc_threshold</a></div><div class="ttdeci">u64 fggc_threshold</div><div class="ttdef"><b>Definition:</b> f2fs.h:1199</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a881a37eaa92d24d8b2745d20f2cc3308"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a881a37eaa92d24d8b2745d20f2cc3308">FI_INC_LINK</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2179</div></div>
<div class="ttc" id="structf2fs__nm__info_html_aa07df19a7390b6270d60e5ef6d96f1f0"><div class="ttname"><a href="structf2fs__nm__info.html#aa07df19a7390b6270d60e5ef6d96f1f0">f2fs_nm_info::nat_blkaddr</a></div><div class="ttdeci">block_t nat_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:751</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a2041af07cbcf12e273d6972583558f05">FI_INLINE_DOTS</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2196</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_a96456fac25202f7e0a401f30aa050aeb"><div class="ttname"><a href="structdiscard__cmd__control.html#a96456fac25202f7e0a401f30aa050aeb">discard_cmd_control::discard_wait_queue</a></div><div class="ttdeci">wait_queue_head_t discard_wait_queue</div><div class="ttdef"><b>Definition:</b> f2fs.h:302</div></div>
<div class="ttc" id="structcp__control_html"><div class="ttname"><a href="structcp__control.html">cp_control</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:191</div></div>
<div class="ttc" id="structf2fs__nm__info_html_ac45555c0b5278c8777562654395394cd"><div class="ttname"><a href="structf2fs__nm__info.html#ac45555c0b5278c8777562654395394cd">f2fs_nm_info::dirty_nats_ratio</a></div><div class="ttdeci">unsigned int dirty_nats_ratio</div><div class="ttdef"><b>Definition:</b> f2fs.h:757</div></div>
<div class="ttc" id="f2fs_8h_html_a88b3442e19f0a241cbca0781af2a71daaff9d699b9a6d333c520831fd945a3702"><div class="ttname"><a href="f2fs_8h.html#a88b3442e19f0a241cbca0781af2a71daaff9d699b9a6d333c520831fd945a3702">NR_TEMP_TYPE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:953</div></div>
<div class="ttc" id="structextent__node_html_a975083ca3787b2a6d639b42e2741b177"><div class="ttname"><a href="structextent__node.html#a975083ca3787b2a6d639b42e2741b177">extent_node::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> f2fs.h:542</div></div>
<div class="ttc" id="f2fs_8h_html_a2e7e36ea91927828f300a312b08a5a8b"><div class="ttname"><a href="f2fs_8h.html#a2e7e36ea91927828f300a312b08a5a8b">IS_INODE</a></div><div class="ttdeci">static bool IS_INODE(struct page *page)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2058</div></div>
<div class="ttc" id="structcurseg__info_html"><div class="ttname"><a href="structcurseg__info.html">curseg_info</a></div><div class="ttdef"><b>Definition:</b> segment.h:290</div></div>
<div class="ttc" id="structf2fs__mount__info_html_a965a6cfc097e93fe6cb52f79c3e14225"><div class="ttname"><a href="structf2fs__mount__info.html#a965a6cfc097e93fe6cb52f79c3e14225">f2fs_mount_info::s_resgid</a></div><div class="ttdeci">kgid_t s_resgid</div><div class="ttdef"><b>Definition:</b> f2fs.h:121</div></div>
<div class="ttc" id="f2fs_8h_html_aa1c4ec302d3c82837e0ae4678abdf492"><div class="ttname"><a href="f2fs_8h.html#aa1c4ec302d3c82837e0ae4678abdf492">f2fs_inode_by_name</a></div><div class="ttdeci">ino_t f2fs_inode_by_name(struct inode *dir, const struct qstr *qstr, struct page **page)</div><div class="ttdef"><b>Definition:</b> dir.c:279</div></div>
<div class="ttc" id="f2fs_8h_html_a441c033e3d3f086db9e3901c0d66bd3dab904e6c2e4414af140202d2fc6294a52"><div class="ttname"><a href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3dab904e6c2e4414af140202d2fc6294a52">UPDATE_INO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:213</div></div>
<div class="ttc" id="f2fs_8h_html_a96206c9fe2c5b74b38cddc0e683d3dc0"><div class="ttname"><a href="f2fs_8h.html#a96206c9fe2c5b74b38cddc0e683d3dc0">f2fs_update_dentry</a></div><div class="ttdeci">void f2fs_update_dentry(nid_t ino, umode_t mode, struct f2fs_dentry_ptr *d, const struct qstr *name, f2fs_hash_t name_hash, unsigned int bit_pos)</div><div class="ttdef"><b>Definition:</b> dir.c:471</div></div>
<div class="ttc" id="structfsync__inode__entry_html_aad611329b134d609120d516c5157a825"><div class="ttname"><a href="structfsync__inode__entry.html#aad611329b134d609120d516c5157a825">fsync_inode_entry::inode</a></div><div class="ttdeci">struct inode * inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:318</div></div>
<div class="ttc" id="f2fs_8h_html_ac47d775f3a84a926d7e0f4f7d641c901"><div class="ttname"><a href="f2fs_8h.html#ac47d775f3a84a926d7e0f4f7d641c901">f2fs_clear_bit</a></div><div class="ttdeci">static void f2fs_clear_bit(unsigned int nr, char *addr)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2117</div></div>
<div class="ttc" id="f2fs_8h_html_a3e75bfe82141c234d59cd60355e05309"><div class="ttname"><a href="f2fs_8h.html#a3e75bfe82141c234d59cd60355e05309">f2fs_ioctl</a></div><div class="ttdeci">long f2fs_ioctl(struct file *filp, unsigned int cmd, unsigned long arg)</div><div class="ttdef"><b>Definition:</b> file.c:2832</div></div>
<div class="ttc" id="structdiscard__cmd_html_abd818f815fe6d0fe954af4c2d164dea9"><div class="ttname"><a href="structdiscard__cmd.html#abd818f815fe6d0fe954af4c2d164dea9">discard_cmd::bdev</a></div><div class="ttdeci">struct block_device * bdev</div><div class="ttdef"><b>Definition:</b> f2fs.h:271</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a9f503924be055c5b8c2cc8d66b359ccd"><div class="ttname"><a href="structf2fs__sb__info.html#a9f503924be055c5b8c2cc8d66b359ccd">f2fs_sb_info::readdir_ra</a></div><div class="ttdeci">int readdir_ra</div><div class="ttdef"><b>Definition:</b> f2fs.h:1167</div></div>
<div class="ttc" id="f2fs_8h_html_a486c63c60f22e160de4d6074045d6a0a"><div class="ttname"><a href="f2fs_8h.html#a486c63c60f22e160de4d6074045d6a0a">f2fs_i_size_write</a></div><div class="ttdeci">static void f2fs_i_size_write(struct inode *inode, loff_t i_size)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2279</div></div>
<div class="ttc" id="f2fs_8h_html_acfdc38b539d81494c7d9056b10e4f789"><div class="ttname"><a href="f2fs_8h.html#acfdc38b539d81494c7d9056b10e4f789">file_set_encrypt</a></div><div class="ttdeci">#define file_set_encrypt(inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:611</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197afa1f673312c29b7320557126944d6c36"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197afa1f673312c29b7320557126944d6c36">CP_SPEC_LOG_NUM</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:971</div></div>
<div class="ttc" id="f2fs_8h_html_aa457e0296c8ac5792eb6c1a5175ddfdc"><div class="ttname"><a href="f2fs_8h.html#aa457e0296c8ac5792eb6c1a5175ddfdc">f2fs_test_and_clear_bit</a></div><div class="ttdeci">static int f2fs_test_and_clear_bit(unsigned int nr, char *addr)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2138</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a3fc11051f26166b199bbd0ab308c8287"><div class="ttname"><a href="structf2fs__sb__info.html#a3fc11051f26166b199bbd0ab308c8287">f2fs_sb_info::inode_lock</a></div><div class="ttdeci">spinlock_t inode_lock[NR_INODE_TYPE]</div><div class="ttdef"><b>Definition:</b> f2fs.h:1138</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a8c3fcc61d80909c06afe0297ad2240c1"><div class="ttname"><a href="structf2fs__sb__info.html#a8c3fcc61d80909c06afe0297ad2240c1">f2fs_sb_info::interval_time</a></div><div class="ttdeci">long interval_time[MAX_TIME]</div><div class="ttdef"><b>Definition:</b> f2fs.h:1129</div></div>
<div class="ttc" id="f2fs_8h_html_a7c699e04b54dbb5f55a350f81fd520da"><div class="ttname"><a href="f2fs_8h.html#a7c699e04b54dbb5f55a350f81fd520da">f2fs_wait_on_page_writeback</a></div><div class="ttdeci">void f2fs_wait_on_page_writeback(struct page *page, enum page_type type, bool ordered)</div><div class="ttdef"><b>Definition:</b> segment.c:2916</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a39af1e7b6f494ce23497eee909876926"><div class="ttname"><a href="structf2fs__sb__info.html#a39af1e7b6f494ce23497eee909876926">f2fs_sb_info::total_ext_tree</a></div><div class="ttdeci">atomic_t total_ext_tree</div><div class="ttdef"><b>Definition:</b> f2fs.h:1145</div></div>
<div class="ttc" id="structextent__tree_html_a976e1eb17c56669fb5cb238edb3fbfdb"><div class="ttname"><a href="structextent__tree.html#a976e1eb17c56669fb5cb238edb3fbfdb">extent_tree::lock</a></div><div class="ttdeci">rwlock_t lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:558</div></div>
<div class="ttc" id="structf2fs__dev__info_html"><div class="ttname"><a href="structf2fs__dev__info.html">f2fs_dev_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1025</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html_a45a33f26a79a11d307a98021a12f3b85"><div class="ttname"><a href="structf2fs__dentry__ptr.html#a45a33f26a79a11d307a98021a12f3b85">f2fs_dentry_ptr::inode</a></div><div class="ttdeci">struct inode * inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:461</div></div>
<div class="ttc" id="f2fs_8h_html_a5db361da7f1bc2d00781b328a81ac937"><div class="ttname"><a href="f2fs_8h.html#a5db361da7f1bc2d00781b328a81ac937">__try_update_largest_extent</a></div><div class="ttdeci">static void __try_update_largest_extent(struct inode *inode, struct extent_tree *et, struct extent_node *en)</div><div class="ttdef"><b>Definition:</b> f2fs.h:732</div></div>
<div class="ttc" id="f2fs_8h_html_a7c6826d51ca695a10f8e9963c7e5bd3f"><div class="ttname"><a href="f2fs_8h.html#a7c6826d51ca695a10f8e9963c7e5bd3f">init_extent_cache_info</a></div><div class="ttdeci">void init_extent_cache_info(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:791</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ac3346a7625b658b51b8b9dc4b2fa572d"><div class="ttname"><a href="structf2fs__sm__info.html#ac3346a7625b658b51b8b9dc4b2fa572d">f2fs_sm_info::dirty_info</a></div><div class="ttdeci">struct dirty_seglist_info * dirty_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:865</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html_aebac4c99732fa16b3b8c1f95af049066"><div class="ttname"><a href="structf2fs__dentry__ptr.html#aebac4c99732fa16b3b8c1f95af049066">f2fs_dentry_ptr::filename</a></div><div class="ttdeci">__u8(* filename)[F2FS_SLOT_LEN]</div><div class="ttdef"><b>Definition:</b> f2fs.h:464</div></div>
<div class="ttc" id="structf2fs__mount__info_html"><div class="ttname"><a href="structf2fs__mount__info.html">f2fs_mount_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:116</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a8b136d9defea52098816860fc760f158"><div class="ttname"><a href="structf2fs__inode__info.html#a8b136d9defea52098816860fc760f158">f2fs_inode_info::i_projid</a></div><div class="ttdeci">kprojid_t i_projid</div><div class="ttdef"><b>Definition:</b> f2fs.h:664</div></div>
<div class="ttc" id="f2fs_8h_html_a2868ec5f32efd71511810a3f4f506b08"><div class="ttname"><a href="f2fs_8h.html#a2868ec5f32efd71511810a3f4f506b08">CP_UMOUNT</a></div><div class="ttdeci">#define CP_UMOUNT</div><div class="ttdef"><b>Definition:</b> f2fs.h:172</div></div>
<div class="ttc" id="f2fs_8h_html_aafe79710f91e87de2c7716a77a606795"><div class="ttname"><a href="f2fs_8h.html#aafe79710f91e87de2c7716a77a606795">release_ino_entry</a></div><div class="ttdeci">void release_ino_entry(struct f2fs_sb_info *sbi, bool all)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:482</div></div>
<div class="ttc" id="f2fs_8h_html_aaf466c7387eabc7ff17fcd26f3840967"><div class="ttname"><a href="f2fs_8h.html#aaf466c7387eabc7ff17fcd26f3840967">get_inline_xattr_addrs</a></div><div class="ttdeci">static int get_inline_xattr_addrs(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2566</div></div>
<div class="ttc" id="structf2fs__sb__info_html_acd0edefa36e84661810f38e2460a7924"><div class="ttname"><a href="structf2fs__sb__info.html#acd0edefa36e84661810f38e2460a7924">f2fs_sb_info::raw_super</a></div><div class="ttdeci">struct f2fs_super_block * raw_super</div><div class="ttdef"><b>Definition:</b> f2fs.h:1095</div></div>
<div class="ttc" id="f2fs_8h_html_a821e4a50963066ef7a660d6b68bc8f40"><div class="ttname"><a href="f2fs_8h.html#a821e4a50963066ef7a660d6b68bc8f40">f2fs_is_atomic_file</a></div><div class="ttdeci">static bool f2fs_is_atomic_file(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2406</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a3f823972c9a5fc071065e4201876a1b9"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3f823972c9a5fc071065e4201876a1b9">FI_APPEND_WRITE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2187</div></div>
<div class="ttc" id="f2fs_8h_html_a125227539fdab4284eb2eef62ce12c6c"><div class="ttname"><a href="f2fs_8h.html#a125227539fdab4284eb2eef62ce12c6c">f2fs_wait_discard_bios</a></div><div class="ttdeci">bool f2fs_wait_discard_bios(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:1374</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a14845b372dd7f7efe0e9bcbfe7071c3a"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a14845b372dd7f7efe0e9bcbfe7071c3a">F2FS_INMEM_PAGES</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:916</div></div>
<div class="ttc" id="structdnode__of__data_html_a34914a51a57dbc52d3888ee225dbca6f"><div class="ttname"><a href="structdnode__of__data.html#a34914a51a57dbc52d3888ee225dbca6f">dnode_of_data::inode</a></div><div class="ttdeci">struct inode * inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:797</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a7fed4099bb5ce92fb1e62f92e8f6913c"><div class="ttname"><a href="structf2fs__sb__info.html#a7fed4099bb5ce92fb1e62f92e8f6913c">f2fs_sb_info::max_file_blocks</a></div><div class="ttdeci">loff_t max_file_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:1164</div></div>
<div class="ttc" id="structinode__management_html"><div class="ttname"><a href="structinode__management.html">inode_management</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1046</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a7cebb856de8e4cb97466d7566f9f421a"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a7cebb856de8e4cb97466d7566f9f421a">INMEM_REVOKE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:944</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a80fbc604407c81e9d6ab2756847f9b76"><div class="ttname"><a href="structf2fs__sb__info.html#a80fbc604407c81e9d6ab2756847f9b76">f2fs_sb_info::sb</a></div><div class="ttdeci">struct super_block * sb</div><div class="ttdef"><b>Definition:</b> f2fs.h:1093</div></div>
<div class="ttc" id="structino__entry_html_ac065320d4fac7fe7a9273beaa333de4c"><div class="ttname"><a href="structino__entry.html#ac065320d4fac7fe7a9273beaa333de4c">ino_entry::ino</a></div><div class="ttdeci">nid_t ino</div><div class="ttdef"><b>Definition:</b> f2fs.h:221</div></div>
<div class="ttc" id="f2fs_8h_html_a4cfc069ec12e7adc07bb25095a7697fb"><div class="ttname"><a href="f2fs_8h.html#a4cfc069ec12e7adc07bb25095a7697fb">__f2fs_replace_block</a></div><div class="ttdeci">void __f2fs_replace_block(struct f2fs_sb_info *sbi, struct f2fs_summary *sum, block_t old_blkaddr, block_t new_blkaddr, bool recover_curseg, bool recover_newaddr)</div><div class="ttdef"><b>Definition:</b> segment.c:2825</div></div>
<div class="ttc" id="f2fs_8h_html_a4b8eb803267e3156d0e660a57dfe2240"><div class="ttname"><a href="f2fs_8h.html#a4b8eb803267e3156d0e660a57dfe2240">recover_xattr_data</a></div><div class="ttdeci">int recover_xattr_data(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> node.c:2249</div></div>
<div class="ttc" id="structf2fs__sb__info_html_abf65f5ed308201129d1accd1059d2aee"><div class="ttname"><a href="structf2fs__sb__info.html#abf65f5ed308201129d1accd1059d2aee">f2fs_sb_info::dev_lock</a></div><div class="ttdeci">spinlock_t dev_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1246</div></div>
<div class="ttc" id="f2fs_8h_html_a7dffbcf93012840e801f5357ebc2669e"><div class="ttname"><a href="f2fs_8h.html#a7dffbcf93012840e801f5357ebc2669e">F2FS_RAW_SUPER</a></div><div class="ttdeci">static struct f2fs_super_block * F2FS_RAW_SUPER(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1383</div></div>
<div class="ttc" id="f2fs_8h_html_a4b1f08535df52fb7bb0d2fb8dc2f6be9"><div class="ttname"><a href="f2fs_8h.html#a4b1f08535df52fb7bb0d2fb8dc2f6be9">init_ino_entry_info</a></div><div class="ttdeci">void init_ino_entry_info(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:1464</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a727c604d96c40ef872eed3fc502f7f4a"><div class="ttname"><a href="structf2fs__inode__info.html#a727c604d96c40ef872eed3fc502f7f4a">f2fs_inode_info::i_xattr_nid</a></div><div class="ttdeci">nid_t i_xattr_nid</div><div class="ttdef"><b>Definition:</b> f2fs.h:643</div></div>
<div class="ttc" id="f2fs_8h_html_a312edb0052fd3417e65ad37307af51df"><div class="ttname"><a href="f2fs_8h.html#a312edb0052fd3417e65ad37307af51df">FDEV</a></div><div class="ttdeci">#define FDEV(i)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1023</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a4e0f7ee07db3bfd3da11df7a4fe00faa"><div class="ttname"><a href="structf2fs__nm__info.html#a4e0f7ee07db3bfd3da11df7a4fe00faa">f2fs_nm_info::next_scan_nid</a></div><div class="ttdeci">nid_t next_scan_nid</div><div class="ttdef"><b>Definition:</b> f2fs.h:754</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a59a889456a2d742fdca191dccb3e871d"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a59a889456a2d742fdca191dccb3e871d">NODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:937</div></div>
<div class="ttc" id="f2fs_8h_html_ab9b89fbc6698715c48d39b8872a9d6ab"><div class="ttname"><a href="f2fs_8h.html#ab9b89fbc6698715c48d39b8872a9d6ab">get_pages</a></div><div class="ttdeci">static s64 get_pages(struct f2fs_sb_info *sbi, int count_type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1749</div></div>
<div class="ttc" id="f2fs_8h_html_abe7ebbd080392f6e21c3a0022ecf2d45"><div class="ttname"><a href="f2fs_8h.html#abe7ebbd080392f6e21c3a0022ecf2d45">should_update_inplace</a></div><div class="ttdeci">bool should_update_inplace(struct inode *inode, struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> data.c:1581</div></div>
<div class="ttc" id="f2fs_8h_html_aae07d50f0d0e5744250b64704dee88e3"><div class="ttname"><a href="f2fs_8h.html#aae07d50f0d0e5744250b64704dee88e3">try_to_free_nats</a></div><div class="ttdeci">int try_to_free_nats(struct f2fs_sb_info *sbi, int nr_shrink)</div><div class="ttdef"><b>Definition:</b> node.c:394</div></div>
<div class="ttc" id="f2fs_8h_html_a25efe5cf6ef401e587f2b25a25f4a351af3c89323f68af21fdaf13194dde15b22"><div class="ttname"><a href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351af3c89323f68af21fdaf13194dde15b22">LOCK_REQ</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:957</div></div>
<div class="ttc" id="f2fs_8h_html_a337d6b8d9f9cc2b4d207e433a70d3987a373eaa474699ca3a86dddc51da74f0c8"><div class="ttname"><a href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a373eaa474699ca3a86dddc51da74f0c8">META_POR</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:206</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_abf114bb0c54cf60f217468f33458c428"><div class="ttname"><a href="structdiscard__cmd__control.html#abf114bb0c54cf60f217468f33458c428">discard_cmd_control::issued_discard</a></div><div class="ttdeci">atomic_t issued_discard</div><div class="ttdef"><b>Definition:</b> f2fs.h:309</div></div>
<div class="ttc" id="f2fs_8h_html_aa52b22d1284c82df9a69bac6bf0451de"><div class="ttname"><a href="f2fs_8h.html#aa52b22d1284c82df9a69bac6bf0451de">io_type_to_rw_hint</a></div><div class="ttdeci">enum rw_hint io_type_to_rw_hint(struct f2fs_sb_info *sbi, enum page_type type, enum temp_type temp)</div><div class="ttdef"><b>Definition:</b> segment.c:2524</div></div>
<div class="ttc" id="structdirty__seglist__info_html"><div class="ttname"><a href="structdirty__seglist__info.html">dirty_seglist_info</a></div><div class="ttdef"><b>Definition:</b> segment.h:275</div></div>
<div class="ttc" id="structdnode__of__data_html"><div class="ttname"><a href="structdnode__of__data.html">dnode_of_data</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:796</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a27f251babc7d78e16fd0e5d84284eaa0"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a27f251babc7d78e16fd0e5d84284eaa0">APP_BUFFERED_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:977</div></div>
<div class="ttc" id="structflush__cmd__control_html"><div class="ttname"><a href="structflush__cmd__control.html">flush_cmd_control</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:853</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a4869d788ce1a560b31c1d7dcc397cff9"><div class="ttname"><a href="structf2fs__sb__info.html#a4869d788ce1a560b31c1d7dcc397cff9">f2fs_sb_info::nm_info</a></div><div class="ttdeci">struct f2fs_nm_info * nm_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:1106</div></div>
<div class="ttc" id="f2fs_8h_html_afbbce014b7c4210966053b6e3c5470fe"><div class="ttname"><a href="f2fs_8h.html#afbbce014b7c4210966053b6e3c5470fe">f2fs_drop_nlink</a></div><div class="ttdeci">void f2fs_drop_nlink(struct inode *dir, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> dir.c:668</div></div>
<div class="ttc" id="f2fs_8h_html_a8d20b65fbef303ebc86fc4245ed239c2"><div class="ttname"><a href="f2fs_8h.html#a8d20b65fbef303ebc86fc4245ed239c2">f2fs_inode_synced</a></div><div class="ttdeci">void f2fs_inode_synced(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> super.c:910</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a5fd349433f3023046cd7c0cdd8bbb289"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5fd349433f3023046cd7c0cdd8bbb289">FI_NO_EXTENT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2183</div></div>
<div class="ttc" id="f2fs_8h_html_af40f7278c3fda1c73d69828aa0cc09e9"><div class="ttname"><a href="f2fs_8h.html#af40f7278c3fda1c73d69828aa0cc09e9">drop_inmem_pages_all</a></div><div class="ttdeci">void drop_inmem_pages_all(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:274</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html"><div class="ttname"><a href="structf2fs__dentry__ptr.html">f2fs_dentry_ptr</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:460</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_a24f15e414344c497377ba3f9a1aa266b"><div class="ttname"><a href="structf2fs__map__blocks.html#a24f15e414344c497377ba3f9a1aa266b">f2fs_map_blocks::m_pblk</a></div><div class="ttdeci">block_t m_pblk</div><div class="ttdef"><b>Definition:</b> f2fs.h:574</div></div>
<div class="ttc" id="f2fs_8h_html_a1b9d70fd0d0650d1c065256b5752eb83"><div class="ttname"><a href="f2fs_8h.html#a1b9d70fd0d0650d1c065256b5752eb83">get_sum_page</a></div><div class="ttdeci">struct page * get_sum_page(struct f2fs_sb_info *sbi, unsigned int segno)</div><div class="ttdef"><b>Definition:</b> segment.c:1994</div></div>
<div class="ttc" id="structdiscard__cmd_html_a4cb962690425caa9d374647fcd553ffd"><div class="ttname"><a href="structdiscard__cmd.html#a4cb962690425caa9d374647fcd553ffd">discard_cmd::lstart</a></div><div class="ttdeci">block_t lstart</div><div class="ttdef"><b>Definition:</b> f2fs.h:262</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a85be3cedb97a57492fde9f162bf37923"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a85be3cedb97a57492fde9f162bf37923">FS_CP_DATA_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:985</div></div>
<div class="ttc" id="f2fs_8h_html_ae9c97a170d3b5d12b6fe9c06b317a46b"><div class="ttname"><a href="f2fs_8h.html#ae9c97a170d3b5d12b6fe9c06b317a46b">f2fs_set_page_dirty_nobuffers</a></div><div class="ttdeci">void f2fs_set_page_dirty_nobuffers(struct page *page)</div><div class="ttdef"><b>Definition:</b> data.c:2414</div></div>
<div class="ttc" id="f2fs_8h_html_abb9e08f6a51435be001520e32d627771"><div class="ttname"><a href="f2fs_8h.html#abb9e08f6a51435be001520e32d627771">f2fs_convert_inline_page</a></div><div class="ttdeci">int f2fs_convert_inline_page(struct dnode_of_data *dn, struct page *page)</div><div class="ttdef"><b>Definition:</b> inline.c:111</div></div>
<div class="ttc" id="f2fs_8h_html_a76d6dcbe952b27758437675d883b1d45"><div class="ttname"><a href="f2fs_8h.html#a76d6dcbe952b27758437675d883b1d45">f2fs_add_link</a></div><div class="ttdeci">static int f2fs_add_link(struct dentry *dentry, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2692</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ab0e677bd205babb01af59a921a594d6b"><div class="ttname"><a href="structf2fs__sm__info.html#ab0e677bd205babb01af59a921a594d6b">f2fs_sm_info::reserved_segments</a></div><div class="ttdeci">unsigned int reserved_segments</div><div class="ttdef"><b>Definition:</b> f2fs.h:876</div></div>
<div class="ttc" id="f2fs_8h_html_a6ca44b5d99135a7b3d7dc29f204a1571"><div class="ttname"><a href="f2fs_8h.html#a6ca44b5d99135a7b3d7dc29f204a1571">f2fs_qf_ino</a></div><div class="ttdeci">static unsigned long f2fs_qf_ino(struct super_block *sb, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1458</div></div>
<div class="ttc" id="f2fs_8h_html_a683d26ae1bcd2090fee235a3b5c2dcd7"><div class="ttname"><a href="f2fs_8h.html#a683d26ae1bcd2090fee235a3b5c2dcd7">new_node_page</a></div><div class="ttdeci">struct page * new_node_page(struct dnode_of_data *dn, unsigned int ofs)</div><div class="ttdef"><b>Definition:</b> node.c:1070</div></div>
<div class="ttc" id="structextent__tree_html_ac5c40017841663483fdcb38b74e310d3"><div class="ttname"><a href="structextent__tree.html#ac5c40017841663483fdcb38b74e310d3">extent_tree::ino</a></div><div class="ttdeci">nid_t ino</div><div class="ttdef"><b>Definition:</b> f2fs.h:553</div></div>
<div class="ttc" id="f2fs_8h_html_a75a36253c621817f88247bcefa4c6858"><div class="ttname"><a href="f2fs_8h.html#a75a36253c621817f88247bcefa4c6858">f2fs_flush_device_cache</a></div><div class="ttdeci">int f2fs_flush_device_cache(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:704</div></div>
<div class="ttc" id="structextent__tree_html"><div class="ttname"><a href="structextent__tree.html">extent_tree</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:552</div></div>
<div class="ttc" id="structf2fs__mount__info_html_ad09289aeccc9c6333ad9abbec9d625a9"><div class="ttname"><a href="structf2fs__mount__info.html#ad09289aeccc9c6333ad9abbec9d625a9">f2fs_mount_info::root_reserved_blocks</a></div><div class="ttdeci">block_t root_reserved_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:119</div></div>
<div class="ttc" id="f2fs_8h_html_a0187ff4d79e837e7bc53775bab1dd463"><div class="ttname"><a href="f2fs_8h.html#a0187ff4d79e837e7bc53775bab1dd463">new_inode_page</a></div><div class="ttdeci">struct page * new_inode_page(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> node.c:1059</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ac69ef6c62d2d6a9ac474e8dca9d9188b"><div class="ttname"><a href="structf2fs__sm__info.html#ac69ef6c62d2d6a9ac474e8dca9d9188b">f2fs_sm_info::sit_info</a></div><div class="ttdeci">struct sit_info * sit_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:863</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a91865cf30f69f97df350cadfd8b703b8"><div class="ttname"><a href="structf2fs__sb__info.html#a91865cf30f69f97df350cadfd8b703b8">f2fs_sb_info::total_sections</a></div><div class="ttdeci">unsigned int total_sections</div><div class="ttdef"><b>Definition:</b> f2fs.h:1161</div></div>
<div class="ttc" id="structf2fs__inode__info_html_aa3f555ff8063cd27b682f8a7ae7b1e87"><div class="ttname"><a href="structf2fs__inode__info.html#aa3f555ff8063cd27b682f8a7ae7b1e87">f2fs_inode_info::i_pino</a></div><div class="ttdeci">unsigned int i_pino</div><div class="ttdef"><b>Definition:</b> f2fs.h:632</div></div>
<div class="ttc" id="f2fs_8h_html_aa614d3104ba5f243a3ac755eb588238d"><div class="ttname"><a href="f2fs_8h.html#aa614d3104ba5f243a3ac755eb588238d">MAX_SIT_JENTRIES</a></div><div class="ttdeci">#define MAX_SIT_JENTRIES(jnl)</div><div class="ttdef"><b>Definition:</b> f2fs.h:332</div></div>
<div class="ttc" id="structf2fs__move__range_html_a1e4c66dfd8d5dd1385e5a1098d2f653b"><div class="ttname"><a href="structf2fs__move__range.html#a1e4c66dfd8d5dd1385e5a1098d2f653b">f2fs_move_range::pos_in</a></div><div class="ttdeci">u64 pos_in</div><div class="ttdef"><b>Definition:</b> f2fs.h:425</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a7ad0c4d7fb59ead958931d25e6141c4b"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a7ad0c4d7fb59ead958931d25e6141c4b">FS_NODE_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:981</div></div>
<div class="ttc" id="structf2fs__flush__device_html"><div class="ttname"><a href="structf2fs__flush__device.html">f2fs_flush_device</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:430</div></div>
<div class="ttc" id="send_8h_html_aba87c031cbb3e372df508f4153bd3f1c"><div class="ttname"><a href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a></div><div class="ttdeci">__le16 cmd</div><div class="ttdef"><b>Definition:</b> send.h:4584</div></div>
<div class="ttc" id="f2fs_8h_html_a6f6480b398d3b29025175235748992c1"><div class="ttname"><a href="f2fs_8h.html#a6f6480b398d3b29025175235748992c1">f2fs_add_regular_entry</a></div><div class="ttdeci">int f2fs_add_regular_entry(struct inode *dir, const struct qstr *new_name, const struct qstr *orig_name, struct inode *inode, nid_t ino, umode_t mode)</div><div class="ttdef"><b>Definition:</b> dir.c:493</div></div>
<div class="ttc" id="structrb__entry_html"><div class="ttname"><a href="structrb__entry.html">rb_entry</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:525</div></div>
<div class="ttc" id="structf2fs__sb__info_html_af88b20a74b0018a8982862ff8da4246d"><div class="ttname"><a href="structf2fs__sb__info.html#af88b20a74b0018a8982862ff8da4246d">f2fs_sb_info::extent_lock</a></div><div class="ttdeci">spinlock_t extent_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1144</div></div>
<div class="ttc" id="f2fs_8h_html_a6627890fee72678cb224a8fe967a877f"><div class="ttname"><a href="f2fs_8h.html#a6627890fee72678cb224a8fe967a877f">get_lock_data_page</a></div><div class="ttdeci">struct page * get_lock_data_page(struct inode *inode, pgoff_t index, bool for_write)</div><div class="ttdef"><b>Definition:</b> data.c:724</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a25fe04fa230ce2ea1b92c6b32cad5c5c"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a25fe04fa230ce2ea1b92c6b32cad5c5c">INMEM_INVALIDATE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:943</div></div>
<div class="ttc" id="f2fs_8h_html_a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8"><div class="ttname"><a href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa01fc5ee10df7928979d0f97a174596d8">NR_INODE_TYPE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1042</div></div>
<div class="ttc" id="f2fs_8h_html_a5a1e4fa6e8f5848979b241b42636efac"><div class="ttname"><a href="f2fs_8h.html#a5a1e4fa6e8f5848979b241b42636efac">__has_cursum_space</a></div><div class="ttdeci">static bool __has_cursum_space(struct f2fs_journal *journal, int size, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:350</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a25d1f487d25aeb0e4160658f5de11f7d"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a25d1f487d25aeb0e4160658f5de11f7d">FI_NO_ALLOC</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2181</div></div>
<div class="ttc" id="structdiscard__policy_html_a7055b951deff756c39654711fb7b2df9"><div class="ttname"><a href="structdiscard__policy.html#a7055b951deff756c39654711fb7b2df9">discard_policy::io_aware</a></div><div class="ttdeci">bool io_aware</div><div class="ttdef"><b>Definition:</b> f2fs.h:291</div></div>
<div class="ttc" id="structf2fs__dev__info_html_a886bcc5e80610b3b5187b3d82db1e024"><div class="ttname"><a href="structf2fs__dev__info.html#a886bcc5e80610b3b5187b3d82db1e024">f2fs_dev_info::total_segments</a></div><div class="ttdeci">unsigned int total_segments</div><div class="ttdef"><b>Definition:</b> f2fs.h:1028</div></div>
<div class="ttc" id="f2fs_8h_html_a35457e8c3f4b94c33081de8338402de4"><div class="ttname"><a href="f2fs_8h.html#a35457e8c3f4b94c33081de8338402de4">__lookup_rb_tree_ret</a></div><div class="ttdeci">struct rb_entry * __lookup_rb_tree_ret(struct rb_root *root, struct rb_entry *cached_re, unsigned int ofs, struct rb_entry **prev_entry, struct rb_entry **next_entry, struct rb_node ***insert_p, struct rb_node **insert_parent, bool force)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:95</div></div>
<div class="ttc" id="f2fs_8h_html_a7bac11615b14cbcbed5cdadcb6787106"><div class="ttname"><a href="f2fs_8h.html#a7bac11615b14cbcbed5cdadcb6787106">set_opt_mode</a></div><div class="ttdeci">static void set_opt_mode(struct f2fs_sb_info *sbi, unsigned int mt)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3263</div></div>
<div class="ttc" id="f2fs_8h_html_a715d870c00a9490e526ecb5855ec5126"><div class="ttname"><a href="f2fs_8h.html#a715d870c00a9490e526ecb5855ec5126">f2fs_sync_file</a></div><div class="ttdeci">int f2fs_sync_file(struct file *file, loff_t start, loff_t end, int datasync)</div><div class="ttdef"><b>Definition:</b> file.c:323</div></div>
<div class="ttc" id="f2fs_8h_html_a0d4de3c5398b9b3368b391d997f1bc8e"><div class="ttname"><a href="f2fs_8h.html#a0d4de3c5398b9b3368b391d997f1bc8e">f2fs_overwrite_io</a></div><div class="ttdeci">bool f2fs_overwrite_io(struct inode *inode, loff_t pos, size_t len)</div><div class="ttdef"><b>Definition:</b> data.c:1118</div></div>
<div class="ttc" id="f2fs_8h_html_a31d6fa6b06abc42722cb9e4b10f55a45"><div class="ttname"><a href="f2fs_8h.html#a31d6fa6b06abc42722cb9e4b10f55a45">ra_node_page</a></div><div class="ttdeci">void ra_node_page(struct f2fs_sb_info *sbi, nid_t nid)</div><div class="ttdef"><b>Definition:</b> node.c:1154</div></div>
<div class="ttc" id="structf2fs__sb__info_html_aea240205a9a096264a9abb8f93a765b6"><div class="ttname"><a href="structf2fs__sb__info.html#aea240205a9a096264a9abb8f93a765b6">f2fs_sb_info::s_chksum_driver</a></div><div class="ttdeci">struct crypto_shash * s_chksum_driver</div><div class="ttdef"><b>Definition:</b> f2fs.h:1255</div></div>
<div class="ttc" id="f2fs_8h_html_abadef6e4757c9eb0198e326339790ec3"><div class="ttname"><a href="f2fs_8h.html#abadef6e4757c9eb0198e326339790ec3">is_dot_dotdot</a></div><div class="ttdeci">static bool is_dot_dotdot(const struct qstr *str)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2505</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_ad0cace344afb4603c5d5c404c4853051"><div class="ttname"><a href="structdiscard__cmd__control.html#ad0cace344afb4603c5d5c404c4853051">discard_cmd_control::discard_wake</a></div><div class="ttdeci">unsigned int discard_wake</div><div class="ttdef"><b>Definition:</b> f2fs.h:303</div></div>
<div class="ttc" id="structinode__management_html_a93502f1f1832ad24d7b01f73e17362ad"><div class="ttname"><a href="structinode__management.html#a93502f1f1832ad24d7b01f73e17362ad">inode_management::ino_num</a></div><div class="ttdeci">unsigned long ino_num</div><div class="ttdef"><b>Definition:</b> f2fs.h:1050</div></div>
<div class="ttc" id="f2fs_8h_html_aea46dd5b83e919030ffddf286e570dba"><div class="ttname"><a href="f2fs_8h.html#aea46dd5b83e919030ffddf286e570dba">clear_prefree_segments</a></div><div class="ttdeci">void clear_prefree_segments(struct f2fs_sb_info *sbi, struct cp_control *cpc)</div><div class="ttdef"><b>Definition:</b> segment.c:1620</div></div>
<div class="ttc" id="proc__sysctl_8c_html_a091cf7df76e63a357b1f68a9e6301837"><div class="ttname"><a href="proc__sysctl_8c.html#a091cf7df76e63a357b1f68a9e6301837">next_entry</a></div><div class="ttdeci">static void next_entry(struct ctl_table_header **phead, struct ctl_table **pentry)</div><div class="ttdef"><b>Definition:</b> proc_sysctl.c:409</div></div>
<div class="ttc" id="structdiscard__cmd_html_a1d9324ff2f58a8befd7dd5208336af88"><div class="ttname"><a href="structdiscard__cmd.html#a1d9324ff2f58a8befd7dd5208336af88">discard_cmd::ref</a></div><div class="ttdeci">unsigned short ref</div><div class="ttdef"><b>Definition:</b> f2fs.h:272</div></div>
<div class="ttc" id="f2fs_8h_html_add9e59b7c0dd05b6457fe25baa19ae45"><div class="ttname"><a href="f2fs_8h.html#add9e59b7c0dd05b6457fe25baa19ae45">drop_discard_cmd</a></div><div class="ttdeci">void drop_discard_cmd(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:1266</div></div>
<div class="ttc" id="f2fs_2super_8c_html_a2e467fc587c0c33bacafbe0e1200255e"><div class="ttname"><a href="f2fs_2super_8c.html#a2e467fc587c0c33bacafbe0e1200255e">f2fs_msg</a></div><div class="ttdeci">void f2fs_msg(struct super_block *sb, const char *level, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> super.c:196</div></div>
<div class="ttc" id="f2fs_8h_html_a2834a932c3e54d16c20329ffdbc6d038"><div class="ttname"><a href="f2fs_8h.html#a2834a932c3e54d16c20329ffdbc6d038">f2fs_change_bit</a></div><div class="ttdeci">static void f2fs_change_bit(unsigned int nr, char *addr)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2150</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a1cfd110c7bcc841d6c3aeff796c00de0"><div class="ttname"><a href="structf2fs__nm__info.html#a1cfd110c7bcc841d6c3aeff796c00de0">f2fs_nm_info::nat_bitmap</a></div><div class="ttdeci">char * nat_bitmap</div><div class="ttdef"><b>Definition:</b> f2fs.h:779</div></div>
<div class="ttc" id="f2fs_8h_html_a970b10b512e98ebcca90c7f19f0fb16f"><div class="ttname"><a href="f2fs_8h.html#a970b10b512e98ebcca90c7f19f0fb16f">inline_xattr_size</a></div><div class="ttdeci">static int inline_xattr_size(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2381</div></div>
<div class="ttc" id="structf2fs__nm__info_html"><div class="ttname"><a href="structf2fs__nm__info.html">f2fs_nm_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:750</div></div>
<div class="ttc" id="f2fs_8h_html_a6c9548df55a240cc391b2385e2f379e2"><div class="ttname"><a href="f2fs_8h.html#a6c9548df55a240cc391b2385e2f379e2">f2fs_truncate</a></div><div class="ttdeci">int f2fs_truncate(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> file.c:638</div></div>
<div class="ttc" id="f2fs_8h_html_a3663c6290750e274eef45f3743e713ac"><div class="ttname"><a href="f2fs_8h.html#a3663c6290750e274eef45f3743e713ac">discard_blocks</a></div><div class="ttdeci">static block_t discard_blocks(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1773</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a674c37589c9797d8b15b4e3211aec063"><div class="ttname"><a href="structf2fs__sb__info.html#a674c37589c9797d8b15b4e3211aec063">f2fs_sb_info::blocksize</a></div><div class="ttdeci">unsigned int blocksize</div><div class="ttdef"><b>Definition:</b> f2fs.h:1153</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fa026fccc0a6cc3ba5c87b84dc684e231b"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa026fccc0a6cc3ba5c87b84dc684e231b">CURSEG_WARM_NODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:841</div></div>
<div class="ttc" id="f2fs_8h_html_a441c033e3d3f086db9e3901c0d66bd3da94009d90228d6e389bc6ab5448aa2b9c"><div class="ttname"><a href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da94009d90228d6e389bc6ab5448aa2b9c">TRANS_DIR_INO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:214</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a86a4c8eae486de5c0794da7c90b6a6ad"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a86a4c8eae486de5c0794da7c90b6a6ad">FI_UPDATE_WRITE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2188</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6ad433c8230214ae48f0d9d1587568e8e7"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6ad433c8230214ae48f0d9d1587568e8e7">INMEM</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:941</div></div>
<div class="ttc" id="structfsync__inode__entry_html_a68b14eb93b624ef38757b96855220ace"><div class="ttname"><a href="structfsync__inode__entry.html#a68b14eb93b624ef38757b96855220ace">fsync_inode_entry::last_dentry</a></div><div class="ttdeci">block_t last_dentry</div><div class="ttdef"><b>Definition:</b> f2fs.h:320</div></div>
<div class="ttc" id="structf2fs__mount__info_html_ad7602d9a686d4cbfc8ee667d92d54d76"><div class="ttname"><a href="structf2fs__mount__info.html#ad7602d9a686d4cbfc8ee667d92d54d76">f2fs_mount_info::alloc_mode</a></div><div class="ttdeci">int alloc_mode</div><div class="ttdef"><b>Definition:</b> f2fs.h:134</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a06876db5abc08f5fb24b4de1c67c7fb8"><div class="ttname"><a href="structf2fs__sb__info.html#a06876db5abc08f5fb24b4de1c67c7fb8">f2fs_sb_info::reserved_blocks</a></div><div class="ttdeci">block_t reserved_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:1173</div></div>
<div class="ttc" id="f2fs_8h_html_a5ff5fdb7a070c6e22017b30e94ee6ea9"><div class="ttname"><a href="f2fs_8h.html#a5ff5fdb7a070c6e22017b30e94ee6ea9">INLINE_RESERVED_SIZE</a></div><div class="ttdeci">#define INLINE_RESERVED_SIZE(inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:451</div></div>
<div class="ttc" id="structinode__entry_html"><div class="ttname"><a href="structinode__entry.html">inode_entry</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:226</div></div>
<div class="ttc" id="f2fs_8h_html_a9487b62fcb011b42114ddb9ff9b6bc74"><div class="ttname"><a href="f2fs_8h.html#a9487b62fcb011b42114ddb9ff9b6bc74">f2fs_set_bit</a></div><div class="ttdeci">static void f2fs_set_bit(unsigned int nr, char *addr)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2108</div></div>
<div class="ttc" id="f2fs_8h_html_a3c97b41c1f4d8cd74ed1768f2751d73d"><div class="ttname"><a href="f2fs_8h.html#a3c97b41c1f4d8cd74ed1768f2751d73d">truncate_inode_blocks</a></div><div class="ttdeci">int truncate_inode_blocks(struct inode *inode, pgoff_t from)</div><div class="ttdef"><b>Definition:</b> node.c:908</div></div>
<div class="ttc" id="f2fs_8h_html_a11afd14367771ac159b9d5840e617e3f"><div class="ttname"><a href="f2fs_8h.html#a11afd14367771ac159b9d5840e617e3f">f2fs_join_shrinker</a></div><div class="ttdeci">void f2fs_join_shrinker(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> shrinker.c:129</div></div>
<div class="ttc" id="f2fs_8h_html_aee9966e781dc663e607c19706c503ea0"><div class="ttname"><a href="f2fs_8h.html#aee9966e781dc663e607c19706c503ea0">valid_inode_count</a></div><div class="ttdeci">static s64 valid_inode_count(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1942</div></div>
<div class="ttc" id="f2fs_8h_html_ae51e6508eeff681a9c1abc0e766862dc"><div class="ttname"><a href="f2fs_8h.html#ae51e6508eeff681a9c1abc0e766862dc">f2fs_i_pino_write</a></div><div class="ttdeci">static void f2fs_i_pino_write(struct inode *inode, nid_t pino)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2312</div></div>
<div class="ttc" id="structf2fs__sb__info_html_afa0a1cde802268e4aa3ba839ac1ef349"><div class="ttname"><a href="structf2fs__sb__info.html#afa0a1cde802268e4aa3ba839ac1ef349">f2fs_sb_info::dirty_device</a></div><div class="ttdeci">unsigned int dirty_device</div><div class="ttdef"><b>Definition:</b> f2fs.h:1245</div></div>
<div class="ttc" id="f2fs_8h_html_affdb7d9e348ec5a300348cac55c89dfd"><div class="ttname"><a href="f2fs_8h.html#affdb7d9e348ec5a300348cac55c89dfd">F2FS_REG_FLMASK</a></div><div class="ttdeci">#define F2FS_REG_FLMASK</div><div class="ttdef"><b>Definition:</b> f2fs.h:2159</div></div>
<div class="ttc" id="summary_8h_html_a63c41f9614ee9a4e1beb75eabad72f22"><div class="ttname"><a href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a></div><div class="ttdeci">jint32_t inode</div><div class="ttdef"><b>Definition:</b> summary.h:848</div></div>
<div class="ttc" id="f2fs_8h_html_a32d50e1604f8567bb6ef4c2a8359eb57"><div class="ttname"><a href="f2fs_8h.html#a32d50e1604f8567bb6ef4c2a8359eb57">truncate_blocks</a></div><div class="ttdeci">int truncate_blocks(struct inode *inode, u64 from, bool lock)</div><div class="ttdef"><b>Definition:</b> file.c:573</div></div>
<div class="ttc" id="f2fs_8h_html_a8826c1c198e1e502d643792da13615d4"><div class="ttname"><a href="f2fs_8h.html#a8826c1c198e1e502d643792da13615d4">META_MAPPING</a></div><div class="ttdeci">static struct address_space * META_MAPPING(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1428</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a72c57d9eb5093588e3329b1f7a6f6a62"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a72c57d9eb5093588e3329b1f7a6f6a62">F2FS_DIRTY_IMETA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:917</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_a8cdce45e81faf8f1237054deb3a2ed7e"><div class="ttname"><a href="structf2fs__map__blocks.html#a8cdce45e81faf8f1237054deb3a2ed7e">f2fs_map_blocks::m_lblk</a></div><div class="ttdeci">block_t m_lblk</div><div class="ttdef"><b>Definition:</b> f2fs.h:575</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a0431ad8b7687f0e617ec2391257d475f"><div class="ttname"><a href="structf2fs__sb__info.html#a0431ad8b7687f0e617ec2391257d475f">f2fs_sb_info::last_time</a></div><div class="ttdeci">unsigned long last_time[MAX_TIME]</div><div class="ttdef"><b>Definition:</b> f2fs.h:1128</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ad2802effa6e9575fe709639e7578afe5"><div class="ttname"><a href="structf2fs__sm__info.html#ad2802effa6e9575fe709639e7578afe5">f2fs_sm_info::min_hot_blocks</a></div><div class="ttdeci">unsigned int min_hot_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:890</div></div>
<div class="ttc" id="inode_8c_html_a9e6c5f183e4d22feba01bc18e9866dd1"><div class="ttname"><a href="inode_8c.html#a9e6c5f183e4d22feba01bc18e9866dd1">inc_nlink</a></div><div class="ttdeci">void inc_nlink(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inode.c:339</div></div>
<div class="ttc" id="f2fs_8h_html_aa813f548b8ac910701505e35fe4cb437a571dae7e43f451b7d257a7924c1da0ca"><div class="ttname"><a href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437a571dae7e43f451b7d257a7924c1da0ca">FSYNC_MODE_STRICT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1082</div></div>
<div class="ttc" id="f2fs_8h_html_a393c736c9afd9f2888cf5eb14b45a985"><div class="ttname"><a href="f2fs_8h.html#a393c736c9afd9f2888cf5eb14b45a985">build_gc_manager</a></div><div class="ttdeci">void build_gc_manager(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> gc.c:1105</div></div>
<div class="ttc" id="f2fs_8h_html_a4017380eacc74d792293bc88abf858e2"><div class="ttname"><a href="f2fs_8h.html#a4017380eacc74d792293bc88abf858e2">build_free_nids</a></div><div class="ttdeci">void build_free_nids(struct f2fs_sb_info *sbi, bool sync, bool mount)</div><div class="ttdef"><b>Definition:</b> node.c:2090</div></div>
<div class="ttc" id="f2fs_8h_html_a657755df985ef4ea99ccd0702da07a60"><div class="ttname"><a href="f2fs_8h.html#a657755df985ef4ea99ccd0702da07a60">destroy_extent_cache</a></div><div class="ttdeci">void destroy_extent_cache(void)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:818</div></div>
<div class="ttc" id="f2fs_8h_html_aefe00cdc8bfc9d5a5aa99efed5a606d0"><div class="ttname"><a href="f2fs_8h.html#aefe00cdc8bfc9d5a5aa99efed5a606d0">set_new_dnode</a></div><div class="ttdeci">static void set_new_dnode(struct dnode_of_data *dn, struct inode *inode, struct page *ipage, struct page *npage, nid_t nid)</div><div class="ttdef"><b>Definition:</b> f2fs.h:809</div></div>
<div class="ttc" id="f2fs_8h_html_a6e7e62f03aad476895140d7f10259d76"><div class="ttname"><a href="f2fs_8h.html#a6e7e62f03aad476895140d7f10259d76">f2fs_sync_fs</a></div><div class="ttdeci">int f2fs_sync_fs(struct super_block *sb, int sync)</div><div class="ttdef"><b>Definition:</b> super.c:1058</div></div>
<div class="ttc" id="f2fs_8h_html_aa4a315b1d9baaa173855d99798d43099"><div class="ttname"><a href="f2fs_8h.html#aa4a315b1d9baaa173855d99798d43099">f2fs_lock_all</a></div><div class="ttdeci">static void f2fs_lock_all(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1557</div></div>
<div class="ttc" id="f2fs_8h_html_aa1fbd95eb602ca6a2eeb415faf02e0db"><div class="ttname"><a href="f2fs_8h.html#aa1fbd95eb602ca6a2eeb415faf02e0db">is_set_ckpt_flags</a></div><div class="ttdeci">static bool is_set_ckpt_flags(struct f2fs_sb_info *sbi, unsigned int f)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1478</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fa15a323449c1071670817cb465839f962"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa15a323449c1071670817cb465839f962">CURSEG_COLD_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:839</div></div>
<div class="ttc" id="structf2fs__io__info_html_a4e07e45770f0c16a1b36908ac88d14e2"><div class="ttname"><a href="structf2fs__io__info.html#a4e07e45770f0c16a1b36908ac88d14e2">f2fs_io_info::in_list</a></div><div class="ttdeci">bool in_list</div><div class="ttdef"><b>Definition:</b> f2fs.h:1006</div></div>
<div class="ttc" id="cifssmb_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> cifssmb.c:63</div></div>
<div class="ttc" id="f2fs_8h_html_ad42f1ea6b9710c3a45522a6ce66abd77"><div class="ttname"><a href="f2fs_8h.html#ad42f1ea6b9710c3a45522a6ce66abd77">f2fs_fill_dentries</a></div><div class="ttdeci">int f2fs_fill_dentries(struct dir_context *ctx, struct f2fs_dentry_ptr *d, unsigned int start_pos, struct fscrypt_str *fstr)</div><div class="ttdef"><b>Definition:</b> dir.c:786</div></div>
<div class="ttc" id="f2fs_8h_html_ad1aee1f6e6366623494b343bcd1c41c3"><div class="ttname"><a href="f2fs_8h.html#ad1aee1f6e6366623494b343bcd1c41c3">handle_failed_inode</a></div><div class="ttdeci">void handle_failed_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inode.c:600</div></div>
<div class="ttc" id="structf2fs__mount__info_html_a0ba7e2b1f29dc3f89ea03882c5fd67e5"><div class="ttname"><a href="structf2fs__mount__info.html#a0ba7e2b1f29dc3f89ea03882c5fd67e5">f2fs_mount_info::opt</a></div><div class="ttdeci">unsigned int opt</div><div class="ttdef"><b>Definition:</b> f2fs.h:117</div></div>
<div class="ttc" id="f2fs_8h_html_a865eac838961c111fbeda455c2030762"><div class="ttname"><a href="f2fs_8h.html#a865eac838961c111fbeda455c2030762">f2fs_create_root_stats</a></div><div class="ttdeci">static int __init f2fs_create_root_stats(void)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3109</div></div>
<div class="ttc" id="f2fs_8h_html_a2ca0f1067d56cd29bf9154d01f391bcd"><div class="ttname"><a href="f2fs_8h.html#a2ca0f1067d56cd29bf9154d01f391bcd">get_new_data_page</a></div><div class="ttdeci">struct page * get_new_data_page(struct inode *inode, struct page *ipage, pgoff_t index, bool new_i_size)</div><div class="ttdef"><b>Definition:</b> data.c:756</div></div>
<div class="ttc" id="f2fs_8h_html_a1c440449ddec7b6641d80617f1b4af39"><div class="ttname"><a href="f2fs_8h.html#a1c440449ddec7b6641d80617f1b4af39">f2fs_has_inline_dots</a></div><div class="ttdeci">static int f2fs_has_inline_dots(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2396</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ab6ff82d1d2de19793063e846c5bc1586"><div class="ttname"><a href="structf2fs__sb__info.html#ab6ff82d1d2de19793063e846c5bc1586">f2fs_sb_info::trigger_ssr_threshold</a></div><div class="ttdeci">unsigned int trigger_ssr_threshold</div><div class="ttdef"><b>Definition:</b> f2fs.h:1166</div></div>
<div class="ttc" id="structdiscard__info_html_a41c5b650cce266066ab315a7e523a491"><div class="ttname"><a href="structdiscard__info.html#a41c5b650cce266066ab315a7e523a491">discard_info::lstart</a></div><div class="ttdeci">block_t lstart</div><div class="ttdef"><b>Definition:</b> f2fs.h:253</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a945c12b0dca76d887b1ebcfa575c3954"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a945c12b0dca76d887b1ebcfa575c3954">FI_DIRTY_INODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2176</div></div>
<div class="ttc" id="structf2fs__nm__info_html_ad81648649090c18ae64f12284bb5d6b2"><div class="ttname"><a href="structf2fs__nm__info.html#ad81648649090c18ae64f12284bb5d6b2">f2fs_nm_info::ram_thresh</a></div><div class="ttdeci">unsigned int ram_thresh</div><div class="ttdef"><b>Definition:</b> f2fs.h:755</div></div>
<div class="ttc" id="f2fs_8h_html_a59adeff354970c1128f7d4a721fa68d3"><div class="ttname"><a href="f2fs_8h.html#a59adeff354970c1128f7d4a721fa68d3">f2fs_read_inline_data</a></div><div class="ttdeci">int f2fs_read_inline_data(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> inline.c:84</div></div>
<div class="ttc" id="structf2fs__io__info_html_acb086b5796176dbca7c906fec4e4148b"><div class="ttname"><a href="structf2fs__io__info.html#acb086b5796176dbca7c906fec4e4148b">f2fs_io_info::ino</a></div><div class="ttdeci">nid_t ino</div><div class="ttdef"><b>Definition:</b> f2fs.h:994</div></div>
<div class="ttc" id="f2fs_8h_html_a94fccd5613fad80a0f2682c4c6a9c3f5"><div class="ttname"><a href="f2fs_8h.html#a94fccd5613fad80a0f2682c4c6a9c3f5">f2fs_bio_alloc</a></div><div class="ttdeci">static struct bio * f2fs_bio_alloc(struct f2fs_sb_info *sbi, int npages, bool no_fail)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2028</div></div>
<div class="ttc" id="structextent__node_html_a5c363d7ea3dd1a1125181bf42f5c61f3"><div class="ttname"><a href="structextent__node.html#a5c363d7ea3dd1a1125181bf42f5c61f3">extent_node::blk</a></div><div class="ttdeci">u32 blk</div><div class="ttdef"><b>Definition:</b> f2fs.h:543</div></div>
<div class="ttc" id="structf2fs__io__info_html"><div class="ttname"><a href="structf2fs__io__info.html">f2fs_io_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:992</div></div>
<div class="ttc" id="structf2fs__io__info_html_acaa22ee41b070905c0a5922da4c9ba39"><div class="ttname"><a href="structf2fs__io__info.html#acaa22ee41b070905c0a5922da4c9ba39">f2fs_io_info::op_flags</a></div><div class="ttdeci">int op_flags</div><div class="ttdef"><b>Definition:</b> f2fs.h:998</div></div>
<div class="ttc" id="structdiscard__cmd_html"><div class="ttname"><a href="structdiscard__cmd.html">discard_cmd</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:258</div></div>
<div class="ttc" id="f2fs_8h_html_a1d88d96bc0de6cd56d9b6f1fbe22ab98"><div class="ttname"><a href="f2fs_8h.html#a1d88d96bc0de6cd56d9b6f1fbe22ab98">move_node_page</a></div><div class="ttdeci">void move_node_page(struct page *node_page, int gc_type)</div><div class="ttdef"><b>Definition:</b> node.c:1427</div></div>
<div class="ttc" id="f2fs_8h_html_a60fb8b1bd99001713272ad926def5203"><div class="ttname"><a href="f2fs_8h.html#a60fb8b1bd99001713272ad926def5203">f2fs_compat_ioctl</a></div><div class="ttdeci">long f2fs_compat_ioctl(struct file *file, unsigned int cmd, unsigned long arg)</div></div>
<div class="ttc" id="structdiscard__policy_html_ad4a1c4fa90902189005e1de93d3ffd39"><div class="ttname"><a href="structdiscard__policy.html#ad4a1c4fa90902189005e1de93d3ffd39">discard_policy::max_interval</a></div><div class="ttdeci">unsigned int max_interval</div><div class="ttdef"><b>Definition:</b> f2fs.h:288</div></div>
<div class="ttc" id="f2fs_8h_html_a276e1a9ee4f10353e7f23d6ae089112b"><div class="ttname"><a href="f2fs_8h.html#a276e1a9ee4f10353e7f23d6ae089112b">FREE_I</a></div><div class="ttdeci">static struct free_segmap_info * FREE_I(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1418</div></div>
<div class="ttc" id="structf2fs__mount__info_html_af495d2bc1c97a99b97c0470b24646d4c"><div class="ttname"><a href="structf2fs__mount__info.html#af495d2bc1c97a99b97c0470b24646d4c">f2fs_mount_info::s_resuid</a></div><div class="ttdeci">kuid_t s_resuid</div><div class="ttdef"><b>Definition:</b> f2fs.h:120</div></div>
<div class="ttc" id="structf2fs__io__info_html_a8889802956019f04640275c51aef5d7d"><div class="ttname"><a href="structf2fs__io__info.html#a8889802956019f04640275c51aef5d7d">f2fs_io_info::new_blkaddr</a></div><div class="ttdeci">block_t new_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:999</div></div>
<div class="ttc" id="f2fs_8h_html_a0e96acf73ec595679ffcca6fecc4d705a2590427e105580b05ac1e1cc749deafb"><div class="ttname"><a href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a2590427e105580b05ac1e1cc749deafb">DPOLICY_BG</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:278</div></div>
<div class="ttc" id="f2fs_8h_html_aa0abb151bd35fbfb12e9947c14378508"><div class="ttname"><a href="f2fs_8h.html#aa0abb151bd35fbfb12e9947c14378508">f2fs_is_commit_atomic_write</a></div><div class="ttdeci">static bool f2fs_is_commit_atomic_write(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2411</div></div>
<div class="ttc" id="f2fs_8h_html_a25efe5cf6ef401e587f2b25a25f4a351a1f809ea8cb2e7f0faf4e1e1a3f5c72ce"><div class="ttname"><a href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351a1f809ea8cb2e7f0faf4e1e1a3f5c72ce">LOCK_RETRY</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:959</div></div>
<div class="ttc" id="structdiscard__policy_html_a538d44c29c7e3997e57500de7384575d"><div class="ttname"><a href="structdiscard__policy.html#a538d44c29c7e3997e57500de7384575d">discard_policy::io_aware_gran</a></div><div class="ttdeci">unsigned int io_aware_gran</div><div class="ttdef"><b>Definition:</b> f2fs.h:290</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a83ab66f9a1870a6a4ebb9a280ea96208"><div class="ttname"><a href="structf2fs__nm__info.html#a83ab66f9a1870a6a4ebb9a280ea96208">f2fs_nm_info::bitmap_size</a></div><div class="ttdeci">int bitmap_size</div><div class="ttdef"><b>Definition:</b> f2fs.h:788</div></div>
<div class="ttc" id="f2fs_8h_html_a223be06596dd9ff740bf0a09c8632294a76fae55ff48dc0e6d53eee2d212c73d1"><div class="ttname"><a href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294a76fae55ff48dc0e6d53eee2d212c73d1">LOOKUP_NODE_RA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:506</div></div>
<div class="ttc" id="f2fs_8h_html_a167d219e187bb61db3c5dbfd8d877926"><div class="ttname"><a href="f2fs_8h.html#a167d219e187bb61db3c5dbfd8d877926">alloc_nid_failed</a></div><div class="ttdeci">void alloc_nid_failed(struct f2fs_sb_info *sbi, nid_t nid)</div><div class="ttdef"><b>Definition:</b> node.c:2162</div></div>
<div class="ttc" id="f2fs_8h_html_aa35bbc7be42569ff9ba436cf05942ce6a66d4308bfa97f796a73ece1110b22a5a"><div class="ttname"><a href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a66d4308bfa97f796a73ece1110b22a5a">D_SUBMIT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:248</div></div>
<div class="ttc" id="ntfs_2debug_8h_html_a65b1b0602e37268ec9bc2c240a676c39"><div class="ttname"><a href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a></div><div class="ttdeci">const struct super_block * sb</div><div class="ttdef"><b>Definition:</b> debug.h:62</div></div>
<div class="ttc" id="f2fs_8h_html_a4d8634ba374002ecc7800ee7e88b959f"><div class="ttname"><a href="f2fs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a></div><div class="ttdeci">const char * level</div><div class="ttdef"><b>Definition:</b> f2fs.h:2708</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a9db94be0c0f0c9341aa6e0f92c43e7fa"><div class="ttname"><a href="structf2fs__sb__info.html#a9db94be0c0f0c9341aa6e0f92c43e7fa">f2fs_sb_info::alloc_valid_block_count</a></div><div class="ttdeci">struct percpu_counter alloc_valid_block_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1183</div></div>
<div class="ttc" id="f2fs_8h_html_a6a3b6776424fbe064be9e18b430de0fa"><div class="ttname"><a href="f2fs_8h.html#a6a3b6776424fbe064be9e18b430de0fa">f2fs_dentry_hash</a></div><div class="ttdeci">f2fs_hash_t f2fs_dentry_hash(const struct qstr *name_info, struct fscrypt_name *fname)</div><div class="ttdef"><b>Definition:</b> hash.c:73</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a5655ff3b029cee71ded08abe5ad69238"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5655ff3b029cee71ded08abe5ad69238">FI_HOT_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2200</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a75706d4210640206905dc10028b1b69c"><div class="ttname"><a href="structf2fs__nm__info.html#a75706d4210640206905dc10028b1b69c">f2fs_nm_info::nat_bits_blocks</a></div><div class="ttdeci">unsigned int nat_bits_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:781</div></div>
<div class="ttc" id="f2fs_8h_html_af12a84e9c28d4da95856572524a5fffa"><div class="ttname"><a href="f2fs_8h.html#af12a84e9c28d4da95856572524a5fffa">available_free_memory</a></div><div class="ttdeci">bool available_free_memory(struct f2fs_sb_info *sbi, int type)</div><div class="ttdef"><b>Definition:</b> node.c:32</div></div>
<div class="ttc" id="f2fs_8h_html_a1f4f97c43f3ea226574c9b905876431c"><div class="ttname"><a href="f2fs_8h.html#a1f4f97c43f3ea226574c9b905876431c">__get_cp_reason</a></div><div class="ttdeci">static int __get_cp_reason(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1567</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a1f6d4048b428c4262cc47145c401692d"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a1f6d4048b428c4262cc47145c401692d">F2FS_WB_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:919</div></div>
<div class="ttc" id="f2fs_8h_html_ac05f284e0e89efa8af4815d17c069dcf"><div class="ttname"><a href="f2fs_8h.html#ac05f284e0e89efa8af4815d17c069dcf">f2fs_mark_inode_dirty_sync</a></div><div class="ttdeci">void f2fs_mark_inode_dirty_sync(struct inode *inode, bool sync)</div><div class="ttdef"><b>Definition:</b> inode.c:23</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a8f21a1e401e7f6f314d3f59228ddc03d"><div class="ttname"><a href="structf2fs__sb__info.html#a8f21a1e401e7f6f314d3f59228ddc03d">f2fs_sb_info::write_iostat</a></div><div class="ttdeci">unsigned long long write_iostat[NR_IO_TYPE]</div><div class="ttdef"><b>Definition:</b> f2fs.h:1234</div></div>
<div class="ttc" id="f2fs_8h_html_a3f18eea74b9da66b7166b6ed747f90f5"><div class="ttname"><a href="f2fs_8h.html#a3f18eea74b9da66b7166b6ed747f90f5">F2FS_OTHER_FLMASK</a></div><div class="ttdeci">#define F2FS_OTHER_FLMASK</div><div class="ttdef"><b>Definition:</b> f2fs.h:2160</div></div>
<div class="ttc" id="cifspdu_8h_html_a94f8d852c02921f3079f6987b4a5d7d0"><div class="ttname"><a href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a></div><div class="ttdeci">__le64 start</div><div class="ttdef"><b>Definition:</b> cifspdu.h:460</div></div>
<div class="ttc" id="f2fs_8h_html_a7a2e499600c155f217665b4a2f679c5a"><div class="ttname"><a href="f2fs_8h.html#a7a2e499600c155f217665b4a2f679c5a">enabled_nat_bits</a></div><div class="ttdeci">static bool enabled_nat_bits(struct f2fs_sb_info *sbi, struct cp_control *cpc)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1534</div></div>
<div class="ttc" id="f2fs_8h_html_a865065692afefe5e27b18da23c9832d5"><div class="ttname"><a href="f2fs_8h.html#a865065692afefe5e27b18da23c9832d5">f2fs_write_inline_data</a></div><div class="ttdeci">int f2fs_write_inline_data(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> inline.c:202</div></div>
<div class="ttc" id="structextent__info_html_ad8b79b5b05894eed610d7bc6a5875221"><div class="ttname"><a href="structextent__info.html#ad8b79b5b05894eed610d7bc6a5875221">extent_info::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> f2fs.h:533</div></div>
<div class="ttc" id="f2fs_8h_html_abe3dd832265be0b49eebdece24a2af8c"><div class="ttname"><a href="f2fs_8h.html#abe3dd832265be0b49eebdece24a2af8c">get_valid_checkpoint</a></div><div class="ttdeci">int get_valid_checkpoint(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:793</div></div>
<div class="ttc" id="f2fs_8h_html_a5b28abe55331239816e50187161744b3"><div class="ttname"><a href="f2fs_8h.html#a5b28abe55331239816e50187161744b3">flush_sit_entries</a></div><div class="ttdeci">void flush_sit_entries(struct f2fs_sb_info *sbi, struct cp_control *cpc)</div><div class="ttdef"><b>Definition:</b> segment.c:3324</div></div>
<div class="ttc" id="structf2fs__mount__info_html_ae272d012fcabacc28afc6d136de3aa35"><div class="ttname"><a href="structf2fs__mount__info.html#ae272d012fcabacc28afc6d136de3aa35">f2fs_mount_info::fsync_mode</a></div><div class="ttdeci">int fsync_mode</div><div class="ttdef"><b>Definition:</b> f2fs.h:135</div></div>
<div class="ttc" id="structrb__entry_html_a4d3ab31f7417f42c8a46454248b3451c"><div class="ttname"><a href="structrb__entry.html#a4d3ab31f7417f42c8a46454248b3451c">rb_entry::rb_node</a></div><div class="ttdeci">struct rb_node rb_node</div><div class="ttdef"><b>Definition:</b> f2fs.h:526</div></div>
<div class="ttc" id="f2fs_8h_html_a8cb5c632c21488bafdb044eaf03592f1"><div class="ttname"><a href="f2fs_8h.html#a8cb5c632c21488bafdb044eaf03592f1">__f2fs_find_entry</a></div><div class="ttdeci">struct f2fs_dir_entry * __f2fs_find_entry(struct inode *dir, struct fscrypt_name *fname, struct page **res_page)</div><div class="ttdef"><b>Definition:</b> dir.c:203</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a3aea491f285464dc0012ed594571c9fc"><div class="ttname"><a href="structf2fs__sm__info.html#a3aea491f285464dc0012ed594571c9fc">f2fs_sm_info::segment_count</a></div><div class="ttdeci">unsigned int segment_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:874</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ab303a06006b8c0fb8567bcd59d9b0f9e"><div class="ttname"><a href="structf2fs__sb__info.html#ab303a06006b8c0fb8567bcd59d9b0f9e">f2fs_sb_info::secs_per_zone</a></div><div class="ttdeci">unsigned int secs_per_zone</div><div class="ttdef"><b>Definition:</b> f2fs.h:1160</div></div>
<div class="ttc" id="inode_8c_html_a3f9c3c869559fa00d152bbfb03361e25"><div class="ttname"><a href="inode_8c.html#a3f9c3c869559fa00d152bbfb03361e25">drop_nlink</a></div><div class="ttdeci">void drop_nlink(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inode.c:283</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6ab3df28a32d11a8c8db7e1f56970e2990"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6ab3df28a32d11a8c8db7e1f56970e2990">OPU</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:946</div></div>
<div class="ttc" id="structdiscard__cmd_html_a9d616cd290926c4c3832e41b62e6c042"><div class="ttname"><a href="structdiscard__cmd.html#a9d616cd290926c4c3832e41b62e6c042">discard_cmd::len</a></div><div class="ttdeci">block_t len</div><div class="ttdef"><b>Definition:</b> f2fs.h:263</div></div>
<div class="ttc" id="f2fs_8h_html_a3935311b8e9110f59f2b695442732bbdac1432da8908b3252215d187639cdcb8b"><div class="ttname"><a href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbdac1432da8908b3252215d187639cdcb8b">MAX_NID_STATE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:747</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a63850c2bd311b5be1604776471e8433c"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a63850c2bd311b5be1604776471e8433c">CP_NO_SPC_ROLL</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:968</div></div>
<div class="ttc" id="f2fs_8h_html_ab967096d245b0c7f15d8f662bb06c1c8"><div class="ttname"><a href="f2fs_8h.html#ab967096d245b0c7f15d8f662bb06c1c8">remove_inode_page</a></div><div class="ttdeci">int remove_inode_page(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> node.c:1029</div></div>
<div class="ttc" id="f2fs_8h_html_a0d23b4e32aa26d1a337e2932bfb9a22d"><div class="ttname"><a href="f2fs_8h.html#a0d23b4e32aa26d1a337e2932bfb9a22d">f2fs_chksum</a></div><div class="ttdeci">static u32 f2fs_chksum(struct f2fs_sb_info *sbi, u32 crc, const void *address, unsigned int length)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1352</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a0c56334b7f3b51ad03cbc32ec01a58a4"><div class="ttname"><a href="structf2fs__sb__info.html#a0c56334b7f3b51ad03cbc32ec01a58a4">f2fs_sb_info::ckpt</a></div><div class="ttdeci">struct f2fs_checkpoint * ckpt</div><div class="ttdef"><b>Definition:</b> f2fs.h:1119</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a15af616f32fa3e54f3c3dc03b41df12a"><div class="ttname"><a href="structf2fs__inode__info.html#a15af616f32fa3e54f3c3dc03b41df12a">f2fs_inode_info::i_dir_level</a></div><div class="ttdeci">unsigned char i_dir_level</div><div class="ttdef"><b>Definition:</b> f2fs.h:627</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fae5f5f00a61d59b3dbeaafce9aa774357"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fae5f5f00a61d59b3dbeaafce9aa774357">CURSEG_COLD_NODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:842</div></div>
<div class="ttc" id="f2fs_8h_html_a5688ef40d0857400ea24ce572aacdd79"><div class="ttname"><a href="f2fs_8h.html#a5688ef40d0857400ea24ce572aacdd79">f2fs_write_inode</a></div><div class="ttdeci">int f2fs_write_inode(struct inode *inode, struct writeback_control *wbc)</div><div class="ttdef"><b>Definition:</b> inode.c:477</div></div>
<div class="ttc" id="f2fs_8h_html_a30dade6ff389a148c7c171b2e2a3c25e"><div class="ttname"><a href="f2fs_8h.html#a30dade6ff389a148c7c171b2e2a3c25e">check_nid_range</a></div><div class="ttdeci">static int check_nid_range(struct f2fs_sb_info *sbi, nid_t nid)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1592</div></div>
<div class="ttc" id="structf2fs__nm__info_html_ab5068a74c7dbcb8afbc5ce7f6f70cff6"><div class="ttname"><a href="structf2fs__nm__info.html#ab5068a74c7dbcb8afbc5ce7f6f70cff6">f2fs_nm_info::ra_nid_pages</a></div><div class="ttdeci">unsigned int ra_nid_pages</div><div class="ttdef"><b>Definition:</b> f2fs.h:756</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a57a02d96219204312e8a8278d7955fe4"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a57a02d96219204312e8a8278d7955fe4">CP_NO_NEEDED</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:963</div></div>
<div class="ttc" id="f2fs_8h_html_a149d1eb104febcdfd3f9aa2b2ef36d26"><div class="ttname"><a href="f2fs_8h.html#a149d1eb104febcdfd3f9aa2b2ef36d26">get_next_page_offset</a></div><div class="ttdeci">pgoff_t get_next_page_offset(struct dnode_of_data *dn, pgoff_t pgofs)</div><div class="ttdef"><b>Definition:</b> node.c:494</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_a0a2f3a9a716b46098052f55409fc31c7"><div class="ttname"><a href="structf2fs__map__blocks.html#a0a2f3a9a716b46098052f55409fc31c7">f2fs_map_blocks::m_next_pgofs</a></div><div class="ttdeci">pgoff_t * m_next_pgofs</div><div class="ttdef"><b>Definition:</b> f2fs.h:578</div></div>
<div class="ttc" id="f2fs_8h_html_ae3313daf79e35382713e3ff77a463d24"><div class="ttname"><a href="f2fs_8h.html#ae3313daf79e35382713e3ff77a463d24">__allow_reserved_blocks</a></div><div class="ttdeci">static bool __allow_reserved_blocks(struct f2fs_sb_info *sbi, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1616</div></div>
<div class="ttc" id="f2fs_8h_html_a054085fb8bdc9ec896006277e7fe8f9a"><div class="ttname"><a href="f2fs_8h.html#a054085fb8bdc9ec896006277e7fe8f9a">recover_inline_xattr</a></div><div class="ttdeci">void recover_inline_xattr(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> node.c:2220</div></div>
<div class="ttc" id="f2fs_8h_html_a3889fbb02d30bc69fa081746b7ba8659"><div class="ttname"><a href="f2fs_8h.html#a3889fbb02d30bc69fa081746b7ba8659">f2fs_set_encrypted_inode</a></div><div class="ttdeci">static void f2fs_set_encrypted_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3213</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a0ec1545e5963e43fcd72a4c0bb4262e7"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a0ec1545e5963e43fcd72a4c0bb4262e7">FS_CP_NODE_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:986</div></div>
<div class="ttc" id="exec_8c_html_a36dcaf63ad8fe9783c81b418943e2346"><div class="ttname"><a href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346">count</a></div><div class="ttdeci">static int count(struct user_arg_ptr argv, int max)</div><div class="ttdef"><b>Definition:</b> exec.c:470</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a7ddf75a4e6be656d4b611af4cf4aebbd"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a7ddf75a4e6be656d4b611af4cf4aebbd">FS_DATA_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:980</div></div>
<div class="ttc" id="structextent__node_html_ad7a613fbfbed536904be7b0d70fe75cc"><div class="ttname"><a href="structextent__node.html#ad7a613fbfbed536904be7b0d70fe75cc">extent_node::et</a></div><div class="ttdeci">struct extent_tree * et</div><div class="ttdef"><b>Definition:</b> f2fs.h:549</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a6273ce4cdba748f73d9e6e1661ba502c"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a6273ce4cdba748f73d9e6e1661ba502c">META_FLUSH</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:940</div></div>
<div class="ttc" id="structdiscard__policy_html_a3b1fa6d464996a3e3fc64cb8c8eeca88"><div class="ttname"><a href="structdiscard__policy.html#a3b1fa6d464996a3e3fc64cb8c8eeca88">discard_policy::min_interval</a></div><div class="ttdeci">unsigned int min_interval</div><div class="ttdef"><b>Definition:</b> f2fs.h:287</div></div>
<div class="ttc" id="f2fs_8h_html_af9ba3564129b6ebc081840054abd5031"><div class="ttname"><a href="f2fs_8h.html#af9ba3564129b6ebc081840054abd5031">f2fs_empty_dir</a></div><div class="ttdeci">bool f2fs_empty_dir(struct inode *dir)</div><div class="ttdef"><b>Definition:</b> dir.c:749</div></div>
<div class="ttc" id="f2fs_8h_html_aad0f1fb87c57b93754bdeaf013370832"><div class="ttname"><a href="f2fs_8h.html#aad0f1fb87c57b93754bdeaf013370832">f2fs_shrink_count</a></div><div class="ttdeci">unsigned long f2fs_shrink_count(struct shrinker *shrink, struct shrink_control *sc)</div><div class="ttdef"><b>Definition:</b> shrinker.c:42</div></div>
<div class="ttc" id="f2fs_8h_html_a70f21faa1ba8435127f43598b796fb2a"><div class="ttname"><a href="f2fs_8h.html#a70f21faa1ba8435127f43598b796fb2a">write_meta_page</a></div><div class="ttdeci">void write_meta_page(struct f2fs_sb_info *sbi, struct page *page, enum iostat_type io_type)</div><div class="ttdef"><b>Definition:</b> segment.c:2740</div></div>
<div class="ttc" id="f2fs_8h_html_ad1bc5ca602625bda0651d45d5f341bc1"><div class="ttname"><a href="f2fs_8h.html#ad1bc5ca602625bda0651d45d5f341bc1">f2fs_submit_page_write</a></div><div class="ttdeci">int f2fs_submit_page_write(struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> data.c:407</div></div>
<div class="ttc" id="f2fs_8h_html_aee7ad34f91c5e802af41e718d42e396a"><div class="ttname"><a href="f2fs_8h.html#aee7ad34f91c5e802af41e718d42e396a">is_valid_blkaddr</a></div><div class="ttdeci">bool is_valid_blkaddr(struct f2fs_sb_info *sbi, block_t blkaddr, int type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:120</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a08f5033b7a40da9ad1d0fce3f1a013e4"><div class="ttname"><a href="structf2fs__sm__info.html#a08f5033b7a40da9ad1d0fce3f1a013e4">f2fs_sm_info::free_info</a></div><div class="ttdeci">struct free_segmap_info * free_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:864</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22af240d31da3c61c3d37ede4364ec61e0a"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22af240d31da3c61c3d37ede4364ec61e0a">FS_DISCARD</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:988</div></div>
<div class="ttc" id="structf2fs__inode__info_html_ae09093326762c2207f9df4c56d72134c"><div class="ttname"><a href="structf2fs__inode__info.html#ae09093326762c2207f9df4c56d72134c">f2fs_inode_info::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> f2fs.h:636</div></div>
<div class="ttc" id="structf2fs__io__info_html_ae3f2dee6ab16cd08bf15526d9811a517"><div class="ttname"><a href="structf2fs__io__info.html#ae3f2dee6ab16cd08bf15526d9811a517">f2fs_io_info::need_lock</a></div><div class="ttdeci">int need_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1005</div></div>
<div class="ttc" id="f2fs_8h_html_a813ca1b47cec63cf28f187e0afd496ff"><div class="ttname"><a href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ff">inode_type</a></div><div class="ttdeci">inode_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:1037</div></div>
<div class="ttc" id="f2fs_8h_html_ada11bcb4b656c3cbb0ffafe34792c430"><div class="ttname"><a href="f2fs_8h.html#ada11bcb4b656c3cbb0ffafe34792c430">f2fs_update_iostat</a></div><div class="ttdeci">static void f2fs_update_iostat(struct f2fs_sb_info *sbi, enum iostat_type type, unsigned long long io_bytes)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2595</div></div>
<div class="ttc" id="f2fs_8h_html_a8859ef8ac4ad7df9ea424cab7afd5b69"><div class="ttname"><a href="f2fs_8h.html#a8859ef8ac4ad7df9ea424cab7afd5b69">f2fs_force_buffered_io</a></div><div class="ttdeci">static bool f2fs_force_buffered_io(struct inode *inode, int rw)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3289</div></div>
<div class="ttc" id="structf2fs__gc__kthread_html"><div class="ttname"><a href="structf2fs__gc__kthread.html">f2fs_gc_kthread</a></div><div class="ttdef"><b>Definition:</b> gc.h:28</div></div>
<div class="ttc" id="f2fs_8h_html_a441c033e3d3f086db9e3901c0d66bd3da867617ba4bcabd15d2762caa2cc846f5"><div class="ttname"><a href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da867617ba4bcabd15d2762caa2cc846f5">FLUSH_INO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:215</div></div>
<div class="ttc" id="f2fs_8h_html_a94be519dbaaa6c76c361a416bb4d68d4"><div class="ttname"><a href="f2fs_8h.html#a94be519dbaaa6c76c361a416bb4d68d4">f2fs_drop_extent_tree</a></div><div class="ttdeci">void f2fs_drop_extent_tree(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:704</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a4853c088086a7886cac88e8b4b0789a1"><div class="ttname"><a href="structf2fs__sb__info.html#a4853c088086a7886cac88e8b4b0789a1">f2fs_sb_info::s_ndevs</a></div><div class="ttdeci">int s_ndevs</div><div class="ttdef"><b>Definition:</b> f2fs.h:1243</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22af3aa85576a2a5540eefbf5b891f2a559"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22af3aa85576a2a5540eefbf5b891f2a559">FS_GC_NODE_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:984</div></div>
<div class="ttc" id="structf2fs__flush__device_html_afc6356ab715eb1977ac36dae1606ad4d"><div class="ttname"><a href="structf2fs__flush__device.html#afc6356ab715eb1977ac36dae1606ad4d">f2fs_flush_device::dev_num</a></div><div class="ttdeci">u32 dev_num</div><div class="ttdef"><b>Definition:</b> f2fs.h:431</div></div>
<div class="ttc" id="f2fs_8h_html_a813ca1b47cec63cf28f187e0afd496ffad882636bcaacede5795121769db8bd18"><div class="ttname"><a href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffad882636bcaacede5795121769db8bd18">ATOMIC_FILE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1041</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ae4c99c97813e1919a3d6add3200e58fc"><div class="ttname"><a href="structf2fs__sb__info.html#ae4c99c97813e1919a3d6add3200e58fc">f2fs_sb_info::s_proc</a></div><div class="ttdeci">struct proc_dir_entry * s_proc</div><div class="ttdef"><b>Definition:</b> f2fs.h:1094</div></div>
<div class="ttc" id="structf2fs__io__info_html_a9f5b3f43b8d17c003d05e3f0e31e7f77"><div class="ttname"><a href="structf2fs__io__info.html#a9f5b3f43b8d17c003d05e3f0e31e7f77">f2fs_io_info::is_meta</a></div><div class="ttdeci">bool is_meta</div><div class="ttdef"><b>Definition:</b> f2fs.h:1007</div></div>
<div class="ttc" id="f2fs_8h_html_ac23a60317281fdb41392f21ba094b8bc"><div class="ttname"><a href="f2fs_8h.html#ac23a60317281fdb41392f21ba094b8bc">set_dirty_device</a></div><div class="ttdeci">void set_dirty_device(struct f2fs_sb_info *sbi, nid_t ino, unsigned int devidx, int type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:501</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_a23187a1498b26adae7c569e8f8866ffe"><div class="ttname"><a href="structf2fs__map__blocks.html#a23187a1498b26adae7c569e8f8866ffe">f2fs_map_blocks::m_len</a></div><div class="ttdeci">unsigned int m_len</div><div class="ttdef"><b>Definition:</b> f2fs.h:576</div></div>
<div class="ttc" id="structf2fs__move__range_html_adbad462a5aee24b086711eeec3f48941"><div class="ttname"><a href="structf2fs__move__range.html#adbad462a5aee24b086711eeec3f48941">f2fs_move_range::pos_out</a></div><div class="ttdeci">u64 pos_out</div><div class="ttdef"><b>Definition:</b> f2fs.h:426</div></div>
<div class="ttc" id="structf2fs__gc__range_html_a033d93bc728e6ec81b838831b722df23"><div class="ttname"><a href="structf2fs__gc__range.html#a033d93bc728e6ec81b838831b722df23">f2fs_gc_range::len</a></div><div class="ttdeci">u64 len</div><div class="ttdef"><b>Definition:</b> f2fs.h:415</div></div>
<div class="ttc" id="f2fs_8h_html_aabe0bb7b7e60850cc6ef6c76ce76d14d"><div class="ttname"><a href="f2fs_8h.html#aabe0bb7b7e60850cc6ef6c76ce76d14d">allocate_data_block</a></div><div class="ttdeci">void allocate_data_block(struct f2fs_sb_info *sbi, struct page *page, block_t old_blkaddr, block_t *new_blkaddr, struct f2fs_summary *sum, int type, struct f2fs_io_info *fio, bool add_list)</div><div class="ttdef"><b>Definition:</b> segment.c:2629</div></div>
<div class="ttc" id="f2fs_8h_html_a223be06596dd9ff740bf0a09c8632294a6c99b70420759208128a45ae2f753af5"><div class="ttname"><a href="f2fs_8h.html#a223be06596dd9ff740bf0a09c8632294a6c99b70420759208128a45ae2f753af5">ALLOC_NODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:504</div></div>
<div class="ttc" id="structdiscard__entry_html_a37452a41c674ea16dca6c523d1d9347c"><div class="ttname"><a href="structdiscard__entry.html#a37452a41c674ea16dca6c523d1d9347c">discard_entry::start_blkaddr</a></div><div class="ttdeci">block_t start_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:234</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197">cp_reason_type</a></div><div class="ttdeci">cp_reason_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:962</div></div>
<div class="ttc" id="structinode__management_html_a8fb2031c598cd8142991629507b7548b"><div class="ttname"><a href="structinode__management.html#a8fb2031c598cd8142991629507b7548b">inode_management::ino_lock</a></div><div class="ttdeci">spinlock_t ino_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:1048</div></div>
<div class="ttc" id="structcp__control_html_a3117d99503d5554f867703730a49fbd4"><div class="ttname"><a href="structcp__control.html#a3117d99503d5554f867703730a49fbd4">cp_control::reason</a></div><div class="ttdeci">int reason</div><div class="ttdef"><b>Definition:</b> f2fs.h:192</div></div>
<div class="ttc" id="structf2fs__sb__info_html"><div class="ttname"><a href="structf2fs__sb__info.html">f2fs_sb_info</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1092</div></div>
<div class="ttc" id="f2fs_8h_html_a5240d5fb04c34c6cc7cae7cbc65c1a3f"><div class="ttname"><a href="f2fs_8h.html#a5240d5fb04c34c6cc7cae7cbc65c1a3f">start_bidx_of_node</a></div><div class="ttdeci">block_t start_bidx_of_node(unsigned int node_ofs, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> gc.c:548</div></div>
<div class="ttc" id="do__balan_8c_html_a633866bcfdc41d2c0ccfb0f846537755"><div class="ttname"><a href="do__balan_8c.html#a633866bcfdc41d2c0ccfb0f846537755">do_balance</a></div><div class="ttdeci">void do_balance(struct tree_balance *tb, struct item_head *ih, const char *body, int flag)</div><div class="ttdef"><b>Definition:</b> do_balan.c:1858</div></div>
<div class="ttc" id="structproc__dir__entry_html"><div class="ttname"><a href="structproc__dir__entry.html">proc_dir_entry</a></div><div class="ttdef"><b>Definition:</b> internal.h:34</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424">count_type</a></div><div class="ttdeci">count_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:910</div></div>
<div class="ttc" id="f2fs_8h_html_ac41cf5fb80e486120b7775b96535c53e"><div class="ttname"><a href="f2fs_8h.html#ac41cf5fb80e486120b7775b96535c53e">f2fs_i_xnid_write</a></div><div class="ttdeci">static void f2fs_i_xnid_write(struct inode *inode, nid_t xnid)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2306</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a2fb2a7989ab9575d601f5418d595b98d"><div class="ttname"><a href="structf2fs__sm__info.html#a2fb2a7989ab9575d601f5418d595b98d">f2fs_sm_info::ssa_blkaddr</a></div><div class="ttdeci">block_t ssa_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:872</div></div>
<div class="ttc" id="f2fs_8h_html_a202f47828bd43fd8cbf2d17659aa8588"><div class="ttname"><a href="f2fs_8h.html#a202f47828bd43fd8cbf2d17659aa8588">f2fs_pin_file_control</a></div><div class="ttdeci">int f2fs_pin_file_control(struct inode *inode, bool inc)</div><div class="ttdef"><b>Definition:</b> file.c:2713</div></div>
<div class="ttc" id="f2fs_8h_html_a21274970a1ecd55f1d2967bff2288454"><div class="ttname"><a href="f2fs_8h.html#a21274970a1ecd55f1d2967bff2288454">get_blocktype_secs</a></div><div class="ttdeci">static int get_blocktype_secs(struct f2fs_sb_info *sbi, int block_type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1759</div></div>
<div class="ttc" id="structextent__info_html_a98b560e1671bf43dcf0bfd0bfd9a63a8"><div class="ttname"><a href="structextent__info.html#a98b560e1671bf43dcf0bfd0bfd9a63a8">extent_info::fofs</a></div><div class="ttdeci">unsigned int fofs</div><div class="ttdef"><b>Definition:</b> f2fs.h:532</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a3e671c43ad7868ac448a95ad529f92c7">FI_INLINE_XATTR</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2184</div></div>
<div class="ttc" id="f2fs_8h_html_ac234db118680cbb514730fa3362e2e30"><div class="ttname"><a href="f2fs_8h.html#ac234db118680cbb514730fa3362e2e30">destroy_flush_cmd_control</a></div><div class="ttdeci">void destroy_flush_cmd_control(struct f2fs_sb_info *sbi, bool free)</div><div class="ttdef"><b>Definition:</b> segment.c:688</div></div>
<div class="ttc" id="f2fs_8h_html_a33ee87a6964bd9452f9862e7a650e51f"><div class="ttname"><a href="f2fs_8h.html#a33ee87a6964bd9452f9862e7a650e51f">f2fs_crc32</a></div><div class="ttdeci">static u32 f2fs_crc32(struct f2fs_sb_info *sbi, const void *address, unsigned int length)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1340</div></div>
<div class="ttc" id="f2fs_8h_html_a036c8838aa2eee8ace8e6940d0352a7a"><div class="ttname"><a href="f2fs_8h.html#a036c8838aa2eee8ace8e6940d0352a7a">f2fs_kmalloc</a></div><div class="ttdeci">static void * f2fs_kmalloc(struct f2fs_sb_info *sbi, size_t size, gfp_t flags)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2525</div></div>
<div class="ttc" id="structflush__cmd__control_html_a670ebdabbbc5264d9c3d4df257cbbf0d"><div class="ttname"><a href="structflush__cmd__control.html#a670ebdabbbc5264d9c3d4df257cbbf0d">flush_cmd_control::flush_wait_queue</a></div><div class="ttdeci">wait_queue_head_t flush_wait_queue</div><div class="ttdef"><b>Definition:</b> f2fs.h:855</div></div>
<div class="ttc" id="f2fs_8h_html_a296aee2c6c5fdb23e18702677e7a26dd"><div class="ttname"><a href="f2fs_8h.html#a296aee2c6c5fdb23e18702677e7a26dd">is_file</a></div><div class="ttdeci">static int is_file(struct inode *inode, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2444</div></div>
<div class="ttc" id="f2fs_8h_html_a06824a573928f4fe3b3348611d4bf555"><div class="ttname"><a href="f2fs_8h.html#a06824a573928f4fe3b3348611d4bf555">inc_valid_inode_count</a></div><div class="ttdeci">static void inc_valid_inode_count(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1932</div></div>
<div class="ttc" id="f2fs_8h_html_abbefbfa72c2ba173e2df15e8c74d32b7"><div class="ttname"><a href="f2fs_8h.html#abbefbfa72c2ba173e2df15e8c74d32b7">fsync_node_pages</a></div><div class="ttdeci">int fsync_node_pages(struct f2fs_sb_info *sbi, struct inode *inode, struct writeback_control *wbc, bool atomic)</div><div class="ttdef"><b>Definition:</b> node.c:1464</div></div>
<div class="ttc" id="f2fs_8h_html_a3935311b8e9110f59f2b695442732bbda4f967d24df4ffda92e2fbfb2265ec7eb"><div class="ttname"><a href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbda4f967d24df4ffda92e2fbfb2265ec7eb">PREALLOC_NID</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:746</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22acd72577fad4fd6c64431d538f58e567d"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acd72577fad4fd6c64431d538f58e567d">APP_WRITE_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:978</div></div>
<div class="ttc" id="f2fs_8h_html_a173f34c053cf8ba70e5f775cd03196f4ac0f8993a5434453b710470750da865f6"><div class="ttname"><a href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4ac0f8993a5434453b710470750da865f6">WHINT_MODE_OFF</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1070</div></div>
<div class="ttc" id="structf2fs__gc__range_html_a898804b554ae509b07e3ced81e339273"><div class="ttname"><a href="structf2fs__gc__range.html#a898804b554ae509b07e3ced81e339273">f2fs_gc_range::start</a></div><div class="ttdeci">u64 start</div><div class="ttdef"><b>Definition:</b> f2fs.h:414</div></div>
<div class="ttc" id="structf2fs__sb__info_html_aec216c86eeeeb66a7cf99445479d917b"><div class="ttname"><a href="structf2fs__sb__info.html#aec216c86eeeeb66a7cf99445479d917b">f2fs_sb_info::nr_pages</a></div><div class="ttdeci">atomic_t nr_pages[NR_COUNT_TYPE]</div><div class="ttdef"><b>Definition:</b> f2fs.h:1181</div></div>
<div class="ttc" id="structf2fs__inode__info_html_ab20d62d1ee8473c4f3525319e506d6ff"><div class="ttname"><a href="structf2fs__inode__info.html#ab20d62d1ee8473c4f3525319e506d6ff">f2fs_inode_info::i_advise</a></div><div class="ttdeci">unsigned char i_advise</div><div class="ttdef"><b>Definition:</b> f2fs.h:626</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a1f2d7d7a4287724aa877bf82db43c95f"><div class="ttname"><a href="structf2fs__sm__info.html#a1f2d7d7a4287724aa877bf82db43c95f">f2fs_sm_info::min_ssr_sections</a></div><div class="ttdeci">unsigned int min_ssr_sections</div><div class="ttdef"><b>Definition:</b> f2fs.h:891</div></div>
<div class="ttc" id="f2fs_8h_html_a810e0af6f168705718c9ba9c884c6b41"><div class="ttname"><a href="f2fs_8h.html#a810e0af6f168705718c9ba9c884c6b41">__lookup_rb_tree</a></div><div class="ttdeci">struct rb_entry * __lookup_rb_tree(struct rb_root *root, struct rb_entry *cached_re, unsigned int ofs)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:52</div></div>
<div class="ttc" id="f2fs_8h_html_a337d6b8d9f9cc2b4d207e433a70d3987a014d49bda3a39c574748d6e7503a8859"><div class="ttname"><a href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987a014d49bda3a39c574748d6e7503a8859">META_NAT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:203</div></div>
<div class="ttc" id="structdnode__of__data_html_a100d9a75398a301e00086d373566ca6e"><div class="ttname"><a href="structdnode__of__data.html#a100d9a75398a301e00086d373566ca6e">dnode_of_data::node_page</a></div><div class="ttdeci">struct page * node_page</div><div class="ttdef"><b>Definition:</b> f2fs.h:799</div></div>
<div class="ttc" id="structdiscard__info_html_a3eb47e9db64071324e7a711f678c013d"><div class="ttname"><a href="structdiscard__info.html#a3eb47e9db64071324e7a711f678c013d">discard_info::start</a></div><div class="ttdeci">block_t start</div><div class="ttdef"><b>Definition:</b> f2fs.h:255</div></div>
<div class="ttc" id="f2fs_8h_html_a25efe5cf6ef401e587f2b25a25f4a351"><div class="ttname"><a href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351">need_lock_type</a></div><div class="ttdeci">need_lock_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:956</div></div>
<div class="ttc" id="f2fs_8h_html_a4b20cd3f318e8e62ed4cec6b03530ed6"><div class="ttname"><a href="f2fs_8h.html#a4b20cd3f318e8e62ed4cec6b03530ed6">inc_page_count</a></div><div class="ttdeci">static void inc_page_count(struct f2fs_sb_info *sbi, int count_type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1711</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ad8f11ff5f1a28db945381cc383a363b5"><div class="ttname"><a href="structf2fs__sm__info.html#ad8f11ff5f1a28db945381cc383a363b5">f2fs_sm_info::trim_sections</a></div><div class="ttdeci">unsigned int trim_sections</div><div class="ttdef"><b>Definition:</b> f2fs.h:883</div></div>
<div class="ttc" id="structcp__control_html_a5ce688547af49431301147a76ceee21b"><div class="ttname"><a href="structcp__control.html#a5ce688547af49431301147a76ceee21b">cp_control::trim_end</a></div><div class="ttdeci">__u64 trim_end</div><div class="ttdef"><b>Definition:</b> f2fs.h:194</div></div>
<div class="ttc" id="send_8h_html_ac21c5e21e8a44a607c448b05de413ed4"><div class="ttname"><a href="send_8h.html#ac21c5e21e8a44a607c448b05de413ed4">version</a></div><div class="ttdeci">__le32 version</div><div class="ttdef"><b>Definition:</b> send.h:4583</div></div>
<div class="ttc" id="f2fs_8h_html_aab65eda4a3d408ba4b949e6e755bf5e0"><div class="ttname"><a href="f2fs_8h.html#aab65eda4a3d408ba4b949e6e755bf5e0">reserve_new_blocks</a></div><div class="ttdeci">int reserve_new_blocks(struct dnode_of_data *dn, blkcnt_t count)</div><div class="ttdef"><b>Definition:</b> data.c:563</div></div>
<div class="ttc" id="f2fs_8h_html_af608ca7c94e16fb34c4ea4bad3488d97"><div class="ttname"><a href="f2fs_8h.html#af608ca7c94e16fb34c4ea4bad3488d97">f2fs_preallocate_blocks</a></div><div class="ttdeci">int f2fs_preallocate_blocks(struct kiocb *iocb, struct iov_iter *from)</div><div class="ttdef"><b>Definition:</b> data.c:843</div></div>
<div class="ttc" id="f2fs_8h_html_a5aeae30e14a557a73a0532d250866874"><div class="ttname"><a href="f2fs_8h.html#a5aeae30e14a557a73a0532d250866874">f2fs_find_entry</a></div><div class="ttdeci">struct f2fs_dir_entry * f2fs_find_entry(struct inode *dir, const struct qstr *child, struct page **res_page)</div><div class="ttdef"><b>Definition:</b> dir.c:250</div></div>
<div class="ttc" id="f2fs_8h_html_a8874c84265db90ef17cbd75e2592cef0"><div class="ttname"><a href="f2fs_8h.html#a8874c84265db90ef17cbd75e2592cef0">rw_hint_to_seg_type</a></div><div class="ttdeci">int rw_hint_to_seg_type(enum rw_hint hint)</div><div class="ttdef"><b>Definition:</b> segment.c:2451</div></div>
<div class="ttc" id="f2fs_8h_html_abb6676bbd589a9ca63ae2dd34a6501f7"><div class="ttname"><a href="f2fs_8h.html#abb6676bbd589a9ca63ae2dd34a6501f7">__is_set_ckpt_flags</a></div><div class="ttdeci">static bool __is_set_ckpt_flags(struct f2fs_checkpoint *cp, unsigned int f)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1471</div></div>
<div class="ttc" id="nfs2xdr_8c_html_a7d6f8a25e94209bd3ba29b2051ca4f08"><div class="ttname"><a href="nfs2xdr_8c.html#a7d6f8a25e94209bd3ba29b2051ca4f08">stat</a></div><div class="ttdeci">int stat</div><div class="ttdef"><b>Definition:</b> nfs2xdr.c:1087</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a75732d7d8f393121e917ca88d1aae408"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a75732d7d8f393121e917ca88d1aae408">NR_PAGE_TYPE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:939</div></div>
<div class="ttc" id="f2fs_8h_html_a1b572a97661e551ef0f2e1471eb6827a"><div class="ttname"><a href="f2fs_8h.html#a1b572a97661e551ef0f2e1471eb6827a">make_empty_inline_dir</a></div><div class="ttdeci">int make_empty_inline_dir(struct inode *inode, struct inode *parent, struct page *ipage)</div><div class="ttdef"><b>Definition:</b> inline.c:326</div></div>
<div class="ttc" id="structf2fs__bio__info_html_a3457a29cfa0f7c05312e05448f90b400"><div class="ttname"><a href="structf2fs__bio__info.html#a3457a29cfa0f7c05312e05448f90b400">f2fs_bio_info::last_block_in_bio</a></div><div class="ttdeci">sector_t last_block_in_bio</div><div class="ttdef"><b>Definition:</b> f2fs.h:1016</div></div>
<div class="ttc" id="f2fs_8h_html_a173f34c053cf8ba70e5f775cd03196f4af5d08a3c32f3ec3addae4ca483d6392c"><div class="ttname"><a href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4af5d08a3c32f3ec3addae4ca483d6392c">WHINT_MODE_FS</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1072</div></div>
<div class="ttc" id="f2fs_8h_html_a843e361df4da264f86f6db47d2f4acea"><div class="ttname"><a href="f2fs_8h.html#a843e361df4da264f86f6db47d2f4acea">set_extent_info</a></div><div class="ttdeci">static void set_extent_info(struct extent_info *ei, unsigned int fofs, u32 blk, unsigned int len)</div><div class="ttdef"><b>Definition:</b> f2fs.h:686</div></div>
<div class="ttc" id="structdiscard__cmd_html_a8ef06c32f3f1dc11537626589bc9e4e9"><div class="ttname"><a href="structdiscard__cmd.html#a8ef06c32f3f1dc11537626589bc9e4e9">discard_cmd::state</a></div><div class="ttdeci">unsigned char state</div><div class="ttdef"><b>Definition:</b> f2fs.h:273</div></div>
<div class="ttc" id="f2fs_8h_html_ad91f6b6ee2cd793831b9ee8c1f24fa1a"><div class="ttname"><a href="f2fs_8h.html#ad91f6b6ee2cd793831b9ee8c1f24fa1a">should_update_outplace</a></div><div class="ttdeci">bool should_update_outplace(struct inode *inode, struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> data.c:1593</div></div>
<div class="ttc" id="structf2fs__inode__info_html_acea025057d4a92314d2535b4311c4d5b"><div class="ttname"><a href="structf2fs__inode__info.html#acea025057d4a92314d2535b4311c4d5b">f2fs_inode_info::chash</a></div><div class="ttdeci">f2fs_hash_t chash</div><div class="ttdef"><b>Definition:</b> f2fs.h:639</div></div>
<div class="ttc" id="f2fs_8h_html_a162534092e598f78a5896303638b6f0e"><div class="ttname"><a href="f2fs_8h.html#a162534092e598f78a5896303638b6f0e">f2fs_destroy_extent_node</a></div><div class="ttdeci">unsigned int f2fs_destroy_extent_node(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:688</div></div>
<div class="ttc" id="ctree_8h_html_a92950c4c9053228f2a3fa6f2cb934d30"><div class="ttname"><a href="ctree_8h.html#a92950c4c9053228f2a3fa6f2cb934d30">flags</a></div><div class="ttdeci">__le64 flags</div><div class="ttdef"><b>Definition:</b> ctree.h:109</div></div>
<div class="ttc" id="f2fs_8h_html_a0e1ebb030a7597a266cdc7066f612554"><div class="ttname"><a href="f2fs_8h.html#a0e1ebb030a7597a266cdc7066f612554">find_target_dentry</a></div><div class="ttdeci">struct f2fs_dir_entry * find_target_dentry(struct fscrypt_name *fname, f2fs_hash_t namehash, int *max_slots, struct f2fs_dentry_ptr *d)</div><div class="ttdef"><b>Definition:</b> dir.c:107</div></div>
<div class="ttc" id="f2fs_8h_html_ae5978b26b26f841e7964f70dc22cc333"><div class="ttname"><a href="f2fs_8h.html#ae5978b26b26f841e7964f70dc22cc333">truncate_xattr_node</a></div><div class="ttdeci">int truncate_xattr_node(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> node.c:1004</div></div>
<div class="ttc" id="f2fs_8h_html_a9a073f5615247627ad344355ca4a0714"><div class="ttname"><a href="f2fs_8h.html#a9a073f5615247627ad344355ca4a0714">f2fs_skip_inode_update</a></div><div class="ttdeci">static bool f2fs_skip_inode_update(struct inode *inode, int dsync)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2461</div></div>
<div class="ttc" id="f2fs_8h_html_a00a24630c1d78c5379db6cbe21a7be23"><div class="ttname"><a href="f2fs_8h.html#a00a24630c1d78c5379db6cbe21a7be23">inline_data_addr</a></div><div class="ttdeci">static void * inline_data_addr(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2431</div></div>
<div class="ttc" id="f2fs_8h_html_a88a12e9f883516d61fb32fee5aa9d9cf"><div class="ttname"><a href="f2fs_8h.html#a88a12e9f883516d61fb32fee5aa9d9cf">f2fs_submit_merged_write_cond</a></div><div class="ttdeci">void f2fs_submit_merged_write_cond(struct f2fs_sb_info *sbi, struct inode *inode, nid_t ino, pgoff_t idx, enum page_type type)</div><div class="ttdef"><b>Definition:</b> data.c:362</div></div>
<div class="ttc" id="structf2fs__mount__info_html_af4c0055b586daa70a7a3343acba9cde5"><div class="ttname"><a href="structf2fs__mount__info.html#af4c0055b586daa70a7a3343acba9cde5">f2fs_mount_info::write_io_size_bits</a></div><div class="ttdeci">int write_io_size_bits</div><div class="ttdef"><b>Definition:</b> f2fs.h:118</div></div>
<div class="ttc" id="f2fs_8h_html_a26fcf1e7f9cc14c41c5a63f8be9e5631a0484aba3ed9465930c7267621e42b92e"><div class="ttname"><a href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a0484aba3ed9465930c7267621e42b92e">SBI_NEED_FSCK</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1057</div></div>
<div class="ttc" id="send_8h_html_ac6c61fc2d54b5e017432ab28daf5a7a9"><div class="ttname"><a href="send_8h.html#ac6c61fc2d54b5e017432ab28daf5a7a9">len</a></div><div class="ttdeci">__le32 len</div><div class="ttdef"><b>Definition:</b> send.h:4583</div></div>
<div class="ttc" id="structf2fs__sb__info_html_aab42a80139782e9811676e5a47374761"><div class="ttname"><a href="structf2fs__sb__info.html#aab42a80139782e9811676e5a47374761">f2fs_sb_info::write_io_dummy</a></div><div class="ttdeci">mempool_t * write_io_dummy</div><div class="ttdef"><b>Definition:</b> f2fs.h:1116</div></div>
<div class="ttc" id="f2fs_8h_html_a6cc2e1e6c8f1a74f4014989ac3367df1"><div class="ttname"><a href="f2fs_8h.html#a6cc2e1e6c8f1a74f4014989ac3367df1">F2FS_CKPT</a></div><div class="ttdeci">static struct f2fs_checkpoint * F2FS_CKPT(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1388</div></div>
<div class="ttc" id="f2fs_8h_html_a03a9923c6dc276fe24bb12cec2b6e697"><div class="ttname"><a href="f2fs_8h.html#a03a9923c6dc276fe24bb12cec2b6e697">create_extent_cache</a></div><div class="ttdeci">int __init create_extent_cache(void)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:803</div></div>
<div class="ttc" id="f2fs_8h_html_afef24e1c10be5542d1c1d2d7ec7fbfaa"><div class="ttname"><a href="f2fs_8h.html#afef24e1c10be5542d1c1d2d7ec7fbfaa">is_checkpointed_data</a></div><div class="ttdeci">bool is_checkpointed_data(struct f2fs_sb_info *sbi, block_t blkaddr)</div><div class="ttdef"><b>Definition:</b> segment.c:1925</div></div>
<div class="ttc" id="f2fs_8h_html_af345bf9b66bc15454b71b2cb9c4b89b4"><div class="ttname"><a href="f2fs_8h.html#af345bf9b66bc15454b71b2cb9c4b89b4">__mark_inode_dirty_flag</a></div><div class="ttdeci">static void __mark_inode_dirty_flag(struct inode *inode, int flag, bool set)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2206</div></div>
<div class="ttc" id="f2fs_8h_html_ae4ef40bc46e01abbe539204218bcf106"><div class="ttname"><a href="f2fs_8h.html#ae4ef40bc46e01abbe539204218bcf106">F2FS_SB</a></div><div class="ttdeci">static struct f2fs_sb_info * F2FS_SB(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1363</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fa6973656f3627ddcef1a84685352215a8"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa6973656f3627ddcef1a84685352215a8">CURSEG_WARM_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:838</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a13978bcafefc9b54a05300116e864131"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a13978bcafefc9b54a05300116e864131">F2FS_DIRTY_DENTS</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:911</div></div>
<div class="ttc" id="f2fs_8h_html_a714a4893796aecbb8264b824a65f79b0"><div class="ttname"><a href="f2fs_8h.html#a714a4893796aecbb8264b824a65f79b0">init_inode_metadata</a></div><div class="ttdeci">struct page * init_inode_metadata(struct inode *inode, struct inode *dir, const struct qstr *new_name, const struct qstr *orig_name, struct page *dpage)</div><div class="ttdef"><b>Definition:</b> dir.c:359</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_ae285221064dddfad76a234b745fa97b2"><div class="ttname"><a href="structdiscard__cmd__control.html#ae285221064dddfad76a234b745fa97b2">discard_cmd_control::discard_granularity</a></div><div class="ttdeci">unsigned int discard_granularity</div><div class="ttdef"><b>Definition:</b> f2fs.h:307</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9ac7d1ecb3ad0588eb90d57f0dd8e1b7d9"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9ac7d1ecb3ad0588eb90d57f0dd8e1b7d9">FI_DIRTY_DIR</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2178</div></div>
<div class="ttc" id="f2fs_8h_html_a7e8ac6dc08172bd095a07d2802e8d86b"><div class="ttname"><a href="f2fs_8h.html#a7e8ac6dc08172bd095a07d2802e8d86b">ra_meta_pages_cond</a></div><div class="ttdeci">void ra_meta_pages_cond(struct f2fs_sb_info *sbi, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:220</div></div>
<div class="ttc" id="structcp__control_html_a83f792baa2eaafa023a596cfd6a245f0"><div class="ttname"><a href="structcp__control.html#a83f792baa2eaafa023a596cfd6a245f0">cp_control::trim_start</a></div><div class="ttdeci">__u64 trim_start</div><div class="ttdef"><b>Definition:</b> f2fs.h:193</div></div>
<div class="ttc" id="summary_8h_html_a63d24e8b6329b7df8964200bb5f1c69e"><div class="ttname"><a href="summary_8h.html#a63d24e8b6329b7df8964200bb5f1c69e">pino</a></div><div class="ttdeci">jint32_t pino</div><div class="ttdef"><b>Definition:</b> summary.h:850</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a22a5b518620b41b4bc7a45570362310f"><div class="ttname"><a href="structf2fs__sb__info.html#a22a5b518620b41b4bc7a45570362310f">f2fs_sb_info::wb_sync_req</a></div><div class="ttdeci">atomic_t wb_sync_req</div><div class="ttdef"><b>Definition:</b> f2fs.h:1186</div></div>
<div class="ttc" id="f2fs_8h_html_aa71a76f2f0ed482420f6949259c36592"><div class="ttname"><a href="f2fs_8h.html#aa71a76f2f0ed482420f6949259c36592">recover_inline_data</a></div><div class="ttdeci">bool recover_inline_data(struct inode *inode, struct page *npage)</div><div class="ttdef"><b>Definition:</b> inline.c:242</div></div>
<div class="ttc" id="f2fs_8h_html_a5c520ccc0079ed0a9b1be5a387f1d361"><div class="ttname"><a href="f2fs_8h.html#a5c520ccc0079ed0a9b1be5a387f1d361">f2fs_may_extent_tree</a></div><div class="ttdeci">static bool f2fs_may_extent_tree(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2516</div></div>
<div class="ttc" id="f2fs_8h_html_a26fcf1e7f9cc14c41c5a63f8be9e5631a3184f684e58c80806db03acc9582cce8"><div class="ttname"><a href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a3184f684e58c80806db03acc9582cce8">SBI_NEED_SB_WRITE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1059</div></div>
<div class="ttc" id="f2fs_8h_html_a83ac0b6590c66024dd5262b491a767ee"><div class="ttname"><a href="f2fs_8h.html#a83ac0b6590c66024dd5262b491a767ee">__bitmap_size</a></div><div class="ttdeci">static unsigned long __bitmap_size(struct f2fs_sb_info *sbi, int flag)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1778</div></div>
<div class="ttc" id="f2fs_8h_html_a516f344f529edbf5c31535c0b00be714"><div class="ttname"><a href="f2fs_8h.html#a516f344f529edbf5c31535c0b00be714">f2fs_unlock_op</a></div><div class="ttdeci">static void f2fs_unlock_op(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1552</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a0561b4c97171d5ce4c1c0f0448f62c58"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a0561b4c97171d5ce4c1c0f0448f62c58">FI_NO_PREALLOC</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2199</div></div>
<div class="ttc" id="structf2fs__move__range_html_aa10272e76ad1eb64b287276afcdb96c3"><div class="ttname"><a href="structf2fs__move__range.html#aa10272e76ad1eb64b287276afcdb96c3">f2fs_move_range::dst_fd</a></div><div class="ttdeci">u32 dst_fd</div><div class="ttdef"><b>Definition:</b> f2fs.h:424</div></div>
<div class="ttc" id="f2fs_2segment_8h_html_a42759e33e11b4ac6def39b34c4371d39"><div class="ttname"><a href="f2fs_2segment_8h.html#a42759e33e11b4ac6def39b34c4371d39">utilization</a></div><div class="ttdeci">static int utilization(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.h:581</div></div>
<div class="ttc" id="f2fs_8h_html_a89c67a719b3824dff2e0fae3e62e46d1"><div class="ttname"><a href="f2fs_8h.html#a89c67a719b3824dff2e0fae3e62e46d1">f2fs_i_links_write</a></div><div class="ttdeci">static void f2fs_i_links_write(struct inode *inode, bool inc)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2249</div></div>
<div class="ttc" id="f2fs_8h_html_a53e2da383ccf0c09a37364e25ac1f348"><div class="ttname"><a href="f2fs_8h.html#a53e2da383ccf0c09a37364e25ac1f348">f2fs_kmem_cache_create</a></div><div class="ttdeci">static struct kmem_cache * f2fs_kmem_cache_create(const char *name, size_t size)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2011</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_a256d57f7c978b5e2e86c398f52e671a1"><div class="ttname"><a href="structdiscard__cmd__control.html#a256d57f7c978b5e2e86c398f52e671a1">discard_cmd_control::undiscard_blks</a></div><div class="ttdeci">unsigned int undiscard_blks</div><div class="ttdef"><b>Definition:</b> f2fs.h:308</div></div>
<div class="ttc" id="f2fs_8h_html_aa6c39a96655ae37af10bcfbb7f487e18"><div class="ttname"><a href="f2fs_8h.html#aa6c39a96655ae37af10bcfbb7f487e18">cur_cp_crc</a></div><div class="ttdeci">static __u64 cur_cp_crc(struct f2fs_checkpoint *cp)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1465</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a13c3889a26c2e845e65ef90407b01682"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a13c3889a26c2e845e65ef90407b01682">CP_HARDLINK</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:965</div></div>
<div class="ttc" id="f2fs_8h_html_ac94bc39df4ad958becbddfc4a49a2591"><div class="ttname"><a href="f2fs_8h.html#ac94bc39df4ad958becbddfc4a49a2591">add_ino_entry</a></div><div class="ttdeci">void add_ino_entry(struct f2fs_sb_info *sbi, nid_t ino, int type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:458</div></div>
<div class="ttc" id="f2fs_8h_html_a989689b7337eb48acee57ee16e2e956d"><div class="ttname"><a href="f2fs_8h.html#a989689b7337eb48acee57ee16e2e956d">update_sits_in_cursum</a></div><div class="ttdeci">static int update_sits_in_cursum(struct f2fs_journal *journal, int i)</div><div class="ttdef"><b>Definition:</b> f2fs.h:342</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_a731041d03794819480601a7106624ba5"><div class="ttname"><a href="structdiscard__cmd__control.html#a731041d03794819480601a7106624ba5">discard_cmd_control::discard_cmd_cnt</a></div><div class="ttdeci">atomic_t discard_cmd_cnt</div><div class="ttdef"><b>Definition:</b> f2fs.h:311</div></div>
<div class="ttc" id="f2fs_8h_html_a173f34c053cf8ba70e5f775cd03196f4a175638fd4c01af8732154b508ba4bedc"><div class="ttname"><a href="f2fs_8h.html#a173f34c053cf8ba70e5f775cd03196f4a175638fd4c01af8732154b508ba4bedc">WHINT_MODE_USER</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1071</div></div>
<div class="ttc" id="f2fs_8h_html_ac81087c929321576216877c4286cc7bf"><div class="ttname"><a href="f2fs_8h.html#ac81087c929321576216877c4286cc7bf">f2fs_has_inline_dentry</a></div><div class="ttdeci">static int f2fs_has_inline_dentry(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2439</div></div>
<div class="ttc" id="structdiscard__policy_html"><div class="ttname"><a href="structdiscard__policy.html">discard_policy</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:285</div></div>
<div class="ttc" id="f2fs_8h_html_a70d8d97ca90a9221e0248d4ae608cf3c"><div class="ttname"><a href="f2fs_8h.html#a70d8d97ca90a9221e0248d4ae608cf3c">remove_ino_entry</a></div><div class="ttdeci">void remove_ino_entry(struct f2fs_sb_info *sbi, nid_t ino, int type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:464</div></div>
<div class="ttc" id="structf2fs__dentry__ptr_html_a2ce282419b0d3cb7af7f9230ecf04c5f"><div class="ttname"><a href="structf2fs__dentry__ptr.html#a2ce282419b0d3cb7af7f9230ecf04c5f">f2fs_dentry_ptr::max</a></div><div class="ttdeci">int max</div><div class="ttdef"><b>Definition:</b> f2fs.h:465</div></div>
<div class="ttc" id="f2fs_8h_html_adc28ea6512ab536920cdd30552a6fc34"><div class="ttname"><a href="f2fs_8h.html#adc28ea6512ab536920cdd30552a6fc34">init_discard_policy</a></div><div class="ttdeci">void init_discard_policy(struct discard_policy *dpolicy, int discard_type, unsigned int granularity)</div><div class="ttdef"><b>Definition:</b> segment.c:1711</div></div>
<div class="ttc" id="f2fs_8h_html_abb50cf21c3db202a52e8c05e7c563b68"><div class="ttname"><a href="f2fs_8h.html#abb50cf21c3db202a52e8c05e7c563b68">f2fs_do_tmpfile</a></div><div class="ttdeci">int f2fs_do_tmpfile(struct inode *inode, struct inode *dir)</div><div class="ttdef"><b>Definition:</b> dir.c:648</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a2fa0b08010d5c91648ee7800d246da31"><div class="ttname"><a href="structf2fs__sb__info.html#a2fa0b08010d5c91648ee7800d246da31">f2fs_sb_info::last_valid_block_count</a></div><div class="ttdeci">block_t last_valid_block_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1172</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a805a79d2b9456743fae8bc406b6adca0"><div class="ttname"><a href="structf2fs__sm__info.html#a805a79d2b9456743fae8bc406b6adca0">f2fs_sm_info::dcc_info</a></div><div class="ttdeci">struct discard_cmd_control * dcc_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:897</div></div>
<div class="ttc" id="f2fs_8h_html_a9741cd28cddcfddf8dfca440cc554496"><div class="ttname"><a href="f2fs_8h.html#a9741cd28cddcfddf8dfca440cc554496">f2fs_flush_merged_writes</a></div><div class="ttdeci">void f2fs_flush_merged_writes(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> data.c:369</div></div>
<div class="ttc" id="f2fs_8h_html_af05c4a8f96d02e60ae1a951a3e10f10e"><div class="ttname"><a href="f2fs_8h.html#af05c4a8f96d02e60ae1a951a3e10f10e">create_node_manager_caches</a></div><div class="ttdeci">int __init create_node_manager_caches(void)</div><div class="ttdef"><b>Definition:</b> node.c:2853</div></div>
<div class="ttc" id="structfree__segmap__info_html"><div class="ttname"><a href="structfree__segmap__info.html">free_segmap_info</a></div><div class="ttdef"><b>Definition:</b> segment.h:253</div></div>
<div class="ttc" id="f2fs_8h_html_ace68ed974400fee5bead36282f486df1"><div class="ttname"><a href="f2fs_8h.html#ace68ed974400fee5bead36282f486df1">__cp_payload</a></div><div class="ttdeci">static block_t __cp_payload(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1791</div></div>
<div class="ttc" id="f2fs_8h_html_a813ca1b47cec63cf28f187e0afd496ffa9ac32b103a209a0ff69721e7e08d314b"><div class="ttname"><a href="f2fs_8h.html#a813ca1b47cec63cf28f187e0afd496ffa9ac32b103a209a0ff69721e7e08d314b">DIR_INODE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1038</div></div>
<div class="ttc" id="f2fs_8h_html_ae1165e29e3458f6e3f5f23d3318f9fa3"><div class="ttname"><a href="f2fs_8h.html#ae1165e29e3458f6e3f5f23d3318f9fa3">f2fs_kvmalloc</a></div><div class="ttdeci">static void * f2fs_kvmalloc(struct f2fs_sb_info *sbi, size_t size, gfp_t flags)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2543</div></div>
<div class="ttc" id="f2fs_8h_html_a5cc2cbd350ff821d737cb03f13f1acd5"><div class="ttname"><a href="f2fs_8h.html#a5cc2cbd350ff821d737cb03f13f1acd5">f2fs_parent_dir</a></div><div class="ttdeci">struct f2fs_dir_entry * f2fs_parent_dir(struct inode *dir, struct page **p)</div><div class="ttdef"><b>Definition:</b> dir.c:272</div></div>
<div class="ttc" id="send_8h_html_a1a1741f5378b82fa7a9665089956c3a7"><div class="ttname"><a href="send_8h.html#a1a1741f5378b82fa7a9665089956c3a7">crc</a></div><div class="ttdeci">__le32 crc</div><div class="ttdef"><b>Definition:</b> send.h:4586</div></div>
<div class="ttc" id="f2fs_8h_html_a930cbddb626a70f7c60f15d528d0e3aa"><div class="ttname"><a href="f2fs_8h.html#a930cbddb626a70f7c60f15d528d0e3aa">write_data_page</a></div><div class="ttdeci">void write_data_page(struct dnode_of_data *dn, struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> segment.c:2775</div></div>
<div class="ttc" id="f2fs_8h_html_a23c5c1268e4fd4bad5c9f5fb5346feec"><div class="ttname"><a href="f2fs_8h.html#a23c5c1268e4fd4bad5c9f5fb5346feec">__is_discard_back_mergeable</a></div><div class="ttdeci">static bool __is_discard_back_mergeable(struct discard_info *cur, struct discard_info *back)</div><div class="ttdef"><b>Definition:</b> f2fs.h:700</div></div>
<div class="ttc" id="structsit__entry__set_html"><div class="ttname"><a href="structsit__entry__set.html">sit_entry_set</a></div><div class="ttdef"><b>Definition:</b> segment.h:302</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a16aec98891fb57dc093fcb8cf3f289c4"><div class="ttname"><a href="structf2fs__sb__info.html#a16aec98891fb57dc093fcb8cf3f289c4">f2fs_sb_info::cp_rwsem</a></div><div class="ttdeci">struct rw_semaphore cp_rwsem</div><div class="ttdef"><b>Definition:</b> f2fs.h:1124</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_a4e0164b4f31ad21766ed984eafee949e"><div class="ttname"><a href="structdiscard__cmd__control.html#a4e0164b4f31ad21766ed984eafee949e">discard_cmd_control::nr_discards</a></div><div class="ttdeci">unsigned int nr_discards</div><div class="ttdef"><b>Definition:</b> f2fs.h:305</div></div>
<div class="ttc" id="structf2fs__io__info_html_a9894f9da3bbed4019d9541ea7559c47f"><div class="ttname"><a href="structf2fs__io__info.html#a9894f9da3bbed4019d9541ea7559c47f">f2fs_io_info::encrypted_page</a></div><div class="ttdeci">struct page * encrypted_page</div><div class="ttdef"><b>Definition:</b> f2fs.h:1002</div></div>
<div class="ttc" id="f2fs_8h_html_a3903bee4ee4f16c555c3aa63ddff6d22"><div class="ttname"><a href="f2fs_8h.html#a3903bee4ee4f16c555c3aa63ddff6d22">__check_rb_tree_consistence</a></div><div class="ttdeci">bool __check_rb_tree_consistence(struct f2fs_sb_info *sbi, struct rb_root *root)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:162</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a3bb509ab950b1c415b1f0936f7593df6"><div class="ttname"><a href="structf2fs__sb__info.html#a3bb509ab950b1c415b1f0936f7593df6">f2fs_sb_info::current_reserved_blocks</a></div><div class="ttdeci">block_t current_reserved_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:1174</div></div>
<div class="ttc" id="f2fs_8h_html_afba5ea72e2d34d08ac7d1be3f03559e0"><div class="ttname"><a href="f2fs_8h.html#afba5ea72e2d34d08ac7d1be3f03559e0">DIRTY_I</a></div><div class="ttdeci">static struct dirty_seglist_info * DIRTY_I(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1423</div></div>
<div class="ttc" id="f2fs_8h_html_a23f046c39b6ddf0ffbab446c06e5f1a0"><div class="ttname"><a href="f2fs_8h.html#a23f046c39b6ddf0ffbab446c06e5f1a0">blkaddr_in_node</a></div><div class="ttdeci">static __le32 * blkaddr_in_node(struct f2fs_node *node)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2071</div></div>
<div class="ttc" id="f2fs_8h_html_aa35bbc7be42569ff9ba436cf05942ce6a95084c3e583017116832bf4c6d1ab0b4"><div class="ttname"><a href="f2fs_8h.html#aa35bbc7be42569ff9ba436cf05942ce6a95084c3e583017116832bf4c6d1ab0b4">D_DONE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:249</div></div>
<div class="ttc" id="f2fs_8h_html_a1ee55d25e5362f8b7452e54e5b004521"><div class="ttname"><a href="f2fs_8h.html#a1ee55d25e5362f8b7452e54e5b004521">__start_cp_addr</a></div><div class="ttdeci">static block_t __start_cp_addr(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1819</div></div>
<div class="ttc" id="structdiscard__info_html_a127f8e0e42298e12c5885e4cc87264f0"><div class="ttname"><a href="structdiscard__info.html#a127f8e0e42298e12c5885e4cc87264f0">discard_info::len</a></div><div class="ttdeci">block_t len</div><div class="ttdef"><b>Definition:</b> f2fs.h:254</div></div>
<div class="ttc" id="f2fs_8h_html_ac1351f3e26da80ee24b2888ecc68fca6a6c645da4478d7ab3133db97bf59db340"><div class="ttname"><a href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a6c645da4478d7ab3133db97bf59db340">F2FS_GET_BLOCK_BMAP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:587</div></div>
<div class="ttc" id="f2fs_8h_html_a3a55731a66de0a627f3c2ca7a74c9e64"><div class="ttname"><a href="f2fs_8h.html#a3a55731a66de0a627f3c2ca7a74c9e64">inode_entry_slab</a></div><div class="ttdeci">struct kmem_cache * inode_entry_slab</div><div class="ttdef"><b>Definition:</b> checkpoint.c:27</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6a9d7d6f31868d66330397c967c4afd2d2"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6a9d7d6f31868d66330397c967c4afd2d2">DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:936</div></div>
<div class="ttc" id="f2fs_8h_html_a0e96acf73ec595679ffcca6fecc4d705a165db5bb70736cecc817db945010db2e"><div class="ttname"><a href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705a165db5bb70736cecc817db945010db2e">MAX_DPOLICY</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:282</div></div>
<div class="ttc" id="f2fs_8h_html_aa813f548b8ac910701505e35fe4cb437"><div class="ttname"><a href="f2fs_8h.html#aa813f548b8ac910701505e35fe4cb437">fsync_mode</a></div><div class="ttdeci">fsync_mode</div><div class="ttdef"><b>Definition:</b> f2fs.h:1080</div></div>
<div class="ttc" id="structf2fs__move__range_html"><div class="ttname"><a href="structf2fs__move__range.html">f2fs_move_range</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:423</div></div>
<div class="ttc" id="f2fs_8h_html_a5179d16f4e2ef6280fcf8a4940622d1c"><div class="ttname"><a href="f2fs_8h.html#a5179d16f4e2ef6280fcf8a4940622d1c">is_checkpointed_node</a></div><div class="ttdeci">bool is_checkpointed_node(struct f2fs_sb_info *sbi, nid_t nid)</div><div class="ttdef"><b>Definition:</b> node.c:280</div></div>
<div class="ttc" id="f2fs_8h_html_a8782344e8f8af817e5071e9de33381ae"><div class="ttname"><a href="f2fs_8h.html#a8782344e8f8af817e5071e9de33381ae">f2fs_trim_fs</a></div><div class="ttdeci">int f2fs_trim_fs(struct f2fs_sb_info *sbi, struct fstrim_range *range)</div><div class="ttdef"><b>Definition:</b> segment.c:2376</div></div>
<div class="ttc" id="f2fs_8h_html_a167d73c6ce47fd8c77882d7526aa16cd"><div class="ttname"><a href="f2fs_8h.html#a167d73c6ce47fd8c77882d7526aa16cd">__lookup_rb_tree_for_insert</a></div><div class="ttdeci">struct rb_node ** __lookup_rb_tree_for_insert(struct f2fs_sb_info *sbi, struct rb_root *root, struct rb_node **parent, unsigned int ofs)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:64</div></div>
<div class="ttc" id="f2fs_8h_html_afb69b10bfdf798bf07021b98b129b5aa"><div class="ttname"><a href="f2fs_8h.html#afb69b10bfdf798bf07021b98b129b5aa">f2fs_is_first_block_written</a></div><div class="ttdeci">static bool f2fs_is_first_block_written(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2421</div></div>
<div class="ttc" id="structextent__info_html_a9842aa2d599b0ab56558ffe7eec79ab4"><div class="ttname"><a href="structextent__info.html#a9842aa2d599b0ab56558ffe7eec79ab4">extent_info::blk</a></div><div class="ttdeci">u32 blk</div><div class="ttdef"><b>Definition:</b> f2fs.h:534</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424aac2ab48aef17455eab9c4228b19cbde7">F2FS_DIRTY_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:912</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a7465e210af93c2455635f7f9021879d5"><div class="ttname"><a href="structf2fs__sb__info.html#a7465e210af93c2455635f7f9021879d5">f2fs_sb_info::s_flag</a></div><div class="ttdeci">unsigned long s_flag</div><div class="ttdef"><b>Definition:</b> f2fs.h:1098</div></div>
<div class="ttc" id="f2fs_8h_html_a14cc06f196883edab22c038d41a7048b"><div class="ttname"><a href="f2fs_8h.html#a14cc06f196883edab22c038d41a7048b">f2fs_register_sysfs</a></div><div class="ttdeci">int f2fs_register_sysfs(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> sysfs.c:619</div></div>
<div class="ttc" id="f2fs_8h_html_a7adf17ecc9a01ec844821102053c6f5e"><div class="ttname"><a href="f2fs_8h.html#a7adf17ecc9a01ec844821102053c6f5e">dec_valid_inode_count</a></div><div class="ttdeci">static void dec_valid_inode_count(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1937</div></div>
<div class="ttc" id="f2fs_8h_html_ad9a5b33dafc33a26929ac177b964d4ab"><div class="ttname"><a href="f2fs_8h.html#ad9a5b33dafc33a26929ac177b964d4ab">fmt</a></div><div class="ttdeci">const char const char * fmt</div><div class="ttdef"><b>Definition:</b> f2fs.h:2708</div></div>
<div class="ttc" id="structf2fs__sb__info_html_af5a896a18cc17418fba8c838830dd1e3"><div class="ttname"><a href="structf2fs__sb__info.html#af5a896a18cc17418fba8c838830dd1e3">f2fs_sb_info::total_zombie_tree</a></div><div class="ttdeci">atomic_t total_zombie_tree</div><div class="ttdef"><b>Definition:</b> f2fs.h:1147</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a18b4375600b6a46492c69303bb8d6fe6"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a18b4375600b6a46492c69303bb8d6fe6">FI_ATOMIC_COMMIT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2191</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ab457eb0538b700e1279fc1b256fffeec"><div class="ttname"><a href="structf2fs__sb__info.html#ab457eb0538b700e1279fc1b256fffeec">f2fs_sb_info::total_ext_node</a></div><div class="ttdeci">atomic_t total_ext_node</div><div class="ttdef"><b>Definition:</b> f2fs.h:1148</div></div>
<div class="ttc" id="structdiscard__policy_html_ae0f8fca1187b6962309c9d71f01db29b"><div class="ttname"><a href="structdiscard__policy.html#ae0f8fca1187b6962309c9d71f01db29b">discard_policy::granularity</a></div><div class="ttdeci">unsigned int granularity</div><div class="ttdef"><b>Definition:</b> f2fs.h:293</div></div>
<div class="ttc" id="f2fs_8h_html_ae0b20ece38adaf33884a607729176a80"><div class="ttname"><a href="f2fs_8h.html#ae0b20ece38adaf33884a607729176a80">f2fs_i_depth_write</a></div><div class="ttdeci">static void f2fs_i_depth_write(struct inode *inode, unsigned int depth)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2293</div></div>
<div class="ttc" id="f2fs_8h_html_aade72d8e34a62e274b5e97dd95cbd1ba"><div class="ttname"><a href="f2fs_8h.html#aade72d8e34a62e274b5e97dd95cbd1ba">offset_in_addr</a></div><div class="ttdeci">static int offset_in_addr(struct f2fs_inode *i)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2065</div></div>
<div class="ttc" id="f2fs_8h_html_a44f7d38d1afd4249ceb9ff495c3ef7a6"><div class="ttname"><a href="f2fs_8h.html#a44f7d38d1afd4249ceb9ff495c3ef7a6">f2fs_pagecache_get_page</a></div><div class="ttdeci">static struct page * f2fs_pagecache_get_page(struct address_space *mapping, pgoff_t index, int fgp_flags, gfp_t gfp_mask)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1966</div></div>
<div class="ttc" id="f2fs_8h_html_a252581ebfb2c49bdef53a4788b9e1924"><div class="ttname"><a href="f2fs_8h.html#a252581ebfb2c49bdef53a4788b9e1924">f2fs_iget</a></div><div class="ttdeci">struct inode * f2fs_iget(struct super_block *sb, unsigned long ino)</div><div class="ttdef"><b>Definition:</b> inode.c:300</div></div>
<div class="ttc" id="structdiscard__cmd__control_html_ad5f480d70ca1bd249d44923f1b8b183d"><div class="ttname"><a href="structdiscard__cmd__control.html#ad5f480d70ca1bd249d44923f1b8b183d">discard_cmd_control::issing_discard</a></div><div class="ttdeci">atomic_t issing_discard</div><div class="ttdef"><b>Definition:</b> f2fs.h:310</div></div>
<div class="ttc" id="f2fs_8h_html_a8519ed4a7ad303d626d8724becfba5e1"><div class="ttname"><a href="f2fs_8h.html#a8519ed4a7ad303d626d8724becfba5e1">f2fs_test_bit</a></div><div class="ttdeci">static int f2fs_test_bit(unsigned int nr, char *addr)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2099</div></div>
<div class="ttc" id="structdiscard__cmd__control_html"><div class="ttname"><a href="structdiscard__cmd__control.html">discard_cmd_control</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:296</div></div>
<div class="ttc" id="f2fs_8h_html_a684c192557b05a6dea8c7366e7ae7cb6"><div class="ttname"><a href="f2fs_8h.html#a684c192557b05a6dea8c7366e7ae7cb6">block_t</a></div><div class="ttdeci">u32 block_t</div><div class="ttdef"><b>Definition:</b> f2fs.h:110</div></div>
<div class="ttc" id="f2fs_8h_html_a70b6654cf84630d558a00a42c3de958c"><div class="ttname"><a href="f2fs_8h.html#a70b6654cf84630d558a00a42c3de958c">release_orphan_inode</a></div><div class="ttdeci">void release_orphan_inode(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:545</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a4faa7c7c2e4c4801dbd2772b4e2acfd7"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a4faa7c7c2e4c4801dbd2772b4e2acfd7">F2FS_DIRTY_META</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:915</div></div>
<div class="ttc" id="structdiscard__entry_html"><div class="ttname"><a href="structdiscard__entry.html">discard_entry</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:232</div></div>
<div class="ttc" id="structdiscard__policy_html_a85fb42e3fa753187b4df1850c729f335"><div class="ttname"><a href="structdiscard__policy.html#a85fb42e3fa753187b4df1850c729f335">discard_policy::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> f2fs.h:286</div></div>
<div class="ttc" id="f2fs_8h_html_a7e72ebf903ee70d8dbbfa438ac05aba8"><div class="ttname"><a href="f2fs_8h.html#a7e72ebf903ee70d8dbbfa438ac05aba8">f2fs_balance_fs</a></div><div class="ttdeci">void f2fs_balance_fs(struct f2fs_sb_info *sbi, bool need)</div><div class="ttdef"><b>Definition:</b> segment.c:456</div></div>
<div class="ttc" id="f2fs_8h_html_a5c1324270bc61d53ab8699dce160c2e0"><div class="ttname"><a href="f2fs_8h.html#a5c1324270bc61d53ab8699dce160c2e0">f2fs_sync_inode_meta</a></div><div class="ttdeci">int f2fs_sync_inode_meta(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:995</div></div>
<div class="ttc" id="structdiscard__policy_html_a80831264e8ce5f353a987afd694fedf8"><div class="ttname"><a href="structdiscard__policy.html#a80831264e8ce5f353a987afd694fedf8">discard_policy::max_requests</a></div><div class="ttdeci">unsigned int max_requests</div><div class="ttdef"><b>Definition:</b> f2fs.h:289</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a0d90a7c0e6026d60db465b98a2213a7f"><div class="ttname"><a href="structf2fs__sb__info.html#a0d90a7c0e6026d60db465b98a2213a7f">f2fs_sb_info::total_valid_block_count</a></div><div class="ttdeci">block_t total_valid_block_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1170</div></div>
<div class="ttc" id="f2fs_8h_html_a0629380a08ae644943b105080e04f9bf"><div class="ttname"><a href="f2fs_8h.html#a0629380a08ae644943b105080e04f9bf">CP_FASTBOOT</a></div><div class="ttdeci">#define CP_FASTBOOT</div><div class="ttdef"><b>Definition:</b> f2fs.h:173</div></div>
<div class="ttc" id="f2fs_8h_html_a5e5a7af5a4dc3c84a46515ec1dcbf51b"><div class="ttname"><a href="f2fs_8h.html#a5e5a7af5a4dc3c84a46515ec1dcbf51b">F2FS_NODE</a></div><div class="ttdeci">static struct f2fs_node * F2FS_NODE(struct page *page)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1393</div></div>
<div class="ttc" id="f2fs_8h_html_af633eccb05dce1e76cd98b26d18a3e6b"><div class="ttname"><a href="f2fs_8h.html#af633eccb05dce1e76cd98b26d18a3e6b">DEF_INLINE_RESERVED_SIZE</a></div><div class="ttdeci">#define DEF_INLINE_RESERVED_SIZE</div><div class="ttdef"><b>Definition:</b> f2fs.h:436</div></div>
<div class="ttc" id="f2fs_8h_html_aab8e501a500e723cf611b0d816e9d6a1"><div class="ttname"><a href="f2fs_8h.html#aab8e501a500e723cf611b0d816e9d6a1">NODE_MAPPING</a></div><div class="ttdeci">static struct address_space * NODE_MAPPING(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1433</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ae0234fa6f9c7536dbb2a00503bd382a8"><div class="ttname"><a href="structf2fs__sb__info.html#ae0234fa6f9c7536dbb2a00503bd382a8">f2fs_sb_info::sectors_written_start</a></div><div class="ttdeci">u64 sectors_written_start</div><div class="ttdef"><b>Definition:</b> f2fs.h:1251</div></div>
<div class="ttc" id="f2fs_8h_html_a3935311b8e9110f59f2b695442732bbda36cf132dc4befa1c8aea6565263a0c5c"><div class="ttname"><a href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbda36cf132dc4befa1c8aea6565263a0c5c">FREE_NID</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:745</div></div>
<div class="ttc" id="f2fs_8h_html_add97bd6256bc00725dbc42cf9c455a3c"><div class="ttname"><a href="f2fs_8h.html#add97bd6256bc00725dbc42cf9c455a3c">f2fs_unregister_sysfs</a></div><div class="ttdeci">void f2fs_unregister_sysfs(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> sysfs.c:645</div></div>
<div class="ttc" id="f2fs_8h_html_ab7e9d42ecf4d76a02fe770db2da47914"><div class="ttname"><a href="f2fs_8h.html#ab7e9d42ecf4d76a02fe770db2da47914">drop_inmem_pages</a></div><div class="ttdeci">void drop_inmem_pages(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> segment.c:298</div></div>
<div class="ttc" id="f2fs_8h_html_a515399683ac1b71dbf73601811a79197a0400429c02b41e568eb9cc5a7508b105"><div class="ttname"><a href="f2fs_8h.html#a515399683ac1b71dbf73601811a79197a0400429c02b41e568eb9cc5a7508b105">CP_SB_NEED_CP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:966</div></div>
<div class="ttc" id="f2fs_8h_html_a3935311b8e9110f59f2b695442732bbd"><div class="ttname"><a href="f2fs_8h.html#a3935311b8e9110f59f2b695442732bbd">nid_state</a></div><div class="ttdeci">nid_state</div><div class="ttdef"><b>Definition:</b> f2fs.h:744</div></div>
<div class="ttc" id="f2fs_8h_html_a590b92b30ad66e46f87851c45798a471"><div class="ttname"><a href="f2fs_8h.html#a590b92b30ad66e46f87851c45798a471">update_nats_in_cursum</a></div><div class="ttdeci">static int update_nats_in_cursum(struct f2fs_journal *journal, int i)</div><div class="ttdef"><b>Definition:</b> f2fs.h:334</div></div>
<div class="ttc" id="f2fs_8h_html_a13e7831bc2059e88271f48bc5bb8e384"><div class="ttname"><a href="f2fs_8h.html#a13e7831bc2059e88271f48bc5bb8e384">register_inmem_page</a></div><div class="ttdeci">void register_inmem_page(struct inode *inode, struct page *page)</div><div class="ttdef"><b>Definition:</b> segment.c:187</div></div>
<div class="ttc" id="structdiscard__policy_html_a2f3efd50edf1b8da83af2234039b397f"><div class="ttname"><a href="structdiscard__policy.html#a2f3efd50edf1b8da83af2234039b397f">discard_policy::sync</a></div><div class="ttdeci">bool sync</div><div class="ttdef"><b>Definition:</b> f2fs.h:292</div></div>
<div class="ttc" id="f2fs_8h_html_a405daec5283c22abbde19ff03b4fe9e4"><div class="ttname"><a href="f2fs_8h.html#a405daec5283c22abbde19ff03b4fe9e4">f2fs_leave_shrinker</a></div><div class="ttdeci">void f2fs_leave_shrinker(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> shrinker.c:136</div></div>
<div class="ttc" id="structf2fs__mount__info_html_aaec9c2c36f19c57eca27fcf020899fa8"><div class="ttname"><a href="structf2fs__mount__info.html#aaec9c2c36f19c57eca27fcf020899fa8">f2fs_mount_info::inline_xattr_size</a></div><div class="ttdeci">int inline_xattr_size</div><div class="ttdef"><b>Definition:</b> f2fs.h:123</div></div>
<div class="ttc" id="f2fs_8h_html_ac754a910f96b4c5d4c484b22a27f7eee"><div class="ttname"><a href="f2fs_8h.html#ac754a910f96b4c5d4c484b22a27f7eee">f2fs_lookup_extent_cache</a></div><div class="ttdeci">bool f2fs_lookup_extent_cache(struct inode *inode, pgoff_t pgofs, struct extent_info *ei)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:754</div></div>
<div class="ttc" id="f2fs_8h_html_ad86f292f3c5afc397a113b5ef660f96f"><div class="ttname"><a href="f2fs_8h.html#ad86f292f3c5afc397a113b5ef660f96f">__is_back_mergeable</a></div><div class="ttdeci">static bool __is_back_mergeable(struct extent_info *cur, struct extent_info *back)</div><div class="ttdef"><b>Definition:</b> f2fs.h:719</div></div>
<div class="ttc" id="f2fs_8h_html_ab301012520a223edda12de0f2e51ca09"><div class="ttname"><a href="f2fs_8h.html#ab301012520a223edda12de0f2e51ca09">f2fs_setattr</a></div><div class="ttdeci">int f2fs_setattr(struct dentry *dentry, struct iattr *attr)</div><div class="ttdef"><b>Definition:</b> file.c:747</div></div>
<div class="ttc" id="structflush__cmd_html_a94867cea3edc229b96080b3b1f0df904"><div class="ttname"><a href="structflush__cmd.html#a94867cea3edc229b96080b3b1f0df904">flush_cmd::ret</a></div><div class="ttdeci">int ret</div><div class="ttdef"><b>Definition:</b> f2fs.h:850</div></div>
<div class="ttc" id="f2fs_8h_html_a28fa3131283f12d146aa851cdc6f2ac8"><div class="ttname"><a href="f2fs_8h.html#a28fa3131283f12d146aa851cdc6f2ac8">F2FS_MOUNT_LFS</a></div><div class="ttdeci">#define F2FS_MOUNT_LFS</div><div class="ttdef"><b>Definition:</b> f2fs.h:93</div></div>
<div class="ttc" id="structf2fs__sb__info_html_abb571059e1535155c93cb116769e293f"><div class="ttname"><a href="structf2fs__sb__info.html#abb571059e1535155c93cb116769e293f">f2fs_sb_info::max_orphans</a></div><div class="ttdeci">unsigned int max_orphans</div><div class="ttdef"><b>Definition:</b> f2fs.h:1134</div></div>
<div class="ttc" id="f2fs_8h_html_af43ff16f1b0adf15b4129e017b1ec82c"><div class="ttname"><a href="f2fs_8h.html#af43ff16f1b0adf15b4129e017b1ec82c">f2fs_crc_valid</a></div><div class="ttdeci">static bool f2fs_crc_valid(struct f2fs_sb_info *sbi, __u32 blk_crc, void *buf, size_t buf_size)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1346</div></div>
<div class="ttc" id="f2fs_8h_html_aace4fcf4e196dd09d23b1d51a93959d5"><div class="ttname"><a href="f2fs_8h.html#aace4fcf4e196dd09d23b1d51a93959d5">stop_discard_thread</a></div><div class="ttdeci">void stop_discard_thread(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> segment.c:1361</div></div>
<div class="ttc" id="structf2fs__nm__info_html_ad967c3a0a5bdd8a63ead419792d99307"><div class="ttname"><a href="structf2fs__nm__info.html#ad967c3a0a5bdd8a63ead419792d99307">f2fs_nm_info::nat_blocks</a></div><div class="ttdeci">unsigned int nat_blocks</div><div class="ttdef"><b>Definition:</b> f2fs.h:766</div></div>
<div class="ttc" id="f2fs_8h_html_a1b311f9398d72f3b9ba540f7acf8e9cb"><div class="ttname"><a href="f2fs_8h.html#a1b311f9398d72f3b9ba540f7acf8e9cb">F2FS_I</a></div><div class="ttdeci">static struct f2fs_inode_info * F2FS_I(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1358</div></div>
<div class="ttc" id="f2fs_8h_html_ae400ec43639fb92623e49196f678fadd"><div class="ttname"><a href="f2fs_8h.html#ae400ec43639fb92623e49196f678fadd">f2fs_replace_block</a></div><div class="ttdeci">void f2fs_replace_block(struct f2fs_sb_info *sbi, struct dnode_of_data *dn, block_t old_addr, block_t new_addr, unsigned char version, bool recover_curseg, bool recover_newaddr)</div><div class="ttdef"><b>Definition:</b> segment.c:2901</div></div>
<div class="ttc" id="hostfs__kern_8c_html_a3c5ac6221cba783e9289745d671dfab4"><div class="ttname"><a href="hostfs__kern_8c.html#a3c5ac6221cba783e9289745d671dfab4">append</a></div><div class="ttdeci">static int append</div><div class="ttdef"><b>Definition:</b> hostfs_kern.c:39</div></div>
<div class="ttc" id="f2fs_8h_html_aac70af5a420dc166017e4c9301b7e96f"><div class="ttname"><a href="f2fs_8h.html#aac70af5a420dc166017e4c9301b7e96f">f2fs_shrink_scan</a></div><div class="ttdeci">unsigned long f2fs_shrink_scan(struct shrinker *shrink, struct shrink_control *sc)</div><div class="ttdef"><b>Definition:</b> shrinker.c:78</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ae943fb2f01c0965818009346b4ad0439"><div class="ttname"><a href="structf2fs__sb__info.html#ae943fb2f01c0965818009346b4ad0439">f2fs_sb_info::s_next_generation</a></div><div class="ttdeci">u32 s_next_generation</div><div class="ttdef"><b>Definition:</b> f2fs.h:1178</div></div>
<div class="ttc" id="f2fs_8h_html_a3143b57146ef21ea3727156d369558f2a116b7c983201e95554b603db9b75c22f"><div class="ttname"><a href="f2fs_8h.html#a3143b57146ef21ea3727156d369558f2a116b7c983201e95554b603db9b75c22f">ALLOC_MODE_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1076</div></div>
<div class="ttc" id="f2fs_8h_html_ad4491fc93d930e858b58e52ac3cf9999"><div class="ttname"><a href="f2fs_8h.html#ad4491fc93d930e858b58e52ac3cf9999">RAW_IS_INODE</a></div><div class="ttdeci">#define RAW_IS_INODE(p)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2056</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a9d40503ab6e50146a76bd02988ee88ff"><div class="ttname"><a href="structf2fs__inode__info.html#a9d40503ab6e50146a76bd02988ee88ff">f2fs_inode_info::last_disk_size</a></div><div class="ttdeci">loff_t last_disk_size</div><div class="ttdef"><b>Definition:</b> f2fs.h:644</div></div>
<div class="ttc" id="f2fs_8h_html_a0300f259f6ef1c0646108cc18420717a"><div class="ttname"><a href="f2fs_8h.html#a0300f259f6ef1c0646108cc18420717a">f2fs_read_inline_dir</a></div><div class="ttdeci">int f2fs_read_inline_dir(struct file *file, struct dir_context *ctx, struct fscrypt_str *fstr)</div><div class="ttdef"><b>Definition:</b> inline.c:619</div></div>
<div class="ttc" id="structf2fs__io__info_html_a89ef0f1400f48950b2e9303549d7c83e"><div class="ttname"><a href="structf2fs__io__info.html#a89ef0f1400f48950b2e9303549d7c83e">f2fs_io_info::old_blkaddr</a></div><div class="ttdeci">block_t old_blkaddr</div><div class="ttdef"><b>Definition:</b> f2fs.h:1000</div></div>
<div class="ttc" id="structextent__node_html_ab43808308c691f2f4da70c3487a44455"><div class="ttname"><a href="structextent__node.html#ab43808308c691f2f4da70c3487a44455">extent_node::fofs</a></div><div class="ttdeci">unsigned int fofs</div><div class="ttdef"><b>Definition:</b> f2fs.h:541</div></div>
<div class="ttc" id="f2fs_8h_html_a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306"><div class="ttname"><a href="f2fs_8h.html#a4414c7c35dd4ea7065ebe04c3cbbd9e9a5b2fd88d18a5a3f96a881009adf7c306">FI_INLINE_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:2185</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a1e200b1505c80587e22277036d58906f"><div class="ttname"><a href="structf2fs__sb__info.html#a1e200b1505c80587e22277036d58906f">f2fs_sb_info::shrinker_run_no</a></div><div class="ttdeci">unsigned int shrinker_run_no</div><div class="ttdef"><b>Definition:</b> f2fs.h:1248</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a9adc45be3507ede95cb1d49345645974"><div class="ttname"><a href="structf2fs__nm__info.html#a9adc45be3507ede95cb1d49345645974">f2fs_nm_info::max_nid</a></div><div class="ttdeci">nid_t max_nid</div><div class="ttdef"><b>Definition:</b> f2fs.h:752</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a62d36adec2b1c5a1fb63082630213002"><div class="ttname"><a href="structf2fs__sb__info.html#a62d36adec2b1c5a1fb63082630213002">f2fs_sb_info::s_chksum_seed</a></div><div class="ttdeci">__u32 s_chksum_seed</div><div class="ttdef"><b>Definition:</b> f2fs.h:1258</div></div>
<div class="ttc" id="structf2fs__io__info_html_a8bf9eadd1f1f6ab4e88459e9b90fd4b0"><div class="ttname"><a href="structf2fs__io__info.html#a8bf9eadd1f1f6ab4e88459e9b90fd4b0">f2fs_io_info::submitted</a></div><div class="ttdeci">bool submitted</div><div class="ttdef"><b>Definition:</b> f2fs.h:1004</div></div>
<div class="ttc" id="f2fs_8h_html_a16db4876b192da08f3ad0cb41afe516fa65572f623b9279e639abe6f222c9aabd"><div class="ttname"><a href="f2fs_8h.html#a16db4876b192da08f3ad0cb41afe516fa65572f623b9279e639abe6f222c9aabd">CURSEG_HOT_DATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:837</div></div>
<div class="ttc" id="f2fs_8h_html_a319d524aadad53dcd886c2bba304ded4a72bf34b9e7b1dff38e6d2127028bb381"><div class="ttname"><a href="f2fs_8h.html#a319d524aadad53dcd886c2bba304ded4a72bf34b9e7b1dff38e6d2127028bb381">REQ_TIME</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1065</div></div>
<div class="ttc" id="structflags_html"><div class="ttname"><a href="structflags.html">flags</a></div><div class="ttdef"><b>Definition:</b> export.c:1089</div></div>
<div class="ttc" id="structf2fs__mount__info_html_a992f014e9504c64d0d7340deb8c369d5"><div class="ttname"><a href="structf2fs__mount__info.html#a992f014e9504c64d0d7340deb8c369d5">f2fs_mount_info::whint_mode</a></div><div class="ttdeci">int whint_mode</div><div class="ttdef"><b>Definition:</b> f2fs.h:133</div></div>
<div class="ttc" id="structf2fs__sm__info_html_a89e0e4d4fecc561f50cb92ac5f836b21"><div class="ttname"><a href="structf2fs__sm__info.html#a89e0e4d4fecc561f50cb92ac5f836b21">f2fs_sm_info::ipu_policy</a></div><div class="ttdeci">unsigned int ipu_policy</div><div class="ttdef"><b>Definition:</b> f2fs.h:887</div></div>
<div class="ttc" id="structdnode__of__data_html_a7b991e19574d66e8fab6b87995af83ca"><div class="ttname"><a href="structdnode__of__data.html#a7b991e19574d66e8fab6b87995af83ca">dnode_of_data::max_level</a></div><div class="ttdeci">char max_level</div><div class="ttdef"><b>Definition:</b> f2fs.h:805</div></div>
<div class="ttc" id="f2fs_8h_html_a441c033e3d3f086db9e3901c0d66bd3dad62de1ca5b8862f924dad7a3d27b096c"><div class="ttname"><a href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3dad62de1ca5b8862f924dad7a3d27b096c">ORPHAN_INO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:211</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a22f26cd1994b04e586c6690d34d3c8cb"><div class="ttname"><a href="structf2fs__sb__info.html#a22f26cd1994b04e586c6690d34d3c8cb">f2fs_sb_info::dir_level</a></div><div class="ttdeci">int dir_level</div><div class="ttdef"><b>Definition:</b> f2fs.h:1165</div></div>
<div class="ttc" id="f2fs_8h_html_a0233fb27dc3ca25611a05d87ecec1fdc"><div class="ttname"><a href="f2fs_8h.html#a0233fb27dc3ca25611a05d87ecec1fdc">is_sbi_flag_set</a></div><div class="ttdeci">static bool is_sbi_flag_set(struct f2fs_sb_info *sbi, unsigned int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1438</div></div>
<div class="ttc" id="structf2fs__bio__info_html_a78509296db0db7feb40ab55be62dea40"><div class="ttname"><a href="structf2fs__bio__info.html#a78509296db0db7feb40ab55be62dea40">f2fs_bio_info::bio</a></div><div class="ttdeci">struct bio * bio</div><div class="ttdef"><b>Definition:</b> f2fs.h:1015</div></div>
<div class="ttc" id="f2fs_8h_html_ac01cacf1b2fc97164d075118ca94626b"><div class="ttname"><a href="f2fs_8h.html#ac01cacf1b2fc97164d075118ca94626b">f2fs_inode_chksum_verify</a></div><div class="ttdeci">bool f2fs_inode_chksum_verify(struct f2fs_sb_info *sbi, struct page *page)</div><div class="ttdef"><b>Definition:</b> inode.c:157</div></div>
<div class="ttc" id="f2fs_8h_html_ab1e22e9076986e6758f425e0c6a0fae3"><div class="ttname"><a href="f2fs_8h.html#ab1e22e9076986e6758f425e0c6a0fae3">clear_sbi_flag</a></div><div class="ttdeci">static void clear_sbi_flag(struct f2fs_sb_info *sbi, unsigned int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1448</div></div>
<div class="ttc" id="f2fs_8h_html_a54645832e1fd3f38aaf5ac2e05fa78c0"><div class="ttname"><a href="f2fs_8h.html#a54645832e1fd3f38aaf5ac2e05fa78c0">f2fs_time_over</a></div><div class="ttdeci">static bool f2fs_time_over(struct f2fs_sb_info *sbi, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1297</div></div>
<div class="ttc" id="f2fs_8h_html_a95a550e09ea2f05ff64b48bc404997bd"><div class="ttname"><a href="f2fs_8h.html#a95a550e09ea2f05ff64b48bc404997bd">MAX_PLIST_NUM</a></div><div class="ttdeci">#define MAX_PLIST_NUM</div><div class="ttdef"><b>Definition:</b> f2fs.h:242</div></div>
<div class="ttc" id="f2fs_8h_html_a258235cb40452f0804a6c44880f59b6f"><div class="ttname"><a href="f2fs_8h.html#a258235cb40452f0804a6c44880f59b6f">f2fs_target_device</a></div><div class="ttdeci">struct block_device * f2fs_target_device(struct f2fs_sb_info *sbi, block_t blk_addr, struct bio *bio)</div><div class="ttdef"><b>Definition:</b> data.c:135</div></div>
<div class="ttc" id="f2fs_8h_html_ae4de0963f09032fa2533d8d3910e05b2"><div class="ttname"><a href="f2fs_8h.html#ae4de0963f09032fa2533d8d3910e05b2">sync_node_pages</a></div><div class="ttdeci">int sync_node_pages(struct f2fs_sb_info *sbi, struct writeback_control *wbc, bool do_balance, enum iostat_type io_type)</div><div class="ttdef"><b>Definition:</b> node.c:1583</div></div>
<div class="ttc" id="f2fs_8h_html_a90e73eae5c0a8b798ffb3be5a2df08c6"><div class="ttname"><a href="f2fs_8h.html#a90e73eae5c0a8b798ffb3be5a2df08c6">page_type</a></div><div class="ttdeci">page_type</div><div class="ttdef"><b>Definition:</b> f2fs.h:935</div></div>
<div class="ttc" id="f2fs_8h_html_ab773234c2145985622656547fcb8a397"><div class="ttname"><a href="f2fs_8h.html#ab773234c2145985622656547fcb8a397">__is_front_mergeable</a></div><div class="ttdeci">static bool __is_front_mergeable(struct extent_info *cur, struct extent_info *front)</div><div class="ttdef"><b>Definition:</b> f2fs.h:725</div></div>
<div class="ttc" id="f2fs_8h_html_a8e5896a368db831ffefba816044d81cc"><div class="ttname"><a href="f2fs_8h.html#a8e5896a368db831ffefba816044d81cc">f2fs_add_inline_entry</a></div><div class="ttdeci">int f2fs_add_inline_entry(struct inode *dir, const struct qstr *new_name, const struct qstr *orig_name, struct inode *inode, nid_t ino, umode_t mode)</div><div class="ttdef"><b>Definition:</b> inline.c:503</div></div>
<div class="ttc" id="structf2fs__map__blocks_html"><div class="ttname"><a href="structf2fs__map__blocks.html">f2fs_map_blocks</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:573</div></div>
<div class="ttc" id="structf2fs__defragment_html_ad8d635af9937a6d9ddab468f88fc107a"><div class="ttname"><a href="structf2fs__defragment.html#ad8d635af9937a6d9ddab468f88fc107a">f2fs_defragment::len</a></div><div class="ttdeci">u64 len</div><div class="ttdef"><b>Definition:</b> f2fs.h:420</div></div>
<div class="ttc" id="f2fs_8h_html_a24b85bd6c5522c8e5a6532460041df74"><div class="ttname"><a href="f2fs_8h.html#a24b85bd6c5522c8e5a6532460041df74">get_meta_page</a></div><div class="ttdeci">struct page * get_meta_page(struct f2fs_sb_info *sbi, pgoff_t index)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:109</div></div>
<div class="ttc" id="f2fs_8h_html_a337d6b8d9f9cc2b4d207e433a70d3987ac88a740b809f78cadda005ae79fec266"><div class="ttname"><a href="f2fs_8h.html#a337d6b8d9f9cc2b4d207e433a70d3987ac88a740b809f78cadda005ae79fec266">META_CP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:202</div></div>
<div class="ttc" id="structdnode__of__data_html_a22f2724de38d4d420ee038a103dec2aa"><div class="ttname"><a href="structdnode__of__data.html#a22f2724de38d4d420ee038a103dec2aa">dnode_of_data::node_changed</a></div><div class="ttdeci">bool node_changed</div><div class="ttdef"><b>Definition:</b> f2fs.h:803</div></div>
<div class="ttc" id="f2fs_8h_html_a25efe5cf6ef401e587f2b25a25f4a351a6b6d3fca1fc11eb8dd155a435fcab596"><div class="ttname"><a href="f2fs_8h.html#a25efe5cf6ef401e587f2b25a25f4a351a6b6d3fca1fc11eb8dd155a435fcab596">LOCK_DONE</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:958</div></div>
<div class="ttc" id="f2fs_8h_html_a20cafa430a9e29dbcab90c7e9cc594f5"><div class="ttname"><a href="f2fs_8h.html#a20cafa430a9e29dbcab90c7e9cc594f5">is_dirty_device</a></div><div class="ttdeci">bool is_dirty_device(struct f2fs_sb_info *sbi, nid_t ino, unsigned int devidx, int type)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:507</div></div>
<div class="ttc" id="f2fs_8h_html_ac7cd1e383c42adc1ef540a363a67ff5a"><div class="ttname"><a href="f2fs_8h.html#ac7cd1e383c42adc1ef540a363a67ff5a">f2fs_shrink_extent_tree</a></div><div class="ttdeci">unsigned int f2fs_shrink_extent_tree(struct f2fs_sb_info *sbi, int nr_shrink)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:612</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a51e38099013519d11b8fc26fbc59e8b8"><div class="ttname"><a href="structf2fs__sb__info.html#a51e38099013519d11b8fc26fbc59e8b8">f2fs_sb_info::max_victim_search</a></div><div class="ttdeci">unsigned int max_victim_search</div><div class="ttdef"><b>Definition:</b> f2fs.h:1205</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a3aec0da494d4430c4e049e175511575e"><div class="ttname"><a href="structf2fs__sb__info.html#a3aec0da494d4430c4e049e175511575e">f2fs_sb_info::root_ino_num</a></div><div class="ttdeci">unsigned int root_ino_num</div><div class="ttdef"><b>Definition:</b> f2fs.h:1154</div></div>
<div class="ttc" id="f2fs_8h_html_a97f52f690b9e24fe918bab5c05c0ce0d"><div class="ttname"><a href="f2fs_8h.html#a97f52f690b9e24fe918bab5c05c0ce0d">__is_discard_front_mergeable</a></div><div class="ttdeci">static bool __is_discard_front_mergeable(struct discard_info *cur, struct discard_info *front)</div><div class="ttdef"><b>Definition:</b> f2fs.h:706</div></div>
<div class="ttc" id="f2fs_8h_html_a360118970fdb642d047f454301cd3190"><div class="ttname"><a href="f2fs_8h.html#a360118970fdb642d047f454301cd3190">f2fs_bug_on</a></div><div class="ttdeci">#define f2fs_bug_on(sbi, condition)</div><div class="ttdef"><b>Definition:</b> f2fs.h:35</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424a148251429296e93142e91a0fa0f2145b"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424a148251429296e93142e91a0fa0f2145b">F2FS_DIRTY_NODES</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:914</div></div>
<div class="ttc" id="cifspdu_8h_html_a7e28d0d49fe972b6aea4a399c7bc0cb0"><div class="ttname"><a href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a></div><div class="ttdeci">struct gea list[1]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="f2fs_8h_html_a6f783ca2aa99cafbbd2d037b018a1c96"><div class="ttname"><a href="f2fs_8h.html#a6f783ca2aa99cafbbd2d037b018a1c96">f2fs_may_inline_data</a></div><div class="ttdeci">bool f2fs_may_inline_data(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inline.c:17</div></div>
<div class="ttc" id="f2fs_8h_html_a0e96acf73ec595679ffcca6fecc4d705aaddd48f4e938f547289830f925ef0c31"><div class="ttname"><a href="f2fs_8h.html#a0e96acf73ec595679ffcca6fecc4d705aaddd48f4e938f547289830f925ef0c31">DPOLICY_UMOUNT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:281</div></div>
<div class="ttc" id="f2fs_8h_html_a47b6613afe5d00de8205bd048875e951"><div class="ttname"><a href="f2fs_8h.html#a47b6613afe5d00de8205bd048875e951">SIT_I</a></div><div class="ttdeci">static struct sit_info * SIT_I(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1413</div></div>
<div class="ttc" id="f2fs_8h_html_af0ed360978707802cc54b1d560ff5d74"><div class="ttname"><a href="f2fs_8h.html#af0ed360978707802cc54b1d560ff5d74">clear_file</a></div><div class="ttdeci">static void clear_file(struct inode *inode, int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2455</div></div>
<div class="ttc" id="f2fs_8h_html_ac48b4ffc6c138707353b637589e571fe"><div class="ttname"><a href="f2fs_8h.html#ac48b4ffc6c138707353b637589e571fe">f2fs_update_extent_cache</a></div><div class="ttdeci">void f2fs_update_extent_cache(struct dnode_of_data *dn)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:763</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22a05451d22c5173f708a89efd1e10339f3"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22a05451d22c5173f708a89efd1e10339f3">APP_DIRECT_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:976</div></div>
<div class="ttc" id="f2fs_8h_html_ac1351f3e26da80ee24b2888ecc68fca6ae2ad323df22a9d2bf8b5b37e7787369f"><div class="ttname"><a href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6ae2ad323df22a9d2bf8b5b37e7787369f">F2FS_GET_BLOCK_PRE_DIO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:588</div></div>
<div class="ttc" id="f2fs_8h_html_a9634034db37b4ce9afada2e88ed8dd20"><div class="ttname"><a href="f2fs_8h.html#a9634034db37b4ce9afada2e88ed8dd20">f2fs_iget_retry</a></div><div class="ttdeci">struct inode * f2fs_iget_retry(struct super_block *sb, unsigned long ino)</div><div class="ttdef"><b>Definition:</b> inode.c:362</div></div>
<div class="ttc" id="f2fs_8h_html_a2cdfd24554c7f3f0cc5a0cccab495f11"><div class="ttname"><a href="f2fs_8h.html#a2cdfd24554c7f3f0cc5a0cccab495f11">set_sbi_flag</a></div><div class="ttdeci">static void set_sbi_flag(struct f2fs_sb_info *sbi, unsigned int type)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1443</div></div>
<div class="ttc" id="f2fs_8h_html_a4ce7e3551f43e606f345d64705b4a471"><div class="ttname"><a href="f2fs_8h.html#a4ce7e3551f43e606f345d64705b4a471">__f2fs_add_link</a></div><div class="ttdeci">int __f2fs_add_link(struct inode *dir, const struct qstr *name, struct inode *inode, nid_t ino, umode_t mode)</div><div class="ttdef"><b>Definition:</b> dir.c:613</div></div>
<div class="ttc" id="f2fs_8h_html_af4638fbf481af350299ebfccfcd450a7"><div class="ttname"><a href="f2fs_8h.html#af4638fbf481af350299ebfccfcd450a7">f2fs_init_extent_tree</a></div><div class="ttdeci">bool f2fs_init_extent_tree(struct inode *inode, struct f2fs_extent *i_ext)</div><div class="ttdef"><b>Definition:</b> extent_cache.c:361</div></div>
<div class="ttc" id="f2fs_8h_html_a1055bda7415d2d151a1df94d2efd6ccc"><div class="ttname"><a href="f2fs_8h.html#a1055bda7415d2d151a1df94d2efd6ccc">build_node_manager</a></div><div class="ttdeci">int build_node_manager(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> node.c:2757</div></div>
<div class="ttc" id="f2fs_8h_html_a252662788d3e5d67dc40700580047cc9"><div class="ttname"><a href="f2fs_8h.html#a252662788d3e5d67dc40700580047cc9">update_extension_list</a></div><div class="ttdeci">int update_extension_list(struct f2fs_sb_info *sbi, const char *name, bool hot, bool set)</div><div class="ttdef"><b>Definition:</b> namei.c:196</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a801cf7a1a0695524351a52e8d025e6cf"><div class="ttname"><a href="structf2fs__nm__info.html#a801cf7a1a0695524351a52e8d025e6cf">f2fs_nm_info::dirty_nat_cnt</a></div><div class="ttdeci">unsigned int dirty_nat_cnt</div><div class="ttdef"><b>Definition:</b> f2fs.h:765</div></div>
<div class="ttc" id="f2fs_8h_html_a441c033e3d3f086db9e3901c0d66bd3da0f58b8a8629e19f5c2d5438b827823c0"><div class="ttname"><a href="f2fs_8h.html#a441c033e3d3f086db9e3901c0d66bd3da0f58b8a8629e19f5c2d5438b827823c0">APPEND_INO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:212</div></div>
<div class="ttc" id="structino__entry_html_a73bdb06764f94501f82b16f91c9372cf"><div class="ttname"><a href="structino__entry.html#a73bdb06764f94501f82b16f91c9372cf">ino_entry::dirty_device</a></div><div class="ttdeci">unsigned int dirty_device</div><div class="ttdef"><b>Definition:</b> f2fs.h:222</div></div>
<div class="ttc" id="f2fs_8h_html_a1b6805195d08887999e7fd5be949d26a"><div class="ttname"><a href="f2fs_8h.html#a1b6805195d08887999e7fd5be949d26a">disable_nat_bits</a></div><div class="ttdeci">static void disable_nat_bits(struct f2fs_sb_info *sbi, bool lock)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1519</div></div>
<div class="ttc" id="structrb__entry_html_a28bd2ede83747f8030d2bb0e0b4a360c"><div class="ttname"><a href="structrb__entry.html#a28bd2ede83747f8030d2bb0e0b4a360c">rb_entry::len</a></div><div class="ttdeci">unsigned int len</div><div class="ttdef"><b>Definition:</b> f2fs.h:528</div></div>
<div class="ttc" id="f2fs_8h_html_a224ce2f795665ce12f8cd62cd43244cd"><div class="ttname"><a href="f2fs_8h.html#a224ce2f795665ce12f8cd62cd43244cd">f2fs_destroy_root_stats</a></div><div class="ttdeci">static void f2fs_destroy_root_stats(void)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3110</div></div>
<div class="ttc" id="f2fs_8h_html_a115fc7c52e51111d2b8f6a20aa68ce4d"><div class="ttname"><a href="f2fs_8h.html#a115fc7c52e51111d2b8f6a20aa68ce4d">reserve_new_block</a></div><div class="ttdeci">int reserve_new_block(struct dnode_of_data *dn)</div><div class="ttdef"><b>Definition:</b> data.c:597</div></div>
<div class="ttc" id="f2fs_8h_html_adeefd6de7ea8ec94039f3d49afbdf21e"><div class="ttname"><a href="f2fs_8h.html#adeefd6de7ea8ec94039f3d49afbdf21e">update_inode</a></div><div class="ttdeci">void update_inode(struct inode *inode, struct page *node_page)</div><div class="ttdef"><b>Definition:</b> inode.c:376</div></div>
<div class="ttc" id="f2fs_8h_html_a8246e7360341cf479227199635db5424af544ae3d21587331fcbb2ce6662d6dac"><div class="ttname"><a href="f2fs_8h.html#a8246e7360341cf479227199635db5424af544ae3d21587331fcbb2ce6662d6dac">F2FS_DIRTY_QDATA</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:913</div></div>
<div class="ttc" id="f2fs_8h_html_aa2873a469167cd107b05c77fc98d9644"><div class="ttname"><a href="f2fs_8h.html#aa2873a469167cd107b05c77fc98d9644">f2fs_target_device_index</a></div><div class="ttdeci">int f2fs_target_device_index(struct f2fs_sb_info *sbi, block_t blkaddr)</div><div class="ttdef"><b>Definition:</b> data.c:156</div></div>
<div class="ttc" id="structnode__info_html"><div class="ttname"><a href="structnode__info.html">node_info</a></div><div class="ttdef"><b>Definition:</b> node.h:53</div></div>
<div class="ttc" id="f2fs_8h_html_a90a18d7de1830c9d037348df90f37dce"><div class="ttname"><a href="f2fs_8h.html#a90a18d7de1830c9d037348df90f37dce">f2fs_radix_tree_insert</a></div><div class="ttdeci">static void f2fs_radix_tree_insert(struct radix_tree_root *root, unsigned long index, void *item)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2049</div></div>
<div class="ttc" id="structf2fs__sb__info_html_adce3736f23e297c09ae26ed9be82833a"><div class="ttname"><a href="structf2fs__sb__info.html#adce3736f23e297c09ae26ed9be82833a">f2fs_sb_info::total_node_count</a></div><div class="ttdeci">unsigned int total_node_count</div><div class="ttdef"><b>Definition:</b> f2fs.h:1162</div></div>
<div class="ttc" id="f2fs_8h_html_aba102f52ce9c86ee0da7fe94c8ad15bb"><div class="ttname"><a href="f2fs_8h.html#aba102f52ce9c86ee0da7fe94c8ad15bb">get_extra_isize</a></div><div class="ttdeci">static int get_extra_isize(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2561</div></div>
<div class="ttc" id="f2fs_8h_html_acde26798c7ca9ec96e306023fc9699d7"><div class="ttname"><a href="f2fs_8h.html#acde26798c7ca9ec96e306023fc9699d7">f2fs_encrypted_file</a></div><div class="ttdeci">static bool f2fs_encrypted_file(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:3208</div></div>
<div class="ttc" id="f2fs_8h_html_ab0295bf1a7ea2492972950bb4f29b532"><div class="ttname"><a href="f2fs_8h.html#ab0295bf1a7ea2492972950bb4f29b532">f2fs_evict_inode</a></div><div class="ttdeci">void f2fs_evict_inode(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> inode.c:501</div></div>
<div class="ttc" id="f2fs_8h_html_ac1351f3e26da80ee24b2888ecc68fca6a5d968719570d77bb46d6642fc4fb85ae"><div class="ttname"><a href="f2fs_8h.html#ac1351f3e26da80ee24b2888ecc68fca6a5d968719570d77bb46d6642fc4fb85ae">F2FS_GET_BLOCK_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:585</div></div>
<div class="ttc" id="f2fs_8h_html_a0628bfc6240b099d4dea1af398b8a0ef"><div class="ttname"><a href="f2fs_8h.html#a0628bfc6240b099d4dea1af398b8a0ef">__bitmap_ptr</a></div><div class="ttdeci">static void * __bitmap_ptr(struct f2fs_sb_info *sbi, int flag)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1796</div></div>
<div class="ttc" id="structf2fs__sb__info_html_ad7d19200ec87d0fdd90db8422f119f7f"><div class="ttname"><a href="structf2fs__sb__info.html#ad7d19200ec87d0fdd90db8422f119f7f">f2fs_sb_info::log_blocks_per_seg</a></div><div class="ttdeci">unsigned int log_blocks_per_seg</div><div class="ttdef"><b>Definition:</b> f2fs.h:1157</div></div>
<div class="ttc" id="structf2fs__sb__info_html_a2516acd7128a3c013ca31c1bfbbe8895"><div class="ttname"><a href="structf2fs__sb__info.html#a2516acd7128a3c013ca31c1bfbbe8895">f2fs_sb_info::sm_info</a></div><div class="ttdeci">struct f2fs_sm_info * sm_info</div><div class="ttdef"><b>Definition:</b> f2fs.h:1110</div></div>
<div class="ttc" id="structextent__node_html_af466405f58ac0fd19becd114c6ee0426"><div class="ttname"><a href="structextent__node.html#af466405f58ac0fd19becd114c6ee0426">extent_node::ei</a></div><div class="ttdeci">struct extent_info ei</div><div class="ttdef"><b>Definition:</b> f2fs.h:545</div></div>
<div class="ttc" id="f2fs_8h_html_a5d4575eec6d5eb3794c975b55e58bce0"><div class="ttname"><a href="f2fs_8h.html#a5d4575eec6d5eb3794c975b55e58bce0">set_opt</a></div><div class="ttdeci">#define set_opt(sbi, option)</div><div class="ttdef"><b>Definition:</b> f2fs.h:103</div></div>
<div class="ttc" id="f2fs_8h_html_a64c96e95cacaf33a9dcd744093adb875"><div class="ttname"><a href="f2fs_8h.html#a64c96e95cacaf33a9dcd744093adb875">set_acl_inode</a></div><div class="ttdeci">static void set_acl_inode(struct inode *inode, umode_t mode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2242</div></div>
<div class="ttc" id="f2fs_8h_html_a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621"><div class="ttname"><a href="f2fs_8h.html#a871a83db4e53fc6c6872b5ac7cc94f39aa3236330c3a154d802b7ed05e341f621">NAT_BITMAP</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:168</div></div>
<div class="ttc" id="f2fs_8h_html_a52f054b8621ccc83542a9d438bcb7c8f"><div class="ttname"><a href="f2fs_8h.html#a52f054b8621ccc83542a9d438bcb7c8f">exist_written_data</a></div><div class="ttdeci">bool exist_written_data(struct f2fs_sb_info *sbi, nid_t ino, int mode)</div><div class="ttdef"><b>Definition:</b> checkpoint.c:471</div></div>
<div class="ttc" id="cifspdu_8h_html_ae809d5359ac030c60a30a8f0b2294b82"><div class="ttname"><a href="cifspdu_8h.html#ae809d5359ac030c60a30a8f0b2294b82">length</a></div><div class="ttdeci">__le16 length</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="f2fs_8h_html_a4faacf5ce8a149e09d04668341530ced"><div class="ttname"><a href="f2fs_8h.html#a4faacf5ce8a149e09d04668341530ced">try_to_free_nids</a></div><div class="ttdeci">int try_to_free_nids(struct f2fs_sb_info *sbi, int nr_shrink)</div><div class="ttdef"><b>Definition:</b> node.c:2192</div></div>
<div class="ttc" id="f2fs_8h_html_ae6760a32968fb10673a5a68ea00ec551"><div class="ttname"><a href="f2fs_8h.html#ae6760a32968fb10673a5a68ea00ec551">f2fs_unlock_all</a></div><div class="ttdeci">static void f2fs_unlock_all(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1562</div></div>
<div class="ttc" id="structf2fs__inode__info_html_af30467db7f9cdd7b03d7890a1cba7042"><div class="ttname"><a href="structf2fs__inode__info.html#af30467db7f9cdd7b03d7890a1cba7042">f2fs_inode_info::vfs_inode</a></div><div class="ttdeci">struct inode vfs_inode</div><div class="ttdef"><b>Definition:</b> f2fs.h:624</div></div>
<div class="ttc" id="structf2fs__sm__info_html_ae7a52ff1db95cc97ca695bbd31b5bb27"><div class="ttname"><a href="structf2fs__sm__info.html#ae7a52ff1db95cc97ca695bbd31b5bb27">f2fs_sm_info::main_segments</a></div><div class="ttdeci">unsigned int main_segments</div><div class="ttdef"><b>Definition:</b> f2fs.h:875</div></div>
<div class="ttc" id="structf2fs__gc__range_html"><div class="ttname"><a href="structf2fs__gc__range.html">f2fs_gc_range</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:412</div></div>
<div class="ttc" id="f2fs_8h_html_ae0a0bddfc0bedddcfcf551dc3574bd37"><div class="ttname"><a href="f2fs_8h.html#ae0a0bddfc0bedddcfcf551dc3574bd37">clear_inode_flag</a></div><div class="ttdeci">static void clear_inode_flag(struct inode *inode, int flag)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2235</div></div>
<div class="ttc" id="f2fs_8h_html_a71518da6339e36a7106098b9c1927db9"><div class="ttname"><a href="f2fs_8h.html#a71518da6339e36a7106098b9c1927db9">XATTR_NODE_OFFSET</a></div><div class="ttdeci">#define XATTR_NODE_OFFSET</div><div class="ttdef"><b>Definition:</b> f2fs.h:501</div></div>
<div class="ttc" id="structf2fs__map__blocks_html_ad84fe64870049956ce06240a88364709"><div class="ttname"><a href="structf2fs__map__blocks.html#ad84fe64870049956ce06240a88364709">f2fs_map_blocks::m_next_extent</a></div><div class="ttdeci">pgoff_t * m_next_extent</div><div class="ttdef"><b>Definition:</b> f2fs.h:579</div></div>
<div class="ttc" id="cifspdu_8h_html_a4a06ef9aaffd2c58a6d395fd433cde26"><div class="ttname"><a href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="f2fs_8h_html_a95ab1215b0ac9f5e025dd0d083f045b0"><div class="ttname"><a href="f2fs_8h.html#a95ab1215b0ac9f5e025dd0d083f045b0">f2fs_is_volatile_file</a></div><div class="ttdeci">static bool f2fs_is_volatile_file(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2416</div></div>
<div class="ttc" id="f2fs_8h_html_a27678512f558467924ed7e92009d0840"><div class="ttname"><a href="f2fs_8h.html#a27678512f558467924ed7e92009d0840">recover_fsync_data</a></div><div class="ttdeci">int recover_fsync_data(struct f2fs_sb_info *sbi, bool check_only)</div><div class="ttdef"><b>Definition:</b> recovery.c:619</div></div>
<div class="ttc" id="f2fs_8h_html_abc3e37f45d79de547039aa2f7f943a6f"><div class="ttname"><a href="f2fs_8h.html#abc3e37f45d79de547039aa2f7f943a6f">set_de_type</a></div><div class="ttdeci">void set_de_type(struct f2fs_dir_entry *de, umode_t mode)</div><div class="ttdef"><b>Definition:</b> dir.c:63</div></div>
<div class="ttc" id="f2fs_8h_html_aff6703072e1f7564eab23b1748fa0881"><div class="ttname"><a href="f2fs_8h.html#aff6703072e1f7564eab23b1748fa0881">write_data_summaries</a></div><div class="ttdeci">void write_data_summaries(struct f2fs_sb_info *sbi, block_t start_blk)</div><div class="ttdef"><b>Definition:</b> segment.c:3177</div></div>
<div class="ttc" id="f2fs_8h_html_aaeda9020acaeae9886d936f27c396850"><div class="ttname"><a href="f2fs_8h.html#aaeda9020acaeae9886d936f27c396850">f2fs_init_sysfs</a></div><div class="ttdeci">int __init f2fs_init_sysfs(void)</div><div class="ttdef"><b>Definition:</b> sysfs.c:592</div></div>
<div class="ttc" id="f2fs_8h_html_acc95be668128fceb3f3249f48f3ccffc"><div class="ttname"><a href="f2fs_8h.html#acc95be668128fceb3f3249f48f3ccffc">dec_valid_block_count</a></div><div class="ttdeci">static void dec_valid_block_count(struct f2fs_sb_info *sbi, struct inode *inode, block_t count)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1693</div></div>
<div class="ttc" id="f2fs_8h_html_ab26b64187a7db95848a8c8516f8561fa"><div class="ttname"><a href="f2fs_8h.html#ab26b64187a7db95848a8c8516f8561fa">wait_on_node_pages_writeback</a></div><div class="ttdeci">int wait_on_node_pages_writeback(struct f2fs_sb_info *sbi, nid_t ino)</div><div class="ttdef"><b>Definition:</b> node.c:1684</div></div>
<div class="ttc" id="f2fs_8h_html_a2ee7f55a8733c57fd2f2e1f57f7eb695"><div class="ttname"><a href="f2fs_8h.html#a2ee7f55a8733c57fd2f2e1f57f7eb695">__f2fs_crc32</a></div><div class="ttdeci">static u32 __f2fs_crc32(struct f2fs_sb_info *sbi, u32 crc, const void *address, unsigned int length)</div><div class="ttdef"><b>Definition:</b> f2fs.h:1319</div></div>
<div class="ttc" id="structf2fs__sb__info_html_abbf6a2ae9e4375697a0162cc457ff635"><div class="ttname"><a href="structf2fs__sb__info.html#abbf6a2ae9e4375697a0162cc457ff635">f2fs_sb_info::gc_thread</a></div><div class="ttdeci">struct f2fs_gc_kthread * gc_thread</div><div class="ttdef"><b>Definition:</b> f2fs.h:1195</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a8988437b331ccbf0cbeb24ff0e38ac12"><div class="ttname"><a href="structf2fs__nm__info.html#a8988437b331ccbf0cbeb24ff0e38ac12">f2fs_nm_info::nid_list_lock</a></div><div class="ttdeci">spinlock_t nid_list_lock</div><div class="ttdef"><b>Definition:</b> f2fs.h:772</div></div>
<div class="ttc" id="fault__inject_8c_html_a366ac430233784051a0b3354292e8211"><div class="ttname"><a href="fault__inject_8c.html#a366ac430233784051a0b3354292e8211">inject_ops</a></div><div class="ttdeci">static struct nfsd_fault_inject_op inject_ops[]</div><div class="ttdef"><b>Definition:</b> fault_inject.c:97</div></div>
<div class="ttc" id="ctree_8h_html_a3875b4f2ee8a9d27ac3b3b145f934f86"><div class="ttname"><a href="ctree_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a></div><div class="ttdeci">__le32 offset</div><div class="ttdef"><b>Definition:</b> ctree.h:106</div></div>
<div class="ttc" id="f2fs_8h_html_a79f3449fbe28000b7c7175c69394355d"><div class="ttname"><a href="f2fs_8h.html#a79f3449fbe28000b7c7175c69394355d">__is_extent_mergeable</a></div><div class="ttdeci">static bool __is_extent_mergeable(struct extent_info *back, struct extent_info *front)</div><div class="ttdef"><b>Definition:</b> f2fs.h:712</div></div>
<div class="ttc" id="f2fs_8h_html_a52ba4a1d633911b17b736a22bf5c06e0"><div class="ttname"><a href="f2fs_8h.html#a52ba4a1d633911b17b736a22bf5c06e0">f2fs_put_dnode</a></div><div class="ttdeci">static void f2fs_put_dnode(struct dnode_of_data *dn)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2001</div></div>
<div class="ttc" id="f2fs_8h_html_a6032991a084d4410dcafffa71fb44c90"><div class="ttname"><a href="f2fs_8h.html#a6032991a084d4410dcafffa71fb44c90">f2fs_delete_entry</a></div><div class="ttdeci">void f2fs_delete_entry(struct f2fs_dir_entry *dentry, struct page *page, struct inode *dir, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> dir.c:695</div></div>
<div class="ttc" id="f2fs_8h_html_a83c6632176748f41fbbc640e64a6b776"><div class="ttname"><a href="f2fs_8h.html#a83c6632176748f41fbbc640e64a6b776">f2fs_reset_iostat</a></div><div class="ttdeci">static void f2fs_reset_iostat(struct f2fs_sb_info *sbi)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2585</div></div>
<div class="ttc" id="f2fs_8h_html_a89cdeb21b1094324507ceb671f9df9b2"><div class="ttname"><a href="f2fs_8h.html#a89cdeb21b1094324507ceb671f9df9b2">f2fs_kmem_cache_alloc</a></div><div class="ttdeci">static void * f2fs_kmem_cache_alloc(struct kmem_cache *cachep, gfp_t flags)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2017</div></div>
<div class="ttc" id="structextent__node_html"><div class="ttname"><a href="structextent__node.html">extent_node</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:537</div></div>
<div class="ttc" id="f2fs_8h_html_a9fbbef9b0c78d4ea91831fcebe84880f"><div class="ttname"><a href="f2fs_8h.html#a9fbbef9b0c78d4ea91831fcebe84880f">f2fs_release_page</a></div><div class="ttdeci">int f2fs_release_page(struct page *page, gfp_t wait)</div><div class="ttdef"><b>Definition:</b> data.c:2395</div></div>
<div class="ttc" id="f2fs_8h_html_a0f4debf54216f62e338498da39646c0b"><div class="ttname"><a href="f2fs_8h.html#a0f4debf54216f62e338498da39646c0b">do_write_data_page</a></div><div class="ttdeci">int do_write_data_page(struct f2fs_io_info *fio)</div><div class="ttdef"><b>Definition:</b> data.c:1631</div></div>
<div class="ttc" id="f2fs_8h_html_a26fcf1e7f9cc14c41c5a63f8be9e5631a35caaf7663535cceeb4c7c05f1b71c0e"><div class="ttname"><a href="f2fs_8h.html#a26fcf1e7f9cc14c41c5a63f8be9e5631a35caaf7663535cceeb4c7c05f1b71c0e">SBI_IS_DIRTY</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:1055</div></div>
<div class="ttc" id="f2fs_8h_html_ad89878e257c7564d31651c368d4dd540"><div class="ttname"><a href="f2fs_8h.html#ad89878e257c7564d31651c368d4dd540">is_inode_flag_set</a></div><div class="ttdeci">static int is_inode_flag_set(struct inode *inode, int flag)</div><div class="ttdef"><b>Definition:</b> f2fs.h:2230</div></div>
<div class="ttc" id="structf2fs__inode__info_html_a31d9a10baf81f875f2dd095282f1922b"><div class="ttname"><a href="structf2fs__inode__info.html#a31d9a10baf81f875f2dd095282f1922b">f2fs_inode_info::i_flags</a></div><div class="ttdeci">unsigned long i_flags</div><div class="ttdef"><b>Definition:</b> f2fs.h:625</div></div>
<div class="ttc" id="structf2fs__nm__info_html_a145fd4879c481d7ecda4599bbd689fc4"><div class="ttname"><a href="structf2fs__nm__info.html#a145fd4879c481d7ecda4599bbd689fc4">f2fs_nm_info::full_nat_bits</a></div><div class="ttdeci">unsigned char * full_nat_bits</div><div class="ttdef"><b>Definition:</b> f2fs.h:783</div></div>
<div class="ttc" id="f2fs_8h_html_ade483dbca063c73c4fea7dcd671289be"><div class="ttname"><a href="f2fs_8h.html#ade483dbca063c73c4fea7dcd671289be">test_opt</a></div><div class="ttdeci">#define test_opt(sbi, option)</div><div class="ttdef"><b>Definition:</b> f2fs.h:104</div></div>
<div class="ttc" id="structf2fs__dev__info_html_a30bcbe6d4b287b28b67b142ecce8ebe2"><div class="ttname"><a href="structf2fs__dev__info.html#a30bcbe6d4b287b28b67b142ecce8ebe2">f2fs_dev_info::bdev</a></div><div class="ttdeci">struct block_device * bdev</div><div class="ttdef"><b>Definition:</b> f2fs.h:1026</div></div>
<div class="ttc" id="f2fs_8h_html_aae058f7e6e6a6aedfee8b66030664f22acda6be58359d3715dc035c6cf6953ef5"><div class="ttname"><a href="f2fs_8h.html#aae058f7e6e6a6aedfee8b66030664f22acda6be58359d3715dc035c6cf6953ef5">APP_MAPPED_IO</a></div><div class="ttdef"><b>Definition:</b> f2fs.h:979</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_4bb447f27f61711aab29764195f42b3d.html">f2fs</a></li><li class="navelem"><a class="el" href="f2fs_8h.html">f2fs.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
