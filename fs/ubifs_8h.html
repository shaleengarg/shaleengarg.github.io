<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/ubifs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ubifs_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">ubifs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;asm/div64.h&gt;</code><br />
<code>#include &lt;linux/statfs.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/err.h&gt;</code><br />
<code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/vmalloc.h&gt;</code><br />
<code>#include &lt;linux/spinlock.h&gt;</code><br />
<code>#include &lt;linux/mutex.h&gt;</code><br />
<code>#include &lt;linux/rwsem.h&gt;</code><br />
<code>#include &lt;linux/mtd/ubi.h&gt;</code><br />
<code>#include &lt;linux/pagemap.h&gt;</code><br />
<code>#include &lt;linux/backing-dev.h&gt;</code><br />
<code>#include &lt;linux/security.h&gt;</code><br />
<code>#include &lt;linux/xattr.h&gt;</code><br />
<code>#include &lt;linux/random.h&gt;</code><br />
<code>#include &lt;linux/fscrypt.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ubifs-media_8h_source.html">ubifs-media.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ubifs_2debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="misc_8h_source.html">misc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="key_8h_source.html">key.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ubifs.h:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h__incl.png" border="0" usemap="#ubifs_2ubifs_8h" alt=""/></div>
<map name="ubifs_2ubifs_8h" id="ubifs_2ubifs_8h">
<area shape="rect" id="node19" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,80,2243,107"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,80,2335,107"/>
<area shape="rect" id="node21" href="misc_8h.html" title="misc.h" alt="" coords="2360,80,2421,107"/>
<area shape="rect" id="node22" href="key_8h.html" title="key.h" alt="" coords="2446,80,2501,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h__dep__incl.png" border="0" usemap="#ubifs_2ubifs_8hdep" alt=""/></div>
<map name="ubifs_2ubifs_8hdep" id="ubifs_2ubifs_8hdep">
<area shape="rect" id="node2" href="budget_8c.html" title="ubifs/budget.c" alt="" coords="5,80,109,107"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html" title="ubifs/commit.c" alt="" coords="134,80,242,107"/>
<area shape="rect" id="node4" href="ubifs_2compress_8c.html" title="ubifs/compress.c" alt="" coords="267,80,389,107"/>
<area shape="rect" id="node5" href="ubifs_2crypto_8c.html" title="ubifs/crypto.c" alt="" coords="413,80,515,107"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html" title="ubifs/debug.c" alt="" coords="539,80,639,107"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html" title="ubifs/dir.c" alt="" coords="663,80,742,107"/>
<area shape="rect" id="node8" href="ubifs_2file_8c.html" title="ubifs/file.c" alt="" coords="767,80,849,107"/>
<area shape="rect" id="node9" href="find_8c.html" title="ubifs/find.c" alt="" coords="874,80,961,107"/>
<area shape="rect" id="node10" href="ubifs_2gc_8c.html" title="ubifs/gc.c" alt="" coords="985,80,1063,107"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html" title="ubifs/io.c" alt="" coords="1088,80,1163,107"/>
<area shape="rect" id="node12" href="ubifs_2ioctl_8c.html" title="ubifs/ioctl.c" alt="" coords="1187,80,1277,107"/>
<area shape="rect" id="node13" href="ubifs_2journal_8c.html" title="ubifs/journal.c" alt="" coords="1301,80,1403,107"/>
<area shape="rect" id="node14" href="ubifs_2log_8c.html" title="ubifs/log.c" alt="" coords="1428,80,1511,107"/>
<area shape="rect" id="node15" href="lprops_8c.html" title="ubifs/lprops.c" alt="" coords="1535,80,1635,107"/>
<area shape="rect" id="node16" href="lpt_8c.html" title="ubifs/lpt.c" alt="" coords="1659,80,1738,107"/>
<area shape="rect" id="node17" href="lpt__commit_8c.html" title="ubifs/lpt_commit.c" alt="" coords="1762,80,1891,107"/>
<area shape="rect" id="node18" href="master_8c.html" title="ubifs/master.c" alt="" coords="1915,80,2021,107"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html" title="ubifs/misc.c" alt="" coords="2045,80,2139,107"/>
<area shape="rect" id="node20" href="ubifs_2orphan_8c.html" title="ubifs/orphan.c" alt="" coords="2163,80,2267,107"/>
<area shape="rect" id="node21" href="ubifs_2recovery_8c.html" title="ubifs/recovery.c" alt="" coords="2291,80,2405,107"/>
<area shape="rect" id="node22" href="replay_8c.html" title="ubifs/replay.c" alt="" coords="2430,80,2530,107"/>
<area shape="rect" id="node23" href="sb_8c.html" title="ubifs/sb.c" alt="" coords="2554,80,2633,107"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html" title="ubifs/scan.c" alt="" coords="2657,80,2751,107"/>
<area shape="rect" id="node25" href="ubifs_2shrinker_8c.html" title="ubifs/shrinker.c" alt="" coords="2775,80,2886,107"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html" title="ubifs/super.c" alt="" coords="2910,80,3007,107"/>
<area shape="rect" id="node27" href="tnc_8c.html" title="ubifs/tnc.c" alt="" coords="3032,80,3115,107"/>
<area shape="rect" id="node28" href="tnc__commit_8c.html" title="ubifs/tnc_commit.c" alt="" coords="3139,80,3272,107"/>
<area shape="rect" id="node29" href="tnc__misc_8c.html" title="ubifs/tnc_misc.c" alt="" coords="3297,80,3415,107"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html" title="ubifs/xattr.c" alt="" coords="3440,80,3531,107"/>
</map>
</div>
</div>
<p><a href="ubifs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__old__idx.html">ubifs_old_idx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionubifs__key.html">ubifs_key</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__scan__node.html">ubifs_scan_node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__gced__idx__leb.html">ubifs_gced_idx_leb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__inode.html">ubifs_inode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__unclean__leb.html">ubifs_unclean_leb</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__lprops.html">ubifs_lprops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__lpt__lprops.html">ubifs_lpt_lprops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__lp__stats.html">ubifs_lp_stats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__cnode.html">ubifs_cnode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__pnode.html">ubifs_pnode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__nbranch.html">ubifs_nbranch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__nnode.html">ubifs_nnode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__lpt__heap.html">ubifs_lpt_heap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__bud.html">ubifs_bud</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__jhead.html">ubifs_jhead</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__znode.html">ubifs_znode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbu__info.html">bu_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__node__range.html">ubifs_node_range</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__compressor.html">ubifs_compressor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__orphan.html">ubifs_orphan</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__mount__opts.html">ubifs_mount_opts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__budg__info.html">ubifs_budg_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structubifs__info.html">ubifs_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a287d1fe5c747ce32dc0173931bbad6b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a287d1fe5c747ce32dc0173931bbad6b1">__FS_HAS_ENCRYPTION</a>&#160;&#160;&#160;IS_ENABLED(CONFIG_UBIFS_FS_ENCRYPTION)</td></tr>
<tr class="separator:a287d1fe5c747ce32dc0173931bbad6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a52866cfc4c15b67d32e53eaa3a1d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a83a52866cfc4c15b67d32e53eaa3a1d2">UBIFS_VERSION</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a83a52866cfc4c15b67d32e53eaa3a1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddb42331762cc8d493d999ecdea885d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aaddb42331762cc8d493d999ecdea885d">UBIFS_SUPER_MAGIC</a>&#160;&#160;&#160;0x24051905</td></tr>
<tr class="separator:aaddb42331762cc8d493d999ecdea885d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7059f07b3134fde28dc987c9271053"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0e7059f07b3134fde28dc987c9271053">UBIFS_BLOCKS_PER_PAGE</a>&#160;&#160;&#160;(PAGE_SIZE / <a class="el" href="ubifs-media_8h.html#ae6eb6f11446af274d9a3c45181c799c5">UBIFS_BLOCK_SIZE</a>)</td></tr>
<tr class="separator:a0e7059f07b3134fde28dc987c9271053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9168016b42796e438ab9b0a04dc88a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aa9168016b42796e438ab9b0a04dc88a9">UBIFS_BLOCKS_PER_PAGE_SHIFT</a>&#160;&#160;&#160;(PAGE_SHIFT - <a class="el" href="ubifs-media_8h.html#a16301c33489031f6239e3f73845b3192">UBIFS_BLOCK_SHIFT</a>)</td></tr>
<tr class="separator:aa9168016b42796e438ab9b0a04dc88a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f346624ade24a6b7b72625f16cc3bba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1f346624ade24a6b7b72625f16cc3bba">SQNUM_WARN_WATERMARK</a>&#160;&#160;&#160;0xFFFFFFFF00000000ULL</td></tr>
<tr class="separator:a1f346624ade24a6b7b72625f16cc3bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1544901977ef0181116a1c97a1f8ca57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1544901977ef0181116a1c97a1f8ca57">SQNUM_WATERMARK</a>&#160;&#160;&#160;0xFFFFFFFFFF000000ULL</td></tr>
<tr class="separator:a1544901977ef0181116a1c97a1f8ca57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c07ddaa1d9c8b8d2e3beefe30a44a48"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8c07ddaa1d9c8b8d2e3beefe30a44a48">MIN_INDEX_LEBS</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a8c07ddaa1d9c8b8d2e3beefe30a44a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39cc032ea1e4a67df56218ffa4821f6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a39cc032ea1e4a67df56218ffa4821f6e">MIN_WRITE_SZ</a>&#160;&#160;&#160;(<a class="el" href="ubifs-media_8h.html#ad88b93a44d28da15d17297db8816eb33">UBIFS_DATA_NODE_SZ</a> + 8)</td></tr>
<tr class="separator:a39cc032ea1e4a67df56218ffa4821f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470d9ee054e83e5bda7f4c45cc9ac074"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a470d9ee054e83e5bda7f4c45cc9ac074">INUM_WARN_WATERMARK</a>&#160;&#160;&#160;0xFFF00000</td></tr>
<tr class="separator:a470d9ee054e83e5bda7f4c45cc9ac074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9b1960164b02adbff928231ce0fa2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0a9b1960164b02adbff928231ce0fa2b">INUM_WATERMARK</a>&#160;&#160;&#160;0xFFFFFF00</td></tr>
<tr class="separator:a0a9b1960164b02adbff928231ce0fa2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd92db4fab653f6d00bd38c6ceab2baf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#acd92db4fab653f6d00bd38c6ceab2baf">LPT_HEAP_SZ</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:acd92db4fab653f6d00bd38c6ceab2baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a364e602f582ce83e25fbd62a2aa88da9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a364e602f582ce83e25fbd62a2aa88da9">BGT_NAME_PATTERN</a>&#160;&#160;&#160;&quot;ubifs_bgt%d_%d&quot;</td></tr>
<tr class="separator:a364e602f582ce83e25fbd62a2aa88da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70367c7c194a5531c0677ab3de3b686c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a70367c7c194a5531c0677ab3de3b686c">MAX_INUM</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:a70367c7c194a5531c0677ab3de3b686c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547f3ac1fd3c58ba59777cb4d550089d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a547f3ac1fd3c58ba59777cb4d550089d">NONDATA_JHEADS_CNT</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a547f3ac1fd3c58ba59777cb4d550089d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7858ad1c025e3d4c8448a618e71f03d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab7858ad1c025e3d4c8448a618e71f03d">GCHD</a>&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#a0863422aaa8a63519908fde2b58acba2">UBIFS_GC_HEAD</a></td></tr>
<tr class="separator:ab7858ad1c025e3d4c8448a618e71f03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38622f3a5e25e140f63236bd4dfa5729"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a38622f3a5e25e140f63236bd4dfa5729">BASEHD</a>&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#aea94b5b52689b72d5adc95c4e421972a">UBIFS_BASE_HEAD</a></td></tr>
<tr class="separator:a38622f3a5e25e140f63236bd4dfa5729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e269f92c6e66182e8808b8e2cb6579"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a32e269f92c6e66182e8808b8e2cb6579">DATAHD</a>&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#a9114cb3225e46b742c96550b10396755">UBIFS_DATA_HEAD</a></td></tr>
<tr class="separator:a32e269f92c6e66182e8808b8e2cb6579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c43eee6ec2714b05af3e8427eafa21b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a5c43eee6ec2714b05af3e8427eafa21b">LPROPS_NC</a>&#160;&#160;&#160;0x80000001</td></tr>
<tr class="separator:a5c43eee6ec2714b05af3e8427eafa21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f751fce548d581ec00f9a97024ef9f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3f751fce548d581ec00f9a97024ef9f2">UBIFS_TRUN_KEY</a>&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#afb9ebf243cfb545c87dbaff67152d25fad37d82ded92099b5522f9e69efc36da3">UBIFS_KEY_TYPES_CNT</a></td></tr>
<tr class="separator:a3f751fce548d581ec00f9a97024ef9f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d1e5145efc75a95344d170722a5c57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af4d1e5145efc75a95344d170722a5c57">UBIFS_INVALID_KEY</a>&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#afb9ebf243cfb545c87dbaff67152d25fad37d82ded92099b5522f9e69efc36da3">UBIFS_KEY_TYPES_CNT</a></td></tr>
<tr class="separator:af4d1e5145efc75a95344d170722a5c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe92eeeb2635b243673c45f4517eb31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#abfe92eeeb2635b243673c45f4517eb31">CALC_DENT_SIZE</a>(<a class="el" href="hfsplus_2xattr_8c.html#ae4ccf1ceae3bf7792a62283b6ca6cd99">name_len</a>)&#160;&#160;&#160;ALIGN(<a class="el" href="ubifs-media_8h.html#a71ca21b4d19804dd12eef16cc77aafbb">UBIFS_DENT_NODE_SZ</a> + (<a class="el" href="hfsplus_2xattr_8c.html#ae4ccf1ceae3bf7792a62283b6ca6cd99">name_len</a>) + 1, 8)</td></tr>
<tr class="separator:abfe92eeeb2635b243673c45f4517eb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dda58dca2f23252259efa28f6e1a785"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9dda58dca2f23252259efa28f6e1a785">CALC_XATTR_BYTES</a>(data_len)&#160;&#160;&#160;ALIGN(<a class="el" href="ubifs-media_8h.html#a919490c5035dabbb2f3247d2920da563">UBIFS_INO_NODE_SZ</a> + (data_len) + 1, 8)</td></tr>
<tr class="separator:a9dda58dca2f23252259efa28f6e1a785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab892db7213347469e4f8ccf841c68e05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab892db7213347469e4f8ccf841c68e05">OLD_ZNODE_AGE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:ab892db7213347469e4f8ccf841c68e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f559319b3d66a9736fc6ba3a050bba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad9f559319b3d66a9736fc6ba3a050bba">YOUNG_ZNODE_AGE</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ad9f559319b3d66a9736fc6ba3a050bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c359ddca4487a2581e8d767cff63267"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9c359ddca4487a2581e8d767cff63267">WORST_COMPR_FACTOR</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a9c359ddca4487a2581e8d767cff63267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac3d51d078ac5930a1e6b6aff11c436"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aeac3d51d078ac5930a1e6b6aff11c436">UBIFS_CIPHER_BLOCK_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:aeac3d51d078ac5930a1e6b6aff11c436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a49e3e208f05373cc5f2f3f872344d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7a49e3e208f05373cc5f2f3f872344d5">COMPRESSED_DATA_NODE_BUF_SZ</a>&#160;&#160;&#160;(<a class="el" href="ubifs-media_8h.html#ad88b93a44d28da15d17297db8816eb33">UBIFS_DATA_NODE_SZ</a> + <a class="el" href="ubifs-media_8h.html#ae6eb6f11446af274d9a3c45181c799c5">UBIFS_BLOCK_SIZE</a> * <a class="el" href="ubifs_8h.html#a9c359ddca4487a2581e8d767cff63267">WORST_COMPR_FACTOR</a>)</td></tr>
<tr class="separator:a7a49e3e208f05373cc5f2f3f872344d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f82b1caec09f8db3828fed42fb959ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3f82b1caec09f8db3828fed42fb959ef">BOTTOM_UP_HEIGHT</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a3f82b1caec09f8db3828fed42fb959ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e8f37c3384524596537193fde25457"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a80e8f37c3384524596537193fde25457">UBIFS_MAX_BULK_READ</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a80e8f37c3384524596537193fde25457"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae31f4a8c1523d14ee875036936253ae8"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae31f4a8c1523d14ee875036936253ae8">ubifs_lpt_scan_callback</a>) (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int in_tree, void *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:ae31f4a8c1523d14ee875036936253ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a336af30912e0daeb90ff5b49509f1a28"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="ubifs_8h.html#a336af30912e0daeb90ff5b49509f1a28a8aa9d5e007c8146fdef6add6442bc127">WB_MUTEX_1</a> = 0, 
<a class="el" href="ubifs_8h.html#a336af30912e0daeb90ff5b49509f1a28a0564459f47872fabb0762ea1b0f9cd98">WB_MUTEX_2</a> = 1, 
<a class="el" href="ubifs_8h.html#a336af30912e0daeb90ff5b49509f1a28a71cbc0b010fa9dc2799de2ea25dffe7f">WB_MUTEX_3</a> = 2, 
<a class="el" href="ubifs_8h.html#a336af30912e0daeb90ff5b49509f1a28a3d540ea40dd0946acec62ff276bc8d3f">WB_MUTEX_4</a> = 3
 }</td></tr>
<tr class="separator:a336af30912e0daeb90ff5b49509f1a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5909b1914667c9dd606229a8c9f744d4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="ubifs_8h.html#a5909b1914667c9dd606229a8c9f744d4af306a6f8bf0cce88bd772b1bbb3e23a9">DIRTY_ZNODE</a> = 0, 
<a class="el" href="ubifs_8h.html#a5909b1914667c9dd606229a8c9f744d4ad7c8b461a60e1232c091cc7bcb949a21">COW_ZNODE</a> = 1, 
<a class="el" href="ubifs_8h.html#a5909b1914667c9dd606229a8c9f744d4a87d9156906af440eea1e389fc7850b00">OBSOLETE_ZNODE</a> = 2
 }</td></tr>
<tr class="separator:a5909b1914667c9dd606229a8c9f744d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5dae9292efafd631b89a79a3743102f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="ubifs_8h.html#af5dae9292efafd631b89a79a3743102fa7880fbf5227d5437002ea25c9bdfed98">COMMIT_RESTING</a> = 0, 
<a class="el" href="ubifs_8h.html#af5dae9292efafd631b89a79a3743102fa5941112c4cf1127558872a6fa36a6b83">COMMIT_BACKGROUND</a>, 
<a class="el" href="ubifs_8h.html#af5dae9292efafd631b89a79a3743102faef3742ad931002125ee8c4dcf5b2e7fa">COMMIT_REQUIRED</a>, 
<a class="el" href="ubifs_8h.html#af5dae9292efafd631b89a79a3743102faf4d9809dddb548fa4f1aecf58602c2ce">COMMIT_RUNNING_BACKGROUND</a>, 
<br />
&#160;&#160;<a class="el" href="ubifs_8h.html#af5dae9292efafd631b89a79a3743102fa93280b828f2737b48d88c6d597bcca89">COMMIT_RUNNING_REQUIRED</a>, 
<a class="el" href="ubifs_8h.html#af5dae9292efafd631b89a79a3743102fa7a65cd72366ee4420c56faec6987fa5b">COMMIT_BROKEN</a>
<br />
 }</td></tr>
<tr class="separator:af5dae9292efafd631b89a79a3743102f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2b6e5b2cf82af4267244382aba9ad1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="ubifs_8h.html#a6a2b6e5b2cf82af4267244382aba9ad1a01cd90a5926bdc60c9a1a6a2d3707748">SCANNED_GARBAGE</a> = 0, 
<a class="el" href="ubifs_8h.html#a6a2b6e5b2cf82af4267244382aba9ad1a9bc171d5bcc6555ffe7cde4c5f29ff65">SCANNED_EMPTY_SPACE</a> = -1, 
<a class="el" href="ubifs_8h.html#a6a2b6e5b2cf82af4267244382aba9ad1a0e8e9dc291d4016a4a124ff6a6cbc491">SCANNED_A_NODE</a> = -2, 
<a class="el" href="ubifs_8h.html#a6a2b6e5b2cf82af4267244382aba9ad1af2f38a56facb1ac8be08801cb4990482">SCANNED_A_CORRUPT_NODE</a> = -3, 
<br />
&#160;&#160;<a class="el" href="ubifs_8h.html#a6a2b6e5b2cf82af4267244382aba9ad1a06677d115713ba427f7293aba91a6aa1">SCANNED_A_BAD_PAD_NODE</a> = -4
<br />
 }</td></tr>
<tr class="separator:a6a2b6e5b2cf82af4267244382aba9ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c00f9b634ceacd80778f260d04fcb21"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="ubifs_8h.html#a0c00f9b634ceacd80778f260d04fcb21a980786108e98d5958e543dbb71906360">DIRTY_CNODE</a> = 0, 
<a class="el" href="ubifs_8h.html#a0c00f9b634ceacd80778f260d04fcb21afd92a304af5f5ab0264094fa062ed0aa">OBSOLETE_CNODE</a> = 1, 
<a class="el" href="ubifs_8h.html#a0c00f9b634ceacd80778f260d04fcb21a7859aa6d6c3356d5032cf1816a328531">COW_CNODE</a> = 2
 }</td></tr>
<tr class="separator:a0c00f9b634ceacd80778f260d04fcb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acead867376790caf7f23fe47c9e5e40f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="ubifs_8h.html#acead867376790caf7f23fe47c9e5e40fae6ffb8263feae9151ff2baafb19a7a08">LTAB_DIRTY</a> = 1, 
<a class="el" href="ubifs_8h.html#acead867376790caf7f23fe47c9e5e40fa53c15556bcf0c30c172e8dfe898b40c2">LSAVE_DIRTY</a> = 2
 }</td></tr>
<tr class="separator:acead867376790caf7f23fe47c9e5e40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50899c36ce82c20956823f10005c31ae"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="ubifs_8h.html#a50899c36ce82c20956823f10005c31aeaae39478140409b3245a5a88a9f05e006">LEB_FREED</a>, 
<a class="el" href="ubifs_8h.html#a50899c36ce82c20956823f10005c31aea37523a44165d011754a1a7ad574a6c0e">LEB_FREED_IDX</a>, 
<a class="el" href="ubifs_8h.html#a50899c36ce82c20956823f10005c31aea1b11de3de252fd4e013ef3082f1c8a16">LEB_RETAINED</a>
 }</td></tr>
<tr class="separator:a50899c36ce82c20956823f10005c31ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1144085892df71432706e541ff3a8a7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a9c35c16546400abb7acfeb9d6e50012a">LPROPS_UNCAT</a> = 0, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7ae830848ebc90177da739d1cc0a0288f6">LPROPS_DIRTY</a> = 1, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7aed654de54247dd3b4d1f255ccacc53ca">LPROPS_DIRTY_IDX</a> = 2, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a7e6c676ab3afc5ef94b5098d1f4ebd86">LPROPS_FREE</a> = 3, 
<br />
&#160;&#160;<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a7f0d271983f57b762cc1c50cfdf60f70">LPROPS_HEAP_CNT</a> = 3, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7ad33290343113d1e44a9488d08cbaab1b">LPROPS_EMPTY</a> = 4, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a108c1b1bcc781dcf12063b54242518e3">LPROPS_FREEABLE</a> = 5, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a6f0cbc2ab7c4936ee7c8a24a9958534b">LPROPS_FRDI_IDX</a> = 6, 
<br />
&#160;&#160;<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7ada02f88e7bc3aa731eedf4509db4dec1">LPROPS_CAT_MASK</a> = 15, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a6deab60d91d9df07f1e81a6b7b9ce8e6">LPROPS_TAKEN</a> = 16, 
<a class="el" href="ubifs_8h.html#af1144085892df71432706e541ff3a8a7a1f79e0ebb8c476480ed1774698e3869c">LPROPS_INDEX</a> = 32
<br />
 }</td></tr>
<tr class="separator:af1144085892df71432706e541ff3a8a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef7cb7b94eb063b02349c757bcee3b0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="ubifs_8h.html#a9ef7cb7b94eb063b02349c757bcee3b0ac41a2f97fd3273075939882701ea6723">LPT_SCAN_CONTINUE</a> = 0, 
<a class="el" href="ubifs_8h.html#a9ef7cb7b94eb063b02349c757bcee3b0aba82abb58d60c3fbab3c12555d4dba6d">LPT_SCAN_ADD</a> = 1, 
<a class="el" href="ubifs_8h.html#a9ef7cb7b94eb063b02349c757bcee3b0a49e98b35162f03b59341342848ad2015">LPT_SCAN_STOP</a> = 2
 }</td></tr>
<tr class="separator:a9ef7cb7b94eb063b02349c757bcee3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
: compressor name</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpe386570655ffb6bb66c168fb54014d3e"></a>struct <a class="el" href="structubifs__compressor.html">ubifs_compressor</a> - UBIFS compressor description structure. : compressor type (UBIFS_COMPR_LZO, etc) : cryptoapi compressor handle : mutex used during compression : mutex used during decompression</p>
<p>: cryptoapi compressor name </p>
</td></tr>
<tr class="memitem:adcc4dda8d534565183f6060be7e8cd95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#adcc4dda8d534565183f6060be7e8cd95">ubifs_errc</a>(c,  <a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a>, ...)</td></tr>
<tr class="separator:adcc4dda8d534565183f6060be7e8cd95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee929d58ee5ba3a3d85abb7ba02fa23"><td class="memItemLeft" align="right" valign="top">struct list_head&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#acee929d58ee5ba3a3d85abb7ba02fa23">ubifs_infos</a></td></tr>
<tr class="separator:acee929d58ee5ba3a3d85abb7ba02fa23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75c08908b60a45e5487d510f234596d"><td class="memItemLeft" align="right" valign="top">spinlock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aa75c08908b60a45e5487d510f234596d">ubifs_infos_lock</a></td></tr>
<tr class="separator:aa75c08908b60a45e5487d510f234596d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86384dbfb3dd5f529a8fe0611e4b6fe5"><td class="memItemLeft" align="right" valign="top">atomic_long_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a86384dbfb3dd5f529a8fe0611e4b6fe5">ubifs_clean_zn_cnt</a></td></tr>
<tr class="separator:a86384dbfb3dd5f529a8fe0611e4b6fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205293f550ea7be41ebb0df13dce0985"><td class="memItemLeft" align="right" valign="top">const struct super_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a205293f550ea7be41ebb0df13dce0985">ubifs_super_operations</a></td></tr>
<tr class="separator:a205293f550ea7be41ebb0df13dce0985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a80557a0edc949f508284fc9232dda"><td class="memItemLeft" align="right" valign="top">const struct address_space_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a32a80557a0edc949f508284fc9232dda">ubifs_file_address_operations</a></td></tr>
<tr class="separator:a32a80557a0edc949f508284fc9232dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e554d253dc3f7171e8756d8bffb4579"><td class="memItemLeft" align="right" valign="top">const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8e554d253dc3f7171e8756d8bffb4579">ubifs_file_operations</a></td></tr>
<tr class="separator:a8e554d253dc3f7171e8756d8bffb4579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe659a54c4dbe590d672d4282ef828c"><td class="memItemLeft" align="right" valign="top">const struct inode_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7fe659a54c4dbe590d672d4282ef828c">ubifs_file_inode_operations</a></td></tr>
<tr class="separator:a7fe659a54c4dbe590d672d4282ef828c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b74444e0e793068768e676737e52584"><td class="memItemLeft" align="right" valign="top">const struct file_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8b74444e0e793068768e676737e52584">ubifs_dir_operations</a></td></tr>
<tr class="separator:a8b74444e0e793068768e676737e52584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4fd18756e8e075e810d1f7c7d09cff"><td class="memItemLeft" align="right" valign="top">const struct inode_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2e4fd18756e8e075e810d1f7c7d09cff">ubifs_dir_inode_operations</a></td></tr>
<tr class="separator:a2e4fd18756e8e075e810d1f7c7d09cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c907d36de0c987a28928cb1213e2976"><td class="memItemLeft" align="right" valign="top">const struct inode_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2c907d36de0c987a28928cb1213e2976">ubifs_symlink_inode_operations</a></td></tr>
<tr class="separator:a2c907d36de0c987a28928cb1213e2976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75647d6f5b2abf960af6798e2c4778a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__compressor.html">ubifs_compressor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ac75647d6f5b2abf960af6798e2c4778a">ubifs_compressors</a> [<a class="el" href="ubifs-media_8h.html#a573524f0aaecc08138bf58c6451d02fbacf145e107d3ffaa6bacf05dc36eee62a">UBIFS_COMPR_TYPES_CNT</a>]</td></tr>
<tr class="separator:ac75647d6f5b2abf960af6798e2c4778a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6966257572498b1566f6eb518749d82"><td class="memItemLeft" align="right" valign="top">const struct xattr_handler *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad6966257572498b1566f6eb518749d82">ubifs_xattr_handlers</a> []</td></tr>
<tr class="separator:ad6966257572498b1566f6eb518749d82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e28b8920864f95c8cf0b6157097c59f"><td class="memItemLeft" align="right" valign="top">const struct fscrypt_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2e28b8920864f95c8cf0b6157097c59f">ubifs_crypt_operations</a></td></tr>
<tr class="separator:a2e28b8920864f95c8cf0b6157097c59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1e13663906d49587b861ae988c2cbc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2e1e13663906d49587b861ae988c2cbc">fmt</a></td></tr>
<tr class="separator:a2e1e13663906d49587b861ae988c2cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0674f14e3d6ab28a6de41c44eeb85797"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0674f14e3d6ab28a6de41c44eeb85797">ubifs_ro_mode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int err)</td></tr>
<tr class="separator:a0674f14e3d6ab28a6de41c44eeb85797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a2a3c4a79d6d4c52350540437d3cb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab6a2a3c4a79d6d4c52350540437d3cb3">ubifs_leb_read</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, void *buf, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int even_ebadmsg)</td></tr>
<tr class="separator:ab6a2a3c4a79d6d4c52350540437d3cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02909cfc9d3a0100f549390c7d464632"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632">ubifs_leb_write</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, const void *buf, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a02909cfc9d3a0100f549390c7d464632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70865809ab5c33c55274560e453f535"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535">ubifs_leb_change</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, const void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:ac70865809ab5c33c55274560e453f535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d3a62a61d21e1faa60cd6e630c41ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac">ubifs_leb_unmap</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:ad9d3a62a61d21e1faa60cd6e630c41ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3619a60498527530b0ed01ba5c6a82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82">ubifs_leb_map</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:a8d3619a60498527530b0ed01ba5c6a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6dd0f2909e1d7ec5cfc0bf93a9e0b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ade6dd0f2909e1d7ec5cfc0bf93a9e0b4">ubifs_is_mapped</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:ade6dd0f2909e1d7ec5cfc0bf93a9e0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee6b209c593633d86570858d6e5ff51"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51">ubifs_wbuf_write_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a6ee6b209c593633d86570858d6e5ff51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf09b0b677c1ca6d0b034d91281d2f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a4bf09b0b677c1ca6d0b034d91281d2f3">ubifs_wbuf_seek_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, int lnum, int offs)</td></tr>
<tr class="separator:a4bf09b0b677c1ca6d0b034d91281d2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6a43ed3cec37fb67b4cf4f129b84de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9c6a43ed3cec37fb67b4cf4f129b84de">ubifs_wbuf_init</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf)</td></tr>
<tr class="separator:a9c6a43ed3cec37fb67b4cf4f129b84de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c29d586db30bacfa2c9a73369a8870"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab1c29d586db30bacfa2c9a73369a8870">ubifs_read_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:ab1c29d586db30bacfa2c9a73369a8870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602b7041efb930fbe55efc9b3b2ea270"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270">ubifs_read_node_wbuf</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, void *buf, int <a class="el" href="nfs4acl_8c.html#ac765329451135abec74c45e1897abf26">type</a>, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:a602b7041efb930fbe55efc9b3b2ea270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7d0e6c9720849101273f76bce7071c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c">ubifs_write_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *node, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs)</td></tr>
<tr class="separator:a9e7d0e6c9720849101273f76bce7071c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b2f0cc24eff9f69bd606979eb3a53e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab9b2f0cc24eff9f69bd606979eb3a53e">ubifs_check_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const void *buf, int lnum, int offs, int quiet, int must_chk_crc)</td></tr>
<tr class="separator:ab9b2f0cc24eff9f69bd606979eb3a53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc84fffe117700474d9902f71743efce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#afc84fffe117700474d9902f71743efce">ubifs_prepare_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int <a class="el" href="cifspdu_8h.html#ad3de1eee6c1ecd144cfca8050cc35752">pad</a>)</td></tr>
<tr class="separator:afc84fffe117700474d9902f71743efce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5677a6fb9ba9810931ab381e9ca3e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9d5677a6fb9ba9810931ab381e9ca3e3">ubifs_prep_grp_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *node, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int last)</td></tr>
<tr class="separator:a9d5677a6fb9ba9810931ab381e9ca3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb205e449d68293e4545e1907ed86e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#acdb205e449d68293e4545e1907ed86e8">ubifs_io_init</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:acdb205e449d68293e4545e1907ed86e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52d954c97cdff3426851893fbbcf91f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aa52d954c97cdff3426851893fbbcf91f">ubifs_pad</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="cifspdu_8h.html#ad3de1eee6c1ecd144cfca8050cc35752">pad</a>)</td></tr>
<tr class="separator:aa52d954c97cdff3426851893fbbcf91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6d29ad192528c05f246cd31a1732fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb">ubifs_wbuf_sync_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf)</td></tr>
<tr class="separator:a3e6d29ad192528c05f246cd31a1732fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaa5d9c13d5a1ec099306e70446376a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a">ubifs_bg_wbufs_sync</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a7aaa5d9c13d5a1ec099306e70446376a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bb751e441c7a2479b5251b1423d16a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a44bb751e441c7a2479b5251b1423d16a">ubifs_wbuf_add_ino_nolock</a> (struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *wbuf, ino_t inum)</td></tr>
<tr class="separator:a44bb751e441c7a2479b5251b1423d16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c2db86f03a3bcacb020be5daf7b74c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c">ubifs_sync_wbufs_by_inode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a74c2db86f03a3bcacb020be5daf7b74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1689915d09ec86f76b30ee598b10f34e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e">ubifs_scan</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf, int quiet)</td></tr>
<tr class="separator:a1689915d09ec86f76b30ee598b10f34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e559a0c70f1f17d0886f600cd59a639"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7e559a0c70f1f17d0886f600cd59a639">ubifs_scan_destroy</a> (struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *sleb)</td></tr>
<tr class="separator:a7e559a0c70f1f17d0886f600cd59a639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab974ec909e594f54f7773880688a2334"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab974ec909e594f54f7773880688a2334">ubifs_scan_a_node</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, int lnum, int offs, int quiet)</td></tr>
<tr class="separator:ab974ec909e594f54f7773880688a2334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e61563282a3ab80fa1947e24f1726e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ac9e61563282a3ab80fa1947e24f1726e">ubifs_start_scan</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf)</td></tr>
<tr class="separator:ac9e61563282a3ab80fa1947e24f1726e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a20ae4d7200218e4b1b4ce3cd803b21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7a20ae4d7200218e4b1b4ce3cd803b21">ubifs_end_scan</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *sleb, int lnum, int offs)</td></tr>
<tr class="separator:a7a20ae4d7200218e4b1b4ce3cd803b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582c1d1b35a0fe0cd1d73f2f88adaa67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a582c1d1b35a0fe0cd1d73f2f88adaa67">ubifs_add_snod</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *sleb, void *buf, int offs)</td></tr>
<tr class="separator:a582c1d1b35a0fe0cd1d73f2f88adaa67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18197e05567059efbb981ebe037255bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a18197e05567059efbb981ebe037255bb">ubifs_scanned_corruption</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *buf)</td></tr>
<tr class="separator:a18197e05567059efbb981ebe037255bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3366b2b2350ca5e120af4be6f2e67b79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3366b2b2350ca5e120af4be6f2e67b79">ubifs_add_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *bud)</td></tr>
<tr class="separator:a3366b2b2350ca5e120af4be6f2e67b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe6eeceb696c0a9c66c6e5929e21f68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#abfe6eeceb696c0a9c66c6e5929e21f68">ubifs_create_buds_lists</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:abfe6eeceb696c0a9c66c6e5929e21f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b30a0dc99186d8f07ee2f47693f11b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7">ubifs_add_bud_to_log</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int jhead, int lnum, int offs)</td></tr>
<tr class="separator:a8b30a0dc99186d8f07ee2f47693f11b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356501925fe3150a487dcc7ba555520e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a356501925fe3150a487dcc7ba555520e">ubifs_search_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:a356501925fe3150a487dcc7ba555520e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9dc523cdf72cfa612382b02651778b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#adb9dc523cdf72cfa612382b02651778b">ubifs_get_wbuf</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:adb9dc523cdf72cfa612382b02651778b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabacb52b14ebf81d602c26b57622cd7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a">ubifs_log_start_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int *ltail_lnum)</td></tr>
<tr class="separator:aabacb52b14ebf81d602c26b57622cd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc055011c36deb7c78dc10c2c5d24f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7">ubifs_log_end_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int new_ltail_lnum)</td></tr>
<tr class="separator:a9cc055011c36deb7c78dc10c2c5d24f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e11c018b891280acfdb1e3071d5e18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18">ubifs_log_post_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int old_ltail_lnum)</td></tr>
<tr class="separator:a84e11c018b891280acfdb1e3071d5e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2a784a2060ee8ca565097ed7ae2bcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf">ubifs_consolidate_log</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a2e2a784a2060ee8ca565097ed7ae2bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad342a112d6f683c94399a45a14ec3aef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef">ubifs_jnl_update</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *dir, const struct fscrypt_name *nm, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, int deletion, int xent)</td></tr>
<tr class="separator:ad342a112d6f683c94399a45a14ec3aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed51b8a566d5776a783b6f955c32cf5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5">ubifs_jnl_write_data</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, const void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a9ed51b8a566d5776a783b6f955c32cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1bde924b99b7852408656e18230d99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99">ubifs_jnl_write_inode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a8c1bde924b99b7852408656e18230d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae33ce80e24113a8224187cb917d0c09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09">ubifs_jnl_delete_inode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:aae33ce80e24113a8224187cb917d0c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a295cfad6549230751ca3d670fd12fc12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12">ubifs_jnl_xrename</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *fst_dir, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *fst_inode, const struct fscrypt_name *fst_nm, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *snd_dir, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *snd_inode, const struct fscrypt_name *snd_nm, int sync)</td></tr>
<tr class="separator:a295cfad6549230751ca3d670fd12fc12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6387ea48fd6825a567f58c2786bee56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56">ubifs_jnl_rename</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *old_dir, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *old_inode, const struct fscrypt_name *old_nm, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="proc__sysctl_8c.html#aba72ac0468502015dfce9545fb0650f2">new_dir</a>, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="inode_8c.html#ae03a9f08d4efbf91ff44e29c1369314e">new_inode</a>, const struct fscrypt_name *new_nm, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *whiteout, int sync)</td></tr>
<tr class="separator:ab6387ea48fd6825a567f58c2786bee56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2057b667417cf20bfd05deb79a8a0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e">ubifs_jnl_truncate</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, loff_t old_size, loff_t new_size)</td></tr>
<tr class="separator:a2a2057b667417cf20bfd05deb79a8a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ae3c25abba8f076e8d4e000ffcf45d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d">ubifs_jnl_delete_xattr</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *host, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a75ae3c25abba8f076e8d4e000ffcf45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3994496f803665f9b68e76fa48127b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b">ubifs_jnl_change_xattr</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *inode1, const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *inode2)</td></tr>
<tr class="separator:a6f3994496f803665f9b68e76fa48127b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c8a1e101f1eb52eafc1200ef0544ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae">ubifs_budget_space</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *req)</td></tr>
<tr class="separator:a97c8a1e101f1eb52eafc1200ef0544ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4a050131358f08985939fa532bc694"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#afb4a050131358f08985939fa532bc694">ubifs_release_budget</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *req)</td></tr>
<tr class="separator:afb4a050131358f08985939fa532bc694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a33c943c4f8862342d84cc1b152182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a42a33c943c4f8862342d84cc1b152182">ubifs_release_dirty_inode_budget</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__inode.html">ubifs_inode</a> *ui)</td></tr>
<tr class="separator:a42a33c943c4f8862342d84cc1b152182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d4b3449eaea8a7b53ded0299b35647"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a06d4b3449eaea8a7b53ded0299b35647">ubifs_budget_inode_op</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *req)</td></tr>
<tr class="separator:a06d4b3449eaea8a7b53ded0299b35647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabadc9c790abbcd28fe220bb0a9391ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aabadc9c790abbcd28fe220bb0a9391ea">ubifs_release_ino_dirty</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *req)</td></tr>
<tr class="separator:aabadc9c790abbcd28fe220bb0a9391ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abcf473421d0a52ba69d38346cb9b49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6abcf473421d0a52ba69d38346cb9b49">ubifs_cancel_ino_op</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *req)</td></tr>
<tr class="separator:a6abcf473421d0a52ba69d38346cb9b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a8f2bce74b5f5ab48b7afa5b8ce02a"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a88a8f2bce74b5f5ab48b7afa5b8ce02a">ubifs_get_free_space</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a88a8f2bce74b5f5ab48b7afa5b8ce02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6323235e83f399d119f1deb54fa2f144"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6323235e83f399d119f1deb54fa2f144">ubifs_get_free_space_nolock</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a6323235e83f399d119f1deb54fa2f144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6109e1d36eaa593c345944d0d4b30745"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6109e1d36eaa593c345944d0d4b30745">ubifs_calc_min_idx_lebs</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a6109e1d36eaa593c345944d0d4b30745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcf8189b7afa1fce3cb515f617feb84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a5dcf8189b7afa1fce3cb515f617feb84">ubifs_convert_page_budget</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a5dcf8189b7afa1fce3cb515f617feb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e49aaeea4680a7b2c9973ba0dde86c"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a66e49aaeea4680a7b2c9973ba0dde86c">ubifs_reported_space</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, long long <a class="el" href="cifspdu_8h.html#a29e94a3da97728e39afcbafa40610788">free</a>)</td></tr>
<tr class="separator:a66e49aaeea4680a7b2c9973ba0dde86c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa1427281786d8bfca793236b5f0457"><td class="memItemLeft" align="right" valign="top">long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#adaa1427281786d8bfca793236b5f0457">ubifs_calc_available</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int min_idx_lebs)</td></tr>
<tr class="separator:adaa1427281786d8bfca793236b5f0457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f03e32ffa32d28279f1eaf0f81c4a5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f">ubifs_find_free_space</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int min_space, int *offs, int squeeze)</td></tr>
<tr class="separator:a1f03e32ffa32d28279f1eaf0f81c4a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbeb2fbcdd3403f15e5d6ce214edcf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9">ubifs_find_free_leb_for_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a5dbeb2fbcdd3403f15e5d6ce214edcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e0f58e74f915d84712f6a1367b75d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0">ubifs_find_dirty_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *ret_lp, int min_space, int pick_free)</td></tr>
<tr class="separator:aa0e0f58e74f915d84712f6a1367b75d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9755efbbff945daa2e58b2c996976a29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29">ubifs_find_dirty_idx_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a9755efbbff945daa2e58b2c996976a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb183b65aeed0bc4e18681aec0ffdb5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#abb183b65aeed0bc4e18681aec0ffdb5b">ubifs_save_dirty_idx_lnums</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:abb183b65aeed0bc4e18681aec0ffdb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2004703a60d098f1644d4f3e25338759"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759">ubifs_lookup_level0</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **zn, int *n)</td></tr>
<tr class="separator:a2004703a60d098f1644d4f3e25338759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acd7162c6b75b30de6dc29c1f0f292a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a">ubifs_tnc_lookup_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a8acd7162c6b75b30de6dc29c1f0f292a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387af0daafa698c00f2b6517b29d2e90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90">ubifs_tnc_lookup_dh</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, uint32_t secondary_hash)</td></tr>
<tr class="separator:a387af0daafa698c00f2b6517b29d2e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e762f5309412966e944b237a2c03c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3">ubifs_tnc_locate</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, void *node, int *lnum, int *offs)</td></tr>
<tr class="separator:a93e762f5309412966e944b237a2c03c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9bccdd201d5b2525ba901e00ece03f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f">ubifs_tnc_add</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a0f9bccdd201d5b2525ba901e00ece03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57909b33c6b9924633e733ac7dd4cfc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7">ubifs_tnc_replace</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int old_lnum, int old_offs, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>)</td></tr>
<tr class="separator:a57909b33c6b9924633e733ac7dd4cfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f4b8ea4414cb096acbac0c4ae433c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9">ubifs_tnc_add_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int lnum, int offs, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a76f4b8ea4414cb096acbac0c4ae433c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a35dc3d88f050a79040c66540d2885f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f">ubifs_tnc_remove</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>)</td></tr>
<tr class="separator:a1a35dc3d88f050a79040c66540d2885f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f37bcb32fdd0e4c25fca00b7a66198"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198">ubifs_tnc_remove_nm</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:a45f37bcb32fdd0e4c25fca00b7a66198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bae0dd5ac22531cbdfe78042f3f3a7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e">ubifs_tnc_remove_dh</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, uint32_t cookie)</td></tr>
<tr class="separator:a6bae0dd5ac22531cbdfe78042f3f3a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba3e5b7438f8f8463357069869364077"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077">ubifs_tnc_remove_range</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *from_key, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *to_key)</td></tr>
<tr class="separator:aba3e5b7438f8f8463357069869364077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928b6fd97b873a391e906fa28720273e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e">ubifs_tnc_remove_ino</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, ino_t inum)</td></tr>
<tr class="separator:a928b6fd97b873a391e906fa28720273e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab11d1b085510e4c3a49e8ea79e84b14"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14">ubifs_tnc_next_ent</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, const struct fscrypt_name *nm)</td></tr>
<tr class="separator:aab11d1b085510e4c3a49e8ea79e84b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0250b1b8a26f9ab4196fbec0dff74b14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14">ubifs_tnc_close</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a0250b1b8a26f9ab4196fbec0dff74b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4e198020559a2622dfb16bdc5b3b24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24">ubifs_tnc_has_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs, int is_idx)</td></tr>
<tr class="separator:a6a4e198020559a2622dfb16bdc5b3b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a388ce018049e8a7da4da512f8e1dcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf">ubifs_dirty_idx_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs)</td></tr>
<tr class="separator:a3a388ce018049e8a7da4da512f8e1dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e38c99f12ee3c060c9214d14ec62f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a01e38c99f12ee3c060c9214d14ec62f3">destroy_old_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a01e38c99f12ee3c060c9214d14ec62f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a7fe7d3853972004012eaa58fc7d3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f">is_idx_node_in_tnc</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int lnum, int offs)</td></tr>
<tr class="separator:af4a7fe7d3853972004012eaa58fc7d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb06b4070b4a33080b62c3882163a274"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#adb06b4070b4a33080b62c3882163a274">insert_old_idx_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:adb06b4070b4a33080b62c3882163a274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a85587c22ac5f315c3fe1d76a9301e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e">ubifs_tnc_get_bu_keys</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structbu__info.html">bu_info</a> *bu)</td></tr>
<tr class="separator:a45a85587c22ac5f315c3fe1d76a9301e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7748d9645dfee9cdc9c0d62afd5a50d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d">ubifs_tnc_bulk_read</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structbu__info.html">bu_info</a> *bu)</td></tr>
<tr class="separator:ae7748d9645dfee9cdc9c0d62afd5a50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7dbe47a30b69444c419cc86334aae56"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af7dbe47a30b69444c419cc86334aae56">ubifs_tnc_levelorder_next</a> (struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *zr, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:af7dbe47a30b69444c419cc86334aae56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795e1a9542770ea482f128ed03e6a87f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a795e1a9542770ea482f128ed03e6a87f">ubifs_search_zbranch</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode, const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int *n)</td></tr>
<tr class="separator:a795e1a9542770ea482f128ed03e6a87f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a13645d24f27ca0f17eec920e0e6c5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a97a13645d24f27ca0f17eec920e0e6c5">ubifs_tnc_postorder_first</a> (struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:a97a13645d24f27ca0f17eec920e0e6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73fd13bf253a9f01d5ddeb1e6da16fc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab73fd13bf253a9f01d5ddeb1e6da16fc">ubifs_tnc_postorder_next</a> (struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *znode)</td></tr>
<tr class="separator:ab73fd13bf253a9f01d5ddeb1e6da16fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41a64fc28f65279e3fde70d9aad11e03"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a41a64fc28f65279e3fde70d9aad11e03">ubifs_destroy_tnc_subtree</a> (struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *zr)</td></tr>
<tr class="separator:a41a64fc28f65279e3fde70d9aad11e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f2b6d42e83b9a23712bb251112eb1b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a59f2b6d42e83b9a23712bb251112eb1b">ubifs_load_znode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *parent, int iip)</td></tr>
<tr class="separator:a59f2b6d42e83b9a23712bb251112eb1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e631b2ac150afe245c06afae9abe5e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4">ubifs_tnc_read_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zbr, void *node)</td></tr>
<tr class="separator:a9e631b2ac150afe245c06afae9abe5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1e7a24e81c4fa022a4065530bd77bff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff">ubifs_tnc_start_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *zroot)</td></tr>
<tr class="separator:ae1e7a24e81c4fa022a4065530bd77bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e11b3b283926c57ea7d7e7aaf6cabe1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1">ubifs_tnc_end_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a3e11b3b283926c57ea7d7e7aaf6cabe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148b76e3e941071fe7395e70793f9996"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a148b76e3e941071fe7395e70793f9996">ubifs_shrink_scan</a> (struct shrinker *shrink, struct shrink_control *sc)</td></tr>
<tr class="separator:a148b76e3e941071fe7395e70793f9996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1012527005350c22c8535ba5fcff1f4"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad1012527005350c22c8535ba5fcff1f4">ubifs_shrink_count</a> (struct shrinker *shrink, struct shrink_control *sc)</td></tr>
<tr class="separator:ad1012527005350c22c8535ba5fcff1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d2abb94e9ca171f253ba64fdbf7aa6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6">ubifs_bg_thread</a> (void *info)</td></tr>
<tr class="separator:ad1d2abb94e9ca171f253ba64fdbf7aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9dcff4b0f768c14f6f8448f4b1343e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6e9dcff4b0f768c14f6f8448f4b1343e">ubifs_commit_required</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a6e9dcff4b0f768c14f6f8448f4b1343e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c27328fd39184ba2e1bdfa1970275e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6c27328fd39184ba2e1bdfa1970275e7">ubifs_request_bg_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a6c27328fd39184ba2e1bdfa1970275e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4c760f55879f81abc758f058e481834"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834">ubifs_run_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ae4c760f55879f81abc758f058e481834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c84c77144cc7f468e572644a673f8d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0c84c77144cc7f468e572644a673f8d1">ubifs_recovery_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a0c84c77144cc7f468e572644a673f8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18183f6ca9e5e865909aa32d50f4be4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a18183f6ca9e5e865909aa32d50f4be4b">ubifs_gc_should_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a18183f6ca9e5e865909aa32d50f4be4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21adbde75a6f14427f25293082423474"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a21adbde75a6f14427f25293082423474">ubifs_wait_for_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a21adbde75a6f14427f25293082423474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45820de3d377c5a1f29a160f5fb0d77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77">ubifs_read_master</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ac45820de3d377c5a1f29a160f5fb0d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dd7f158ea38355047d1718f7f01ecd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd">ubifs_write_master</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a18dd7f158ea38355047d1718f7f01ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92995d9363effd044b46c432911fd7c6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6">ubifs_read_superblock</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a92995d9363effd044b46c432911fd7c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aea8a0dedc50e5d3693a4961c3c494d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__sb__node.html">ubifs_sb_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d">ubifs_read_sb_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a5aea8a0dedc50e5d3693a4961c3c494d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9695fcc75ffa07efff2111b02ebd89c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3">ubifs_write_sb_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__sb__node.html">ubifs_sb_node</a> *sup)</td></tr>
<tr class="separator:a9695fcc75ffa07efff2111b02ebd89c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bacccbb99ed3d3f67a20cac2ac99990"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990">ubifs_fixup_free_space</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a7bacccbb99ed3d3f67a20cac2ac99990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79b22b1f088c88c40e019e23efb61e0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a">ubifs_enable_encryption</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a79b22b1f088c88c40e019e23efb61e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1ba80877b09e706904424df32d5ed3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7b1ba80877b09e706904424df32d5ed3">ubifs_validate_entry</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *dent)</td></tr>
<tr class="separator:a7b1ba80877b09e706904424df32d5ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76f722fe22c9c52675c75c16369d414"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414">ubifs_replay_journal</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af76f722fe22c9c52675c75c16369d414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aba86bcae816613915e10318fdf6b83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83">ubifs_garbage_collect</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int anyway)</td></tr>
<tr class="separator:a6aba86bcae816613915e10318fdf6b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff584f97bf8a1783fc9fecde0a87b1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e">ubifs_gc_start_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a1ff584f97bf8a1783fc9fecde0a87b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8f539c87c6fbdd3a73195b54dd9995"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995">ubifs_gc_end_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:abd8f539c87c6fbdd3a73195b54dd9995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6784f1871dcccddfaa64cc9ad74c3ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af6784f1871dcccddfaa64cc9ad74c3ea">ubifs_destroy_idx_gc</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af6784f1871dcccddfaa64cc9ad74c3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e83b83738924a4b92576798c5409df2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2e83b83738924a4b92576798c5409df2">ubifs_get_idx_gc_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a2e83b83738924a4b92576798c5409df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29dd378f4b22d45580bff155cbb275cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd">ubifs_garbage_collect_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lp)</td></tr>
<tr class="separator:a29dd378f4b22d45580bff155cbb275cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb45f2ae734e577bef2f6ffd715069aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#acb45f2ae734e577bef2f6ffd715069aa">ubifs_add_orphan</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, ino_t inum)</td></tr>
<tr class="separator:acb45f2ae734e577bef2f6ffd715069aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0eab9d33c998c259bd6f0b4f23ec41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#afc0eab9d33c998c259bd6f0b4f23ec41">ubifs_delete_orphan</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, ino_t inum)</td></tr>
<tr class="separator:afc0eab9d33c998c259bd6f0b4f23ec41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4644cfc76e621c7abb3683b063707f4e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a4644cfc76e621c7abb3683b063707f4e">ubifs_orphan_start_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a4644cfc76e621c7abb3683b063707f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85394180871fe6a819b8312c7c01f865"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865">ubifs_orphan_end_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a85394180871fe6a819b8312c7c01f865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c245b49b58cf15dd381f99530af6807"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807">ubifs_mount_orphans</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int unclean, int read_only)</td></tr>
<tr class="separator:a2c245b49b58cf15dd381f99530af6807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78cc7397d8b6ff99de2b335a5a6b87c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c">ubifs_clear_orphans</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af78cc7397d8b6ff99de2b335a5a6b87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0dfe15f5321726023a967d0db0b332e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af0dfe15f5321726023a967d0db0b332e">ubifs_calc_lpt_geom</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af0dfe15f5321726023a967d0db0b332e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c22b57dd8b454ef3308f2f5b558763c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c">ubifs_create_dflt_lpt</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int *main_lebs, int lpt_first, int *lpt_lebs, int *big_lpt)</td></tr>
<tr class="separator:a2c22b57dd8b454ef3308f2f5b558763c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765344f4763e8492c9902f7af4c6488e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a765344f4763e8492c9902f7af4c6488e">ubifs_lpt_init</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int rd, int wr)</td></tr>
<tr class="separator:a765344f4763e8492c9902f7af4c6488e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c4868152bb6ea9ae7c87e7dad9cede"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede">ubifs_lpt_lookup</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:af1c4868152bb6ea9ae7c87e7dad9cede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4e71b1fffa493cfb997feaff2c0638"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638">ubifs_lpt_lookup_dirty</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:ade4e71b1fffa493cfb997feaff2c0638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34800df1b6052b492ca05c589dfec386"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386">ubifs_lpt_scan_nolock</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int start_lnum, int end_lnum, <a class="el" href="ubifs_8h.html#ae31f4a8c1523d14ee875036936253ae8">ubifs_lpt_scan_callback</a> scan_cb, void *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a34800df1b6052b492ca05c589dfec386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11db630f1593b785cd612588586aeae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ac11db630f1593b785cd612588586aeae">ubifs_pack_lsave</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int *lsave)</td></tr>
<tr class="separator:ac11db630f1593b785cd612588586aeae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad99814ae0b31a6bfee2356440bf809"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#abad99814ae0b31a6bfee2356440bf809">ubifs_pack_ltab</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, struct <a class="el" href="structubifs__lpt__lprops.html">ubifs_lpt_lprops</a> *ltab)</td></tr>
<tr class="separator:abad99814ae0b31a6bfee2356440bf809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574e2659deacbc27b7d7738b336c32b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a574e2659deacbc27b7d7738b336c32b0">ubifs_pack_pnode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, struct <a class="el" href="structubifs__pnode.html">ubifs_pnode</a> *pnode)</td></tr>
<tr class="separator:a574e2659deacbc27b7d7738b336c32b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbec92ddd1b0c9598e498a10d859500b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#afbec92ddd1b0c9598e498a10d859500b">ubifs_pack_nnode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *nnode)</td></tr>
<tr class="separator:afbec92ddd1b0c9598e498a10d859500b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f891756dae6c6dceeb51fb917b023b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__pnode.html">ubifs_pnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad8f891756dae6c6dceeb51fb917b023b">ubifs_get_pnode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *parent, int iip)</td></tr>
<tr class="separator:ad8f891756dae6c6dceeb51fb917b023b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd536e4a29b47a6485fc3931f91857b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7fd536e4a29b47a6485fc3931f91857b">ubifs_get_nnode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *parent, int iip)</td></tr>
<tr class="separator:a7fd536e4a29b47a6485fc3931f91857b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9ea5f42b955fdb68064bc37bd9540d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a6d9ea5f42b955fdb68064bc37bd9540d">ubifs_read_nnode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *parent, int iip)</td></tr>
<tr class="separator:a6d9ea5f42b955fdb68064bc37bd9540d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e7ec1ecf58650a45f5ffb5d4029d10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae5e7ec1ecf58650a45f5ffb5d4029d10">ubifs_add_lpt_dirt</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int dirty)</td></tr>
<tr class="separator:ae5e7ec1ecf58650a45f5ffb5d4029d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af853639d65479e588832f7abbc932bea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af853639d65479e588832f7abbc932bea">ubifs_add_nnode_dirt</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *nnode)</td></tr>
<tr class="separator:af853639d65479e588832f7abbc932bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af769280c22d887914ee95e9c2e4cc7de"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af769280c22d887914ee95e9c2e4cc7de">ubifs_unpack_bits</a> (uint8_t **addr, int *pos, int nrbits)</td></tr>
<tr class="separator:af769280c22d887914ee95e9c2e4cc7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1da01102b5d0779024cfd4547a80359"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aa1da01102b5d0779024cfd4547a80359">ubifs_first_nnode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int *hght)</td></tr>
<tr class="separator:aa1da01102b5d0779024cfd4547a80359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d29b2eba67308c09e6c7e05ad2b63b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0d29b2eba67308c09e6c7e05ad2b63b1">ubifs_unpack_nnode</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *nnode)</td></tr>
<tr class="separator:a0d29b2eba67308c09e6c7e05ad2b63b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0029b471c7e38ab8a4a1ab961ca25a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad0029b471c7e38ab8a4a1ab961ca25a4">ubifs_lpt_start_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ad0029b471c7e38ab8a4a1ab961ca25a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e84d4bec8fcf799eeb376d90f220efb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb">ubifs_lpt_end_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a2e84d4bec8fcf799eeb376d90f220efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca6bd7c2db50191b30308925d584e16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a0ca6bd7c2db50191b30308925d584e16">ubifs_lpt_post_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a0ca6bd7c2db50191b30308925d584e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af636d74671b9ccbfc96c6dba63800c69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af636d74671b9ccbfc96c6dba63800c69">ubifs_lpt_free</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int wr_only)</td></tr>
<tr class="separator:af636d74671b9ccbfc96c6dba63800c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc4c6a75b37762f214cbc91f0ebe664"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664">ubifs_change_lp</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lp, int <a class="el" href="cifspdu_8h.html#a29e94a3da97728e39afcbafa40610788">free</a>, int dirty, int <a class="el" href="structflags.html">flags</a>, int idx_gc_cnt)</td></tr>
<tr class="separator:abfc4c6a75b37762f214cbc91f0ebe664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4a969b18d269964ff80d11eb94b8ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8a4a969b18d269964ff80d11eb94b8ab">ubifs_get_lp_stats</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lp__stats.html">ubifs_lp_stats</a> *lst)</td></tr>
<tr class="separator:a8a4a969b18d269964ff80d11eb94b8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664f531f8332b3c53d93e25c4e688e09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a664f531f8332b3c53d93e25c4e688e09">ubifs_add_to_cat</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int cat)</td></tr>
<tr class="separator:a664f531f8332b3c53d93e25c4e688e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2c2b7e688877c1df8d8f4d49e1728a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a4a2c2b7e688877c1df8d8f4d49e1728a">ubifs_replace_cat</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *old_lprops, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *new_lprops)</td></tr>
<tr class="separator:a4a2c2b7e688877c1df8d8f4d49e1728a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b315dc45919358339f018bbab084b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a37b315dc45919358339f018bbab084b8">ubifs_ensure_cat</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops)</td></tr>
<tr class="separator:a37b315dc45919358339f018bbab084b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2c9edc0537908ba98fe9a7ab5659d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a7a2c9edc0537908ba98fe9a7ab5659d8">ubifs_categorize_lprops</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops)</td></tr>
<tr class="separator:a7a2c9edc0537908ba98fe9a7ab5659d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3c0f6274cdeba0c778d57f29ab39bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf">ubifs_change_one_lp</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int <a class="el" href="cifspdu_8h.html#a29e94a3da97728e39afcbafa40610788">free</a>, int dirty, int flags_set, int flags_clean, int idx_gc_cnt)</td></tr>
<tr class="separator:aeb3c0f6274cdeba0c778d57f29ab39bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f8fc7da604fc1fbfa182c024679d42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42">ubifs_update_one_lp</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int <a class="el" href="cifspdu_8h.html#a29e94a3da97728e39afcbafa40610788">free</a>, int dirty, int flags_set, int flags_clean)</td></tr>
<tr class="separator:ae3f8fc7da604fc1fbfa182c024679d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb6fc2cca5a1e34192e3c54b90d3057"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057">ubifs_read_one_lp</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lp)</td></tr>
<tr class="separator:a1eb6fc2cca5a1e34192e3c54b90d3057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9c5f51e3eec037783db8eb0477b5cc"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9f9c5f51e3eec037783db8eb0477b5cc">ubifs_fast_find_free</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a9f9c5f51e3eec037783db8eb0477b5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bb5628372135952187c4c37b9a0a68"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af7bb5628372135952187c4c37b9a0a68">ubifs_fast_find_empty</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af7bb5628372135952187c4c37b9a0a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f3f200dc1d36660281ec0282293308"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#af4f3f200dc1d36660281ec0282293308">ubifs_fast_find_freeable</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:af4f3f200dc1d36660281ec0282293308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7db0b84b9b4c7666f34dd1c6d78b0a0"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae7db0b84b9b4c7666f34dd1c6d78b0a0">ubifs_fast_find_frdi_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ae7db0b84b9b4c7666f34dd1c6d78b0a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54fa4acd96a49b1bbe2baeac4dbd0c0b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b">ubifs_calc_dark</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int spc)</td></tr>
<tr class="separator:a54fa4acd96a49b1bbe2baeac4dbd0c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ece0e1f31ec99e76c25f892ae129e66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66">ubifs_fsync</a> (struct file *file, loff_t <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, loff_t end, int datasync)</td></tr>
<tr class="separator:a5ece0e1f31ec99e76c25f892ae129e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaebf1c80e366c0f2702f58b91d7a9d38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38">ubifs_setattr</a> (struct dentry *dentry, struct iattr *<a class="el" href="cifspdu_8h.html#a254afd421351a8d5ceee95b4084d9291">attr</a>)</td></tr>
<tr class="separator:aaebf1c80e366c0f2702f58b91d7a9d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1492bd8c5ac3be76470004b3c0f53672"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1492bd8c5ac3be76470004b3c0f53672">ubifs_new_inode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *dir, umode_t mode)</td></tr>
<tr class="separator:a1492bd8c5ac3be76470004b3c0f53672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb883e7eca073e98792a59125eca6ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3fb883e7eca073e98792a59125eca6ed">ubifs_getattr</a> (const struct path *path, struct kstat *<a class="el" href="nfs4callback_8c.html#a7d6f8a25e94209bd3ba29b2051ca4f08">stat</a>, u32 request_mask, unsigned int <a class="el" href="structflags.html">flags</a>)</td></tr>
<tr class="separator:a3fb883e7eca073e98792a59125eca6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a94169a2d88a3050d92a59d9bb9528b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b">ubifs_check_dir_empty</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *dir)</td></tr>
<tr class="separator:a2a94169a2d88a3050d92a59d9bb9528b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdadc0cabfab2afa9923087ac3ed6fa"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1fdadc0cabfab2afa9923087ac3ed6fa">ubifs_listxattr</a> (struct dentry *dentry, char *buffer, size_t <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a1fdadc0cabfab2afa9923087ac3ed6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0f8e28d408b8e89b4ce7d6047af912"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a2c0f8e28d408b8e89b4ce7d6047af912">ubifs_xattr_set</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *host, const char *<a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>, const void *value, size_t <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>, int <a class="el" href="structflags.html">flags</a>, bool check_lock)</td></tr>
<tr class="separator:a2c0f8e28d408b8e89b4ce7d6047af912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc7f16a5925850bf7a2213ebdc967f53"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#adc7f16a5925850bf7a2213ebdc967f53">ubifs_xattr_get</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *host, const char *<a class="el" href="ocfs2__fs_8h.html#ada19f4aad235f71d075b50e38c5bbbd7">name</a>, void *buf, size_t <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:adc7f16a5925850bf7a2213ebdc967f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff1ab85b59329875a7084014802262c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c">ubifs_evict_xattr_inode</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, ino_t xattr_inum)</td></tr>
<tr class="separator:aeff1ab85b59329875a7084014802262c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e52fa16110396ffb0817447ae15125c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c">ubifs_init_security</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *dentry, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, const struct qstr *qstr)</td></tr>
<tr class="separator:a3e52fa16110396ffb0817447ae15125c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09a32d85c773fd7364b69ee1f32b61c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c">ubifs_iget</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, unsigned long inum)</td></tr>
<tr class="separator:ad09a32d85c773fd7364b69ee1f32b61c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a5ff140312c68bb4c5e44593d11b90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90">ubifs_recover_master_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a11a5ff140312c68bb4c5e44593d11b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade432ff9351ac85efcb9cf0094d7b157"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157">ubifs_write_rcvrd_mst_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ade432ff9351ac85efcb9cf0094d7b157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3dc4ff452e67e327b4ad2e8888ffa4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4">ubifs_recover_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf, int jhead)</td></tr>
<tr class="separator:a1d3dc4ff452e67e327b4ad2e8888ffa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42393d54bbb6a1e25d5dde1f396b31f3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3">ubifs_recover_log_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum, int offs, void *sbuf)</td></tr>
<tr class="separator:a42393d54bbb6a1e25d5dde1f396b31f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0121bf0d3497aba350c96bbd431bea2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2">ubifs_recover_inl_heads</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *sbuf)</td></tr>
<tr class="separator:ab0121bf0d3497aba350c96bbd431bea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427d1842fd140c457b93e9d0f9c1e78d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d">ubifs_clean_lebs</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *sbuf)</td></tr>
<tr class="separator:a427d1842fd140c457b93e9d0f9c1e78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25afe7a337008e52b357558646ed71f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f">ubifs_rcvry_gc_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ae25afe7a337008e52b357558646ed71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88dd4e25e224557f93cba67c93532e0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a88dd4e25e224557f93cba67c93532e0a">ubifs_recover_size_accum</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, union <a class="el" href="unionubifs__key.html">ubifs_key</a> *<a class="el" href="cifspdu_8h.html#a63d44da4c2019b7ae1dd3c4e15b887aa">key</a>, int deletion, loff_t new_size)</td></tr>
<tr class="separator:a88dd4e25e224557f93cba67c93532e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e75fbfb42bc7cfecf3b62ab3f12f8e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e">ubifs_recover_size</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a20e75fbfb42bc7cfecf3b62ab3f12f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f091c7b064ca0a6d513bc580ad8c0fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a4f091c7b064ca0a6d513bc580ad8c0fe">ubifs_destroy_size_tree</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a4f091c7b064ca0a6d513bc580ad8c0fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9831447969acb35c927f7530bc47158e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e">ubifs_ioctl</a> (struct file *file, unsigned int <a class="el" href="send_8h.html#aba87c031cbb3e372df508f4153bd3f1c">cmd</a>, unsigned long arg)</td></tr>
<tr class="separator:a9831447969acb35c927f7530bc47158e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710028854a0cfc73a5d2d5b4e1b6417f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a710028854a0cfc73a5d2d5b4e1b6417f">ubifs_set_inode_flags</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a710028854a0cfc73a5d2d5b4e1b6417f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba795649d1c579aa18215daa1e32dfb8"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aba795649d1c579aa18215daa1e32dfb8">ubifs_compressors_init</a> (void)</td></tr>
<tr class="separator:aba795649d1c579aa18215daa1e32dfb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d2c76415a2086bbd8ffdbaf92a52c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#ac4d2c76415a2086bbd8ffdbaf92a52c2">ubifs_compressors_exit</a> (void)</td></tr>
<tr class="separator:ac4d2c76415a2086bbd8ffdbaf92a52c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34709dede6e3377bd2bcd99862e71ac7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a34709dede6e3377bd2bcd99862e71ac7">ubifs_compress</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const void *in_buf, int in_len, void *out_buf, int *out_len, int *compr_type)</td></tr>
<tr class="separator:a34709dede6e3377bd2bcd99862e71ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f95871b1df8b20f459c6a93a416b91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a58f95871b1df8b20f459c6a93a416b91">ubifs_decompress</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const void *buf, int <a class="el" href="rock_8h.html#aa1460ec7ef11d3c3a91c8ee9fb6380d5">len</a>, void *out, int *out_len, int compr_type)</td></tr>
<tr class="separator:a58f95871b1df8b20f459c6a93a416b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e932369ddd5677a5f5269a19501618"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#aa7e932369ddd5677a5f5269a19501618">ubifs_encrypt</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structubifs__data__node.html">ubifs_data_node</a> *dn, unsigned int in_len, unsigned int *out_len, int <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>)</td></tr>
<tr class="separator:aa7e932369ddd5677a5f5269a19501618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb0dc8b7e0e5f4cdbb42926e6b01639"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a8eb0dc8b7e0e5f4cdbb42926e6b01639">ubifs_decrypt</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structubifs__data__node.html">ubifs_data_node</a> *dn, unsigned int *out_len, int <a class="el" href="sysv_2super_8c.html#a6f5f3480b66f3cc414fd0d6dfcf54046">block</a>)</td></tr>
<tr class="separator:a8eb0dc8b7e0e5f4cdbb42926e6b01639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05379a3e5d4223a7821ec80d3606a6e6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a05379a3e5d4223a7821ec80d3606a6e6">ubifs_crypt_is_encrypted</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a05379a3e5d4223a7821ec80d3606a6e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa9930cc94a47ac345316581dd49ab3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_8h.html#a1aa9930cc94a47ac345316581dd49ab3">__printf</a> (2, 3) void <a class="el" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441">ubifs_msg</a>(const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c</td></tr>
<tr class="separator:a1aa9930cc94a47ac345316581dd49ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a287d1fe5c747ce32dc0173931bbad6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287d1fe5c747ce32dc0173931bbad6b1">&#9670;&nbsp;</a></span>__FS_HAS_ENCRYPTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __FS_HAS_ENCRYPTION&#160;&#160;&#160;IS_ENABLED(CONFIG_UBIFS_FS_ENCRYPTION)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a38622f3a5e25e140f63236bd4dfa5729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38622f3a5e25e140f63236bd4dfa5729">&#9670;&nbsp;</a></span>BASEHD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASEHD&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#aea94b5b52689b72d5adc95c4e421972a">UBIFS_BASE_HEAD</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a364e602f582ce83e25fbd62a2aa88da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a364e602f582ce83e25fbd62a2aa88da9">&#9670;&nbsp;</a></span>BGT_NAME_PATTERN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BGT_NAME_PATTERN&#160;&#160;&#160;&quot;ubifs_bgt%d_%d&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f82b1caec09f8db3828fed42fb959ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f82b1caec09f8db3828fed42fb959ef">&#9670;&nbsp;</a></span>BOTTOM_UP_HEIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOTTOM_UP_HEIGHT&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abfe92eeeb2635b243673c45f4517eb31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe92eeeb2635b243673c45f4517eb31">&#9670;&nbsp;</a></span>CALC_DENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALC_DENT_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="hfsplus_2xattr_8c.html#ae4ccf1ceae3bf7792a62283b6ca6cd99">name_len</a></td><td>)</td>
          <td>&#160;&#160;&#160;ALIGN(<a class="el" href="ubifs-media_8h.html#a71ca21b4d19804dd12eef16cc77aafbb">UBIFS_DENT_NODE_SZ</a> + (<a class="el" href="hfsplus_2xattr_8c.html#ae4ccf1ceae3bf7792a62283b6ca6cd99">name_len</a>) + 1, 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9dda58dca2f23252259efa28f6e1a785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dda58dca2f23252259efa28f6e1a785">&#9670;&nbsp;</a></span>CALC_XATTR_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALC_XATTR_BYTES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data_len</td><td>)</td>
          <td>&#160;&#160;&#160;ALIGN(<a class="el" href="ubifs-media_8h.html#a919490c5035dabbb2f3247d2920da563">UBIFS_INO_NODE_SZ</a> + (data_len) + 1, 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7a49e3e208f05373cc5f2f3f872344d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a49e3e208f05373cc5f2f3f872344d5">&#9670;&nbsp;</a></span>COMPRESSED_DATA_NODE_BUF_SZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMPRESSED_DATA_NODE_BUF_SZ&#160;&#160;&#160;(<a class="el" href="ubifs-media_8h.html#ad88b93a44d28da15d17297db8816eb33">UBIFS_DATA_NODE_SZ</a> + <a class="el" href="ubifs-media_8h.html#ae6eb6f11446af274d9a3c45181c799c5">UBIFS_BLOCK_SIZE</a> * <a class="el" href="ubifs_8h.html#a9c359ddca4487a2581e8d767cff63267">WORST_COMPR_FACTOR</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a32e269f92c6e66182e8808b8e2cb6579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e269f92c6e66182e8808b8e2cb6579">&#9670;&nbsp;</a></span>DATAHD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATAHD&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#a9114cb3225e46b742c96550b10396755">UBIFS_DATA_HEAD</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab7858ad1c025e3d4c8448a618e71f03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7858ad1c025e3d4c8448a618e71f03d">&#9670;&nbsp;</a></span>GCHD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GCHD&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#a0863422aaa8a63519908fde2b58acba2">UBIFS_GC_HEAD</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a470d9ee054e83e5bda7f4c45cc9ac074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470d9ee054e83e5bda7f4c45cc9ac074">&#9670;&nbsp;</a></span>INUM_WARN_WATERMARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INUM_WARN_WATERMARK&#160;&#160;&#160;0xFFF00000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a9b1960164b02adbff928231ce0fa2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9b1960164b02adbff928231ce0fa2b">&#9670;&nbsp;</a></span>INUM_WATERMARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INUM_WATERMARK&#160;&#160;&#160;0xFFFFFF00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c43eee6ec2714b05af3e8427eafa21b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c43eee6ec2714b05af3e8427eafa21b">&#9670;&nbsp;</a></span>LPROPS_NC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPROPS_NC&#160;&#160;&#160;0x80000001</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acd92db4fab653f6d00bd38c6ceab2baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd92db4fab653f6d00bd38c6ceab2baf">&#9670;&nbsp;</a></span>LPT_HEAP_SZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LPT_HEAP_SZ&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a70367c7c194a5531c0677ab3de3b686c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70367c7c194a5531c0677ab3de3b686c">&#9670;&nbsp;</a></span>MAX_INUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_INUM&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c07ddaa1d9c8b8d2e3beefe30a44a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c07ddaa1d9c8b8d2e3beefe30a44a48">&#9670;&nbsp;</a></span>MIN_INDEX_LEBS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_INDEX_LEBS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a39cc032ea1e4a67df56218ffa4821f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39cc032ea1e4a67df56218ffa4821f6e">&#9670;&nbsp;</a></span>MIN_WRITE_SZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_WRITE_SZ&#160;&#160;&#160;(<a class="el" href="ubifs-media_8h.html#ad88b93a44d28da15d17297db8816eb33">UBIFS_DATA_NODE_SZ</a> + 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a547f3ac1fd3c58ba59777cb4d550089d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547f3ac1fd3c58ba59777cb4d550089d">&#9670;&nbsp;</a></span>NONDATA_JHEADS_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NONDATA_JHEADS_CNT&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab892db7213347469e4f8ccf841c68e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab892db7213347469e4f8ccf841c68e05">&#9670;&nbsp;</a></span>OLD_ZNODE_AGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OLD_ZNODE_AGE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f346624ade24a6b7b72625f16cc3bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f346624ade24a6b7b72625f16cc3bba">&#9670;&nbsp;</a></span>SQNUM_WARN_WATERMARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SQNUM_WARN_WATERMARK&#160;&#160;&#160;0xFFFFFFFF00000000ULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1544901977ef0181116a1c97a1f8ca57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1544901977ef0181116a1c97a1f8ca57">&#9670;&nbsp;</a></span>SQNUM_WATERMARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SQNUM_WATERMARK&#160;&#160;&#160;0xFFFFFFFFFF000000ULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0e7059f07b3134fde28dc987c9271053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e7059f07b3134fde28dc987c9271053">&#9670;&nbsp;</a></span>UBIFS_BLOCKS_PER_PAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_BLOCKS_PER_PAGE&#160;&#160;&#160;(PAGE_SIZE / <a class="el" href="ubifs-media_8h.html#ae6eb6f11446af274d9a3c45181c799c5">UBIFS_BLOCK_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa9168016b42796e438ab9b0a04dc88a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9168016b42796e438ab9b0a04dc88a9">&#9670;&nbsp;</a></span>UBIFS_BLOCKS_PER_PAGE_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_BLOCKS_PER_PAGE_SHIFT&#160;&#160;&#160;(PAGE_SHIFT - <a class="el" href="ubifs-media_8h.html#a16301c33489031f6239e3f73845b3192">UBIFS_BLOCK_SHIFT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeac3d51d078ac5930a1e6b6aff11c436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac3d51d078ac5930a1e6b6aff11c436">&#9670;&nbsp;</a></span>UBIFS_CIPHER_BLOCK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_CIPHER_BLOCK_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adcc4dda8d534565183f6060be7e8cd95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc4dda8d534565183f6060be7e8cd95">&#9670;&nbsp;</a></span>ubifs_errc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ubifs_errc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="xfs__message_8h.html#a7da740c2b1c947b99a8ae43a36660222">fmt</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                    \</div><div class="line">    if (!(c)-&gt;probing)                      \</div><div class="line">        ubifs_err(c, <a class="code" href="ubifs_8h.html#a2e1e13663906d49587b861ae988c2cbc">fmt</a>, ##__VA_ARGS__);           \</div><div class="line">} <span class="keywordflow">while</span> (0)</div><div class="ttc" id="ubifs_8h_html_a2e1e13663906d49587b861ae988c2cbc"><div class="ttname"><a href="ubifs_8h.html#a2e1e13663906d49587b861ae988c2cbc">fmt</a></div><div class="ttdeci">const char * fmt</div><div class="ttdef"><b>Definition:</b> ubifs.h:1846</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4d1e5145efc75a95344d170722a5c57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d1e5145efc75a95344d170722a5c57">&#9670;&nbsp;</a></span>UBIFS_INVALID_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_INVALID_KEY&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#afb9ebf243cfb545c87dbaff67152d25fad37d82ded92099b5522f9e69efc36da3">UBIFS_KEY_TYPES_CNT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a80e8f37c3384524596537193fde25457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e8f37c3384524596537193fde25457">&#9670;&nbsp;</a></span>UBIFS_MAX_BULK_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_MAX_BULK_READ&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaddb42331762cc8d493d999ecdea885d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaddb42331762cc8d493d999ecdea885d">&#9670;&nbsp;</a></span>UBIFS_SUPER_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_SUPER_MAGIC&#160;&#160;&#160;0x24051905</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f751fce548d581ec00f9a97024ef9f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f751fce548d581ec00f9a97024ef9f2">&#9670;&nbsp;</a></span>UBIFS_TRUN_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_TRUN_KEY&#160;&#160;&#160;<a class="el" href="ubifs-media_8h.html#afb9ebf243cfb545c87dbaff67152d25fad37d82ded92099b5522f9e69efc36da3">UBIFS_KEY_TYPES_CNT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a83a52866cfc4c15b67d32e53eaa3a1d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83a52866cfc4c15b67d32e53eaa3a1d2">&#9670;&nbsp;</a></span>UBIFS_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UBIFS_VERSION&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9c359ddca4487a2581e8d767cff63267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c359ddca4487a2581e8d767cff63267">&#9670;&nbsp;</a></span>WORST_COMPR_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WORST_COMPR_FACTOR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad9f559319b3d66a9736fc6ba3a050bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9f559319b3d66a9736fc6ba3a050bba">&#9670;&nbsp;</a></span>YOUNG_ZNODE_AGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define YOUNG_ZNODE_AGE&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ae31f4a8c1523d14ee875036936253ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31f4a8c1523d14ee875036936253ae8">&#9670;&nbsp;</a></span>ubifs_lpt_scan_callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ubifs_lpt_scan_callback) (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int in_tree, void *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a336af30912e0daeb90ff5b49509f1a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336af30912e0daeb90ff5b49509f1a28">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a336af30912e0daeb90ff5b49509f1a28a8aa9d5e007c8146fdef6add6442bc127"></a>WB_MUTEX_1&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a336af30912e0daeb90ff5b49509f1a28a0564459f47872fabb0762ea1b0f9cd98"></a>WB_MUTEX_2&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a336af30912e0daeb90ff5b49509f1a28a71cbc0b010fa9dc2799de2ea25dffe7f"></a>WB_MUTEX_3&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a336af30912e0daeb90ff5b49509f1a28a3d540ea40dd0946acec62ff276bc8d3f"></a>WB_MUTEX_4&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a5909b1914667c9dd606229a8c9f744d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5909b1914667c9dd606229a8c9f744d4">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5909b1914667c9dd606229a8c9f744d4af306a6f8bf0cce88bd772b1bbb3e23a9"></a>DIRTY_ZNODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5909b1914667c9dd606229a8c9f744d4ad7c8b461a60e1232c091cc7bcb949a21"></a>COW_ZNODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5909b1914667c9dd606229a8c9f744d4a87d9156906af440eea1e389fc7850b00"></a>OBSOLETE_ZNODE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="af5dae9292efafd631b89a79a3743102f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5dae9292efafd631b89a79a3743102f">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af5dae9292efafd631b89a79a3743102fa7880fbf5227d5437002ea25c9bdfed98"></a>COMMIT_RESTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af5dae9292efafd631b89a79a3743102fa5941112c4cf1127558872a6fa36a6b83"></a>COMMIT_BACKGROUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af5dae9292efafd631b89a79a3743102faef3742ad931002125ee8c4dcf5b2e7fa"></a>COMMIT_REQUIRED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af5dae9292efafd631b89a79a3743102faf4d9809dddb548fa4f1aecf58602c2ce"></a>COMMIT_RUNNING_BACKGROUND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af5dae9292efafd631b89a79a3743102fa93280b828f2737b48d88c6d597bcca89"></a>COMMIT_RUNNING_REQUIRED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af5dae9292efafd631b89a79a3743102fa7a65cd72366ee4420c56faec6987fa5b"></a>COMMIT_BROKEN&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a6a2b6e5b2cf82af4267244382aba9ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2b6e5b2cf82af4267244382aba9ad1">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6a2b6e5b2cf82af4267244382aba9ad1a01cd90a5926bdc60c9a1a6a2d3707748"></a>SCANNED_GARBAGE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6a2b6e5b2cf82af4267244382aba9ad1a9bc171d5bcc6555ffe7cde4c5f29ff65"></a>SCANNED_EMPTY_SPACE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6a2b6e5b2cf82af4267244382aba9ad1a0e8e9dc291d4016a4a124ff6a6cbc491"></a>SCANNED_A_NODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6a2b6e5b2cf82af4267244382aba9ad1af2f38a56facb1ac8be08801cb4990482"></a>SCANNED_A_CORRUPT_NODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a6a2b6e5b2cf82af4267244382aba9ad1a06677d115713ba427f7293aba91a6aa1"></a>SCANNED_A_BAD_PAD_NODE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a0c00f9b634ceacd80778f260d04fcb21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c00f9b634ceacd80778f260d04fcb21">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0c00f9b634ceacd80778f260d04fcb21a980786108e98d5958e543dbb71906360"></a>DIRTY_CNODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c00f9b634ceacd80778f260d04fcb21afd92a304af5f5ab0264094fa062ed0aa"></a>OBSOLETE_CNODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0c00f9b634ceacd80778f260d04fcb21a7859aa6d6c3356d5032cf1816a328531"></a>COW_CNODE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="acead867376790caf7f23fe47c9e5e40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acead867376790caf7f23fe47c9e5e40f">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acead867376790caf7f23fe47c9e5e40fae6ffb8263feae9151ff2baafb19a7a08"></a>LTAB_DIRTY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acead867376790caf7f23fe47c9e5e40fa53c15556bcf0c30c172e8dfe898b40c2"></a>LSAVE_DIRTY&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a50899c36ce82c20956823f10005c31ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50899c36ce82c20956823f10005c31ae">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a50899c36ce82c20956823f10005c31aeaae39478140409b3245a5a88a9f05e006"></a>LEB_FREED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a50899c36ce82c20956823f10005c31aea37523a44165d011754a1a7ad574a6c0e"></a>LEB_FREED_IDX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a50899c36ce82c20956823f10005c31aea1b11de3de252fd4e013ef3082f1c8a16"></a>LEB_RETAINED&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="af1144085892df71432706e541ff3a8a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1144085892df71432706e541ff3a8a7">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a9c35c16546400abb7acfeb9d6e50012a"></a>LPROPS_UNCAT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7ae830848ebc90177da739d1cc0a0288f6"></a>LPROPS_DIRTY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7aed654de54247dd3b4d1f255ccacc53ca"></a>LPROPS_DIRTY_IDX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a7e6c676ab3afc5ef94b5098d1f4ebd86"></a>LPROPS_FREE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a7f0d271983f57b762cc1c50cfdf60f70"></a>LPROPS_HEAP_CNT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7ad33290343113d1e44a9488d08cbaab1b"></a>LPROPS_EMPTY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a108c1b1bcc781dcf12063b54242518e3"></a>LPROPS_FREEABLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a6f0cbc2ab7c4936ee7c8a24a9958534b"></a>LPROPS_FRDI_IDX&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7ada02f88e7bc3aa731eedf4509db4dec1"></a>LPROPS_CAT_MASK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a6deab60d91d9df07f1e81a6b7b9ce8e6"></a>LPROPS_TAKEN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af1144085892df71432706e541ff3a8a7a1f79e0ebb8c476480ed1774698e3869c"></a>LPROPS_INDEX&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a9ef7cb7b94eb063b02349c757bcee3b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ef7cb7b94eb063b02349c757bcee3b0">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9ef7cb7b94eb063b02349c757bcee3b0ac41a2f97fd3273075939882701ea6723"></a>LPT_SCAN_CONTINUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9ef7cb7b94eb063b02349c757bcee3b0aba82abb58d60c3fbab3c12555d4dba6d"></a>LPT_SCAN_ADD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9ef7cb7b94eb063b02349c757bcee3b0a49e98b35162f03b59341342848ad2015"></a>LPT_SCAN_STOP&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1aa9930cc94a47ac345316581dd49ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa9930cc94a47ac345316581dd49ab3">&#9670;&nbsp;</a></span>__printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__printf </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1aa9930cc94a47ac345316581dd49ab3_icgraph.png" border="0" usemap="#ubifs_8h_a1aa9930cc94a47ac345316581dd49ab3_icgraph" alt=""/></div>
<map name="ubifs_8h_a1aa9930cc94a47ac345316581dd49ab3_icgraph" id="ubifs_8h_a1aa9930cc94a47ac345316581dd49ab3_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a05379a3e5d4223a7821ec80d3606a6e6" title="ubifs_crypt_is_encrypted" alt="" coords="119,411,285,437"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a1492bd8c5ac3be76470004b3c0f53672" title="ubifs_new_inode" alt="" coords="343,183,461,209"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="355,233,449,260"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="354,284,450,311"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="357,335,447,361"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="359,385,445,412"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a83dff93d0eb4dba990c584c2a633a0df" title="ubifs_dir_open" alt="" coords="349,436,455,463"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="359,487,445,513"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a9985b01bbeef39aa80c6fe613ffff666" title="populate_page" alt="" coords="349,537,455,564"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="333,588,471,615"/>
<area shape="rect" id="node36" href="ubifs_2journal_8c.html#a687e1b07880f8f06558ceefc741d0465" title="truncate_data_node" alt="" coords="334,639,470,665"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="541,56,631,83"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="539,107,633,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="545,157,627,184"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="541,208,631,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="538,259,634,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="535,309,637,336"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="709,56,817,83"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="886,5,1019,32"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1081,31,1155,57"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="872,107,1033,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="715,132,811,159"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="719,183,806,209"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="903,183,1003,209"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="538,436,634,463"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="701,335,824,361"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="891,360,1014,387"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="706,436,819,463"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="897,512,1008,539"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="519,537,653,564"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="706,537,819,564"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="537,588,635,615"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="706,588,819,615"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="713,639,813,665"/>
<area shape="rect" id="node35" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="905,639,1000,665"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="524,639,648,665"/>
</map>
</div>

</div>
</div>
<a id="a01e38c99f12ee3c060c9214d14ec62f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e38c99f12ee3c060c9214d14ec62f3">&#9670;&nbsp;</a></span>destroy_old_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_old_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>destroy_old_idx - destroy the old_idx RB-tree. <code></code>: UBIFS file-system description object</p>
<p>During start commit, the old_idx RB-tree is used to avoid overwriting index nodes that were in the index last commit but have since been deleted. This is necessary for recovery i.e. the old index must be kept intact until the new index is successfully written. The old-idx RB-tree is used for the in-the-gaps method of writing index nodes and is destroyed every commit. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a01e38c99f12ee3c060c9214d14ec62f3_icgraph.png" border="0" usemap="#ubifs_8h_a01e38c99f12ee3c060c9214d14ec62f3_icgraph" alt=""/></div>
<map name="ubifs_8h_a01e38c99f12ee3c060c9214d14ec62f3_icgraph" id="ubifs_8h_a01e38c99f12ee3c060c9214d14ec62f3_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14" title="ubifs_tnc_close" alt="" coords="189,113,303,140"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="167,164,325,191"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="878,113,989,140"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1089,113,1183,140"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="1086,56,1186,83"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1281,56,1390,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1479,56,1572,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="1278,5,1393,32"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="373,164,460,191"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="515,164,626,191"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="508,360,633,387"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="876,164,991,191"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1073,164,1199,191"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1274,107,1397,133"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="693,436,795,463"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="687,335,801,361"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="855,284,1012,311"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="871,968,996,995"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="681,385,807,412"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1073,360,1199,387"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1459,689,1592,716"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1289,461,1382,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1294,309,1377,336"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1291,512,1380,539"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1287,411,1383,437"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1284,360,1387,387"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1482,309,1569,336"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1078,537,1194,564"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1067,1069,1205,1096"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1065,1171,1207,1197"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1073,303,1199,329"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1076,227,1196,253"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1074,1120,1198,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1063,1019,1209,1045"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1060,968,1212,995"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1290,563,1381,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1297,613,1374,640"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1290,664,1381,691"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1292,715,1379,741"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1286,1069,1385,1096"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1475,1069,1575,1096"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1274,1171,1397,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1260,1221,1411,1248"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1282,208,1389,235"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1286,1019,1385,1045"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1287,968,1384,995"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1067,639,1205,665"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1274,867,1397,893"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1279,917,1392,944"/>
</map>
</div>

</div>
</div>
<a id="adb06b4070b4a33080b62c3882163a274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb06b4070b4a33080b62c3882163a274">&#9670;&nbsp;</a></span>insert_old_idx_znode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_old_idx_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>insert_old_idx_znode - record a znode obsoleted since last commit start. <code></code>: UBIFS file-system description object : znode of obsoleted index node</p>
<p>Returns %0 on success, and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_adb06b4070b4a33080b62c3882163a274_cgraph.png" border="0" usemap="#ubifs_8h_adb06b4070b4a33080b62c3882163a274_cgraph" alt=""/></div>
<map name="ubifs_8h_adb06b4070b4a33080b62c3882163a274_cgraph" id="ubifs_8h_adb06b4070b4a33080b62c3882163a274_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="197,5,300,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="348,5,420,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_adb06b4070b4a33080b62c3882163a274_icgraph.png" border="0" usemap="#ubifs_8h_adb06b4070b4a33080b62c3882163a274_icgraph" alt=""/></div>
<map name="ubifs_8h_adb06b4070b4a33080b62c3882163a274_icgraph" id="ubifs_8h_adb06b4070b4a33080b62c3882163a274_icgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="213,487,295,513"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="197,563,311,589"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="378,397,503,424"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="365,487,516,513"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="367,537,514,564"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="359,309,523,336"/>
<area shape="rect" id="node4" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="774,321,905,348"/>
<area shape="rect" id="node5" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="975,309,1093,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1157,309,1295,336"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1363,284,1456,311"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="781,613,897,640"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="779,968,899,995"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="573,411,718,437"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="581,613,709,640"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="571,259,720,285"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="989,411,1079,437"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1179,512,1273,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1185,867,1267,893"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="995,765,1073,792"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="989,816,1079,843"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="991,613,1077,640"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1181,627,1271,653"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1178,703,1274,729"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1175,461,1277,488"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1172,411,1280,437"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1343,411,1476,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1361,867,1457,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1366,968,1453,995"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1524,993,1624,1020"/>
<area shape="rect" id="node26" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="790,385,889,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1163,1019,1289,1045"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1356,1019,1463,1045"/>
<area shape="rect" id="node31" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="783,95,895,121"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="774,259,905,285"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="768,157,911,184"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="959,157,1109,184"/>
<area shape="rect" id="node32" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="989,56,1079,83"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="971,208,1097,235"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="971,563,1097,589"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="973,107,1095,133"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1165,157,1287,184"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="583,113,707,140"/>
<area shape="rect" id="node45" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="579,309,712,336"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="789,19,889,45"/>
<area shape="rect" id="node44" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="987,5,1081,32"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="409,791,472,817"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="579,1019,712,1045"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="785,1019,894,1045"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="981,1019,1087,1045"/>
</map>
</div>

</div>
</div>
<a id="af4a7fe7d3853972004012eaa58fc7d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a7fe7d3853972004012eaa58fc7d3f">&#9670;&nbsp;</a></span>is_idx_node_in_tnc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_idx_node_in_tnc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>is_idx_node_in_tnc - determine if an index node is in the TNC. <code></code>: UBIFS file-system description object : key of index node : index node level : LEB number of index node : offset of index node</p>
<p>This function returns %0 if the index node is not referred to in the TNC, %1 if the index node is referred to in the TNC and the corresponding znode is dirty, %2 if an index node is referred to in the TNC and the corresponding znode is clean, and a negative error code in case of failure.</p>
<p>Note, the  argument has to be the key of the first child. Also note, this function relies on the fact that 0:0 is never a valid LEB number and offset for a main-area node. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_cgraph.png" border="0" usemap="#ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_cgraph" alt=""/></div>
<map name="ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_cgraph" id="ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="187,169,289,196"/>
<area shape="rect" id="node29" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="187,220,289,247"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1674,123,1749,149"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="672,245,795,272"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="997,93,1080,120"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="991,43,1086,69"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="475,144,624,171"/>
<area shape="rect" id="node26" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="341,296,423,323"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="508,245,591,272"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="337,245,427,272"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="843,245,932,272"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="980,397,1097,424"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1346,397,1418,424"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1320,347,1444,373"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1515,549,1590,576"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1493,207,1613,233"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1670,492,1753,519"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1155,448,1262,475"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1145,397,1272,424"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1515,439,1590,465"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1501,312,1604,339"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1505,363,1600,389"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1492,260,1613,287"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1670,439,1753,465"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1672,331,1751,357"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1661,179,1761,205"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1672,229,1751,256"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1671,280,1752,307"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_icgraph.png" border="0" usemap="#ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_icgraph" alt=""/></div>
<map name="ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_icgraph" id="ubifs_8h_af4a7fe7d3853972004012eaa58fc7d3f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="371,463,509,489"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a674601c7e9e367fc2e8f38696f9640c8" title="is_idx_node_in_use" alt="" coords="187,517,323,544"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="571,463,657,489"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="557,360,671,387"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="724,463,820,489"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="873,463,1045,489"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1093,461,1241,488"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1636,512,1793,539"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1299,411,1405,437"/>
<area shape="rect" id="node25" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1321,461,1383,488"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1463,309,1588,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1847,157,1963,184"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1646,259,1783,285"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1643,309,1786,336"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1651,360,1778,387"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1655,411,1775,437"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1653,461,1777,488"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1642,157,1787,184"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1639,208,1791,235"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="2025,56,2116,83"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2024,259,2117,285"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2029,309,2112,336"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2032,107,2109,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="2025,157,2116,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="2027,5,2114,32"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2026,360,2115,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2023,208,2119,235"/>
<area shape="rect" id="node26" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1463,360,1588,387"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1858,512,1951,539"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1842,563,1967,589"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1841,309,1968,336"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2016,512,2125,539"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2173,512,2267,539"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="896,284,1023,311"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1124,613,1211,640"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1104,284,1231,311"/>
<area shape="rect" id="node36" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1470,613,1581,640"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1289,512,1415,539"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1657,563,1772,589"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1474,461,1577,488"/>
<area shape="rect" id="node40" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1468,411,1583,437"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1301,360,1403,387"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1294,208,1410,235"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1295,259,1409,285"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1303,309,1401,336"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="373,524,507,551"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="559,536,669,563"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="719,561,825,588"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="880,612,1039,639"/>
</map>
</div>

</div>
</div>
<a id="a3366b2b2350ca5e120af4be6f2e67b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3366b2b2350ca5e120af4be6f2e67b79">&#9670;&nbsp;</a></span>ubifs_add_bud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_add_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *&#160;</td>
          <td class="paramname"><em>bud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_bud - add bud LEB to the tree of buds and its journal head list. <code></code>: UBIFS file-system description object : the bud to add </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_cgraph.png" border="0" usemap="#ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_cgraph" alt=""/></div>
<map name="ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_cgraph" id="ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="160,5,241,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_icgraph.png" border="0" usemap="#ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_icgraph" alt=""/></div>
<map name="ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_icgraph" id="ubifs_8h_a3366b2b2350ca5e120af4be6f2e67b79_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="160,537,308,564"/>
<area shape="rect" id="node48" href="replay_8c.html#a03c5c9cac39f739f5e6167f08cf5d95b" title="add_replay_bud" alt="" coords="357,639,471,665"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="356,537,472,564"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1108,461,1215,488"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="525,537,621,564"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="673,537,845,564"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="898,512,1046,539"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="893,587,1051,613"/>
<area shape="rect" id="node41" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1131,512,1192,539"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1272,461,1397,488"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1463,385,1579,412"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1453,664,1590,691"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1450,765,1593,792"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1458,35,1585,61"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1461,113,1581,140"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1459,816,1583,843"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1449,588,1594,615"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1445,221,1597,248"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1675,157,1766,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1674,563,1767,589"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1679,411,1762,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1682,208,1759,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1675,259,1766,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1677,309,1764,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1676,360,1765,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1673,461,1769,488"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1669,512,1772,539"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1851,157,1959,184"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2015,613,2148,640"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1857,411,1953,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1862,56,1949,83"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2031,31,2131,57"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1671,715,1770,741"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1849,715,1962,741"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1855,841,1955,868"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2034,841,2129,868"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1659,816,1782,843"/>
<area shape="rect" id="node31" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1645,765,1796,792"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1844,765,1967,792"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1852,5,1959,32"/>
<area shape="rect" id="node38" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1856,664,1955,691"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1672,107,1769,133"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1115,664,1208,691"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1099,613,1224,640"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1458,512,1585,539"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1280,867,1389,893"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1475,867,1568,893"/>
<area shape="rect" id="node49" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="520,643,625,669"/>
<area shape="rect" id="node50" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="691,655,828,681"/>
</map>
</div>

</div>
</div>
<a id="a8b30a0dc99186d8f07ee2f47693f11b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b30a0dc99186d8f07ee2f47693f11b7">&#9670;&nbsp;</a></span>ubifs_add_bud_to_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_add_bud_to_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>jhead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_bud_to_log - add a new bud to the log. <code></code>: UBIFS file-system description object : journal head the bud belongs to : LEB number of the bud : starting offset of the bud</p>
<p>This function writes reference node for the new bud LEB  it to the log, and adds it to the buds tress. It also makes sure that log size does not exceed the 'c-&gt;max_bud_bytes' limit. Returns zero in case of success, %-EAGAIN if commit is required, and a negative error codes in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph.png" border="0" usemap="#ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph" alt=""/></div>
<map name="ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph" id="ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a3dd7859b83714ed7d9692cf92a391fd9" title="empty_log_bytes" alt="" coords="226,5,347,32"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a6e9dcff4b0f768c14f6f8448f4b1343e" title="ubifs_commit_required" alt="" coords="210,56,363,83"/>
<area shape="rect" id="node5" href="ubifs_2commit_8c.html#a6c27328fd39184ba2e1bdfa1970275e7" title="ubifs_request_bg_commit" alt="" coords="201,107,372,133"/>
<area shape="rect" id="node7" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="216,157,357,184"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="427,867,547,893"/>
<area shape="rect" id="node42" href="ubifs_2io_8c.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="434,1069,541,1096"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="227,1221,347,1248"/>
<area shape="rect" id="node50" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79" title="ubifs_add_bud" alt="" coords="782,208,889,235"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="444,56,531,83"/>
<area shape="rect" id="node6" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="420,107,555,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="975,1221,1094,1248"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="603,867,716,893"/>
<area shape="rect" id="node34" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1190,1247,1262,1273"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="782,1221,889,1248"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="772,765,899,792"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="764,1019,907,1045"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="965,1019,1105,1045"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="963,360,1107,387"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="993,411,1076,437"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="991,461,1078,488"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="994,512,1075,539"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="967,563,1102,589"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="974,765,1095,792"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1163,1019,1289,1045"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1164,715,1288,741"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="955,816,1115,843"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="971,867,1099,893"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="973,309,1097,336"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="973,613,1097,640"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="969,1120,1100,1147"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="965,968,1104,995"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="978,917,1091,944"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="975,715,1095,741"/>
<area shape="rect" id="node20" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1361,892,1435,919"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1361,740,1435,767"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1347,639,1449,665"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1351,689,1445,716"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1337,791,1459,817"/>
<area shape="rect" id="node27" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1338,841,1458,868"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1507,1095,1589,1121"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1185,309,1267,336"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1164,765,1288,792"/>
<area shape="rect" id="node40" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="992,1272,1077,1299"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="610,968,709,995"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="420,1323,555,1349"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="433,1221,542,1248"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="613,1323,706,1349"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="620,1475,699,1501"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="608,1019,711,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph.png" border="0" usemap="#ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph" alt=""/></div>
<map name="ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph" id="ubifs_8h_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="201,461,317,488"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="925,512,1032,539"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="365,461,461,488"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="509,461,681,488"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="729,461,877,488"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1080,157,1237,184"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="948,461,1009,488"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1096,765,1221,792"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1303,385,1419,412"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1293,961,1430,988"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1290,1019,1433,1045"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1298,841,1425,868"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1301,765,1421,792"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1299,904,1423,931"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1289,664,1434,691"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1285,715,1437,741"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1515,512,1606,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1514,360,1607,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1519,157,1602,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1522,563,1599,589"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1515,411,1606,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1517,461,1604,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1516,208,1605,235"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1513,259,1609,285"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1509,309,1612,336"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1691,613,1799,640"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1869,563,2002,589"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2064,613,2137,640"/>
<area shape="rect" id="node13" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1855,613,2016,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1697,157,1793,184"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1702,689,1789,716"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1885,727,1985,753"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1511,968,1610,995"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1689,968,1802,995"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1695,917,1795,944"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1888,917,1983,944"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1499,1019,1622,1045"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1485,1069,1636,1096"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1684,1069,1807,1096"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1692,803,1799,829"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1511,664,1610,691"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1512,715,1609,741"/>
<area shape="rect" id="node43" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1096,461,1221,488"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1292,461,1431,488"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1315,31,1408,57"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1299,107,1424,133"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1298,208,1425,235"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1506,5,1615,32"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1499,56,1622,83"/>
</map>
</div>

</div>
</div>
<a id="ae5e7ec1ecf58650a45f5ffb5d4029d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e7ec1ecf58650a45f5ffb5d4029d10">&#9670;&nbsp;</a></span>ubifs_add_lpt_dirt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_add_lpt_dirt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_lpt_dirt - add dirty space to LPT LEB properties. <code></code>: UBIFS file-system description object : LEB number to which to add dirty space : amount of dirty space to add </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae5e7ec1ecf58650a45f5ffb5d4029d10_icgraph.png" border="0" usemap="#ubifs_8h_ae5e7ec1ecf58650a45f5ffb5d4029d10_icgraph" alt=""/></div>
<map name="ubifs_8h_ae5e7ec1ecf58650a45f5ffb5d4029d10_icgraph" id="ubifs_8h_ae5e7ec1ecf58650a45f5ffb5d4029d10_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="177,800,323,827"/>
<area shape="rect" id="node46" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="195,699,305,725"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a7c52541847260bef58e0ab363a435854" title="populate_lsave" alt="" coords="195,977,305,1004"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a68fb5e7cec161d6e0ea0eeff9c8f61af" title="make_ltab_dirty" alt="" coords="388,927,503,953"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a52a89e86e41b4f1c80fd1d041c95d61a" title="make_lsave_dirty" alt="" coords="188,876,312,903"/>
<area shape="rect" id="node3" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="385,657,505,684"/>
<area shape="rect" id="node38" href="lpt__commit_8c.html#a2861398a3a40bf3066a035be1acbffd1" title="do_make_pnode_dirty" alt="" coords="371,775,520,801"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="568,825,696,852"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="744,429,892,456"/>
<area shape="rect" id="node5" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="959,353,1063,380"/>
<area shape="rect" id="node7" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="944,556,1079,583"/>
<area shape="rect" id="node9" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="940,632,1083,659"/>
<area shape="rect" id="node12" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="1147,303,1269,329"/>
<area shape="rect" id="node15" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="1153,455,1263,481"/>
<area shape="rect" id="node16" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="953,404,1069,431"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="1136,708,1280,735"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1137,119,1279,145"/>
<area shape="rect" id="node34" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="1153,201,1263,228"/>
<area shape="rect" id="node37" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="1165,252,1251,279"/>
<area shape="rect" id="node6" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="1141,353,1275,380"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="1133,607,1283,633"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1354,506,1485,547"/>
<area shape="rect" id="node11" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1912,623,2027,649"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="1340,404,1499,431"/>
<area shape="rect" id="node14" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1555,448,1689,475"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1131,505,1285,532"/>
<area shape="rect" id="node21" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="1139,404,1277,431"/>
<area shape="rect" id="node18" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1579,825,1665,852"/>
<area shape="rect" id="node19" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1746,775,1857,801"/>
<area shape="rect" id="node20" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1739,825,1864,852"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1368,825,1471,852"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1333,876,1505,903"/>
<area shape="rect" id="node25" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1345,927,1494,953"/>
<area shape="rect" id="node26" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="1362,673,1477,700"/>
<area shape="rect" id="node27" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="1345,724,1493,751"/>
<area shape="rect" id="node28" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="1362,775,1477,801"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="1353,107,1486,133"/>
<area shape="rect" id="node31" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1368,157,1471,184"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="1340,5,1499,32"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="1375,56,1463,83"/>
<area shape="rect" id="node35" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="1361,208,1478,235"/>
<area shape="rect" id="node36" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1553,233,1691,260"/>
<area shape="rect" id="node39" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="761,764,875,791"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="568,775,696,801"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ad0029b471c7e38ab8a4a1ab961ca25a4" title="ubifs_lpt_start_commit" alt="" coords="1342,977,1497,1004"/>
<area shape="rect" id="node42" href="lpt__commit_8c.html#ac5b295c3d1f0a1f29798c16cbf1b2e81" title="make_node_dirty" alt="" coords="757,876,879,903"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="965,889,1057,916"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="1179,901,1237,928"/>
<area shape="rect" id="node47" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="572,476,692,503"/>
</map>
</div>

</div>
</div>
<a id="af853639d65479e588832f7abbc932bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af853639d65479e588832f7abbc932bea">&#9670;&nbsp;</a></span>ubifs_add_nnode_dirt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_add_nnode_dirt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td>
          <td class="paramname"><em>nnode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_nnode_dirt - add dirty space to LPT LEB properties. <code></code>: UBIFS file-system description object : nnode for which to add dirt </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af853639d65479e588832f7abbc932bea_cgraph.png" border="0" usemap="#ubifs_8h_af853639d65479e588832f7abbc932bea_cgraph" alt=""/></div>
<map name="ubifs_8h_af853639d65479e588832f7abbc932bea_cgraph" id="ubifs_8h_af853639d65479e588832f7abbc932bea_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="199,5,323,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af853639d65479e588832f7abbc932bea_icgraph.png" border="0" usemap="#ubifs_8h_af853639d65479e588832f7abbc932bea_icgraph" alt=""/></div>
<map name="ubifs_8h_af853639d65479e588832f7abbc932bea_icgraph" id="ubifs_8h_af853639d65479e588832f7abbc932bea_icgraph">
<area shape="rect" id="node2" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="213,697,333,724"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a2861398a3a40bf3066a035be1acbffd1" title="do_make_pnode_dirty" alt="" coords="199,1035,348,1061"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="209,1085,337,1112"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="396,433,544,460"/>
<area shape="rect" id="node4" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="611,765,715,792"/>
<area shape="rect" id="node11" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="596,484,731,511"/>
<area shape="rect" id="node13" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="592,855,735,881"/>
<area shape="rect" id="node17" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="796,332,919,359"/>
<area shape="rect" id="node21" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="803,383,912,409"/>
<area shape="rect" id="node22" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="605,433,721,460"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="785,664,929,691"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="787,136,928,163"/>
<area shape="rect" id="node39" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="802,281,913,308"/>
<area shape="rect" id="node42" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="815,231,900,257"/>
<area shape="rect" id="node5" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="790,803,925,829"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1204,613,1352,640"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1404,841,1561,868"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1429,512,1536,539"/>
<area shape="rect" id="node8" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1452,588,1513,615"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1609,411,1703,437"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="783,484,932,511"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1001,918,1131,959"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1221,867,1335,893"/>
<area shape="rect" id="node16" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="1226,925,1330,952"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="987,309,1145,336"/>
<area shape="rect" id="node19" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1211,335,1345,361"/>
<area shape="rect" id="node20" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="1428,335,1537,361"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1201,715,1355,741"/>
<area shape="rect" id="node25" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="789,433,926,460"/>
<area shape="rect" id="node24" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1439,740,1526,767"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1431,411,1534,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="980,715,1152,741"/>
<area shape="rect" id="node29" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1203,765,1353,792"/>
<area shape="rect" id="node30" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="1009,563,1123,589"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="992,664,1140,691"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="1009,512,1123,539"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="1200,664,1356,691"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="999,107,1133,133"/>
<area shape="rect" id="node36" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1015,157,1117,184"/>
<area shape="rect" id="node37" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="987,5,1145,32"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="1022,56,1110,83"/>
<area shape="rect" id="node40" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="1007,259,1125,285"/>
<area shape="rect" id="node41" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1209,259,1347,285"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="413,1009,527,1036"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="406,1060,534,1087"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ad0029b471c7e38ab8a4a1ab961ca25a4" title="ubifs_lpt_start_commit" alt="" coords="1201,1035,1355,1061"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#ac5b295c3d1f0a1f29798c16cbf1b2e81" title="make_node_dirty" alt="" coords="603,1085,724,1112"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="811,1085,903,1112"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="1037,1085,1095,1112"/>
</map>
</div>

</div>
</div>
<a id="acb45f2ae734e577bef2f6ffd715069aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb45f2ae734e577bef2f6ffd715069aa">&#9670;&nbsp;</a></span>ubifs_add_orphan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_add_orphan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_orphan - add an orphan. <code></code>: UBIFS file-system description object : orphan inode number</p>
<p>Add an orphan. This function is called when an inodes link count drops to zero. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_cgraph.png" border="0" usemap="#ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_cgraph" alt=""/></div>
<map name="ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_cgraph" id="ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="177,5,249,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_icgraph.png" border="0" usemap="#ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_icgraph" alt=""/></div>
<map name="ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_icgraph" id="ubifs_8h_acb45f2ae734e577bef2f6ffd715069aa_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="358,5,435,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="179,208,295,235"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="177,360,297,387"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="351,56,442,83"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="350,107,443,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="355,157,438,184"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="351,208,442,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="353,259,440,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="352,309,441,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="349,360,445,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="345,411,448,437"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="496,56,604,83"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="666,5,799,32"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="861,31,935,57"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="652,107,813,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="502,157,598,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="507,335,593,361"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="683,335,783,361"/>
</map>
</div>

</div>
</div>
<a id="a582c1d1b35a0fe0cd1d73f2f88adaa67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582c1d1b35a0fe0cd1d73f2f88adaa67">&#9670;&nbsp;</a></span>ubifs_add_snod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_add_snod </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td>
          <td class="paramname"><em>sleb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_snod - add a scanned node to LEB scanning information. <code></code>: UBIFS file-system description object : scanning information : buffer containing node : offset of node on flash</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph.png" border="0" usemap="#ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph" alt=""/></div>
<map name="ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph" id="ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="185,5,259,32"/>
<area shape="rect" id="node3" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="167,56,277,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph.png" border="0" usemap="#ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph" alt=""/></div>
<map name="ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph" id="ubifs_8h_a582c1d1b35a0fe0cd1d73f2f88adaa67_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="167,208,291,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="186,385,271,412"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="379,259,470,285"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="351,157,499,184"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="796,107,923,133"/>
<area shape="rect" id="node20" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="382,208,467,235"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="786,208,933,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1015,360,1108,387"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1179,360,1289,387"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="589,157,694,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="791,157,928,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="995,5,1128,32"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1015,56,1108,83"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1020,107,1103,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1017,157,1106,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1013,208,1109,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1010,259,1113,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1197,5,1271,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1186,132,1282,159"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1191,81,1277,108"/>
<area shape="rect" id="node21" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="595,208,687,235"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="368,664,481,691"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="585,613,698,640"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="359,563,490,589"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="339,360,511,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="568,360,715,387"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="365,461,484,488"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="358,512,491,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="559,740,724,767"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="998,639,1125,665"/>
<area shape="rect" id="node25" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="815,816,904,843"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="817,715,902,741"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="817,765,902,792"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1183,563,1285,589"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1176,613,1292,640"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1177,664,1291,691"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1185,715,1283,741"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="796,613,923,640"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1018,576,1105,603"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="572,563,711,589"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="772,563,947,589"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="567,411,715,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="563,309,720,336"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="806,461,913,488"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="829,411,890,437"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="797,309,922,336"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1000,309,1123,336"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="577,461,706,488"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="587,512,696,539"/>
</map>
</div>

</div>
</div>
<a id="a664f531f8332b3c53d93e25c4e688e09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664f531f8332b3c53d93e25c4e688e09">&#9670;&nbsp;</a></span>ubifs_add_to_cat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_add_to_cat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_to_cat - add LEB properties to a category list or heap. <code></code>: UBIFS file-system description object : LEB properties to add : LEB category to which to add</p>
<p>LEB properties are categorized to enable fast find operations. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_cgraph.png" border="0" usemap="#ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_cgraph" alt=""/></div>
<map name="ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_cgraph" id="ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_cgraph">
<area shape="rect" id="node2" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="175,56,292,83"/>
<area shape="rect" id="node3" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="519,5,657,32"/>
<area shape="rect" id="node4" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="340,31,471,57"/>
<area shape="rect" id="node5" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="345,492,465,519"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="530,416,646,443"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="523,467,653,493"/>
<area shape="rect" id="node8" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="530,568,646,595"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1466,492,1538,519"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="526,619,650,645"/>
<area shape="rect" id="node9" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="871,619,995,645"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="705,619,823,645"/>
<area shape="rect" id="node19" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="705,296,823,323"/>
<area shape="rect" id="node10" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1235,691,1388,733"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1060,568,1167,595"/>
<area shape="rect" id="node13" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1043,416,1184,443"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1059,669,1168,696"/>
<area shape="rect" id="node14" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1256,416,1367,443"/>
<area shape="rect" id="node15" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1439,340,1565,367"/>
<area shape="rect" id="node16" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1260,365,1363,392"/>
<area shape="rect" id="node20" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="888,296,977,323"/>
<area shape="rect" id="node27" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="886,169,979,196"/>
<area shape="rect" id="node21" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1235,126,1388,167"/>
<area shape="rect" id="node22" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1232,213,1391,240"/>
<area shape="rect" id="node23" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1060,315,1167,341"/>
<area shape="rect" id="node24" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1059,213,1168,240"/>
<area shape="rect" id="node25" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1055,365,1172,392"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1048,163,1179,189"/>
<area shape="rect" id="node28" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1053,61,1174,88"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_icgraph.png" border="0" usemap="#ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_icgraph" alt=""/></div>
<map name="ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_icgraph" id="ubifs_8h_a664f531f8332b3c53d93e25c4e688e09_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="175,268,296,295"/>
<area shape="rect" id="node23" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="344,432,465,459"/>
<area shape="rect" id="node44" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="189,344,282,371"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="513,255,664,281"/>
<area shape="rect" id="node4" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="731,457,835,484"/>
<area shape="rect" id="node11" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="716,204,851,231"/>
<area shape="rect" id="node13" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="712,609,855,636"/>
<area shape="rect" id="node17" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="919,280,1041,307"/>
<area shape="rect" id="node20" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1128,52,1255,79"/>
<area shape="rect" id="node5" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="913,457,1047,484"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1325,331,1473,357"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1521,497,1679,524"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1547,199,1653,225"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1727,53,1852,80"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1743,523,1836,549"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="905,179,1055,205"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1126,813,1257,854"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1342,711,1457,737"/>
<area shape="rect" id="node16" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="1347,820,1451,847"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="1112,204,1271,231"/>
<area shape="rect" id="node19" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1333,204,1466,231"/>
<area shape="rect" id="node21" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1356,508,1443,535"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1336,27,1463,53"/>
<area shape="rect" id="node24" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="725,508,841,535"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="903,508,1057,535"/>
<area shape="rect" id="node26" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="925,407,1035,433"/>
<area shape="rect" id="node27" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="911,331,1049,357"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="908,559,1052,585"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="909,929,1051,956"/>
<area shape="rect" id="node40" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="925,711,1035,737"/>
<area shape="rect" id="node43" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="937,980,1023,1007"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1549,628,1651,655"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1105,457,1277,484"/>
<area shape="rect" id="node31" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1117,559,1266,585"/>
<area shape="rect" id="node32" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="1134,356,1249,383"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="1117,609,1265,636"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="1134,660,1249,687"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="1125,1081,1258,1108"/>
<area shape="rect" id="node37" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1140,929,1243,956"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="1112,980,1271,1007"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="1147,1031,1235,1057"/>
<area shape="rect" id="node41" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="1133,879,1250,905"/>
<area shape="rect" id="node42" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1331,879,1468,905"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="346,356,463,383"/>
<area shape="rect" id="node46" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="725,305,841,332"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="515,508,663,535"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="519,356,658,383"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="537,407,640,433"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="917,229,1043,256"/>
</map>
</div>

</div>
</div>
<a id="ad1d2abb94e9ca171f253ba64fdbf7aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d2abb94e9ca171f253ba64fdbf7aa6">&#9670;&nbsp;</a></span>ubifs_bg_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_bg_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_bg_thread - UBIFS background thread function. : points to the file-system description object</p>
<p>This function implements various file-system background activities: o when a write-buffer timer expires it synchronizes the appropriate write-buffer; o when the journal is about to be full, it starts in-advance commit.</p>
<p>Note, other stuff like background garbage collection may be added here in future. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_cgraph.png" border="0" usemap="#ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_cgraph" alt=""/></div>
<map name="ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_cgraph" id="ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="931,312,1013,339"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="689,59,837,85"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1333,275,1439,301"/>
<area shape="rect" id="node14" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="168,355,279,381"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="889,464,1055,491"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="1103,312,1279,339"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1350,895,1422,921"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1150,616,1231,643"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="1151,717,1230,744"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1136,363,1245,389"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1327,604,1445,631"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1335,351,1437,377"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1493,313,1579,340"/>
<area shape="rect" id="node15" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="327,591,413,617"/>
<area shape="rect" id="node16" href="ubifs_2commit_8c.html#a349da7e934725810c922b20daec868ae" title="nothing_to_commit" alt="" coords="483,667,615,693"/>
<area shape="rect" id="node18" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="703,717,823,744"/>
<area shape="rect" id="node19" href="ubifs_2gc_8c.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="685,1072,840,1099"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="485,1319,612,1345"/>
<area shape="rect" id="node31" href="ubifs_2log_8c.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="684,768,841,795"/>
<area shape="rect" id="node36" href="tnc__commit_8c.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="469,616,628,643"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#ad0029b471c7e38ab8a4a1ab961ca25a4" title="ubifs_lpt_start_commit" alt="" coords="471,144,626,171"/>
<area shape="rect" id="node41" href="ubifs_2orphan_8c.html#a4644cfc76e621c7abb3683b063707f4e" title="ubifs_orphan_start\l_commit" alt="" coords="484,195,613,237"/>
<area shape="rect" id="node42" href="lprops_8c.html#a8a4a969b18d269964ff80d11eb94b8ab" title="ubifs_get_lp_stats" alt="" coords="485,363,613,389"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="472,413,625,440"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="474,464,623,491"/>
<area shape="rect" id="node45" href="ubifs_2orphan_8c.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="461,515,636,541"/>
<area shape="rect" id="node46" href="ubifs_2commit_8c.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="1117,971,1264,997"/>
<area shape="rect" id="node47" href="ubifs_2log_8c.html#a68cc48bfb09ca4270d8d3f953441e201" title="ubifs_log_end_commit" alt="" coords="473,920,625,947"/>
<area shape="rect" id="node48" href="ubifs_2log_8c.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="685,869,841,896"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="474,819,623,845"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a0ca6bd7c2db50191b30308925d584e16" title="ubifs_lpt_post_commit" alt="" coords="472,565,625,592"/>
<area shape="rect" id="node17" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="921,515,1023,541"/>
<area shape="rect" id="node20" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="913,1123,1031,1149"/>
<area shape="rect" id="node21" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="892,1173,1052,1200"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="912,869,1032,896"/>
<area shape="rect" id="node23" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="914,1224,1030,1251"/>
<area shape="rect" id="node24" href="lprops_8c.html#ae7db0b84b9b4c7666f34dd1c6d78b0a0" title="ubifs_fast_find_frdi_idx" alt="" coords="894,1021,1050,1048"/>
<area shape="rect" id="node25" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="901,1072,1043,1099"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="907,1395,1037,1421"/>
<area shape="rect" id="node28" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="687,1319,838,1345"/>
<area shape="rect" id="node29" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="1134,1148,1247,1175"/>
<area shape="rect" id="node30" href="lprops_8c.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="704,1369,821,1396"/>
<area shape="rect" id="node32" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa" title="dbg_check_bud_bytes" alt="" coords="896,920,1048,947"/>
<area shape="rect" id="node33" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="905,768,1039,795"/>
<area shape="rect" id="node34" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="901,819,1043,845"/>
<area shape="rect" id="node35" href="ubifs_2log_8c.html#a1c5014480a8dd06adad3de568a191081" title="remove_buds" alt="" coords="922,616,1022,643"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="707,515,818,541"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a64748c798bfc8c8fd1ee5bedae19a5b3" title="get_znodes_to_commit" alt="" coords="684,464,841,491"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="711,616,815,643"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_icgraph.png" border="0" usemap="#ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_icgraph" alt=""/></div>
<map name="ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_icgraph" id="ubifs_8h_ad1d2abb94e9ca171f253ba64fdbf7aa6_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="184,5,277,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="168,56,293,83"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="348,5,457,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="512,5,605,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="341,56,464,83"/>
</map>
</div>

</div>
</div>
<a id="a7aaa5d9c13d5a1ec099306e70446376a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aaa5d9c13d5a1ec099306e70446376a">&#9670;&nbsp;</a></span>ubifs_bg_wbufs_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_bg_wbufs_sync </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_bg_wbufs_sync - synchronize write-buffers. <code></code>: UBIFS file-system description object</p>
<p>This function is called by background thread to synchronize write-buffers. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_cgraph.png" border="0" usemap="#ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_cgraph" alt=""/></div>
<map name="ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_cgraph" id="ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="201,575,367,601"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="415,5,591,32"/>
<area shape="rect" id="node24" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1211,1019,1283,1045"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="639,2032,745,2059"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1207,107,1288,133"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="463,575,542,601"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="448,1931,557,1957"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1012,1981,1131,2008"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="641,1981,743,2008"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="801,1019,928,1045"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="793,1981,936,2008"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1029,2057,1114,2084"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="817,2032,912,2059"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1001,1120,1141,1147"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="999,1171,1143,1197"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1030,1221,1113,1248"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1028,1272,1115,1299"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1031,1323,1112,1349"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1004,1373,1139,1400"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1011,1424,1132,1451"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1008,1475,1135,1501"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1009,1525,1133,1552"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="991,1576,1151,1603"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1007,1627,1135,1653"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1009,107,1133,133"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1009,157,1133,184"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1006,1880,1137,1907"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1002,309,1141,336"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1015,1728,1128,1755"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1011,512,1131,539"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1006,563,1137,589"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1009,613,1133,640"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1006,664,1137,691"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1014,816,1129,843"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1008,867,1135,893"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1001,917,1142,944"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1014,1779,1129,1805"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="997,968,1145,995"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="994,1829,1149,1856"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1008,208,1135,235"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="986,1069,1157,1096"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="998,259,1145,285"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1013,360,1130,387"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1015,411,1128,437"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="997,461,1146,488"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="1015,715,1128,741"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="984,765,1159,792"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1018,1019,1125,1045"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="1016,1677,1127,1704"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_icgraph.png" border="0" usemap="#ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_icgraph" alt=""/></div>
<map name="ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_icgraph" id="ubifs_8h_a7aaa5d9c13d5a1ec099306e70446376a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="201,31,316,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="380,5,473,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="364,56,489,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="544,5,653,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="708,5,801,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="537,56,660,83"/>
</map>
</div>

</div>
</div>
<a id="a06d4b3449eaea8a7b53ded0299b35647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d4b3449eaea8a7b53ded0299b35647">&#9670;&nbsp;</a></span>ubifs_budget_inode_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_budget_inode_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a97c8a1e101f1eb52eafc1200ef0544ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c8a1e101f1eb52eafc1200ef0544ae">&#9670;&nbsp;</a></span>ubifs_budget_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_budget_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_budget_space - ensure there is enough space to complete an operation. <code></code>: UBIFS file-system description object : budget request</p>
<p>This function allocates budget for an operation. It uses pessimistic approximation of how much flash space the operation needs. The goal of this function is to make sure UBIFS always has flash space to flush all dirty pages, dirty inodes, and dirty znodes (liability). This function may force commit, garbage-collection or write-back. Returns zero in case of success, %-ENOSPC if there is no free space and other negative error codes in case of failures. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_cgraph.png" border="0" usemap="#ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_cgraph" alt=""/></div>
<map name="ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_cgraph" id="ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_cgraph">
<area shape="rect" id="node2" href="budget_8c.html#ae7fb821f0bda60b202ba1bd7b8445634" title="calc_data_growth" alt="" coords="193,5,317,32"/>
<area shape="rect" id="node3" href="budget_8c.html#ad59159f2a92429bd81d6bcb530d7c5c5" title="calc_dd_growth" alt="" coords="198,56,311,83"/>
<area shape="rect" id="node4" href="budget_8c.html#ac3fe021e20fd3d248577fe5d2623ad96" title="calc_idx_growth" alt="" coords="197,107,313,133"/>
<area shape="rect" id="node5" href="budget_8c.html#a2defe97e005967f0deab94271d273ff1" title="can_use_rp" alt="" coords="390,68,479,95"/>
<area shape="rect" id="node6" href="budget_8c.html#ae0376da215ef10226bf8949db1efe446" title="do_budget_space" alt="" coords="193,208,317,235"/>
<area shape="rect" id="node9" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="192,284,317,311"/>
<area shape="rect" id="node26" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1417,1064,1489,1091"/>
<area shape="rect" id="node7" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="971,220,1135,247"/>
<area shape="rect" id="node8" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="365,119,504,145"/>
<area shape="rect" id="node10" href="budget_8c.html#af6ffce775afbdd84428a42c48116af4d" title="get_liability" alt="" coords="391,284,478,311"/>
<area shape="rect" id="node11" href="budget_8c.html#a86d591c657c803075a7270c12b4f25e1" title="shrink_liability" alt="" coords="383,169,487,196"/>
<area shape="rect" id="node18" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="593,372,655,399"/>
<area shape="rect" id="node31" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="372,608,497,635"/>
<area shape="rect" id="node12" href="fs-writeback_8c.html#a70bbac9421dfdcee19058ee02fa48d60" title="writeback_inodes_sb" alt="" coords="552,144,696,171"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#a5f14271630e6ec54ed1bb0d6d47eebb5" title="writeback_inodes_sb_nr" alt="" coords="750,119,913,145"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="983,169,1122,196"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#a0212abe301572be390e75990c26df518" title="get_nr_dirty_pages" alt="" coords="765,60,897,87"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#a887e7bd03820702e5bfe81228027bece" title="__writeback_inodes\l_sb_nr" alt="" coords="984,103,1121,145"/>
<area shape="rect" id="node17" href="inode_8c.html#aa66e4e917c986fb8fcb36efebf00a217" title="get_nr_dirty_inodes" alt="" coords="985,52,1120,79"/>
<area shape="rect" id="node19" href="ubifs_2gc_8c.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="757,372,905,399"/>
<area shape="rect" id="node30" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="995,676,1110,703"/>
<area shape="rect" id="node20" href="ubifs_2commit_8c.html#a18183f6ca9e5e865909aa32d50f4be4b" title="ubifs_gc_should_commit" alt="" coords="969,423,1136,449"/>
<area shape="rect" id="node21" href="ubifs_2commit_8c.html#a6e9dcff4b0f768c14f6f8448f4b1343e" title="ubifs_commit_required" alt="" coords="976,321,1129,348"/>
<area shape="rect" id="node23" href="find_8c.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="985,473,1120,500"/>
<area shape="rect" id="node24" href="ubifs_2gc_8c.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="967,575,1139,601"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="1209,803,1329,829"/>
<area shape="rect" id="node28" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1400,372,1507,399"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="1187,575,1352,601"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1226,321,1313,348"/>
<area shape="rect" id="node25" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="1197,727,1341,753"/>
<area shape="rect" id="node32" href="ubifs_2commit_8c.html#a8066477fd4d182a562575fec9c1460f9" title="wait_for_commit" alt="" coords="565,608,683,635"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="581,819,667,845"/>
<area shape="rect" id="node34" href="ubifs_2commit_8c.html#a349da7e934725810c922b20daec868ae" title="nothing_to_commit" alt="" coords="765,1199,897,1225"/>
<area shape="rect" id="node35" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="993,727,1113,753"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="975,980,1130,1007"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="768,793,895,820"/>
<area shape="rect" id="node38" href="ubifs_2log_8c.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="974,929,1131,956"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="752,271,911,297"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#ad0029b471c7e38ab8a4a1ab961ca25a4" title="ubifs_lpt_start_commit" alt="" coords="754,524,909,551"/>
<area shape="rect" id="node41" href="ubifs_2orphan_8c.html#a4644cfc76e621c7abb3683b063707f4e" title="ubifs_orphan_start\l_commit" alt="" coords="767,575,896,617"/>
<area shape="rect" id="node42" href="lprops_8c.html#a8a4a969b18d269964ff80d11eb94b8ab" title="ubifs_get_lp_stats" alt="" coords="767,641,895,668"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="755,692,908,719"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="757,945,906,972"/>
<area shape="rect" id="node45" href="ubifs_2orphan_8c.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="744,996,919,1023"/>
<area shape="rect" id="node46" href="ubifs_2commit_8c.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="1196,1300,1343,1327"/>
<area shape="rect" id="node47" href="ubifs_2log_8c.html#a68cc48bfb09ca4270d8d3f953441e201" title="ubifs_log_end_commit" alt="" coords="755,1047,907,1073"/>
<area shape="rect" id="node48" href="ubifs_2log_8c.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="753,743,909,769"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="978,828,1127,855"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a0ca6bd7c2db50191b30308925d584e16" title="ubifs_lpt_post_commit" alt="" coords="755,1097,908,1124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_icgraph.png" border="0" usemap="#ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_icgraph" alt=""/></div>
<map name="ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_icgraph" id="ubifs_8h_a97c8a1e101f1eb52eafc1200ef0544ae_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="227,5,317,32"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="223,56,321,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="642,107,741,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="840,176,933,203"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="845,283,928,309"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1006,409,1093,436"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="233,536,311,563"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="227,587,317,613"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="229,637,315,664"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="842,333,931,360"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="839,384,935,411"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="835,435,938,461"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="211,688,333,715"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="215,739,329,765"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="222,789,322,816"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="232,840,312,867"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="192,941,352,968"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="426,916,537,943"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="400,979,563,1005"/>
<area shape="rect" id="node30" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="238,283,306,309"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="427,5,535,32"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="820,88,953,115"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1013,12,1086,39"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="611,56,772,83"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1001,283,1097,309"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1145,409,1245,436"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="420,713,543,740"/>
<area shape="rect" id="node24" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="434,815,529,841"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a8cca742dfff2189dce5332cb5f013793" title="ubifs_write_iter" alt="" coords="636,916,747,943"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="441,283,522,309"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="628,283,755,309"/>
</map>
</div>

</div>
</div>
<a id="adaa1427281786d8bfca793236b5f0457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa1427281786d8bfca793236b5f0457">&#9670;&nbsp;</a></span>ubifs_calc_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long ubifs_calc_available </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_idx_lebs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_calc_available - calculate available FS space. <code></code>: UBIFS file-system description object : minimum number of LEBs reserved for the index</p>
<p>This function calculates and returns amount of FS space available for use. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_adaa1427281786d8bfca793236b5f0457_icgraph.png" border="0" usemap="#ubifs_8h_adaa1427281786d8bfca793236b5f0457_icgraph" alt=""/></div>
<map name="ubifs_8h_adaa1427281786d8bfca793236b5f0457_icgraph" id="ubifs_8h_adaa1427281786d8bfca793236b5f0457_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="398,715,522,741"/>
<area shape="rect" id="node42" href="budget_8c.html#ae0376da215ef10226bf8949db1efe446" title="do_budget_space" alt="" coords="203,563,327,589"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="192,910,339,951"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="759,664,887,691"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="745,867,900,893"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="949,841,1076,868"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="589,765,688,792"/>
<area shape="rect" id="node14" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="581,715,696,741"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="950,537,1075,564"/>
<area shape="rect" id="node38" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="582,613,695,640"/>
<area shape="rect" id="node40" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="584,563,693,589"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="966,664,1059,691"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="950,752,1075,779"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="951,892,1074,919"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1149,765,1251,792"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1142,816,1258,843"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1143,867,1257,893"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1151,917,1249,944"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="744,715,901,741"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1142,563,1258,589"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1131,613,1269,640"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1129,664,1271,691"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1137,715,1263,741"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1140,88,1260,115"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1138,171,1262,197"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1127,284,1273,311"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1124,21,1276,48"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1359,461,1449,488"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1357,512,1451,539"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1363,563,1445,589"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1365,613,1443,640"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1359,664,1449,691"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1361,715,1447,741"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1359,765,1449,792"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1356,816,1452,843"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1353,867,1455,893"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1532,360,1619,387"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1354,107,1454,133"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1355,157,1453,184"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1355,5,1453,32"/>
<area shape="rect" id="node39" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="759,613,886,640"/>
<area shape="rect" id="node41" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="769,563,876,589"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1131,461,1269,488"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1343,411,1465,437"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1347,208,1461,235"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1364,259,1444,285"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1324,309,1484,336"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="749,917,897,944"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a88a8f2bce74b5f5ab48b7afa5b8ce02a" title="ubifs_get_free_space" alt="" coords="387,968,533,995"/>
</map>
</div>

</div>
</div>
<a id="a54fa4acd96a49b1bbe2baeac4dbd0c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54fa4acd96a49b1bbe2baeac4dbd0c0b">&#9670;&nbsp;</a></span>ubifs_calc_dark()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_calc_dark </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>spc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_calc_dark - calculate LEB dark space size. <code></code>: the UBIFS file-system description object : amount of free and dirty space in the LEB</p>
<p>This function calculates and returns amount of dark space in an LEB which has  bytes of free and dirty space.</p>
<p>UBIFS is trying to account the space which might not be usable, and this space is called "dark space". For example, if an LEB has only %512 free bytes, it is dark space, because it cannot fit a large data node. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a54fa4acd96a49b1bbe2baeac4dbd0c0b_icgraph.png" border="0" usemap="#ubifs_8h_a54fa4acd96a49b1bbe2baeac4dbd0c0b_icgraph" alt=""/></div>
<map name="ubifs_8h_a54fa4acd96a49b1bbe2baeac4dbd0c0b_icgraph" id="ubifs_8h_a54fa4acd96a49b1bbe2baeac4dbd0c0b_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="341,183,465,209"/>
<area shape="rect" id="node18" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="761,233,874,260"/>
<area shape="rect" id="node22" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="167,820,283,847"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="543,183,674,209"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1145,81,1272,108"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="955,360,1083,387"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="768,31,867,57"/>
<area shape="rect" id="node8" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="760,436,875,463"/>
<area shape="rect" id="node10" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1146,411,1271,437"/>
<area shape="rect" id="node21" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="964,600,1073,627"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1162,512,1255,539"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1146,461,1271,488"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="940,512,1097,539"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1331,715,1447,741"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1320,411,1457,437"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1337,107,1440,133"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1331,157,1447,184"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1332,5,1445,32"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1339,56,1438,83"/>
<area shape="rect" id="node19" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="955,411,1082,437"/>
<area shape="rect" id="node20" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1165,845,1252,872"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="941,972,1096,999"/>
<area shape="rect" id="node24" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="541,373,676,400"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="743,284,892,311"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="543,425,674,466"/>
<area shape="rect" id="node30" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="341,795,464,821"/>
<area shape="rect" id="node33" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="348,845,457,872"/>
<area shape="rect" id="node34" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="334,896,471,923"/>
<area shape="rect" id="node35" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="331,668,475,695"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="332,1149,473,1176"/>
<area shape="rect" id="node47" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="347,997,458,1024"/>
<area shape="rect" id="node50" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="360,947,445,973"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="743,537,891,564"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="965,461,1072,488"/>
<area shape="rect" id="node29" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="765,487,869,513"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="529,896,688,923"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="751,740,884,767"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="967,671,1070,697"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="523,592,695,619"/>
<area shape="rect" id="node38" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="743,845,892,872"/>
<area shape="rect" id="node39" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="551,541,666,568"/>
<area shape="rect" id="node40" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="535,744,683,771"/>
<area shape="rect" id="node41" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="551,795,666,821"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="542,1099,675,1125"/>
<area shape="rect" id="node44" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1157,1023,1260,1049"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="529,1200,688,1227"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="565,1251,653,1277"/>
<area shape="rect" id="node48" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="550,997,667,1024"/>
<area shape="rect" id="node49" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="749,947,886,973"/>
</map>
</div>

</div>
</div>
<a id="af0dfe15f5321726023a967d0db0b332e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0dfe15f5321726023a967d0db0b332e">&#9670;&nbsp;</a></span>ubifs_calc_lpt_geom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_calc_lpt_geom </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_calc_lpt_geom - calculate and check sizes for the LPT area. <code></code>: the UBIFS file-system description object</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af0dfe15f5321726023a967d0db0b332e_cgraph.png" border="0" usemap="#ubifs_8h_af0dfe15f5321726023a967d0db0b332e_cgraph" alt=""/></div>
<map name="ubifs_8h_af0dfe15f5321726023a967d0db0b332e_cgraph" id="ubifs_8h_af0dfe15f5321726023a967d0db0b332e_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a8b4d1e481e3c2afa2d9d7a3b334bba6c" title="do_calc_lpt_geom" alt="" coords="195,5,321,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="222,56,294,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af0dfe15f5321726023a967d0db0b332e_icgraph.png" border="0" usemap="#ubifs_8h_af0dfe15f5321726023a967d0db0b332e_icgraph" alt=""/></div>
<map name="ubifs_8h_af0dfe15f5321726023a967d0db0b332e_icgraph" id="ubifs_8h_af0dfe15f5321726023a967d0db0b332e_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a71ca50d16311c2c12a14c65272f012ad" title="init_constants_sb" alt="" coords="195,5,319,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="367,5,460,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="508,5,617,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="665,5,759,32"/>
</map>
</div>

</div>
</div>
<a id="a6109e1d36eaa593c345944d0d4b30745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6109e1d36eaa593c345944d0d4b30745">&#9670;&nbsp;</a></span>ubifs_calc_min_idx_lebs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_calc_min_idx_lebs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_calc_min_idx_lebs - calculate amount of LEBs for the index. <code></code>: UBIFS file-system description object</p>
<p>This function calculates and returns the number of LEBs which should be kept for index usage. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6109e1d36eaa593c345944d0d4b30745_icgraph.png" border="0" usemap="#ubifs_8h_a6109e1d36eaa593c345944d0d4b30745_icgraph" alt=""/></div>
<map name="ubifs_8h_a6109e1d36eaa593c345944d0d4b30745_icgraph" id="ubifs_8h_a6109e1d36eaa593c345944d0d4b30745_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a1ec4af9c805e63aea85b94819eee9868" title="init_constants_master" alt="" coords="221,588,372,615"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="451,537,545,564"/>
<area shape="rect" id="node6" href="budget_8c.html#ae0376da215ef10226bf8949db1efe446" title="do_budget_space" alt="" coords="235,765,359,792"/>
<area shape="rect" id="node35" href="ubifs_8h.html#afb4a050131358f08985939fa532bc694" title="ubifs_release_budget" alt="" coords="425,917,571,944"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a5dcf8189b7afa1fce3cb515f617feb84" title="ubifs_convert_page\l_budget" alt="" coords="641,1222,775,1263"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="223,1354,370,1395"/>
<area shape="rect" id="node49" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="217,1467,376,1493"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="653,5,763,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="879,5,972,32"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="429,588,567,615"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="663,309,753,336"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="659,208,757,235"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="659,157,757,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="661,765,755,792"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="667,360,749,387"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="882,309,969,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="669,917,747,944"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="663,968,753,995"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="665,816,751,843"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="663,867,753,893"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="660,613,756,640"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="657,664,759,691"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="864,1259,987,1285"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="869,107,982,133"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1071,1288,1171,1315"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="668,56,748,83"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="628,1069,788,1096"/>
<area shape="rect" id="node31" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="870,1069,981,1096"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="844,1189,1007,1216"/>
<area shape="rect" id="node34" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="674,715,742,741"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="871,208,979,235"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1055,183,1188,209"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="877,360,973,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1071,816,1171,843"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="1060,411,1183,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1236,756,1331,783"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a8cca742dfff2189dce5332cb5f013793" title="ubifs_write_iter" alt="" coords="1066,1069,1177,1096"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="872,1332,979,1359"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a01989f957629450ab7009eb5df5129a9" title="release_new_page_budget" alt="" coords="620,1456,796,1483"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#adcc5939bd48e791a796e320711c9fd84" title="release_existing_page\l_budget" alt="" coords="633,1507,783,1549"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a42a33c943c4f8862342d84cc1b152182" title="ubifs_release_dirty\l_inode_budget" alt="" coords="643,1339,773,1381"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a6e8d6bd20f19e6df845b44c32800a704" title="cancel_budget" alt="" coords="872,1407,979,1433"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="876,1457,975,1484"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#aa4c1180586f8cacea1cd78baabb7594a" title="ubifs_invalidatepage" alt="" coords="855,1512,995,1539"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="436,1412,560,1439"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="631,1624,785,1651"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="424,1311,572,1337"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a88a8f2bce74b5f5ab48b7afa5b8ce02a" title="ubifs_get_free_space" alt="" coords="425,1361,571,1388"/>
<area shape="rect" id="node50" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="455,1513,541,1540"/>
</map>
</div>

</div>
</div>
<a id="a6abcf473421d0a52ba69d38346cb9b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6abcf473421d0a52ba69d38346cb9b49">&#9670;&nbsp;</a></span>ubifs_cancel_ino_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_cancel_ino_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7a2c9edc0537908ba98fe9a7ab5659d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a2c9edc0537908ba98fe9a7ab5659d8">&#9670;&nbsp;</a></span>ubifs_categorize_lprops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_categorize_lprops </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_categorize_lprops - categorize LEB properties. <code></code>: UBIFS file-system description object : LEB properties to categorize</p>
<p>LEB properties are categorized to enable fast find operations. This function returns the LEB category to which the LEB properties belong. Note however that if the LEB category is stored as a heap and the heap is full, the LEB properties may have their category changed to LPROPS_UNCAT. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7a2c9edc0537908ba98fe9a7ab5659d8_icgraph.png" border="0" usemap="#ubifs_8h_a7a2c9edc0537908ba98fe9a7ab5659d8_icgraph" alt=""/></div>
<map name="ubifs_8h_a7a2c9edc0537908ba98fe9a7ab5659d8_icgraph" id="ubifs_8h_a7a2c9edc0537908ba98fe9a7ab5659d8_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="543,509,664,536"/>
<area shape="rect" id="node23" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="373,459,495,485"/>
<area shape="rect" id="node42" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="212,788,325,815"/>
<area shape="rect" id="node43" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="215,560,322,587"/>
<area shape="rect" id="node44" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="389,408,479,435"/>
<area shape="rect" id="node50" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="375,563,493,589"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="712,563,863,589"/>
<area shape="rect" id="node4" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="930,575,1034,601"/>
<area shape="rect" id="node11" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="915,625,1049,652"/>
<area shape="rect" id="node13" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="911,524,1053,551"/>
<area shape="rect" id="node17" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="1117,220,1240,247"/>
<area shape="rect" id="node20" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1327,933,1453,960"/>
<area shape="rect" id="node5" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="1111,575,1246,601"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1524,692,1672,719"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1720,579,1877,605"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1745,821,1852,848"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1925,929,2051,956"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1941,579,2035,605"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="1104,676,1253,703"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1325,513,1455,554"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1541,473,1655,500"/>
<area shape="rect" id="node16" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="1546,524,1650,551"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="1311,5,1469,32"/>
<area shape="rect" id="node19" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1531,132,1665,159"/>
<area shape="rect" id="node21" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1555,832,1641,859"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1535,1035,1661,1061"/>
<area shape="rect" id="node24" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="924,423,1040,449"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1101,625,1256,652"/>
<area shape="rect" id="node26" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="1124,119,1233,145"/>
<area shape="rect" id="node27" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="1110,68,1247,95"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="1107,423,1251,449"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1108,321,1249,348"/>
<area shape="rect" id="node40" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="1123,271,1234,297"/>
<area shape="rect" id="node41" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="1136,169,1221,196"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1747,419,1850,445"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1304,629,1476,656"/>
<area shape="rect" id="node31" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1315,731,1465,757"/>
<area shape="rect" id="node32" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="1333,680,1447,707"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="1316,360,1464,387"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="1333,411,1447,437"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="1323,107,1457,133"/>
<area shape="rect" id="node37" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1339,157,1441,184"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="1311,208,1469,235"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="1346,56,1434,83"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="545,325,662,352"/>
<area shape="rect" id="node46" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="924,68,1040,95"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="713,376,861,403"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="718,275,857,301"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="736,325,839,352"/>
</map>
</div>

</div>
</div>
<a id="abfc4c6a75b37762f214cbc91f0ebe664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc4c6a75b37762f214cbc91f0ebe664">&#9670;&nbsp;</a></span>ubifs_change_lp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_change_lp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx_gc_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_change_lp - change LEB properties. <code></code>: the UBIFS file-system description object : LEB properties to change : new free space amount : new dirty space amount : new flags : change to the count of  list</p>
<p>This function changes LEB properties (,  or ). However, the property which has the LPROPS_NC value is not changed. Returns a pointer to the updated LEB properties on success and a negative error code on failure.</p>
<p>Note, the LEB properties may have had to be copied (due to COW) and consequently the pointer returned may not be the same as the pointer passed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_cgraph.png" border="0" usemap="#ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_cgraph" alt=""/></div>
<map name="ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_cgraph" id="ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_cgraph">
<area shape="rect" id="node2" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="190,144,297,171"/>
<area shape="rect" id="node3" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="169,195,317,221"/>
<area shape="rect" id="node40" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="187,347,300,373"/>
<area shape="rect" id="node41" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="545,347,667,373"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1667,245,1791,272"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="365,195,485,221"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1501,245,1619,272"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="367,245,484,272"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="365,144,485,171"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2031,78,2184,119"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1856,397,1963,424"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2262,372,2334,399"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1839,245,1980,272"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1855,180,1964,207"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2052,296,2163,323"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2235,220,2361,247"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2056,245,2159,272"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="533,195,679,221"/>
<area shape="rect" id="node15" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="744,169,868,196"/>
<area shape="rect" id="node18" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1684,549,1773,576"/>
<area shape="rect" id="node25" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="559,245,653,272"/>
<area shape="rect" id="node19" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2031,715,2184,757"/>
<area shape="rect" id="node20" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2028,448,2187,475"/>
<area shape="rect" id="node21" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1856,296,1963,323"/>
<area shape="rect" id="node22" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1855,752,1964,779"/>
<area shape="rect" id="node23" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1851,600,1968,627"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1844,651,1975,677"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="745,245,867,272"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="952,245,1069,272"/>
<area shape="rect" id="node28" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1315,245,1453,272"/>
<area shape="rect" id="node29" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1136,195,1267,221"/>
<area shape="rect" id="node30" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1141,549,1261,576"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1326,549,1442,576"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1319,600,1449,627"/>
<area shape="rect" id="node33" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1326,296,1442,323"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1322,651,1446,677"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="551,144,661,171"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="558,93,654,120"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="744,93,868,120"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="951,93,1071,120"/>
<area shape="rect" id="node42" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1145,347,1258,373"/>
<area shape="rect" id="node43" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="727,397,885,424"/>
<area shape="rect" id="node44" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="933,397,1088,424"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_icgraph.png" border="0" usemap="#ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_icgraph" alt=""/></div>
<map name="ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_icgraph" id="ubifs_8h_abfc4c6a75b37762f214cbc91f0ebe664_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="795,706,950,733"/>
<area shape="rect" id="node17" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="385,82,520,109"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="169,529,319,555"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="387,184,518,225"/>
<area shape="rect" id="node25" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="183,142,305,169"/>
<area shape="rect" id="node29" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="189,34,299,61"/>
<area shape="rect" id="node30" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="175,87,313,114"/>
<area shape="rect" id="node31" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="172,351,316,378"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="382,909,523,935"/>
<area shape="rect" id="node47" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="189,959,299,986"/>
<area shape="rect" id="node50" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="201,1047,287,1074"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1008,542,1095,569"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1158,542,1269,569"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1151,478,1276,505"/>
<area shape="rect" id="node6" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1329,275,1444,302"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1497,402,1655,429"/>
<area shape="rect" id="node11" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1324,757,1449,783"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1719,833,1813,859"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1703,427,1829,454"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1703,377,1829,403"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1518,858,1634,885"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1505,909,1647,935"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1516,706,1636,733"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1514,757,1638,783"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1503,807,1649,834"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="592,453,740,479"/>
<area shape="rect" id="node19" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="819,605,926,631"/>
<area shape="rect" id="node20" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="842,503,903,530"/>
<area shape="rect" id="node23" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="614,149,718,175"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="793,275,952,302"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="373,31,532,58"/>
<area shape="rect" id="node27" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="599,47,733,74"/>
<area shape="rect" id="node28" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="818,47,927,74"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1000,757,1103,783"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="367,402,539,429"/>
<area shape="rect" id="node34" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="798,453,947,479"/>
<area shape="rect" id="node35" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="395,503,510,530"/>
<area shape="rect" id="node37" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="379,301,527,327"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="395,554,510,581"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="795,554,951,581"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#aabbfd5925b308189c641e1570a2a19f7" title="free_idx_lebs" alt="" coords="617,301,715,327"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="796,655,949,682"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="599,1010,733,1037"/>
<area shape="rect" id="node44" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1335,833,1438,859"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="587,909,745,935"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="622,807,710,834"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="1006,1010,1097,1037"/>
<area shape="rect" id="node48" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="394,971,511,998"/>
<area shape="rect" id="node49" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="597,1061,735,1087"/>
</map>
</div>

</div>
</div>
<a id="aeb3c0f6274cdeba0c778d57f29ab39bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb3c0f6274cdeba0c778d57f29ab39bf">&#9670;&nbsp;</a></span>ubifs_change_one_lp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_change_one_lp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_clean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx_gc_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_change_one_lp - change LEB properties. <code></code>: the UBIFS file-system description object : LEB to change properties for : amount of free space : amount of dirty space : flags to set : flags to clean : change to the count of idx_gc list</p>
<p>This function changes properties of LEB . It is a helper wrapper over '<a class="el" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664">ubifs_change_lp()</a>' which hides lprops get/release. The arguments are the same as in case of '<a class="el" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664">ubifs_change_lp()</a>'. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_cgraph.png" border="0" usemap="#ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_cgraph" alt=""/></div>
<map name="ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_cgraph" id="ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="209,641,327,668"/>
<area shape="rect" id="node3" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="387,743,535,769"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2479,499,2551,525"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="210,692,326,719"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="197,920,339,947"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1884,625,2008,652"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="583,717,703,744"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1719,641,1836,668"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="584,553,701,580"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="583,667,703,693"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2248,673,2401,714"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2073,549,2180,576"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="2056,397,2197,424"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2072,701,2181,728"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2269,397,2380,424"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2452,321,2579,348"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2273,296,2376,323"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="751,717,896,744"/>
<area shape="rect" id="node15" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="961,692,1085,719"/>
<area shape="rect" id="node18" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1901,245,1991,272"/>
<area shape="rect" id="node25" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="777,515,870,541"/>
<area shape="rect" id="node19" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2248,107,2401,149"/>
<area shape="rect" id="node20" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2245,195,2404,221"/>
<area shape="rect" id="node21" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2073,347,2180,373"/>
<area shape="rect" id="node22" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2072,144,2181,171"/>
<area shape="rect" id="node23" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2068,245,2185,272"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2061,296,2192,323"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="963,515,1084,541"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1169,515,1287,541"/>
<area shape="rect" id="node28" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1532,641,1671,668"/>
<area shape="rect" id="node29" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1353,515,1484,541"/>
<area shape="rect" id="node30" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1359,413,1479,440"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1543,439,1659,465"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1536,489,1667,516"/>
<area shape="rect" id="node33" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1543,591,1659,617"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1539,540,1663,567"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="768,667,879,693"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="775,616,871,643"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="961,616,1085,643"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1168,616,1288,643"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="407,641,514,668"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="404,692,517,719"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="763,464,884,491"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1362,464,1475,491"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="944,413,1103,440"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1151,413,1305,440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_icgraph.png" border="0" usemap="#ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_icgraph" alt=""/></div>
<map name="ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_icgraph" id="ubifs_8h_aeb3c0f6274cdeba0c778d57f29ab39bf_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1183,5,1286,32"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="591,512,763,539"/>
<area shape="rect" id="node32" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="197,360,347,387"/>
<area shape="rect" id="node38" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1351,360,1465,387"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="403,99,534,141"/>
<area shape="rect" id="node42" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="619,563,734,589"/>
<area shape="rect" id="node44" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="205,197,339,224"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="395,259,543,285"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="215,309,329,336"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1747,309,1840,336"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1923,309,2032,336"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2092,309,2185,336"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="816,563,964,589"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1519,360,1676,387"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1017,563,1124,589"/>
<area shape="rect" id="node23" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1040,639,1101,665"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1345,563,1471,589"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1735,765,1851,792"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1529,512,1666,539"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1526,563,1669,589"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1534,613,1661,640"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1537,664,1657,691"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1535,715,1659,741"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1525,411,1670,437"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1521,461,1673,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1931,867,2024,893"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1936,664,2019,691"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1933,715,2022,741"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1929,765,2025,792"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1926,816,2029,843"/>
<area shape="rect" id="node24" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1345,639,1471,665"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1724,816,1863,843"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1731,360,1856,387"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1730,715,1857,741"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1916,360,2039,387"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1911,613,2044,640"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2102,613,2175,640"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1027,348,1114,375"/>
<area shape="rect" id="node34" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1179,323,1290,349"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1172,461,1297,488"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1540,309,1655,336"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1357,411,1459,437"/>
<area shape="rect" id="node40" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="625,107,729,133"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="811,208,969,235"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="812,461,968,488"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="414,176,523,203"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="623,157,730,184"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#aabbfd5925b308189c641e1570a2a19f7" title="free_idx_lebs" alt="" coords="627,208,726,235"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="813,309,967,336"/>
</map>
</div>

</div>
</div>
<a id="a2a94169a2d88a3050d92a59d9bb9528b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a94169a2d88a3050d92a59d9bb9528b">&#9670;&nbsp;</a></span>ubifs_check_dir_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_check_dir_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_cgraph.png" border="0" usemap="#ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_cgraph" alt=""/></div>
<map name="ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_cgraph" id="ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="215,473,335,500"/>
<area shape="rect" id="node3" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="209,524,341,551"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2119,321,2194,348"/>
<area shape="rect" id="node5" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1426,245,1521,272"/>
<area shape="rect" id="node6" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="403,296,539,323"/>
<area shape="rect" id="node21" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2117,1119,2196,1145"/>
<area shape="rect" id="node30" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="389,499,552,525"/>
<area shape="rect" id="node37" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="639,600,711,627"/>
<area shape="rect" id="node38" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="411,549,530,576"/>
<area shape="rect" id="node45" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="797,600,953,627"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1017,397,1140,424"/>
<area shape="rect" id="node26" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1432,195,1515,221"/>
<area shape="rect" id="node27" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="600,195,749,221"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="639,448,711,475"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1235,448,1325,475"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1415,1157,1532,1184"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1791,1208,1863,1235"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1765,980,1889,1007"/>
<area shape="rect" id="node19" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1961,524,2035,551"/>
<area shape="rect" id="node25" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1938,397,2058,424"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2115,1429,2198,1456"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1601,1360,1707,1387"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1591,1208,1717,1235"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1961,1316,2035,1343"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1947,980,2049,1007"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1951,1031,2045,1057"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1937,929,2059,956"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2115,1316,2198,1343"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2107,879,2207,905"/>
<area shape="rect" id="node23" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2117,929,2196,956"/>
<area shape="rect" id="node24" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2116,980,2197,1007"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="834,448,917,475"/>
<area shape="rect" id="node31" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="1001,549,1156,576"/>
<area shape="rect" id="node32" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1217,499,1343,525"/>
<area shape="rect" id="node34" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1222,600,1338,627"/>
<area shape="rect" id="node33" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1421,1360,1525,1387"/>
<area shape="rect" id="node35" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1404,803,1543,829"/>
<area shape="rect" id="node36" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1599,853,1709,880"/>
<area shape="rect" id="node39" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="820,701,931,728"/>
<area shape="rect" id="node40" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1007,853,1150,880"/>
<area shape="rect" id="node41" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1225,828,1335,855"/>
<area shape="rect" id="node42" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1204,1284,1356,1311"/>
<area shape="rect" id="node44" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1245,879,1315,905"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1433,1411,1514,1437"/>
<area shape="rect" id="node46" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1247,549,1313,576"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_icgraph.png" border="0" usemap="#ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_icgraph" alt=""/></div>
<map name="ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_icgraph" id="ubifs_8h_a2a94169a2d88a3050d92a59d9bb9528b_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="241,5,328,32"/>
<area shape="rect" id="node3" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="241,56,328,83"/>
<area shape="rect" id="node5" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="209,107,360,133"/>
<area shape="rect" id="node4" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="408,56,508,83"/>
</map>
</div>

</div>
</div>
<a id="ab9b2f0cc24eff9f69bd606979eb3a53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9b2f0cc24eff9f69bd606979eb3a53e">&#9670;&nbsp;</a></span>ubifs_check_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_check_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>must_chk_crc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_check_node - check node. <code></code>: UBIFS file-system description object : node to check : logical eraseblock number : offset within the logical eraseblock : print no messages : indicates whether to always check the CRC</p>
<p>This function checks node magic number and CRC checksum. This function also validates node length to prevent UBIFS from becoming crazy when an attacker feeds it a file-system image with incorrect nodes. For example, too large node length in the common header could cause UBIFS to read memory outside of allocated buffer when checking the CRC checksum.</p>
<p>This function may skip data nodes CRC checking if <code></code>-&gt;no_chk_data_crc is true, which is controlled by corresponding UBIFS mount option. However, if  is true, then <code></code>-&gt;no_chk_data_crc is ignored and CRC is checked. Similarly, if <code></code>-&gt;mounting or <code></code>-&gt;remounting_rw is true (we are mounting or re-mounting to R/W mode), <code></code>-&gt;no_chk_data_crc is ignored and CRC is checked. This is because during mounting or re-mounting from R/O mode to R/W mode we may read journal nodes (when replying the journal or doing the recovery) and the journal nodes may potentially be corrupted, so checking is required.</p>
<p>This function returns zero in case of success and %-EUCLEAN in case of bad CRC or magic. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph.png" border="0" usemap="#ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph" alt=""/></div>
<map name="ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph" id="ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="206,107,278,133"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="180,157,304,184"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="375,31,450,57"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="361,81,464,108"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="365,132,460,159"/>
<area shape="rect" id="node9" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="375,183,450,209"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="352,233,473,260"/>
<area shape="rect" id="node16" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="353,284,473,311"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="530,5,613,32"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="530,56,613,83"/>
<area shape="rect" id="node11" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="534,132,609,159"/>
<area shape="rect" id="node12" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="532,183,611,209"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="521,233,621,260"/>
<area shape="rect" id="node14" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="532,284,611,311"/>
<area shape="rect" id="node15" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="531,335,612,361"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph.png" border="0" usemap="#ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph" alt=""/></div>
<map name="ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph" id="ubifs_8h_ab9b2f0cc24eff9f69bd606979eb3a53e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="363,245,515,272"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="189,397,306,424"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="190,1233,305,1260"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="180,1157,315,1184"/>
<area shape="rect" id="node48" href="tnc_8c.html#ab54327c23143999c0f58a686e0d3f303" title="validate_data_node" alt="" coords="180,1309,315,1336"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="583,220,725,247"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="797,5,946,32"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="815,107,928,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="1018,107,1103,133"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="820,157,923,184"/>
<area shape="rect" id="node11" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="806,208,937,235"/>
<area shape="rect" id="node12" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="793,309,949,336"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="1002,284,1119,311"/>
<area shape="rect" id="node14" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="816,360,927,387"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="997,56,1124,83"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="1172,56,1283,83"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1331,411,1457,437"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="569,397,739,424"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="798,411,945,437"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="369,499,508,525"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="394,600,483,627"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="807,803,936,829"/>
<area shape="rect" id="node18" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1017,411,1104,437"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="809,651,934,677"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="578,448,730,475"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="576,600,732,627"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="573,499,735,525"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="593,651,715,677"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="377,1259,501,1285"/>
<area shape="rect" id="node29" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="609,1309,699,1336"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="580,1208,728,1235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="808,1196,935,1223"/>
<area shape="rect" id="node33" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="611,1259,697,1285"/>
<area shape="rect" id="node31" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="819,1120,924,1147"/>
<area shape="rect" id="node35" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="377,1157,500,1184"/>
<area shape="rect" id="node37" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="385,1208,492,1235"/>
<area shape="rect" id="node38" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="363,841,514,868"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="396,1031,481,1057"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="563,1157,745,1184"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="595,701,713,728"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="597,1005,711,1032"/>
<area shape="rect" id="node42" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="815,1031,928,1057"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="589,853,719,880"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="568,904,740,931"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="581,752,727,779"/>
<area shape="rect" id="node46" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="595,803,713,829"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="587,955,721,981"/>
<area shape="rect" id="node49" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="369,1360,508,1387"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="587,1411,721,1437"/>
</map>
</div>

</div>
</div>
<a id="a427d1842fd140c457b93e9d0f9c1e78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427d1842fd140c457b93e9d0f9c1e78d">&#9670;&nbsp;</a></span>ubifs_clean_lebs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_clean_lebs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_clean_lebs - clean LEBs recovered during read-only mount. <code></code>: UBIFS file-system description object : LEB-sized buffer to use</p>
<p>This function cleans a LEB identified during recovery that needs to be written but was not because UBIFS was mounted read-only. This happens when remounting to read-write mode.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_cgraph.png" border="0" usemap="#ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_cgraph" alt=""/></div>
<map name="ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_cgraph" id="ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_cgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="172,1284,323,1311"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="372,1360,492,1387"/>
<area shape="rect" id="node28" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1161,524,1233,551"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="546,55,653,81"/>
<area shape="rect" id="node44" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="723,1639,858,1665"/>
<area shape="rect" id="node47" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="705,144,876,171"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="393,1613,471,1640"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="371,1284,493,1311"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="945,1461,1063,1488"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="543,1360,656,1387"/>
<area shape="rect" id="node42" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="546,1309,653,1336"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="727,828,854,855"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="719,1360,862,1387"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="934,397,1074,424"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="932,448,1076,475"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="963,499,1045,525"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="961,549,1047,576"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="963,600,1045,627"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="937,651,1071,677"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="943,701,1065,728"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1134,335,1261,361"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1135,1272,1259,1299"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="924,803,1084,829"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="940,853,1068,880"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="942,904,1066,931"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="942,955,1066,981"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="939,752,1069,779"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="935,1005,1073,1032"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="947,1309,1061,1336"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="944,1360,1064,1387"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1132,215,1263,241"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="942,1056,1066,1083"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="939,1107,1069,1133"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="947,1157,1061,1184"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="941,1208,1067,1235"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="933,347,1075,373"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="947,296,1061,323"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1334,1221,1409,1248"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1334,1272,1409,1299"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1320,1424,1423,1451"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1324,1323,1419,1349"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1311,1171,1432,1197"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1311,1373,1431,1400"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1480,1512,1563,1539"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1135,1335,1259,1361"/>
<area shape="rect" id="node41" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="961,1411,1047,1437"/>
<area shape="rect" id="node45" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="933,1765,1075,1792"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="941,1613,1067,1640"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="541,1259,657,1285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_icgraph.png" border="0" usemap="#ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_icgraph" alt=""/></div>
<map name="ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_icgraph" id="ubifs_8h_a427d1842fd140c457b93e9d0f9c1e78d_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="173,56,298,83"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="172,157,299,184"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="352,5,475,32"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="347,56,480,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="367,107,460,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="372,157,455,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="369,208,458,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="365,259,461,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="362,309,465,336"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="539,56,613,83"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="528,132,624,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="533,183,619,209"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="672,183,772,209"/>
</map>
</div>

</div>
</div>
<a id="af78cc7397d8b6ff99de2b335a5a6b87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78cc7397d8b6ff99de2b335a5a6b87c">&#9670;&nbsp;</a></span>ubifs_clear_orphans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_clear_orphans </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_clear_orphans - erase all LEBs used for orphans. <code></code>: UBIFS file-system description object</p>
<p>If recovery is not required, then the orphans from the previous session are not needed. This function locates the LEBs used to record orphans, and un-maps them. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_cgraph.png" border="0" usemap="#ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_cgraph" alt=""/></div>
<map name="ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_cgraph" id="ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="192,81,312,108"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="738,5,857,32"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="360,56,473,83"/>
<area shape="rect" id="node20" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1153,1677,1225,1704"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="363,107,470,133"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="529,1095,656,1121"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="521,56,664,83"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="727,360,867,387"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="725,411,869,437"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="756,461,839,488"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="754,512,841,539"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="757,563,838,589"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="730,613,865,640"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="737,664,858,691"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="734,715,861,741"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="735,765,859,792"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="717,816,877,843"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="733,867,861,893"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="735,917,859,944"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="735,968,859,995"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="953,1108,1083,1135"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="728,1069,867,1096"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="961,1387,1075,1413"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="737,1171,857,1197"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="732,1221,863,1248"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="735,1272,859,1299"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="732,1323,863,1349"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="740,1373,855,1400"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="734,1424,861,1451"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="727,1475,868,1501"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="961,1551,1075,1577"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="723,1576,871,1603"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="941,1627,1095,1653"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="955,1677,1081,1704"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="712,1728,883,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="945,1728,1091,1755"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="959,1779,1077,1805"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="741,1880,854,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="944,1880,1092,1907"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="943,1935,1093,1961"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="961,2011,1075,2037"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="931,2073,1105,2100"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="965,2131,1071,2157"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="963,119,1073,145"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="948,181,1088,208"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="942,256,1094,283"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="958,355,1078,381"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="941,500,1095,527"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="755,56,840,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_icgraph.png" border="0" usemap="#ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_icgraph" alt=""/></div>
<map name="ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_icgraph" id="ubifs_8h_af78cc7397d8b6ff99de2b335a5a6b87c_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="203,5,328,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="192,56,339,83"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="387,5,509,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="401,56,495,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="557,56,667,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="715,56,808,83"/>
</map>
</div>

</div>
</div>
<a id="a6e9dcff4b0f768c14f6f8448f4b1343e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9dcff4b0f768c14f6f8448f4b1343e">&#9670;&nbsp;</a></span>ubifs_commit_required()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_commit_required </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_commit_required - set commit state to "required". <code></code>: UBIFS file-system description object</p>
<p>This function is called if a commit is required but cannot be done from the calling function, so it is just flagged instead. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_cgraph.png" border="0" usemap="#ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_cgraph" alt=""/></div>
<map name="ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_cgraph" id="ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="207,5,293,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_icgraph.png" border="0" usemap="#ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_icgraph" alt=""/></div>
<map name="ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_icgraph" id="ubifs_8h_a6e9dcff4b0f768c14f6f8448f4b1343e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="935,404,1083,431"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="207,353,355,380"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1136,303,1243,329"/>
<area shape="rect" id="node36" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1159,449,1220,476"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1291,259,1416,285"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1482,487,1598,513"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1471,157,1609,184"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1469,56,1611,83"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1477,107,1603,133"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1480,259,1600,285"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1478,892,1602,919"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1467,1171,1613,1197"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1464,208,1616,235"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1699,360,1789,387"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1697,309,1791,336"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1703,461,1785,488"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1705,563,1783,589"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1699,411,1789,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1701,613,1787,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1699,664,1789,691"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1696,715,1792,741"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1693,512,1795,539"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1899,284,2007,311"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1905,411,2001,437"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1910,461,1997,488"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2083,284,2183,311"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1695,157,1793,184"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1897,157,2010,184"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1903,943,2003,969"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2085,1056,2180,1083"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1683,5,1805,32"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1669,56,1819,83"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1892,56,2015,83"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1900,107,2007,133"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1695,1272,1793,1299"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1695,208,1793,235"/>
<area shape="rect" id="node37" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1291,627,1416,653"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1471,715,1609,741"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1683,816,1805,843"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1687,867,1801,893"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1913,1196,1993,1223"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1664,1069,1824,1096"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1898,1032,2009,1059"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1872,1095,2035,1121"/>
<area shape="rect" id="node45" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1710,1120,1778,1147"/>
<area shape="rect" id="node47" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="403,353,519,380"/>
<area shape="rect" id="node48" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="567,353,663,380"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="711,353,883,380"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="931,353,1088,380"/>
</map>
</div>

</div>
</div>
<a id="a34709dede6e3377bd2bcd99862e71ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34709dede6e3377bd2bcd99862e71ac7">&#9670;&nbsp;</a></span>ubifs_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_compress </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>in_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>compr_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_compress - compress data. : data to compress : length of the data to compress : output buffer where compressed data should be stored : output buffer length is returned here : type of compression to use on enter, actually used compression type on exit</p>
<p>This function compresses input buffer  of length  and stores the result in the output buffer  and the resulting length in . If the input buffer does not compress, it is just copied to the . The same happens if  is UBIFS_COMPR_NONE or if compression error occurred.</p>
<p>Note, if the input buffer was not compressed, it is copied to the output buffer and UBIFS_COMPR_NONE is returned in . </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_cgraph.png" border="0" usemap="#ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_cgraph" alt=""/></div>
<map name="ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_cgraph" id="ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="168,5,253,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_icgraph.png" border="0" usemap="#ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_icgraph" alt=""/></div>
<map name="ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_icgraph" id="ubifs_8h_a34709dede6e3377bd2bcd99862e71ac7_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="168,5,305,32"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a687e1b07880f8f06558ceefc741d0465" title="truncate_data_node" alt="" coords="169,56,305,83"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="173,208,300,235"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="371,5,469,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="535,5,648,32"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="541,56,641,83"/>
<area shape="rect" id="node6" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="699,56,793,83"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="358,56,482,83"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="353,107,487,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="373,157,467,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="379,208,461,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="375,259,465,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="372,309,468,336"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="369,360,471,387"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="555,107,628,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="543,183,639,209"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="548,233,635,260"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="696,233,796,260"/>
</map>
</div>

</div>
</div>
<a id="ac4d2c76415a2086bbd8ffdbaf92a52c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4d2c76415a2086bbd8ffdbaf92a52c2">&#9670;&nbsp;</a></span>ubifs_compressors_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_compressors_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_compressors_exit - de-initialize UBIFS compressors. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_cgraph.png" border="0" usemap="#ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_cgraph" alt=""/></div>
<map name="ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_cgraph" id="ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_cgraph">
<area shape="rect" id="node2" href="ubifs_2compress_8c.html#a78fc565e755e2f73d2e043bfd12f19ce" title="compr_exit" alt="" coords="213,5,300,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_icgraph.png" border="0" usemap="#ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_icgraph" alt=""/></div>
<map name="ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_icgraph" id="ubifs_8h_ac4d2c76415a2086bbd8ffdbaf92a52c2_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a09aa1bede454a3dcaf04a00a43f65a89" title="ubifs_init" alt="" coords="239,31,314,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#aaf47f6464eb828b20dcda6894619295a" title="ubifs_exit" alt="" coords="237,81,316,108"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="213,132,340,159"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="388,5,521,32"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="408,56,501,83"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="413,107,496,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="410,157,499,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="407,208,503,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="403,259,506,285"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="581,5,654,32"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="569,81,665,108"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="574,132,661,159"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="713,132,813,159"/>
</map>
</div>

</div>
</div>
<a id="aba795649d1c579aa18215daa1e32dfb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba795649d1c579aa18215daa1e32dfb8">&#9670;&nbsp;</a></span>ubifs_compressors_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init ubifs_compressors_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_compressors_init - initialize UBIFS compressors.</p>
<p>This function initializes the compressor which were compiled in. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_cgraph.png" border="0" usemap="#ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_cgraph" alt=""/></div>
<map name="ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_cgraph" id="ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_cgraph">
<area shape="rect" id="node2" href="ubifs_2compress_8c.html#a8ed159bcb2ba7ca960203428adad25b8" title="compr_init" alt="" coords="211,5,294,32"/>
<area shape="rect" id="node3" href="ubifs_2compress_8c.html#a78fc565e755e2f73d2e043bfd12f19ce" title="compr_exit" alt="" coords="209,56,296,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_icgraph.png" border="0" usemap="#ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_icgraph" alt=""/></div>
<map name="ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_icgraph" id="ubifs_8h_aba795649d1c579aa18215daa1e32dfb8_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a09aa1bede454a3dcaf04a00a43f65a89" title="ubifs_init" alt="" coords="235,81,310,108"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="209,132,336,159"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="384,5,517,32"/>
<area shape="rect" id="node6" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="404,56,497,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="409,107,492,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="406,157,495,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="403,208,499,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="399,259,502,285"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="577,5,650,32"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="565,81,661,108"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="570,132,657,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="709,132,809,159"/>
</map>
</div>

</div>
</div>
<a id="a2e2a784a2060ee8ca565097ed7ae2bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2a784a2060ee8ca565097ed7ae2bcf">&#9670;&nbsp;</a></span>ubifs_consolidate_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_consolidate_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_consolidate_log - consolidate the log. <code></code>: UBIFS file-system description object</p>
<p>Repeated failed commits could cause the log to be full, but at least 1 LEB is needed for commit. This function rewrites the reference nodes in the log omitting duplicates, and failed CS nodes, and leaving no gaps.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph.png" border="0" usemap="#ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph" alt=""/></div>
<map name="ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph" id="ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="582,395,667,421"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1185,331,1257,357"/>
<area shape="rect" id="node21" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="749,521,883,548"/>
<area shape="rect" id="node22" href="ubifs_2log_8c.html#a86b56d1757907d172445b182d4efa18f" title="done_already" alt="" coords="215,825,314,852"/>
<area shape="rect" id="node23" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="225,673,304,700"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="409,673,487,700"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="387,623,509,649"/>
<area shape="rect" id="node47" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="377,724,519,751"/>
<area shape="rect" id="node48" href="ubifs_2log_8c.html#ad12277f34b31eb94de6993e30262aae1" title="destroy_done_tree" alt="" coords="200,876,329,903"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="388,775,508,801"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="757,369,875,396"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="749,91,883,117"/>
<area shape="rect" id="node17" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="759,471,873,497"/>
<area shape="rect" id="node19" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="759,268,873,295"/>
<area shape="rect" id="node20" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="731,420,901,447"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="976,369,1083,396"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="959,116,1100,143"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1501,97,1584,124"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="966,65,1093,92"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1159,280,1283,307"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1355,229,1430,256"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1341,381,1444,408"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1345,432,1440,459"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1355,508,1430,535"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1332,280,1453,307"/>
<area shape="rect" id="node16" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1333,331,1453,357"/>
<area shape="rect" id="node18" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="974,471,1085,497"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="970,673,1089,700"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="567,724,683,751"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="571,623,678,649"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="753,1079,879,1105"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="745,724,887,751"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="959,927,1099,953"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="957,977,1101,1004"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="988,1028,1071,1055"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="986,1079,1073,1105"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="989,1129,1070,1156"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="962,1180,1097,1207"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="969,1231,1090,1257"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1157,1028,1284,1055"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1159,381,1283,408"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="949,1281,1109,1308"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="965,1332,1093,1359"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="967,1383,1091,1409"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="967,1433,1091,1460"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="964,775,1095,801"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="960,876,1099,903"/>
<area shape="rect" id="node45" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="987,623,1072,649"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="568,876,681,903"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph.png" border="0" usemap="#ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph" alt=""/></div>
<map name="ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph" id="ubifs_8h_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="216,5,309,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="200,56,325,83"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="380,5,489,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="544,5,637,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="373,56,496,83"/>
</map>
</div>

</div>
</div>
<a id="a5dcf8189b7afa1fce3cb515f617feb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dcf8189b7afa1fce3cb515f617feb84">&#9670;&nbsp;</a></span>ubifs_convert_page_budget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_convert_page_budget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_convert_page_budget - convert budget of a new page. <code></code>: UBIFS file-system description object</p>
<p>This function converts budget which was allocated for a new page of data to the budget of changing an existing page of data. The latter is smaller than the former, so this function only does simple re-calculation and does not involve any write-back. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_cgraph.png" border="0" usemap="#ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_cgraph" alt=""/></div>
<map name="ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_cgraph" id="ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_cgraph">
<area shape="rect" id="node2" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="188,13,352,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_icgraph.png" border="0" usemap="#ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_icgraph" alt=""/></div>
<map name="ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_icgraph" id="ubifs_8h_a5dcf8189b7afa1fce3cb515f617feb84_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="208,5,331,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="188,56,351,83"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="399,5,521,32"/>
</map>
</div>

</div>
</div>
<a id="abfe6eeceb696c0a9c66c6e5929e21f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe6eeceb696c0a9c66c6e5929e21f68">&#9670;&nbsp;</a></span>ubifs_create_buds_lists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_create_buds_lists </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2c22b57dd8b454ef3308f2f5b558763c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c22b57dd8b454ef3308f2f5b558763c">&#9670;&nbsp;</a></span>ubifs_create_dflt_lpt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_create_dflt_lpt </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>main_lebs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lpt_first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lpt_lebs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>big_lpt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_create_dflt_lpt - create default LPT. <code></code>: UBIFS file-system description object : number of main area LEBs is passed and returned here : LEB number of first LPT LEB : number of LEBs for LPT is passed and returned here : use big LPT model is passed and returned here</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_cgraph.png" border="0" usemap="#ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_cgraph" alt=""/></div>
<map name="ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_cgraph" id="ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ac2ee8aabdad7db3026557a3b8fe1fffa" title="calc_dflt_lpt_geom" alt="" coords="192,1728,323,1755"/>
<area shape="rect" id="node5" href="misc_8h.html#ac7a685691e935bc3ef4a7918e107c8de" title="ubifs_idx_node_sz" alt="" coords="192,1779,323,1805"/>
<area shape="rect" id="node6" href="lpt_8c.html#a574e2659deacbc27b7d7738b336c32b0" title="ubifs_pack_pnode" alt="" coords="194,1981,321,2008"/>
<area shape="rect" id="node8" href="lpt_8c.html#a837361d188d5f97c2d8deb5c23714c4f" title="set_ltab" alt="" coords="223,2032,291,2059"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="196,448,319,475"/>
<area shape="rect" id="node47" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="197,2083,317,2109"/>
<area shape="rect" id="node48" href="lpt_8c.html#afbec92ddd1b0c9598e498a10d859500b" title="ubifs_pack_nnode" alt="" coords="194,1829,321,1856"/>
<area shape="rect" id="node49" href="lpt_8c.html#ac11db630f1593b785cd612588586aeae" title="ubifs_pack_lsave" alt="" coords="196,1880,319,1907"/>
<area shape="rect" id="node50" href="lpt_8c.html#abad99814ae0b31a6bfee2356440bf809" title="ubifs_pack_ltab" alt="" coords="201,1931,314,1957"/>
<area shape="rect" id="node3" href="lpt_8c.html#a8b4d1e481e3c2afa2d9d7a3b334bba6c" title="do_calc_lpt_geom" alt="" coords="371,1728,497,1755"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="955,588,1027,615"/>
<area shape="rect" id="node7" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="395,1905,473,1932"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="762,56,881,83"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="376,397,492,424"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="563,5,670,32"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="553,841,680,868"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="545,56,688,83"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="751,664,891,691"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="749,715,893,741"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="780,765,863,792"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="778,816,865,843"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="781,867,862,893"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="754,917,889,944"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="761,968,882,995"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="758,1019,885,1045"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="759,1069,883,1096"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="741,1120,901,1147"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="757,1171,885,1197"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="759,1221,883,1248"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="759,1272,883,1299"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="756,613,887,640"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="752,1323,891,1349"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="765,1576,878,1603"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="761,1373,881,1400"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="756,1424,887,1451"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="759,1475,883,1501"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="756,1525,887,1552"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="764,208,879,235"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="758,259,885,285"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="751,360,892,387"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="764,1627,879,1653"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="747,411,895,437"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="744,107,899,133"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="758,157,885,184"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="736,461,907,488"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="748,309,895,336"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="763,512,880,539"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="765,563,878,589"/>
<area shape="rect" id="node45" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="779,5,864,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_icgraph.png" border="0" usemap="#ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_icgraph" alt=""/></div>
<map name="ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_icgraph" id="ubifs_8h_a2c22b57dd8b454ef3308f2f5b558763c_icgraph">
<area shape="rect" id="node2" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="192,5,363,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="411,5,563,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="611,5,704,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="752,5,861,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="909,5,1003,32"/>
</map>
</div>

</div>
</div>
<a id="a05379a3e5d4223a7821ec80d3606a6e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05379a3e5d4223a7821ec80d3606a6e6">&#9670;&nbsp;</a></span>ubifs_crypt_is_encrypted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool ubifs_crypt_is_encrypted </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_cgraph.png" border="0" usemap="#ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_cgraph" alt=""/></div>
<map name="ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_cgraph" id="ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="220,5,308,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a1aa9930cc94a47ac345316581dd49ab3" title="__printf" alt="" coords="231,56,297,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_icgraph.png" border="0" usemap="#ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_icgraph" alt=""/></div>
<map name="ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_icgraph" id="ubifs_8h_a05379a3e5d4223a7821ec80d3606a6e6_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1492bd8c5ac3be76470004b3c0f53672" title="ubifs_new_inode" alt="" coords="229,183,348,209"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="241,233,336,260"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="241,284,337,311"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="243,335,334,361"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="245,385,332,412"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a83dff93d0eb4dba990c584c2a633a0df" title="ubifs_dir_open" alt="" coords="235,436,342,463"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="246,487,331,513"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a9985b01bbeef39aa80c6fe613ffff666" title="populate_page" alt="" coords="235,537,342,564"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="220,588,357,615"/>
<area shape="rect" id="node35" href="ubifs_2journal_8c.html#a687e1b07880f8f06558ceefc741d0465" title="truncate_data_node" alt="" coords="221,639,357,665"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="427,56,518,83"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="426,107,519,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="431,157,514,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="428,208,517,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="425,259,521,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="421,309,524,336"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="595,56,703,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="773,5,906,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="968,31,1041,57"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="759,107,920,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="601,132,697,159"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="606,183,693,209"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="789,183,889,209"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="425,436,521,463"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="588,335,711,361"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="778,360,901,387"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="593,436,706,463"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="784,512,895,539"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="405,537,540,564"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="593,537,706,564"/>
<area shape="rect" id="node31" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="423,588,522,615"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="593,588,706,615"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="599,639,699,665"/>
<area shape="rect" id="node34" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="792,639,887,665"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="411,639,535,665"/>
</map>
</div>

</div>
</div>
<a id="a58f95871b1df8b20f459c6a93a416b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f95871b1df8b20f459c6a93a416b91">&#9670;&nbsp;</a></span>ubifs_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_decompress </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>in_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>out_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>compr_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_decompress - decompress data. : data to decompress : length of the data to decompress : output buffer where decompressed data should : output length is returned here : type of compression</p>
<p>This function decompresses data from buffer  into buffer . The length of the uncompressed data is returned in . This functions returns %0 on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_cgraph.png" border="0" usemap="#ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_cgraph" alt=""/></div>
<map name="ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_cgraph" id="ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="181,5,253,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_icgraph.png" border="0" usemap="#ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_icgraph" alt=""/></div>
<map name="ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_icgraph" id="ubifs_8h_a58f95871b1df8b20f459c6a93a416b91_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="207,132,292,159"/>
<area shape="rect" id="node8" href="ubifs_2file_8c.html#a9985b01bbeef39aa80c6fe613ffff666" title="populate_page" alt="" coords="196,208,303,235"/>
<area shape="rect" id="node11" href="ubifs_2journal_8c.html#a687e1b07880f8f06558ceefc741d0465" title="truncate_data_node" alt="" coords="181,259,317,285"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="186,411,313,437"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="385,107,481,133"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="548,5,671,32"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="719,31,841,57"/>
<area shape="rect" id="node6" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="553,107,666,133"/>
<area shape="rect" id="node7" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="725,183,835,209"/>
<area shape="rect" id="node9" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="365,208,500,235"/>
<area shape="rect" id="node10" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="553,208,666,235"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="371,259,495,285"/>
<area shape="rect" id="node13" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="559,259,659,285"/>
<area shape="rect" id="node14" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="733,259,827,285"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="366,309,499,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="386,360,479,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="391,411,474,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="388,461,477,488"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="385,512,481,539"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="381,563,484,589"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="573,309,646,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="561,385,657,412"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="566,436,653,463"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="730,436,830,463"/>
</map>
</div>

</div>
</div>
<a id="a8eb0dc8b7e0e5f4cdbb42926e6b01639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eb0dc8b7e0e5f4cdbb42926e6b01639">&#9670;&nbsp;</a></span>ubifs_decrypt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ubifs_decrypt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__data__node.html">ubifs_data_node</a> *&#160;</td>
          <td class="paramname"><em>dn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8eb0dc8b7e0e5f4cdbb42926e6b01639_cgraph.png" border="0" usemap="#ubifs_8h_a8eb0dc8b7e0e5f4cdbb42926e6b01639_cgraph" alt=""/></div>
<map name="ubifs_8h_a8eb0dc8b7e0e5f4cdbb42926e6b01639_cgraph" id="ubifs_8h_a8eb0dc8b7e0e5f4cdbb42926e6b01639_cgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#aa7e932369ddd5677a5f5269a19501618" title="ubifs_encrypt" alt="" coords="153,5,253,32"/>
</map>
</div>

</div>
</div>
<a id="afc0eab9d33c998c259bd6f0b4f23ec41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0eab9d33c998c259bd6f0b4f23ec41">&#9670;&nbsp;</a></span>ubifs_delete_orphan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_delete_orphan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_delete_orphan - delete an orphan. <code></code>: UBIFS file-system description object : orphan inode number</p>
<p>Delete an orphan. This function is called when an inode is deleted. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_cgraph.png" border="0" usemap="#ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_cgraph" alt=""/></div>
<map name="ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_cgraph" id="ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="192,5,264,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_icgraph.png" border="0" usemap="#ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_icgraph" alt=""/></div>
<map name="ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_icgraph" id="ubifs_8h_afc0eab9d33c998c259bd6f0b4f23ec41_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="419,5,497,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="205,233,321,260"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="192,512,335,539"/>
<area shape="rect" id="node21" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="383,563,533,589"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="203,461,323,488"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="413,259,503,285"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="411,309,505,336"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="417,360,499,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="413,411,503,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="415,56,501,83"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="413,107,503,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="410,157,506,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="407,208,509,235"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="589,259,697,285"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="766,259,899,285"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="961,284,1035,311"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="752,208,913,235"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="595,360,691,387"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="599,436,686,463"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="783,436,883,463"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="397,512,519,539"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="581,563,704,589"/>
</map>
</div>

</div>
</div>
<a id="af6784f1871dcccddfaa64cc9ad74c3ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6784f1871dcccddfaa64cc9ad74c3ea">&#9670;&nbsp;</a></span>ubifs_destroy_idx_gc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_destroy_idx_gc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_destroy_idx_gc - destroy idx_gc list. <code></code>: UBIFS file-system description object</p>
<p>This function destroys the <code></code>-&gt;idx_gc list. It is called when unmounting so locks are not needed. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af6784f1871dcccddfaa64cc9ad74c3ea_icgraph.png" border="0" usemap="#ubifs_8h_af6784f1871dcccddfaa64cc9ad74c3ea_icgraph" alt=""/></div>
<map name="ubifs_8h_af6784f1871dcccddfaa64cc9ad74c3ea_icgraph" id="ubifs_8h_af6784f1871dcccddfaa64cc9ad74c3ea_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="199,31,309,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="361,5,454,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="357,56,457,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="508,5,617,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="668,5,761,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="505,56,620,83"/>
</map>
</div>

</div>
</div>
<a id="a4f091c7b064ca0a6d513bc580ad8c0fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f091c7b064ca0a6d513bc580ad8c0fe">&#9670;&nbsp;</a></span>ubifs_destroy_size_tree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_destroy_size_tree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_destroy_size_tree - free resources related to the size tree. <code></code>: UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_cgraph.png" border="0" usemap="#ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_cgraph" alt=""/></div>
<map name="ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_cgraph" id="ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="213,411,256,437"/>
<area shape="rect" id="node3" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="304,411,379,437"/>
<area shape="rect" id="node24" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1058,107,1197,133"/>
<area shape="rect" id="node4" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1076,664,1179,691"/>
<area shape="rect" id="node6" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="429,461,547,488"/>
<area shape="rect" id="node18" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="427,309,549,336"/>
<area shape="rect" id="node19" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="463,360,513,387"/>
<area shape="rect" id="node5" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1269,664,1396,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="603,461,761,488"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="613,563,751,589"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="815,344,997,371"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="839,497,973,538"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="817,445,995,472"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="825,395,987,421"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="832,563,980,589"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1083,504,1171,531"/>
<area shape="rect" id="node11" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1283,504,1382,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1457,504,1596,531"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1045,395,1209,421"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="623,411,741,437"/>
<area shape="rect" id="node21" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="621,208,743,235"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="597,360,767,387"/>
<area shape="rect" id="node23" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="862,251,950,277"/>
<area shape="rect" id="node25" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="644,512,720,539"/>
<area shape="rect" id="node28" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="644,259,720,285"/>
<area shape="rect" id="node29" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="631,157,733,184"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="879,613,933,640"/>
<area shape="rect" id="node27" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1058,613,1197,640"/>
<area shape="rect" id="node30" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="847,56,965,83"/>
<area shape="rect" id="node35" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="866,157,946,184"/>
<area shape="rect" id="node31" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1063,5,1191,32"/>
<area shape="rect" id="node32" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1046,56,1209,83"/>
<area shape="rect" id="node33" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1257,56,1408,83"/>
<area shape="rect" id="node34" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1456,56,1597,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_icgraph.png" border="0" usemap="#ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_icgraph" alt=""/></div>
<map name="ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_icgraph" id="ubifs_8h_a4f091c7b064ca0a6d513bc580ad8c0fe_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="221,56,332,83"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="213,208,340,235"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="408,5,501,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="405,56,505,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="572,5,681,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="735,5,829,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="569,56,684,83"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="388,107,521,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="408,157,501,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="413,208,496,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="410,259,499,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="407,309,503,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="403,360,506,387"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="590,107,663,133"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="579,183,675,209"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="583,233,670,260"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="732,233,832,260"/>
</map>
</div>

</div>
</div>
<a id="a41a64fc28f65279e3fde70d9aad11e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41a64fc28f65279e3fde70d9aad11e03">&#9670;&nbsp;</a></span>ubifs_destroy_tnc_subtree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long ubifs_destroy_tnc_subtree </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_destroy_tnc_subtree - destroy all znodes connected to a subtree. : znode defining subtree to destroy</p>
<p>This function destroys subtree of the TNC tree. Returns number of clean znodes in the subtree. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_cgraph.png" border="0" usemap="#ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_cgraph" alt=""/></div>
<map name="ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_cgraph" id="ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_cgraph">
<area shape="rect" id="node2" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="444,7,580,48"/>
<area shape="rect" id="node4" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="261,22,363,49"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="228,73,396,99"/>
<area shape="rect" id="node3" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="628,43,765,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_icgraph.png" border="0" usemap="#ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_icgraph" alt=""/></div>
<map name="ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_icgraph" id="ubifs_8h_a41a64fc28f65279e3fde70d9aad11e03_icgraph">
<area shape="rect" id="node2" href="ubifs_2shrinker_8c.html#a32ba118a0bb1dd776b2c54cda5cb9035" title="shrink_tnc" alt="" coords="243,5,326,32"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14" title="ubifs_tnc_close" alt="" coords="228,56,341,83"/>
<area shape="rect" id="node3" href="ubifs_2shrinker_8c.html#aae7bfecfc263da15e6e89615dc80b45d" title="shrink_tnc_trees" alt="" coords="389,5,508,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a148b76e3e941071fe7395e70793f9996" title="ubifs_shrink_scan" alt="" coords="556,5,683,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="393,56,504,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="573,56,666,83"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="569,107,669,133"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="733,56,843,83"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="893,56,987,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="731,107,845,133"/>
</map>
</div>

</div>
</div>
<a id="a3a388ce018049e8a7da4da512f8e1dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a388ce018049e8a7da4da512f8e1dcf">&#9670;&nbsp;</a></span>ubifs_dirty_idx_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_dirty_idx_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_dirty_idx_node - dirty an index node. <code></code>: UBIFS file-system description object : index node key : index node level : index node LEB number : index node offset</p>
<p>This function loads and dirties an index node so that it can be garbage collected. The  argument has to be the key of the first child. This function relies on the fact that 0:0 is never a valid LEB number and offset for a main-area node. Returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_cgraph.png" border="0" usemap="#ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_cgraph" alt=""/></div>
<map name="ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_cgraph" id="ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="720,206,823,233"/>
<area shape="rect" id="node29" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="195,678,341,705"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2334,79,2409,106"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1282,254,1405,281"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1654,54,1737,81"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1648,105,1743,131"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="883,54,1032,81"/>
<area shape="rect" id="node26" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="916,257,999,283"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="1109,279,1192,306"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="913,358,1002,385"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1481,254,1570,281"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1637,443,1754,470"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2006,621,2078,647"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1980,291,2104,318"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="2175,167,2250,194"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="2153,421,2273,447"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2330,446,2413,473"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1815,545,1922,571"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1805,494,1932,521"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="2175,370,2250,397"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="2161,319,2264,346"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="2165,269,2260,295"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="2152,218,2273,245"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2330,370,2413,397"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2332,243,2411,270"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2321,294,2421,321"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2332,142,2411,169"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2331,193,2412,219"/>
<area shape="rect" id="node30" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="398,729,501,755"/>
<area shape="rect" id="node31" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="389,678,509,705"/>
<area shape="rect" id="node32" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="557,798,660,825"/>
<area shape="rect" id="node33" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="563,618,655,645"/>
<area shape="rect" id="node48" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="563,678,655,705"/>
<area shape="rect" id="node50" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1817,747,1920,774"/>
<area shape="rect" id="node34" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="720,607,823,634"/>
<area shape="rect" id="node35" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="887,570,1028,597"/>
<area shape="rect" id="node36" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1092,494,1209,521"/>
<area shape="rect" id="node37" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1269,494,1417,521"/>
<area shape="rect" id="node43" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1093,595,1209,622"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1080,443,1221,470"/>
<area shape="rect" id="node38" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1633,646,1757,673"/>
<area shape="rect" id="node39" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1465,494,1585,521"/>
<area shape="rect" id="node40" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1467,646,1584,673"/>
<area shape="rect" id="node41" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1467,595,1584,622"/>
<area shape="rect" id="node42" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1465,443,1585,470"/>
<area shape="rect" id="node44" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="1290,646,1397,673"/>
<area shape="rect" id="node45" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1287,545,1400,571"/>
<area shape="rect" id="node46" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1283,595,1404,622"/>
<area shape="rect" id="node49" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="708,678,835,705"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_icgraph.png" border="0" usemap="#ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_icgraph" alt=""/></div>
<map name="ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_icgraph" id="ubifs_8h_a3a388ce018049e8a7da4da512f8e1dcf_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="195,1019,367,1045"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="415,791,563,817"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="765,1272,923,1299"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="611,487,717,513"/>
<area shape="rect" id="node34" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="633,791,695,817"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="781,259,907,285"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="989,1044,1105,1071"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="978,31,1115,57"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="975,107,1118,133"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="983,157,1110,184"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="987,259,1107,285"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="985,208,1109,235"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="974,360,1119,387"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="971,309,1123,336"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1205,1019,1296,1045"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1204,1221,1297,1248"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1209,1120,1292,1147"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1212,867,1289,893"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1205,917,1296,944"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1207,968,1294,995"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1206,1069,1295,1096"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1203,1171,1299,1197"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1199,1272,1302,1299"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1412,1120,1508,1147"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1417,461,1503,488"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1201,5,1300,32"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1410,208,1510,235"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1189,107,1312,133"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1175,56,1326,83"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1197,157,1304,184"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1201,360,1300,387"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1393,613,1527,640"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1589,613,1663,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1202,309,1299,336"/>
<area shape="rect" id="node35" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="781,791,907,817"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="977,791,1116,817"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1189,563,1312,589"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1194,613,1307,640"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1211,664,1291,691"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1171,715,1331,741"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1405,765,1515,792"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1379,537,1541,564"/>
<area shape="rect" id="node43" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1217,765,1285,792"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1000,1323,1093,1349"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="984,1399,1109,1425"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="983,1221,1110,1248"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1196,1373,1305,1400"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1413,1373,1507,1400"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1189,1424,1312,1451"/>
</map>
</div>

</div>
</div>
<a id="a79b22b1f088c88c40e019e23efb61e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79b22b1f088c88c40e019e23efb61e0a">&#9670;&nbsp;</a></span>ubifs_enable_encryption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_enable_encryption </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_cgraph.png" border="0" usemap="#ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_cgraph" alt=""/></div>
<map name="ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_cgraph" id="ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1180,245,1252,272"/>
<area shape="rect" id="node3" href="sb_8c.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="217,119,356,145"/>
<area shape="rect" id="node21" href="sb_8c.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="216,220,357,247"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="765,119,882,145"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1507,372,1590,399"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="969,93,1076,120"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="959,144,1086,171"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1154,828,1278,855"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1353,752,1427,779"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1339,803,1441,829"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1343,853,1437,880"/>
<area shape="rect" id="node13" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1353,955,1427,981"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1329,1157,1451,1184"/>
<area shape="rect" id="node20" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1330,904,1450,931"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1507,752,1590,779"/>
<area shape="rect" id="node15" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1511,1183,1586,1209"/>
<area shape="rect" id="node16" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1509,1233,1588,1260"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1499,1284,1599,1311"/>
<area shape="rect" id="node18" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1509,1081,1588,1108"/>
<area shape="rect" id="node19" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1508,1132,1589,1159"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="405,220,540,247"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="411,347,534,373"/>
<area shape="rect" id="node23" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="599,195,693,221"/>
<area shape="rect" id="node26" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="607,245,685,272"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="770,347,877,373"/>
<area shape="rect" id="node25" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="980,347,1065,373"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="963,397,1082,424"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="588,397,704,424"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="760,879,887,905"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="752,397,895,424"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="953,1005,1093,1032"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="951,1056,1095,1083"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="981,1107,1064,1133"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="979,1157,1066,1184"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="982,1208,1063,1235"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="955,1259,1090,1285"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1329,1208,1451,1235"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1153,955,1279,981"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1154,904,1278,931"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="943,448,1103,475"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="959,499,1087,525"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="961,549,1085,576"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="961,600,1085,627"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="957,701,1088,728"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="953,651,1092,677"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="966,803,1079,829"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="963,853,1083,880"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1151,1157,1281,1184"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="961,752,1085,779"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_icgraph.png" border="0" usemap="#ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_icgraph" alt=""/></div>
<map name="ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_icgraph" id="ubifs_8h_a79b22b1f088c88c40e019e23efb61e0a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="216,132,297,159"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="345,132,472,159"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="520,5,653,32"/>
<area shape="rect" id="node6" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="540,56,633,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="545,107,628,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="542,157,631,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="539,208,635,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="535,259,638,285"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="713,5,786,32"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="701,81,797,108"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="706,132,793,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="845,132,945,159"/>
</map>
</div>

</div>
</div>
<a id="aa7e932369ddd5677a5f5269a19501618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e932369ddd5677a5f5269a19501618">&#9670;&nbsp;</a></span>ubifs_encrypt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ubifs_encrypt </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__data__node.html">ubifs_data_node</a> *&#160;</td>
          <td class="paramname"><em>dn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>in_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>out_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aa7e932369ddd5677a5f5269a19501618_icgraph.png" border="0" usemap="#ubifs_8h_aa7e932369ddd5677a5f5269a19501618_icgraph" alt=""/></div>
<map name="ubifs_8h_aa7e932369ddd5677a5f5269a19501618_icgraph" id="ubifs_8h_aa7e932369ddd5677a5f5269a19501618_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8eb0dc8b7e0e5f4cdbb42926e6b01639" title="ubifs_decrypt" alt="" coords="153,5,253,32"/>
</map>
</div>

</div>
</div>
<a id="a7a20ae4d7200218e4b1b4ce3cd803b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a20ae4d7200218e4b1b4ce3cd803b21">&#9670;&nbsp;</a></span>ubifs_end_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_end_scan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td>
          <td class="paramname"><em>sleb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_end_scan - update LEB scanning information at end of scan. <code></code>: UBIFS file-system description object : scanning information : logical eraseblock number : offset to start at (usually zero) </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph.png" border="0" usemap="#ubifs_8h_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph" alt=""/></div>
<map name="ubifs_8h_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph" id="ubifs_8h_a7a20ae4d7200218e4b1b4ce3cd803b21_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="167,208,291,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="186,385,271,412"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="379,259,470,285"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="351,157,499,184"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="796,107,923,133"/>
<area shape="rect" id="node20" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="382,208,467,235"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="786,208,933,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1015,360,1108,387"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1179,360,1289,387"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="589,157,694,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="791,157,928,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="995,5,1128,32"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1015,56,1108,83"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1020,107,1103,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1017,157,1106,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1013,208,1109,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1010,259,1113,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1197,5,1271,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1186,132,1282,159"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1191,81,1277,108"/>
<area shape="rect" id="node21" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="595,208,687,235"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="368,664,481,691"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="585,613,698,640"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="359,563,490,589"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="339,360,511,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="568,360,715,387"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="365,461,484,488"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="358,512,491,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="559,740,724,767"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="998,639,1125,665"/>
<area shape="rect" id="node25" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="815,816,904,843"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="817,715,902,741"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="817,765,902,792"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1183,563,1285,589"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1176,613,1292,640"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1177,664,1291,691"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1185,715,1283,741"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="796,613,923,640"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1018,576,1105,603"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="572,563,711,589"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="772,563,947,589"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="567,411,715,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="563,309,720,336"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="806,461,913,488"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="829,411,890,437"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="797,309,922,336"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1000,309,1123,336"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="577,461,706,488"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="587,512,696,539"/>
</map>
</div>

</div>
</div>
<a id="a37b315dc45919358339f018bbab084b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b315dc45919358339f018bbab084b8">&#9670;&nbsp;</a></span>ubifs_ensure_cat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_ensure_cat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_ensure_cat - ensure LEB properties are categorized. <code></code>: UBIFS file-system description object : LEB properties</p>
<p>A LEB may have fallen off of the bottom of a heap, and ended up as un-categorized even though it has enough space for us now. If that is the case this function will put the LEB back onto a heap. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a37b315dc45919358339f018bbab084b8_cgraph.png" border="0" usemap="#ubifs_8h_a37b315dc45919358339f018bbab084b8_cgraph" alt=""/></div>
<map name="ubifs_8h_a37b315dc45919358339f018bbab084b8_cgraph" id="ubifs_8h_a37b315dc45919358339f018bbab084b8_cgraph">
<area shape="rect" id="node2" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1457,651,1616,677"/>
<area shape="rect" id="node3" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="175,220,333,247"/>
<area shape="rect" id="node29" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1278,296,1399,323"/>
<area shape="rect" id="node4" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="381,169,536,196"/>
<area shape="rect" id="node5" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="587,43,701,69"/>
<area shape="rect" id="node7" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="584,169,704,196"/>
<area shape="rect" id="node6" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1843,93,1981,120"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="759,43,875,69"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="752,93,883,120"/>
<area shape="rect" id="node10" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="759,549,875,576"/>
<area shape="rect" id="node14" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1693,727,1765,753"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="755,195,879,221"/>
<area shape="rect" id="node11" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1096,752,1220,779"/>
<area shape="rect" id="node20" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="931,752,1048,779"/>
<area shape="rect" id="node21" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="931,524,1048,551"/>
<area shape="rect" id="node12" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1460,1006,1613,1047"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1285,701,1392,728"/>
<area shape="rect" id="node15" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1268,853,1409,880"/>
<area shape="rect" id="node19" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1284,999,1393,1025"/>
<area shape="rect" id="node16" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1481,803,1592,829"/>
<area shape="rect" id="node17" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1666,879,1793,905"/>
<area shape="rect" id="node18" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1485,853,1588,880"/>
<area shape="rect" id="node22" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1113,524,1203,551"/>
<area shape="rect" id="node28" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1111,423,1205,449"/>
<area shape="rect" id="node23" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1460,411,1613,453"/>
<area shape="rect" id="node24" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1285,803,1392,829"/>
<area shape="rect" id="node25" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1284,499,1393,525"/>
<area shape="rect" id="node26" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1280,448,1397,475"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1273,397,1404,424"/>
<area shape="rect" id="node30" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1478,144,1595,171"/>
<area shape="rect" id="node31" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1664,144,1795,171"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a37b315dc45919358339f018bbab084b8_icgraph.png" border="0" usemap="#ubifs_8h_a37b315dc45919358339f018bbab084b8_icgraph" alt=""/></div>
<map name="ubifs_8h_a37b315dc45919358339f018bbab084b8_icgraph" id="ubifs_8h_a37b315dc45919358339f018bbab084b8_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="175,230,325,256"/>
<area shape="rect" id="node3" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="393,80,497,107"/>
<area shape="rect" id="node29" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="576,171,711,198"/>
<area shape="rect" id="node31" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="373,230,516,256"/>
<area shape="rect" id="node41" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="383,339,506,366"/>
<area shape="rect" id="node45" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="984,288,1111,315"/>
<area shape="rect" id="node4" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="980,34,1115,60"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1175,34,1323,60"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1717,34,1875,60"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1380,186,1487,212"/>
<area shape="rect" id="node21" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1403,34,1464,60"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1544,236,1669,263"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1928,186,2044,212"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1727,135,1865,162"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1725,186,1867,212"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1733,287,1859,314"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1736,338,1856,364"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1734,388,1858,415"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1723,439,1869,466"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1720,84,1872,111"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="2107,160,2197,187"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2105,110,2199,136"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2111,59,2193,86"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2113,211,2191,238"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="2107,262,2197,288"/>
<area shape="rect" id="node22" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1544,34,1669,60"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1939,490,2033,516"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1923,363,2049,390"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1923,59,2049,86"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2097,490,2207,516"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2255,490,2348,516"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="771,176,920,203"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="578,222,709,264"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1549,84,1664,111"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="793,234,897,260"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="968,235,1127,262"/>
<area shape="rect" id="node36" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1205,236,1292,263"/>
<area shape="rect" id="node37" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1551,388,1662,415"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1371,135,1496,162"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1739,490,1853,516"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1555,186,1658,212"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="564,339,723,366"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="779,339,912,366"/>
<area shape="rect" id="node44" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="993,339,1102,366"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1185,388,1312,415"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1382,338,1485,364"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1375,388,1491,415"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1377,439,1490,466"/>
<area shape="rect" id="node50" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1384,490,1483,516"/>
</map>
</div>

</div>
</div>
<a id="aeff1ab85b59329875a7084014802262c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff1ab85b59329875a7084014802262c">&#9670;&nbsp;</a></span>ubifs_evict_xattr_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_evict_xattr_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>xattr_inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_evict_xattr_inode - Evict an xattr inode. <code></code>: UBIFS file-system description object : xattr inode number</p>
<p>When an inode that hosts xattrs is being removed we have to make sure that cached inodes of the xattrs also get removed from the inode cache otherwise we'd waste memory. This function looks up an inode from the inode cache and clears the link counter such that <a class="el" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3">iput()</a> will evict the inode. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aeff1ab85b59329875a7084014802262c_cgraph.png" border="0" usemap="#ubifs_8h_aeff1ab85b59329875a7084014802262c_cgraph" alt=""/></div>
<map name="ubifs_8h_aeff1ab85b59329875a7084014802262c_cgraph" id="ubifs_8h_aeff1ab85b59329875a7084014802262c_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="220,699,283,726"/>
<area shape="rect" id="node7" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="375,610,418,636"/>
<area shape="rect" id="node41" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="209,775,293,802"/>
<area shape="rect" id="node3" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="371,762,422,788"/>
<area shape="rect" id="node4" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="341,711,452,738"/>
<area shape="rect" id="node29" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1345,610,1483,636"/>
<area shape="rect" id="node5" href="inode_8c.html#a6bdbb5661dff23968a2a67170a4ffccf" title="__wait_on_freeing_inode" alt="" coords="500,762,665,788"/>
<area shape="rect" id="node6" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="554,711,611,738"/>
<area shape="rect" id="node8" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="545,255,620,282"/>
<area shape="rect" id="node9" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1363,99,1465,126"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="715,154,834,180"/>
<area shape="rect" id="node23" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="713,255,836,282"/>
<area shape="rect" id="node24" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="749,331,800,358"/>
<area shape="rect" id="node10" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1556,99,1683,126"/>
<area shape="rect" id="node12" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="890,103,1047,130"/>
<area shape="rect" id="node22" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="899,154,1038,180"/>
<area shape="rect" id="node13" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="1101,255,1284,282"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="1126,37,1259,78"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="1103,154,1282,180"/>
<area shape="rect" id="node19" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="1111,204,1274,231"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="1119,103,1267,130"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1370,44,1458,71"/>
<area shape="rect" id="node16" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1570,44,1669,71"/>
<area shape="rect" id="node17" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1744,44,1883,71"/>
<area shape="rect" id="node20" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1332,204,1496,231"/>
<area shape="rect" id="node25" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="909,204,1028,231"/>
<area shape="rect" id="node26" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="907,356,1030,383"/>
<area shape="rect" id="node27" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="884,255,1053,282"/>
<area shape="rect" id="node28" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="1149,559,1237,586"/>
<area shape="rect" id="node30" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="931,306,1007,332"/>
<area shape="rect" id="node33" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="931,407,1007,434"/>
<area shape="rect" id="node34" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="917,508,1020,535"/>
<area shape="rect" id="node31" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="1165,356,1220,383"/>
<area shape="rect" id="node32" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1345,356,1483,383"/>
<area shape="rect" id="node35" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="1134,508,1251,535"/>
<area shape="rect" id="node40" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="1153,458,1233,484"/>
<area shape="rect" id="node36" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1350,483,1478,510"/>
<area shape="rect" id="node37" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1333,534,1495,560"/>
<area shape="rect" id="node38" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1544,534,1695,560"/>
<area shape="rect" id="node39" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1743,534,1884,560"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aeff1ab85b59329875a7084014802262c_icgraph.png" border="0" usemap="#ubifs_8h_aeff1ab85b59329875a7084014802262c_icgraph" alt=""/></div>
<map name="ubifs_8h_aeff1ab85b59329875a7084014802262c_icgraph" id="ubifs_8h_aeff1ab85b59329875a7084014802262c_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="209,259,359,285"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="422,44,534,71"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="413,259,543,285"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="407,360,549,387"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="597,411,748,437"/>
<area shape="rect" id="node27" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="413,132,543,159"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="627,5,718,32"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="796,5,943,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="992,56,1085,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1135,56,1244,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1292,56,1385,83"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="610,309,735,336"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="609,259,736,285"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="808,461,931,488"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="803,411,936,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="823,157,916,184"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="828,208,911,235"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="825,259,914,285"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="821,309,917,336"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="818,360,921,387"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1002,411,1075,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="991,183,1087,209"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="995,233,1082,260"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1139,233,1239,260"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="611,360,734,387"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="808,512,931,539"/>
<area shape="rect" id="node28" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="613,56,732,83"/>
<area shape="rect" id="node29" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="801,56,938,83"/>
</map>
</div>

</div>
</div>
<a id="af7bb5628372135952187c4c37b9a0a68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7bb5628372135952187c4c37b9a0a68">&#9670;&nbsp;</a></span>ubifs_fast_find_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_fast_find_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_fast_find_empty - try to find an empty LEB quickly. <code></code>: the UBIFS file-system description object</p>
<p>This function returns LEB properties for an empty LEB or NULL if the function is unable to find an empty LEB quickly. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af7bb5628372135952187c4c37b9a0a68_icgraph.png" border="0" usemap="#ubifs_8h_af7bb5628372135952187c4c37b9a0a68_icgraph" alt=""/></div>
<map name="ubifs_8h_af7bb5628372135952187c4c37b9a0a68_icgraph" id="ubifs_8h_af7bb5628372135952187c4c37b9a0a68_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="551,357,685,384"/>
<area shape="rect" id="node42" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="204,408,339,435"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="206,459,337,501"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="746,307,894,333"/>
<area shape="rect" id="node33" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1289,509,1447,536"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="952,307,1059,333"/>
<area shape="rect" id="node30" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="975,256,1036,283"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1116,307,1241,333"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1512,408,1628,435"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1299,35,1437,61"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1297,307,1439,333"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1305,357,1431,384"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1308,459,1428,485"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1306,92,1430,119"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1295,205,1441,232"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1292,256,1444,283"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1715,208,1805,235"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1713,360,1807,387"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1719,411,1801,437"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1721,259,1799,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1715,107,1805,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1717,157,1803,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1715,512,1805,539"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1712,461,1808,488"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1709,309,1811,336"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1875,385,1971,412"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1879,436,1966,463"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1521,9,1619,36"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1710,5,1810,32"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1509,256,1631,283"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1495,307,1645,333"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1517,357,1623,384"/>
<area shape="rect" id="node31" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1116,256,1241,283"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1501,205,1639,232"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1523,715,1617,741"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1507,664,1633,691"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1507,461,1633,488"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1705,715,1815,741"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1876,715,1969,741"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1699,664,1821,691"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1693,563,1827,589"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1886,563,1959,589"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="745,408,895,435"/>
<area shape="rect" id="node45" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1121,509,1236,536"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="387,459,491,485"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="539,459,697,485"/>
<area shape="rect" id="node48" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="777,459,863,485"/>
<area shape="rect" id="node49" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="950,459,1061,485"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="943,408,1068,435"/>
</map>
</div>

</div>
</div>
<a id="ae7db0b84b9b4c7666f34dd1c6d78b0a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7db0b84b9b4c7666f34dd1c6d78b0a0">&#9670;&nbsp;</a></span>ubifs_fast_find_frdi_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_fast_find_frdi_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_fast_find_frdi_idx - try to find a freeable index LEB quickly. <code></code>: the UBIFS file-system description object</p>
<p>This function returns LEB properties for a freeable index LEB or NULL if the function is unable to find a freeable index LEB quickly. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae7db0b84b9b4c7666f34dd1c6d78b0a0_icgraph.png" border="0" usemap="#ubifs_8h_ae7db0b84b9b4c7666f34dd1c6d78b0a0_icgraph" alt=""/></div>
<map name="ubifs_8h_ae7db0b84b9b4c7666f34dd1c6d78b0a0_icgraph" id="ubifs_8h_ae7db0b84b9b4c7666f34dd1c6d78b0a0_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="209,247,364,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="412,247,499,273"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="554,184,665,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="547,272,672,299"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="915,145,1029,172"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1128,120,1221,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1112,171,1237,197"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1324,5,1433,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1317,56,1440,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="731,196,834,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="725,297,840,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="893,233,1051,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="909,1171,1035,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="720,399,845,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1111,233,1238,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1521,436,1655,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1332,208,1425,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1337,157,1420,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1334,259,1423,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1331,309,1427,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1327,360,1430,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1545,816,1631,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1117,385,1233,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1106,1412,1243,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1103,1272,1246,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1111,1348,1238,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1115,1171,1235,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1113,1221,1237,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1102,968,1247,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1099,1120,1251,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1333,411,1424,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1340,461,1417,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1333,512,1424,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1335,563,1422,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1329,1424,1428,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1538,1221,1638,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1317,1323,1440,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1303,1272,1454,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1325,1373,1432,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1329,867,1428,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1330,1120,1427,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1105,613,1244,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1317,664,1440,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1322,715,1435,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1339,765,1419,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1299,968,1459,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1533,917,1643,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1507,993,1669,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1345,613,1413,640"/>
</map>
</div>

</div>
</div>
<a id="a9f9c5f51e3eec037783db8eb0477b5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f9c5f51e3eec037783db8eb0477b5cc">&#9670;&nbsp;</a></span>ubifs_fast_find_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_fast_find_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_fast_find_free - try to find a LEB with free space quickly. <code></code>: the UBIFS file-system description object</p>
<p>This function returns LEB properties for a LEB with free space or NULL if the function is unable to find a LEB quickly. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9f9c5f51e3eec037783db8eb0477b5cc_icgraph.png" border="0" usemap="#ubifs_8h_a9f9c5f51e3eec037783db8eb0477b5cc_icgraph" alt=""/></div>
<map name="ubifs_8h_a9f9c5f51e3eec037783db8eb0477b5cc_icgraph" id="ubifs_8h_a9f9c5f51e3eec037783db8eb0477b5cc_icgraph">
<area shape="rect" id="node2" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="189,588,324,615"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="372,588,521,615"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="569,588,676,615"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="724,588,849,615"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="915,335,1031,361"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="905,664,1042,691"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="902,765,1045,792"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="910,613,1037,640"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="913,563,1033,589"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="911,715,1035,741"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="901,63,1046,89"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="897,171,1049,197"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1127,107,1218,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1126,157,1219,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1131,461,1214,488"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1134,208,1211,235"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1127,259,1218,285"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1129,309,1216,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1128,360,1217,387"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1125,411,1221,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1121,512,1224,539"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1303,56,1411,83"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1481,5,1614,32"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1676,31,1749,57"/>
<area shape="rect" id="node11" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1467,107,1628,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1309,461,1405,488"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1314,563,1401,589"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1497,588,1597,615"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1123,664,1222,691"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1301,664,1414,691"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1307,715,1407,741"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1500,715,1595,741"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1111,816,1234,843"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1097,765,1248,792"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1296,765,1419,792"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1304,613,1411,640"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1308,5,1407,32"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1124,56,1221,83"/>
</map>
</div>

</div>
</div>
<a id="af4f3f200dc1d36660281ec0282293308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f3f200dc1d36660281ec0282293308">&#9670;&nbsp;</a></span>ubifs_fast_find_freeable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_fast_find_freeable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_fast_find_freeable - try to find a freeable LEB quickly. <code></code>: the UBIFS file-system description object</p>
<p>This function returns LEB properties for a freeable LEB or NULL if the function is unable to find a freeable LEB quickly. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af4f3f200dc1d36660281ec0282293308_icgraph.png" border="0" usemap="#ubifs_8h_af4f3f200dc1d36660281ec0282293308_icgraph" alt=""/></div>
<map name="ubifs_8h_af4f3f200dc1d36660281ec0282293308_icgraph" id="ubifs_8h_af4f3f200dc1d36660281ec0282293308_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="392,712,547,739"/>
<area shape="rect" id="node44" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="801,537,936,564"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="213,611,344,653"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="825,687,912,713"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1003,759,1113,785"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="995,675,1121,701"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1364,791,1479,817"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1577,791,1671,817"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1561,841,1687,868"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1769,892,1878,919"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1948,892,2041,919"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1762,943,1885,969"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1186,689,1289,716"/>
<area shape="rect" id="node13" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1180,639,1295,665"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1343,740,1500,767"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1359,233,1484,260"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1359,588,1484,615"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1561,740,1687,767"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1757,841,1890,868"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1777,791,1870,817"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1782,740,1865,767"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1779,588,1868,615"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1775,639,1871,665"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1772,689,1875,716"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1958,841,2031,868"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1947,740,2043,767"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1951,537,2038,564"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1566,512,1682,539"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1555,208,1693,235"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1553,259,1695,285"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1561,309,1687,336"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1564,5,1684,32"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1562,56,1686,83"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1551,107,1697,133"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1548,157,1700,184"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1778,335,1869,361"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1785,385,1862,412"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1778,436,1869,463"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1780,487,1867,513"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1774,132,1873,159"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1762,233,1885,260"/>
<area shape="rect" id="node35" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1748,183,1899,209"/>
<area shape="rect" id="node37" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1770,284,1877,311"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1555,588,1693,615"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="984,436,1132,463"/>
<area shape="rect" id="node46" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1184,309,1291,336"/>
<area shape="rect" id="node47" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1207,436,1268,463"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="417,661,521,688"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="595,661,753,688"/>
</map>
</div>

</div>
</div>
<a id="a9755efbbff945daa2e58b2c996976a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9755efbbff945daa2e58b2c996976a29">&#9670;&nbsp;</a></span>ubifs_find_dirty_idx_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_dirty_idx_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_dirty_idx_leb - try to find dirtiest index LEB as at last commit. <code></code>: the UBIFS file-system description object</p>
<p>This function attempts to find an untaken index LEB with the most free and dirty space that can be used without overwriting index nodes that were in the last index committed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9755efbbff945daa2e58b2c996976a29_cgraph.png" border="0" usemap="#ubifs_8h_a9755efbbff945daa2e58b2c996976a29_cgraph" alt=""/></div>
<map name="ubifs_8h_a9755efbbff945daa2e58b2c996976a29_cgraph" id="ubifs_8h_a9755efbbff945daa2e58b2c996976a29_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="224,555,341,581"/>
<area shape="rect" id="node3" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="214,656,351,683"/>
<area shape="rect" id="node35" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="221,605,344,632"/>
<area shape="rect" id="node48" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="228,707,337,733"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="212,757,353,784"/>
<area shape="rect" id="node4" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="609,631,725,657"/>
<area shape="rect" id="node23" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="415,757,531,784"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="999,477,1123,504"/>
<area shape="rect" id="node13" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="806,617,923,644"/>
<area shape="rect" id="node14" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="806,719,923,745"/>
<area shape="rect" id="node6" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1391,310,1544,351"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1207,477,1314,504"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1622,376,1694,403"/>
<area shape="rect" id="node9" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1190,427,1331,453"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1206,275,1315,301"/>
<area shape="rect" id="node10" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1412,477,1523,504"/>
<area shape="rect" id="node11" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1595,528,1721,555"/>
<area shape="rect" id="node15" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1016,719,1105,745"/>
<area shape="rect" id="node21" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1014,820,1107,847"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1391,622,1544,663"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1388,832,1547,859"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1207,781,1314,808"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1206,629,1315,656"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1202,680,1319,707"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1200,1035,1321,1061"/>
<area shape="rect" id="node24" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="614,757,721,784"/>
<area shape="rect" id="node25" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="593,707,741,733"/>
<area shape="rect" id="node31" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="611,808,724,835"/>
<area shape="rect" id="node32" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1000,1035,1121,1061"/>
<area shape="rect" id="node26" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="805,820,925,847"/>
<area shape="rect" id="node28" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="805,921,925,948"/>
<area shape="rect" id="node27" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="988,871,1133,897"/>
<area shape="rect" id="node29" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1005,972,1116,999"/>
<area shape="rect" id="node30" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1013,921,1109,948"/>
<area shape="rect" id="node33" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1204,1136,1317,1163"/>
<area shape="rect" id="node34" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1181,984,1340,1011"/>
<area shape="rect" id="node36" href="find_8c.html#a98d2bc7732900fffd37f45fbd8d47eec" title="scan_dirty_idx_cb" alt="" coords="410,555,537,581"/>
<area shape="rect" id="node38" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="789,484,940,511"/>
<area shape="rect" id="node37" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="632,555,703,581"/>
<area shape="rect" id="node39" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="1002,427,1119,453"/>
<area shape="rect" id="node40" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="1002,579,1119,605"/>
<area shape="rect" id="node41" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="1000,769,1121,796"/>
<area shape="rect" id="node42" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="1187,173,1335,200"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1202,81,1319,108"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1402,107,1533,133"/>
<area shape="rect" id="node44" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1407,157,1527,184"/>
<area shape="rect" id="node45" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1411,208,1524,235"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1409,5,1525,32"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#a2e83b83738924a4b92576798c5409df2" title="ubifs_get_idx_gc_leb" alt="" coords="401,808,545,835"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9755efbbff945daa2e58b2c996976a29_icgraph.png" border="0" usemap="#ubifs_8h_a9755efbbff945daa2e58b2c996976a29_icgraph" alt=""/></div>
<map name="ubifs_8h_a9755efbbff945daa2e58b2c996976a29_icgraph" id="ubifs_8h_a9755efbbff945daa2e58b2c996976a29_icgraph">
<area shape="rect" id="node2" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="212,233,345,260"/>
<area shape="rect" id="node3" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="393,233,503,260"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="551,233,657,260"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="705,233,864,260"/>
<area shape="rect" id="node6" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="912,233,999,260"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1054,171,1165,197"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1047,259,1172,285"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1415,107,1529,133"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1628,56,1721,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1612,107,1737,133"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1824,5,1933,32"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1817,56,1940,83"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1231,335,1334,361"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1225,233,1340,260"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1393,183,1551,209"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1409,309,1535,336"/>
<area shape="rect" id="node45" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1220,487,1345,513"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1611,461,1738,488"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2007,613,2140,640"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1832,563,1925,589"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1837,411,1920,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1834,613,1923,640"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1831,461,1927,488"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1827,512,1930,539"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2030,917,2117,944"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1617,588,1733,615"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1606,157,1743,184"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1603,208,1746,235"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1611,309,1738,336"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1615,1228,1735,1255"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1613,259,1737,285"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1602,1155,1747,1181"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1599,1016,1751,1043"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1833,765,1924,792"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1840,816,1917,843"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1833,664,1924,691"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1835,715,1922,741"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1829,107,1928,133"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2023,259,2123,285"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1817,208,1940,235"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1803,157,1954,184"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1825,309,1932,336"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1829,1221,1928,1248"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1830,1171,1927,1197"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1605,788,1744,815"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1817,1069,1940,1096"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1822,1120,1935,1147"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1839,968,1919,995"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1799,1019,1959,1045"/>
</map>
</div>

</div>
</div>
<a id="aa0e0f58e74f915d84712f6a1367b75d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e0f58e74f915d84712f6a1367b75d0">&#9670;&nbsp;</a></span>ubifs_find_dirty_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_dirty_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>ret_lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pick_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_dirty_leb - find a dirty LEB for the Garbage Collector. <code></code>: the UBIFS file-system description object : LEB properties are returned here on exit : minimum amount free plus dirty space the returned LEB has to have : controls whether it is OK to pick empty or index LEBs</p>
<p>This function tries to find a dirty logical eraseblock which has at least  free and dirty space. It prefers to take an LEB from the dirty or dirty index heap, and it falls-back to LPT scanning if the heaps are empty or do not have an LEB which satisfies the  criteria.</p>
<p>Note, LEBs which have less than dead watermark of free + dirty space are never picked by this function.</p>
<p>The additional  argument controls if this function has to return a free or freeable LEB if one is present. For example, GC must to set it to %1, when called from the journal space reservation function, because the appearance of free space may coincide with the loss of enough dirty space for GC to succeed anyway.</p>
<p>In contrast, if the Garbage Collector is called from budgeting, it should just make free space, not return LEBs which are already free or freeable.</p>
<p>In addition  is set to %2 by the recovery process in order to recover gc_lnum in which case an index LEB must not be returned.</p>
<p>This function returns zero and the LEB properties of found dirty LEB in case of success, %-ENOSPC if no dirty LEB was found and a negative error code in case of other failures. The returned LEB is marked as "taken". </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_cgraph.png" border="0" usemap="#ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_cgraph" alt=""/></div>
<map name="ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_cgraph" id="ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="209,661,327,688"/>
<area shape="rect" id="node3" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="193,712,343,739"/>
<area shape="rect" id="node4" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="188,763,348,789"/>
<area shape="rect" id="node5" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="216,813,320,840"/>
<area shape="rect" id="node46" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="210,889,326,916"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="197,940,339,967"/>
<area shape="rect" id="node6" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="592,588,743,615"/>
<area shape="rect" id="node35" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7" title="scan_for_dirty_cb" alt="" coords="407,599,533,625"/>
<area shape="rect" id="node37" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="396,813,544,840"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="801,436,925,463"/>
<area shape="rect" id="node14" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="805,309,922,336"/>
<area shape="rect" id="node15" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="805,588,922,615"/>
<area shape="rect" id="node21" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="803,747,924,773"/>
<area shape="rect" id="node28" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="817,797,910,824"/>
<area shape="rect" id="node29" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="989,107,1137,133"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1005,157,1122,184"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1193,310,1347,351"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1010,461,1117,488"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1420,411,1492,437"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="993,309,1134,336"/>
<area shape="rect" id="node13" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1009,259,1118,285"/>
<area shape="rect" id="node12" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1215,461,1325,488"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1193,606,1347,647"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1191,816,1349,843"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1010,664,1117,691"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1009,613,1118,640"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1005,715,1122,741"/>
<area shape="rect" id="node22" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="984,1019,1143,1045"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1003,968,1124,995"/>
<area shape="rect" id="node23" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1193,1019,1347,1045"/>
<area shape="rect" id="node24" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1399,1019,1513,1045"/>
<area shape="rect" id="node25" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1563,993,1701,1020"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1397,968,1515,995"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1205,157,1335,184"/>
<area shape="rect" id="node31" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1210,5,1330,32"/>
<area shape="rect" id="node32" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1213,107,1327,133"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1212,208,1328,235"/>
<area shape="rect" id="node36" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="632,537,703,564"/>
<area shape="rect" id="node38" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="607,889,727,916"/>
<area shape="rect" id="node40" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="609,651,726,677"/>
<area shape="rect" id="node41" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="609,788,726,815"/>
<area shape="rect" id="node43" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="607,839,727,865"/>
<area shape="rect" id="node39" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="791,949,936,976"/>
<area shape="rect" id="node42" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="819,696,908,723"/>
<area shape="rect" id="node44" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="808,848,919,875"/>
<area shape="rect" id="node45" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="815,899,911,925"/>
<area shape="rect" id="node47" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="417,1041,523,1068"/>
<area shape="rect" id="node48" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="413,991,527,1017"/>
<area shape="rect" id="node49" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="803,1019,924,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_icgraph.png" border="0" usemap="#ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_icgraph" alt=""/></div>
<map name="ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_icgraph" id="ubifs_8h_aa0e0f58e74f915d84712f6a1367b75d0_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="188,774,336,800"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="539,1255,696,1282"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="384,470,491,496"/>
<area shape="rect" id="node34" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="407,774,468,800"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="555,242,680,268"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="762,1027,878,1054"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="751,140,889,167"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="749,90,891,116"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="757,191,883,218"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="760,368,880,395"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="758,14,882,40"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="747,482,893,508"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="744,242,896,268"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="979,850,1069,876"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="977,1052,1071,1079"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="983,1204,1065,1231"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="985,900,1063,927"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="979,1002,1069,1028"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="981,951,1067,978"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="979,1103,1069,1130"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="976,1154,1072,1180"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="973,1255,1075,1282"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1185,1204,1281,1231"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1190,596,1277,623"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1363,419,1463,446"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="975,140,1073,167"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1183,140,1283,167"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="963,90,1085,116"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="949,39,1099,66"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1180,242,1287,268"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="975,546,1073,572"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1167,1280,1300,1307"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1376,1280,1449,1307"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="975,242,1073,268"/>
<area shape="rect" id="node35" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="555,774,680,800"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="751,774,889,800"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="963,596,1085,623"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="967,647,1081,674"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="984,698,1064,724"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="944,394,1104,420"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1178,343,1289,370"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1152,444,1315,471"/>
<area shape="rect" id="node43" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="990,799,1058,826"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="773,1306,867,1332"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="757,1382,883,1408"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="757,1204,883,1231"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="969,1356,1079,1383"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1187,1356,1280,1383"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="963,1407,1085,1434"/>
</map>
</div>

</div>
</div>
<a id="a5dbeb2fbcdd3403f15e5d6ce214edcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbeb2fbcdd3403f15e5d6ce214edcf9">&#9670;&nbsp;</a></span>ubifs_find_free_leb_for_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_free_leb_for_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_free_leb_for_idx - find a free LEB for the index. <code></code>: the UBIFS file-system description object</p>
<p>This function looks for a free LEB and returns that LEB number. The returned LEB is marked as "taken", "index".</p>
<p>Only empty LEBs are allocated. This is for two reasons. First, the commit calculates the number of LEBs to allocate based on the assumption that they will be empty. Secondly, free space at the end of an index LEB is not guaranteed to be empty because it may have been used by the in-the-gaps method prior to an unclean unmount.</p>
<p>If no LEB is found %-ENOSPC is returned. For other failures another negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph.png" border="0" usemap="#ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph" alt=""/></div>
<map name="ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph" id="ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="405,956,522,983"/>
<area shape="rect" id="node3" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="189,804,339,831"/>
<area shape="rect" id="node4" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="184,855,344,881"/>
<area shape="rect" id="node5" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="392,753,535,780"/>
<area shape="rect" id="node37" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="405,691,521,717"/>
<area shape="rect" id="node42" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="393,1120,534,1147"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="403,1171,523,1197"/>
<area shape="rect" id="node50" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="192,1007,336,1033"/>
<area shape="rect" id="node6" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="779,569,929,596"/>
<area shape="rect" id="node30" href="find_8c.html#a729b477660fd27cb7248516da9c558e1" title="scan_for_idx_cb" alt="" coords="598,797,715,824"/>
<area shape="rect" id="node32" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="583,721,731,748"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="989,696,1113,723"/>
<area shape="rect" id="node13" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="993,569,1110,596"/>
<area shape="rect" id="node14" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="993,411,1110,437"/>
<area shape="rect" id="node20" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="991,208,1112,235"/>
<area shape="rect" id="node23" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1005,157,1098,184"/>
<area shape="rect" id="node24" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="977,867,1125,893"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="993,1019,1110,1045"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1383,606,1536,647"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1199,563,1306,589"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1423,917,1495,944"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1182,664,1323,691"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1198,613,1307,640"/>
<area shape="rect" id="node15" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1383,378,1536,419"/>
<area shape="rect" id="node16" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1380,233,1539,260"/>
<area shape="rect" id="node17" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1199,259,1306,285"/>
<area shape="rect" id="node18" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1198,360,1307,387"/>
<area shape="rect" id="node19" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1194,461,1311,488"/>
<area shape="rect" id="node21" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1173,157,1332,184"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1192,107,1313,133"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1187,968,1318,995"/>
<area shape="rect" id="node26" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1193,867,1313,893"/>
<area shape="rect" id="node27" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1196,816,1309,843"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1195,1019,1311,1045"/>
<area shape="rect" id="node31" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="819,823,889,849"/>
<area shape="rect" id="node33" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="794,620,914,647"/>
<area shape="rect" id="node34" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="795,772,913,799"/>
<area shape="rect" id="node35" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="795,519,913,545"/>
<area shape="rect" id="node36" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="794,671,914,697"/>
<area shape="rect" id="node38" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="603,620,710,647"/>
<area shape="rect" id="node39" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="600,417,713,444"/>
<area shape="rect" id="node40" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="991,107,1112,133"/>
<area shape="rect" id="node41" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1196,5,1309,32"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="992,1233,1111,1260"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="600,1120,713,1147"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="603,1323,710,1349"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="791,1120,917,1147"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="783,1221,925,1248"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1009,1309,1094,1336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph.png" border="0" usemap="#ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph" alt=""/></div>
<map name="ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph" id="ubifs_8h_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="856,233,971,260"/>
<area shape="rect" id="node20" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="184,284,288,311"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1024,233,1181,260"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1259,132,1352,159"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1243,183,1368,209"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1242,233,1369,260"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1450,5,1559,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1648,5,1741,32"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1443,56,1566,83"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1628,715,1761,741"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1458,259,1551,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1463,360,1546,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1460,309,1549,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1457,157,1553,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1453,208,1556,235"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1823,715,1896,741"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1647,360,1743,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1651,765,1738,792"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1809,828,1909,855"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="336,284,495,311"/>
<area shape="rect" id="node22" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="543,284,629,311"/>
<area shape="rect" id="node23" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="685,284,795,311"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="677,335,803,361"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1045,183,1160,209"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="862,436,965,463"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1040,917,1165,944"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="851,335,976,361"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1247,385,1363,412"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1237,1145,1374,1172"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1234,1069,1377,1096"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1242,968,1369,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1245,917,1365,944"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1243,1019,1367,1045"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1233,765,1378,792"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1229,867,1381,893"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1459,563,1550,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1466,411,1543,437"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1459,461,1550,488"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1461,512,1548,539"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1455,1171,1554,1197"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1645,1019,1745,1045"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1443,1069,1566,1096"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1429,1120,1580,1147"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1641,892,1748,919"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1455,715,1554,741"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1456,867,1553,893"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1236,487,1375,513"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1443,664,1566,691"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1448,613,1561,640"/>
</map>
</div>

</div>
</div>
<a id="a1f03e32ffa32d28279f1eaf0f81c4a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f03e32ffa32d28279f1eaf0f81c4a5f">&#9670;&nbsp;</a></span>ubifs_find_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>squeeze</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_free_space - find a data LEB with free space. <code></code>: the UBIFS file-system description object : minimum amount of required free space : contains offset of where free space starts on exit : whether to try to find space in a non-empty LEB first</p>
<p>This function looks for an LEB with at least  bytes of free space. It tries to find an empty LEB if possible. If no empty LEBs are available, this function searches for a non-empty data LEB. The returned LEB is marked as "taken".</p>
<p>This function returns found LEB number in case of success, %-ENOSPC if it failed to find a LEB with  bytes of free space and other a negative error codes in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph.png" border="0" usemap="#ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph" alt=""/></div>
<map name="ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph" id="ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="215,622,332,649"/>
<area shape="rect" id="node3" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="206,673,341,700"/>
<area shape="rect" id="node38" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="215,774,331,801"/>
<area shape="rect" id="node43" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="203,825,344,852"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="213,1154,333,1181"/>
<area shape="rect" id="node4" href="lprops_8c.html#a9f9c5f51e3eec037783db8eb0477b5cc" title="ubifs_fast_find_free" alt="" coords="399,521,535,548"/>
<area shape="rect" id="node5" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="392,572,543,598"/>
<area shape="rect" id="node6" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="591,673,741,700"/>
<area shape="rect" id="node30" href="find_8c.html#a131c924a527c1d77bc20a4ebbcf83f03" title="scan_for_free_cb" alt="" coords="406,622,529,649"/>
<area shape="rect" id="node32" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="393,724,541,750"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="801,470,925,497"/>
<area shape="rect" id="node13" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="805,344,922,370"/>
<area shape="rect" id="node14" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="805,141,922,168"/>
<area shape="rect" id="node20" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="803,724,924,750"/>
<area shape="rect" id="node23" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="817,774,910,801"/>
<area shape="rect" id="node24" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="789,673,937,700"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="805,876,922,902"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1195,336,1348,378"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1011,293,1118,320"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1235,661,1307,688"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="994,394,1135,421"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1010,344,1119,370"/>
<area shape="rect" id="node15" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1195,7,1348,48"/>
<area shape="rect" id="node16" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1192,585,1351,612"/>
<area shape="rect" id="node17" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1011,90,1118,117"/>
<area shape="rect" id="node18" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1010,40,1119,66"/>
<area shape="rect" id="node19" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1006,141,1123,168"/>
<area shape="rect" id="node21" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="985,850,1144,877"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1004,800,1125,826"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="999,749,1130,776"/>
<area shape="rect" id="node26" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1005,546,1125,573"/>
<area shape="rect" id="node27" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1008,648,1121,674"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1007,901,1123,928"/>
<area shape="rect" id="node31" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="631,521,701,548"/>
<area shape="rect" id="node33" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="606,825,726,852"/>
<area shape="rect" id="node35" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="607,622,725,649"/>
<area shape="rect" id="node36" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="607,774,725,801"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="606,724,726,750"/>
<area shape="rect" id="node34" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="791,825,936,852"/>
<area shape="rect" id="node39" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="414,774,521,801"/>
<area shape="rect" id="node40" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="411,825,524,852"/>
<area shape="rect" id="node41" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="803,926,924,953"/>
<area shape="rect" id="node42" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1008,1053,1121,1080"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="804,1205,923,1232"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="411,1154,524,1181"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="414,1281,521,1308"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="603,1002,729,1029"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="595,1256,737,1282"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="821,1281,906,1308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph.png" border="0" usemap="#ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph" alt=""/></div>
<map name="ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph" id="ubifs_8h_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph">
<area shape="rect" id="node2" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="203,588,309,615"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="357,588,483,615"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="549,335,665,361"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="538,664,675,691"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="535,765,678,792"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="543,613,670,640"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="547,563,667,589"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="545,715,669,741"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="534,63,679,89"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="531,171,683,197"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="761,107,851,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="759,157,853,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="765,461,847,488"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="767,208,845,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="761,259,851,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="763,309,849,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="761,360,851,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="758,411,854,437"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="755,512,857,539"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="937,56,1045,83"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1114,5,1247,32"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1309,31,1383,57"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1100,107,1261,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="943,461,1039,488"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="947,563,1034,589"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1131,588,1231,615"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="757,664,855,691"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="934,664,1047,691"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="941,715,1041,741"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1133,715,1228,741"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="745,816,867,843"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="731,765,881,792"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="929,765,1052,792"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="937,613,1044,640"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="941,5,1040,32"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="757,56,855,83"/>
</map>
</div>

</div>
</div>
<a id="aa1da01102b5d0779024cfd4547a80359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1da01102b5d0779024cfd4547a80359">&#9670;&nbsp;</a></span>ubifs_first_nnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a>* ubifs_first_nnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>hght</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7bacccbb99ed3d3f67a20cac2ac99990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bacccbb99ed3d3f67a20cac2ac99990">&#9670;&nbsp;</a></span>ubifs_fixup_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_fixup_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_fixup_free_space - find &amp; fix all LEBs with free space. <code></code>: UBIFS file-system description object</p>
<p>This function fixes up LEBs containing free space on first mount, if the appropriate flag was set when the FS was created. Each LEB with one or more empty min. I/O unit (i.e. free-space-count &gt; 0) is re-written, to make sure the free space is actually erased. E.g., this is necessary for some NAND chips, since the free space may have been programmed like real "0xff" data (generating a non-0xff ECC), causing future writes to the not-really-erased NAND pages to behave badly. After the space is fixed up, the superblock flag is cleared, so that this is skipped for all future mounts. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_cgraph.png" border="0" usemap="#ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_cgraph" alt=""/></div>
<map name="ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_cgraph" id="ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="237,287,320,313"/>
<area shape="rect" id="node3" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="218,464,339,491"/>
<area shape="rect" id="node36" href="sb_8c.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="209,768,348,795"/>
<area shape="rect" id="node47" href="sb_8c.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="751,259,892,285"/>
<area shape="rect" id="node4" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="408,439,525,465"/>
<area shape="rect" id="node5" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="784,451,859,477"/>
<area shape="rect" id="node17" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="396,388,537,415"/>
<area shape="rect" id="node18" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="409,591,525,617"/>
<area shape="rect" id="node35" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="396,540,537,567"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="951,360,1071,387"/>
<area shape="rect" id="node14" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="957,641,1064,668"/>
<area shape="rect" id="node15" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="949,259,1072,285"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1527,259,1645,285"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1152,309,1265,336"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1371,629,1443,656"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1354,107,1461,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1344,309,1471,336"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="1336,259,1479,285"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1543,107,1629,133"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1151,259,1267,285"/>
<area shape="rect" id="node19" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="759,591,883,617"/>
<area shape="rect" id="node26" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="585,616,703,643"/>
<area shape="rect" id="node27" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="585,819,703,845"/>
<area shape="rect" id="node20" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1132,563,1285,605"/>
<area shape="rect" id="node21" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="940,743,1081,769"/>
<area shape="rect" id="node25" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="956,591,1065,617"/>
<area shape="rect" id="node22" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1153,832,1264,859"/>
<area shape="rect" id="node23" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1344,807,1471,833"/>
<area shape="rect" id="node24" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1157,731,1260,757"/>
<area shape="rect" id="node28" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="777,819,866,845"/>
<area shape="rect" id="node34" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="775,869,868,896"/>
<area shape="rect" id="node29" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1132,985,1285,1026"/>
<area shape="rect" id="node30" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1129,933,1288,960"/>
<area shape="rect" id="node31" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="957,844,1064,871"/>
<area shape="rect" id="node32" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="956,945,1065,972"/>
<area shape="rect" id="node33" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="952,793,1069,820"/>
<area shape="rect" id="node37" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="763,1051,880,1077"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1545,1101,1627,1128"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="947,1051,1074,1077"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1147,1101,1271,1128"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1370,949,1445,976"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1356,1152,1459,1179"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1360,1203,1455,1229"/>
<area shape="rect" id="node44" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1370,1000,1445,1027"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1347,1051,1468,1077"/>
<area shape="rect" id="node46" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1347,1101,1467,1128"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="943,56,1078,83"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="1162,56,1255,83"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="1169,5,1248,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_icgraph.png" border="0" usemap="#ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_icgraph" alt=""/></div>
<map name="ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_icgraph" id="ubifs_8h_a7bacccbb99ed3d3f67a20cac2ac99990_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="225,5,319,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="209,56,335,83"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="389,5,499,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="553,5,647,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="383,56,505,83"/>
</map>
</div>

</div>
</div>
<a id="a5ece0e1f31ec99e76c25f892ae129e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ece0e1f31ec99e76c25f892ae129e66">&#9670;&nbsp;</a></span>ubifs_fsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_fsync </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datasync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5ece0e1f31ec99e76c25f892ae129e66_cgraph.png" border="0" usemap="#ubifs_8h_a5ece0e1f31ec99e76c25f892ae129e66_cgraph" alt=""/></div>
<map name="ubifs_8h_a5ece0e1f31ec99e76c25f892ae129e66_cgraph" id="ubifs_8h_a5ece0e1f31ec99e76c25f892ae129e66_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="143,1746,291,1787"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#a3b4d80947dbd579130f95db8f4de5691" title="wbuf_has_ino" alt="" coords="370,1703,473,1729"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="339,1753,504,1780"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="776,1855,883,1881"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="552,5,728,32"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1344,107,1425,133"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="601,1804,679,1831"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="585,1753,695,1780"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1149,1880,1268,1907"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="778,1804,881,1831"/>
<area shape="rect" id="node26" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1349,1044,1421,1071"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="939,1019,1065,1045"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="931,1804,1073,1831"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1166,1931,1251,1957"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="955,1905,1049,1932"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1139,259,1279,285"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1137,309,1281,336"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1167,360,1250,387"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1165,411,1252,437"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1168,461,1249,488"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1141,512,1276,539"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1148,563,1269,589"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1145,613,1272,640"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1147,664,1271,691"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="1129,715,1289,741"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1145,765,1273,792"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1147,107,1271,133"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1147,157,1271,184"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1143,816,1274,843"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1139,1373,1278,1400"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1152,867,1265,893"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1149,1424,1269,1451"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1143,1475,1274,1501"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1147,1525,1271,1552"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1143,1576,1274,1603"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1151,1627,1266,1653"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1145,1677,1272,1704"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1138,1728,1279,1755"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1151,917,1266,944"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="1135,1779,1283,1805"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="1131,968,1286,995"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1145,1019,1272,1045"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="1123,1829,1294,1856"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="1135,1069,1282,1096"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1150,1120,1267,1147"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1152,1171,1265,1197"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="1134,1221,1283,1248"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="1152,1272,1265,1299"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="1121,1323,1296,1349"/>
</map>
</div>

</div>
</div>
<a id="a6aba86bcae816613915e10318fdf6b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aba86bcae816613915e10318fdf6b83">&#9670;&nbsp;</a></span>ubifs_garbage_collect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_garbage_collect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>anyway</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_garbage_collect - UBIFS garbage collector. <code></code>: UBIFS file-system description object : do GC even if there are free LEBs</p>
<p>This function does out-of-place garbage collection. The return codes are: o positive LEB number if the LEB has been freed and may be used; o %-EAGAIN if the caller has to run commit; o %-ENOSPC if GC failed to make any progress; o other negative error codes in case of other errors.</p>
<p>Garbage collector writes data to the journal when GC'ing data LEBs, and just marking indexing nodes dirty when GC'ing indexing LEBs. Thus, at some point commit may be required. But commit cannot be run from inside GC, because the caller might be holding the commit lock, so %-EAGAIN is returned instead; And this error code means that the caller has to run commit, and re-run GC if there is still no free space.</p>
<p>There are many reasons why this function may return %-EAGAIN: o the log is full and there is no space to write an LEB reference for <code></code>-&gt;gc_lnum; o the journal is too large and exceeds size limitations; o GC moved indexing LEBs, but they can be used only after the commit; o the shrinker fails to find clean znodes to free and requests the commit; o etc.</p>
<p>Note, if the file-system is close to be full, this function may return %-EAGAIN infinitely, so the caller has to limit amount of re-invocations of the function. E.g., this happens if the limits on the journal size are too tough and GC writes too much to the journal before an LEB is freed. This might also mean that the journal is too large, and the TNC becomes to big, so that the shrinker is constantly called, finds not clean znodes to free, and requests commit. Well, this may also happen if the journal is all right, but another kernel process consumes too much memory. Anyway, infinite %-EAGAIN may happen, but in some extreme/misconfiguration cases. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6aba86bcae816613915e10318fdf6b83_cgraph.png" border="0" usemap="#ubifs_8h_a6aba86bcae816613915e10318fdf6b83_cgraph" alt=""/></div>
<map name="ubifs_8h_a6aba86bcae816613915e10318fdf6b83_cgraph" id="ubifs_8h_a6aba86bcae816613915e10318fdf6b83_cgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#a18183f6ca9e5e865909aa32d50f4be4b" title="ubifs_gc_should_commit" alt="" coords="204,448,371,475"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a6e9dcff4b0f768c14f6f8448f4b1343e" title="ubifs_commit_required" alt="" coords="211,499,364,525"/>
<area shape="rect" id="node5" href="find_8c.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="426,183,561,209"/>
<area shape="rect" id="node18" href="ubifs_2gc_8c.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="201,651,373,677"/>
<area shape="rect" id="node21" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="821,904,987,931"/>
<area shape="rect" id="node28" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1265,1132,1371,1159"/>
<area shape="rect" id="node31" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="844,1081,964,1108"/>
<area shape="rect" id="node50" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="230,600,345,627"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="450,132,537,159"/>
<area shape="rect" id="node6" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="635,208,752,235"/>
<area shape="rect" id="node7" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="618,107,769,133"/>
<area shape="rect" id="node8" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="613,5,773,32"/>
<area shape="rect" id="node9" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="641,56,745,83"/>
<area shape="rect" id="node13" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="635,309,751,336"/>
<area shape="rect" id="node17" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="623,157,764,184"/>
<area shape="rect" id="node10" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="829,81,979,108"/>
<area shape="rect" id="node11" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7" title="scan_for_dirty_cb" alt="" coords="841,31,967,57"/>
<area shape="rect" id="node12" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="830,157,978,184"/>
<area shape="rect" id="node14" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="851,259,957,285"/>
<area shape="rect" id="node15" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="847,309,961,336"/>
<area shape="rect" id="node16" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="843,208,965,235"/>
<area shape="rect" id="node19" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="437,904,550,931"/>
<area shape="rect" id="node30" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="421,309,565,336"/>
<area shape="rect" id="node33" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="861,473,947,500"/>
<area shape="rect" id="node37" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1281,651,1355,677"/>
<area shape="rect" id="node40" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="1055,651,1190,677"/>
<area shape="rect" id="node41" href="misc_8h.html#ac244bb6ab2f45cd8b870edc621d20deb" title="ubifs_idx_key" alt="" coords="442,625,545,652"/>
<area shape="rect" id="node42" href="tnc_8c.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="423,676,564,703"/>
<area shape="rect" id="node45" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="445,828,541,855"/>
<area shape="rect" id="node20" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="633,929,753,956"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="1035,777,1211,804"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1082,828,1163,855"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="1083,879,1162,905"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1068,980,1177,1007"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1259,1005,1377,1032"/>
<area shape="rect" id="node27" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1282,448,1354,475"/>
<area shape="rect" id="node29" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1425,1132,1511,1159"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1066,1081,1179,1108"/>
<area shape="rect" id="node34" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="1063,397,1182,424"/>
<area shape="rect" id="node35" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="1055,448,1190,475"/>
<area shape="rect" id="node36" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="1066,600,1179,627"/>
<area shape="rect" id="node38" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="1066,549,1179,576"/>
<area shape="rect" id="node39" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="1037,499,1208,525"/>
<area shape="rect" id="node43" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="642,676,745,703"/>
<area shape="rect" id="node44" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="620,625,767,652"/>
<area shape="rect" id="node46" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="646,879,741,905"/>
<area shape="rect" id="node47" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="635,1031,751,1057"/>
<area shape="rect" id="node48" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="650,777,737,804"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="649,828,738,855"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6aba86bcae816613915e10318fdf6b83_icgraph.png" border="0" usemap="#ubifs_8h_a6aba86bcae816613915e10318fdf6b83_icgraph" alt=""/></div>
<map name="ubifs_8h_a6aba86bcae816613915e10318fdf6b83_icgraph" id="ubifs_8h_a6aba86bcae816613915e10318fdf6b83_icgraph">
<area shape="rect" id="node2" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="201,316,308,343"/>
<area shape="rect" id="node38" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="224,424,285,451"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="356,259,481,285"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="547,487,663,513"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="537,208,674,235"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="534,56,677,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="542,107,669,133"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="545,157,665,184"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="543,259,667,285"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="533,917,678,944"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="529,1044,681,1071"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="764,765,855,792"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="763,563,856,589"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="768,309,851,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="771,613,848,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="764,664,855,691"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="766,411,853,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="765,512,854,539"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="761,360,857,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="758,461,861,488"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="965,1069,1073,1096"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1162,1019,1295,1045"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1357,1044,1431,1071"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1148,1120,1309,1147"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="971,348,1067,375"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="975,247,1062,273"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1179,184,1279,211"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="760,208,859,235"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="962,196,1075,223"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="969,297,1069,324"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1181,399,1276,425"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="748,56,871,83"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="734,5,885,32"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="957,5,1080,32"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="965,120,1072,147"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="760,1019,859,1045"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="761,1120,858,1147"/>
<area shape="rect" id="node39" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="356,537,481,564"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="536,765,675,792"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="748,917,871,944"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="753,968,866,995"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="979,627,1059,653"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="729,1171,889,1197"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="963,1191,1074,1217"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="937,1133,1100,1160"/>
<area shape="rect" id="node49" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="775,1272,843,1299"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="957,943,1080,969"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a8cca742dfff2189dce5332cb5f013793" title="ubifs_write_iter" alt="" coords="1173,1191,1284,1217"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="978,1272,1059,1299"/>
</map>
</div>

</div>
</div>
<a id="a29dd378f4b22d45580bff155cbb275cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29dd378f4b22d45580bff155cbb275cd">&#9670;&nbsp;</a></span>ubifs_garbage_collect_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_garbage_collect_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_garbage_collect_leb - garbage-collect a logical eraseblock. <code></code>: UBIFS file-system description object : describes the LEB to garbage collect</p>
<p>This function garbage-collects an LEB and returns one of the , , etc positive codes in case of success, %-EAGAIN if commit is required, and other negative error codes in case of failures. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_cgraph.png" border="0" usemap="#ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_cgraph" alt=""/></div>
<map name="ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_cgraph" id="ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_cgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="241,107,354,133"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="612,107,777,133"/>
<area shape="rect" id="node13" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="225,385,369,412"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="635,625,755,652"/>
<area shape="rect" id="node31" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="871,715,956,741"/>
<area shape="rect" id="node37" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1288,791,1363,817"/>
<area shape="rect" id="node40" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="1053,892,1188,919"/>
<area shape="rect" id="node41" href="misc_8h.html#ac244bb6ab2f45cd8b870edc621d20deb" title="ubifs_idx_key" alt="" coords="246,867,349,893"/>
<area shape="rect" id="node42" href="tnc_8c.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="227,917,368,944"/>
<area shape="rect" id="node46" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="249,1044,345,1071"/>
<area shape="rect" id="node3" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="431,107,551,133"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="825,5,1001,32"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="873,56,954,83"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="874,107,953,133"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="859,157,968,184"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1266,183,1385,209"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1459,436,1531,463"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1067,233,1174,260"/>
<area shape="rect" id="node12" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1283,233,1368,260"/>
<area shape="rect" id="node14" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="432,309,549,336"/>
<area shape="rect" id="node15" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="621,360,769,387"/>
<area shape="rect" id="node22" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="433,411,549,437"/>
<area shape="rect" id="node26" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="420,461,561,488"/>
<area shape="rect" id="node16" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1059,335,1183,361"/>
<area shape="rect" id="node18" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="853,309,973,336"/>
<area shape="rect" id="node19" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="855,360,972,387"/>
<area shape="rect" id="node20" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="855,411,972,437"/>
<area shape="rect" id="node21" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="853,461,973,488"/>
<area shape="rect" id="node17" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1272,385,1379,412"/>
<area shape="rect" id="node23" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="641,411,748,437"/>
<area shape="rect" id="node24" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="638,461,751,488"/>
<area shape="rect" id="node25" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="634,512,755,539"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="857,664,970,691"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1057,487,1184,513"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="1049,537,1192,564"/>
<area shape="rect" id="node32" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="1061,639,1180,665"/>
<area shape="rect" id="node33" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="1053,689,1188,716"/>
<area shape="rect" id="node36" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="1064,740,1177,767"/>
<area shape="rect" id="node38" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="1064,791,1177,817"/>
<area shape="rect" id="node39" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="1240,841,1411,868"/>
<area shape="rect" id="node34" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="1255,689,1396,716"/>
<area shape="rect" id="node35" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1284,740,1367,767"/>
<area shape="rect" id="node43" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="439,867,542,893"/>
<area shape="rect" id="node45" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="417,917,564,944"/>
<area shape="rect" id="node44" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="657,968,732,995"/>
<area shape="rect" id="node47" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="443,1019,538,1045"/>
<area shape="rect" id="node48" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="433,1069,549,1096"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="447,1120,534,1147"/>
<area shape="rect" id="node50" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="446,1171,535,1197"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_icgraph.png" border="0" usemap="#ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_icgraph" alt=""/></div>
<map name="ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_icgraph" id="ubifs_8h_a29dd378f4b22d45580bff155cbb275cd_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="225,774,373,800"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="576,1255,733,1282"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="421,470,528,496"/>
<area shape="rect" id="node34" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="444,774,505,800"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="592,242,717,268"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="799,1027,915,1054"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="789,140,926,167"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="786,90,929,116"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="794,191,921,218"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="797,368,917,395"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="795,14,919,40"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="785,482,930,508"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="781,242,933,268"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1016,850,1107,876"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1015,1052,1108,1079"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1020,1204,1103,1231"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1023,900,1100,927"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1016,1002,1107,1028"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1018,951,1105,978"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1017,1103,1106,1130"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1013,1154,1109,1180"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1010,1255,1113,1282"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1223,1204,1319,1231"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1227,596,1314,623"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1400,419,1500,446"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1012,140,1111,167"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1221,140,1321,167"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1000,90,1123,116"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="986,39,1137,66"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1217,242,1324,268"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1012,546,1111,572"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1204,1280,1337,1307"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1413,1280,1487,1307"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1013,242,1110,268"/>
<area shape="rect" id="node35" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="592,774,717,800"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="788,774,927,800"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1000,596,1123,623"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1005,647,1118,674"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1021,698,1101,724"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="981,394,1141,420"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1215,343,1326,370"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1189,444,1352,471"/>
<area shape="rect" id="node43" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1027,799,1095,826"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="811,1306,904,1332"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="795,1382,920,1408"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="794,1204,921,1231"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1007,1356,1116,1383"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1224,1356,1317,1383"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1000,1407,1123,1434"/>
</map>
</div>

</div>
</div>
<a id="abd8f539c87c6fbdd3a73195b54dd9995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8f539c87c6fbdd3a73195b54dd9995">&#9670;&nbsp;</a></span>ubifs_gc_end_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_gc_end_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_gc_end_commit - garbage collection at end of commit. <code></code>: UBIFS file-system description object</p>
<p>This function completes out-of-place garbage collection of index LEBs. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_cgraph.png" border="0" usemap="#ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_cgraph" alt=""/></div>
<map name="ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_cgraph" id="ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="405,436,525,463"/>
<area shape="rect" id="node39" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="203,1601,347,1628"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="997,56,1115,83"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="601,436,715,463"/>
<area shape="rect" id="node21" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1210,1323,1282,1349"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="605,5,711,32"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="788,765,915,792"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="780,107,923,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="986,461,1126,488"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="984,512,1128,539"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1015,563,1097,589"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1013,613,1099,640"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1015,664,1097,691"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="989,715,1123,741"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="995,765,1117,792"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="993,816,1119,843"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="994,867,1118,893"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="976,917,1136,944"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="992,968,1120,995"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="994,1019,1118,1045"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="994,1525,1118,1552"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="991,1120,1121,1147"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="987,1272,1125,1299"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="999,1171,1113,1197"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="996,1323,1116,1349"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="991,1373,1121,1400"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="994,107,1118,133"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="991,157,1121,184"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="999,208,1113,235"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="993,259,1119,285"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="985,309,1127,336"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="999,1221,1113,1248"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="982,360,1130,387"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="979,1424,1133,1451"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="993,1069,1119,1096"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="971,411,1141,437"/>
<area shape="rect" id="node19" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1189,1703,1303,1729"/>
<area shape="rect" id="node37" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1013,5,1099,32"/>
<area shape="rect" id="node40" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="407,1525,524,1552"/>
<area shape="rect" id="node41" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="584,1703,732,1729"/>
<area shape="rect" id="node47" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="407,1753,523,1780"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="395,1627,536,1653"/>
<area shape="rect" id="node42" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="994,1627,1118,1653"/>
<area shape="rect" id="node43" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="791,1779,911,1805"/>
<area shape="rect" id="node44" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="793,1677,910,1704"/>
<area shape="rect" id="node45" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="793,1829,910,1856"/>
<area shape="rect" id="node46" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="791,1728,911,1755"/>
<area shape="rect" id="node48" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="605,1804,711,1831"/>
<area shape="rect" id="node49" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="597,1753,719,1780"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_icgraph.png" border="0" usemap="#ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_icgraph" alt=""/></div>
<map name="ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_icgraph" id="ubifs_8h_abd8f539c87c6fbdd3a73195b54dd9995_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="203,247,289,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="345,184,455,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="337,272,463,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="705,145,820,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="919,120,1012,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="903,171,1028,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1115,5,1224,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1332,5,1425,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1108,56,1231,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="522,196,625,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="516,297,631,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="684,233,841,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="700,1171,825,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="511,399,636,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="902,233,1029,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1312,436,1445,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1123,208,1216,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1128,157,1211,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1125,259,1214,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1121,309,1217,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1118,360,1221,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1335,816,1422,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="907,385,1023,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="897,1412,1034,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="894,1272,1037,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="902,1348,1029,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="905,1171,1025,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="903,1221,1027,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="893,968,1038,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="889,1120,1041,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1124,411,1215,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1131,461,1208,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1124,512,1215,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1126,563,1213,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1120,1424,1219,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1329,1221,1429,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1108,1323,1231,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1094,1272,1245,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1116,1373,1223,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1120,867,1219,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1121,1120,1218,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="896,613,1035,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1108,664,1231,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1113,715,1226,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1129,765,1209,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1089,968,1249,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1323,917,1434,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1297,993,1460,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1135,613,1203,640"/>
</map>
</div>

</div>
</div>
<a id="a18183f6ca9e5e865909aa32d50f4be4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18183f6ca9e5e865909aa32d50f4be4b">&#9670;&nbsp;</a></span>ubifs_gc_should_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_gc_should_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_gc_should_commit - determine if it is time for GC to run commit. <code></code>: UBIFS file-system description object</p>
<p>This function is called by garbage collection to determine if commit should be run. If commit state is , which means that the journal is full enough to start commit, this function returns true. It is not absolutely necessary to commit yet, but it feels like this should be better then to keep doing GC. This function returns %1 if GC has to initiate commit and %0 if not. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a18183f6ca9e5e865909aa32d50f4be4b_icgraph.png" border="0" usemap="#ubifs_8h_a18183f6ca9e5e865909aa32d50f4be4b_icgraph" alt=""/></div>
<map name="ubifs_8h_a18183f6ca9e5e865909aa32d50f4be4b_icgraph" id="ubifs_8h_a18183f6ca9e5e865909aa32d50f4be4b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="220,399,368,425"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="416,316,523,343"/>
<area shape="rect" id="node38" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="439,424,500,451"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="571,259,696,285"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="762,487,878,513"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="751,157,889,184"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="749,56,891,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="757,107,883,133"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="760,259,880,285"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="758,208,882,235"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="747,1095,893,1121"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="744,968,896,995"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="979,664,1069,691"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="977,715,1071,741"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="983,512,1065,539"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="985,309,1063,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="979,411,1069,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="981,563,1067,589"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="979,360,1069,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="976,461,1072,488"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="973,613,1075,640"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1179,900,1287,927"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1363,951,1496,977"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1544,925,1617,952"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1185,461,1281,488"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1190,512,1277,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1379,405,1479,432"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="975,157,1073,184"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1177,157,1290,184"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1183,309,1283,336"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1382,528,1477,555"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="963,56,1085,83"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="949,5,1099,32"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1172,5,1295,32"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1180,107,1287,133"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="975,1171,1073,1197"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="975,1120,1073,1147"/>
<area shape="rect" id="node39" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="571,537,696,564"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="751,765,889,792"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="963,968,1085,995"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="967,917,1081,944"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1193,671,1273,697"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="944,1221,1104,1248"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1178,1203,1289,1229"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1152,1260,1315,1287"/>
<area shape="rect" id="node49" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="990,1019,1058,1045"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="1172,951,1295,977"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a8cca742dfff2189dce5332cb5f013793" title="ubifs_write_iter" alt="" coords="1374,1203,1485,1229"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="1193,1025,1274,1052"/>
</map>
</div>

</div>
</div>
<a id="a1ff584f97bf8a1783fc9fecde0a87b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff584f97bf8a1783fc9fecde0a87b1e">&#9670;&nbsp;</a></span>ubifs_gc_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_gc_start_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_gc_start_commit - garbage collection at start of commit. <code></code>: UBIFS file-system description object</p>
<p>If a LEB has only dirty and free space, then we may safely unmap it and make it free. Note, we cannot do this with indexing LEBs because dirty space may correspond index nodes that are required for recovery. In that case, the LEB cannot be unmapped until after the next commit.</p>
<p>This function returns %0 upon success and a negative error code upon failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_cgraph.png" border="0" usemap="#ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_cgraph" alt=""/></div>
<map name="ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_cgraph" id="ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="229,1150,347,1177"/>
<area shape="rect" id="node3" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="208,1201,368,1228"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="228,1252,348,1278"/>
<area shape="rect" id="node36" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="230,1302,346,1329"/>
<area shape="rect" id="node49" href="lprops_8c.html#ae7db0b84b9b4c7666f34dd1c6d78b0a0" title="ubifs_fast_find_frdi_idx" alt="" coords="210,1353,366,1380"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="217,1404,359,1430"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="839,10,958,37"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="433,669,547,696"/>
<area shape="rect" id="node23" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1047,1290,1119,1317"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="437,948,543,974"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="628,669,755,696"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="620,61,763,88"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="829,365,969,392"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="827,416,971,442"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="857,466,940,493"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="855,517,942,544"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="858,568,939,594"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="831,618,966,645"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="838,669,959,696"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="835,720,962,746"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="837,770,961,797"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="819,821,979,848"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="835,872,963,898"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="837,922,961,949"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="837,973,961,1000"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="833,1277,964,1304"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="829,1024,968,1050"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="842,1176,955,1202"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="839,1074,959,1101"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="833,1125,964,1152"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="837,112,961,138"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="833,162,964,189"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="841,213,956,240"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="835,264,962,290"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="828,314,969,341"/>
<area shape="rect" id="node21" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1027,1214,1140,1241"/>
<area shape="rect" id="node34" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="856,61,941,88"/>
<area shape="rect" id="node37" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="437,1353,543,1380"/>
<area shape="rect" id="node38" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="416,1429,564,1456"/>
<area shape="rect" id="node44" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="429,1657,551,1684"/>
<area shape="rect" id="node39" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="837,1378,961,1405"/>
<area shape="rect" id="node40" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="631,1404,751,1430"/>
<area shape="rect" id="node41" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="633,1353,750,1380"/>
<area shape="rect" id="node42" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="633,1505,750,1532"/>
<area shape="rect" id="node43" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="631,1556,751,1582"/>
<area shape="rect" id="node45" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="612,1758,771,1785"/>
<area shape="rect" id="node46" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="635,1606,748,1633"/>
<area shape="rect" id="node47" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="612,1657,771,1684"/>
<area shape="rect" id="node48" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="631,1708,752,1734"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_icgraph.png" border="0" usemap="#ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_icgraph" alt=""/></div>
<map name="ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_icgraph" id="ubifs_8h_a1ff584f97bf8a1783fc9fecde0a87b1e_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="208,247,295,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="350,184,461,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="343,272,468,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="711,145,825,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="924,120,1017,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="908,171,1033,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1120,5,1229,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1337,5,1431,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1113,56,1236,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="527,196,630,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="521,297,636,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="689,233,847,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="705,1171,831,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="516,399,641,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="907,233,1034,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1317,436,1451,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1128,208,1221,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1133,157,1216,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1130,259,1219,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1127,309,1223,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1123,360,1226,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1341,816,1427,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="913,385,1029,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="902,1412,1039,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="899,1272,1042,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="907,1348,1034,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="911,1171,1031,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="909,1221,1033,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="898,968,1043,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="895,1120,1047,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1129,411,1220,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1136,461,1213,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1129,512,1220,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1131,563,1218,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1125,1424,1224,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1334,1221,1434,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1113,1323,1236,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1099,1272,1250,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1121,1373,1228,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1125,867,1224,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1126,1120,1223,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="901,613,1040,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1113,664,1236,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1118,715,1231,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1135,765,1215,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1095,968,1255,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1329,917,1439,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1303,993,1465,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1141,613,1209,640"/>
</map>
</div>

</div>
</div>
<a id="a88a8f2bce74b5f5ab48b7afa5b8ce02a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a8f2bce74b5f5ab48b7afa5b8ce02a">&#9670;&nbsp;</a></span>ubifs_get_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long ubifs_get_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_free_space - return amount of free space. <code></code>: UBIFS file-system description object</p>
<p>This function calculates and returns amount of free space to report to user-space. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_cgraph.png" border="0" usemap="#ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_cgraph" alt=""/></div>
<map name="ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_cgraph" id="ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_cgraph">
<area shape="rect" id="node2" href="budget_8c.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="200,49,347,90"/>
<area shape="rect" id="node3" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="395,5,559,32"/>
<area shape="rect" id="node4" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="407,56,546,83"/>
<area shape="rect" id="node5" href="budget_8c.html#a66e49aaeea4680a7b2c9973ba0dde86c" title="ubifs_reported_space" alt="" coords="403,107,550,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_icgraph.png" border="0" usemap="#ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_icgraph" alt=""/></div>
<map name="ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_icgraph" id="ubifs_8h_a88a8f2bce74b5f5ab48b7afa5b8ce02a_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a1041b4cf7c2b356ffde360ee4710bb4d" title="ubifs_statfs" alt="" coords="200,5,291,32"/>
</map>
</div>

</div>
</div>
<a id="a6323235e83f399d119f1deb54fa2f144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6323235e83f399d119f1deb54fa2f144">&#9670;&nbsp;</a></span>ubifs_get_free_space_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long ubifs_get_free_space_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_free_space_nolock - return amount of free space. <code></code>: UBIFS file-system description object</p>
<p>This function calculates amount of free space to report to user-space.</p>
<p>Because UBIFS may introduce substantial overhead (the index, node headers, alignment, wastage at the end of LEBs, etc), it cannot report real amount of free flash space it has (well, because not all dirty space is reclaimable, UBIFS does not actually know the real amount). If UBIFS did so, it would bread user expectations about what free space is. Users seem to accustomed to assume that if the file-system reports N bytes of free space, they would be able to fit a file of N bytes to the FS. This almost works for traditional file-systems, because they have way less overhead than UBIFS. So, to keep users happy, UBIFS tries to take the overhead into account. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6323235e83f399d119f1deb54fa2f144_cgraph.png" border="0" usemap="#ubifs_8h_a6323235e83f399d119f1deb54fa2f144_cgraph" alt=""/></div>
<map name="ubifs_8h_a6323235e83f399d119f1deb54fa2f144_cgraph" id="ubifs_8h_a6323235e83f399d119f1deb54fa2f144_cgraph">
<area shape="rect" id="node2" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="200,5,364,32"/>
<area shape="rect" id="node3" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="213,56,351,83"/>
<area shape="rect" id="node4" href="budget_8c.html#a66e49aaeea4680a7b2c9973ba0dde86c" title="ubifs_reported_space" alt="" coords="209,107,355,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6323235e83f399d119f1deb54fa2f144_icgraph.png" border="0" usemap="#ubifs_8h_a6323235e83f399d119f1deb54fa2f144_icgraph" alt=""/></div>
<map name="ubifs_8h_a6323235e83f399d119f1deb54fa2f144_icgraph" id="ubifs_8h_a6323235e83f399d119f1deb54fa2f144_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="211,549,335,576"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="559,701,713,728"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="562,752,710,779"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a88a8f2bce74b5f5ab48b7afa5b8ce02a" title="ubifs_get_free_space" alt="" coords="200,853,347,880"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="572,549,700,576"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="763,575,889,601"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="403,397,501,424"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="395,651,509,677"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="763,284,889,311"/>
<area shape="rect" id="node44" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="395,448,509,475"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="397,600,507,627"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="779,487,873,513"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="763,701,889,728"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="959,461,1068,488"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="952,765,1075,792"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="765,752,887,779"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="962,613,1065,640"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="955,664,1071,691"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="957,512,1070,539"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="964,563,1063,589"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="557,651,715,677"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="950,715,1077,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1166,563,1259,589"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1171,765,1254,792"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1168,613,1257,640"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1165,664,1261,691"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1161,715,1264,741"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1343,487,1429,513"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="955,411,1071,437"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="945,259,1082,285"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="942,56,1085,83"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="950,107,1077,133"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1153,309,1273,336"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="951,157,1075,184"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="941,208,1086,235"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="937,309,1089,336"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1167,411,1258,437"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1174,461,1251,488"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1167,512,1258,539"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1169,360,1256,387"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1163,259,1262,285"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1336,208,1436,235"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1151,5,1274,32"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1137,56,1288,83"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1159,107,1266,133"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1163,208,1262,235"/>
<area shape="rect" id="node45" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="573,448,699,475"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="583,600,689,627"/>
<area shape="rect" id="node50" href="ubifs_2super_8c.html#a1041b4cf7c2b356ffde360ee4710bb4d" title="ubifs_statfs" alt="" coords="407,853,497,880"/>
</map>
</div>

</div>
</div>
<a id="a2e83b83738924a4b92576798c5409df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e83b83738924a4b92576798c5409df2">&#9670;&nbsp;</a></span>ubifs_get_idx_gc_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_get_idx_gc_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_idx_gc_leb - get a LEB from GC'd index LEB list. <code></code>: UBIFS file-system description object</p>
<p>Called during start commit so locks are not needed. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2e83b83738924a4b92576798c5409df2_icgraph.png" border="0" usemap="#ubifs_8h_a2e83b83738924a4b92576798c5409df2_icgraph" alt=""/></div>
<map name="ubifs_8h_a2e83b83738924a4b92576798c5409df2_icgraph" id="ubifs_8h_a2e83b83738924a4b92576798c5409df2_icgraph">
<area shape="rect" id="node2" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="197,284,307,311"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="355,284,513,311"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="561,284,695,311"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="743,284,852,311"/>
<area shape="rect" id="node6" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="900,284,1007,311"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1055,284,1213,311"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1261,284,1348,311"/>
<area shape="rect" id="node9" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1403,221,1514,248"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1396,309,1521,336"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1764,183,1879,209"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1977,132,2071,159"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1961,183,2087,209"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2169,5,2278,32"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="2162,56,2285,83"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1581,335,1683,361"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1575,284,1689,311"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1743,233,1900,260"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1759,917,1884,944"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1569,397,1695,424"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1961,233,2087,260"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2347,385,2480,412"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2177,157,2270,184"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2182,259,2265,285"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2179,208,2268,235"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2175,309,2271,336"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="2172,360,2275,387"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2370,715,2457,741"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1966,385,2082,412"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1955,1069,2093,1096"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1953,1120,2095,1147"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1961,1019,2087,1045"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1964,917,2084,944"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1962,968,2086,995"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1951,791,2097,817"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1948,867,2100,893"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="2178,512,2269,539"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2185,563,2262,589"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="2178,411,2269,437"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="2180,461,2267,488"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="2174,1069,2273,1096"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2363,968,2463,995"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="2162,1171,2285,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="2148,1120,2299,1147"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="2170,1019,2277,1045"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="2174,765,2273,792"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="2175,867,2272,893"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1955,487,2093,513"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="2162,613,2285,640"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="2167,664,2280,691"/>
</map>
</div>

</div>
</div>
<a id="a8a4a969b18d269964ff80d11eb94b8ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4a969b18d269964ff80d11eb94b8ab">&#9670;&nbsp;</a></span>ubifs_get_lp_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_get_lp_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lp__stats.html">ubifs_lp_stats</a> *&#160;</td>
          <td class="paramname"><em>lst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_lp_stats - get lprops statistics. <code></code>: UBIFS file-system description object : return statistics </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8a4a969b18d269964ff80d11eb94b8ab_icgraph.png" border="0" usemap="#ubifs_8h_a8a4a969b18d269964ff80d11eb94b8ab_icgraph" alt=""/></div>
<map name="ubifs_8h_a8a4a969b18d269964ff80d11eb94b8ab_icgraph" id="ubifs_8h_a8a4a969b18d269964ff80d11eb94b8ab_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="181,517,312,544"/>
<area shape="rect" id="node41" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="744,464,831,491"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="521,803,676,829"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="1260,639,1388,665"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="367,492,466,519"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1077,537,1192,564"/>
<area shape="rect" id="node17" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1072,233,1197,260"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="724,727,851,753"/>
<area shape="rect" id="node39" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="360,441,473,468"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="362,391,471,417"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1479,563,1573,589"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1463,639,1589,665"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1656,563,1765,589"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1649,784,1772,811"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1245,537,1403,564"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1463,411,1589,437"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1664,259,1757,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1669,309,1752,336"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1666,360,1755,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1663,411,1759,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1659,461,1762,488"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1468,208,1584,235"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1255,107,1393,133"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1253,360,1395,387"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1261,5,1387,32"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1264,157,1384,184"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1262,208,1386,235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1251,259,1397,285"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1248,309,1400,336"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1665,208,1756,235"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1672,56,1749,83"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1665,107,1756,133"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1667,157,1754,184"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1477,259,1575,285"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1465,309,1587,336"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1451,360,1601,387"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1473,5,1579,32"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="910,727,1013,753"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="903,777,1019,804"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="905,828,1018,855"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="912,676,1011,703"/>
<area shape="rect" id="node40" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="535,441,662,468"/>
<area shape="rect" id="node42" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="906,575,1017,601"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="899,448,1024,475"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1267,588,1381,615"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1083,436,1186,463"/>
<area shape="rect" id="node46" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1072,487,1197,513"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="545,391,652,417"/>
<area shape="rect" id="node50" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="726,929,849,956"/>
</map>
</div>

</div>
</div>
<a id="a7fd536e4a29b47a6485fc3931f91857b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd536e4a29b47a6485fc3931f91857b">&#9670;&nbsp;</a></span>ubifs_get_nnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a>* ubifs_get_nnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_nnode - get a nnode. <code></code>: UBIFS file-system description object : parent nnode (or NULL for the root) : index in parent</p>
<p>This function returns a pointer to the nnode on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_cgraph.png" border="0" usemap="#ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_cgraph" alt=""/></div>
<map name="ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_cgraph" id="ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="171,107,295,133"/>
<area shape="rect" id="node3" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="532,19,685,61"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="360,157,467,184"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="761,183,833,209"/>
<area shape="rect" id="node6" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="343,233,484,260"/>
<area shape="rect" id="node10" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="359,5,468,32"/>
<area shape="rect" id="node7" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="553,208,664,235"/>
<area shape="rect" id="node8" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="733,259,860,285"/>
<area shape="rect" id="node9" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="557,259,660,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_icgraph.png" border="0" usemap="#ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_icgraph" alt=""/></div>
<map name="ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_icgraph" id="ubifs_8h_a7fd536e4a29b47a6485fc3931f91857b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="380,233,496,260"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="171,660,319,687"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="175,913,314,940"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="193,964,296,991"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a1108bc5520b20e0cde6b2cad0ba79170" title="nnode_lookup" alt="" coords="193,1065,296,1092"/>
<area shape="rect" id="node3" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="566,309,703,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="571,259,698,285"/>
<area shape="rect" id="node10" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="575,132,695,159"/>
<area shape="rect" id="node13" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="592,208,677,235"/>
<area shape="rect" id="node15" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="574,44,695,71"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="767,360,925,387"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="980,360,1113,387"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="781,309,911,336"/>
<area shape="rect" id="node8" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="989,672,1104,699"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="983,309,1110,336"/>
<area shape="rect" id="node11" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="787,107,905,133"/>
<area shape="rect" id="node12" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="769,56,923,83"/>
<area shape="rect" id="node14" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="805,208,887,235"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="768,5,924,32"/>
<area shape="rect" id="node18" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="386,660,490,687"/>
<area shape="rect" id="node20" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="371,711,505,737"/>
<area shape="rect" id="node22" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="367,812,509,839"/>
<area shape="rect" id="node24" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="573,411,696,437"/>
<area shape="rect" id="node25" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="580,360,689,387"/>
<area shape="rect" id="node26" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="380,584,496,611"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="563,867,707,893"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="564,461,705,488"/>
<area shape="rect" id="node40" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="579,765,690,792"/>
<area shape="rect" id="node42" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="592,512,677,539"/>
<area shape="rect" id="node19" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="567,664,702,691"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="560,715,709,741"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="781,665,911,706"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="557,563,712,589"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="795,1035,897,1061"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="760,781,932,808"/>
<area shape="rect" id="node31" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="771,832,921,859"/>
<area shape="rect" id="node32" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="789,883,903,909"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="772,933,920,960"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="789,984,903,1011"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="779,512,913,539"/>
<area shape="rect" id="node37" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="795,563,897,589"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="767,411,925,437"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="802,461,890,488"/>
<area shape="rect" id="node41" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="787,613,905,640"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="381,913,495,940"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="374,1065,502,1092"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#aa3569efac5e610dbf88b10d9d6e3bf03" title="dbg_is_pnode_dirty" alt="" coords="371,1015,505,1041"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="381,964,495,991"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="374,1116,502,1143"/>
</map>
</div>

</div>
</div>
<a id="ad8f891756dae6c6dceeb51fb917b023b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f891756dae6c6dceeb51fb917b023b">&#9670;&nbsp;</a></span>ubifs_get_pnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__pnode.html">ubifs_pnode</a>* ubifs_get_pnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_pnode - get a pnode. <code></code>: UBIFS file-system description object : parent nnode : index in parent</p>
<p>This function returns a pointer to the pnode on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_cgraph.png" border="0" usemap="#ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_cgraph" alt=""/></div>
<map name="ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_cgraph" id="ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1195,224,1284,250"/>
<area shape="rect" id="node14" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="171,364,264,390"/>
<area shape="rect" id="node3" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1541,10,1695,51"/>
<area shape="rect" id="node4" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1539,97,1697,124"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1367,401,1473,428"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1773,376,1845,402"/>
<area shape="rect" id="node7" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1367,148,1473,174"/>
<area shape="rect" id="node11" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1365,46,1475,73"/>
<area shape="rect" id="node12" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1361,198,1479,225"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1355,249,1485,276"/>
<area shape="rect" id="node8" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1563,300,1673,326"/>
<area shape="rect" id="node9" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1745,224,1872,250"/>
<area shape="rect" id="node10" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1567,198,1669,225"/>
<area shape="rect" id="node15" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="312,490,433,517"/>
<area shape="rect" id="node16" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="481,604,599,630"/>
<area shape="rect" id="node17" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="825,705,964,732"/>
<area shape="rect" id="node18" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="647,629,777,656"/>
<area shape="rect" id="node19" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="652,578,772,605"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="837,604,953,630"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="829,654,960,681"/>
<area shape="rect" id="node22" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="837,553,953,580"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="833,502,957,529"/>
<area shape="rect" id="node23" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1177,502,1301,529"/>
<area shape="rect" id="node27" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1012,553,1129,580"/>
<area shape="rect" id="node28" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1012,364,1129,390"/>
<area shape="rect" id="node24" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1541,520,1695,562"/>
<area shape="rect" id="node25" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1349,300,1491,326"/>
<area shape="rect" id="node26" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1365,502,1475,529"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_icgraph.png" border="0" usemap="#ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_icgraph" alt=""/></div>
<map name="ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_icgraph" id="ubifs_8h_ad8f891756dae6c6dceeb51fb917b023b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="380,233,496,260"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="171,1031,319,1057"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="175,1221,314,1248"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="193,1335,296,1361"/>
<area shape="rect" id="node3" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="566,879,703,905"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="571,259,698,285"/>
<area shape="rect" id="node10" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="575,196,695,223"/>
<area shape="rect" id="node13" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="592,19,677,45"/>
<area shape="rect" id="node15" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="574,95,695,121"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="767,1035,925,1061"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="982,715,1115,741"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="781,259,911,285"/>
<area shape="rect" id="node8" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="991,664,1106,691"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="985,259,1112,285"/>
<area shape="rect" id="node11" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="787,208,905,235"/>
<area shape="rect" id="node12" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="769,157,923,184"/>
<area shape="rect" id="node14" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="805,5,887,32"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="768,56,924,83"/>
<area shape="rect" id="node18" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="386,1031,490,1057"/>
<area shape="rect" id="node20" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="371,1081,505,1108"/>
<area shape="rect" id="node22" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="367,752,509,779"/>
<area shape="rect" id="node24" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="573,929,696,956"/>
<area shape="rect" id="node25" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="580,1132,689,1159"/>
<area shape="rect" id="node26" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="380,980,496,1007"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="563,613,707,640"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="564,828,705,855"/>
<area shape="rect" id="node40" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="579,1183,690,1209"/>
<area shape="rect" id="node43" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="592,1233,677,1260"/>
<area shape="rect" id="node19" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="567,1031,702,1057"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="560,1081,709,1108"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="781,766,911,807"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="557,980,712,1007"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="795,360,897,387"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="760,411,932,437"/>
<area shape="rect" id="node31" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="771,461,921,488"/>
<area shape="rect" id="node32" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="789,512,903,539"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="772,563,920,589"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="789,613,903,640"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="779,832,913,859"/>
<area shape="rect" id="node37" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="795,883,897,909"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="767,933,925,960"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="802,984,890,1011"/>
<area shape="rect" id="node41" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="787,1385,905,1412"/>
<area shape="rect" id="node42" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="980,1411,1117,1437"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="381,1284,495,1311"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ad0029b471c7e38ab8a4a1ab961ca25a4" title="ubifs_lpt_start_commit" alt="" coords="557,1284,712,1311"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="374,1385,502,1412"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#aa3569efac5e610dbf88b10d9d6e3bf03" title="dbg_is_pnode_dirty" alt="" coords="371,1436,505,1463"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="381,1335,495,1361"/>
</map>
</div>

</div>
</div>
<a id="adb9dc523cdf72cfa612382b02651778b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb9dc523cdf72cfa612382b02651778b">&#9670;&nbsp;</a></span>ubifs_get_wbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a>* ubifs_get_wbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_wbuf - get the wbuf associated with a LEB, if there is one. <code></code>: UBIFS file-system description object : logical eraseblock number to search</p>
<p>This functions returns the wbuf for  or NULL if there is not one. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_adb9dc523cdf72cfa612382b02651778b_icgraph.png" border="0" usemap="#ubifs_8h_adb9dc523cdf72cfa612382b02651778b_icgraph" alt=""/></div>
<map name="ubifs_8h_adb9dc523cdf72cfa612382b02651778b_icgraph" id="ubifs_8h_adb9dc523cdf72cfa612382b02651778b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="569,183,687,209"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="166,69,305,96"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="164,335,307,361"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="760,108,883,135"/>
<area shape="rect" id="node10" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="761,233,881,260"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1157,132,1288,159"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1353,81,1446,108"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1337,132,1462,159"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1336,233,1463,260"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1523,132,1632,159"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1511,335,1644,361"/>
<area shape="rect" id="node11" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="985,31,1070,57"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="988,233,1067,260"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1161,740,1285,767"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="955,335,1100,361"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="957,284,1098,311"/>
<area shape="rect" id="node12" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="1175,31,1271,57"/>
<area shape="rect" id="node13" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="1344,5,1455,32"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1185,284,1261,311"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1175,335,1270,361"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1345,385,1453,412"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1345,335,1453,361"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1349,740,1449,767"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="561,37,695,64"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="765,11,878,37"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="358,588,507,615"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="376,233,489,260"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="585,233,671,260"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="381,335,484,361"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="367,664,498,691"/>
<area shape="rect" id="node45" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="355,385,511,412"/>
<area shape="rect" id="node49" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="377,487,488,513"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="565,639,691,665"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="766,639,877,665"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="964,436,1091,463"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="976,892,1079,919"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="965,841,1089,868"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1159,588,1287,615"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="965,689,1090,716"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="952,588,1103,615"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="954,487,1101,513"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="945,740,1109,767"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="948,791,1107,817"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="745,284,897,311"/>
<area shape="rect" id="node44" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="559,689,697,716"/>
<area shape="rect" id="node46" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="768,335,875,361"/>
<area shape="rect" id="node47" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="565,385,691,412"/>
<area shape="rect" id="node48" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="755,487,887,513"/>
<area shape="rect" id="node50" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="569,537,687,564"/>
</map>
</div>

</div>
</div>
<a id="a3fb883e7eca073e98792a59125eca6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb883e7eca073e98792a59125eca6ed">&#9670;&nbsp;</a></span>ubifs_getattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_getattr </td>
          <td>(</td>
          <td class="paramtype">const struct path *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct kstat *&#160;</td>
          <td class="paramname"><em>stat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>request_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3fb883e7eca073e98792a59125eca6ed_cgraph.png" border="0" usemap="#ubifs_8h_a3fb883e7eca073e98792a59125eca6ed_cgraph" alt=""/></div>
<map name="ubifs_8h_a3fb883e7eca073e98792a59125eca6ed_cgraph" id="ubifs_8h_a3fb883e7eca073e98792a59125eca6ed_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="155,5,243,32"/>
<area shape="rect" id="node3" href="stat_8c.html#a189219051729f64a7768419c3a15a2db" title="generic_fillattr" alt="" coords="148,56,251,83"/>
<area shape="rect" id="node4" href="stat_8c.html#affd1fdb8f01b3cac9b32a14d77d44b21" title="EXPORT_SYMBOL" alt="" coords="299,56,437,83"/>
</map>
</div>

</div>
</div>
<a id="ad09a32d85c773fd7364b69ee1f32b61c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09a32d85c773fd7364b69ee1f32b61c">&#9670;&nbsp;</a></span>ubifs_iget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>* ubifs_iget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_cgraph.png" border="0" usemap="#ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_cgraph" alt=""/></div>
<map name="ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_cgraph" id="ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#a2e4fab3a29971a7bc96043a5dbcd77a3" title="iget_locked" alt="" coords="162,287,250,314"/>
<area shape="rect" id="node17" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="764,1186,852,1212"/>
<area shape="rect" id="node18" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="161,515,251,542"/>
<area shape="rect" id="node19" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="146,768,266,795"/>
<area shape="rect" id="node26" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1346,1084,1418,1111"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1320,654,1444,680"/>
<area shape="rect" id="node33" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="362,515,437,542"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="153,1008,259,1035"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="541,856,668,883"/>
<area shape="rect" id="node45" href="inode_8c.html#aa992afd465d948c7fca769d396933c98" title="init_special_inode" alt="" coords="143,123,269,150"/>
<area shape="rect" id="node46" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="132,1262,280,1288"/>
<area shape="rect" id="node47" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="335,667,464,694"/>
<area shape="rect" id="node48" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="165,616,247,643"/>
<area shape="rect" id="node3" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="374,160,425,187"/>
<area shape="rect" id="node4" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="344,110,455,136"/>
<area shape="rect" id="node7" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="378,439,421,466"/>
<area shape="rect" id="node9" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="739,414,877,440"/>
<area shape="rect" id="node10" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="356,312,443,339"/>
<area shape="rect" id="node12" href="inode_8c.html#a1871c58d9c393006e24f7fea1bcc288d" title="inode_sb_list_add" alt="" coords="336,211,463,238"/>
<area shape="rect" id="node14" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="348,262,451,288"/>
<area shape="rect" id="node5" href="inode_8c.html#a6bdbb5661dff23968a2a67170a4ffccf" title="__wait_on_freeing_inode" alt="" coords="522,59,687,86"/>
<area shape="rect" id="node6" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="576,110,633,136"/>
<area shape="rect" id="node8" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="567,414,642,440"/>
<area shape="rect" id="node11" href="inode_8c.html#a844185001176cf3da6e2195a24931015" title="inode_init_always" alt="" coords="542,312,667,339"/>
<area shape="rect" id="node13" href="debugfs_2inode_8c.html#ab0e32a685998ab4f1be52f66ddedfca1" title="EXPORT_SYMBOL_GPL" alt="" coords="519,160,691,187"/>
<area shape="rect" id="node15" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="546,262,663,288"/>
<area shape="rect" id="node16" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="565,211,645,238"/>
<area shape="rect" id="node20" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="749,755,867,782"/>
<area shape="rect" id="node21" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="935,907,1071,934"/>
<area shape="rect" id="node22" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1153,882,1248,908"/>
<area shape="rect" id="node23" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="925,856,1081,883"/>
<area shape="rect" id="node24" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1129,780,1272,807"/>
<area shape="rect" id="node25" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1515,780,1590,807"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1515,578,1590,604"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1501,628,1604,655"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1505,679,1600,706"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1492,730,1613,756"/>
<area shape="rect" id="node32" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1493,527,1613,554"/>
<area shape="rect" id="node34" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="563,566,647,592"/>
<area shape="rect" id="node36" href="misc_8h.html#af4e18265c14309f0f6e2edd13371e6ec" title="ubifs_compr_present" alt="" coords="328,958,471,984"/>
<area shape="rect" id="node37" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="357,1008,442,1035"/>
<area shape="rect" id="node38" href="misc_8h.html#a23893a6a93db58c83b955d3bbcb969bc" title="ubifs_compr_name" alt="" coords="333,1059,465,1086"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="346,907,453,934"/>
<area shape="rect" id="node40" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="748,907,868,934"/>
<area shape="rect" id="node41" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="742,958,874,984"/>
<area shape="rect" id="node43" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="781,856,835,883"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#ab0cc00dca67ee2f47ffc26909bd27db9" title="get_dent_type" alt="" coords="756,806,860,832"/>
<area shape="rect" id="node49" href="bad__inode_8c.html#ab9cc2af6161530b35e5f86e29f977033" title="make_bad_inode" alt="" coords="339,616,459,643"/>
<area shape="rect" id="node50" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="535,616,674,643"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_icgraph.png" border="0" usemap="#ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_icgraph" alt=""/></div>
<map name="ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_icgraph" id="ubifs_8h_ad09a32d85c773fd7364b69ee1f32b61c_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="159,183,235,209"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="150,607,245,633"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="511,563,621,589"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="132,455,263,481"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="311,372,437,399"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="320,157,428,184"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="499,208,633,235"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="320,56,428,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="706,157,779,184"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="485,157,647,184"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="529,5,603,32"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="485,56,647,83"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="696,563,789,589"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="327,505,421,532"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="311,455,437,481"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="505,512,627,539"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="519,360,613,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="525,411,607,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="521,461,611,488"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="518,259,614,285"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="515,309,617,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="695,385,791,412"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="699,436,786,463"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="839,436,939,463"/>
</map>
</div>

</div>
</div>
<a id="a3e52fa16110396ffb0817447ae15125c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e52fa16110396ffb0817447ae15125c">&#9670;&nbsp;</a></span>ubifs_init_security()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ubifs_init_security </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct qstr *&#160;</td>
          <td class="paramname"><em>qstr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3e52fa16110396ffb0817447ae15125c_cgraph.png" border="0" usemap="#ubifs_8h_a3e52fa16110396ffb0817447ae15125c_cgraph" alt=""/></div>
<map name="ubifs_8h_a3e52fa16110396ffb0817447ae15125c_cgraph" id="ubifs_8h_a3e52fa16110396ffb0817447ae15125c_cgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="233,390,312,416"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="181,1023,364,1050"/>
<area shape="rect" id="node22" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="180,1074,365,1100"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="430,1504,554,1531"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="199,972,347,999"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="191,1175,354,1202"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="213,1226,332,1252"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="413,820,571,847"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a88dd4e25e224557f93cba67c93532e0a" title="ubifs_recover_size\l_accum" alt="" coords="207,1277,338,1318"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="207,694,338,720"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a4f091c7b064ca0a6d513bc580ad8c0fe" title="ubifs_destroy_size_tree" alt="" coords="193,1343,353,1370"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="232,23,313,50"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="199,162,347,188"/>
<area shape="rect" id="node47" href="ubifs_8h.html#aba795649d1c579aa18215daa1e32dfb8" title="ubifs_compressors_init" alt="" coords="195,1394,351,1420"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac4d2c76415a2086bbd8ffdbaf92a52c2" title="ubifs_compressors_exit" alt="" coords="193,1444,353,1471"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a34709dede6e3377bd2bcd99862e71ac7" title="ubifs_compress" alt="" coords="215,1495,330,1522"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a58f95871b1df8b20f459c6a93a416b91" title="ubifs_decompress" alt="" coords="209,908,337,935"/>
<area shape="rect" id="node3" href="inode_8c.html#a2e4fab3a29971a7bc96043a5dbcd77a3" title="iget_locked" alt="" coords="448,212,536,239"/>
<area shape="rect" id="node4" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="660,111,748,138"/>
<area shape="rect" id="node5" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="447,668,537,695"/>
<area shape="rect" id="node6" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="432,618,552,644"/>
<area shape="rect" id="node7" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="455,364,529,391"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="439,466,545,492"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="863,998,935,1024"/>
<area shape="rect" id="node10" href="inode_8c.html#aa992afd465d948c7fca769d396933c98" title="init_special_inode" alt="" coords="429,415,555,442"/>
<area shape="rect" id="node11" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="418,162,566,188"/>
<area shape="rect" id="node12" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="639,288,769,315"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="837,719,961,746"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="429,60,555,87"/>
<area shape="rect" id="node15" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="451,314,533,340"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="431,1074,553,1100"/>
<area shape="rect" id="node20" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="451,1226,533,1252"/>
<area shape="rect" id="node21" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="417,1276,567,1303"/>
<area shape="rect" id="node18" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="637,1074,771,1100"/>
<area shape="rect" id="node19" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="862,1682,937,1708"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="645,1276,763,1303"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="647,1327,761,1354"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="657,1530,751,1556"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="647,1834,761,1860"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="661,1580,747,1607"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="647,1631,761,1658"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="649,1732,759,1759"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="665,1783,743,1810"/>
<area shape="rect" id="node32" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="647,1428,761,1455"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="648,1682,760,1708"/>
<area shape="rect" id="node34" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="619,1378,789,1404"/>
<area shape="rect" id="node35" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="637,1226,771,1252"/>
<area shape="rect" id="node37" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="449,1175,535,1202"/>
<area shape="rect" id="node38" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="439,972,545,999"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3e52fa16110396ffb0817447ae15125c_icgraph.png" border="0" usemap="#ubifs_8h_a3e52fa16110396ffb0817447ae15125c_icgraph" alt=""/></div>
<map name="ubifs_8h_a3e52fa16110396ffb0817447ae15125c_icgraph" id="ubifs_8h_a3e52fa16110396ffb0817447ae15125c_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="180,5,313,32"/>
<area shape="rect" id="node4" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="200,56,293,83"/>
<area shape="rect" id="node5" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="205,107,288,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="202,157,291,184"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="199,208,295,235"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="195,259,298,285"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="373,5,446,32"/>
<area shape="rect" id="node6" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="361,81,457,108"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="366,132,453,159"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="505,132,605,159"/>
</map>
</div>

</div>
</div>
<a id="acdb205e449d68293e4545e1907ed86e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb205e449d68293e4545e1907ed86e8">&#9670;&nbsp;</a></span>ubifs_io_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_io_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9831447969acb35c927f7530bc47158e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9831447969acb35c927f7530bc47158e">&#9670;&nbsp;</a></span>ubifs_ioctl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long ubifs_ioctl </td>
          <td>(</td>
          <td class="paramtype">struct file *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9831447969acb35c927f7530bc47158e_cgraph.png" border="0" usemap="#ubifs_8h_a9831447969acb35c927f7530bc47158e_cgraph" alt=""/></div>
<map name="ubifs_8h_a9831447969acb35c927f7530bc47158e_cgraph" id="ubifs_8h_a9831447969acb35c927f7530bc47158e_cgraph">
<area shape="rect" id="node2" href="ubifs_2ioctl_8c.html#a9d77f140156cca9f5829f7b0a034d943" title="ubifs2ioctl" alt="" coords="521,157,603,184"/>
<area shape="rect" id="node3" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="739,613,827,640"/>
<area shape="rect" id="node4" href="inode_8c.html#a2359f9f4ea541a79ff23035a6c89cb03" title="inode_owner_or_capable" alt="" coords="479,664,645,691"/>
<area shape="rect" id="node6" href="namespace_8c.html#abec48677d6bf1090f17dd8b54cdee81d" title="mnt_want_write_file" alt="" coords="493,917,631,944"/>
<area shape="rect" id="node17" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="311,411,379,437"/>
<area shape="rect" id="node35" href="namespace_8c.html#a0ce94dc25dc93a0b5e1a9282e43e0a97" title="mnt_drop_write_file" alt="" coords="495,1151,629,1177"/>
<area shape="rect" id="node38" href="sb_8c.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="264,785,427,812"/>
<area shape="rect" id="node44" href="policy_8c.html#af3acfb2aa553abfa723c6d842b2eeb2f" title="fscrypt_ioctl_set_policy" alt="" coords="266,937,425,964"/>
<area shape="rect" id="node49" href="policy_8c.html#a1da7bf1270cb80bc9dba105225a2b3dc" title="fscrypt_ioctl_get_policy" alt="" coords="266,1039,425,1065"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="135,760,216,787"/>
<area shape="rect" id="node5" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="713,563,852,589"/>
<area shape="rect" id="node7" href="namespace_8c.html#af19741fc533f0e0a2acda44e925f80eb" title="may_write_real" alt="" coords="727,917,838,944"/>
<area shape="rect" id="node8" href="namespace_8c.html#afc62e617cec97974d570093f778e30e0" title="__mnt_want_write_file" alt="" coords="707,1035,859,1061"/>
<area shape="rect" id="node14" href="namespace_8c.html#a14b50b29ea751e02e86a7c9a2fa01128" title="EXPORT_SYMBOL_GPL" alt="" coords="1473,1019,1645,1045"/>
<area shape="rect" id="node9" href="namespace_8c.html#ae8d4c494f66a0cda8744bf47ebeba01f" title="__mnt_want_write" alt="" coords="934,1165,1062,1192"/>
<area shape="rect" id="node16" href="namespace_8c.html#aba77afe1262e538d2854159761e6bcb2" title="mnt_clone_write" alt="" coords="939,1069,1057,1096"/>
<area shape="rect" id="node10" href="mount_8h.html#a799ce35ff6ad0c45266cbe2b631ac610" title="real_mount" alt="" coords="1144,1171,1231,1197"/>
<area shape="rect" id="node11" href="namespace_8c.html#a24aaa0bb913baa617bc4d19fad011a99" title="mnt_inc_writers" alt="" coords="1130,1120,1245,1147"/>
<area shape="rect" id="node12" href="namespace_8c.html#a1e8eac40e0b14fb052603f900a411760" title="mnt_is_readonly" alt="" coords="1129,1221,1246,1248"/>
<area shape="rect" id="node15" href="namespace_8c.html#a6b6223aa5bccbed87645de18e8b0abac" title="mnt_dec_writers" alt="" coords="1128,1272,1247,1299"/>
<area shape="rect" id="node13" href="namespace_8c.html#ae435f6295042ca4769078d0b11c47713" title="__mnt_is_readonly" alt="" coords="1295,1069,1425,1096"/>
<area shape="rect" id="node18" href="budget_8c.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="493,309,631,336"/>
<area shape="rect" id="node27" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="962,613,1034,640"/>
<area shape="rect" id="node28" href="ubifs_2ioctl_8c.html#ab97b1ce0ae4450b81120a4390acf7dff" title="ioctl2ubifs" alt="" coords="521,461,603,488"/>
<area shape="rect" id="node29" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="488,563,636,589"/>
<area shape="rect" id="node30" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="515,411,609,437"/>
<area shape="rect" id="node31" href="budget_8c.html#afb4a050131358f08985939fa532bc694" title="ubifs_release_budget" alt="" coords="489,259,635,285"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="503,208,621,235"/>
<area shape="rect" id="node19" href="budget_8c.html#ae7fb821f0bda60b202ba1bd7b8445634" title="calc_data_growth" alt="" coords="721,157,845,184"/>
<area shape="rect" id="node20" href="budget_8c.html#ad59159f2a92429bd81d6bcb530d7c5c5" title="calc_dd_growth" alt="" coords="726,208,839,235"/>
<area shape="rect" id="node21" href="budget_8c.html#ac3fe021e20fd3d248577fe5d2623ad96" title="calc_idx_growth" alt="" coords="725,259,841,285"/>
<area shape="rect" id="node22" href="budget_8c.html#a2defe97e005967f0deab94271d273ff1" title="can_use_rp" alt="" coords="953,385,1043,412"/>
<area shape="rect" id="node23" href="budget_8c.html#ae0376da215ef10226bf8949db1efe446" title="do_budget_space" alt="" coords="721,309,845,336"/>
<area shape="rect" id="node26" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="720,360,845,387"/>
<area shape="rect" id="node24" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="916,183,1080,209"/>
<area shape="rect" id="node25" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="929,309,1067,336"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="704,5,861,32"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="713,56,852,83"/>
<area shape="rect" id="node36" href="namespace_8c.html#ad990c81af66b82e8c66b009dd531b77b" title="__mnt_drop_write" alt="" coords="935,1216,1061,1243"/>
<area shape="rect" id="node37" href="namespace_8c.html#aaa6b04953fbfe2185e8e0f5431d89c79" title="EXPORT_SYMBOL" alt="" coords="713,1151,852,1177"/>
<area shape="rect" id="node39" href="sb_8c.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="493,867,631,893"/>
<area shape="rect" id="node41" href="sb_8c.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="491,816,633,843"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="724,867,841,893"/>
<area shape="rect" id="node42" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="715,816,850,843"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="721,765,844,792"/>
<area shape="rect" id="node45" href="policy_8c.html#a2708a1c5d5f270457f0548d9a4159a37" title="create_encryption_context\l_from_policy" alt="" coords="475,1034,649,1075"/>
<area shape="rect" id="node47" href="policy_8c.html#a274a1de5f94e89d3717f0938986e9197" title="is_encryption_context\l_consistent_with_policy" alt="" coords="481,969,643,1010"/>
<area shape="rect" id="node48" href="policy_8c.html#a0def849d9429e6e706212fd82725f01f" title="EXPORT_SYMBOL" alt="" coords="493,1100,631,1127"/>
<area shape="rect" id="node46" href="fscrypt__private_8h.html#ab15ec3d0df2bcbd4968ae8d58e0bb088" title="fscrypt_valid_enc_modes" alt="" coords="697,1085,868,1112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9831447969acb35c927f7530bc47158e_icgraph.png" border="0" usemap="#ubifs_8h_a9831447969acb35c927f7530bc47158e_icgraph" alt=""/></div>
<map name="ubifs_8h_a9831447969acb35c927f7530bc47158e_icgraph" id="ubifs_8h_a9831447969acb35c927f7530bc47158e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="135,132,261,159"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="309,5,443,32"/>
<area shape="rect" id="node5" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="329,56,423,83"/>
<area shape="rect" id="node6" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="335,107,417,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="331,157,421,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="328,208,424,235"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="325,259,427,285"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="502,5,575,32"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="491,81,587,108"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="495,132,582,159"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="635,132,735,159"/>
</map>
</div>

</div>
</div>
<a id="ade6dd0f2909e1d7ec5cfc0bf93a9e0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade6dd0f2909e1d7ec5cfc0bf93a9e0b4">&#9670;&nbsp;</a></span>ubifs_is_mapped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_is_mapped </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph.png" border="0" usemap="#ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph" alt=""/></div>
<map name="ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph" id="ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="173,5,245,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph.png" border="0" usemap="#ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph" alt=""/></div>
<map name="ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph" id="ubifs_8h_ade6dd0f2909e1d7ec5cfc0bf93a9e0b4_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a8b547d0c0fe03ac73bde35a975c2b372" title="check_volume_empty" alt="" coords="173,5,323,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="371,5,464,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="512,5,621,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="669,5,763,32"/>
</map>
</div>

</div>
</div>
<a id="a6f3994496f803665f9b68e76fa48127b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3994496f803665f9b68e76fa48127b">&#9670;&nbsp;</a></span>ubifs_jnl_change_xattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_change_xattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>host</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_change_xattr - change an extended attribute. <code></code>: UBIFS file-system description object : extended attribute inode : host inode</p>
<p>This function writes the updated version of an extended attribute inode and the host inode to the journal (to the base head). The host inode is written after the extended attribute inode in order to guarantee that the extended attribute will be flushed when the inode is synchronized by 'fsync()' and consequently, the write-buffer is synchronized. This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6f3994496f803665f9b68e76fa48127b_cgraph.png" border="0" usemap="#ubifs_8h_a6f3994496f803665f9b68e76fa48127b_cgraph" alt=""/></div>
<map name="ubifs_8h_a6f3994496f803665f9b68e76fa48127b_cgraph" id="ubifs_8h_a6f3994496f803665f9b68e76fa48127b_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="424,5,512,32"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="211,689,337,716"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="820,765,927,792"/>
<area shape="rect" id="node32" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="230,107,318,133"/>
<area shape="rect" id="node36" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1037,1171,1122,1197"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="205,1146,343,1187"/>
<area shape="rect" id="node39" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="225,1212,323,1239"/>
<area shape="rect" id="node40" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="229,1263,319,1289"/>
<area shape="rect" id="node41" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="223,1044,325,1071"/>
<area shape="rect" id="node48" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="212,1313,336,1340"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="211,1364,337,1391"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="415,917,521,944"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1037,740,1122,767"/>
<area shape="rect" id="node14" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1663,512,1735,539"/>
<area shape="rect" id="node15" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="405,588,531,615"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="810,411,937,437"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1220,588,1351,615"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1223,875,1347,901"/>
<area shape="rect" id="node5" href="find_8c.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="593,968,743,995"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1658,1103,1739,1129"/>
<area shape="rect" id="node7" href="ubifs_2gc_8c.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="594,1019,742,1045"/>
<area shape="rect" id="node8" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="816,1069,931,1096"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="1203,1069,1368,1096"/>
<area shape="rect" id="node12" href="ubifs_2log_8c.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="594,917,742,944"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3" title="ubifs_wbuf_seek_nolock" alt="" coords="791,1272,956,1299"/>
<area shape="rect" id="node16" href="ubifs_2commit_8c.html#a8066477fd4d182a562575fec9c1460f9" title="wait_for_commit" alt="" coords="609,537,727,564"/>
<area shape="rect" id="node17" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="625,588,711,615"/>
<area shape="rect" id="node18" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="1019,613,1139,640"/>
<area shape="rect" id="node24" href="lprops_8c.html#a8a4a969b18d269964ff80d11eb94b8ab" title="ubifs_get_lp_stats" alt="" coords="1435,765,1563,792"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1220,284,1351,311"/>
<area shape="rect" id="node21" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="1004,309,1155,336"/>
<area shape="rect" id="node22" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="1023,512,1136,539"/>
<area shape="rect" id="node31" href="lprops_8c.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1021,360,1138,387"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1435,563,1563,589"/>
<area shape="rect" id="node26" href="lprops_8c.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="1435,664,1562,691"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1437,715,1561,741"/>
<area shape="rect" id="node29" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="1629,904,1768,931"/>
<area shape="rect" id="node30" href="budget_8c.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="1425,867,1572,909"/>
<area shape="rect" id="node33" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="405,56,531,83"/>
<area shape="rect" id="node34" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="391,107,545,133"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="397,157,539,184"/>
<area shape="rect" id="node37" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="1416,1001,1581,1028"/>
<area shape="rect" id="node42" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="401,1069,535,1096"/>
<area shape="rect" id="node43" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="429,1120,507,1147"/>
<area shape="rect" id="node44" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="429,1171,507,1197"/>
<area shape="rect" id="node45" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="434,968,502,995"/>
<area shape="rect" id="node46" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="417,1019,519,1045"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="818,816,929,843"/>
<area shape="rect" id="node50" href="budget_8c.html#a42a33c943c4f8862342d84cc1b152182" title="ubifs_release_dirty\l_inode_budget" alt="" coords="403,1357,533,1398"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6f3994496f803665f9b68e76fa48127b_icgraph.png" border="0" usemap="#ubifs_8h_a6f3994496f803665f9b68e76fa48127b_icgraph" alt=""/></div>
<map name="ubifs_8h_a6f3994496f803665f9b68e76fa48127b_icgraph" id="ubifs_8h_a6f3994496f803665f9b68e76fa48127b_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="205,56,303,83"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="351,56,459,83"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="521,5,654,32"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="716,31,789,57"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="507,107,668,133"/>
</map>
</div>

</div>
</div>
<a id="aae33ce80e24113a8224187cb917d0c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae33ce80e24113a8224187cb917d0c09">&#9670;&nbsp;</a></span>ubifs_jnl_delete_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_delete_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_delete_inode - delete an inode. <code></code>: UBIFS file-system description object : inode to delete</p>
<p>This function deletes inode  which includes removing it from orphans, deleting it from TNC and, in some cases, writing a deletion inode to the journal.</p>
<p>When regular file inodes are unlinked or a directory inode is removed, the '<a class="el" href="ubifs_2journal_8c.html#ad342a112d6f683c94399a45a14ec3aef">ubifs_jnl_update()</a>' function writes a corresponding deletion inode and direntry to the media, and adds the inode to orphans. After this, when the last reference to this inode has been dropped, this function is called. In general, it has to write one more deletion inode to the media, because if a commit happened between '<a class="el" href="ubifs_2journal_8c.html#ad342a112d6f683c94399a45a14ec3aef">ubifs_jnl_update()</a>' and '<a class="el" href="ubifs_2journal_8c.html#aae33ce80e24113a8224187cb917d0c09">ubifs_jnl_delete_inode()</a>', the deletion inode is not in the journal anymore, and in fact it might not be on the flash anymore, because it might have been garbage-collected already. And for optimization reasons UBIFS does not read the orphan area if it has been unmounted cleanly, so it would have no indication in the journal that there is a deleted inode which has to be removed from TNC.</p>
<p>However, if there was no commit between '<a class="el" href="ubifs_2journal_8c.html#ad342a112d6f683c94399a45a14ec3aef">ubifs_jnl_update()</a>' and '<a class="el" href="ubifs_2journal_8c.html#aae33ce80e24113a8224187cb917d0c09">ubifs_jnl_delete_inode()</a>', then there is no need to write the deletion inode to the media for the second time. And this is quite a typical case.</p>
<p>This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aae33ce80e24113a8224187cb917d0c09_cgraph.png" border="0" usemap="#ubifs_8h_aae33ce80e24113a8224187cb917d0c09_cgraph" alt=""/></div>
<map name="ubifs_8h_aae33ce80e24113a8224187cb917d0c09_cgraph" id="ubifs_8h_aae33ce80e24113a8224187cb917d0c09_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="630,1119,718,1145"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="204,916,347,943"/>
<area shape="rect" id="node22" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="395,469,544,496"/>
<area shape="rect" id="node44" href="ubifs_2orphan_8c.html#afc0eab9d33c998c259bd6f0b4f23ec41" title="ubifs_delete_orphan" alt="" coords="400,748,539,775"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="416,1271,523,1297"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="611,916,737,943"/>
<area shape="rect" id="node14" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="425,1017,513,1044"/>
<area shape="rect" id="node18" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="843,1179,928,1205"/>
<area shape="rect" id="node20" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="401,799,538,841"/>
<area shape="rect" id="node21" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="420,865,519,892"/>
<area shape="rect" id="node41" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="834,697,937,724"/>
<area shape="rect" id="node45" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="424,967,515,993"/>
<area shape="rect" id="node46" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="623,647,725,673"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="407,1119,531,1145"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="832,1052,939,1079"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1233,799,1305,825"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="843,1115,928,1141"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="823,951,948,977"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1035,1001,1159,1028"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1032,849,1163,876"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1034,900,1161,927"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1228,1103,1309,1129"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="1015,1153,1180,1180"/>
<area shape="rect" id="node15" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="611,1017,737,1044"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="597,1068,751,1095"/>
<area shape="rect" id="node17" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="603,967,745,993"/>
<area shape="rect" id="node19" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="1015,1103,1180,1129"/>
<area shape="rect" id="node23" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="614,393,734,420"/>
<area shape="rect" id="node24" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="608,191,740,217"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="596,444,752,471"/>
<area shape="rect" id="node34" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="599,292,749,319"/>
<area shape="rect" id="node37" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="618,495,730,521"/>
<area shape="rect" id="node38" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="616,545,732,572"/>
<area shape="rect" id="node39" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="592,343,756,369"/>
<area shape="rect" id="node43" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="637,596,711,623"/>
<area shape="rect" id="node25" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1231,241,1306,268"/>
<area shape="rect" id="node26" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1050,191,1145,217"/>
<area shape="rect" id="node27" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="817,292,953,319"/>
<area shape="rect" id="node28" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="804,241,967,268"/>
<area shape="rect" id="node29" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="1061,241,1133,268"/>
<area shape="rect" id="node30" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="826,191,945,217"/>
<area shape="rect" id="node31" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1058,393,1137,420"/>
<area shape="rect" id="node32" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="807,39,963,65"/>
<area shape="rect" id="node35" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="819,393,952,420"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="830,495,941,521"/>
<area shape="rect" id="node40" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="851,545,919,572"/>
<area shape="rect" id="node42" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1027,697,1168,724"/>
<area shape="rect" id="node47" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="846,647,925,673"/>
<area shape="rect" id="node48" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="846,596,925,623"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aae33ce80e24113a8224187cb917d0c09_icgraph.png" border="0" usemap="#ubifs_8h_aae33ce80e24113a8224187cb917d0c09_icgraph" alt=""/></div>
<map name="ubifs_8h_aae33ce80e24113a8224187cb917d0c09_icgraph" id="ubifs_8h_aae33ce80e24113a8224187cb917d0c09_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="204,5,327,32"/>
</map>
</div>

</div>
</div>
<a id="a75ae3c25abba8f076e8d4e000ffcf45d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ae3c25abba8f076e8d4e000ffcf45d">&#9670;&nbsp;</a></span>ubifs_jnl_delete_xattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_delete_xattr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_delete_xattr - delete an extended attribute. <code></code>: UBIFS file-system description object : host inode : extended attribute inode : extended attribute entry name</p>
<p>This function delete an extended attribute which is very similar to un-linking regular files - it writes a deletion xentry, a deletion inode and updates the target inode. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_cgraph.png" border="0" usemap="#ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_cgraph" alt=""/></div>
<map name="ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_cgraph" id="ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="448,157,536,184"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="429,411,555,437"/>
<area shape="rect" id="node13" href="key_8h.html#adcb63f144ee365e6e61a1afc86e741e1" title="xent_key_init" alt="" coords="231,1019,330,1045"/>
<area shape="rect" id="node15" href="key_8h.html#a1b58cdc042da655c7bbf0fce057b413c" title="key_write" alt="" coords="241,1069,320,1096"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a1d4a541700f9d4bf038cadbf4e097454" title="get_dent_type" alt="" coords="229,1120,333,1147"/>
<area shape="rect" id="node17" href="ubifs_2journal_8c.html#ae4ece295a2679c7b5d2b9ddf9b553dd4" title="zero_dent_node_unused" alt="" coords="199,1171,362,1197"/>
<area shape="rect" id="node18" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="421,309,563,336"/>
<area shape="rect" id="node20" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="845,5,952,32"/>
<area shape="rect" id="node21" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="237,259,325,285"/>
<area shape="rect" id="node24" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="652,259,737,285"/>
<area shape="rect" id="node26" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="212,1222,349,1263"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="231,1288,330,1315"/>
<area shape="rect" id="node28" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="205,639,356,665"/>
<area shape="rect" id="node37" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="643,1171,746,1197"/>
<area shape="rect" id="node41" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="225,1339,337,1365"/>
<area shape="rect" id="node42" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="223,1389,339,1416"/>
<area shape="rect" id="node43" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="199,917,363,944"/>
<area shape="rect" id="node46" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="235,1440,326,1467"/>
<area shape="rect" id="node47" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="229,867,332,893"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="219,1491,343,1517"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="217,1541,344,1568"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="641,309,748,336"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1036,512,1108,539"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1029,56,1115,83"/>
<area shape="rect" id="node9" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="632,411,757,437"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="837,360,961,387"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="833,461,964,488"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="835,512,962,539"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1031,309,1113,336"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="816,259,981,285"/>
<area shape="rect" id="node14" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="467,1424,517,1451"/>
<area shape="rect" id="node19" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="648,56,741,83"/>
<area shape="rect" id="node22" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="429,208,555,235"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="415,259,569,285"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="816,411,981,437"/>
<area shape="rect" id="node29" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="425,664,559,691"/>
<area shape="rect" id="node30" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="847,791,950,817"/>
<area shape="rect" id="node31" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="621,765,768,792"/>
<area shape="rect" id="node32" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="411,512,573,539"/>
<area shape="rect" id="node34" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="433,461,551,488"/>
<area shape="rect" id="node35" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="451,1019,533,1045"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="437,867,547,893"/>
<area shape="rect" id="node33" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="659,613,731,640"/>
<area shape="rect" id="node36" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="661,1069,729,1096"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="629,968,760,995"/>
<area shape="rect" id="node38" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="828,1044,969,1071"/>
<area shape="rect" id="node44" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="424,1221,560,1248"/>
<area shape="rect" id="node45" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="443,1272,541,1299"/>
<area shape="rect" id="node48" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="453,715,531,741"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_icgraph.png" border="0" usemap="#ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_icgraph" alt=""/></div>
<map name="ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_icgraph" id="ubifs_8h_a75ae3c25abba8f076e8d4e000ffcf45d_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="199,5,297,32"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="345,5,479,32"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="527,5,600,32"/>
</map>
</div>

</div>
</div>
<a id="ab6387ea48fd6825a567f58c2786bee56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6387ea48fd6825a567f58c2786bee56">&#9670;&nbsp;</a></span>ubifs_jnl_rename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_rename </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>old_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>old_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>old_nm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>new_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>new_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>new_nm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>whiteout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_rename - rename a directory entry. <code></code>: UBIFS file-system description object : parent inode of directory entry to rename : directory entry to rename : parent inode of directory entry to rename : new directory entry (or directory entry to replace) : non-zero if the write-buffer has to be synchronized</p>
<p>This function implements the re-name operation which may involve writing up to 4 inodes and 2 directory entries. It marks the written inodes as clean and returns zero on success. In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_cgraph.png" border="0" usemap="#ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_cgraph" alt=""/></div>
<map name="ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_cgraph" id="ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_cgraph">
<area shape="rect" id="node2" href="proc__sysctl_8c.html#aba72ac0468502015dfce9545fb0650f2" title="new_dir" alt="" coords="221,5,288,32"/>
<area shape="rect" id="node4" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="417,157,505,184"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="605,588,731,615"/>
<area shape="rect" id="node15" href="key_8h.html#a4c61e89b4c6084d47cabe5df52f288e4" title="dent_key_init_flash" alt="" coords="187,461,322,488"/>
<area shape="rect" id="node17" href="ubifs_2journal_8c.html#a1d4a541700f9d4bf038cadbf4e097454" title="get_dent_type" alt="" coords="203,208,307,235"/>
<area shape="rect" id="node18" href="ubifs_2journal_8c.html#a9a7b991169dcd5003fd4ccd4dbe0a199" title="set_dent_cookie" alt="" coords="196,259,313,285"/>
<area shape="rect" id="node19" href="ubifs_2journal_8c.html#ae4ece295a2679c7b5d2b9ddf9b553dd4" title="zero_dent_node_unused" alt="" coords="173,309,336,336"/>
<area shape="rect" id="node20" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="390,259,533,285"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="817,411,924,437"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="211,360,299,387"/>
<area shape="rect" id="node26" href="ubifs_2orphan_8c.html#acb45f2ae734e577bef2f6ffd715069aa" title="ubifs_add_orphan" alt="" coords="809,765,933,792"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="205,563,304,589"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="828,132,913,159"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="186,665,323,706"/>
<area shape="rect" id="node31" href="key_8h.html#a790e865fe08d05015cea5a1651759af3" title="dent_key_init" alt="" coords="205,512,304,539"/>
<area shape="rect" id="node32" href="tnc_8c.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="191,1044,319,1071"/>
<area shape="rect" id="node39" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="819,816,922,843"/>
<area shape="rect" id="node44" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="386,1196,537,1223"/>
<area shape="rect" id="node46" href="ubifs_2orphan_8c.html#afc0eab9d33c998c259bd6f0b4f23ec41" title="ubifs_delete_orphan" alt="" coords="392,1551,531,1577"/>
<area shape="rect" id="node47" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="209,1145,300,1172"/>
<area shape="rect" id="node48" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="410,943,513,969"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="193,1247,317,1273"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="191,1297,318,1324"/>
<area shape="rect" id="node3" href="proc__sysctl_8c.html#a5860667ffe3e08168b354241d36b3e82" title="init_header" alt="" coords="419,5,504,32"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="817,259,924,285"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1210,715,1282,741"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1032,411,1117,437"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="808,563,933,589"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1013,487,1137,513"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1009,715,1140,741"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1011,613,1138,640"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1205,208,1287,235"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="992,157,1157,184"/>
<area shape="rect" id="node16" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="436,487,487,513"/>
<area shape="rect" id="node21" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="621,335,715,361"/>
<area shape="rect" id="node24" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="398,309,525,336"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="384,360,539,387"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="992,208,1157,235"/>
<area shape="rect" id="node33" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="601,1297,735,1324"/>
<area shape="rect" id="node34" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1023,1272,1126,1299"/>
<area shape="rect" id="node35" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="797,1348,944,1375"/>
<area shape="rect" id="node36" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="587,1196,749,1223"/>
<area shape="rect" id="node37" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="609,1399,727,1425"/>
<area shape="rect" id="node38" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="837,1044,905,1071"/>
<area shape="rect" id="node41" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="629,841,707,868"/>
<area shape="rect" id="node42" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="629,993,707,1020"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="613,1145,723,1172"/>
<area shape="rect" id="node40" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1004,816,1145,843"/>
<area shape="rect" id="node45" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="627,1095,709,1121"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_icgraph.png" border="0" usemap="#ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_icgraph" alt=""/></div>
<map name="ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_icgraph" id="ubifs_8h_ab6387ea48fd6825a567f58c2786bee56_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="173,5,260,32"/>
<area shape="rect" id="node3" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="308,5,408,32"/>
</map>
</div>

</div>
</div>
<a id="a2a2057b667417cf20bfd05deb79a8a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2057b667417cf20bfd05deb79a8a0e">&#9670;&nbsp;</a></span>ubifs_jnl_truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_truncate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>old_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_truncate - update the journal for a truncation. <code></code>: UBIFS file-system description object : inode to truncate : old size : new size</p>
<p>When the size of a file decreases due to truncation, a truncation node is written, the journal tree is updated, and the last data block is re-written if it has been affected. The inode is also updated in order to synchronize the new inode size.</p>
<p>This function marks the inode as clean and returns zero on success. In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_cgraph.png" border="0" usemap="#ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_cgraph" alt=""/></div>
<map name="ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_cgraph" id="ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="820,5,908,32"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a0192ba0f1c902266317f5be8a385aff5" title="zero_trun_node_unused" alt="" coords="179,1108,339,1135"/>
<area shape="rect" id="node4" href="key_8h.html#aa31c368518eb702eaa02487c8699797f" title="data_key_init" alt="" coords="210,1159,309,1185"/>
<area shape="rect" id="node5" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="199,1057,319,1084"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a687e1b07880f8f06558ceefc741d0465" title="truncate_data_node" alt="" coords="399,157,535,184"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="197,537,322,564"/>
<area shape="rect" id="node24" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="215,259,303,285"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="395,309,538,336"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="811,563,917,589"/>
<area shape="rect" id="node30" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="424,765,509,792"/>
<area shape="rect" id="node32" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="191,1210,328,1251"/>
<area shape="rect" id="node33" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="210,1276,309,1303"/>
<area shape="rect" id="node34" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="208,956,311,983"/>
<area shape="rect" id="node41" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="415,867,518,893"/>
<area shape="rect" id="node45" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="214,1327,305,1353"/>
<area shape="rect" id="node46" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="177,1007,341,1033"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="197,1377,321,1404"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="196,1428,323,1455"/>
<area shape="rect" id="node6" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="408,1424,525,1451"/>
<area shape="rect" id="node7" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="607,1373,743,1400"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a05379a3e5d4223a7821ec80d3606a6e6" title="ubifs_crypt_is_encrypted" alt="" coords="592,56,759,83"/>
<area shape="rect" id="node10" href="ubifs_2crypto_8c.html#a598308652cc2b1d5344d71dac180a913" title="ubifs_decrypt" alt="" coords="625,157,725,184"/>
<area shape="rect" id="node12" href="ubifs_2compress_8c.html#a9b5070bc52f24f554d4ac3cb06651fe5" title="ubifs_decompress" alt="" coords="611,208,739,235"/>
<area shape="rect" id="node13" href="ubifs_2compress_8c.html#a34709dede6e3377bd2bcd99862e71ac7" title="ubifs_compress" alt="" coords="807,183,921,209"/>
<area shape="rect" id="node15" href="ubifs_2crypto_8c.html#ada6ca748f7da6ade0a16bf43c7cd64d4" title="ubifs_encrypt" alt="" coords="625,259,725,285"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="828,397,900,424"/>
<area shape="rect" id="node14" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="969,411,1055,437"/>
<area shape="rect" id="node17" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="413,715,520,741"/>
<area shape="rect" id="node20" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="404,512,529,539"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="613,613,737,640"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="610,360,741,387"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="612,411,739,437"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="823,715,905,741"/>
<area shape="rect" id="node19" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="593,765,758,792"/>
<area shape="rect" id="node25" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="403,259,530,285"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="389,208,544,235"/>
<area shape="rect" id="node28" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="629,309,722,336"/>
<area shape="rect" id="node31" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="593,664,758,691"/>
<area shape="rect" id="node35" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="400,968,533,995"/>
<area shape="rect" id="node38" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="427,816,506,843"/>
<area shape="rect" id="node39" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="427,917,506,944"/>
<area shape="rect" id="node40" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="433,1019,501,1045"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="411,1120,522,1147"/>
<area shape="rect" id="node36" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="813,1069,915,1096"/>
<area shape="rect" id="node37" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="602,1019,749,1045"/>
<area shape="rect" id="node42" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="605,867,746,893"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="610,1171,741,1197"/>
<area shape="rect" id="node47" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="431,1272,503,1299"/>
<area shape="rect" id="node48" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="417,1373,516,1400"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_icgraph.png" border="0" usemap="#ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_icgraph" alt=""/></div>
<map name="ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_icgraph" id="ubifs_8h_a2a2057b667417cf20bfd05deb79a8a0e_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="177,5,277,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="325,5,420,32"/>
</map>
</div>

</div>
</div>
<a id="ad342a112d6f683c94399a45a14ec3aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad342a112d6f683c94399a45a14ec3aef">&#9670;&nbsp;</a></span>ubifs_jnl_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deletion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>xent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_cgraph.png" border="0" usemap="#ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_cgraph" alt=""/></div>
<map name="ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_cgraph" id="ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="413,5,501,32"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="188,652,313,679"/>
<area shape="rect" id="node13" href="key_8h.html#af6c98e329576050823b946c32e2f5803" title="dent_key_init_hash" alt="" coords="183,1171,318,1197"/>
<area shape="rect" id="node14" href="key_8h.html#a790e865fe08d05015cea5a1651759af3" title="dent_key_init" alt="" coords="201,1272,300,1299"/>
<area shape="rect" id="node16" href="key_8h.html#adcb63f144ee365e6e61a1afc86e741e1" title="xent_key_init" alt="" coords="201,1221,300,1248"/>
<area shape="rect" id="node17" href="key_8h.html#a1b58cdc042da655c7bbf0fce057b413c" title="key_write" alt="" coords="211,1323,290,1349"/>
<area shape="rect" id="node18" href="ubifs_2journal_8c.html#a1d4a541700f9d4bf038cadbf4e097454" title="get_dent_type" alt="" coords="199,1373,303,1400"/>
<area shape="rect" id="node19" href="ubifs_2journal_8c.html#a9a7b991169dcd5003fd4ccd4dbe0a199" title="set_dent_cookie" alt="" coords="192,1424,309,1451"/>
<area shape="rect" id="node20" href="ubifs_2journal_8c.html#ae4ece295a2679c7b5d2b9ddf9b553dd4" title="zero_dent_node_unused" alt="" coords="169,1475,332,1501"/>
<area shape="rect" id="node21" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="386,157,529,184"/>
<area shape="rect" id="node23" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="821,208,927,235"/>
<area shape="rect" id="node24" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="207,107,295,133"/>
<area shape="rect" id="node27" href="ubifs_2orphan_8c.html#acb45f2ae734e577bef2f6ffd715069aa" title="ubifs_add_orphan" alt="" coords="395,309,519,336"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="201,1525,300,1552"/>
<area shape="rect" id="node29" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="415,563,500,589"/>
<area shape="rect" id="node31" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="182,1577,319,1618"/>
<area shape="rect" id="node32" href="tnc_8c.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="384,1323,531,1349"/>
<area shape="rect" id="node42" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="823,1221,925,1248"/>
<area shape="rect" id="node44" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="382,968,533,995"/>
<area shape="rect" id="node45" href="tnc_8c.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="187,917,315,944"/>
<area shape="rect" id="node46" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="205,1643,296,1669"/>
<area shape="rect" id="node47" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="406,1069,509,1096"/>
<area shape="rect" id="node48" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="189,1693,313,1720"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="187,1744,314,1771"/>
<area shape="rect" id="node50" href="ubifs_2orphan_8c.html#afc0eab9d33c998c259bd6f0b4f23ec41" title="ubifs_delete_orphan" alt="" coords="388,259,527,285"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="404,613,511,640"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="838,385,910,412"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1009,208,1094,235"/>
<area shape="rect" id="node9" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="395,715,520,741"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="603,715,727,741"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="600,360,731,387"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="602,411,729,437"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="833,613,915,640"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="583,613,748,640"/>
<area shape="rect" id="node15" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="432,1373,483,1400"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="619,157,712,184"/>
<area shape="rect" id="node25" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="394,107,521,133"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="380,56,535,83"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="583,512,748,539"/>
<area shape="rect" id="node33" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="599,1069,732,1096"/>
<area shape="rect" id="node34" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1000,1019,1103,1045"/>
<area shape="rect" id="node35" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="801,1019,947,1045"/>
<area shape="rect" id="node36" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="796,1551,952,1577"/>
<area shape="rect" id="node37" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="605,1627,725,1653"/>
<area shape="rect" id="node38" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="835,1500,913,1527"/>
<area shape="rect" id="node39" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="597,1424,733,1451"/>
<area shape="rect" id="node40" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="602,1525,729,1552"/>
<area shape="rect" id="node41" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="624,1323,707,1349"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="610,917,721,944"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_icgraph.png" border="0" usemap="#ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_icgraph" alt=""/></div>
<map name="ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_icgraph" id="ubifs_8h_ad342a112d6f683c94399a45a14ec3aef_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="175,56,266,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="174,107,267,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="179,157,262,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="182,208,259,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="175,259,266,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="177,309,264,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="176,360,265,387"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="173,411,269,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="169,461,272,488"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="320,56,428,83"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="490,5,623,32"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="685,31,759,57"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="476,107,637,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="326,132,422,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="331,183,417,209"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="507,183,607,209"/>
</map>
</div>

</div>
</div>
<a id="a9ed51b8a566d5776a783b6f955c32cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed51b8a566d5776a783b6f955c32cf5">&#9670;&nbsp;</a></span>ubifs_jnl_write_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_write_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_write_data - write a data node to the journal. <code></code>: UBIFS file-system description object : inode the data node belongs to : node key : buffer to write : data length (must not exceed UBIFS_BLOCK_SIZE)</p>
<p>This function writes a data node to the journal. Returns %0 if the data node was successfully written, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_cgraph.png" border="0" usemap="#ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_cgraph" alt=""/></div>
<map name="ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_cgraph" id="ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="435,15,523,42"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a05379a3e5d4223a7821ec80d3606a6e6" title="ubifs_crypt_is_encrypted" alt="" coords="191,66,357,93"/>
<area shape="rect" id="node5" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="651,142,729,169"/>
<area shape="rect" id="node6" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="233,1485,315,1511"/>
<area shape="rect" id="node7" href="key_8h.html#a1b58cdc042da655c7bbf0fce057b413c" title="key_write" alt="" coords="235,1535,313,1562"/>
<area shape="rect" id="node8" href="ubifs_2compress_8c.html#a34709dede6e3377bd2bcd99862e71ac7" title="ubifs_compress" alt="" coords="217,1434,331,1461"/>
<area shape="rect" id="node10" href="ubifs_2crypto_8c.html#ada6ca748f7da6ade0a16bf43c7cd64d4" title="ubifs_encrypt" alt="" coords="224,674,324,701"/>
<area shape="rect" id="node18" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="211,1029,337,1055"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="857,1333,964,1359"/>
<area shape="rect" id="node38" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="647,1551,733,1578"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="205,1587,343,1628"/>
<area shape="rect" id="node42" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="225,1653,323,1679"/>
<area shape="rect" id="node43" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="223,319,325,346"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="212,1703,336,1730"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a1aa9930cc94a47ac345316581dd49ab3" title="__printf" alt="" coords="446,66,511,93"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1041,1641,1127,1667"/>
<area shape="rect" id="node11" href="crypto_2crypto_8c.html#a49c93490a4358932673c23b21fbb1d1f" title="fscrypt_encrypt_page" alt="" coords="405,547,552,574"/>
<area shape="rect" id="node17" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1048,775,1120,802"/>
<area shape="rect" id="node12" href="crypto_2crypto_8c.html#a54b1c5526cd4eccd22ebb1e73c3fc385" title="fscrypt_do_page_crypto" alt="" coords="609,623,771,650"/>
<area shape="rect" id="node13" href="crypto_2crypto_8c.html#acd08deb87a35766b62dd8373706cf091" title="fscrypt_get_ctx" alt="" coords="634,421,746,447"/>
<area shape="rect" id="node14" href="crypto_2crypto_8c.html#a191e3998d0d9505e9aa78f5d02c0e766" title="EXPORT_SYMBOL" alt="" coords="841,471,980,498"/>
<area shape="rect" id="node15" href="crypto_2crypto_8c.html#a1f4b4ee23f3f6ea7869b12de76151f8e" title="fscrypt_alloc_bounce_page" alt="" coords="600,573,780,599"/>
<area shape="rect" id="node16" href="crypto_2crypto_8c.html#a664e13aac936b7996a7ded8c10ad2df9" title="fscrypt_release_ctx" alt="" coords="622,471,758,498"/>
<area shape="rect" id="node19" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="425,1105,532,1131"/>
<area shape="rect" id="node28" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="416,927,541,954"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="847,877,974,903"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="417,1383,541,1410"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="625,725,755,751"/>
<area shape="rect" id="node20" href="find_8c.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="615,978,765,1005"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1043,1359,1125,1386"/>
<area shape="rect" id="node22" href="ubifs_2gc_8c.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="616,1231,764,1258"/>
<area shape="rect" id="node23" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="853,1218,968,1245"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="828,1282,993,1309"/>
<area shape="rect" id="node26" href="ubifs_2log_8c.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="616,1029,764,1055"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3" title="ubifs_wbuf_seek_nolock" alt="" coords="828,1142,993,1169"/>
<area shape="rect" id="node29" href="ubifs_2commit_8c.html#a8066477fd4d182a562575fec9c1460f9" title="wait_for_commit" alt="" coords="631,927,749,954"/>
<area shape="rect" id="node30" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="647,877,733,903"/>
<area shape="rect" id="node32" href="lprops_8c.html#a8a4a969b18d269964ff80d11eb94b8ab" title="ubifs_get_lp_stats" alt="" coords="847,826,975,853"/>
<area shape="rect" id="node34" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="841,1387,980,1414"/>
<area shape="rect" id="node35" href="budget_8c.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="617,1384,763,1425"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="847,725,975,751"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="843,1590,978,1617"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="828,1489,993,1515"/>
<area shape="rect" id="node44" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="412,218,545,245"/>
<area shape="rect" id="node45" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="439,269,518,295"/>
<area shape="rect" id="node46" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="439,167,518,194"/>
<area shape="rect" id="node47" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="445,319,513,346"/>
<area shape="rect" id="node48" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="427,370,530,397"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="855,395,966,422"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_icgraph.png" border="0" usemap="#ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_icgraph" alt=""/></div>
<map name="ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_icgraph" id="ubifs_8h_a9ed51b8a566d5776a783b6f955c32cf5_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="191,31,289,57"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="337,5,451,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="344,56,444,83"/>
<area shape="rect" id="node5" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="499,56,593,83"/>
</map>
</div>

</div>
</div>
<a id="a8c1bde924b99b7852408656e18230d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c1bde924b99b7852408656e18230d99">&#9670;&nbsp;</a></span>ubifs_jnl_write_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_write_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_write_inode - flush inode to the journal. <code></code>: UBIFS file-system description object : inode to flush</p>
<p>This function writes inode  to the journal. If the inode is synchronous, it also synchronizes the write-buffer. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8c1bde924b99b7852408656e18230d99_cgraph.png" border="0" usemap="#ubifs_8h_a8c1bde924b99b7852408656e18230d99_cgraph" alt=""/></div>
<map name="ubifs_8h_a8c1bde924b99b7852408656e18230d99_cgraph" id="ubifs_8h_a8c1bde924b99b7852408656e18230d99_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="431,62,519,88"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="208,787,333,814"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="832,442,939,468"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="227,163,315,190"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="637,36,723,63"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="202,1218,339,1260"/>
<area shape="rect" id="node30" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="221,1284,320,1311"/>
<area shape="rect" id="node31" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="196,1116,345,1143"/>
<area shape="rect" id="node42" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="629,964,731,991"/>
<area shape="rect" id="node45" href="ubifs_2orphan_8c.html#afc0eab9d33c998c259bd6f0b4f23ec41" title="ubifs_delete_orphan" alt="" coords="201,1167,340,1194"/>
<area shape="rect" id="node46" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="225,1335,316,1362"/>
<area shape="rect" id="node47" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="424,1066,527,1092"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="209,1386,333,1412"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="422,315,529,342"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1016,492,1101,519"/>
<area shape="rect" id="node14" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1023,888,1095,915"/>
<area shape="rect" id="node15" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="413,762,538,788"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="822,812,949,839"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="413,631,537,658"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="820,863,951,890"/>
<area shape="rect" id="node5" href="find_8c.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="605,239,755,266"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1018,112,1099,139"/>
<area shape="rect" id="node7" href="ubifs_2gc_8c.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="606,290,754,316"/>
<area shape="rect" id="node8" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="828,340,943,367"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="803,87,968,114"/>
<area shape="rect" id="node12" href="ubifs_2log_8c.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="606,340,754,367"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3" title="ubifs_wbuf_seek_nolock" alt="" coords="803,188,968,215"/>
<area shape="rect" id="node16" href="ubifs_2commit_8c.html#a8066477fd4d182a562575fec9c1460f9" title="wait_for_commit" alt="" coords="621,762,739,788"/>
<area shape="rect" id="node17" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="637,711,723,738"/>
<area shape="rect" id="node20" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="816,631,955,658"/>
<area shape="rect" id="node21" href="budget_8c.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="607,594,753,636"/>
<area shape="rect" id="node24" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="412,112,539,139"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="398,163,553,190"/>
<area shape="rect" id="node26" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="404,214,547,240"/>
<area shape="rect" id="node28" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="803,36,968,63"/>
<area shape="rect" id="node32" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="415,1218,535,1244"/>
<area shape="rect" id="node33" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="409,1268,541,1295"/>
<area shape="rect" id="node34" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="397,1319,553,1346"/>
<area shape="rect" id="node35" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="400,1116,551,1143"/>
<area shape="rect" id="node38" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="419,1370,531,1396"/>
<area shape="rect" id="node39" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="417,1420,533,1447"/>
<area shape="rect" id="node40" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="393,1015,557,1042"/>
<area shape="rect" id="node44" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="438,1167,513,1194"/>
<area shape="rect" id="node36" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="613,1218,747,1244"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="625,1116,735,1143"/>
<area shape="rect" id="node41" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="646,1015,714,1042"/>
<area shape="rect" id="node43" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="815,964,956,991"/>
<area shape="rect" id="node48" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="641,1066,719,1092"/>
<area shape="rect" id="node49" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="641,1167,719,1194"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8c1bde924b99b7852408656e18230d99_icgraph.png" border="0" usemap="#ubifs_8h_a8c1bde924b99b7852408656e18230d99_icgraph" alt=""/></div>
<map name="ubifs_8h_a8c1bde924b99b7852408656e18230d99_icgraph" id="ubifs_8h_a8c1bde924b99b7852408656e18230d99_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="210,5,333,32"/>
<area shape="rect" id="node3" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="196,56,347,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="395,56,517,83"/>
</map>
</div>

</div>
</div>
<a id="a295cfad6549230751ca3d670fd12fc12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a295cfad6549230751ca3d670fd12fc12">&#9670;&nbsp;</a></span>ubifs_jnl_xrename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_jnl_xrename </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>fst_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>fst_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>fst_nm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>snd_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>snd_inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>snd_nm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sync</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_jnl_xrename - cross rename two directory entries. <code></code>: UBIFS file-system description object : parent inode of 1st directory entry to exchange : 1st inode to exchange : name of 1st inode to exchange : parent inode of 2nd directory entry to exchange : 2nd inode to exchange : name of 2nd inode to exchange : non-zero if the write-buffer has to be synchronized</p>
<p>This function implements the cross rename operation which may involve writing 2 inodes and 2 directory entries. It marks the written inodes as clean and returns zero on success. In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a295cfad6549230751ca3d670fd12fc12_cgraph.png" border="0" usemap="#ubifs_8h_a295cfad6549230751ca3d670fd12fc12_cgraph" alt=""/></div>
<map name="ubifs_8h_a295cfad6549230751ca3d670fd12fc12_cgraph" id="ubifs_8h_a295cfad6549230751ca3d670fd12fc12_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="424,5,512,32"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="199,740,324,767"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="836,208,943,235"/>
<area shape="rect" id="node19" href="key_8h.html#a4c61e89b4c6084d47cabe5df52f288e4" title="dent_key_init_flash" alt="" coords="194,1247,329,1273"/>
<area shape="rect" id="node21" href="ubifs_2journal_8c.html#a1d4a541700f9d4bf038cadbf4e097454" title="get_dent_type" alt="" coords="209,1348,313,1375"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a9a7b991169dcd5003fd4ccd4dbe0a199" title="set_dent_cookie" alt="" coords="203,1399,320,1425"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#ae4ece295a2679c7b5d2b9ddf9b553dd4" title="zero_dent_node_unused" alt="" coords="180,1449,343,1476"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="397,208,539,235"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="217,107,305,133"/>
<area shape="rect" id="node29" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="425,917,511,944"/>
<area shape="rect" id="node31" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="193,1501,330,1542"/>
<area shape="rect" id="node32" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="212,1567,311,1593"/>
<area shape="rect" id="node33" href="key_8h.html#a790e865fe08d05015cea5a1651759af3" title="dent_key_init" alt="" coords="212,1297,311,1324"/>
<area shape="rect" id="node34" href="tnc_8c.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="197,1196,325,1223"/>
<area shape="rect" id="node46" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="216,1617,307,1644"/>
<area shape="rect" id="node47" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="210,1120,313,1147"/>
<area shape="rect" id="node48" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="199,1668,323,1695"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="198,1719,325,1745"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="415,487,521,513"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1029,208,1114,235"/>
<area shape="rect" id="node14" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="853,828,925,855"/>
<area shape="rect" id="node15" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="405,664,531,691"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="827,715,951,741"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="611,816,741,843"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="613,867,739,893"/>
<area shape="rect" id="node5" href="find_8c.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="601,360,751,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1031,689,1112,716"/>
<area shape="rect" id="node7" href="ubifs_2gc_8c.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="602,411,750,437"/>
<area shape="rect" id="node8" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="832,392,947,419"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="807,588,972,615"/>
<area shape="rect" id="node12" href="ubifs_2log_8c.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="602,512,750,539"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a4bf09b0b677c1ca6d0b034d91281d2f3" title="ubifs_wbuf_seek_nolock" alt="" coords="807,480,972,507"/>
<area shape="rect" id="node20" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="443,1627,493,1653"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="629,208,723,235"/>
<area shape="rect" id="node27" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="405,56,531,83"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#aac219494a71f5ce5fa3f2c70f53660ef" title="zero_ino_node_unused" alt="" coords="391,107,545,133"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="593,917,759,944"/>
<area shape="rect" id="node35" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="609,1373,743,1400"/>
<area shape="rect" id="node36" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1020,1373,1123,1400"/>
<area shape="rect" id="node37" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="816,1424,963,1451"/>
<area shape="rect" id="node38" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="595,1576,757,1603"/>
<area shape="rect" id="node39" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="617,1627,735,1653"/>
<area shape="rect" id="node40" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="434,1171,502,1197"/>
<area shape="rect" id="node41" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="417,1221,519,1248"/>
<area shape="rect" id="node42" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="429,1069,507,1096"/>
<area shape="rect" id="node43" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="429,1120,507,1147"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="621,1272,731,1299"/>
<area shape="rect" id="node45" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="393,1475,543,1501"/>
<area shape="rect" id="node50" href="budget_8c.html#a42a33c943c4f8862342d84cc1b152182" title="ubifs_release_dirty\l_inode_budget" alt="" coords="403,1711,533,1753"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a295cfad6549230751ca3d670fd12fc12_icgraph.png" border="0" usemap="#ubifs_8h_a295cfad6549230751ca3d670fd12fc12_icgraph" alt=""/></div>
<map name="ubifs_8h_a295cfad6549230751ca3d670fd12fc12_icgraph" id="ubifs_8h_a295cfad6549230751ca3d670fd12fc12_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="180,5,287,32"/>
<area shape="rect" id="node3" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="335,5,435,32"/>
</map>
</div>

</div>
</div>
<a id="ac70865809ab5c33c55274560e453f535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70865809ab5c33c55274560e453f535">&#9670;&nbsp;</a></span>ubifs_leb_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_change </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac70865809ab5c33c55274560e453f535_cgraph.png" border="0" usemap="#ubifs_8h_ac70865809ab5c33c55274560e453f535_cgraph" alt=""/></div>
<map name="ubifs_8h_ac70865809ab5c33c55274560e453f535_cgraph" id="ubifs_8h_ac70865809ab5c33c55274560e453f535_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="557,5,675,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="176,56,292,83"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="972,1703,1044,1729"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="181,107,287,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="348,1120,475,1147"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="340,56,483,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="546,360,686,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="544,411,688,437"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="575,461,657,488"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="573,512,659,539"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="575,563,657,589"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="549,613,683,640"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="555,664,677,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="553,715,679,741"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="554,765,678,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="536,816,696,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="552,867,680,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="554,917,678,944"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="554,968,678,995"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="771,1140,902,1167"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="547,1069,685,1096"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="780,1311,893,1337"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="556,1171,676,1197"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="551,1221,681,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="554,1272,678,1299"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="551,1323,681,1349"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="559,1373,673,1400"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="553,1424,679,1451"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="545,1475,687,1501"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="779,1551,894,1577"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="542,1576,690,1603"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="759,1627,914,1653"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="773,1677,900,1704"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="531,1728,701,1755"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="763,1728,910,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="778,1779,895,1805"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="559,1880,673,1907"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="763,1880,911,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="762,1932,911,1959"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="780,1985,893,2012"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="749,2043,924,2069"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="783,2105,890,2132"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="781,2181,892,2208"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="767,131,907,157"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="761,205,913,232"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="777,304,897,331"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="759,451,914,477"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#aef8aeeebc06bad29c72d11b616907f36" title="dbg_check_data_nodes\l_order" alt="" coords="757,693,916,734"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="573,56,659,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac70865809ab5c33c55274560e453f535_icgraph.png" border="0" usemap="#ubifs_8h_ac70865809ab5c33c55274560e453f535_icgraph" alt=""/></div>
<map name="ubifs_8h_ac70865809ab5c33c55274560e453f535_icgraph" id="ubifs_8h_ac70865809ab5c33c55274560e453f535_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="182,113,321,140"/>
<area shape="rect" id="node6" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="385,333,535,360"/>
<area shape="rect" id="node22" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="195,220,307,247"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="201,588,301,615"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="176,435,327,461"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="190,384,313,411"/>
<area shape="rect" id="node36" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="212,699,291,725"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="387,789,533,816"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="182,485,321,512"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="181,536,322,563"/>
<area shape="rect" id="node45" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="214,645,289,672"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="185,837,318,864"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="401,56,519,83"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="624,5,748,32"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="847,5,965,32"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="595,333,777,360"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="593,384,779,411"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="841,435,971,461"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="843,333,969,360"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1053,536,1147,563"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1215,536,1324,563"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1372,536,1465,563"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1033,409,1167,436"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1053,460,1147,487"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1059,207,1141,233"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1055,257,1145,284"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1052,308,1148,335"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1049,359,1151,385"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="843,637,969,664"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1039,637,1161,664"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="398,157,522,184"/>
<area shape="rect" id="node24" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="641,208,731,235"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="612,107,760,133"/>
<area shape="rect" id="node28" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="643,56,729,83"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="833,384,979,411"/>
<area shape="rect" id="node27" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="853,107,959,133"/>
<area shape="rect" id="node29" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="860,56,952,83"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="605,587,767,613"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="627,485,745,512"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="621,435,751,461"/>
<area shape="rect" id="node39" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="375,485,545,512"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="610,536,762,563"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="608,688,764,715"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="379,283,541,309"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="645,283,727,309"/>
<area shape="rect" id="node46" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="399,739,521,765"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="405,840,515,867"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="633,840,739,867"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="827,840,985,867"/>
</map>
</div>

</div>
</div>
<a id="a8d3619a60498527530b0ed01ba5c6a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3619a60498527530b0ed01ba5c6a82">&#9670;&nbsp;</a></span>ubifs_leb_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_map </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_cgraph.png" border="0" usemap="#ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_cgraph" alt=""/></div>
<map name="ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_cgraph" id="ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="531,5,650,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="164,56,263,83"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="947,1703,1019,1729"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="160,107,267,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="323,1120,449,1147"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="315,56,457,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="521,360,661,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="519,411,663,437"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="549,461,632,488"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="547,512,634,539"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="550,563,631,589"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="523,613,658,640"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="530,664,651,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="527,715,654,741"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="529,765,653,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="511,816,671,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="527,867,655,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="529,917,653,944"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="529,968,653,995"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="746,1140,877,1167"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="521,1069,660,1096"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="755,1311,868,1337"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="531,1171,651,1197"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="525,1221,656,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="529,1272,653,1299"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="525,1323,656,1349"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="533,1373,648,1400"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="527,1424,654,1451"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="520,1475,661,1501"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="754,1551,869,1577"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="517,1576,665,1603"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="734,1627,889,1653"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="748,1677,875,1704"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="505,1728,676,1755"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="738,1728,885,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="753,1779,870,1805"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="534,1880,647,1907"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="737,1880,885,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="737,1932,886,1959"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="755,1985,868,2012"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="724,2043,899,2069"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="758,2105,865,2132"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="756,2181,867,2208"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="741,131,881,157"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="735,205,887,232"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="751,304,871,331"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="734,451,889,477"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#aef8aeeebc06bad29c72d11b616907f36" title="dbg_check_data_nodes\l_order" alt="" coords="732,693,891,734"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="548,56,633,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_icgraph.png" border="0" usemap="#ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_icgraph" alt=""/></div>
<map name="ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_icgraph" id="ubifs_8h_a8d3619a60498527530b0ed01ba5c6a82_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="160,385,308,412"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="356,411,472,437"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1080,360,1187,387"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="520,411,616,437"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="664,411,836,437"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="884,411,1032,437"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1235,765,1392,792"/>
<area shape="rect" id="node43" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1103,411,1164,437"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1251,309,1376,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1458,537,1574,564"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1447,19,1585,45"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1445,157,1587,184"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1453,791,1579,817"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1456,360,1576,387"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1454,81,1578,108"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1443,309,1589,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1440,233,1592,260"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1670,259,1761,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1669,613,1762,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1674,765,1757,792"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1677,461,1754,488"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1670,512,1761,539"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1672,411,1759,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1671,715,1760,741"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1667,563,1763,589"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1664,664,1767,691"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1846,259,1954,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2023,309,2157,336"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2219,284,2292,311"/>
<area shape="rect" id="node14" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="2009,208,2171,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1852,765,1948,792"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1857,715,1943,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2040,791,2140,817"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1666,5,1765,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1843,5,1957,32"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1850,56,1950,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2043,56,2137,83"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1654,107,1777,133"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1640,157,1791,184"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1839,157,1961,184"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1847,867,1953,893"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1851,309,1949,336"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1667,208,1764,235"/>
<area shape="rect" id="node44" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1251,411,1376,437"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1469,867,1563,893"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1453,968,1579,995"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1453,715,1579,741"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1661,917,1770,944"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1654,968,1777,995"/>
</map>
</div>

</div>
</div>
<a id="ab6a2a3c4a79d6d4c52350540437d3cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a2a3c4a79d6d4c52350540437d3cb3">&#9670;&nbsp;</a></span>ubifs_leb_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_read </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>even_ebadmsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph.png" border="0" usemap="#ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph" alt=""/></div>
<map name="ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph" id="ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="160,5,232,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph.png" border="0" usemap="#ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph" alt=""/></div>
<map name="ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph" id="ubifs_8h_ab6a2a3c4a79d6d4c52350540437d3cb3_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="374,5,526,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="177,157,294,184"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="174,309,297,336"/>
<area shape="rect" id="node11" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="179,461,291,488"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="397,360,503,387"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="185,563,285,589"/>
<area shape="rect" id="node18" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="160,613,311,640"/>
<area shape="rect" id="node20" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="174,664,297,691"/>
<area shape="rect" id="node22" href="ubifs_8h.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="176,411,295,437"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="173,968,297,995"/>
<area shape="rect" id="node27" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="803,735,889,761"/>
<area shape="rect" id="node35" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="191,841,280,868"/>
<area shape="rect" id="node37" href="lpt_8c.html#a3174779440616f0c85a44f40480d5977" title="read_ltab" alt="" coords="198,1196,273,1223"/>
<area shape="rect" id="node39" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="177,1145,294,1172"/>
<area shape="rect" id="node40" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="177,1095,294,1121"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="189,1247,281,1273"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a8b82199b156a23a65fe4de99f2f82e4f" title="dbg_check_ltab_lnum" alt="" coords="589,1113,737,1140"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#aa1394a949f93b726911b9906f58b5ac3" title="dump_lpt_leb" alt="" coords="186,1297,285,1324"/>
<area shape="rect" id="node46" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4" title="is_last_bud" alt="" coords="406,512,494,539"/>
<area shape="rect" id="node47" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="626,781,701,808"/>
<area shape="rect" id="node48" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="183,1348,287,1375"/>
<area shape="rect" id="node49" href="tnc_8c.html#a053bcfb703360c8d2a4f2474ee8569a1" title="read_wbuf" alt="" coords="194,1399,277,1425"/>
<area shape="rect" id="node50" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="381,1424,519,1451"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="592,145,735,172"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="365,208,535,235"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="590,221,737,248"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="381,56,519,83"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="405,107,495,133"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="359,309,541,336"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="388,461,512,488"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="589,411,737,437"/>
<area shape="rect" id="node14" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="621,461,706,488"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="369,563,531,589"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="391,613,509,640"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="385,664,515,691"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="407,411,493,437"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="391,968,509,995"/>
<area shape="rect" id="node26" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="605,899,721,925"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="589,848,737,875"/>
<area shape="rect" id="node31" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="612,975,715,1001"/>
<area shape="rect" id="node33" href="lpt__commit_8c.html#a1108bc5520b20e0cde6b2cad0ba79170" title="nnode_lookup" alt="" coords="612,1037,715,1064"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="375,1171,525,1197"/>
<area shape="rect" id="node29" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="785,823,907,849"/>
<area shape="rect" id="node28" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="955,735,1036,761"/>
<area shape="rect" id="node32" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="789,1037,903,1064"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="391,867,509,893"/>
<area shape="rect" id="node38" href="lpt_8c.html#a5d1707707cf770fb7479177b7fe2fbc5" title="lpt_init_rd" alt="" coords="411,1221,489,1248"/>
<area shape="rect" id="node42" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="421,1272,479,1299"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="379,1323,521,1349"/>
</map>
</div>

</div>
</div>
<a id="ad9d3a62a61d21e1faa60cd6e630c41ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d3a62a61d21e1faa60cd6e630c41ac">&#9670;&nbsp;</a></span>ubifs_leb_unmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_unmap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph.png" border="0" usemap="#ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph" alt=""/></div>
<map name="ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph" id="ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="551,5,670,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="173,56,287,83"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="967,1703,1039,1729"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="177,107,283,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="343,1120,469,1147"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="335,56,477,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="541,360,681,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="539,411,683,437"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="569,461,652,488"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="567,512,654,539"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="570,563,651,589"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="543,613,678,640"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="550,664,671,691"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="547,715,674,741"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="549,765,673,792"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="531,816,691,843"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="547,867,675,893"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="549,917,673,944"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="549,968,673,995"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="766,1140,897,1167"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="541,1069,680,1096"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="775,1311,888,1337"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="551,1171,671,1197"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="545,1221,676,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="549,1272,673,1299"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="545,1323,676,1349"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="553,1373,668,1400"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="547,1424,674,1451"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="540,1475,681,1501"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="774,1551,889,1577"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="537,1576,685,1603"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="754,1627,909,1653"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="768,1677,895,1704"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="525,1728,696,1755"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="758,1728,905,1755"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="773,1779,890,1805"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="554,1880,667,1907"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="757,1880,905,1907"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="757,1932,906,1959"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="775,1985,888,2012"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="744,2043,919,2069"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="778,2105,885,2132"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="776,2181,887,2208"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="761,131,901,157"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="755,205,907,232"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="771,304,891,331"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="754,451,909,477"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#aef8aeeebc06bad29c72d11b616907f36" title="dbg_check_data_nodes\l_order" alt="" coords="752,693,911,734"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="568,56,653,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph.png" border="0" usemap="#ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph" alt=""/></div>
<map name="ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph" id="ubifs_8h_ad9d3a62a61d21e1faa60cd6e630c41ac_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1206,563,1299,589"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1190,664,1315,691"/>
<area shape="rect" id="node7" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="178,968,317,995"/>
<area shape="rect" id="node9" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="558,1019,682,1045"/>
<area shape="rect" id="node13" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="763,715,902,741"/>
<area shape="rect" id="node15" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="373,259,489,285"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="747,284,919,311"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="980,157,1128,184"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="975,411,1133,437"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="543,1171,697,1197"/>
<area shape="rect" id="node24" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="545,1297,695,1324"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="191,208,303,235"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="197,563,297,589"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="757,613,908,640"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="173,157,321,184"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="541,943,699,969"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="542,1069,698,1096"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="981,664,1127,691"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="758,56,907,83"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="182,497,313,538"/>
<area shape="rect" id="node39" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="207,664,288,691"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="382,1120,481,1147"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="203,867,292,893"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="767,1221,899,1248"/>
<area shape="rect" id="node49" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="210,1323,285,1349"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1371,563,1480,589"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1535,563,1628,589"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1364,968,1487,995"/>
<area shape="rect" id="node8" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="373,968,490,995"/>
<area shape="rect" id="node10" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="773,1019,892,1045"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="967,1019,1141,1045"/>
<area shape="rect" id="node12" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1209,1095,1296,1121"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="981,563,1127,589"/>
<area shape="rect" id="node16" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="572,259,668,285"/>
<area shape="rect" id="node19" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1199,107,1306,133"/>
<area shape="rect" id="node20" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1222,157,1283,184"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1189,436,1316,463"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="369,208,493,235"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ab0121bf0d3497aba350c96bbd431bea2" title="ubifs_recover_inl_heads" alt="" coords="973,461,1135,488"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="995,512,1113,539"/>
<area shape="rect" id="node37" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="374,461,489,488"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="379,512,483,539"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a765344f4763e8492c9902f7af4c6488e" title="ubifs_lpt_init" alt="" coords="1007,613,1101,640"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="545,1120,695,1147"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a0ca6bd7c2db50191b30308925d584e16" title="ubifs_lpt_post_commit" alt="" coords="543,867,697,893"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="1191,1272,1314,1299"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="997,1272,1111,1299"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="978,1221,1130,1248"/>
<area shape="rect" id="node50" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="371,1323,492,1349"/>
</map>
</div>

</div>
</div>
<a id="a02909cfc9d3a0100f549390c7d464632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02909cfc9d3a0100f549390c7d464632">&#9670;&nbsp;</a></span>ubifs_leb_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_leb_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a02909cfc9d3a0100f549390c7d464632_cgraph.png" border="0" usemap="#ubifs_8h_a02909cfc9d3a0100f549390c7d464632_cgraph" alt=""/></div>
<map name="ubifs_8h_a02909cfc9d3a0100f549390c7d464632_cgraph" id="ubifs_8h_a02909cfc9d3a0100f549390c7d464632_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="534,5,653,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="165,132,267,159"/>
<area shape="rect" id="node19" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="949,1639,1021,1665"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="163,56,269,83"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="325,1107,452,1133"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="317,81,460,108"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="551,68,636,95"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="341,183,436,209"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="523,524,663,551"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="521,575,665,601"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="552,625,635,652"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="550,676,637,703"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="553,727,634,753"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="526,777,661,804"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="533,828,654,855"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="530,879,657,905"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="531,929,655,956"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="513,980,673,1007"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="529,1031,657,1057"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="531,1081,655,1108"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="531,1132,655,1159"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="749,1183,879,1209"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="524,2095,663,2121"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="757,1233,871,1260"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="533,2145,653,2172"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="528,119,659,145"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="531,169,655,196"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="528,220,659,247"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="536,271,651,297"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="530,321,657,348"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="523,372,664,399"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="757,1284,871,1311"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="519,423,667,449"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="737,1335,891,1361"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="751,1385,877,1412"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="508,473,679,500"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="741,1436,887,1463"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="755,1487,873,1513"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="537,1537,650,1564"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="740,1588,888,1615"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="739,1639,889,1665"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="757,1689,871,1716"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="727,1740,901,1767"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="761,1791,867,1817"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="759,1841,869,1868"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="744,1892,884,1919"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="738,1943,890,1969"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="754,1993,874,2020"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="737,2044,891,2071"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a02909cfc9d3a0100f549390c7d464632_icgraph.png" border="0" usemap="#ubifs_8h_a02909cfc9d3a0100f549390c7d464632_icgraph" alt=""/></div>
<map name="ubifs_8h_a02909cfc9d3a0100f549390c7d464632_icgraph" id="ubifs_8h_a02909cfc9d3a0100f549390c7d464632_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="163,397,328,424"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="379,43,544,69"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="185,1005,305,1032"/>
<area shape="rect" id="node46" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="167,1132,324,1159"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="196,1183,295,1209"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="201,1081,289,1108"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="795,727,943,753"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="387,230,535,271"/>
<area shape="rect" id="node9" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="613,347,729,373"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="991,347,1163,373"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1215,296,1363,323"/>
<area shape="rect" id="node13" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1426,245,1533,272"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1211,657,1368,684"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1611,296,1696,323"/>
<area shape="rect" id="node27" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="401,701,521,728"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1232,828,1347,855"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1433,879,1526,905"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1417,777,1542,804"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="626,245,715,272"/>
<area shape="rect" id="node10" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="821,347,917,373"/>
<area shape="rect" id="node23" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1449,296,1510,323"/>
<area shape="rect" id="node14" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1591,245,1716,272"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1782,423,1898,449"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1771,43,1909,69"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1769,119,1911,145"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1777,169,1903,196"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1780,220,1900,247"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1778,271,1902,297"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1767,321,1913,348"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1764,372,1916,399"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1416,657,1543,684"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="619,651,722,677"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="609,853,732,880"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="613,803,728,829"/>
<area shape="rect" id="node31" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="812,549,925,576"/>
<area shape="rect" id="node32" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="825,955,912,981"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="607,701,734,728"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1021,941,1132,968"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="626,144,715,171"/>
<area shape="rect" id="node37" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1611,17,1696,44"/>
<area shape="rect" id="node39" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="392,1005,531,1032"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="387,397,535,424"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="395,929,527,956"/>
<area shape="rect" id="node44" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="376,1056,547,1083"/>
<area shape="rect" id="node40" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="612,1056,729,1083"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="595,955,747,981"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1001,1157,1153,1184"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="387,1208,536,1235"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="385,1107,538,1133"/>
</map>
</div>

</div>
</div>
<a id="a1fdadc0cabfab2afa9923087ac3ed6fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fdadc0cabfab2afa9923087ac3ed6fa">&#9670;&nbsp;</a></span>ubifs_listxattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t ubifs_listxattr </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1fdadc0cabfab2afa9923087ac3ed6fa_cgraph.png" border="0" usemap="#ubifs_8h_a1fdadc0cabfab2afa9923087ac3ed6fa_cgraph" alt=""/></div>
<map name="ubifs_8h_a1fdadc0cabfab2afa9923087ac3ed6fa_cgraph" id="ubifs_8h_a1fdadc0cabfab2afa9923087ac3ed6fa_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="175,5,263,32"/>
<area shape="rect" id="node3" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="159,56,279,83"/>
<area shape="rect" id="node4" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="153,385,285,412"/>
<area shape="rect" id="node13" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1735,639,1807,665"/>
<area shape="rect" id="node20" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1905,1525,1979,1552"/>
<area shape="rect" id="node48" href="ubifs_2xattr_8c.html#ac4e2d5a1045e5aefc6ed5ba9420ab8d0" title="xattr_visible" alt="" coords="173,1728,265,1755"/>
<area shape="rect" id="node5" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2063,385,2138,412"/>
<area shape="rect" id="node6" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1370,367,1465,393"/>
<area shape="rect" id="node7" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="347,1221,483,1248"/>
<area shape="rect" id="node22" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2061,221,2140,248"/>
<area shape="rect" id="node31" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="333,1525,496,1552"/>
<area shape="rect" id="node38" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="583,1576,655,1603"/>
<area shape="rect" id="node39" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="355,1424,474,1451"/>
<area shape="rect" id="node46" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="741,563,897,589"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="961,1272,1084,1299"/>
<area shape="rect" id="node27" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1376,1627,1459,1653"/>
<area shape="rect" id="node28" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="544,1323,693,1349"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="583,1424,655,1451"/>
<area shape="rect" id="node9" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1179,1272,1269,1299"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1359,968,1476,995"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1709,1196,1833,1223"/>
<area shape="rect" id="node26" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1882,1348,2002,1375"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2059,917,2142,944"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1545,715,1651,741"/>
<area shape="rect" id="node14" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1535,917,1661,944"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1905,1145,1979,1172"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1891,1095,1993,1121"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1895,1044,1989,1071"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1881,1196,2003,1223"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2059,1120,2142,1147"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2051,1171,2151,1197"/>
<area shape="rect" id="node24" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2061,1221,2140,1248"/>
<area shape="rect" id="node25" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2060,1272,2141,1299"/>
<area shape="rect" id="node30" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="778,1525,861,1552"/>
<area shape="rect" id="node32" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="945,1373,1100,1400"/>
<area shape="rect" id="node33" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1161,1373,1287,1400"/>
<area shape="rect" id="node35" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1166,1221,1282,1248"/>
<area shape="rect" id="node34" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1365,715,1469,741"/>
<area shape="rect" id="node36" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1348,563,1487,589"/>
<area shape="rect" id="node37" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1543,563,1653,589"/>
<area shape="rect" id="node40" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="764,1171,875,1197"/>
<area shape="rect" id="node41" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="951,853,1094,880"/>
<area shape="rect" id="node42" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1169,777,1279,804"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1148,879,1300,905"/>
<area shape="rect" id="node45" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1189,828,1259,855"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1377,816,1458,843"/>
<area shape="rect" id="node47" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1191,563,1257,589"/>
</map>
</div>

</div>
</div>
<a id="a59f2b6d42e83b9a23712bb251112eb1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f2b6d42e83b9a23712bb251112eb1b">&#9670;&nbsp;</a></span>ubifs_load_znode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* ubifs_load_znode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_load_znode - load znode to TNC cache. <code></code>: UBIFS file-system description object : znode branch : znode's parent : index in parent</p>
<p>This function loads znode pointed to by  into the TNC cache and returns pointer to it in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_cgraph.png" border="0" usemap="#ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_cgraph" alt=""/></div>
<map name="ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_cgraph" id="ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_cgraph">
<area shape="rect" id="node2" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="176,341,265,368"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="313,113,431,140"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="679,113,751,140"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="653,164,777,190"/>
<area shape="rect" id="node13" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="849,265,923,292"/>
<area shape="rect" id="node15" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1007,366,1082,393"/>
<area shape="rect" id="node20" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="826,316,946,342"/>
<area shape="rect" id="node21" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="331,468,413,494"/>
<area shape="rect" id="node22" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="495,506,589,533"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1003,12,1086,38"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="489,62,595,89"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="479,113,605,140"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="849,62,923,89"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="835,113,937,140"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="839,164,933,190"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="825,214,947,241"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1003,62,1086,89"/>
<area shape="rect" id="node16" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1005,138,1084,165"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="995,189,1095,216"/>
<area shape="rect" id="node18" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1005,240,1084,266"/>
<area shape="rect" id="node19" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1004,290,1085,317"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_icgraph.png" border="0" usemap="#ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_icgraph" alt=""/></div>
<map name="ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_icgraph" id="ubifs_8h_a59f2b6d42e83b9a23712bb251112eb1b_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="881,132,995,159"/>
<area shape="rect" id="node14" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="176,867,259,893"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="459,461,595,488"/>
<area shape="rect" id="node42" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="461,968,594,995"/>
<area shape="rect" id="node47" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="476,1044,579,1071"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1066,107,1193,133"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1277,157,1404,184"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="1059,157,1199,184"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="1053,259,1205,285"/>
<area shape="rect" id="node12" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="1060,5,1199,32"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1483,81,1585,108"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1476,132,1592,159"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1477,183,1591,209"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1485,233,1583,260"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1294,233,1387,260"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="1253,5,1428,32"/>
<area shape="rect" id="node15" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="315,639,387,665"/>
<area shape="rect" id="node34" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="315,765,387,792"/>
<area shape="rect" id="node45" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="486,867,569,893"/>
<area shape="rect" id="node46" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="310,1019,393,1045"/>
<area shape="rect" id="node50" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="307,917,396,944"/>
<area shape="rect" id="node16" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="468,765,587,792"/>
<area shape="rect" id="node21" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="675,664,807,691"/>
<area shape="rect" id="node22" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="446,816,609,843"/>
<area shape="rect" id="node23" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="444,917,611,944"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="663,411,819,437"/>
<area shape="rect" id="node27" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="464,664,591,691"/>
<area shape="rect" id="node31" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="659,613,823,640"/>
<area shape="rect" id="node32" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="672,512,809,539"/>
<area shape="rect" id="node33" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="663,208,818,235"/>
<area shape="rect" id="node17" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="687,563,794,589"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="874,841,1002,868"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="665,867,816,893"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1057,563,1202,589"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="679,968,803,995"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="871,461,1005,488"/>
<area shape="rect" id="node28" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="689,461,792,488"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="667,715,814,741"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1059,461,1200,488"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="684,309,797,336"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="887,259,989,285"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="682,360,799,387"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="895,309,981,336"/>
<area shape="rect" id="node40" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="877,360,999,387"/>
<area shape="rect" id="node41" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="878,411,998,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="689,1069,792,1096"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="678,917,803,944"/>
<area shape="rect" id="node48" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="674,1120,807,1147"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="670,1171,811,1197"/>
</map>
</div>

</div>
</div>
<a id="a9cc055011c36deb7c78dc10c2c5d24f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc055011c36deb7c78dc10c2c5d24f7">&#9670;&nbsp;</a></span>ubifs_log_end_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_log_end_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ltail_lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_log_end_commit - end commit. <code></code>: UBIFS file-system description object : new log tail LEB number</p>
<p>This function is called on when the commit operation was finished. It moves log tail to new position and updates the master node so that it stores the new log tail LEB number. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_cgraph.png" border="0" usemap="#ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_cgraph" alt=""/></div>
<map name="ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_cgraph" id="ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa" title="dbg_check_bud_bytes" alt="" coords="205,56,357,83"/>
<area shape="rect" id="node5" href="master_8c.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="215,1145,347,1172"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="407,5,523,32"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1345,563,1417,589"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="581,1145,701,1172"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="405,1500,525,1527"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1129,1424,1247,1451"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="756,1120,869,1147"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="935,1424,1042,1451"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="925,841,1052,868"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="917,1247,1060,1273"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1118,816,1258,843"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1116,867,1260,893"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1147,917,1229,944"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1145,968,1231,995"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1147,1019,1229,1045"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1121,1069,1255,1096"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1127,1120,1249,1147"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1318,1373,1445,1400"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1319,1272,1443,1299"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="1108,1171,1268,1197"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1124,1221,1252,1248"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1126,1272,1250,1299"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1126,259,1250,285"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1123,563,1253,589"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1119,309,1257,336"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1131,664,1245,691"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1128,765,1248,792"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1316,360,1447,387"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1126,360,1250,387"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1123,411,1253,437"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1131,461,1245,488"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1125,512,1251,539"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1117,715,1259,741"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1131,613,1245,640"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1518,1373,1593,1400"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1518,1323,1593,1349"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1504,1272,1607,1299"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1508,1171,1603,1197"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1495,1120,1616,1147"/>
<area shape="rect" id="node25" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1495,1221,1615,1248"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1664,1475,1747,1501"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1319,1221,1443,1248"/>
<area shape="rect" id="node43" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1145,1475,1231,1501"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="573,1500,708,1527"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="586,1323,695,1349"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="766,1475,859,1501"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="773,1525,852,1552"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="761,1221,864,1248"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_icgraph.png" border="0" usemap="#ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_icgraph" alt=""/></div>
<map name="ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_icgraph" id="ubifs_8h_a9cc055011c36deb7c78dc10c2c5d24f7_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="205,247,292,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="347,184,458,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="340,272,465,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="708,145,823,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="921,120,1015,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="905,171,1031,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1117,5,1227,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1335,5,1428,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1111,56,1233,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="525,196,627,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="519,297,633,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="687,233,844,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="703,1171,828,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="513,399,639,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="905,233,1031,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1315,436,1448,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1125,208,1219,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1131,157,1213,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1127,259,1217,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1124,309,1220,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1121,360,1223,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1338,816,1425,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="910,385,1026,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="899,1412,1037,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="897,1272,1039,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="905,1348,1031,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="908,1171,1028,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="906,1221,1030,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="895,968,1041,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="892,1120,1044,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1127,411,1217,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1133,461,1211,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1127,512,1217,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1129,563,1215,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1123,1424,1221,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1331,1221,1431,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1111,1323,1233,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1097,1272,1247,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1119,1373,1225,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1123,867,1221,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1123,1120,1221,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="899,613,1037,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1111,664,1233,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1115,715,1229,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1132,765,1212,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1092,968,1252,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1326,917,1437,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1300,993,1463,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1138,613,1206,640"/>
</map>
</div>

</div>
</div>
<a id="a84e11c018b891280acfdb1e3071d5e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e11c018b891280acfdb1e3071d5e18">&#9670;&nbsp;</a></span>ubifs_log_post_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_log_post_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_ltail_lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_log_post_commit - things to do after commit is completed. <code></code>: UBIFS file-system description object : old log tail LEB number</p>
<p>Release buds only after commit is completed, because they must be unchanged if recovery is needed.</p>
<p>Unmap log LEBs only after commit is completed, because they may be needed for recovery.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_cgraph.png" border="0" usemap="#ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_cgraph" alt=""/></div>
<map name="ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_cgraph" id="ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="223,1513,337,1540"/>
<area shape="rect" id="node17" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="209,1437,351,1464"/>
<area shape="rect" id="node18" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="601,1368,721,1395"/>
<area shape="rect" id="node3" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="399,1564,543,1591"/>
<area shape="rect" id="node4" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="603,1621,720,1648"/>
<area shape="rect" id="node5" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="780,1621,928,1648"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1395,1216,1467,1243"/>
<area shape="rect" id="node12" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="603,1672,719,1699"/>
<area shape="rect" id="node16" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="591,1571,732,1597"/>
<area shape="rect" id="node6" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1185,1520,1309,1547"/>
<area shape="rect" id="node8" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="987,1723,1107,1749"/>
<area shape="rect" id="node9" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="989,1571,1106,1597"/>
<area shape="rect" id="node10" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="989,1621,1106,1648"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="987,1672,1107,1699"/>
<area shape="rect" id="node13" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="801,1723,907,1749"/>
<area shape="rect" id="node14" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1375,1545,1488,1572"/>
<area shape="rect" id="node15" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="793,1672,915,1699"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1187,1419,1306,1445"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="797,1317,911,1344"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="801,1368,907,1395"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="984,709,1111,736"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="976,1317,1119,1344"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1177,659,1317,685"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1175,709,1319,736"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1205,760,1288,787"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1203,811,1290,837"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1206,861,1287,888"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1179,912,1314,939"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1186,963,1307,989"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1183,1013,1310,1040"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1185,1064,1309,1091"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="1167,1115,1327,1141"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1183,1165,1311,1192"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1185,51,1309,77"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1185,1317,1309,1344"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1181,1216,1312,1243"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1177,101,1316,128"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1190,1267,1303,1293"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1187,152,1307,179"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1181,203,1312,229"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1185,304,1309,331"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1181,355,1312,381"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1189,405,1304,432"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1183,507,1310,533"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1176,557,1317,584"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1189,253,1304,280"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="1173,608,1321,635"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="1169,456,1324,483"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1204,1368,1289,1395"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_icgraph.png" border="0" usemap="#ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_icgraph" alt=""/></div>
<map name="ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_icgraph" id="ubifs_8h_a84e11c018b891280acfdb1e3071d5e18_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="209,247,296,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="351,184,462,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="344,272,469,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="712,145,827,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="925,120,1019,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="909,171,1035,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1121,5,1231,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1339,5,1432,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1115,56,1237,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="529,196,631,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="523,297,637,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="691,233,848,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="707,1171,832,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="517,399,643,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="909,233,1035,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1319,436,1452,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1129,208,1223,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1135,157,1217,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1131,259,1221,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1128,309,1224,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1125,360,1227,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1342,816,1429,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="914,385,1030,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="903,1412,1041,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="901,1272,1043,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="909,1348,1035,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="912,1171,1032,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="910,1221,1034,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="899,968,1045,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="896,1120,1048,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1131,411,1221,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1137,461,1215,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1131,512,1221,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1133,563,1219,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1127,1424,1225,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1335,1221,1435,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1115,1323,1237,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1101,1272,1251,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1123,1373,1229,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1127,867,1225,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1127,1120,1225,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="903,613,1041,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1115,664,1237,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1119,715,1233,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1136,765,1216,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1096,968,1256,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1330,917,1441,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1304,993,1467,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1142,613,1210,640"/>
</map>
</div>

</div>
</div>
<a id="aabacb52b14ebf81d602c26b57622cd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabacb52b14ebf81d602c26b57622cd7a">&#9670;&nbsp;</a></span>ubifs_log_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_log_start_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ltail_lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_log_start_commit - start commit. <code></code>: UBIFS file-system description object : return new log tail LEB number</p>
<p>The commit operation starts with writing "commit start" node to the log and reference nodes for all journal heads which will define new journal after the commit has been finished. The commit start and reference nodes are written in one go to the nearest empty log LEB (hence, when commit is finished UBIFS may safely unmap all the previous log LEBs). This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_cgraph.png" border="0" usemap="#ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_cgraph" alt=""/></div>
<map name="ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_cgraph" id="ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa" title="dbg_check_bud_bytes" alt="" coords="761,19,913,46"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="214,121,349,147"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="417,121,496,147"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="988,1869,1069,1895"/>
<area shape="rect" id="node11" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="211,349,352,375"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="221,475,341,502"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="227,298,336,325"/>
<area shape="rect" id="node50" href="ubifs_2log_8c.html#a1c5014480a8dd06adad3de568a191081" title="remove_buds" alt="" coords="407,1945,507,1971"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="971,197,1087,223"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="993,526,1065,553"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="410,70,503,97"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="579,171,686,198"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="795,222,880,249"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="778,273,897,299"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="400,475,513,502"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="569,1007,696,1034"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="561,374,704,401"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="767,729,907,755"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="765,779,909,806"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="796,830,879,857"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="794,881,881,907"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="797,931,878,958"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="770,982,905,1009"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="777,1033,898,1059"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="774,1083,901,1110"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="775,1134,899,1161"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="757,1185,917,1211"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="773,1235,901,1262"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="775,1843,899,1870"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="775,1387,899,1414"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="772,1337,903,1363"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="768,1438,907,1465"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="781,374,894,401"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="777,1489,897,1515"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="772,1539,903,1566"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="775,1590,899,1617"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="772,1641,903,1667"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="780,1691,895,1718"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="774,1742,901,1769"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="767,425,908,451"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="780,526,895,553"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="763,475,911,502"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="760,577,915,603"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="774,678,901,705"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="752,627,923,654"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="764,1286,911,1313"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="779,323,896,350"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="405,323,508,350"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="585,323,680,350"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_icgraph.png" border="0" usemap="#ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_icgraph" alt=""/></div>
<map name="ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_icgraph" id="ubifs_8h_aabacb52b14ebf81d602c26b57622cd7a_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="211,247,297,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="353,184,463,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="345,272,471,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="713,145,828,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="927,120,1020,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="911,171,1036,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1123,5,1232,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1340,5,1433,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1116,56,1239,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="530,196,633,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="524,297,639,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="692,233,849,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="708,1171,833,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="519,399,644,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="910,233,1037,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1320,436,1453,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1131,208,1224,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1136,157,1219,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1133,259,1222,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1129,309,1225,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1126,360,1229,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1343,816,1430,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="915,385,1031,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="905,1412,1042,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="902,1272,1045,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="910,1348,1037,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="913,1171,1033,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="911,1221,1035,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="901,968,1046,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="897,1120,1049,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1132,411,1223,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1139,461,1216,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1132,512,1223,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1134,563,1221,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1128,1424,1227,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1337,1221,1437,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1116,1323,1239,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1102,1272,1253,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1124,1373,1231,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1128,867,1227,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1129,1120,1226,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="904,613,1043,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1116,664,1239,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1121,715,1234,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1137,765,1217,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1097,968,1257,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1331,917,1442,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1305,993,1468,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1143,613,1211,640"/>
</map>
</div>

</div>
</div>
<a id="a2004703a60d098f1644d4f3e25338759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2004703a60d098f1644d4f3e25338759">&#9670;&nbsp;</a></span>ubifs_lookup_level0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lookup_level0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> **&#160;</td>
          <td class="paramname"><em>zn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lookup_level0 - search for zero-level znode. <code></code>: UBIFS file-system description object : key to lookup : znode is returned here <br />
: znode branch slot number is returned here</p>
<p>This function looks up the TNC tree and search for zero-level znode which refers key . The found zero-level znode is returned in . There are 3 cases: o exact match, i.e. the found zero-level znode contains key , then %1 is returned and slot number of the matched branch is stored in <br />
; o not exact match, which means that zero-level znode does not contain , then %0 is returned and slot number of the closest branch is stored in <br />
; o  is so small that it is even less than the lowest key of the leftmost zero-level node, then %0 is returned and %0 is stored in <br />
.</p>
<p>Note, when the TNC tree is traversed, some znodes may be absent, then this function reads corresponding indexing nodes and inserts them to TNC. In case of failure, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2004703a60d098f1644d4f3e25338759_cgraph.png" border="0" usemap="#ubifs_8h_a2004703a60d098f1644d4f3e25338759_cgraph" alt=""/></div>
<map name="ubifs_8h_a2004703a60d098f1644d4f3e25338759_cgraph" id="ubifs_8h_a2004703a60d098f1644d4f3e25338759_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1509,123,1583,149"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="507,220,629,247"/>
<area shape="rect" id="node22" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="832,93,915,120"/>
<area shape="rect" id="node23" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="826,43,921,69"/>
<area shape="rect" id="node24" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="309,144,459,171"/>
<area shape="rect" id="node25" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="189,195,261,221"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="677,220,767,247"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="815,397,932,424"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1181,397,1253,424"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1155,347,1279,373"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1350,549,1425,576"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1327,207,1447,233"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1505,492,1587,519"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="990,448,1097,475"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="980,397,1107,424"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1350,439,1425,465"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1336,312,1439,339"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1340,363,1435,389"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1327,260,1448,287"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1505,439,1587,465"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1507,331,1585,357"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1496,179,1596,205"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1507,229,1585,256"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1505,280,1587,307"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="343,195,425,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2004703a60d098f1644d4f3e25338759_icgraph.png" border="0" usemap="#ubifs_8h_a2004703a60d098f1644d4f3e25338759_icgraph" alt=""/></div>
<map name="ubifs_8h_a2004703a60d098f1644d4f3e25338759_icgraph" id="ubifs_8h_a2004703a60d098f1644d4f3e25338759_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="215,787,328,813"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="220,863,323,889"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="213,724,330,751"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="193,171,349,197"/>
<area shape="rect" id="node24" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="218,613,325,640"/>
<area shape="rect" id="node25" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="220,667,323,693"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="198,461,345,488"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="189,309,353,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="205,917,337,944"/>
<area shape="rect" id="node47" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="605,1095,760,1121"/>
<area shape="rect" id="node49" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="203,1171,340,1197"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="437,816,522,843"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="607,917,759,944"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1007,855,1100,881"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="810,1019,937,1045"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="418,765,541,792"/>
<area shape="rect" id="node11" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="419,664,539,691"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="808,816,939,843"/>
<area shape="rect" id="node12" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="640,664,725,691"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="643,765,722,792"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="621,208,745,235"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="610,563,755,589"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="612,613,753,640"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="826,613,921,640"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="819,461,927,488"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="987,512,1120,539"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="819,512,927,539"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="412,81,547,108"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="626,5,739,32"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="421,360,537,387"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="637,461,728,488"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="636,259,729,285"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="641,309,724,336"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="644,360,721,387"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="637,411,728,437"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="639,512,726,539"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="638,56,727,83"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="635,107,731,133"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="631,157,734,184"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="407,309,552,336"/>
<area shape="rect" id="node39" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="413,208,546,235"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="405,715,554,741"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="429,968,529,995"/>
<area shape="rect" id="node43" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="431,917,527,944"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="401,512,557,539"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="416,1019,543,1045"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="629,1044,736,1071"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="812,1095,935,1121"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="410,1171,549,1197"/>
</map>
</div>

</div>
</div>
<a id="a2e84d4bec8fcf799eeb376d90f220efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e84d4bec8fcf799eeb376d90f220efb">&#9670;&nbsp;</a></span>ubifs_lpt_end_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lpt_end_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_end_commit - finish the commit operation. <code></code>: the UBIFS file-system description object</p>
<p>This function has to be called when the commit operation finishes. It flushes the changes which were "frozen" by 'ubifs_lprops_start_commit()' to the media. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_cgraph.png" border="0" usemap="#ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_cgraph" alt=""/></div>
<map name="ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_cgraph" id="ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_cgraph">
<area shape="rect" id="node2" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="228,1543,327,1569"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#aa849c957810ab7a355e3f679fbd89ebe" title="free_obsolete_cnodes" alt="" coords="203,1593,352,1620"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="403,859,523,885"/>
<area shape="rect" id="node21" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1163,1213,1235,1240"/>
<area shape="rect" id="node31" href="lpt_8c.html#ac11db630f1593b785cd612588586aeae" title="ubifs_pack_lsave" alt="" coords="402,1644,525,1671"/>
<area shape="rect" id="node33" href="lpt__commit_8c.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="407,1492,520,1519"/>
<area shape="rect" id="node35" href="ubifs_2debug_8c.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="576,1644,715,1671"/>
<area shape="rect" id="node36" href="lpt__commit_8c.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="575,1441,716,1468"/>
<area shape="rect" id="node43" href="lpt_8c.html#abad99814ae0b31a6bfee2356440bf809" title="ubifs_pack_ltab" alt="" coords="407,1695,520,1721"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="409,1036,518,1063"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#ae4bfd6a92066eebc78829a9600ee1669" title="realloc_lpt_leb" alt="" coords="411,1796,516,1823"/>
<area shape="rect" id="node48" href="lpt_8c.html#afbec92ddd1b0c9598e498a10d859500b" title="ubifs_pack_nnode" alt="" coords="400,1745,527,1772"/>
<area shape="rect" id="node49" href="lpt_8c.html#a574e2659deacbc27b7d7738b336c32b0" title="ubifs_pack_pnode" alt="" coords="400,1593,527,1620"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="975,1087,1094,1113"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="589,808,702,835"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="592,909,699,936"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="772,605,899,632"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="764,985,907,1012"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="965,884,1105,911"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="963,935,1107,961"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="993,985,1076,1012"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="991,1036,1078,1063"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="994,73,1075,100"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="967,124,1102,151"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="974,175,1095,201"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="971,225,1098,252"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="973,276,1097,303"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="955,327,1115,353"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="971,377,1099,404"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="973,428,1097,455"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="973,479,1097,505"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="969,783,1100,809"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="965,529,1104,556"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="978,833,1091,860"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="975,580,1095,607"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="969,631,1100,657"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="973,681,1097,708"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="969,732,1100,759"/>
<area shape="rect" id="node29" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="992,1137,1077,1164"/>
<area shape="rect" id="node32" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="606,1695,685,1721"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="580,1492,711,1519"/>
<area shape="rect" id="node37" href="lpt__commit_8c.html#aa1394a949f93b726911b9906f58b5ac3" title="dump_lpt_leb" alt="" coords="786,1441,885,1468"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="981,1340,1088,1367"/>
<area shape="rect" id="node39" href="lpt__commit_8c.html#a7545da912ddbe0544fc4b9a01248a171" title="is_a_node" alt="" coords="994,1391,1075,1417"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#a231cdcb04b4a645e42461092bb4d17b2" title="get_pad_len" alt="" coords="989,1441,1081,1468"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#ab1dccafcd34c954073fd864a06d27141" title="get_lpt_node_type" alt="" coords="971,1492,1099,1519"/>
<area shape="rect" id="node42" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="964,1543,1105,1569"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="594,1036,697,1063"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="788,1137,883,1164"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_icgraph.png" border="0" usemap="#ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_icgraph" alt=""/></div>
<map name="ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_icgraph" id="ubifs_8h_a2e84d4bec8fcf799eeb376d90f220efb_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="203,247,289,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="345,184,455,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="337,272,463,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="705,145,820,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="919,120,1012,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="903,171,1028,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1115,5,1224,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1332,5,1425,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1108,56,1231,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="522,196,625,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="516,297,631,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="684,233,841,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="700,1171,825,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="511,399,636,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="902,233,1029,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1312,436,1445,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1123,208,1216,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1128,157,1211,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1125,259,1214,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1121,309,1217,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1118,360,1221,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1335,816,1422,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="907,385,1023,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="897,1412,1034,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="894,1272,1037,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="902,1348,1029,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="905,1171,1025,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="903,1221,1027,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="893,968,1038,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="889,1120,1041,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1124,411,1215,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1131,461,1208,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1124,512,1215,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1126,563,1213,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1120,1424,1219,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1329,1221,1429,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1108,1323,1231,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1094,1272,1245,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1116,1373,1223,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1120,867,1219,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1121,1120,1218,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="896,613,1035,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1108,664,1231,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1113,715,1226,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1129,765,1209,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1089,968,1249,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1323,917,1434,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1297,993,1460,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1135,613,1203,640"/>
</map>
</div>

</div>
</div>
<a id="af636d74671b9ccbfc96c6dba63800c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af636d74671b9ccbfc96c6dba63800c69">&#9670;&nbsp;</a></span>ubifs_lpt_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_lpt_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wr_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_free - free resources owned by the LPT. <code></code>: UBIFS file-system description object : free only resources used for writing </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_cgraph.png" border="0" usemap="#ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_cgraph" alt=""/></div>
<map name="ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_cgraph" id="ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_cgraph">
<area shape="rect" id="node2" href="lpt__commit_8c.html#aa849c957810ab7a355e3f679fbd89ebe" title="free_obsolete_cnodes" alt="" coords="153,5,303,32"/>
<area shape="rect" id="node3" href="lpt__commit_8c.html#a223eab5af12c527fb330dfd4d9d5ca4b" title="first_nnode" alt="" coords="185,56,271,83"/>
<area shape="rect" id="node4" href="lpt__commit_8c.html#aeb6af19cd72e0c92b5dcff8673db749c" title="next_nnode" alt="" coords="183,107,273,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_icgraph.png" border="0" usemap="#ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_icgraph" alt=""/></div>
<map name="ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_icgraph" id="ubifs_8h_af636d74671b9ccbfc96c6dba63800c69_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="340,100,433,127"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="165,5,265,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="324,157,449,184"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="153,208,276,235"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a765344f4763e8492c9902f7af4c6488e" title="ubifs_lpt_init" alt="" coords="167,107,262,133"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="504,88,613,115"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="668,88,761,115"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="329,49,444,76"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="497,164,620,191"/>
</map>
</div>

</div>
</div>
<a id="a765344f4763e8492c9902f7af4c6488e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765344f4763e8492c9902f7af4c6488e">&#9670;&nbsp;</a></span>ubifs_lpt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lpt_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>wr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_init - initialize the LPT. <code></code>: UBIFS file-system description object : whether to initialize lpt for reading : whether to initialize lpt for writing</p>
<p>For mounting 'rw',  and  are both true. For mounting 'ro',  is true and  is false. For mounting from 'ro' to 'rw',  is false and  is true.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a765344f4763e8492c9902f7af4c6488e_cgraph.png" border="0" usemap="#ubifs_8h_a765344f4763e8492c9902f7af4c6488e_cgraph" alt=""/></div>
<map name="ubifs_8h_a765344f4763e8492c9902f7af4c6488e_cgraph" id="ubifs_8h_a765344f4763e8492c9902f7af4c6488e_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a5d1707707cf770fb7479177b7fe2fbc5" title="lpt_init_rd" alt="" coords="512,63,591,90"/>
<area shape="rect" id="node10" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="157,355,239,382"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#af636d74671b9ccbfc96c6dba63800c69" title="ubifs_lpt_free" alt="" coords="148,431,248,458"/>
<area shape="rect" id="node3" href="lpt_8c.html#a3174779440616f0c85a44f40480d5977" title="read_ltab" alt="" coords="850,165,925,191"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1015,317,1122,343"/>
<area shape="rect" id="node6" href="lpt_8c.html#a5a0c9d1884b60df493d76328ce9e2d71" title="unpack_ltab" alt="" coords="1023,63,1115,90"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1423,342,1495,369"/>
<area shape="rect" id="node7" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1213,98,1323,125"/>
<area shape="rect" id="node8" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1396,47,1523,74"/>
<area shape="rect" id="node9" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1217,47,1319,74"/>
<area shape="rect" id="node11" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="328,266,413,293"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="657,1330,777,1357"/>
<area shape="rect" id="node12" href="lpt_8c.html#ac416c7a74c9d73a02f56abe30cf9ff7d" title="unpack_lsave" alt="" coords="1017,13,1120,39"/>
<area shape="rect" id="node13" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="493,241,609,267"/>
<area shape="rect" id="node14" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="825,215,949,242"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="659,215,776,242"/>
<area shape="rect" id="node19" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="659,266,776,293"/>
<area shape="rect" id="node15" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1191,200,1345,241"/>
<area shape="rect" id="node16" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="998,114,1139,141"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1014,215,1123,242"/>
<area shape="rect" id="node20" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="843,367,932,394"/>
<area shape="rect" id="node21" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="841,266,934,293"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1209,1330,1327,1357"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="831,1330,944,1357"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="834,1381,941,1407"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1005,874,1132,901"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="997,1330,1140,1357"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1198,773,1338,799"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1196,823,1340,850"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1227,874,1309,901"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1225,925,1311,951"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1227,975,1309,1002"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1201,1026,1335,1053"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1207,1077,1329,1103"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1205,1127,1331,1154"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1206,1178,1330,1205"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="1188,1229,1348,1255"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1204,1279,1332,1306"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1206,519,1330,546"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1206,570,1330,597"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1203,418,1333,445"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1199,621,1337,647"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1211,469,1325,495"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1208,671,1328,698"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1203,722,1333,749"/>
<area shape="rect" id="node45" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1225,1381,1311,1407"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#aa849c957810ab7a355e3f679fbd89ebe" title="free_obsolete_cnodes" alt="" coords="296,418,445,445"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a223eab5af12c527fb330dfd4d9d5ca4b" title="first_nnode" alt="" coords="327,469,414,495"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#aeb6af19cd72e0c92b5dcff8673db749c" title="next_nnode" alt="" coords="326,519,415,546"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a765344f4763e8492c9902f7af4c6488e_icgraph.png" border="0" usemap="#ubifs_8h_a765344f4763e8492c9902f7af4c6488e_icgraph" alt=""/></div>
<map name="ubifs_8h_a765344f4763e8492c9902f7af4c6488e_icgraph" id="ubifs_8h_a765344f4763e8492c9902f7af4c6488e_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="164,5,257,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="148,56,273,83"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="328,5,437,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="492,5,585,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="321,56,444,83"/>
</map>
</div>

</div>
</div>
<a id="af1c4868152bb6ea9ae7c87e7dad9cede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c4868152bb6ea9ae7c87e7dad9cede">&#9670;&nbsp;</a></span>ubifs_lpt_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_lpt_lookup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_lookup - lookup LEB properties in the LPT. <code></code>: UBIFS file-system description object : LEB number to lookup</p>
<p>This function returns a pointer to the LEB properties on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_cgraph.png" border="0" usemap="#ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_cgraph" alt=""/></div>
<map name="ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_cgraph" id="ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1341,487,1465,513"/>
<area shape="rect" id="node11" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1176,563,1293,589"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="169,563,287,589"/>
<area shape="rect" id="node3" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1705,479,1859,521"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1531,411,1637,437"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1937,385,2009,412"/>
<area shape="rect" id="node6" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1513,309,1655,336"/>
<area shape="rect" id="node10" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1529,512,1639,539"/>
<area shape="rect" id="node7" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1727,208,1837,235"/>
<area shape="rect" id="node8" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1909,233,2036,260"/>
<area shape="rect" id="node9" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1731,309,1833,336"/>
<area shape="rect" id="node13" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1359,208,1448,235"/>
<area shape="rect" id="node20" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="335,647,428,673"/>
<area shape="rect" id="node14" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1705,19,1859,61"/>
<area shape="rect" id="node15" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1703,107,1861,133"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1531,157,1637,184"/>
<area shape="rect" id="node17" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1529,5,1639,32"/>
<area shape="rect" id="node18" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1525,208,1643,235"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1519,259,1649,285"/>
<area shape="rect" id="node21" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="476,680,597,707"/>
<area shape="rect" id="node22" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="645,719,763,745"/>
<area shape="rect" id="node23" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="989,816,1128,843"/>
<area shape="rect" id="node24" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="811,809,941,836"/>
<area shape="rect" id="node25" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="816,689,936,716"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1001,664,1117,691"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="993,715,1124,741"/>
<area shape="rect" id="node28" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1001,563,1117,589"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="997,765,1121,792"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_icgraph.png" border="0" usemap="#ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_icgraph" alt=""/></div>
<map name="ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_icgraph" id="ubifs_8h_af1c4868152bb6ea9ae7c87e7dad9cede_icgraph">
<area shape="rect" id="node2" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="169,85,307,112"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="175,288,301,315"/>
<area shape="rect" id="node40" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="178,620,298,647"/>
<area shape="rect" id="node48" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="389,855,475,881"/>
<area shape="rect" id="node49" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="177,911,299,937"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="939,5,1097,32"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1528,56,1661,83"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="1745,81,1854,108"/>
<area shape="rect" id="node6" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="1935,81,2041,108"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="367,288,497,315"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="1735,512,1863,539"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="587,237,686,264"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="961,212,1075,239"/>
<area shape="rect" id="node18" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="955,436,1081,463"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="955,715,1081,741"/>
<area shape="rect" id="node38" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="580,493,693,520"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1941,791,2035,817"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1925,715,2051,741"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2105,791,2215,817"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="2099,715,2221,741"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1516,613,1673,640"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1736,563,1863,589"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1163,461,1279,488"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1153,512,1290,539"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1150,563,1293,589"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1158,613,1285,640"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1161,259,1281,285"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1159,309,1283,336"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1149,360,1294,387"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1145,411,1297,437"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1170,664,1273,691"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1163,715,1279,741"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1165,765,1278,792"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1172,816,1271,843"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1352,664,1461,691"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1345,715,1468,741"/>
<area shape="rect" id="node33" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="1347,765,1467,792"/>
<area shape="rect" id="node34" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="1554,816,1635,843"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a765344f4763e8492c9902f7af4c6488e" title="ubifs_lpt_init" alt="" coords="1752,816,1847,843"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="1353,816,1460,843"/>
<area shape="rect" id="node39" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="764,505,891,532"/>
<area shape="rect" id="node41" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="373,620,491,647"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="355,569,509,596"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="576,620,697,647"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="767,563,888,589"/>
<area shape="rect" id="node44" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="767,613,888,640"/>
<area shape="rect" id="node45" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="781,664,874,691"/>
<area shape="rect" id="node47" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="557,569,716,596"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1721,917,1877,944"/>
</map>
</div>

</div>
</div>
<a id="ade4e71b1fffa493cfb997feaff2c0638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4e71b1fffa493cfb997feaff2c0638">&#9670;&nbsp;</a></span>ubifs_lpt_lookup_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* ubifs_lpt_lookup_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_lookup_dirty - lookup LEB properties in the LPT. <code></code>: UBIFS file-system description object : LEB number to lookup</p>
<p>This function returns a pointer to the LEB properties on success or a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_cgraph.png" border="0" usemap="#ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_cgraph" alt=""/></div>
<map name="ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_cgraph" id="ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1433,487,1557,513"/>
<area shape="rect" id="node11" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="201,917,321,944"/>
<area shape="rect" id="node14" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1268,563,1385,589"/>
<area shape="rect" id="node15" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="203,625,320,652"/>
<area shape="rect" id="node33" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="201,968,321,995"/>
<area shape="rect" id="node3" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1797,479,1951,521"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1623,411,1729,437"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2029,385,2101,412"/>
<area shape="rect" id="node6" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1605,309,1747,336"/>
<area shape="rect" id="node10" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1621,512,1731,539"/>
<area shape="rect" id="node7" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1819,208,1929,235"/>
<area shape="rect" id="node8" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2001,233,2128,260"/>
<area shape="rect" id="node9" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1823,309,1925,336"/>
<area shape="rect" id="node12" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="369,917,515,944"/>
<area shape="rect" id="node13" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="563,943,687,969"/>
<area shape="rect" id="node16" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1451,208,1540,235"/>
<area shape="rect" id="node23" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="395,664,489,691"/>
<area shape="rect" id="node17" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1797,19,1951,61"/>
<area shape="rect" id="node18" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1795,107,1953,133"/>
<area shape="rect" id="node19" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1623,157,1729,184"/>
<area shape="rect" id="node20" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1621,5,1731,32"/>
<area shape="rect" id="node21" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1617,208,1735,235"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1611,259,1741,285"/>
<area shape="rect" id="node24" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="564,689,685,716"/>
<area shape="rect" id="node25" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="736,715,853,741"/>
<area shape="rect" id="node26" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1081,816,1220,843"/>
<area shape="rect" id="node27" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="903,809,1033,836"/>
<area shape="rect" id="node28" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="908,689,1028,716"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1093,664,1209,691"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1085,715,1216,741"/>
<area shape="rect" id="node31" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1093,563,1209,589"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1089,765,1213,792"/>
<area shape="rect" id="node34" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="387,968,497,995"/>
<area shape="rect" id="node35" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="394,1019,490,1045"/>
<area shape="rect" id="node36" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="563,1019,687,1045"/>
<area shape="rect" id="node37" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="735,1019,855,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_icgraph.png" border="0" usemap="#ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_icgraph" alt=""/></div>
<map name="ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_icgraph" id="ubifs_8h_ade4e71b1fffa493cfb997feaff2c0638_icgraph">
<area shape="rect" id="node2" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="221,445,325,472"/>
<area shape="rect" id="node9" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="205,388,340,414"/>
<area shape="rect" id="node11" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="201,584,344,610"/>
<area shape="rect" id="node17" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="405,736,528,762"/>
<area shape="rect" id="node21" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="412,786,521,813"/>
<area shape="rect" id="node22" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="215,685,331,712"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="395,478,539,505"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="396,945,537,972"/>
<area shape="rect" id="node47" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="411,888,522,914"/>
<area shape="rect" id="node50" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="424,837,509,864"/>
<area shape="rect" id="node3" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="399,428,534,454"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="812,120,960,146"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1011,373,1169,400"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1037,69,1143,96"/>
<area shape="rect" id="node6" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1059,145,1121,172"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1217,704,1311,730"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="392,377,541,404"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="610,576,741,618"/>
<area shape="rect" id="node13" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="829,474,943,501"/>
<area shape="rect" id="node14" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="834,525,938,552"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1011,424,1169,450"/>
<area shape="rect" id="node16" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1221,424,1307,450"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="596,744,755,770"/>
<area shape="rect" id="node19" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="819,677,953,704"/>
<area shape="rect" id="node20" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="1035,677,1145,704"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1013,728,1167,754"/>
<area shape="rect" id="node24" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="398,685,535,712"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1039,626,1141,653"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="589,272,761,298"/>
<area shape="rect" id="node28" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1015,322,1165,349"/>
<area shape="rect" id="node29" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="618,170,733,197"/>
<area shape="rect" id="node31" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="601,373,749,400"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="618,474,733,501"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="1012,246,1168,273"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#aabbfd5925b308189c641e1570a2a19f7" title="free_idx_lebs" alt="" coords="837,424,935,450"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="809,576,963,602"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="609,946,742,973"/>
<area shape="rect" id="node38" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="624,1048,727,1074"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="596,997,755,1024"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="631,896,719,922"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="1045,841,1135,868"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="828,933,944,960"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="815,984,957,1010"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="826,1034,946,1061"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="824,1085,948,1112"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="813,1136,959,1162"/>
<area shape="rect" id="node44" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="840,1186,932,1213"/>
<area shape="rect" id="node48" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="617,845,734,872"/>
<area shape="rect" id="node49" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="817,794,955,821"/>
</map>
</div>

</div>
</div>
<a id="a0ca6bd7c2db50191b30308925d584e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca6bd7c2db50191b30308925d584e16">&#9670;&nbsp;</a></span>ubifs_lpt_post_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lpt_post_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_post_commit - post commit LPT trivial GC and LPT GC. <code></code>: UBIFS file-system description object</p>
<p>LPT trivial GC is completed after a commit. Also LPT GC is done after a commit for the "big" LPT model. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_cgraph.png" border="0" usemap="#ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_cgraph" alt=""/></div>
<map name="ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_cgraph" id="ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_cgraph">
<area shape="rect" id="node2" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="215,1412,304,1439"/>
<area shape="rect" id="node37" href="lpt__commit_8c.html#a366ab7e44947125dd89df8f6d973632b" title="need_write_all" alt="" coords="207,1589,312,1616"/>
<area shape="rect" id="node38" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="231,1539,288,1565"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="360,1373,480,1400"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="915,1323,1034,1349"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="535,1323,649,1349"/>
<area shape="rect" id="node21" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1103,1247,1175,1273"/>
<area shape="rect" id="node36" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="539,1373,645,1400"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="712,664,839,691"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="704,1323,847,1349"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="905,512,1045,539"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="903,563,1047,589"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="933,613,1016,640"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="931,664,1018,691"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="934,715,1015,741"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="907,765,1042,792"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="914,816,1035,843"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="911,867,1038,893"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="913,917,1037,944"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="895,968,1055,995"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="911,1019,1039,1045"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="913,1069,1037,1096"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="913,1120,1037,1147"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="909,1171,1040,1197"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="905,56,1044,83"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="918,1221,1031,1248"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="915,107,1035,133"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="909,157,1040,184"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="913,208,1037,235"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="909,259,1040,285"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="917,309,1032,336"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="911,360,1038,387"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="904,411,1045,437"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="917,1272,1032,1299"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="901,461,1049,488"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="897,5,1052,32"/>
<area shape="rect" id="node35" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="932,1373,1017,1400"/>
<area shape="rect" id="node39" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="374,1576,466,1603"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="539,1627,645,1653"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#a7545da912ddbe0544fc4b9a01248a171" title="is_a_node" alt="" coords="551,1525,633,1552"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#ac41e42aebe8bf1c7b6e0779c9d40d334" title="get_lpt_node_len" alt="" coords="715,1525,835,1552"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a231cdcb04b4a645e42461092bb4d17b2" title="get_pad_len" alt="" coords="546,1677,638,1704"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#ab1dccafcd34c954073fd864a06d27141" title="get_lpt_node_type" alt="" coords="528,1475,656,1501"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#ac5b295c3d1f0a1f29798c16cbf1b2e81" title="make_node_dirty" alt="" coords="531,1728,653,1755"/>
<area shape="rect" id="node42" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="712,1475,839,1501"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="711,1703,839,1729"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="711,1753,839,1780"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a68fb5e7cec161d6e0ea0eeff9c8f61af" title="make_ltab_dirty" alt="" coords="718,1804,833,1831"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a52a89e86e41b4f1c80fd1d041c95d61a" title="make_lsave_dirty" alt="" coords="713,1652,837,1679"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_icgraph.png" border="0" usemap="#ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_icgraph" alt=""/></div>
<map name="ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_icgraph" id="ubifs_8h_a0ca6bd7c2db50191b30308925d584e16_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="207,247,293,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="349,184,459,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="341,272,467,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="709,145,824,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="923,120,1016,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="907,171,1032,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1119,5,1228,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1336,5,1429,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1112,56,1235,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="526,196,629,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="520,297,635,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="688,233,845,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="704,1171,829,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="515,399,640,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="906,233,1033,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1316,436,1449,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1127,208,1220,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1132,157,1215,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1129,259,1218,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1125,309,1221,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1122,360,1225,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1339,816,1426,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="911,385,1027,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="901,1412,1038,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="898,1272,1041,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="906,1348,1033,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="909,1171,1029,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="907,1221,1031,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="897,968,1042,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="893,1120,1045,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1128,411,1219,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1135,461,1212,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1128,512,1219,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1130,563,1217,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1124,1424,1223,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1333,1221,1433,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1112,1323,1235,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1098,1272,1249,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1120,1373,1227,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1124,867,1223,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1125,1120,1222,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="900,613,1039,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1112,664,1235,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1117,715,1230,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1133,765,1213,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1093,968,1253,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1327,917,1438,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1301,993,1464,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1139,613,1207,640"/>
</map>
</div>

</div>
</div>
<a id="a34800df1b6052b492ca05c589dfec386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34800df1b6052b492ca05c589dfec386">&#9670;&nbsp;</a></span>ubifs_lpt_scan_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lpt_scan_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start_lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>end_lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ubifs_8h.html#ae31f4a8c1523d14ee875036936253ae8">ubifs_lpt_scan_callback</a>&#160;</td>
          <td class="paramname"><em>scan_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_scan_nolock - scan the LPT. <code></code>: the UBIFS file-system description object : LEB number from which to start scanning : LEB number at which to stop scanning : callback function called for each lprops : data to be passed to the callback function</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a34800df1b6052b492ca05c589dfec386_cgraph.png" border="0" usemap="#ubifs_8h_a34800df1b6052b492ca05c589dfec386_cgraph" alt=""/></div>
<map name="ubifs_8h_a34800df1b6052b492ca05c589dfec386_cgraph" id="ubifs_8h_a34800df1b6052b492ca05c589dfec386_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1323,656,1447,683"/>
<area shape="rect" id="node11" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="1326,820,1443,847"/>
<area shape="rect" id="node12" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="1326,1112,1443,1139"/>
<area shape="rect" id="node18" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="204,479,325,505"/>
<area shape="rect" id="node31" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1338,352,1431,379"/>
<area shape="rect" id="node36" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="783,149,931,176"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="798,251,915,277"/>
<area shape="rect" id="node3" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1687,649,1840,690"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1512,909,1619,936"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1920,555,1992,581"/>
<area shape="rect" id="node6" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1495,859,1636,885"/>
<area shape="rect" id="node10" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1511,656,1620,683"/>
<area shape="rect" id="node7" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1708,905,1819,932"/>
<area shape="rect" id="node8" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1893,931,2019,957"/>
<area shape="rect" id="node9" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1712,956,1815,983"/>
<area shape="rect" id="node13" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1687,1109,1840,1150"/>
<area shape="rect" id="node14" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1684,1057,1843,1084"/>
<area shape="rect" id="node15" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1512,960,1619,987"/>
<area shape="rect" id="node16" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1511,1112,1620,1139"/>
<area shape="rect" id="node17" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1507,1163,1624,1189"/>
<area shape="rect" id="node19" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="373,479,532,505"/>
<area shape="rect" id="node32" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1505,301,1626,328"/>
<area shape="rect" id="node20" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="580,479,735,505"/>
<area shape="rect" id="node21" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1159,453,1273,480"/>
<area shape="rect" id="node23" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="797,453,917,480"/>
<area shape="rect" id="node22" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="2069,137,2208,164"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="986,352,1102,379"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="979,200,1109,227"/>
<area shape="rect" id="node26" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="986,605,1102,632"/>
<area shape="rect" id="node35" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="982,453,1106,480"/>
<area shape="rect" id="node27" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1157,656,1275,683"/>
<area shape="rect" id="node28" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1157,555,1275,581"/>
<area shape="rect" id="node29" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1340,960,1429,987"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1500,757,1631,784"/>
<area shape="rect" id="node33" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1705,87,1822,113"/>
<area shape="rect" id="node34" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1891,87,2021,113"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="984,48,1104,75"/>
<area shape="rect" id="node38" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1159,200,1273,227"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a34800df1b6052b492ca05c589dfec386_icgraph.png" border="0" usemap="#ubifs_8h_a34800df1b6052b492ca05c589dfec386_icgraph" alt=""/></div>
<map name="ubifs_8h_a34800df1b6052b492ca05c589dfec386_icgraph" id="ubifs_8h_a34800df1b6052b492ca05c589dfec386_icgraph">
<area shape="rect" id="node2" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="223,80,327,107"/>
<area shape="rect" id="node29" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="407,171,541,198"/>
<area shape="rect" id="node31" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="204,230,347,256"/>
<area shape="rect" id="node41" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="214,339,337,366"/>
<area shape="rect" id="node45" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="815,288,941,315"/>
<area shape="rect" id="node3" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="811,34,945,60"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1005,34,1153,60"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1548,34,1705,60"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1211,186,1317,212"/>
<area shape="rect" id="node21" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1233,34,1295,60"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1375,236,1500,263"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1759,211,1875,238"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1558,135,1695,162"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1555,186,1698,212"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1563,287,1690,314"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1567,338,1687,364"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1565,388,1689,415"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1554,439,1699,466"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1551,84,1703,111"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1937,211,2028,238"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1936,59,2029,86"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1941,110,2024,136"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1944,262,2021,288"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1937,312,2028,339"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1939,160,2026,187"/>
<area shape="rect" id="node22" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1375,34,1500,60"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1770,490,1863,516"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1754,338,1879,364"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1753,59,1880,86"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1928,490,2037,516"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2085,490,2179,516"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="601,176,751,203"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="409,222,539,264"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1380,84,1495,111"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="624,234,728,260"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="799,235,957,262"/>
<area shape="rect" id="node36" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1036,236,1123,263"/>
<area shape="rect" id="node37" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1382,388,1493,415"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1201,135,1327,162"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1569,490,1684,516"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1386,186,1489,212"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="395,339,553,366"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="609,339,743,366"/>
<area shape="rect" id="node44" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="823,339,933,366"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1016,388,1143,415"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1213,338,1315,364"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1206,388,1322,415"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1207,439,1321,466"/>
<area shape="rect" id="node50" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1215,490,1313,516"/>
</map>
</div>

</div>
</div>
<a id="ad0029b471c7e38ab8a4a1ab961ca25a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0029b471c7e38ab8a4a1ab961ca25a4">&#9670;&nbsp;</a></span>ubifs_lpt_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_lpt_start_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_lpt_start_commit - UBIFS commit starts. <code></code>: the UBIFS file-system description object</p>
<p>This function has to be called when UBIFS starts the commit operation. This function "freezes" all currently dirty LEB properties and does not change them anymore. Further changes are saved and tracked separately because they are not part of this commit. This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_cgraph.png" border="0" usemap="#ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_cgraph" alt=""/></div>
<map name="ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_cgraph" id="ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_cgraph">
<area shape="rect" id="node2" href="lpt__commit_8c.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="413,968,563,995"/>
<area shape="rect" id="node15" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="230,364,343,391"/>
<area shape="rect" id="node30" href="lpt__commit_8c.html#a366ab7e44947125dd89df8f6d973632b" title="need_write_all" alt="" coords="234,484,339,511"/>
<area shape="rect" id="node31" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="258,421,315,448"/>
<area shape="rect" id="node34" href="lpt__commit_8c.html#a86bd21a2110428fb260d0bd4f08ccb50" title="lpt_tgc_start" alt="" coords="239,611,334,637"/>
<area shape="rect" id="node35" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="229,712,344,739"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#a7c52541847260bef58e0ab363a435854" title="populate_lsave" alt="" coords="232,535,341,561"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a3f040909950ee0381e49f54a4493c4b7" title="get_cnodes_to_commit" alt="" coords="208,1323,365,1349"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#ab5ccc5e035208a177f249fa5266c020d" title="layout_cnodes" alt="" coords="233,1120,340,1147"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1005,5,1136,32"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1230,816,1302,843"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="614,1120,753,1147"/>
<area shape="rect" id="node6" href="lpt__commit_8c.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="613,1019,754,1045"/>
<area shape="rect" id="node7" href="lpt__commit_8c.html#aa1394a949f93b726911b9906f58b5ac3" title="dump_lpt_leb" alt="" coords="829,664,927,691"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1017,664,1124,691"/>
<area shape="rect" id="node9" href="lpt__commit_8c.html#a7545da912ddbe0544fc4b9a01248a171" title="is_a_node" alt="" coords="1030,411,1111,437"/>
<area shape="rect" id="node12" href="lpt__commit_8c.html#a231cdcb04b4a645e42461092bb4d17b2" title="get_pad_len" alt="" coords="1025,613,1117,640"/>
<area shape="rect" id="node13" href="lpt__commit_8c.html#ab1dccafcd34c954073fd864a06d27141" title="get_lpt_node_type" alt="" coords="1007,512,1135,539"/>
<area shape="rect" id="node14" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1000,765,1141,792"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1203,512,1329,539"/>
<area shape="rect" id="node11" href="lpt__commit_8c.html#ac41e42aebe8bf1c7b6e0779c9d40d334" title="get_lpt_node_len" alt="" coords="1206,360,1326,387"/>
<area shape="rect" id="node16" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="437,765,539,792"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="804,360,952,387"/>
<area shape="rect" id="node27" href="lpt__commit_8c.html#a8b82199b156a23a65fe4de99f2f82e4f" title="dbg_check_ltab_lnum" alt="" coords="804,411,952,437"/>
<area shape="rect" id="node17" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="816,816,940,843"/>
<area shape="rect" id="node20" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="625,765,742,792"/>
<area shape="rect" id="node21" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="625,715,742,741"/>
<area shape="rect" id="node18" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1189,1087,1343,1129"/>
<area shape="rect" id="node19" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1016,968,1125,995"/>
<area shape="rect" id="node22" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="833,715,923,741"/>
<area shape="rect" id="node23" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="831,613,925,640"/>
<area shape="rect" id="node25" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1011,56,1131,83"/>
<area shape="rect" id="node26" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1014,208,1127,235"/>
<area shape="rect" id="node28" href="lpt__commit_8c.html#ab7036284f41bbf5518a2f6f1a25559f9" title="dbg_is_all_ff" alt="" coords="1023,259,1118,285"/>
<area shape="rect" id="node29" href="lpt__commit_8c.html#a4a7d33e53349fe5b2de5e1708d608f16" title="dbg_is_node_dirty" alt="" coords="1007,309,1134,336"/>
<area shape="rect" id="node32" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="832,512,924,539"/>
<area shape="rect" id="node33" href="lpt__commit_8c.html#ac5b295c3d1f0a1f29798c16cbf1b2e81" title="make_node_dirty" alt="" coords="1010,563,1131,589"/>
<area shape="rect" id="node36" href="lpt__commit_8c.html#a2861398a3a40bf3066a035be1acbffd1" title="do_make_pnode_dirty" alt="" coords="413,613,563,640"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="419,715,557,741"/>
<area shape="rect" id="node37" href="lpt__commit_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="628,613,739,640"/>
<area shape="rect" id="node39" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="611,563,756,589"/>
<area shape="rect" id="node38" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="816,563,940,589"/>
<area shape="rect" id="node42" href="lpt__commit_8c.html#a356982001674349e764732c74b5de6dd" title="dbg_populate_lsave" alt="" coords="419,524,557,551"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="625,512,741,539"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#ac47856a1762193b9969e7df7d1d4c8f2" title="first_dirty_cnode" alt="" coords="624,1348,743,1375"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#affd820a390d6f1f845c14a930f15ca78" title="next_dirty_cnode" alt="" coords="427,1323,549,1349"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="431,1069,545,1096"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#ae0a6e1ed2c029c11f1424ab9efead703" title="upd_ltab" alt="" coords="453,1221,523,1248"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a3bc9f9789a26c078fcc8b837705a5229" title="alloc_lpt_leb" alt="" coords="441,1120,535,1147"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_icgraph.png" border="0" usemap="#ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_icgraph" alt=""/></div>
<map name="ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_icgraph" id="ubifs_8h_ad0029b471c7e38ab8a4a1ab961ca25a4_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="208,247,295,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="350,184,461,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="343,272,468,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="711,145,825,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="924,120,1017,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="908,171,1033,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1120,5,1229,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1337,5,1431,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1113,56,1236,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="527,196,630,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="521,297,636,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="689,233,847,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="705,1171,831,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="516,399,641,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="907,233,1034,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1317,436,1451,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1128,208,1221,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1133,157,1216,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1130,259,1219,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1127,309,1223,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1123,360,1226,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1341,816,1427,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="913,385,1029,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="902,1412,1039,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="899,1272,1042,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="907,1348,1034,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="911,1171,1031,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="909,1221,1033,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="898,968,1043,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="895,1120,1047,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1129,411,1220,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1136,461,1213,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1129,512,1220,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1131,563,1218,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1125,1424,1224,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1334,1221,1434,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1113,1323,1236,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1099,1272,1250,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1121,1373,1228,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1125,867,1224,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1126,1120,1223,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="901,613,1040,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1113,664,1236,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1118,715,1231,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1135,765,1215,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1095,968,1255,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1329,917,1439,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1303,993,1465,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1141,613,1209,640"/>
</map>
</div>

</div>
</div>
<a id="a2c245b49b58cf15dd381f99530af6807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c245b49b58cf15dd381f99530af6807">&#9670;&nbsp;</a></span>ubifs_mount_orphans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_mount_orphans </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unclean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>read_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_mount_orphans - delete orphan inodes and erase LEBs that recorded them. <code></code>: UBIFS file-system description object : indicates recovery from unclean unmount : indicates read only mount</p>
<p>This function is called when mounting to erase orphans from the previous session. If UBIFS was not unmounted cleanly, then the inodes recorded as orphans are deleted. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2c245b49b58cf15dd381f99530af6807_cgraph.png" border="0" usemap="#ubifs_8h_a2c245b49b58cf15dd381f99530af6807_cgraph" alt=""/></div>
<map name="ubifs_8h_a2c245b49b58cf15dd381f99530af6807_cgraph" id="ubifs_8h_a2c245b49b58cf15dd381f99530af6807_cgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#add528589a14eac8da8b571068aa0b764" title="tot_avail_orphs" alt="" coords="200,512,311,539"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="210,563,301,589"/>
<area shape="rect" id="node50" href="ubifs_2orphan_8c.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="359,1044,497,1071"/>
<area shape="rect" id="node4" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="385,563,471,589"/>
<area shape="rect" id="node23" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="563,411,698,437"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="366,791,490,817"/>
<area shape="rect" id="node40" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="779,259,891,285"/>
<area shape="rect" id="node5" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="571,765,690,792"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="992,740,1064,767"/>
<area shape="rect" id="node8" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="563,512,698,539"/>
<area shape="rect" id="node19" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="574,461,687,488"/>
<area shape="rect" id="node21" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="574,664,687,691"/>
<area shape="rect" id="node22" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="545,613,716,640"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="781,917,888,944"/>
<area shape="rect" id="node9" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="764,512,905,539"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1363,436,1445,463"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="771,563,898,589"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="966,512,1090,539"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1195,461,1270,488"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1181,563,1284,589"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1185,613,1280,640"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1195,360,1270,387"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1172,664,1293,691"/>
<area shape="rect" id="node18" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1173,512,1293,539"/>
<area shape="rect" id="node20" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="779,360,890,387"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="583,917,678,944"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="797,867,872,893"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="573,715,688,741"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="587,968,674,995"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="573,1019,688,1045"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="575,1069,686,1096"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="591,1120,670,1147"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="575,1171,687,1197"/>
<area shape="rect" id="node32" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="795,1120,874,1147"/>
<area shape="rect" id="node34" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="775,1221,895,1248"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="773,1171,896,1197"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="969,1221,1087,1248"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="971,1272,1085,1299"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="975,1171,1081,1197"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1169,1272,1296,1299"/>
<area shape="rect" id="node41" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="953,233,1103,260"/>
<area shape="rect" id="node49" href="ubifs_2orphan_8c.html#a4cb36cbfbda3acf68bd59d860e13b3d1" title="insert_dead_orphan" alt="" coords="961,183,1095,209"/>
<area shape="rect" id="node42" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="1173,56,1293,83"/>
<area shape="rect" id="node43" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="1167,107,1299,133"/>
<area shape="rect" id="node44" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="1155,157,1311,184"/>
<area shape="rect" id="node45" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="1157,208,1308,235"/>
<area shape="rect" id="node46" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="1177,259,1289,285"/>
<area shape="rect" id="node47" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="1175,309,1291,336"/>
<area shape="rect" id="node48" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="1151,5,1315,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2c245b49b58cf15dd381f99530af6807_icgraph.png" border="0" usemap="#ubifs_8h_a2c245b49b58cf15dd381f99530af6807_icgraph" alt=""/></div>
<map name="ubifs_8h_a2c245b49b58cf15dd381f99530af6807_icgraph" id="ubifs_8h_a2c245b49b58cf15dd381f99530af6807_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="200,5,293,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="341,5,451,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="499,5,592,32"/>
</map>
</div>

</div>
</div>
<a id="a1492bd8c5ac3be76470004b3c0f53672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1492bd8c5ac3be76470004b3c0f53672">&#9670;&nbsp;</a></span>ubifs_new_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>* ubifs_new_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">umode_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_cgraph.png" border="0" usemap="#ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_cgraph" alt=""/></div>
<map name="ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_cgraph" id="ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_cgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a05379a3e5d4223a7821ec80d3606a6e6" title="ubifs_crypt_is_encrypted" alt="" coords="172,5,339,32"/>
<area shape="rect" id="node3" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="434,81,522,108"/>
<area shape="rect" id="node5" href="keyinfo_8c.html#a7621dfa0cb2b35172414c30b08e5aedd" title="fscrypt_get_encryption_info" alt="" coords="387,816,569,843"/>
<area shape="rect" id="node22" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="219,157,291,184"/>
<area shape="rect" id="node23" href="inode_8c.html#ae03a9f08d4efbf91ff44e29c1369314e" title="new_inode" alt="" coords="213,259,297,285"/>
<area shape="rect" id="node30" href="inode_8c.html#a40f590a020642f6d9ba3746bafb4c158" title="inode_init_owner" alt="" coords="419,309,537,336"/>
<area shape="rect" id="node31" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="431,360,525,387"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af421ba8f84237c60650c4ba802aca119" title="inherit_flags" alt="" coords="209,208,301,235"/>
<area shape="rect" id="node33" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="181,56,329,83"/>
<area shape="rect" id="node34" href="bad__inode_8c.html#ab9cc2af6161530b35e5f86e29f977033" title="make_bad_inode" alt="" coords="195,411,315,437"/>
<area shape="rect" id="node36" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="234,461,277,488"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="213,563,298,589"/>
<area shape="rect" id="node49" href="policy_8c.html#a20f5eb52a46f0c3e8ca3bb4c4ccd3cc3" title="fscrypt_inherit_context" alt="" coords="178,816,333,843"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a1aa9930cc94a47ac345316581dd49ab3" title="__printf" alt="" coords="445,5,511,32"/>
<area shape="rect" id="node6" href="crypto_2crypto_8c.html#af669c5cf0f50c0c619742704b6cffdf1" title="fscrypt_initialize" alt="" coords="1098,917,1214,944"/>
<area shape="rect" id="node8" href="keyinfo_8c.html#ad49967fa4f85bb4a389049107d05fca4" title="determine_cipher_type" alt="" coords="627,1044,780,1071"/>
<area shape="rect" id="node16" href="keyinfo_8c.html#a48063b8ae6a6e8cf7a1ef357b5533c26" title="validate_user_key" alt="" coords="640,740,767,767"/>
<area shape="rect" id="node18" href="keyinfo_8c.html#a1896e254e43274fa245243395c8b5ebd" title="init_essiv_generator" alt="" coords="634,791,773,817"/>
<area shape="rect" id="node20" href="keyinfo_8c.html#ab93f9769891ed56942bf6e50c5d52ef9" title="put_crypt_info" alt="" coords="651,841,755,868"/>
<area shape="rect" id="node21" href="keyinfo_8c.html#a76c4eeea0a83fb479a90b30e219ffc0a" title="EXPORT_SYMBOL" alt="" coords="634,892,773,919"/>
<area shape="rect" id="node7" href="crypto_2crypto_8c.html#afcd39fa09504d43e663466794cbbe1eb" title="fscrypt_destroy" alt="" coords="1304,968,1416,995"/>
<area shape="rect" id="node9" href="fscrypt__private_8h.html#ab15ec3d0df2bcbd4968ae8d58e0bb088" title="fscrypt_valid_enc_modes" alt="" coords="837,1069,1008,1096"/>
<area shape="rect" id="node10" href="fscrypt__private_8h.html#af669c5cf0f50c0c619742704b6cffdf1" title="fscrypt_initialize" alt="" coords="1098,1019,1214,1045"/>
<area shape="rect" id="node11" href="fscrypt__private_8h.html#a54b1c5526cd4eccd22ebb1e73c3fc385" title="fscrypt_do_page_crypto" alt="" coords="1075,1069,1237,1096"/>
<area shape="rect" id="node12" href="fscrypt__private_8h.html#a1f4b4ee23f3f6ea7869b12de76151f8e" title="fscrypt_alloc_bounce_page" alt="" coords="1066,1120,1246,1147"/>
<area shape="rect" id="node13" href="fscrypt__private_8h.html#ab6ec3c0a289a75033eefc8b0ea9b40b7" title="fname_encrypt" alt="" coords="1102,1171,1210,1197"/>
<area shape="rect" id="node14" href="fscrypt__private_8h.html#a46eac2c4bde9fab84183643a0192aa5b" title="fscrypt_fname_encrypted_size" alt="" coords="1056,1221,1256,1248"/>
<area shape="rect" id="node15" href="fscrypt__private_8h.html#aef01de70fa2d65e2a71d396d958a50cc" title="fscrypt_essiv_cleanup" alt="" coords="1080,968,1232,995"/>
<area shape="rect" id="node17" href="keyinfo_8c.html#a62150f287ac661131b5f55152d747120" title="derive_key_aes" alt="" coords="866,791,979,817"/>
<area shape="rect" id="node19" href="keyinfo_8c.html#aaa232e8ce61aaeb9ff6113fba74e11d7" title="derive_essiv_salt" alt="" coords="861,841,984,868"/>
<area shape="rect" id="node24" href="inode_8c.html#aeddf64c5c9fa914485838a6db9201936" title="new_inode_pseudo" alt="" coords="411,157,545,184"/>
<area shape="rect" id="node27" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1087,309,1225,336"/>
<area shape="rect" id="node28" href="inode_8c.html#a1871c58d9c393006e24f7fea1bcc288d" title="inode_sb_list_add" alt="" coords="415,259,541,285"/>
<area shape="rect" id="node25" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="660,157,747,184"/>
<area shape="rect" id="node26" href="inode_8c.html#a844185001176cf3da6e2195a24931015" title="inode_init_always" alt="" coords="860,157,985,184"/>
<area shape="rect" id="node29" href="debugfs_2inode_8c.html#ab0e32a685998ab4f1be52f66ddedfca1" title="EXPORT_SYMBOL_GPL" alt="" coords="617,259,789,285"/>
<area shape="rect" id="node35" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="409,411,547,437"/>
<area shape="rect" id="node37" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="441,537,515,564"/>
<area shape="rect" id="node38" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="652,487,755,513"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="644,537,763,564"/>
<area shape="rect" id="node43" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="642,588,765,615"/>
<area shape="rect" id="node44" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="678,664,729,691"/>
<area shape="rect" id="node39" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="859,487,986,513"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="844,588,1001,615"/>
<area shape="rect" id="node42" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="853,537,992,564"/>
<area shape="rect" id="node45" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="863,639,982,665"/>
<area shape="rect" id="node46" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="861,689,984,716"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="838,740,1007,767"/>
<area shape="rect" id="node50" href="policy_8c.html#a0def849d9429e6e706212fd82725f01f" title="EXPORT_SYMBOL" alt="" coords="409,867,547,893"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_icgraph.png" border="0" usemap="#ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_icgraph" alt=""/></div>
<map name="ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_icgraph" id="ubifs_8h_a1492bd8c5ac3be76470004b3c0f53672_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="178,56,269,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="177,107,270,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="182,157,265,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="179,208,268,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="175,259,271,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="172,309,275,336"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="323,56,431,83"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="493,5,626,32"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="688,31,761,57"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="479,107,640,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="329,132,425,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="333,183,420,209"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="509,183,609,209"/>
</map>
</div>

</div>
</div>
<a id="a85394180871fe6a819b8312c7c01f865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85394180871fe6a819b8312c7c01f865">&#9670;&nbsp;</a></span>ubifs_orphan_end_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_orphan_end_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_orphan_end_commit - end commit of orphans. <code></code>: UBIFS file-system description object</p>
<p>End commit of orphans. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a85394180871fe6a819b8312c7c01f865_cgraph.png" border="0" usemap="#ubifs_8h_a85394180871fe6a819b8312c7c01f865_cgraph" alt=""/></div>
<map name="ubifs_8h_a85394180871fe6a819b8312c7c01f865_cgraph" id="ubifs_8h_a85394180871fe6a819b8312c7c01f865_cgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="228,293,347,319"/>
<area shape="rect" id="node24" href="ubifs_2orphan_8c.html#a1d97cccd7fcf4101acdc1d85a18f2f85" title="erase_deleted" alt="" coords="236,470,339,497"/>
<area shape="rect" id="node25" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="395,901,533,927"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#addb52a70f0b7dcac9f45e79c31337996" title="avail_orphs" alt="" coords="420,267,508,294"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#ac6a8d5ad6bc67922845f15af1c0b1cee" title="consolidate" alt="" coords="420,318,508,345"/>
<area shape="rect" id="node7" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="402,217,526,243"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#add528589a14eac8da8b571068aa0b764" title="tot_avail_orphs" alt="" coords="597,293,708,319"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1229,597,1301,623"/>
<area shape="rect" id="node8" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="594,217,711,243"/>
<area shape="rect" id="node14" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="1004,39,1124,66"/>
<area shape="rect" id="node9" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="782,141,921,167"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="1197,191,1332,218"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1003,90,1125,117"/>
<area shape="rect" id="node18" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="1004,191,1124,218"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1572,90,1691,117"/>
<area shape="rect" id="node13" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1211,90,1318,117"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1208,39,1321,66"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1388,39,1515,66"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="1380,90,1523,117"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1389,1103,1513,1130"/>
<area shape="rect" id="node20" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1594,977,1669,1003"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1571,1331,1692,1358"/>
<area shape="rect" id="node22" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1742,1281,1817,1307"/>
<area shape="rect" id="node23" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1740,1382,1819,1409"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ac82d5ce1e6743dc1ed6956446897c0ca" title="dbg_is_chk_orph" alt="" coords="593,1357,713,1383"/>
<area shape="rect" id="node27" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="587,698,718,725"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="595,901,710,927"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="587,1306,718,1333"/>
<area shape="rect" id="node50" href="ubifs_2orphan_8c.html#ab4fc974abbf29a8c69f8a42a856cd22b" title="dbg_free_check_tree" alt="" coords="581,951,724,978"/>
<area shape="rect" id="node28" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="809,521,894,547"/>
<area shape="rect" id="node34" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="997,647,1131,674"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#a103a96c1adc88c4d7b6ee12cce5057cc" title="dbg_read_orphans" alt="" coords="787,749,915,775"/>
<area shape="rect" id="node29" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="1005,445,1123,471"/>
<area shape="rect" id="node30" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="997,597,1131,623"/>
<area shape="rect" id="node31" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="1395,546,1508,573"/>
<area shape="rect" id="node32" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="1007,546,1121,573"/>
<area shape="rect" id="node33" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="979,495,1149,522"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#a13c02e5af5daadf8d522ac58d87f1e40" title="dbg_ins_check_orphan" alt="" coords="987,749,1141,775"/>
<area shape="rect" id="node38" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="790,1002,913,1029"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1386,1357,1517,1383"/>
<area shape="rect" id="node42" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="810,901,893,927"/>
<area shape="rect" id="node39" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1019,1002,1109,1029"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1206,1103,1323,1130"/>
<area shape="rect" id="node44" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="780,1205,923,1231"/>
<area shape="rect" id="node48" href="ubifs_2orphan_8c.html#a7c253ee02d12c9873b6e35c87a4bffd3" title="dbg_find_check_orphan" alt="" coords="772,1509,931,1535"/>
<area shape="rect" id="node49" href="ubifs_2orphan_8c.html#a04e243201131ffea680336dfb433c52b" title="dbg_find_orphan" alt="" coords="793,1407,910,1434"/>
<area shape="rect" id="node45" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1009,1306,1119,1333"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="988,1154,1140,1181"/>
<area shape="rect" id="node47" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1029,1357,1099,1383"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a85394180871fe6a819b8312c7c01f865_icgraph.png" border="0" usemap="#ubifs_8h_a85394180871fe6a819b8312c7c01f865_icgraph" alt=""/></div>
<map name="ubifs_8h_a85394180871fe6a819b8312c7c01f865_icgraph" id="ubifs_8h_a85394180871fe6a819b8312c7c01f865_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="228,247,315,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="370,184,481,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="363,272,488,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="731,145,845,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="944,120,1037,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="928,171,1053,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1140,5,1249,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1357,5,1451,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1133,56,1256,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="547,196,650,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="541,297,656,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="709,233,867,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="725,1171,851,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="536,399,661,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="927,233,1054,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1337,436,1471,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1148,208,1241,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1153,157,1236,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1150,259,1239,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1147,309,1243,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1143,360,1246,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1361,816,1447,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="933,385,1049,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="922,1412,1059,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="919,1272,1062,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="927,1348,1054,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="931,1171,1051,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="929,1221,1053,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="918,968,1063,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="915,1120,1067,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1149,411,1240,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1156,461,1233,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1149,512,1240,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1151,563,1238,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1145,1424,1244,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1354,1221,1454,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1133,1323,1256,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1119,1272,1270,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1141,1373,1248,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1145,867,1244,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1146,1120,1243,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="921,613,1060,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1133,664,1256,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1138,715,1251,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1155,765,1235,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1115,968,1275,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1349,917,1459,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1323,993,1485,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1161,613,1229,640"/>
</map>
</div>

</div>
</div>
<a id="a4644cfc76e621c7abb3683b063707f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4644cfc76e621c7abb3683b063707f4e">&#9670;&nbsp;</a></span>ubifs_orphan_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_orphan_start_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_orphan_start_commit - start commit of orphans. <code></code>: UBIFS file-system description object</p>
<p>Start commit of orphans. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4644cfc76e621c7abb3683b063707f4e_icgraph.png" border="0" usemap="#ubifs_8h_a4644cfc76e621c7abb3683b063707f4e_icgraph" alt=""/></div>
<map name="ubifs_8h_a4644cfc76e621c7abb3683b063707f4e_icgraph" id="ubifs_8h_a4644cfc76e621c7abb3683b063707f4e_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="183,247,269,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="325,184,435,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="317,272,443,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="685,145,800,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="899,120,992,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="883,171,1008,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1095,5,1204,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1312,5,1405,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1088,56,1211,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="502,196,605,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="496,297,611,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="664,233,821,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="680,1171,805,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="491,399,616,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="882,233,1009,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1292,436,1425,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1103,208,1196,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1108,157,1191,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1105,259,1194,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1101,309,1197,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1098,360,1201,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1315,816,1402,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="887,385,1003,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="877,1412,1014,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="874,1272,1017,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="882,1348,1009,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="885,1171,1005,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="883,1221,1007,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="873,968,1018,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="869,1120,1021,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1104,411,1195,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1111,461,1188,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1104,512,1195,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1106,563,1193,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1100,1424,1199,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1309,1221,1409,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1088,1323,1211,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1074,1272,1225,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1096,1373,1203,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1100,867,1199,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1101,1120,1198,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="876,613,1015,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1088,664,1211,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1093,715,1206,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1109,765,1189,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1069,968,1229,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1303,917,1414,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1277,993,1440,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1115,613,1183,640"/>
</map>
</div>

</div>
</div>
<a id="ac11db630f1593b785cd612588586aeae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11db630f1593b785cd612588586aeae">&#9670;&nbsp;</a></span>ubifs_pack_lsave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_pack_lsave </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lsave</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_pack_lsave - pack the LPT's save table. <code></code>: UBIFS file-system description object : buffer into which to pack : LPT's save table to pack </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac11db630f1593b785cd612588586aeae_cgraph.png" border="0" usemap="#ubifs_8h_ac11db630f1593b785cd612588586aeae_cgraph" alt=""/></div>
<map name="ubifs_8h_ac11db630f1593b785cd612588586aeae_cgraph" id="ubifs_8h_ac11db630f1593b785cd612588586aeae_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="176,5,255,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac11db630f1593b785cd612588586aeae_icgraph.png" border="0" usemap="#ubifs_8h_ac11db630f1593b785cd612588586aeae_icgraph" alt=""/></div>
<map name="ubifs_8h_ac11db630f1593b785cd612588586aeae_icgraph" id="ubifs_8h_ac11db630f1593b785cd612588586aeae_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="176,817,315,844"/>
<area shape="rect" id="node8" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="196,868,295,894"/>
<area shape="rect" id="node3" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="363,817,533,844"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="716,792,868,818"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1324,981,1417,1008"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1515,1108,1625,1134"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1713,1108,1807,1134"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="373,868,523,894"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="581,868,668,894"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="737,969,847,996"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="729,868,855,894"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1111,1020,1225,1046"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1308,1032,1433,1058"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1509,1158,1631,1185"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="927,817,1030,844"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="921,969,1036,996"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1089,969,1247,996"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1105,246,1231,273"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="916,868,1041,894"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1307,930,1434,957"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1693,829,1827,856"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1523,905,1617,932"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1529,1006,1611,1033"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1525,956,1615,982"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1522,804,1618,830"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1519,854,1621,881"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1717,550,1803,577"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1313,778,1429,805"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1302,196,1439,222"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1299,94,1442,121"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1307,145,1434,172"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1311,246,1431,273"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1309,18,1433,45"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1298,373,1443,400"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1295,297,1447,324"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1525,652,1615,678"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1531,702,1609,729"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1525,753,1615,780"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1527,601,1613,628"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1521,196,1619,222"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1710,196,1810,222"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1509,44,1631,70"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1495,94,1645,121"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1517,145,1623,172"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1521,398,1619,425"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1521,297,1619,324"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1301,677,1440,704"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1509,449,1631,476"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1513,500,1627,526"/>
</map>
</div>

</div>
</div>
<a id="abad99814ae0b31a6bfee2356440bf809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad99814ae0b31a6bfee2356440bf809">&#9670;&nbsp;</a></span>ubifs_pack_ltab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_pack_ltab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lpt__lprops.html">ubifs_lpt_lprops</a> *&#160;</td>
          <td class="paramname"><em>ltab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_pack_ltab - pack the LPT's own lprops table. <code></code>: UBIFS file-system description object : buffer into which to pack : LPT's own lprops table to pack </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abad99814ae0b31a6bfee2356440bf809_cgraph.png" border="0" usemap="#ubifs_8h_abad99814ae0b31a6bfee2356440bf809_cgraph" alt=""/></div>
<map name="ubifs_8h_abad99814ae0b31a6bfee2356440bf809_cgraph" id="ubifs_8h_abad99814ae0b31a6bfee2356440bf809_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="167,5,245,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abad99814ae0b31a6bfee2356440bf809_icgraph.png" border="0" usemap="#ubifs_8h_abad99814ae0b31a6bfee2356440bf809_icgraph" alt=""/></div>
<map name="ubifs_8h_abad99814ae0b31a6bfee2356440bf809_icgraph" id="ubifs_8h_abad99814ae0b31a6bfee2356440bf809_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="167,817,305,844"/>
<area shape="rect" id="node8" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="187,868,285,894"/>
<area shape="rect" id="node3" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="353,817,524,844"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="707,792,859,818"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1315,981,1408,1008"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1506,1108,1615,1134"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1704,1108,1797,1134"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="364,868,513,894"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="572,868,659,894"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="727,969,838,996"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="720,868,845,894"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1101,1020,1216,1046"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1299,1032,1424,1058"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1499,1158,1622,1185"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="918,817,1021,844"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="912,969,1027,996"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1080,969,1237,996"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1096,246,1221,273"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="907,868,1032,894"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1298,930,1425,957"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1684,829,1817,856"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1514,905,1607,932"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1519,1006,1602,1033"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1516,956,1605,982"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1513,804,1609,830"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1509,854,1612,881"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1707,550,1794,577"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1303,778,1419,805"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1293,196,1430,222"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1290,94,1433,121"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1298,145,1425,172"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1301,246,1421,273"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1299,18,1423,45"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1289,373,1434,400"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1285,297,1437,324"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1515,652,1606,678"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1522,702,1599,729"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1515,753,1606,780"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1517,601,1604,628"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1511,196,1610,222"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1701,196,1801,222"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1499,44,1622,70"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1485,94,1636,121"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1507,145,1614,172"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1511,398,1610,425"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1512,297,1609,324"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1292,677,1431,704"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1499,449,1622,476"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1504,500,1617,526"/>
</map>
</div>

</div>
</div>
<a id="afbec92ddd1b0c9598e498a10d859500b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbec92ddd1b0c9598e498a10d859500b">&#9670;&nbsp;</a></span>ubifs_pack_nnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_pack_nnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td>
          <td class="paramname"><em>nnode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_pack_nnode - pack all the bit fields of a nnode. <code></code>: UBIFS file-system description object : buffer into which to pack : nnode to pack </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_cgraph.png" border="0" usemap="#ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_cgraph" alt=""/></div>
<map name="ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_cgraph" id="ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="180,5,259,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_icgraph.png" border="0" usemap="#ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_icgraph" alt=""/></div>
<map name="ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_icgraph" id="ubifs_8h_afbec92ddd1b0c9598e498a10d859500b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="180,817,319,844"/>
<area shape="rect" id="node8" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="200,868,299,894"/>
<area shape="rect" id="node3" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="367,817,537,844"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="720,792,872,818"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1328,981,1421,1008"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1519,1108,1629,1134"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1717,1108,1811,1134"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="377,868,527,894"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="585,868,672,894"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="741,969,851,996"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="733,868,859,894"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1115,1020,1229,1046"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1312,1032,1437,1058"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1513,1158,1635,1185"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="931,817,1034,844"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="925,969,1040,996"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1093,969,1251,996"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1109,246,1235,273"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="920,868,1045,894"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1311,930,1438,957"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1697,829,1831,856"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1527,905,1621,932"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1533,1006,1615,1033"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1529,956,1619,982"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1526,804,1622,830"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1523,854,1625,881"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1721,550,1807,577"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1317,778,1433,805"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1306,196,1443,222"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1303,94,1446,121"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1311,145,1438,172"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1315,246,1435,273"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1313,18,1437,45"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1302,373,1447,400"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1299,297,1451,324"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1529,652,1619,678"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1535,702,1613,729"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1529,753,1619,780"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1531,601,1617,628"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1525,196,1623,222"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1714,196,1814,222"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1513,44,1635,70"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1499,94,1649,121"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1521,145,1627,172"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1525,398,1623,425"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1525,297,1623,324"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1305,677,1444,704"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1513,449,1635,476"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1517,500,1631,526"/>
</map>
</div>

</div>
</div>
<a id="a574e2659deacbc27b7d7738b336c32b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574e2659deacbc27b7d7738b336c32b0">&#9670;&nbsp;</a></span>ubifs_pack_pnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_pack_pnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__pnode.html">ubifs_pnode</a> *&#160;</td>
          <td class="paramname"><em>pnode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_pack_pnode - pack all the bit fields of a pnode. <code></code>: UBIFS file-system description object : buffer into which to pack : pnode to pack </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_cgraph.png" border="0" usemap="#ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_cgraph" alt=""/></div>
<map name="ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_cgraph" id="ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="180,5,259,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_icgraph.png" border="0" usemap="#ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_icgraph" alt=""/></div>
<map name="ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_icgraph" id="ubifs_8h_a574e2659deacbc27b7d7738b336c32b0_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="180,817,319,844"/>
<area shape="rect" id="node8" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="200,868,299,894"/>
<area shape="rect" id="node3" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="367,817,537,844"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="720,792,872,818"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1328,981,1421,1008"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1519,1108,1629,1134"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1717,1108,1811,1134"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="377,868,527,894"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="585,868,672,894"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="741,969,851,996"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="733,868,859,894"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1115,1020,1229,1046"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1312,1032,1437,1058"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1513,1158,1635,1185"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="931,817,1034,844"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="925,969,1040,996"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1093,969,1251,996"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1109,246,1235,273"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="920,868,1045,894"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1311,930,1438,957"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1697,829,1831,856"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1527,905,1621,932"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1533,1006,1615,1033"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1529,956,1619,982"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1526,804,1622,830"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1523,854,1625,881"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1721,550,1807,577"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1317,778,1433,805"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1306,196,1443,222"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1303,94,1446,121"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1311,145,1438,172"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1315,246,1435,273"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1313,18,1437,45"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1302,373,1447,400"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1299,297,1451,324"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1529,652,1619,678"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1535,702,1613,729"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1529,753,1619,780"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1531,601,1617,628"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1525,196,1623,222"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1714,196,1814,222"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1513,44,1635,70"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1499,94,1649,121"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1521,145,1627,172"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1525,398,1623,425"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1525,297,1623,324"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1305,677,1444,704"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1513,449,1635,476"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1517,500,1631,526"/>
</map>
</div>

</div>
</div>
<a id="aa52d954c97cdff3426851893fbbcf91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52d954c97cdff3426851893fbbcf91f">&#9670;&nbsp;</a></span>ubifs_pad()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_pad </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_pad - pad flash space. <code></code>: UBIFS file-system description object : buffer to put padding to : how many bytes to pad</p>
<p>The flash media obliges us to write only in chunks of c-&gt;min_io_size and when we have to write less data we add padding node to the write-buffer and pad it to the next minimal I/O unit's boundary. Padding nodes help when the media is being scanned. If the amount of wasted space is not enough to fit a padding node which takes UBIFS_PAD_NODE_SZ bytes, we write padding bytes pattern (UBIFS_PADDING_BYTE).</p>
<p>Padding nodes are also used to fill gaps when the "commit-in-gaps" method is used. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aa52d954c97cdff3426851893fbbcf91f_icgraph.png" border="0" usemap="#ubifs_8h_aa52d954c97cdff3426851893fbbcf91f_icgraph" alt=""/></div>
<map name="ubifs_8h_aa52d954c97cdff3426851893fbbcf91f_icgraph" id="ubifs_8h_aa52d954c97cdff3426851893fbbcf91f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#afc84fffe117700474d9902f71743efce" title="ubifs_prepare_node" alt="" coords="132,870,267,897"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="315,1073,472,1100"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="574,1022,637,1049"/>
<area shape="rect" id="node35" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="349,1124,437,1150"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="523,313,688,340"/>
<area shape="rect" id="node44" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="160,364,239,390"/>
<area shape="rect" id="node46" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="143,414,255,441"/>
<area shape="rect" id="node47" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="935,516,1085,542"/>
<area shape="rect" id="node49" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="160,617,239,644"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1146,642,1293,669"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="333,769,453,796"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="536,921,675,948"/>
<area shape="rect" id="node23" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="1144,414,1295,441"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1781,281,1867,308"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="1149,820,1290,846"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="337,972,450,998"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="531,465,679,492"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="1380,617,1512,644"/>
<area shape="rect" id="node21" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="520,870,691,897"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="754,921,871,948"/>
<area shape="rect" id="node7" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="755,465,871,492"/>
<area shape="rect" id="node11" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1597,212,1703,238"/>
<area shape="rect" id="node8" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="962,465,1058,492"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1133,262,1305,289"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1372,161,1520,188"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1367,465,1525,492"/>
<area shape="rect" id="node15" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1619,161,1681,188"/>
<area shape="rect" id="node12" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1761,212,1887,238"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1945,193,2061,220"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1935,256,2072,282"/>
<area shape="rect" id="node17" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1603,668,1697,694"/>
<area shape="rect" id="node18" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1587,541,1713,568"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1587,364,1713,390"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1370,870,1522,897"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="1355,313,1537,340"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="1353,414,1539,441"/>
<area shape="rect" id="node27" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="967,1073,1053,1100"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1368,769,1524,796"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="1365,820,1527,846"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="746,1022,879,1049"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="529,1124,682,1150"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="936,414,1084,441"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="739,95,887,136"/>
<area shape="rect" id="node42" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1781,102,1867,129"/>
<area shape="rect" id="node43" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="753,668,873,694"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1389,566,1503,593"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="965,102,1055,129"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="331,364,455,390"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="1387,364,1505,390"/>
</map>
</div>

</div>
</div>
<a id="a9d5677a6fb9ba9810931ab381e9ca3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5677a6fb9ba9810931ab381e9ca3e3">&#9670;&nbsp;</a></span>ubifs_prep_grp_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_prep_grp_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_prep_grp_node - prepare node of a group to be written to flash. <code></code>: UBIFS file-system description object : the node to pad : node length : indicates the last node of the group</p>
<p>This function prepares node at  to be written to the media - it calculates node CRC and fills the common header. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph.png" border="0" usemap="#ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph" alt=""/></div>
<map name="ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph" id="ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="196,56,289,83"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="355,5,427,32"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="337,56,444,83"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="492,81,577,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph.png" border="0" usemap="#ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph" alt=""/></div>
<map name="ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph" id="ubifs_8h_a9d5677a6fb9ba9810931ab381e9ca3e3_icgraph">
<area shape="rect" id="node2" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="196,518,284,544"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="350,315,466,342"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="345,619,471,646"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="348,568,468,595"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="346,670,470,696"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="335,264,481,291"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="337,518,479,544"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="332,454,484,480"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="562,239,653,266"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="561,188,654,215"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="566,492,649,519"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="569,290,646,316"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="562,340,653,367"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="564,391,651,418"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="563,36,652,63"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="559,87,655,114"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="556,138,659,164"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="738,239,846,266"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="915,163,1049,190"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1111,214,1184,240"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="901,214,1063,240"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="744,492,840,519"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="749,555,835,582"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="932,618,1032,644"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="546,543,669,570"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="532,594,683,620"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="731,606,853,632"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="739,682,845,708"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="557,746,657,772"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="745,746,839,772"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="743,62,841,88"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="559,442,656,468"/>
</map>
</div>

</div>
</div>
<a id="afc84fffe117700474d9902f71743efce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc84fffe117700474d9902f71743efce">&#9670;&nbsp;</a></span>ubifs_prepare_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_prepare_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_prepare_node - prepare node to be written to flash. <code></code>: UBIFS file-system description object : the node to pad : node length : if the buffer has to be padded</p>
<p>This function prepares node at  to be written to the media - it calculates node CRC, fills the common header, and adds proper padding up to the next minimum I/O unit if  is not zero. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afc84fffe117700474d9902f71743efce_cgraph.png" border="0" usemap="#ubifs_8h_afc84fffe117700474d9902f71743efce_cgraph" alt=""/></div>
<map name="ubifs_8h_afc84fffe117700474d9902f71743efce_cgraph" id="ubifs_8h_afc84fffe117700474d9902f71743efce_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="188,56,281,83"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="195,107,274,133"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="347,5,419,32"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="329,56,436,83"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="484,81,569,108"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afc84fffe117700474d9902f71743efce_icgraph.png" border="0" usemap="#ubifs_8h_afc84fffe117700474d9902f71743efce_icgraph" alt=""/></div>
<map name="ubifs_8h_afc84fffe117700474d9902f71743efce_icgraph" id="ubifs_8h_afc84fffe117700474d9902f71743efce_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="207,309,327,336"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="409,5,548,32"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="813,783,964,809"/>
<area shape="rect" id="node40" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="188,512,345,539"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="224,157,309,184"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="818,613,959,640"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#ad681f20f8fb62e0331f43526e7fc5c99" title="make_idx_node" alt="" coords="210,715,323,741"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="223,563,311,589"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="405,157,553,184"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="413,309,545,336"/>
<area shape="rect" id="node27" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="393,411,564,437"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="630,5,747,32"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="827,5,951,32"/>
<area shape="rect" id="node6" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="1044,5,1163,32"/>
<area shape="rect" id="node8" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="631,157,747,184"/>
<area shape="rect" id="node10" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="835,107,942,133"/>
<area shape="rect" id="node9" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="841,157,937,184"/>
<area shape="rect" id="node11" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1273,107,1398,133"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1476,81,1613,108"/>
<area shape="rect" id="node13" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1679,81,1777,108"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1498,512,1591,539"/>
<area shape="rect" id="node17" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1482,600,1607,627"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="1483,335,1606,361"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="631,259,746,285"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="613,411,765,437"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1673,512,1783,539"/>
<area shape="rect" id="node18" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1667,587,1789,613"/>
<area shape="rect" id="node22" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="845,411,932,437"/>
<area shape="rect" id="node23" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1048,461,1159,488"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1041,411,1166,437"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1278,461,1393,488"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1284,411,1387,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1027,512,1179,539"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="1012,833,1195,860"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ade432ff9351ac85efcb9cf0094d7b157" title="ubifs_write_rcvrd_mst_node" alt="" coords="1243,789,1428,816"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1271,563,1400,589"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1481,789,1608,816"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1661,815,1795,841"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1681,865,1775,892"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1687,916,1769,943"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1683,663,1773,689"/>
<area shape="rect" id="node37" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1680,713,1776,740"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1677,764,1779,791"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1257,613,1413,640"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="1022,727,1185,753"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="1295,739,1376,765"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#aaab41523ed81f906598dbc52e68444ac" title="fill_gap" alt="" coords="447,715,510,741"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="622,715,755,741"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="612,563,765,589"/>
</map>
</div>

</div>
</div>
<a id="ae25afe7a337008e52b357558646ed71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae25afe7a337008e52b357558646ed71f">&#9670;&nbsp;</a></span>ubifs_rcvry_gc_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_rcvry_gc_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_rcvry_gc_commit - recover the GC LEB number and run the commit. <code></code>: UBIFS file-system description object</p>
<p>Out-of-place garbage collection requires always one empty LEB with which to start garbage collection. The LEB number is recorded in c-&gt;gc_lnum and is written to the master node on unmounting. In the case of an unclean unmount the value of gc_lnum recorded in the master node is out of date and cannot be used. Instead, recovery must allocate an empty LEB for this purpose. However, there may not be enough empty space, in which case it must be possible to GC the dirtiest LEB into the GC head LEB.</p>
<p>This function also runs the commit which causes the TNC updates from size-recovery and orphans to be written to the flash. That is important to ensure correct replay order for subsequent mounts.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae25afe7a337008e52b357558646ed71f_cgraph.png" border="0" usemap="#ubifs_8h_ae25afe7a337008e52b357558646ed71f_cgraph" alt=""/></div>
<map name="ubifs_8h_ae25afe7a337008e52b357558646ed71f_cgraph" id="ubifs_8h_ae25afe7a337008e52b357558646ed71f_cgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="211,444,325,471"/>
<area shape="rect" id="node15" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="1013,1037,1133,1064"/>
<area shape="rect" id="node18" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1451,448,1523,475"/>
<area shape="rect" id="node30" href="ubifs_2commit_8c.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="397,752,522,779"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="991,1259,1156,1285"/>
<area shape="rect" id="node40" href="find_8c.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="798,752,933,779"/>
<area shape="rect" id="node43" href="ubifs_2gc_8c.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="373,1208,545,1235"/>
<area shape="rect" id="node3" href="find_8c.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="601,546,732,587"/>
<area shape="rect" id="node20" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="793,448,937,475"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="601,257,732,284"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="397,123,521,149"/>
<area shape="rect" id="node4" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1015,600,1132,627"/>
<area shape="rect" id="node5" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="998,651,1149,677"/>
<area shape="rect" id="node6" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="993,803,1153,829"/>
<area shape="rect" id="node7" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="1002,448,1145,475"/>
<area shape="rect" id="node10" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1015,701,1131,728"/>
<area shape="rect" id="node14" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1003,549,1144,576"/>
<area shape="rect" id="node8" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="1217,752,1367,779"/>
<area shape="rect" id="node9" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1218,549,1366,576"/>
<area shape="rect" id="node11" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="1239,701,1345,728"/>
<area shape="rect" id="node12" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1235,397,1349,424"/>
<area shape="rect" id="node13" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1231,651,1353,677"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1428,1183,1547,1209"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1235,1005,1349,1032"/>
<area shape="rect" id="node19" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1434,1107,1541,1133"/>
<area shape="rect" id="node22" href="lprops_8c.html#a8a4a969b18d269964ff80d11eb94b8ab" title="ubifs_get_lp_stats" alt="" coords="801,701,929,728"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="801,195,929,221"/>
<area shape="rect" id="node24" href="lprops_8c.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="802,296,929,323"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1011,245,1135,272"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1251,245,1333,272"/>
<area shape="rect" id="node28" href="budget_8c.html#adaa1427281786d8bfca793236b5f0457" title="ubifs_calc_available" alt="" coords="796,93,935,120"/>
<area shape="rect" id="node29" href="budget_8c.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="593,145,740,186"/>
<area shape="rect" id="node31" href="ubifs_2commit_8c.html#a8066477fd4d182a562575fec9c1460f9" title="wait_for_commit" alt="" coords="607,752,726,779"/>
<area shape="rect" id="node32" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="623,904,710,931"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#a349da7e934725810c922b20daec868ae" title="nothing_to_commit" alt="" coords="799,1005,931,1032"/>
<area shape="rect" id="node34" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="805,1259,925,1285"/>
<area shape="rect" id="node39" href="ubifs_2gc_8c.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="788,803,943,829"/>
<area shape="rect" id="node36" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="1204,1259,1380,1285"/>
<area shape="rect" id="node37" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="1253,1309,1331,1336"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1237,1157,1347,1184"/>
<area shape="rect" id="node41" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="1021,752,1125,779"/>
<area shape="rect" id="node42" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7" title="scan_for_dirty_cb" alt="" coords="1229,803,1355,829"/>
<area shape="rect" id="node44" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="610,1259,723,1285"/>
<area shape="rect" id="node45" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="624,1056,709,1083"/>
<area shape="rect" id="node46" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="798,1309,933,1336"/>
<area shape="rect" id="node47" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="629,1360,704,1387"/>
<area shape="rect" id="node48" href="misc_8h.html#ac244bb6ab2f45cd8b870edc621d20deb" title="ubifs_idx_key" alt="" coords="615,1461,718,1488"/>
<area shape="rect" id="node49" href="tnc_8c.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="596,1107,737,1133"/>
<area shape="rect" id="node50" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="619,1157,715,1184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae25afe7a337008e52b357558646ed71f_icgraph.png" border="0" usemap="#ubifs_8h_ae25afe7a337008e52b357558646ed71f_icgraph" alt=""/></div>
<map name="ubifs_8h_ae25afe7a337008e52b357558646ed71f_icgraph" id="ubifs_8h_ae25afe7a337008e52b357558646ed71f_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="227,5,321,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="211,56,337,83"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="211,208,337,235"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="397,5,507,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="568,5,661,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="391,56,513,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="385,107,519,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="405,157,499,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="411,208,493,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="407,259,497,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="404,309,500,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="401,360,503,387"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="578,107,651,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="567,183,663,209"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="571,233,658,260"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="711,233,811,260"/>
</map>
</div>

</div>
</div>
<a id="ac45820de3d377c5a1f29a160f5fb0d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45820de3d377c5a1f29a160f5fb0d77">&#9670;&nbsp;</a></span>ubifs_read_master()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_master - read master node. <code></code>: UBIFS file-system description object</p>
<p>This function finds and reads the master node during file-system mount. If the flash is empty, it creates default master node as well. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_cgraph.png" border="0" usemap="#ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_cgraph" alt=""/></div>
<map name="ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_cgraph" id="ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_cgraph">
<area shape="rect" id="node2" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="215,134,333,160"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1049,411,1121,438"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1023,740,1147,767"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="183,654,365,680"/>
<area shape="rect" id="node48" href="master_8c.html#abcff9867fae9df56cce08f7ac1b0ae4b" title="validate_master" alt="" coords="823,386,937,412"/>
<area shape="rect" id="node49" href="ubifs_2commit_8c.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="189,508,359,535"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="446,171,531,198"/>
<area shape="rect" id="node28" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="612,44,747,71"/>
<area shape="rect" id="node4" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="620,298,739,324"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="612,588,747,615"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="623,95,736,122"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="623,247,736,274"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="795,146,965,172"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="827,487,933,514"/>
<area shape="rect" id="node8" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="809,588,951,615"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1405,816,1487,843"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="817,740,943,767"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1239,842,1313,868"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1225,740,1327,767"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1229,791,1323,818"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1239,272,1313,299"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1215,588,1337,615"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1216,690,1336,716"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1405,867,1487,894"/>
<area shape="rect" id="node18" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1409,588,1483,615"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1407,639,1485,666"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1396,690,1496,716"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1407,487,1485,514"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1405,538,1487,564"/>
<area shape="rect" id="node25" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="825,95,935,122"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="427,588,550,615"/>
<area shape="rect" id="node32" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="447,690,530,716"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="413,1070,564,1096"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="642,639,717,666"/>
<area shape="rect" id="node34" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="612,1070,747,1096"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="618,1146,741,1172"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="833,1095,927,1122"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="841,1044,919,1071"/>
<area shape="rect" id="node36" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1031,1146,1138,1172"/>
<area shape="rect" id="node37" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1233,1146,1319,1172"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1217,1196,1335,1223"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="822,1247,938,1274"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1021,1298,1148,1324"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="1013,1247,1156,1274"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1206,1247,1346,1274"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1204,1298,1348,1324"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1235,1348,1317,1375"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1233,1399,1319,1426"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="621,740,738,767"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_icgraph.png" border="0" usemap="#ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_icgraph" alt=""/></div>
<map name="ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_icgraph" id="ubifs_8h_ac45820de3d377c5a1f29a160f5fb0d77_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="183,5,276,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="324,5,433,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="481,5,575,32"/>
</map>
</div>

</div>
</div>
<a id="a6d9ea5f42b955fdb68064bc37bd9540d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d9ea5f42b955fdb68064bc37bd9540d">&#9670;&nbsp;</a></span>ubifs_read_nnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_nnode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_nnode - read a nnode from flash and link it to the tree in memory. <code></code>: UBIFS file-system description object : parent nnode (or NULL for the root) : index in parent</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_cgraph.png" border="0" usemap="#ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_cgraph" alt=""/></div>
<map name="ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_cgraph" id="ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="367,19,520,61"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="195,157,301,184"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="595,183,667,209"/>
<area shape="rect" id="node5" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="177,233,319,260"/>
<area shape="rect" id="node9" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="193,5,303,32"/>
<area shape="rect" id="node6" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="388,208,499,235"/>
<area shape="rect" id="node7" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="568,259,695,285"/>
<area shape="rect" id="node8" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="392,259,495,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_icgraph.png" border="0" usemap="#ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_icgraph" alt=""/></div>
<map name="ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_icgraph" id="ubifs_8h_a6d9ea5f42b955fdb68064bc37bd9540d_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="177,882,295,909"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="360,831,476,858"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="344,375,492,402"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="367,933,469,959"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#a1108bc5520b20e0cde6b2cad0ba79170" title="nnode_lookup" alt="" coords="367,983,469,1010"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="343,223,493,250"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="349,882,487,909"/>
<area shape="rect" id="node4" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="741,578,879,605"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="549,679,676,706"/>
<area shape="rect" id="node11" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="553,831,673,858"/>
<area shape="rect" id="node14" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="570,882,655,909"/>
<area shape="rect" id="node16" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="552,781,673,807"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="943,578,1101,605"/>
<area shape="rect" id="node6" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1156,578,1289,605"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="745,679,875,706"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1165,71,1280,98"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="959,806,1085,833"/>
<area shape="rect" id="node12" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="751,933,869,959"/>
<area shape="rect" id="node13" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="733,831,887,858"/>
<area shape="rect" id="node15" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="769,983,851,1010"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="732,781,888,807"/>
<area shape="rect" id="node19" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="561,122,665,149"/>
<area shape="rect" id="node21" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="545,173,680,199"/>
<area shape="rect" id="node23" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="541,71,684,98"/>
<area shape="rect" id="node25" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="749,375,871,402"/>
<area shape="rect" id="node26" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="755,426,865,453"/>
<area shape="rect" id="node27" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="555,325,671,351"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="738,223,882,250"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="739,274,881,301"/>
<area shape="rect" id="node39" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="755,477,865,503"/>
<area shape="rect" id="node40" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="767,527,853,554"/>
<area shape="rect" id="node20" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="743,71,877,98"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="735,122,885,149"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="957,5,1087,47"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="733,325,887,351"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="971,122,1073,149"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="936,173,1108,199"/>
<area shape="rect" id="node32" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="947,223,1097,250"/>
<area shape="rect" id="node33" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="965,274,1079,301"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="948,325,1096,351"/>
<area shape="rect" id="node35" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="965,375,1079,402"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="955,527,1089,554"/>
<area shape="rect" id="node38" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="971,477,1073,503"/>
<area shape="rect" id="node42" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="555,933,670,959"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="549,1085,677,1111"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#aa3569efac5e610dbf88b10d9d6e3bf03" title="dbg_is_pnode_dirty" alt="" coords="545,1034,680,1061"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="556,983,669,1010"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="549,1135,677,1162"/>
<area shape="rect" id="node50" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="549,730,676,757"/>
</map>
</div>

</div>
</div>
<a id="ab1c29d586db30bacfa2c9a73369a8870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1c29d586db30bacfa2c9a73369a8870">&#9670;&nbsp;</a></span>ubifs_read_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_node - read node. <code></code>: UBIFS file-system description object : buffer to read to : node type : node length (not aligned) : logical eraseblock number : offset within the logical eraseblock</p>
<p>This function reads a node of known type and and length, checks it and stores in . Returns zero in case of success, %-EUCLEAN if CRC mismatched and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_cgraph.png" border="0" usemap="#ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_cgraph" alt=""/></div>
<map name="ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_cgraph" id="ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="695,5,778,32"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="181,56,287,83"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="171,107,297,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="345,157,469,184"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="371,81,443,108"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="541,56,615,83"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="527,107,629,133"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="531,157,625,184"/>
<area shape="rect" id="node11" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="541,208,615,235"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="517,259,639,285"/>
<area shape="rect" id="node18" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="518,309,638,336"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="695,56,778,83"/>
<area shape="rect" id="node13" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="699,157,774,184"/>
<area shape="rect" id="node14" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="697,208,776,235"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="687,259,787,285"/>
<area shape="rect" id="node16" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="697,309,776,336"/>
<area shape="rect" id="node17" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="696,360,777,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_icgraph.png" border="0" usemap="#ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_icgraph" alt=""/></div>
<map name="ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_icgraph" id="ubifs_8h_ab1c29d586db30bacfa2c9a73369a8870_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="171,593,323,620"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="371,455,513,481"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="963,885,1133,912"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="1189,784,1336,811"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="979,987,1117,1013"/>
<area shape="rect" id="node44" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="202,733,291,760"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="561,24,711,51"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="780,429,893,456"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="1005,480,1091,507"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="785,531,888,557"/>
<area shape="rect" id="node21" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="571,581,701,608"/>
<area shape="rect" id="node23" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="759,176,915,203"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="989,125,1107,152"/>
<area shape="rect" id="node29" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="581,303,691,329"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="773,24,900,51"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="993,37,1103,64"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1392,683,1519,709"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="1189,227,1336,253"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1578,733,1681,760"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1571,581,1687,608"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1573,632,1686,659"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1580,683,1679,709"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1747,733,1856,760"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1740,379,1863,405"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1911,252,2033,279"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="1187,683,1339,709"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1409,911,1502,937"/>
<area shape="rect" id="node22" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="767,632,906,659"/>
<area shape="rect" id="node26" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="995,328,1101,355"/>
<area shape="rect" id="node27" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="985,176,1111,203"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="982,277,1114,304"/>
<area shape="rect" id="node25" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1203,176,1323,203"/>
<area shape="rect" id="node30" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="777,227,896,253"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1198,885,1327,912"/>
<area shape="rect" id="node33" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1412,784,1499,811"/>
<area shape="rect" id="node34" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1574,784,1685,811"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1567,835,1692,861"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1393,1000,1518,1027"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="1187,936,1339,963"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="1185,987,1341,1013"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="1181,1088,1344,1115"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1568,1000,1691,1027"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="1415,1088,1496,1115"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="381,708,503,735"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="579,683,693,709"/>
<area shape="rect" id="node47" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="595,733,677,760"/>
<area shape="rect" id="node48" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="785,784,888,811"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="568,379,704,405"/>
<area shape="rect" id="node50" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="569,632,703,659"/>
</map>
</div>

</div>
</div>
<a id="a602b7041efb930fbe55efc9b3b2ea270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602b7041efb930fbe55efc9b3b2ea270">&#9670;&nbsp;</a></span>ubifs_read_node_wbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_node_wbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_node_wbuf - read node from the media or write-buffer. : wbuf to check for un-written data : buffer to read to : node type : node length : logical eraseblock number : offset within the logical eraseblock</p>
<p>This function reads a node of known type and length, checks it and stores in . If the node partially or fully sits in the write-buffer, this function takes data from the buffer, otherwise it reads the flash media. Returns zero in case of success, %-EUCLEAN if CRC mismatched and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_cgraph.png" border="0" usemap="#ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_cgraph" alt=""/></div>
<map name="ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_cgraph" id="ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="895,43,978,69"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="223,347,305,373"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="205,144,323,171"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="381,296,487,323"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="571,245,643,272"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="371,195,497,221"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="545,195,669,221"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="741,93,815,120"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="727,144,829,171"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="731,195,825,221"/>
<area shape="rect" id="node13" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="741,245,815,272"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="717,296,839,323"/>
<area shape="rect" id="node20" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="718,347,838,373"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="895,93,978,120"/>
<area shape="rect" id="node15" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="899,195,974,221"/>
<area shape="rect" id="node16" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="897,245,976,272"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="887,296,987,323"/>
<area shape="rect" id="node18" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="897,347,976,373"/>
<area shape="rect" id="node19" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="896,397,977,424"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_icgraph.png" border="0" usemap="#ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_icgraph" alt=""/></div>
<map name="ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_icgraph" id="ubifs_8h_a602b7041efb930fbe55efc9b3b2ea270_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="205,740,348,767"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="396,284,545,311"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="414,715,527,741"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="629,765,714,792"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="419,867,522,893"/>
<area shape="rect" id="node29" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="405,917,536,944"/>
<area shape="rect" id="node32" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="593,664,749,691"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="826,816,943,843"/>
<area shape="rect" id="node49" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="415,613,526,640"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="608,284,735,311"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="829,233,940,260"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1431,689,1558,716"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="1051,5,1153,32"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="1040,107,1164,133"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1243,208,1371,235"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="1039,157,1165,184"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="1027,360,1177,387"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="1029,461,1175,488"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="1020,411,1184,437"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1023,56,1181,83"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1615,765,1717,792"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1608,613,1724,640"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1609,664,1723,691"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1617,715,1715,741"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1437,233,1553,260"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1238,5,1375,32"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1245,411,1369,437"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1232,360,1381,387"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1429,917,1560,944"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1619,1019,1713,1045"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="809,867,961,893"/>
<area shape="rect" id="node30" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="602,917,741,944"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="797,917,972,944"/>
<area shape="rect" id="node40" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="831,664,938,691"/>
<area shape="rect" id="node41" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="821,715,948,741"/>
<area shape="rect" id="node43" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="819,613,951,640"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1245,1069,1368,1096"/>
<area shape="rect" id="node35" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1042,917,1162,944"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1264,968,1349,995"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1267,816,1346,843"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1234,867,1379,893"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1236,1019,1377,1045"/>
<area shape="rect" id="node42" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="1051,981,1153,1008"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="1052,664,1152,691"/>
<area shape="rect" id="node45" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="1054,512,1150,539"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="1024,563,1180,589"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1039,765,1165,792"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1253,664,1360,691"/>
<area shape="rect" id="node50" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="612,613,731,640"/>
</map>
</div>

</div>
</div>
<a id="a1eb6fc2cca5a1e34192e3c54b90d3057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb6fc2cca5a1e34192e3c54b90d3057">&#9670;&nbsp;</a></span>ubifs_read_one_lp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_one_lp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_one_lp - read LEB properties. <code></code>: the UBIFS file-system description object : LEB to read properties for : where to store read properties</p>
<p>This helper function reads properties of a LEB  and stores them in . Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_cgraph.png" border="0" usemap="#ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_cgraph" alt=""/></div>
<map name="ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_cgraph" id="ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="192,502,309,529"/>
<area shape="rect" id="node3" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="193,629,309,655"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1277,375,1349,402"/>
<area shape="rect" id="node31" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="180,679,321,706"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="676,274,800,301"/>
<area shape="rect" id="node13" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="369,654,487,681"/>
<area shape="rect" id="node14" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="369,705,487,731"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1040,5,1193,47"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="865,325,972,351"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="848,147,989,174"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="864,14,973,41"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1061,122,1172,149"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1250,147,1377,174"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1065,173,1168,199"/>
<area shape="rect" id="node15" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="693,477,783,503"/>
<area shape="rect" id="node22" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="535,730,628,757"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1040,545,1193,587"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1037,274,1196,301"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="865,223,972,250"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="864,578,973,605"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="860,629,977,655"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="853,477,984,503"/>
<area shape="rect" id="node23" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="677,730,799,757"/>
<area shape="rect" id="node24" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="860,831,977,858"/>
<area shape="rect" id="node25" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1244,882,1383,909"/>
<area shape="rect" id="node26" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1051,882,1182,909"/>
<area shape="rect" id="node27" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1057,781,1177,807"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1255,730,1371,757"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1248,781,1379,807"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1251,831,1375,858"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_icgraph.png" border="0" usemap="#ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_icgraph" alt=""/></div>
<map name="ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_icgraph" id="ubifs_8h_a1eb6fc2cca5a1e34192e3c54b90d3057_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="180,791,311,817"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1216,917,1349,944"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="1219,816,1347,843"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="366,715,465,741"/>
<area shape="rect" id="node9" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="526,816,641,843"/>
<area shape="rect" id="node18" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1220,233,1345,260"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="695,689,821,716"/>
<area shape="rect" id="node44" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="1431,968,1540,995"/>
<area shape="rect" id="node49" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="359,639,472,665"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1439,765,1532,792"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1423,841,1548,868"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1630,867,1739,893"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1623,917,1746,944"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1204,765,1361,792"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1422,715,1549,741"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1638,816,1731,843"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1643,613,1726,640"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1640,664,1729,691"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1637,715,1733,741"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1633,765,1736,792"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1815,411,1901,437"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1427,588,1543,615"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1417,56,1554,83"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1414,259,1557,285"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1422,335,1549,361"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1425,208,1545,235"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1423,5,1547,32"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1413,107,1558,133"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1409,157,1561,184"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1639,411,1730,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1646,461,1723,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1639,512,1730,539"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1641,563,1728,589"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1635,56,1734,83"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1808,31,1908,57"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1623,259,1746,285"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1609,309,1760,336"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1631,360,1738,387"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1635,107,1734,133"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1636,157,1733,184"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="876,664,979,691"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="869,765,985,792"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="871,715,984,741"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="878,613,977,640"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1040,664,1149,691"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1033,867,1156,893"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="1631,968,1738,995"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="1035,740,1155,767"/>
<area shape="rect" id="node50" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="520,613,647,640"/>
</map>
</div>

</div>
</div>
<a id="a5aea8a0dedc50e5d3693a4961c3c494d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aea8a0dedc50e5d3693a4961c3c494d">&#9670;&nbsp;</a></span>ubifs_read_sb_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__sb__node.html">ubifs_sb_node</a>* ubifs_read_sb_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_sb_node - read superblock node. <code></code>: UBIFS file-system description object</p>
<p>This function returns a pointer to the superblock node or a negative error code. Note, the user of this function is responsible of kfree()'ing the returned superblock buffer. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_cgraph.png" border="0" usemap="#ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_cgraph" alt=""/></div>
<map name="ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_cgraph" id="ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="192,81,309,108"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="882,5,965,32"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="367,56,474,83"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="357,107,484,133"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="532,157,656,184"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="558,81,630,108"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="727,56,802,83"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="713,107,816,133"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="717,157,812,184"/>
<area shape="rect" id="node12" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="727,208,802,235"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="704,259,825,285"/>
<area shape="rect" id="node19" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="705,309,825,336"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="882,56,965,83"/>
<area shape="rect" id="node14" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="886,157,961,184"/>
<area shape="rect" id="node15" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="884,208,963,235"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="873,259,973,285"/>
<area shape="rect" id="node17" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="884,309,963,336"/>
<area shape="rect" id="node18" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="883,360,964,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_icgraph.png" border="0" usemap="#ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_icgraph" alt=""/></div>
<map name="ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_icgraph" id="ubifs_8h_a5aea8a0dedc50e5d3693a4961c3c494d_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="403,5,528,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="197,107,349,133"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="195,56,351,83"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="192,164,355,191"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="578,5,701,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="419,56,512,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="585,56,694,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="771,49,864,76"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="425,176,506,203"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="576,201,703,228"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="751,100,884,127"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="771,151,864,177"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="776,201,859,228"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="773,252,862,279"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="769,303,865,329"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="766,353,869,380"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="943,100,1017,127"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="932,176,1028,203"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="937,227,1023,253"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1076,227,1176,253"/>
</map>
</div>

</div>
</div>
<a id="a92995d9363effd044b46c432911fd7c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92995d9363effd044b46c432911fd7c6">&#9670;&nbsp;</a></span>ubifs_read_superblock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_read_superblock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_read_superblock - read superblock. <code></code>: UBIFS file-system description object</p>
<p>This function finds, reads and checks the superblock. If an empty UBI volume is being mounted, this function creates default superblock. Returns zero in case of success, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a92995d9363effd044b46c432911fd7c6_cgraph.png" border="0" usemap="#ubifs_8h_a92995d9363effd044b46c432911fd7c6_cgraph" alt=""/></div>
<map name="ubifs_8h_a92995d9363effd044b46c432911fd7c6_cgraph" id="ubifs_8h_a92995d9363effd044b46c432911fd7c6_cgraph">
<area shape="rect" id="node2" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="205,828,376,855"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1006,588,1078,615"/>
<area shape="rect" id="node37" href="key_8h.html#a9a10b02d73a5a824000f371a20d70ee7" title="key_r5_hash" alt="" coords="447,1019,543,1045"/>
<area shape="rect" id="node43" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="453,1069,536,1096"/>
<area shape="rect" id="node44" href="sb_8c.html#a5aea8a0dedc50e5d3693a4961c3c494d" title="ubifs_read_sb_node" alt="" coords="221,424,360,451"/>
<area shape="rect" id="node48" href="key_8h.html#ace0b36f7e7792eb4c92ca3e735137908" title="key_test_hash" alt="" coords="237,1159,344,1185"/>
<area shape="rect" id="node49" href="sb_8c.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="424,917,565,944"/>
<area shape="rect" id="node50" href="sb_8c.html#ab18bf5d265fdb376ea8e8d8c0f77af4a" title="validate_sb" alt="" coords="451,524,539,551"/>
<area shape="rect" id="node3" href="lpt_8c.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="425,968,564,995"/>
<area shape="rect" id="node7" href="misc_8h.html#ac7a685691e935bc3ef4a7918e107c8de" title="ubifs_idx_node_sz" alt="" coords="615,715,746,741"/>
<area shape="rect" id="node22" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="435,664,555,691"/>
<area shape="rect" id="node36" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="982,259,1102,285"/>
<area shape="rect" id="node40" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="449,867,540,893"/>
<area shape="rect" id="node41" href="key_8h.html#a6a23a0657894a1a52a8a3046007995b3" title="key_write_idx" alt="" coords="443,715,546,741"/>
<area shape="rect" id="node42" href="key_8h.html#a0eb1cf0ecc00556383b326058c65f846" title="ino_key_init_flash" alt="" coords="431,765,558,792"/>
<area shape="rect" id="node4" href="lpt_8c.html#ac2ee8aabdad7db3026557a3b8fe1fffa" title="calc_dflt_lpt_geom" alt="" coords="615,816,746,843"/>
<area shape="rect" id="node8" href="lpt_8c.html#a574e2659deacbc27b7d7738b336c32b0" title="ubifs_pack_pnode" alt="" coords="617,1069,744,1096"/>
<area shape="rect" id="node10" href="lpt_8c.html#a837361d188d5f97c2d8deb5c23714c4f" title="set_ltab" alt="" coords="647,1019,715,1045"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="619,917,742,944"/>
<area shape="rect" id="node18" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="621,1120,741,1147"/>
<area shape="rect" id="node19" href="lpt_8c.html#afbec92ddd1b0c9598e498a10d859500b" title="ubifs_pack_nnode" alt="" coords="617,1171,744,1197"/>
<area shape="rect" id="node20" href="lpt_8c.html#ac11db630f1593b785cd612588586aeae" title="ubifs_pack_lsave" alt="" coords="619,1221,742,1248"/>
<area shape="rect" id="node21" href="lpt_8c.html#abad99814ae0b31a6bfee2356440bf809" title="ubifs_pack_ltab" alt="" coords="624,968,737,995"/>
<area shape="rect" id="node5" href="lpt_8c.html#a8b4d1e481e3c2afa2d9d7a3b334bba6c" title="do_calc_lpt_geom" alt="" coords="796,867,923,893"/>
<area shape="rect" id="node9" href="lpt_8c.html#ad94505f044e0e8c15f8d952701803027" title="pack_bits" alt="" coords="820,1221,899,1248"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1161,1120,1280,1147"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="801,1069,917,1096"/>
<area shape="rect" id="node17" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="989,917,1095,944"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="979,1019,1105,1045"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="971,1069,1113,1096"/>
<area shape="rect" id="node16" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1178,943,1263,969"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1179,309,1262,336"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="613,765,748,792"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="626,867,735,893"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="797,157,921,184"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="813,765,906,792"/>
<area shape="rect" id="node26" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="820,816,899,843"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="808,1019,911,1045"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1005,5,1079,32"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="991,56,1093,83"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="995,107,1089,133"/>
<area shape="rect" id="node34" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1005,157,1079,184"/>
<area shape="rect" id="node35" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="981,208,1103,235"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1179,5,1262,32"/>
<area shape="rect" id="node38" href="key_8h.html#af21b1399812ffc4f132af4b47381ae5c" title="key_mask_hash" alt="" coords="622,1272,739,1299"/>
<area shape="rect" id="node39" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="834,1272,885,1299"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="436,360,553,387"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="806,461,913,488"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="617,360,744,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a92995d9363effd044b46c432911fd7c6_icgraph.png" border="0" usemap="#ubifs_8h_a92995d9363effd044b46c432911fd7c6_icgraph" alt=""/></div>
<map name="ubifs_8h_a92995d9363effd044b46c432911fd7c6_icgraph" id="ubifs_8h_a92995d9363effd044b46c432911fd7c6_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="205,5,299,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="347,5,456,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="504,5,597,32"/>
</map>
</div>

</div>
</div>
<a id="ab0121bf0d3497aba350c96bbd431bea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0121bf0d3497aba350c96bbd431bea2">&#9670;&nbsp;</a></span>ubifs_recover_inl_heads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_recover_inl_heads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_recover_inl_heads - recover index and LPT heads. <code></code>: UBIFS file-system description object : LEB-sized buffer to use</p>
<p>This function ensures that there is no data on the flash at the index and LPT head locations.</p>
<p>This deals with the recovery of a half-completed journal commit. UBIFS is careful never to overwrite the last version of the index or the LPT. Because the index and LPT are wandering trees, data from a half-completed commit will not be referenced anywhere in UBIFS. The data will be either in LEBs that are assumed to be empty and will be unmapped anyway before use, or in the index and LPT heads.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_cgraph.png" border="0" usemap="#ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_cgraph" alt=""/></div>
<map name="ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_cgraph" id="ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_cgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="216,285,316,312"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="717,2084,823,2110"/>
<area shape="rect" id="node5" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="388,260,463,286"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="365,310,485,337"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="364,209,487,236"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1112,1628,1184,1654"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="917,108,1036,134"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="536,310,649,337"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="539,260,646,286"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="707,1045,833,1072"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="699,209,841,236"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="907,412,1047,438"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="905,462,1049,489"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="935,513,1018,540"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="933,564,1020,590"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="936,614,1017,641"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="909,665,1044,692"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="916,716,1037,742"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="913,766,1040,793"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="915,817,1039,844"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="897,868,1057,894"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="913,918,1041,945"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="915,969,1039,996"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="915,1020,1039,1046"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="911,1881,1042,1908"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="907,1121,1046,1148"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="920,1932,1033,1958"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="917,1222,1037,1249"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="911,1273,1042,1300"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="915,1324,1039,1350"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="911,1374,1042,1401"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="919,1425,1034,1452"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="913,1476,1040,1502"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="906,1526,1047,1553"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="919,1982,1034,2009"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="903,1628,1051,1654"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="899,209,1054,236"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="913,260,1040,286"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="891,1729,1062,1756"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="903,310,1050,337"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="918,361,1035,388"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="920,1070,1033,1097"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="902,1172,1051,1198"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="920,1577,1033,1604"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="889,1678,1064,1705"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="923,1780,1030,1806"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="921,1830,1032,1857"/>
<area shape="rect" id="node47" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="934,158,1019,185"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="535,209,651,236"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_icgraph.png" border="0" usemap="#ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_icgraph" alt=""/></div>
<map name="ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_icgraph" id="ubifs_8h_ab0121bf0d3497aba350c96bbd431bea2_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="233,5,326,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="217,56,342,83"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="216,208,343,235"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="403,5,512,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="573,5,667,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="396,56,519,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="391,107,524,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="411,157,504,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="416,208,499,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="413,259,502,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="409,309,505,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="406,360,509,387"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="583,107,657,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="572,183,668,209"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="577,233,663,260"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="716,233,816,260"/>
</map>
</div>

</div>
</div>
<a id="a1d3dc4ff452e67e327b4ad2e8888ffa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3dc4ff452e67e327b4ad2e8888ffa4">&#9670;&nbsp;</a></span>ubifs_recover_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a>* ubifs_recover_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>jhead</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_recover_leb - scan and recover a LEB. <code></code>: UBIFS file-system description object : LEB number : offset : LEB-sized buffer to use : journal head number this LEB belongs to (%-1 if the LEB does not belong to any journal head)</p>
<p>This function does a scan of a LEB, but caters for errors that might have been caused by the unclean unmount from which we are attempting to recover. Returns the scanned information on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_cgraph.png" border="0" usemap="#ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_cgraph" alt=""/></div>
<map name="ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_cgraph" id="ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="185,633,304,660"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="605,456,677,482"/>
<area shape="rect" id="node5" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="177,177,312,204"/>
<area shape="rect" id="node22" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="188,25,301,52"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="197,430,292,457"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="408,430,483,457"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="187,278,302,305"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="201,481,288,508"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="187,532,302,558"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="189,582,300,609"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="205,734,284,761"/>
<area shape="rect" id="node32" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="188,684,301,710"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="189,785,301,812"/>
<area shape="rect" id="node49" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="360,329,531,356"/>
<area shape="rect" id="node50" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="177,836,312,862"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="392,633,499,660"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="375,177,516,204"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="972,76,1055,102"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="382,278,509,305"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="579,253,703,280"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="785,177,859,204"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="771,278,873,305"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="775,329,869,356"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="785,126,859,153"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="761,228,883,254"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="762,380,882,406"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="972,126,1055,153"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="976,177,1051,204"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="974,228,1053,254"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="963,278,1063,305"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="974,329,1053,356"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="973,380,1054,406"/>
<area shape="rect" id="node23" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="390,25,501,52"/>
<area shape="rect" id="node31" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="406,709,485,736"/>
<area shape="rect" id="node34" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="385,760,505,786"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="384,810,507,837"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="954,734,1073,761"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="584,734,697,761"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="587,684,694,710"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="759,886,885,913"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="751,734,893,761"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="943,886,1083,913"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="941,937,1085,964"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="972,988,1055,1014"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="970,1038,1057,1065"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="973,785,1054,812"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="946,836,1081,862"/>
<area shape="rect" id="node45" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="971,684,1056,710"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="583,886,699,913"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_icgraph.png" border="0" usemap="#ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_icgraph" alt=""/></div>
<map name="ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_icgraph" id="ubifs_8h_a1d3dc4ff452e67e327b4ad2e8888ffa4_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="206,5,297,32"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="177,107,325,133"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="383,196,510,223"/>
<area shape="rect" id="node21" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="209,56,294,83"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="373,5,520,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="755,31,848,57"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="897,31,1007,57"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1055,31,1148,57"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="394,107,499,133"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="568,56,705,83"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="570,208,703,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="590,259,683,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="595,309,678,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="592,360,681,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="589,107,685,133"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="585,157,688,184"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="765,208,838,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="753,284,849,311"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="758,335,845,361"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="902,335,1002,361"/>
<area shape="rect" id="node22" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="401,56,493,83"/>
</map>
</div>

</div>
</div>
<a id="a42393d54bbb6a1e25d5dde1f396b31f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42393d54bbb6a1e25d5dde1f396b31f3">&#9670;&nbsp;</a></span>ubifs_recover_log_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a>* ubifs_recover_log_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_recover_log_leb - scan and recover a log LEB. <code></code>: UBIFS file-system description object : LEB number : offset : LEB-sized buffer to use</p>
<p>This function does a scan of a LEB, but caters for errors that might have been caused by unclean reboots from which we are attempting to recover (assume that only the last log LEB can be corrupted by an unclean reboot).</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_cgraph.png" border="0" usemap="#ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_cgraph" alt=""/></div>
<map name="ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_cgraph" id="ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="221,620,306,647"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="807,620,879,647"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="391,544,526,571"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="210,392,317,419"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="201,873,325,900"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="399,747,518,773"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="391,341,526,368"/>
<area shape="rect" id="node23" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="402,797,515,824"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="402,645,515,672"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="373,696,544,723"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="609,671,716,697"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="592,291,733,317"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1175,259,1257,285"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="599,341,726,368"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="781,323,905,349"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="987,303,1062,329"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="973,353,1076,380"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="977,404,1072,431"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="987,639,1062,665"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="964,132,1085,159"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="965,252,1085,279"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1175,309,1257,336"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1179,107,1253,133"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1177,157,1255,184"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1166,208,1266,235"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1177,5,1255,32"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1175,56,1257,83"/>
<area shape="rect" id="node24" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="607,772,718,799"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a8ecb90e06a084b7cad3a06a6231e16e4" title="is_last_write" alt="" coords="411,1000,506,1027"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="625,1000,700,1027"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#a51a58f1633fe0fc0333795b1a9216aa0" title="no_more_nodes" alt="" coords="401,899,516,925"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#a807fcfedd9f3b8440c4d19a2f8c31de3" title="first_non_ff" alt="" coords="415,1051,502,1077"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a80a185873a2bf1d5961168d93883669a" title="drop_last_group" alt="" coords="401,1152,516,1179"/>
<area shape="rect" id="node35" href="ubifs_2recovery_8c.html#a56c9553c0af0cde1ea496d78e0d5cc5e" title="drop_last_node" alt="" coords="403,949,514,976"/>
<area shape="rect" id="node36" href="ubifs_2recovery_8c.html#a159ee1c7bcae2070c7e9faf7c15ac7d5" title="clean_buf" alt="" coords="419,1203,498,1229"/>
<area shape="rect" id="node38" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="403,1253,515,1280"/>
<area shape="rect" id="node37" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="623,1177,702,1204"/>
<area shape="rect" id="node39" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="603,1279,723,1305"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="601,1228,724,1255"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1157,1253,1275,1280"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="787,1355,900,1381"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="790,1203,897,1229"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="961,1355,1088,1381"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="953,1253,1096,1280"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1146,1355,1286,1381"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1144,1405,1288,1432"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1175,1304,1257,1331"/>
<area shape="rect" id="node47" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1173,1203,1259,1229"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="785,1253,901,1280"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_icgraph.png" border="0" usemap="#ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_icgraph" alt=""/></div>
<map name="ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_icgraph" id="ubifs_8h_a42393d54bbb6a1e25d5dde1f396b31f3_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="212,56,317,83"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="201,157,328,184"/>
<area shape="rect" id="node3" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="376,5,513,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="563,5,656,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="705,5,815,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="863,5,956,32"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="378,56,511,83"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="398,107,491,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="403,157,486,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="400,208,489,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="397,259,493,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="393,309,496,336"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="573,56,646,83"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="561,132,657,159"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="566,183,653,209"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="710,183,810,209"/>
</map>
</div>

</div>
</div>
<a id="a11a5ff140312c68bb4c5e44593d11b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a5ff140312c68bb4c5e44593d11b90">&#9670;&nbsp;</a></span>ubifs_recover_master_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_recover_master_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_recover_master_node - recover the master node. <code></code>: UBIFS file-system description object</p>
<p>This function recovers the master node from corruption that may occur due to an unclean unmount.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_cgraph.png" border="0" usemap="#ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_cgraph" alt=""/></div>
<map name="ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_cgraph" id="ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_cgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="617,226,740,252"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1214,327,1286,354"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1188,276,1312,303"/>
<area shape="rect" id="node23" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="270,403,353,430"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="236,1138,387,1164"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="806,251,913,278"/>
<area shape="rect" id="node5" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="792,124,927,151"/>
<area shape="rect" id="node22" href="ubifs_2recovery_8c.html#ade5d36157779e5eb588cc94b1ea387b7" title="is_empty" alt="" coords="822,200,897,227"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="988,150,1129,176"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1539,74,1622,100"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="995,99,1122,126"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1385,276,1459,303"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1371,327,1473,354"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1375,378,1469,404"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1385,479,1459,506"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1361,428,1483,455"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1362,226,1482,252"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1539,276,1622,303"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1543,530,1618,556"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1541,428,1620,455"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1531,479,1631,506"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1541,580,1620,607"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1540,378,1621,404"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="435,1264,569,1291"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="441,1138,563,1164"/>
<area shape="rect" id="node26" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="632,1264,725,1291"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="639,1315,718,1342"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="806,1264,913,1291"/>
<area shape="rect" id="node28" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1016,1315,1101,1342"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="999,1264,1118,1291"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="621,1112,737,1139"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="796,859,923,886"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="788,1214,931,1240"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="989,910,1129,936"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="987,960,1131,987"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1017,1011,1100,1038"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1015,1062,1102,1088"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1018,555,1099,582"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="991,606,1126,632"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1361,530,1483,556"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1187,834,1313,860"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1188,378,1312,404"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="979,656,1139,683"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="995,707,1123,734"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="997,758,1121,784"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="997,808,1121,835"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="993,504,1124,531"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="989,859,1128,886"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1002,302,1115,328"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_icgraph.png" border="0" usemap="#ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_icgraph" alt=""/></div>
<map name="ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_icgraph" id="ubifs_8h_a11a5ff140312c68bb4c5e44593d11b90_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="236,56,365,83"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="237,157,364,184"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="433,5,527,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="595,5,704,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="755,5,849,32"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="413,56,547,83"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="433,107,527,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="439,157,521,184"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="435,208,525,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="432,259,528,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="429,309,531,336"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="613,56,686,83"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="601,132,697,159"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="606,183,693,209"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="752,183,852,209"/>
</map>
</div>

</div>
</div>
<a id="a20e75fbfb42bc7cfecf3b62ab3f12f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e75fbfb42bc7cfecf3b62ab3f12f8e">&#9670;&nbsp;</a></span>ubifs_recover_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_recover_size </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_recover_size - recover inode size. <code></code>: UBIFS file-system description object</p>
<p>This function attempts to fix inode size discrepancies identified by the '<a class="el" href="ubifs_2recovery_8c.html#a88dd4e25e224557f93cba67c93532e0a">ubifs_recover_size_accum()</a>' function.</p>
<p>This functions returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_cgraph.png" border="0" usemap="#ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_cgraph" alt=""/></div>
<map name="ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_cgraph" id="ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="622,1823,713,1849"/>
<area shape="rect" id="node3" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="399,1063,519,1089"/>
<area shape="rect" id="node16" href="tnc_8c.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="184,632,333,659"/>
<area shape="rect" id="node25" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="857,835,900,861"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="219,1316,298,1343"/>
<area shape="rect" id="node39" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="623,1443,711,1469"/>
<area shape="rect" id="node48" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="398,1677,521,1704"/>
<area shape="rect" id="node4" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="609,1088,726,1115"/>
<area shape="rect" id="node5" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="811,531,947,557"/>
<area shape="rect" id="node7" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1034,581,1129,608"/>
<area shape="rect" id="node8" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="801,784,957,811"/>
<area shape="rect" id="node9" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1018,784,1145,811"/>
<area shape="rect" id="node11" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1010,1088,1153,1115"/>
<area shape="rect" id="node12" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1209,1139,1320,1165"/>
<area shape="rect" id="node15" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="819,1189,939,1216"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1227,581,1302,608"/>
<area shape="rect" id="node10" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1375,1037,1449,1064"/>
<area shape="rect" id="node13" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1229,1620,1301,1647"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1203,1189,1327,1216"/>
<area shape="rect" id="node17" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="399,581,519,608"/>
<area shape="rect" id="node18" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="601,531,733,557"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="381,860,537,887"/>
<area shape="rect" id="node29" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="592,176,743,203"/>
<area shape="rect" id="node34" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="403,632,515,659"/>
<area shape="rect" id="node35" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="401,683,517,709"/>
<area shape="rect" id="node36" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="585,277,749,304"/>
<area shape="rect" id="node19" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="797,277,960,304"/>
<area shape="rect" id="node20" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="1045,353,1117,380"/>
<area shape="rect" id="node21" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="819,379,938,405"/>
<area shape="rect" id="node22" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="839,632,918,659"/>
<area shape="rect" id="node24" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="636,885,699,912"/>
<area shape="rect" id="node28" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="625,1037,709,1064"/>
<area shape="rect" id="node27" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1012,987,1151,1013"/>
<area shape="rect" id="node26" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1044,835,1119,861"/>
<area shape="rect" id="node30" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="812,125,945,152"/>
<area shape="rect" id="node31" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1213,125,1316,152"/>
<area shape="rect" id="node32" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="1008,75,1155,101"/>
<area shape="rect" id="node33" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="837,176,920,203"/>
<area shape="rect" id="node38" href="inode_8c.html#a2e4fab3a29971a7bc96043a5dbcd77a3" title="iget_locked" alt="" coords="623,987,711,1013"/>
<area shape="rect" id="node40" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="422,1113,497,1140"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="407,1569,512,1596"/>
<area shape="rect" id="node43" href="inode_8c.html#aa992afd465d948c7fca769d396933c98" title="init_special_inode" alt="" coords="816,1341,941,1368"/>
<area shape="rect" id="node44" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="385,1367,533,1393"/>
<area shape="rect" id="node45" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="603,1215,732,1241"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="396,1316,523,1343"/>
<area shape="rect" id="node47" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="419,1164,500,1191"/>
<area shape="rect" id="node42" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="625,1671,710,1697"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1028,1683,1135,1709"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1020,1759,1143,1785"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_icgraph.png" border="0" usemap="#ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_icgraph" alt=""/></div>
<map name="ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_icgraph" id="ubifs_8h_a20e75fbfb42bc7cfecf3b62ab3f12f8e_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="201,5,294,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="185,56,310,83"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="184,208,311,235"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="371,5,480,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="541,5,635,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="364,56,487,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="359,107,492,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="379,157,472,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="384,208,467,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="381,259,470,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="377,309,473,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="374,360,477,387"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="551,107,625,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="540,183,636,209"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="545,233,631,260"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="684,233,784,260"/>
</map>
</div>

</div>
</div>
<a id="a88dd4e25e224557f93cba67c93532e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88dd4e25e224557f93cba67c93532e0a">&#9670;&nbsp;</a></span>ubifs_recover_size_accum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_recover_size_accum </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deletion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_recover_size_accum - accumulate inode sizes for recovery. <code></code>: UBIFS file-system description object : node key : node is for a deletion : inode size</p>
<p>This function has two purposes: 1) to ensure there are no data nodes that fall outside the inode size 2) to ensure there are no data nodes for inodes that do not exist To accomplish those purposes, a rb-tree is constructed containing an entry for each inode number in the journal that has not been deleted, and recording the size from the inode node, the maximum size of any data node (also altered by truncations) and a flag indicating a inode number for which no inode node was present in the journal.</p>
<p>Note that there is still the possibility that there are data nodes that have been committed that are beyond the inode size, however the only way to find them would be to scan the entire index. Alternatively, some provision could be made to record the size of inodes at the start of commit, which would seem very cumbersome for a scenario that is quite unlikely and the only negative consequence of which is wasted space.</p>
<p>This functions returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_cgraph.png" border="0" usemap="#ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_cgraph" alt=""/></div>
<map name="ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_cgraph" id="ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="189,5,268,32"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="191,56,266,83"/>
<area shape="rect" id="node4" href="ubifs_2recovery_8c.html#a93e3361d5b4ba48167d1aadf3a45e724" title="remove_ino" alt="" coords="184,107,273,133"/>
<area shape="rect" id="node5" href="ubifs_2recovery_8c.html#a574f611c4294ffdb6ff758f549cd798e" title="find_ino" alt="" coords="321,132,388,159"/>
<area shape="rect" id="node6" href="ubifs_2recovery_8c.html#ac39806a2c7eab3c00600eeb60b73daf0" title="add_ino" alt="" coords="195,208,262,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_icgraph.png" border="0" usemap="#ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_icgraph" alt=""/></div>
<map name="ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_icgraph" id="ubifs_8h_a88dd4e25e224557f93cba67c93532e0a_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="184,56,315,83"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="186,157,313,184"/>
<area shape="rect" id="node3" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="370,5,489,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="544,5,681,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="733,5,826,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="877,5,987,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1035,5,1128,32"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="363,56,496,83"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="383,107,476,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="388,157,471,184"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="385,208,474,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="381,259,477,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="378,309,481,336"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="576,56,649,83"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="565,132,661,159"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="569,183,656,209"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="729,183,829,209"/>
</map>
</div>

</div>
</div>
<a id="a0c84c77144cc7f468e572644a673f8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c84c77144cc7f468e572644a673f8d1">&#9670;&nbsp;</a></span>ubifs_recovery_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_recovery_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afb4a050131358f08985939fa532bc694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4a050131358f08985939fa532bc694">&#9670;&nbsp;</a></span>ubifs_release_budget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_release_budget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_release_budget - release budgeted free space. <code></code>: UBIFS file-system description object : budget request</p>
<p>This function releases the space budgeted by '<a class="el" href="budget_8c.html#a97c8a1e101f1eb52eafc1200ef0544ae">ubifs_budget_space()</a>'. Note, since the index changes (which were budgeted for in -&gt;idx_growth) will only be written to the media on commit, this function moves the index budget from <code></code>-&gt;bi.idx_growth to <code></code>-&gt;bi.uncommitted_idx. The latter will be zeroed by the commit operation. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afb4a050131358f08985939fa532bc694_cgraph.png" border="0" usemap="#ubifs_8h_afb4a050131358f08985939fa532bc694_cgraph" alt=""/></div>
<map name="ubifs_8h_afb4a050131358f08985939fa532bc694_cgraph" id="ubifs_8h_afb4a050131358f08985939fa532bc694_cgraph">
<area shape="rect" id="node2" href="budget_8c.html#ae7fb821f0bda60b202ba1bd7b8445634" title="calc_data_growth" alt="" coords="219,5,343,32"/>
<area shape="rect" id="node3" href="budget_8c.html#ad59159f2a92429bd81d6bcb530d7c5c5" title="calc_dd_growth" alt="" coords="224,56,337,83"/>
<area shape="rect" id="node4" href="budget_8c.html#ac3fe021e20fd3d248577fe5d2623ad96" title="calc_idx_growth" alt="" coords="223,107,339,133"/>
<area shape="rect" id="node5" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="199,157,363,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_afb4a050131358f08985939fa532bc694_icgraph.png" border="0" usemap="#ubifs_8h_afb4a050131358f08985939fa532bc694_icgraph" alt=""/></div>
<map name="ubifs_8h_afb4a050131358f08985939fa532bc694_icgraph" id="ubifs_8h_afb4a050131358f08985939fa532bc694_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="841,512,932,539"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="838,461,935,488"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="837,563,936,589"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="840,968,933,995"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="845,1171,928,1197"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="999,1171,1085,1197"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="848,816,925,843"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="841,867,932,893"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="843,917,930,944"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="842,1019,931,1045"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="839,1069,935,1096"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="835,1221,938,1248"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="833,715,940,741"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a01989f957629450ab7009eb5df5129a9" title="release_new_page_budget" alt="" coords="199,259,375,285"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="443,309,565,336"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="837,120,937,147"/>
<area shape="rect" id="node31" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="423,664,585,691"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#adcc5939bd48e791a796e320711c9fd84" title="release_existing_page\l_budget" alt="" coords="211,193,362,234"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="247,5,327,32"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="207,917,367,944"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="449,1019,559,1045"/>
<area shape="rect" id="node37" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="253,1132,321,1159"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a42a33c943c4f8862342d84cc1b152182" title="ubifs_release_dirty\l_inode_budget" alt="" coords="221,555,352,597"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="988,512,1096,539"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1158,563,1291,589"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1353,512,1427,539"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1144,512,1305,539"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="994,1221,1090,1248"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1175,1031,1275,1057"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6e8d6bd20f19e6df845b44c32800a704" title="cancel_budget" alt="" coords="451,259,557,285"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="455,157,553,184"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#aa4c1180586f8cacea1cd78baabb7594a" title="ubifs_invalidatepage" alt="" coords="434,208,574,235"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="648,309,771,336"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="653,259,766,285"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="653,208,766,235"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="995,44,1089,71"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#a8cca742dfff2189dce5332cb5f013793" title="ubifs_write_iter" alt="" coords="654,1019,765,1045"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="463,1144,545,1171"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="646,1120,773,1147"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="443,512,565,539"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="443,613,565,640"/>
<area shape="rect" id="node43" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="441,563,567,589"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="651,917,767,944"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="646,613,773,640"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="649,664,769,691"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="647,461,771,488"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="637,563,782,589"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="633,512,785,539"/>
</map>
</div>

</div>
</div>
<a id="a42a33c943c4f8862342d84cc1b152182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a33c943c4f8862342d84cc1b152182">&#9670;&nbsp;</a></span>ubifs_release_dirty_inode_budget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_release_dirty_inode_budget </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__inode.html">ubifs_inode</a> *&#160;</td>
          <td class="paramname"><em>ui</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_release_dirty_inode_budget - release dirty inode budget. <code></code>: UBIFS file-system description object : UBIFS inode to release the budget for</p>
<p>This function releases budget corresponding to a dirty inode. It is usually called when after the inode has been written to the media and marked as clean. It also causes the "no space" flags to be cleared. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a42a33c943c4f8862342d84cc1b152182_cgraph.png" border="0" usemap="#ubifs_8h_a42a33c943c4f8862342d84cc1b152182_cgraph" alt=""/></div>
<map name="ubifs_8h_a42a33c943c4f8862342d84cc1b152182_cgraph" id="ubifs_8h_a42a33c943c4f8862342d84cc1b152182_cgraph">
<area shape="rect" id="node2" href="budget_8c.html#afb4a050131358f08985939fa532bc694" title="ubifs_release_budget" alt="" coords="184,81,329,108"/>
<area shape="rect" id="node3" href="budget_8c.html#ae7fb821f0bda60b202ba1bd7b8445634" title="calc_data_growth" alt="" coords="397,5,521,32"/>
<area shape="rect" id="node4" href="budget_8c.html#ad59159f2a92429bd81d6bcb530d7c5c5" title="calc_dd_growth" alt="" coords="403,56,516,83"/>
<area shape="rect" id="node5" href="budget_8c.html#ac3fe021e20fd3d248577fe5d2623ad96" title="calc_idx_growth" alt="" coords="401,107,517,133"/>
<area shape="rect" id="node6" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="377,157,541,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a42a33c943c4f8862342d84cc1b152182_icgraph.png" border="0" usemap="#ubifs_8h_a42a33c943c4f8862342d84cc1b152182_icgraph" alt=""/></div>
<map name="ubifs_8h_a42a33c943c4f8862342d84cc1b152182_icgraph" id="ubifs_8h_a42a33c943c4f8862342d84cc1b152182_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="204,88,327,115"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a6e8d6bd20f19e6df845b44c32800a704" title="cancel_budget" alt="" coords="212,139,319,165"/>
<area shape="rect" id="node6" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="184,189,347,216"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="204,240,327,267"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="204,291,327,317"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="202,341,329,368"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="409,88,532,115"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="414,139,527,165"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="413,335,529,361"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="407,531,534,557"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="411,404,531,431"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="409,619,533,645"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="398,196,543,223"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="395,259,547,285"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="601,259,691,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="599,309,693,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="605,360,687,387"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="607,411,685,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="601,461,691,488"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="603,512,689,539"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="601,107,691,133"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="598,157,694,184"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="595,208,697,235"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="745,56,853,83"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="915,5,1049,32"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1111,56,1184,83"/>
<area shape="rect" id="node15" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="901,56,1063,83"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="751,360,847,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="756,563,843,589"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="932,588,1032,615"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="746,613,853,640"/>
<area shape="rect" id="node31" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="596,664,696,691"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="752,664,847,691"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="750,5,849,32"/>
<area shape="rect" id="node36" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="597,56,695,83"/>
</map>
</div>

</div>
</div>
<a id="aabadc9c790abbcd28fe220bb0a9391ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabadc9c790abbcd28fe220bb0a9391ea">&#9670;&nbsp;</a></span>ubifs_release_ino_dirty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_release_ino_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__budget__req.html">ubifs_budget_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a2c2b7e688877c1df8d8f4d49e1728a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2c2b7e688877c1df8d8f4d49e1728a">&#9670;&nbsp;</a></span>ubifs_replace_cat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_replace_cat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>old_lprops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>new_lprops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_replace_cat - replace lprops in a category list or heap. <code></code>: UBIFS file-system description object : LEB properties to replace : LEB properties with which to replace</p>
<p>During commit it is sometimes necessary to copy a pnode (see dirty_cow_pnode) and the lprops that the pnode contains. When that happens, references in category lists and heaps must be replaced. This function does that. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_cgraph.png" border="0" usemap="#ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_cgraph" alt=""/></div>
<map name="ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_cgraph" id="ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_cgraph">
<area shape="rect" id="node2" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="177,5,297,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_icgraph.png" border="0" usemap="#ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_icgraph" alt=""/></div>
<map name="ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_icgraph" id="ubifs_8h_a4a2c2b7e688877c1df8d8f4d49e1728a_icgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="177,360,273,387"/>
<area shape="rect" id="node3" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="321,360,441,387"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="489,360,637,387"/>
<area shape="rect" id="node5" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="705,284,809,311"/>
<area shape="rect" id="node12" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="689,44,824,71"/>
<area shape="rect" id="node14" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="685,505,828,532"/>
<area shape="rect" id="node20" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="889,81,1012,108"/>
<area shape="rect" id="node24" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="896,132,1005,159"/>
<area shape="rect" id="node25" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="699,335,815,361"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="879,385,1023,412"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="880,832,1021,859"/>
<area shape="rect" id="node47" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="895,487,1006,513"/>
<area shape="rect" id="node50" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="908,588,993,615"/>
<area shape="rect" id="node6" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="883,284,1018,311"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1296,233,1444,260"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1495,487,1653,513"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1521,132,1627,159"/>
<area shape="rect" id="node9" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1543,259,1605,285"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1701,772,1795,799"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="876,31,1025,57"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1094,690,1225,731"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1313,588,1427,615"/>
<area shape="rect" id="node17" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="1318,639,1422,665"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1495,537,1653,564"/>
<area shape="rect" id="node19" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1705,436,1791,463"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="1080,81,1239,108"/>
<area shape="rect" id="node22" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1303,81,1437,108"/>
<area shape="rect" id="node23" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="1519,81,1629,108"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1497,5,1651,32"/>
<area shape="rect" id="node27" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="882,183,1019,209"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1523,745,1625,772"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1073,385,1245,412"/>
<area shape="rect" id="node31" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1499,436,1649,463"/>
<area shape="rect" id="node32" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="1102,335,1217,361"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="1085,487,1233,513"/>
<area shape="rect" id="node36" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="1102,588,1217,615"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="1496,360,1652,387"/>
<area shape="rect" id="node35" href="tnc__commit_8c.html#aabbfd5925b308189c641e1570a2a19f7" title="free_idx_lebs" alt="" coords="1321,537,1419,564"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="1293,689,1447,716"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="1093,908,1226,935"/>
<area shape="rect" id="node41" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1108,1009,1211,1036"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="1080,959,1239,985"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="1115,756,1203,783"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="1529,859,1619,885"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1312,959,1428,985"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1299,1009,1441,1036"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1310,1060,1430,1087"/>
<area shape="rect" id="node48" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="1101,807,1218,833"/>
<area shape="rect" id="node49" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="1301,807,1439,833"/>
</map>
</div>

</div>
</div>
<a id="af76f722fe22c9c52675c75c16369d414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76f722fe22c9c52675c75c16369d414">&#9670;&nbsp;</a></span>ubifs_replay_journal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_replay_journal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_replay_journal - replay journal. <code></code>: UBIFS file-system description object</p>
<p>This function scans the journal, replays and cleans it up. It makes sure all memory data structures related to uncommitted journal are built (dirty TNC tree, tree of buds, modified lprops, etc). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af76f722fe22c9c52675c75c16369d414_cgraph.png" border="0" usemap="#ubifs_8h_af76f722fe22c9c52675c75c16369d414_cgraph" alt=""/></div>
<map name="ubifs_8h_af76f722fe22c9c52675c75c16369d414_cgraph" id="ubifs_8h_af76f722fe22c9c52675c75c16369d414_cgraph">
<area shape="rect" id="node2" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="405,107,490,133"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1365,512,1437,539"/>
<area shape="rect" id="node16" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="581,528,686,555"/>
<area shape="rect" id="node38" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="191,489,332,516"/>
<area shape="rect" id="node39" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="401,452,493,479"/>
<area shape="rect" id="node43" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="202,540,321,567"/>
<area shape="rect" id="node47" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="203,195,320,221"/>
<area shape="rect" id="node49" href="replay_8c.html#a50c6c208d32d5efccb01d71c981fa43c" title="destroy_replay_list" alt="" coords="196,591,327,617"/>
<area shape="rect" id="node50" href="replay_8c.html#ab7fd3c96c4dfd612b3ce142fe0f0b639" title="destroy_bud_list" alt="" coords="203,641,320,668"/>
<area shape="rect" id="node3" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="575,107,692,133"/>
<area shape="rect" id="node4" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="752,81,900,108"/>
<area shape="rect" id="node11" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="575,208,691,235"/>
<area shape="rect" id="node15" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="563,56,704,83"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1143,208,1267,235"/>
<area shape="rect" id="node7" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="950,107,1070,133"/>
<area shape="rect" id="node8" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="951,208,1069,235"/>
<area shape="rect" id="node9" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="951,5,1069,32"/>
<area shape="rect" id="node10" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="950,56,1070,83"/>
<area shape="rect" id="node12" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="773,183,879,209"/>
<area shape="rect" id="node13" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="769,233,883,260"/>
<area shape="rect" id="node14" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="765,132,887,159"/>
<area shape="rect" id="node17" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="967,685,1053,712"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1339,1028,1463,1055"/>
<area shape="rect" id="node30" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="1138,892,1273,919"/>
<area shape="rect" id="node31" href="ubifs_2recovery_8c.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="752,597,900,624"/>
<area shape="rect" id="node34" href="replay_8c.html#a5d782d0fbd913bfe5f13ab3a7e8db174" title="validate_ref" alt="" coords="781,528,871,555"/>
<area shape="rect" id="node36" href="replay_8c.html#a03c5c9cac39f739f5e6167f08cf5d95b" title="add_replay_bud" alt="" coords="769,459,883,485"/>
<area shape="rect" id="node18" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="1146,639,1265,665"/>
<area shape="rect" id="node19" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="1138,588,1273,615"/>
<area shape="rect" id="node27" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="1149,841,1262,868"/>
<area shape="rect" id="node28" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="1149,689,1262,716"/>
<area shape="rect" id="node29" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="1120,740,1291,767"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1534,1079,1609,1105"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1520,1129,1623,1156"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1524,927,1619,953"/>
<area shape="rect" id="node24" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1534,851,1609,877"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1511,977,1632,1004"/>
<area shape="rect" id="node26" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1511,1028,1631,1055"/>
<area shape="rect" id="node32" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="957,584,1063,611"/>
<area shape="rect" id="node33" href="ubifs_2recovery_8c.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="948,736,1072,763"/>
<area shape="rect" id="node35" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e" title="ubifs_search_bud" alt="" coords="948,635,1072,661"/>
<area shape="rect" id="node37" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79" title="ubifs_add_bud" alt="" coords="957,385,1063,412"/>
<area shape="rect" id="node40" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="783,888,869,915"/>
<area shape="rect" id="node41" href="replay_8c.html#a2edda0855a32a40d1cd69005188f71e4" title="is_last_bud" alt="" coords="966,1091,1054,1117"/>
<area shape="rect" id="node42" href="replay_8c.html#a557ac2aa2f2bec5d36ffcdad4d6be7f8" title="insert_node" alt="" coords="965,989,1055,1016"/>
<area shape="rect" id="node44" href="replay_8c.html#a3b44619974ad73dc97ae2b560863bbb1" title="replay_entries_cmp" alt="" coords="380,528,515,555"/>
<area shape="rect" id="node45" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="382,579,513,605"/>
<area shape="rect" id="node46" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="586,629,681,656"/>
<area shape="rect" id="node48" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="392,157,503,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af76f722fe22c9c52675c75c16369d414_icgraph.png" border="0" usemap="#ubifs_8h_af76f722fe22c9c52675c75c16369d414_icgraph" alt=""/></div>
<map name="ubifs_8h_af76f722fe22c9c52675c75c16369d414_icgraph" id="ubifs_8h_af76f722fe22c9c52675c75c16369d414_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="191,5,284,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="332,5,441,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="489,5,583,32"/>
</map>
</div>

</div>
</div>
<a id="a66e49aaeea4680a7b2c9973ba0dde86c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e49aaeea4680a7b2c9973ba0dde86c">&#9670;&nbsp;</a></span>ubifs_reported_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long long ubifs_reported_space </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_reported_space - calculate reported free space. <code></code>: the UBIFS file-system description object : amount of free space</p>
<p>This function calculates amount of free space which will be reported to user-space. User-space application tend to expect that if the file-system (e.g., via the 'statfs()' call) reports that it has N bytes available, they are able to write a file of size N. UBIFS attaches node headers to each data node and it has to write indexing nodes as well. This introduces additional overhead, and UBIFS has to report slightly less free space to meet the above expectations.</p>
<p>This function assumes free space is made up of uncompressed data nodes and full index nodes (one per data node, tripled because we always allow enough space to write the index thrice).</p>
<p>Note, the calculation is pessimistic, which means that most of the time UBIFS reports less space than it actually has. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a66e49aaeea4680a7b2c9973ba0dde86c_icgraph.png" border="0" usemap="#ubifs_8h_a66e49aaeea4680a7b2c9973ba0dde86c_icgraph" alt=""/></div>
<map name="ubifs_8h_a66e49aaeea4680a7b2c9973ba0dde86c_icgraph" id="ubifs_8h_a66e49aaeea4680a7b2c9973ba0dde86c_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a1ec4af9c805e63aea85b94819eee9868" title="init_constants_master" alt="" coords="200,545,351,572"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6323235e83f399d119f1deb54fa2f144" title="ubifs_get_free_space\l_nolock" alt="" coords="202,795,349,837"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="978,499,1071,525"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1157,563,1267,589"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1365,664,1458,691"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="410,600,534,627"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="757,752,912,779"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="761,803,909,829"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a88a8f2bce74b5f5ab48b7afa5b8ce02a" title="ubifs_get_free_space" alt="" coords="399,853,545,880"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a89667bfaa94195c84c77e521ec5dd134" title="check_free_space" alt="" coords="771,651,899,677"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="961,676,1088,703"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="601,701,700,728"/>
<area shape="rect" id="node19" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="593,549,708,576"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="962,335,1087,361"/>
<area shape="rect" id="node44" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="594,448,707,475"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="596,499,705,525"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="962,752,1087,779"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1151,816,1273,843"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="963,803,1086,829"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1161,765,1263,792"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1154,613,1270,640"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1155,664,1269,691"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1163,715,1261,741"/>
<area shape="rect" id="node20" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="756,549,913,576"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1149,512,1275,539"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1365,411,1458,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1370,461,1453,488"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1367,512,1456,539"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1363,563,1459,589"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1360,613,1463,640"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1154,360,1270,387"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1143,208,1281,235"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1141,259,1283,285"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1149,309,1275,336"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1152,411,1272,437"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1150,461,1274,488"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1139,107,1285,133"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1136,157,1288,184"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1366,259,1457,285"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1373,309,1450,336"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1366,360,1457,387"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1368,208,1455,235"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1362,5,1461,32"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1350,56,1473,83"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1336,107,1487,133"/>
<area shape="rect" id="node39" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1358,157,1465,184"/>
<area shape="rect" id="node45" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="771,448,898,475"/>
<area shape="rect" id="node47" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="781,499,888,525"/>
<area shape="rect" id="node50" href="ubifs_2super_8c.html#a1041b4cf7c2b356ffde360ee4710bb4d" title="ubifs_statfs" alt="" coords="605,853,696,880"/>
</map>
</div>

</div>
</div>
<a id="a6c27328fd39184ba2e1bdfa1970275e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c27328fd39184ba2e1bdfa1970275e7">&#9670;&nbsp;</a></span>ubifs_request_bg_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_request_bg_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_request_bg_commit - notify the background thread to do a commit. <code></code>: UBIFS file-system description object</p>
<p>This function is called if the journal is full enough to make a commit worthwhile, so background thread is kicked to start it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_cgraph.png" border="0" usemap="#ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_cgraph" alt=""/></div>
<map name="ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_cgraph" id="ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="248,5,335,32"/>
<area shape="rect" id="node3" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="224,56,359,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_icgraph.png" border="0" usemap="#ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_icgraph" alt=""/></div>
<map name="ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_icgraph" id="ubifs_8h_a6c27328fd39184ba2e1bdfa1970275e7_icgraph">
<area shape="rect" id="node2" href="ubifs_2shrinker_8c.html#a411ff3efed86e8bb1341d32ebc2f3ceb" title="kick_a_thread" alt="" coords="247,271,349,297"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="224,321,372,348"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a148b76e3e941071fe7395e70793f9996" title="ubifs_shrink_scan" alt="" coords="420,271,547,297"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="425,372,541,399"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1155,321,1261,348"/>
<area shape="rect" id="node6" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="595,372,691,399"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="739,372,911,399"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="959,372,1107,399"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1309,765,1467,792"/>
<area shape="rect" id="node43" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1177,372,1239,399"/>
<area shape="rect" id="node10" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1325,259,1451,285"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1533,537,1649,564"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1522,19,1659,45"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1519,157,1662,184"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1527,791,1654,817"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1531,335,1651,361"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1529,81,1653,108"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1518,208,1663,235"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1515,259,1667,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1745,309,1835,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1743,664,1837,691"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1749,765,1831,792"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1751,461,1829,488"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1745,512,1835,539"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1747,411,1833,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1745,563,1835,589"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1742,613,1838,640"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1739,715,1841,741"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1921,297,2029,324"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2084,297,2217,324"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1927,765,2023,792"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1931,715,2018,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2101,791,2201,817"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1741,5,1839,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1918,5,2031,32"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1925,56,2025,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2103,56,2198,83"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1729,107,1851,133"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1715,157,1865,184"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1913,157,2036,184"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1921,867,2028,893"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1925,221,2024,248"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1741,259,1839,285"/>
<area shape="rect" id="node44" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1325,372,1451,399"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1544,867,1637,893"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1528,968,1653,995"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1527,715,1654,741"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1735,917,1845,944"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1729,968,1851,995"/>
</map>
</div>

</div>
</div>
<a id="a0674f14e3d6ab28a6de41c44eeb85797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0674f14e3d6ab28a6de41c44eeb85797">&#9670;&nbsp;</a></span>ubifs_ro_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_ro_mode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_ro_mode - switch UBIFS to read read-only mode. <code></code>: UBIFS file-system description object : error code which is the reason of switching to R/O mode </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_cgraph.png" border="0" usemap="#ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_cgraph" alt=""/></div>
<map name="ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_cgraph" id="ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="160,5,245,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_icgraph.png" border="0" usemap="#ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_icgraph" alt=""/></div>
<map name="ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_icgraph" id="ubifs_8h_a0674f14e3d6ab28a6de41c44eeb85797_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="189,705,283,732"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="393,120,492,147"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="975,1179,1097,1205"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="179,1440,293,1467"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="181,1009,291,1036"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="578,1221,726,1248"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="795,1044,909,1071"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="578,1273,726,1314"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="578,1171,726,1197"/>
<area shape="rect" id="node22" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="809,1255,895,1281"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="381,411,504,437"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="383,816,503,843"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="183,1491,289,1517"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="189,1541,283,1568"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="178,1592,294,1619"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="167,756,305,783"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="165,1643,307,1669"/>
<area shape="rect" id="node45" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="367,1668,518,1695"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="173,1744,299,1771"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="176,1795,296,1821"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="381,233,505,260"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="163,1845,309,1872"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="160,1896,312,1923"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="595,5,709,32"/>
<area shape="rect" id="node5" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="602,56,702,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1147,1103,1269,1129"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="360,1136,525,1163"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="360,933,525,960"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="383,715,503,741"/>
<area shape="rect" id="node21" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="573,1019,731,1045"/>
<area shape="rect" id="node23" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="603,968,701,995"/>
<area shape="rect" id="node24" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="399,984,487,1011"/>
<area shape="rect" id="node16" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="594,1069,710,1096"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="989,917,1083,944"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="973,791,1099,817"/>
<area shape="rect" id="node20" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="583,664,721,691"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="577,259,727,285"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="596,512,708,539"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="602,613,702,640"/>
<area shape="rect" id="node29" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="577,563,727,589"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="591,107,713,133"/>
<area shape="rect" id="node31" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="613,411,691,437"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="779,765,925,792"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="583,157,721,184"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="781,487,923,513"/>
<area shape="rect" id="node35" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="615,461,689,488"/>
<area shape="rect" id="node36" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="585,208,719,235"/>
<area shape="rect" id="node38" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="590,867,714,893"/>
<area shape="rect" id="node39" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="783,816,921,843"/>
</map>
</div>

</div>
</div>
<a id="ae4c760f55879f81abc758f058e481834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c760f55879f81abc758f058e481834">&#9670;&nbsp;</a></span>ubifs_run_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_run_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_run_commit - run or wait for commit. <code></code>: UBIFS file-system description object</p>
<p>This function runs commit and returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae4c760f55879f81abc758f058e481834_cgraph.png" border="0" usemap="#ubifs_8h_ae4c760f55879f81abc758f058e481834_cgraph" alt=""/></div>
<map name="ubifs_8h_ae4c760f55879f81abc758f058e481834_cgraph" id="ubifs_8h_ae4c760f55879f81abc758f058e481834_cgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#a8066477fd4d182a562575fec9c1460f9" title="wait_for_commit" alt="" coords="179,740,297,767"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="195,791,281,817"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a349da7e934725810c922b20daec868ae" title="nothing_to_commit" alt="" coords="367,512,499,539"/>
<area shape="rect" id="node6" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="590,904,710,931"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1205,955,1277,981"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="1188,296,1295,323"/>
<area shape="rect" id="node13" href="ubifs_2gc_8c.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="573,179,727,205"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="369,1052,496,1079"/>
<area shape="rect" id="node25" href="ubifs_2log_8c.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="571,397,729,424"/>
<area shape="rect" id="node30" href="tnc__commit_8c.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="353,631,512,657"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#ad0029b471c7e38ab8a4a1ab961ca25a4" title="ubifs_lpt_start_commit" alt="" coords="355,732,510,759"/>
<area shape="rect" id="node41" href="ubifs_2orphan_8c.html#a4644cfc76e621c7abb3683b063707f4e" title="ubifs_orphan_start\l_commit" alt="" coords="368,783,497,825"/>
<area shape="rect" id="node42" href="lprops_8c.html#a8a4a969b18d269964ff80d11eb94b8ab" title="ubifs_get_lp_stats" alt="" coords="369,849,497,876"/>
<area shape="rect" id="node43" href="tnc__commit_8c.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="356,900,509,927"/>
<area shape="rect" id="node44" href="lpt__commit_8c.html#a2e84d4bec8fcf799eeb376d90f220efb" title="ubifs_lpt_end_commit" alt="" coords="358,951,507,977"/>
<area shape="rect" id="node45" href="ubifs_2orphan_8c.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="345,1001,520,1028"/>
<area shape="rect" id="node46" href="ubifs_2commit_8c.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="993,1208,1140,1235"/>
<area shape="rect" id="node47" href="ubifs_2log_8c.html#a68cc48bfb09ca4270d8d3f953441e201" title="ubifs_log_end_commit" alt="" coords="357,1153,509,1180"/>
<area shape="rect" id="node48" href="ubifs_2log_8c.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="572,347,728,373"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="358,313,507,340"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a0ca6bd7c2db50191b30308925d584e16" title="ubifs_lpt_post_commit" alt="" coords="356,1360,509,1387"/>
<area shape="rect" id="node5" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="811,651,914,677"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="780,803,945,829"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1026,499,1107,525"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="1027,600,1106,627"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1012,423,1121,449"/>
<area shape="rect" id="node14" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="804,245,921,272"/>
<area shape="rect" id="node15" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="783,43,943,69"/>
<area shape="rect" id="node16" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="803,296,923,323"/>
<area shape="rect" id="node17" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="805,93,921,120"/>
<area shape="rect" id="node18" href="lprops_8c.html#ae7db0b84b9b4c7666f34dd1c6d78b0a0" title="ubifs_fast_find_frdi_idx" alt="" coords="785,144,941,171"/>
<area shape="rect" id="node19" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="792,195,933,221"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="797,1056,928,1083"/>
<area shape="rect" id="node22" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="575,1157,725,1184"/>
<area shape="rect" id="node23" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="1010,955,1123,981"/>
<area shape="rect" id="node24" href="lprops_8c.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="591,1005,709,1032"/>
<area shape="rect" id="node26" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa" title="dbg_check_bud_bytes" alt="" coords="787,904,939,931"/>
<area shape="rect" id="node27" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="795,600,930,627"/>
<area shape="rect" id="node28" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="792,347,933,373"/>
<area shape="rect" id="node29" href="ubifs_2log_8c.html#a1c5014480a8dd06adad3de568a191081" title="remove_buds" alt="" coords="813,499,913,525"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="595,499,705,525"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#a64748c798bfc8c8fd1ee5bedae19a5b3" title="get_znodes_to_commit" alt="" coords="571,651,729,677"/>
<area shape="rect" id="node33" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="598,701,702,728"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="597,803,703,829"/>
<area shape="rect" id="node35" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="789,752,937,779"/>
<area shape="rect" id="node36" href="tnc_8c.html#a01e38c99f12ee3c060c9214d14ec62f3" title="destroy_old_idx" alt="" coords="593,549,707,576"/>
<area shape="rect" id="node37" href="find_8c.html#abb183b65aeed0bc4e18681aec0ffdb5b" title="ubifs_save_dirty_idx\l_lnums" alt="" coords="579,230,721,271"/>
<area shape="rect" id="node38" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="568,600,732,627"/>
<area shape="rect" id="node39" href="tnc__commit_8c.html#aabbfd5925b308189c641e1570a2a19f7" title="free_idx_lebs" alt="" coords="601,853,699,880"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae4c760f55879f81abc758f058e481834_icgraph.png" border="0" usemap="#ubifs_8h_ae4c760f55879f81abc758f058e481834_icgraph" alt=""/></div>
<map name="ubifs_8h_ae4c760f55879f81abc758f058e481834_icgraph" id="ubifs_8h_ae4c760f55879f81abc758f058e481834_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="190,219,293,245"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="184,320,299,347"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="352,233,509,260"/>
<area shape="rect" id="node20" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="368,1120,493,1147"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="179,440,304,467"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="587,37,680,64"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="571,120,696,147"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="570,233,697,260"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="783,5,892,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1000,5,1093,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="776,56,899,83"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1176,1044,1309,1071"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="791,259,884,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="796,360,879,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="793,309,882,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="789,157,885,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="786,208,889,235"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1357,1069,1431,1096"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="999,360,1095,387"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1003,563,1090,589"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="575,385,691,412"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="565,1247,702,1273"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="562,1323,705,1349"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="570,1399,697,1425"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="573,917,693,944"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="571,1183,695,1209"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="561,1069,706,1096"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="557,1120,709,1147"/>
<area shape="rect" id="node22" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="792,1019,883,1045"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="799,411,876,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="792,461,883,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="794,512,881,539"/>
<area shape="rect" id="node23" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="993,1095,1101,1121"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="788,1272,887,1299"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="990,1272,1103,1299"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="997,1221,1097,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="776,1373,899,1400"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="762,1323,913,1349"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="784,1424,891,1451"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="788,1069,887,1096"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="789,1120,886,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="564,613,703,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="776,664,899,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="781,715,894,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="797,765,877,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="757,917,917,944"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="991,943,1102,969"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="965,879,1128,905"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="803,613,871,640"/>
</map>
</div>

</div>
</div>
<a id="abb183b65aeed0bc4e18681aec0ffdb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb183b65aeed0bc4e18681aec0ffdb5b">&#9670;&nbsp;</a></span>ubifs_save_dirty_idx_lnums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_save_dirty_idx_lnums </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_save_dirty_idx_lnums - save an array of the most dirty index LEB nos. <code></code>: the UBIFS file-system description object</p>
<p>This function is called each commit to create an array of LEB numbers of dirty index LEBs sorted in order of dirty and free space. This is used by the in-the-gaps method of TNC commit. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph.png" border="0" usemap="#ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph" alt=""/></div>
<map name="ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph" id="ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="207,5,324,32"/>
<area shape="rect" id="node3" href="find_8c.html#a3e29c87a698697582a0330af8bf8ebef" title="cmp_dirty_idx" alt="" coords="214,56,317,83"/>
<area shape="rect" id="node4" href="find_8c.html#aa2d7c3b5243a5c0090c3f9283939eeaf" title="swap_dirty_idx" alt="" coords="211,107,320,133"/>
<area shape="rect" id="node5" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="195,157,336,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph.png" border="0" usemap="#ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph" alt=""/></div>
<map name="ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph" id="ubifs_8h_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="195,247,353,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="401,247,488,273"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="543,184,654,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="536,272,661,299"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="904,145,1019,172"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1117,120,1211,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1101,171,1227,197"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1313,5,1423,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1307,56,1429,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="721,196,823,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="715,297,829,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="883,233,1040,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="899,1171,1024,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="709,399,835,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1101,233,1227,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1511,436,1644,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1321,208,1415,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1327,157,1409,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1323,259,1413,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1320,309,1416,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1317,360,1419,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1534,816,1621,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1106,385,1222,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1095,1412,1233,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1093,1272,1235,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1101,1348,1227,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1104,1171,1224,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1102,1221,1226,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1091,968,1237,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1088,1120,1240,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1323,411,1413,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1329,461,1407,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1323,512,1413,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1325,563,1411,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1319,1424,1417,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1527,1221,1627,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1307,1323,1429,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1293,1272,1443,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1315,1373,1421,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1319,867,1417,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1319,1120,1417,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1095,613,1233,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1307,664,1429,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1311,715,1425,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1328,765,1408,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1288,968,1448,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1522,917,1633,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1496,993,1659,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1334,613,1402,640"/>
</map>
</div>

</div>
</div>
<a id="a1689915d09ec86f76b30ee598b10f34e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1689915d09ec86f76b30ee598b10f34e">&#9670;&nbsp;</a></span>ubifs_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a>* ubifs_scan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scan - scan a logical eraseblock. <code></code>: UBIFS file-system description object : logical eraseblock number : offset to start at (usually zero) : scan buffer (must be of <code></code>-&gt;leb_size bytes in size) : print no messages</p>
<p>This function scans LEB number  and returns complete information about its contents. Returns the scanned information in case of success and, %-EUCLEAN if the LEB neads recovery, and other negative error codes in case of failure.</p>
<p>If  is non-zero, this function does not print large and scary error messages and flash dumps in case of errors. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_cgraph.png" border="0" usemap="#ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_cgraph" alt=""/></div>
<map name="ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_cgraph" id="ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="147,80,265,107"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="566,105,638,132"/>
<area shape="rect" id="node5" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="139,257,273,284"/>
<area shape="rect" id="node22" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="149,308,263,335"/>
<area shape="rect" id="node24" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="149,359,263,385"/>
<area shape="rect" id="node25" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="321,131,492,157"/>
<area shape="rect" id="node26" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="139,409,273,436"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="353,80,460,107"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="336,384,477,411"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="890,295,973,321"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="343,232,470,259"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="540,409,664,436"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="735,384,810,411"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="721,536,824,563"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="725,333,820,360"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="735,587,810,613"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="712,485,833,512"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="713,435,833,461"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="890,371,973,397"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="894,523,969,549"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="892,573,971,600"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="881,624,981,651"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="892,421,971,448"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="891,472,972,499"/>
<area shape="rect" id="node23" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="351,435,462,461"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_icgraph.png" border="0" usemap="#ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_icgraph" alt=""/></div>
<map name="ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_icgraph" id="ubifs_8h_a1689915d09ec86f76b30ee598b10f34e_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="156,271,269,297"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="965,372,1137,399"/>
<area shape="rect" id="node32" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="361,335,474,361"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="167,600,258,627"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="147,448,278,475"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="139,752,287,779"/>
<area shape="rect" id="node41" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="365,701,470,728"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1191,448,1337,475"/>
<area shape="rect" id="node44" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="785,549,903,576"/>
<area shape="rect" id="node46" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="170,651,255,677"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="146,803,279,829"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="335,220,500,247"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="781,144,907,171"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="591,245,680,272"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="1221,245,1307,272"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1584,93,1669,120"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="796,245,892,272"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1190,347,1338,373"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1185,397,1343,424"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1400,347,1507,373"/>
<area shape="rect" id="node17" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1423,397,1484,424"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1564,308,1689,335"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1748,308,1864,335"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1737,359,1875,385"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1943,460,2036,487"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1948,257,2031,284"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1945,308,2034,335"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1941,359,2037,385"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1938,409,2041,436"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1407,549,1500,576"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1391,499,1516,525"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1743,423,1869,449"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1572,549,1681,576"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1565,499,1688,525"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1923,511,2056,537"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1000,144,1103,171"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="993,195,1109,221"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="995,43,1108,69"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1002,93,1101,120"/>
<area shape="rect" id="node33" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="572,335,699,361"/>
<area shape="rect" id="node34" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="801,397,887,424"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="771,600,917,627"/>
<area shape="rect" id="node38" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="348,448,487,475"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="548,448,723,475"/>
<area shape="rect" id="node42" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="567,651,704,677"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1199,549,1329,576"/>
<area shape="rect" id="node47" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="371,651,463,677"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="363,803,472,829"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="582,803,689,829"/>
</map>
</div>

</div>
</div>
<a id="ab974ec909e594f54f7773880688a2334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab974ec909e594f54f7773880688a2334">&#9670;&nbsp;</a></span>ubifs_scan_a_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_scan_a_node </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scan_a_node - scan for a node or padding. <code></code>: UBIFS file-system description object : buffer to scan : length of buffer : logical eraseblock number : offset within the logical eraseblock : print no messages</p>
<p>This function returns a scanning code to indicate what was scanned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab974ec909e594f54f7773880688a2334_cgraph.png" border="0" usemap="#ubifs_8h_ab974ec909e594f54f7773880688a2334_cgraph" alt=""/></div>
<map name="ubifs_8h_ab974ec909e594f54f7773880688a2334_cgraph" id="ubifs_8h_ab974ec909e594f54f7773880688a2334_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="188,5,329,32"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="727,56,810,83"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="195,157,322,184"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="403,132,475,159"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="377,208,501,235"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="573,107,647,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="559,157,661,184"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="563,208,657,235"/>
<area shape="rect" id="node11" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="573,259,647,285"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="549,309,671,336"/>
<area shape="rect" id="node18" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="550,360,670,387"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="727,107,810,133"/>
<area shape="rect" id="node13" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="731,208,806,235"/>
<area shape="rect" id="node14" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="729,259,808,285"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="719,309,819,336"/>
<area shape="rect" id="node16" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="729,360,808,387"/>
<area shape="rect" id="node17" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="728,411,809,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab974ec909e594f54f7773880688a2334_icgraph.png" border="0" usemap="#ubifs_8h_ab974ec909e594f54f7773880688a2334_icgraph" alt=""/></div>
<map name="ubifs_8h_ab974ec909e594f54f7773880688a2334_icgraph" id="ubifs_8h_ab974ec909e594f54f7773880688a2334_icgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#a9a01d76e5a65d73c6c44c1171759a231" title="get_master_node" alt="" coords="202,81,325,108"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="201,195,325,221"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#a9ce17b89aee2271a22804d44fcc78aa6" title="get_cs_sqnum" alt="" coords="210,144,317,171"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="188,24,339,51"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="221,397,306,424"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a11a5ff140312c68bb4c5e44593d11b90" title="ubifs_recover_master_node" alt="" coords="387,68,569,95"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="635,271,765,297"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="841,119,967,145"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1045,335,1139,361"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1025,157,1159,184"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1045,208,1139,235"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1051,259,1133,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1047,5,1137,32"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1044,56,1140,83"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1041,107,1143,133"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1228,157,1301,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1217,284,1313,311"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1221,233,1308,260"/>
<area shape="rect" id="node17" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="433,220,523,247"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="404,169,552,196"/>
<area shape="rect" id="node22" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="435,321,521,348"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="831,220,977,247"/>
<area shape="rect" id="node20" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="647,321,753,348"/>
<area shape="rect" id="node21" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="835,321,973,348"/>
<area shape="rect" id="node23" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="654,372,746,399"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="641,17,759,44"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="841,423,967,449"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1031,423,1153,449"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="421,593,535,620"/>
<area shape="rect" id="node40" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="643,575,757,601"/>
<area shape="rect" id="node42" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="413,752,543,779"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="392,423,564,449"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="627,524,773,551"/>
<area shape="rect" id="node48" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="419,271,537,297"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="411,681,545,708"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="617,625,783,652"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1029,625,1155,652"/>
<area shape="rect" id="node32" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="859,575,949,601"/>
<area shape="rect" id="node33" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="861,625,947,652"/>
<area shape="rect" id="node34" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="861,676,947,703"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1213,600,1316,627"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1207,651,1323,677"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1208,701,1321,728"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1215,549,1314,576"/>
<area shape="rect" id="node41" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="841,524,967,551"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="631,828,769,855"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="626,473,774,500"/>
<area shape="rect" id="node46" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="621,423,779,449"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="645,777,755,804"/>
</map>
</div>

</div>
</div>
<a id="a7e559a0c70f1f17d0886f600cd59a639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e559a0c70f1f17d0886f600cd59a639">&#9670;&nbsp;</a></span>ubifs_scan_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_scan_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a> *&#160;</td>
          <td class="paramname"><em>sleb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scan_destroy - destroy LEB scanning information. : scanning information to free </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7e559a0c70f1f17d0886f600cd59a639_icgraph.png" border="0" usemap="#ubifs_8h_a7e559a0c70f1f17d0886f600cd59a639_icgraph" alt=""/></div>
<map name="ubifs_8h_a7e559a0c70f1f17d0886f600cd59a639_icgraph" id="ubifs_8h_a7e559a0c70f1f17d0886f600cd59a639_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="377,217,491,244"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1187,369,1359,396"/>
<area shape="rect" id="node30" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="582,268,695,295"/>
<area shape="rect" id="node33" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="389,724,479,751"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="369,369,499,396"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="188,775,312,801"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="360,825,508,852"/>
<area shape="rect" id="node40" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="586,825,691,852"/>
<area shape="rect" id="node42" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="391,775,477,801"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1412,395,1559,421"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="207,572,293,599"/>
<area shape="rect" id="node46" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="375,420,493,447"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="367,673,501,700"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="556,116,721,143"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1002,167,1129,193"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="812,217,901,244"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="814,116,899,143"/>
<area shape="rect" id="node24" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="814,65,899,92"/>
<area shape="rect" id="node5" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="1017,217,1113,244"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1411,344,1559,371"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1407,503,1564,529"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1622,319,1729,345"/>
<area shape="rect" id="node10" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1645,369,1706,396"/>
<area shape="rect" id="node9" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1791,293,1916,320"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1629,533,1722,560"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1613,420,1738,447"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1612,876,1739,903"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1799,533,1908,560"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1792,420,1915,447"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1787,901,1920,928"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1807,952,1900,979"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1812,1003,1895,1029"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1809,749,1898,776"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1805,800,1901,827"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1802,851,1905,877"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1221,167,1324,193"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1215,217,1331,244"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1216,65,1329,92"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1223,116,1322,143"/>
<area shape="rect" id="node31" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="793,268,920,295"/>
<area shape="rect" id="node32" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1022,420,1109,447"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="992,699,1139,725"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="569,395,708,421"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="769,408,944,435"/>
<area shape="rect" id="node41" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="788,775,925,801"/>
<area shape="rect" id="node43" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="593,775,685,801"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="1421,565,1550,592"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="584,673,693,700"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="803,673,910,700"/>
</map>
</div>

</div>
</div>
<a id="a18197e05567059efbb981ebe037255bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18197e05567059efbb981ebe037255bb">&#9670;&nbsp;</a></span>ubifs_scanned_corruption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_scanned_corruption </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_scanned_corruption - print information after UBIFS scanned corruption. <code></code>: UBIFS file-system description object : LEB number of corruption : offset of corruption : buffer containing corruption </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a18197e05567059efbb981ebe037255bb_cgraph.png" border="0" usemap="#ubifs_8h_a18197e05567059efbb981ebe037255bb_cgraph" alt=""/></div>
<map name="ubifs_8h_a18197e05567059efbb981ebe037255bb_cgraph" id="ubifs_8h_a18197e05567059efbb981ebe037255bb_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="224,5,296,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a18197e05567059efbb981ebe037255bb_icgraph.png" border="0" usemap="#ubifs_8h_a18197e05567059efbb981ebe037255bb_icgraph" alt=""/></div>
<map name="ubifs_8h_a18197e05567059efbb981ebe037255bb_icgraph" id="ubifs_8h_a18197e05567059efbb981ebe037255bb_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="237,284,361,311"/>
<area shape="rect" id="node21" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="224,157,375,184"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="257,487,342,513"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="463,309,554,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="435,259,583,285"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="880,157,1007,184"/>
<area shape="rect" id="node19" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="466,411,551,437"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="870,309,1017,336"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1099,487,1192,513"/>
<area shape="rect" id="node7" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="673,461,778,488"/>
<area shape="rect" id="node8" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="875,461,1012,488"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1079,157,1212,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1099,208,1192,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1104,259,1187,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1101,5,1190,32"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1097,56,1193,83"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1094,107,1197,133"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1281,157,1355,184"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1270,284,1366,311"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1275,233,1361,260"/>
<area shape="rect" id="node20" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="679,411,771,437"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a427d1842fd140c457b93e9d0f9c1e78d" title="ubifs_clean_lebs" alt="" coords="666,107,785,133"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="881,208,1006,235"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1084,309,1207,336"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="452,715,565,741"/>
<area shape="rect" id="node36" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="669,664,782,691"/>
<area shape="rect" id="node38" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="443,816,574,843"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="423,360,595,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="652,563,799,589"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="449,613,568,640"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="442,512,575,539"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="643,715,808,741"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1082,715,1209,741"/>
<area shape="rect" id="node28" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="899,765,988,792"/>
<area shape="rect" id="node29" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="901,664,986,691"/>
<area shape="rect" id="node30" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="901,715,986,741"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1267,689,1369,716"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1260,740,1376,767"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1261,791,1375,817"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1269,639,1367,665"/>
<area shape="rect" id="node37" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="880,613,1007,640"/>
<area shape="rect" id="node39" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="656,867,795,893"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="856,867,1031,893"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="651,360,799,387"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="647,259,804,285"/>
<area shape="rect" id="node43" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="890,411,997,437"/>
<area shape="rect" id="node44" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="913,360,974,387"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="661,613,790,640"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="671,512,780,539"/>
</map>
</div>

</div>
</div>
<a id="a356501925fe3150a487dcc7ba555520e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a356501925fe3150a487dcc7ba555520e">&#9670;&nbsp;</a></span>ubifs_search_bud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a>* ubifs_search_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_search_bud - search bud LEB. <code></code>: UBIFS file-system description object : logical eraseblock number to search</p>
<p>This function searches bud LEB . Returns bud description object in case of success and NULL if there is no bud with this LEB number. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a356501925fe3150a487dcc7ba555520e_icgraph.png" border="0" usemap="#ubifs_8h_a356501925fe3150a487dcc7ba555520e_icgraph" alt=""/></div>
<map name="ubifs_8h_a356501925fe3150a487dcc7ba555520e_icgraph" id="ubifs_8h_a356501925fe3150a487dcc7ba555520e_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="177,1415,320,1441"/>
<area shape="rect" id="node46" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="206,1617,291,1644"/>
<area shape="rect" id="node49" href="replay_8c.html#a5d782d0fbd913bfe5f13ab3a7e8db174" title="validate_ref" alt="" coords="204,1668,293,1695"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="369,1339,472,1365"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="707,1263,823,1289"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="708,1313,821,1340"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="715,1364,814,1391"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="710,1516,819,1543"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="527,1313,653,1340"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="871,1516,1036,1543"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="871,1465,1036,1492"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="893,1415,1013,1441"/>
<area shape="rect" id="node16" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="1091,1693,1249,1720"/>
<area shape="rect" id="node17" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="1121,1592,1219,1619"/>
<area shape="rect" id="node18" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="909,1567,997,1593"/>
<area shape="rect" id="node6" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="1325,1440,1441,1467"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1084,1491,1256,1517"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1309,1491,1457,1517"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1304,1288,1461,1315"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1525,1263,1619,1289"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1509,613,1635,640"/>
<area shape="rect" id="node14" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="1101,715,1239,741"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="1096,1440,1244,1467"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="892,309,1015,336"/>
<area shape="rect" id="node22" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="1095,5,1245,32"/>
<area shape="rect" id="node23" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="1114,360,1226,387"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="1120,461,1220,488"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="1095,512,1245,539"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1109,107,1231,133"/>
<area shape="rect" id="node27" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="1131,259,1209,285"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1309,664,1456,691"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="1101,157,1239,184"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="1312,284,1453,311"/>
<area shape="rect" id="node31" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="1133,411,1207,437"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1103,208,1237,235"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="893,968,1013,995"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="1108,816,1232,843"/>
<area shape="rect" id="node36" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="1313,613,1452,640"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1093,867,1247,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1095,917,1245,944"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="1092,1019,1248,1045"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="1095,1069,1245,1096"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1105,1121,1235,1162"/>
<area shape="rect" id="node42" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="1129,1187,1211,1213"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="1125,664,1215,691"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="900,1364,1007,1391"/>
<area shape="rect" id="node47" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="375,1617,467,1644"/>
<area shape="rect" id="node48" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="521,1668,659,1695"/>
<area shape="rect" id="node50" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="368,1668,473,1695"/>
</map>
</div>

</div>
</div>
<a id="a795e1a9542770ea482f128ed03e6a87f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795e1a9542770ea482f128ed03e6a87f">&#9670;&nbsp;</a></span>ubifs_search_zbranch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_search_zbranch </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_search_zbranch - search znode branch. <code></code>: UBIFS file-system description object : znode to search in : key to search for <br />
: znode branch slot number is returned here</p>
<p>This is a helper function which search branch with key  in  using binary search. The result of the search may be: o exact match, then %1 is returned, and the slot number of the branch is stored in <br />
; o no exact match, then %0 is returned and the slot number of the left closest branch is returned in <br />
; the slot if all keys in this znode are greater than , then %-1 is returned in <br />
. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_cgraph.png" border="0" usemap="#ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_cgraph" alt=""/></div>
<map name="ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_cgraph" id="ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="203,5,285,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_icgraph.png" border="0" usemap="#ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_icgraph" alt=""/></div>
<map name="ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_icgraph" id="ubifs_8h_a795e1a9542770ea482f128ed03e6a87f_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="207,627,334,653"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="203,943,339,969"/>
<area shape="rect" id="node47" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="398,309,531,336"/>
<area shape="rect" id="node48" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="219,1323,322,1349"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="409,385,520,412"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1013,823,1140,849"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="621,360,724,387"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="611,157,735,184"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="816,5,944,32"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="610,208,735,235"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="597,309,748,336"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="599,461,746,488"/>
<area shape="rect" id="node21" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="591,563,755,589"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="593,411,752,437"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1019,309,1135,336"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="811,259,949,285"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1005,613,1148,640"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1013,157,1140,184"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1017,56,1137,83"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="818,715,942,741"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="807,309,953,336"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="804,360,956,387"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1196,744,1319,771"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="805,613,955,640"/>
<area shape="rect" id="node22" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="813,664,947,691"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="408,765,521,792"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="413,639,516,665"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="406,1069,523,1096"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a45a85587c22ac5f315c3fe1d76a9301e" title="ubifs_tnc_get_bu_keys" alt="" coords="387,1120,543,1147"/>
<area shape="rect" id="node36" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="411,1171,518,1197"/>
<area shape="rect" id="node37" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="413,1221,516,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="399,867,531,893"/>
<area shape="rect" id="node44" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="803,961,957,988"/>
<area shape="rect" id="node45" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="396,1272,533,1299"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="630,715,715,741"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="804,765,956,792"/>
<area shape="rect" id="node30" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="611,1069,734,1096"/>
<area shape="rect" id="node31" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="613,1120,733,1147"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="807,1171,953,1197"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="809,1272,951,1299"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="605,1171,740,1197"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="623,867,723,893"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="625,917,721,944"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="595,816,751,843"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="609,968,736,995"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="827,823,933,849"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a6a4e198020559a2622dfb16bdc5b3b24" title="ubifs_tnc_has_node" alt="" coords="603,1323,742,1349"/>
<area shape="rect" id="node49" href="ubifs_8h.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="398,1323,531,1349"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3a388ce018049e8a7da4da512f8e1dcf" title="ubifs_dirty_idx_node" alt="" coords="394,1373,535,1400"/>
</map>
</div>

</div>
</div>
<a id="a710028854a0cfc73a5d2d5b4e1b6417f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710028854a0cfc73a5d2d5b4e1b6417f">&#9670;&nbsp;</a></span>ubifs_set_inode_flags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_set_inode_flags </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_set_inode_flags - set VFS inode flags. : VFS inode to set flags for</p>
<p>This function propagates flags from UBIFS inode object to VFS inode object. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_cgraph.png" border="0" usemap="#ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_cgraph" alt=""/></div>
<map name="ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_cgraph" id="ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="201,5,289,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_icgraph.png" border="0" usemap="#ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_icgraph" alt=""/></div>
<map name="ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_icgraph" id="ubifs_8h_a710028854a0cfc73a5d2d5b4e1b6417f_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="697,5,788,32"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a1492bd8c5ac3be76470004b3c0f53672" title="ubifs_new_inode" alt="" coords="511,107,629,133"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="201,335,280,361"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="507,208,633,235"/>
<area shape="rect" id="node29" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="207,196,275,223"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="852,259,960,285"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1022,309,1155,336"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1217,284,1291,311"/>
<area shape="rect" id="node6" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1008,208,1169,235"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="696,208,789,235"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="701,157,784,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="698,259,787,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="695,56,791,83"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="691,107,794,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="858,107,954,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="863,157,949,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1039,157,1139,184"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="705,360,781,387"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="346,259,441,285"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="688,487,797,513"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="328,411,459,437"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="852,411,960,437"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="1052,436,1125,463"/>
<area shape="rect" id="node20" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="1008,385,1169,412"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="859,487,953,513"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="523,461,617,488"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="507,411,633,437"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="681,411,804,437"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="353,208,434,235"/>
</map>
</div>

</div>
</div>
<a id="aaebf1c80e366c0f2702f58b91d7a9d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaebf1c80e366c0f2702f58b91d7a9d38">&#9670;&nbsp;</a></span>ubifs_setattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_setattr </td>
          <td>(</td>
          <td class="paramtype">struct dentry *&#160;</td>
          <td class="paramname"><em>dentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct iattr *&#160;</td>
          <td class="paramname"><em>attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aaebf1c80e366c0f2702f58b91d7a9d38_cgraph.png" border="0" usemap="#ubifs_8h_aaebf1c80e366c0f2702f58b91d7a9d38_cgraph" alt=""/></div>
<map name="ubifs_8h_aaebf1c80e366c0f2702f58b91d7a9d38_cgraph" id="ubifs_8h_aaebf1c80e366c0f2702f58b91d7a9d38_cgraph">
<area shape="rect" id="node2" href="attr_8c.html#a66e4acece72e69cb0264d3cb4c1f0faf" title="setattr_prepare" alt="" coords="148,596,257,623"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="747,614,921,640"/>
<area shape="rect" id="node11" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="153,1127,253,1154"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="163,1380,243,1407"/>
<area shape="rect" id="node3" href="attr_8c.html#a7827e769d8b5704301fc520df3edad83" title="inode_newsize_ok" alt="" coords="323,527,453,554"/>
<area shape="rect" id="node4" href="attr_8c.html#a95285eda06ebaecaa53b77857030ae2d" title="EXPORT_SYMBOL" alt="" coords="539,462,678,488"/>
<area shape="rect" id="node5" href="inode_8c.html#a2359f9f4ea541a79ff23035a6c89cb03" title="inode_owner_or_capable" alt="" coords="305,1127,471,1154"/>
<area shape="rect" id="node6" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="539,1203,678,1230"/>
<area shape="rect" id="node8" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="997,984,1085,1011"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="983,614,1099,640"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1005,1086,1077,1112"/>
<area shape="rect" id="node12" href="budget_8c.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="765,1406,903,1432"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="339,959,437,986"/>
<area shape="rect" id="node31" href="budget_8c.html#afb4a050131358f08985939fa532bc694" title="ubifs_release_budget" alt="" coords="761,1304,907,1331"/>
<area shape="rect" id="node33" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="341,1178,435,1204"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#ad2cc844e81df0d48475507850a3f92a3" title="do_attr_changes" alt="" coords="329,1330,447,1356"/>
<area shape="rect" id="node35" href="ubifs_2journal_8c.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="547,512,671,539"/>
<area shape="rect" id="node13" href="budget_8c.html#ae7fb821f0bda60b202ba1bd7b8445634" title="calc_data_growth" alt="" coords="979,1380,1103,1407"/>
<area shape="rect" id="node14" href="budget_8c.html#ad59159f2a92429bd81d6bcb530d7c5c5" title="calc_dd_growth" alt="" coords="984,1279,1097,1306"/>
<area shape="rect" id="node15" href="budget_8c.html#ac3fe021e20fd3d248577fe5d2623ad96" title="calc_idx_growth" alt="" coords="983,1330,1099,1356"/>
<area shape="rect" id="node16" href="budget_8c.html#a2defe97e005967f0deab94271d273ff1" title="can_use_rp" alt="" coords="1197,1507,1287,1534"/>
<area shape="rect" id="node17" href="budget_8c.html#ae0376da215ef10226bf8949db1efe446" title="do_budget_space" alt="" coords="979,1482,1103,1508"/>
<area shape="rect" id="node19" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="978,1431,1103,1458"/>
<area shape="rect" id="node18" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="1160,1343,1324,1370"/>
<area shape="rect" id="node21" href="key_8h.html#aa31c368518eb702eaa02487c8699797f" title="data_key_init" alt="" coords="785,883,883,910"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="540,782,677,808"/>
<area shape="rect" id="node29" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="781,934,887,960"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a01989f957629450ab7009eb5df5129a9" title="release_new_page_budget" alt="" coords="521,1152,697,1179"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#adcc5939bd48e791a796e320711c9fd84" title="release_existing_page\l_budget" alt="" coords="533,1036,684,1077"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="771,782,897,808"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#a44bb751e441c7a2479b5251b1423d16a" title="ubifs_wbuf_add_ino\l_nolock" alt="" coords="765,716,903,757"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a9bb32d44ef1e02992210b7412754de3c" title="release_head" alt="" coords="785,832,883,859"/>
<area shape="rect" id="node26" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="783,512,885,539"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#abb1bef600a6aa118b19e228194c5be1d" title="finish_reservation" alt="" coords="772,664,896,691"/>
<area shape="rect" id="node27" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="989,259,1092,286"/>
<area shape="rect" id="node36" href="ubifs_2journal_8c.html#a0192ba0f1c902266317f5be8a385aff5" title="zero_trun_node_unused" alt="" coords="754,462,914,488"/>
<area shape="rect" id="node37" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="774,158,894,184"/>
<area shape="rect" id="node38" href="ubifs_2journal_8c.html#a687e1b07880f8f06558ceefc741d0465" title="truncate_data_node" alt="" coords="766,208,902,235"/>
<area shape="rect" id="node39" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="790,56,878,83"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="969,31,1112,58"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="791,310,877,336"/>
<area shape="rect" id="node42" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="789,360,879,387"/>
<area shape="rect" id="node43" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="752,259,916,286"/>
<area shape="rect" id="node44" href="ubifs_2journal_8c.html#aed47b114c8f20052b62f78e27cbada07" title="mark_inode_clean" alt="" coords="771,411,897,438"/>
<area shape="rect" id="node46" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="321,1599,455,1626"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="519,1650,699,1692"/>
<area shape="rect" id="node48" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="539,1716,679,1757"/>
<area shape="rect" id="node49" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="542,1533,675,1574"/>
<area shape="rect" id="node50" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="539,1599,678,1626"/>
</map>
</div>

</div>
</div>
<a id="ad1012527005350c22c8535ba5fcff1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1012527005350c22c8535ba5fcff1f4">&#9670;&nbsp;</a></span>ubifs_shrink_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ubifs_shrink_count </td>
          <td>(</td>
          <td class="paramtype">struct shrinker *&#160;</td>
          <td class="paramname"><em>shrink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct shrink_control *&#160;</td>
          <td class="paramname"><em>sc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a148b76e3e941071fe7395e70793f9996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a148b76e3e941071fe7395e70793f9996">&#9670;&nbsp;</a></span>ubifs_shrink_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long ubifs_shrink_scan </td>
          <td>(</td>
          <td class="paramtype">struct shrinker *&#160;</td>
          <td class="paramname"><em>shrink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct shrink_control *&#160;</td>
          <td class="paramname"><em>sc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a148b76e3e941071fe7395e70793f9996_cgraph.png" border="0" usemap="#ubifs_8h_a148b76e3e941071fe7395e70793f9996_cgraph" alt=""/></div>
<map name="ubifs_8h_a148b76e3e941071fe7395e70793f9996_cgraph" id="ubifs_8h_a148b76e3e941071fe7395e70793f9996_cgraph">
<area shape="rect" id="node2" href="ubifs_2shrinker_8c.html#a411ff3efed86e8bb1341d32ebc2f3ceb" title="kick_a_thread" alt="" coords="188,81,291,108"/>
<area shape="rect" id="node6" href="ubifs_2shrinker_8c.html#aae7bfecfc263da15e6e89615dc80b45d" title="shrink_tnc_trees" alt="" coords="180,132,299,159"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a6c27328fd39184ba2e1bdfa1970275e7" title="ubifs_request_bg_commit" alt="" coords="347,56,517,83"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="609,5,696,32"/>
<area shape="rect" id="node5" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="585,56,720,83"/>
<area shape="rect" id="node7" href="ubifs_2shrinker_8c.html#a32ba118a0bb1dd776b2c54cda5cb9035" title="shrink_tnc" alt="" coords="391,132,473,159"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#af7dbe47a30b69444c419cc86334aae56" title="ubifs_tnc_levelorder_next" alt="" coords="1004,127,1175,153"/>
<area shape="rect" id="node10" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="821,157,923,184"/>
<area shape="rect" id="node11" href="tnc__misc_8c.html#ae1aa3c1bb2237d83c49c68290edc9c7e" title="ubifs_destroy_tnc_subtree" alt="" coords="565,208,740,235"/>
<area shape="rect" id="node9" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="1223,204,1360,231"/>
<area shape="rect" id="node12" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="1021,197,1157,238"/>
<area shape="rect" id="node13" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="788,259,956,285"/>
</map>
</div>

</div>
</div>
<a id="ac9e61563282a3ab80fa1947e24f1726e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e61563282a3ab80fa1947e24f1726e">&#9670;&nbsp;</a></span>ubifs_start_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__scan__leb.html">ubifs_scan_leb</a>* ubifs_start_scan </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_start_scan - create LEB scanning information at start of scan. <code></code>: UBIFS file-system description object : logical eraseblock number : offset to start at (usually zero) : scan buffer (must be c-&gt;leb_size)</p>
<p>This function returns the scanned information on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_cgraph.png" border="0" usemap="#ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_cgraph" alt=""/></div>
<map name="ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_cgraph" id="ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="172,5,279,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="327,31,399,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_icgraph.png" border="0" usemap="#ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_icgraph" alt=""/></div>
<map name="ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_icgraph" id="ubifs_8h_ac9e61563282a3ab80fa1947e24f1726e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1d3dc4ff452e67e327b4ad2e8888ffa4" title="ubifs_recover_leb" alt="" coords="172,208,296,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="191,385,277,412"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="385,259,475,285"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a42393d54bbb6a1e25d5dde1f396b31f3" title="ubifs_recover_log_leb" alt="" coords="356,157,504,184"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="801,107,928,133"/>
<area shape="rect" id="node20" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="387,208,473,235"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="791,208,938,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1020,360,1113,387"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1185,360,1294,387"/>
<area shape="rect" id="node8" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="594,157,699,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="796,157,933,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1000,5,1133,32"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1020,56,1113,83"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1025,107,1108,133"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1022,157,1111,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1019,208,1115,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1015,259,1118,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1203,5,1276,32"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1191,132,1287,159"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1196,81,1283,108"/>
<area shape="rect" id="node21" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="601,208,693,235"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="373,664,487,691"/>
<area shape="rect" id="node33" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="590,613,703,640"/>
<area shape="rect" id="node36" href="ubifs_2orphan_8c.html#ace9e5563d32d1412cb08705623865c60" title="dbg_scan_orphans" alt="" coords="365,563,495,589"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="344,360,516,387"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="573,360,720,387"/>
<area shape="rect" id="node47" href="master_8c.html#a23920cfd809d844b355b159fd88e5748" title="scan_for_master" alt="" coords="371,461,489,488"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="363,512,497,539"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="564,740,729,767"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1003,639,1130,665"/>
<area shape="rect" id="node25" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="820,816,909,843"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="822,715,907,741"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="822,765,907,792"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1188,563,1291,589"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1181,613,1297,640"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1183,664,1296,691"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1190,715,1289,741"/>
<area shape="rect" id="node34" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="801,613,928,640"/>
<area shape="rect" id="node35" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1023,576,1110,603"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="577,563,716,589"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="777,563,952,589"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="573,411,721,437"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="568,309,725,336"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="811,461,918,488"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="834,411,895,437"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="802,309,927,336"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1005,309,1128,336"/>
<area shape="rect" id="node48" href="ubifs_8h.html#ac45820de3d377c5a1f29a160f5fb0d77" title="ubifs_read_master" alt="" coords="582,461,711,488"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="592,512,701,539"/>
</map>
</div>

</div>
</div>
<a id="a74c2db86f03a3bcacb020be5daf7b74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c2db86f03a3bcacb020be5daf7b74c">&#9670;&nbsp;</a></span>ubifs_sync_wbufs_by_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_sync_wbufs_by_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_sync_wbufs_by_inode - synchronize write-buffers for an inode. <code></code>: UBIFS file-system description object : inode to synchronize</p>
<p>This function synchronizes write-buffers which contain nodes belonging to . Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_cgraph.png" border="0" usemap="#ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_cgraph" alt=""/></div>
<map name="ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_cgraph" id="ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a3b4d80947dbd579130f95db8f4de5691" title="wbuf_has_ino" alt="" coords="233,56,335,83"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="201,107,367,133"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="639,720,745,747"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="415,56,591,83"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1207,360,1288,387"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="463,5,542,32"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="448,284,557,311"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1012,157,1131,184"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="641,284,743,311"/>
<area shape="rect" id="node25" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1211,1323,1283,1349"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="801,1095,928,1121"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="793,208,936,235"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1029,208,1114,235"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="817,309,912,336"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1001,461,1141,488"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="999,512,1143,539"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1030,563,1113,589"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1028,613,1115,640"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1031,664,1112,691"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1004,715,1139,741"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1011,765,1132,792"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1008,816,1135,843"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1009,867,1133,893"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="991,917,1151,944"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1007,968,1135,995"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1009,360,1133,387"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1009,411,1133,437"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1006,1019,1137,1045"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1002,1627,1141,1653"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1015,1069,1128,1096"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1011,1677,1131,1704"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1006,1728,1137,1755"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1009,1779,1133,1805"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1006,1829,1137,1856"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1014,1880,1129,1907"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1008,1931,1135,1957"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1001,1981,1142,2008"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1014,1120,1129,1147"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="997,259,1145,285"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="994,1171,1149,1197"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1008,1221,1135,1248"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="986,309,1157,336"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="998,1272,1145,1299"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1013,1323,1130,1349"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1015,1373,1128,1400"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="997,1424,1146,1451"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="1015,1475,1128,1501"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="984,1525,1159,1552"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1018,1576,1125,1603"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_icgraph.png" border="0" usemap="#ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_icgraph" alt=""/></div>
<map name="ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_icgraph" id="ubifs_8h_a74c2db86f03a3bcacb020be5daf7b74c_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="201,13,291,39"/>
</map>
</div>

</div>
</div>
<a id="a0f9bccdd201d5b2525ba901e00ece03f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9bccdd201d5b2525ba901e00ece03f">&#9670;&nbsp;</a></span>ubifs_tnc_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_add - add a node to TNC. <code></code>: UBIFS file-system description object : key to add : LEB number of node : node offset : node length</p>
<p>This function adds a node with key  to TNC. The node may be new or it may obsolete some existing one. Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_cgraph.png" border="0" usemap="#ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_cgraph" alt=""/></div>
<map name="ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_cgraph" id="ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="156,380,289,407"/>
<area shape="rect" id="node12" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="964,31,1067,57"/>
<area shape="rect" id="node23" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="976,1145,1055,1172"/>
<area shape="rect" id="node24" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="553,689,631,716"/>
<area shape="rect" id="node42" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="189,1247,257,1273"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="537,1440,647,1467"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="723,132,845,159"/>
<area shape="rect" id="node7" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1194,1196,1277,1223"/>
<area shape="rect" id="node8" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1188,81,1283,108"/>
<area shape="rect" id="node9" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="532,323,652,349"/>
<area shape="rect" id="node18" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="941,1247,1090,1273"/>
<area shape="rect" id="node19" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="375,195,447,221"/>
<area shape="rect" id="node21" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="964,335,1067,361"/>
<area shape="rect" id="node22" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="337,380,484,407"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="971,132,1060,159"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1394,892,1466,919"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1393,132,1467,159"/>
<area shape="rect" id="node10" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="733,233,835,260"/>
<area shape="rect" id="node11" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="738,183,830,209"/>
<area shape="rect" id="node16" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="738,284,830,311"/>
<area shape="rect" id="node17" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="964,284,1067,311"/>
<area shape="rect" id="node13" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1165,31,1306,57"/>
<area shape="rect" id="node14" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1371,5,1489,32"/>
<area shape="rect" id="node15" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1356,56,1504,83"/>
<area shape="rect" id="node20" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="551,183,633,209"/>
<area shape="rect" id="node25" href="tnc_8c.html#adfd8f1092141f1581ecab599e8d16f33" title="insert_zbranch" alt="" coords="731,588,837,615"/>
<area shape="rect" id="node26" href="tnc_8c.html#abf6349d876e412d65df3eb84b8b5f8d9" title="correct_parent_keys" alt="" coords="714,1044,854,1071"/>
<area shape="rect" id="node27" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307" title="ins_clr_old_idx_znode" alt="" coords="709,537,859,564"/>
<area shape="rect" id="node28" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="745,740,823,767"/>
<area shape="rect" id="node29" href="ext4_2namei_8c.html#a3683941965548067158993f202128332" title="do_split" alt="" coords="751,689,817,716"/>
<area shape="rect" id="node30" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1208,816,1263,843"/>
<area shape="rect" id="node31" href="ext4_2namei_8c.html#a82c050e0e49a172d1ee0195fb6c3db52" title="ext4_append" alt="" coords="967,943,1063,969"/>
<area shape="rect" id="node32" href="ext4_2namei_8c.html#a9e7848d42730d7068a75f295d4cba2f5" title="dx_make_map" alt="" coords="962,993,1069,1020"/>
<area shape="rect" id="node33" href="ext4_2namei_8c.html#a235ebd6612e5cfcce605473f5b56ab42" title="dx_sort_map" alt="" coords="967,436,1064,463"/>
<area shape="rect" id="node34" href="ext4_2namei_8c.html#aa13a8413038131a81178693f0de0208f" title="dx_get_block" alt="" coords="966,487,1065,513"/>
<area shape="rect" id="node35" href="ext4_2namei_8c.html#a377ced031d5322b9c84627f5d2e0162e" title="dx_move_dirents" alt="" coords="955,689,1076,716"/>
<area shape="rect" id="node36" href="ext4_8h.html#af96e643b3e5b9c3a91a8c9981f0232a6" title="ext4_rec_len_to_disk" alt="" coords="1163,613,1308,640"/>
<area shape="rect" id="node37" href="ext4_2namei_8c.html#a57d3e5ea31cc4de0c3c45ffc1a68b8d3" title="dx_pack_dirents" alt="" coords="957,385,1074,412"/>
<area shape="rect" id="node38" href="ext4_2namei_8c.html#a8a459e6a70aa99bf6980500f6ddc6ea9" title="initialize_dirent_tail" alt="" coords="949,588,1081,615"/>
<area shape="rect" id="node39" href="ext4_2namei_8c.html#a939d80861b489fe488becc9e0d1f6b61" title="dx_insert_block" alt="" coords="959,892,1072,919"/>
<area shape="rect" id="node40" href="ext4_2namei_8c.html#aba40ee3fc4ea94fc3bff342d819a7fb1" title="ext4_handle_dirty_dirent_node" alt="" coords="916,791,1115,817"/>
<area shape="rect" id="node41" href="ext4_2namei_8c.html#a2627063910f74b8e9f5b4f57ac7c7fe2" title="ext4_handle_dirty_dx_node" alt="" coords="925,841,1105,868"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="721,1389,847,1416"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="947,1610,1083,1651"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="721,1339,847,1365"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="941,1399,1090,1425"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1194,1449,1277,1476"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="950,1500,1081,1527"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="700,1592,868,1619"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_icgraph.png" border="0" usemap="#ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_icgraph" alt=""/></div>
<map name="ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_icgraph" id="ubifs_8h_a0f9bccdd201d5b2525ba901e00ece03f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="174,335,290,361"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="163,664,301,691"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="161,765,303,792"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="169,613,295,640"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="172,563,292,589"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="170,715,294,741"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="159,63,305,89"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="156,171,308,197"/>
<area shape="rect" id="node36" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="167,841,297,868"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="386,107,477,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="385,208,478,235"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="390,512,473,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="393,259,470,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="386,309,477,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="388,360,475,387"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="387,411,476,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="383,461,479,488"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="380,157,483,184"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="569,56,677,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="754,5,887,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="967,56,1041,83"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="740,56,901,83"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="575,512,671,539"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="580,563,667,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="771,588,871,615"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="382,664,481,691"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="567,664,680,691"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="573,715,673,741"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="773,715,868,741"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="370,765,493,792"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="356,816,507,843"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="562,816,685,843"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="570,613,677,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="574,5,673,32"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="383,56,480,83"/>
<area shape="rect" id="node37" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="372,867,491,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="555,867,692,893"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="774,867,867,893"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="949,867,1059,893"/>
<area shape="rect" id="node41" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1107,867,1200,893"/>
</map>
</div>

</div>
</div>
<a id="a76f4b8ea4414cb096acbac0c4ae433c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f4b8ea4414cb096acbac0c4ae433c9">&#9670;&nbsp;</a></span>ubifs_tnc_add_nm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_add_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_add_nm - add a "hashed" node to TNC. <code></code>: UBIFS file-system description object : key to add : LEB number of node : node offset : node length : node name</p>
<p>This is the same as '<a class="el" href="tnc_8c.html#a0f9bccdd201d5b2525ba901e00ece03f">ubifs_tnc_add()</a>' but it should be used with keys which may have collisions, like directory entry keys. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph.png" border="0" usemap="#ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph" alt=""/></div>
<map name="ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph" id="ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="395,475,528,501"/>
<area shape="rect" id="node12" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1216,1057,1319,1084"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="1027,551,1130,577"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="591,652,737,679"/>
<area shape="rect" id="node25" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="380,171,543,197"/>
<area shape="rect" id="node30" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="402,235,521,261"/>
<area shape="rect" id="node33" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="835,905,903,932"/>
<area shape="rect" id="node34" href="key_8h.html#abbcaebc958b96ba6c1a981b93be96899" title="key_copy" alt="" coords="1039,1673,1118,1700"/>
<area shape="rect" id="node35" href="tnc_8c.html#a87449d9ca6fdc3ca6e74cc409e7a1506" title="tnc_insert" alt="" coords="625,1564,703,1591"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="609,1159,719,1185"/>
<area shape="rect" id="node49" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="181,627,332,653"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1017,207,1140,233"/>
<area shape="rect" id="node7" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1409,435,1491,461"/>
<area shape="rect" id="node8" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1403,308,1497,335"/>
<area shape="rect" id="node9" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="809,703,929,729"/>
<area shape="rect" id="node20" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1004,652,1153,679"/>
<area shape="rect" id="node21" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="628,196,700,223"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1223,207,1312,233"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1604,1159,1676,1185"/>
<area shape="rect" id="node6" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1603,308,1677,335"/>
<area shape="rect" id="node10" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="1027,601,1130,628"/>
<area shape="rect" id="node11" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="1033,753,1125,780"/>
<area shape="rect" id="node18" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="1033,703,1125,729"/>
<area shape="rect" id="node19" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1027,804,1130,831"/>
<area shape="rect" id="node13" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1379,1580,1521,1607"/>
<area shape="rect" id="node14" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1581,1555,1699,1581"/>
<area shape="rect" id="node15" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1759,1631,1907,1657"/>
<area shape="rect" id="node16" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1582,1656,1698,1683"/>
<area shape="rect" id="node17" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1569,1504,1711,1531"/>
<area shape="rect" id="node22" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="828,196,911,223"/>
<area shape="rect" id="node26" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="1001,55,1156,81"/>
<area shape="rect" id="node29" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="628,145,700,172"/>
<area shape="rect" id="node27" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1204,105,1331,132"/>
<area shape="rect" id="node28" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1209,156,1325,183"/>
<area shape="rect" id="node31" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="1023,156,1134,183"/>
<area shape="rect" id="node32" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1379,717,1521,744"/>
<area shape="rect" id="node36" href="tnc_8c.html#adfd8f1092141f1581ecab599e8d16f33" title="insert_zbranch" alt="" coords="816,1159,923,1185"/>
<area shape="rect" id="node37" href="tnc_8c.html#abf6349d876e412d65df3eb84b8b5f8d9" title="correct_parent_keys" alt="" coords="799,1513,939,1540"/>
<area shape="rect" id="node38" href="tnc_8c.html#a1f1088246a07a8a02137dd74aeb7e307" title="ins_clr_old_idx_znode" alt="" coords="794,1665,945,1692"/>
<area shape="rect" id="node39" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="830,1716,909,1743"/>
<area shape="rect" id="node40" href="ext4_2namei_8c.html#a3683941965548067158993f202128332" title="do_split" alt="" coords="836,1615,903,1641"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="806,1057,933,1084"/>
<area shape="rect" id="node43" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="1011,1362,1147,1403"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="806,1209,933,1236"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="1004,1311,1153,1337"/>
<area shape="rect" id="node46" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1226,1213,1309,1240"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1013,956,1144,983"/>
<area shape="rect" id="node48" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="785,1361,953,1388"/>
<area shape="rect" id="node50" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="623,728,705,755"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph.png" border="0" usemap="#ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph" alt=""/></div>
<map name="ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph" id="ubifs_8h_a76f4b8ea4414cb096acbac0c4ae433c9_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="189,233,305,260"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="183,512,310,539"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="187,461,307,488"/>
<area shape="rect" id="node22" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="181,563,312,589"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="374,157,465,184"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="373,208,466,235"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="378,259,461,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="381,309,458,336"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="374,360,465,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="376,411,463,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="375,5,464,32"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="371,56,467,83"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="368,107,471,133"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="541,157,649,184"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="726,107,859,133"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="939,157,1013,184"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="712,157,873,184"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="547,259,643,285"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="552,461,639,488"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="743,487,843,513"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="542,512,649,539"/>
<area shape="rect" id="node23" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="360,563,479,589"/>
<area shape="rect" id="node24" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="527,563,664,589"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="746,563,839,589"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="921,563,1031,589"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1079,563,1172,589"/>
</map>
</div>

</div>
</div>
<a id="ae7748d9645dfee9cdc9c0d62afd5a50d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7748d9645dfee9cdc9c0d62afd5a50d">&#9670;&nbsp;</a></span>ubifs_tnc_bulk_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_bulk_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbu__info.html">bu_info</a> *&#160;</td>
          <td class="paramname"><em>bu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_bulk_read - read a number of data nodes in one go. <code></code>: UBIFS file-system description object : bulk-read parameters and results</p>
<p>This functions reads and validates the data nodes that were identified by the '<a class="el" href="tnc_8c.html#a45a85587c22ac5f315c3fe1d76a9301e">ubifs_tnc_get_bu_keys()</a>' function. This functions returns %0 on success, -EAGAIN to indicate a race with GC, or another negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph.png" border="0" usemap="#ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph" alt=""/></div>
<map name="ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph" id="ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_cgraph">
<area shape="rect" id="node2" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="575,132,647,159"/>
<area shape="rect" id="node3" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="204,56,315,83"/>
<area shape="rect" id="node4" href="tnc_8c.html#a053bcfb703360c8d2a4f2474ee8569a1" title="read_wbuf" alt="" coords="218,107,301,133"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="385,107,491,133"/>
<area shape="rect" id="node6" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="199,208,319,235"/>
<area shape="rect" id="node7" href="tnc_8c.html#ab54327c23143999c0f58a686e0d3f303" title="validate_data_node" alt="" coords="192,259,327,285"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="375,208,501,235"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="549,208,673,235"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="745,309,819,336"/>
<area shape="rect" id="node23" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="403,360,473,387"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="745,56,819,83"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="731,107,833,133"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="735,157,829,184"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="721,208,843,235"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="722,259,842,285"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="899,5,982,32"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="899,56,982,83"/>
<area shape="rect" id="node17" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="903,107,978,133"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="901,157,980,184"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="891,208,991,235"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="901,259,980,285"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="900,309,981,336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph.png" border="0" usemap="#ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph" alt=""/></div>
<map name="ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph" id="ubifs_8h_ae7748d9645dfee9cdc9c0d62afd5a50d_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="192,5,327,32"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="375,5,488,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="536,5,647,32"/>
</map>
</div>

</div>
</div>
<a id="a0250b1b8a26f9ab4196fbec0dff74b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0250b1b8a26f9ab4196fbec0dff74b14">&#9670;&nbsp;</a></span>ubifs_tnc_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_tnc_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_close - close TNC subsystem and free all related resources. <code></code>: UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph.png" border="0" usemap="#ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph" alt=""/></div>
<map name="ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph" id="ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a482a899cade80092e7af9709cc937886" title="tnc_destroy_cnext" alt="" coords="189,19,319,45"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#ae1aa3c1bb2237d83c49c68290edc9c7e" title="ubifs_destroy_tnc_subtree" alt="" coords="167,95,341,121"/>
<area shape="rect" id="node9" href="tnc_8c.html#a01e38c99f12ee3c060c9214d14ec62f3" title="destroy_old_idx" alt="" coords="197,145,311,172"/>
<area shape="rect" id="node3" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="410,5,537,32"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="605,91,741,133"/>
<area shape="rect" id="node7" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="422,107,525,133"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="389,157,557,184"/>
<area shape="rect" id="node6" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="789,128,927,155"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph.png" border="0" usemap="#ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph" alt=""/></div>
<map name="ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph" id="ubifs_8h_a0250b1b8a26f9ab4196fbec0dff74b14_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="167,31,277,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="329,5,422,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a3e27f93e2785f1ef9580acc2fa8db34d" title="ubifs_umount" alt="" coords="325,56,425,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="476,5,585,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="636,5,729,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="473,56,588,83"/>
</map>
</div>

</div>
</div>
<a id="a3e11b3b283926c57ea7d7e7aaf6cabe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e11b3b283926c57ea7d7e7aaf6cabe1">&#9670;&nbsp;</a></span>ubifs_tnc_end_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_end_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_end_commit - update the TNC for commit end. <code></code>: UBIFS file-system description object</p>
<p>Write the dirty znodes. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_cgraph.png" border="0" usemap="#ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_cgraph" alt=""/></div>
<map name="ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_cgraph" id="ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_cgraph">
<area shape="rect" id="node2" href="tnc__commit_8c.html#ae53a03c19715003f3e3770f006496e51" title="return_gap_lebs" alt="" coords="224,461,339,488"/>
<area shape="rect" id="node24" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="237,715,325,741"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aed7297664da69ab5524f0e53b435d679" title="free_obsolete_znodes" alt="" coords="207,892,356,919"/>
<area shape="rect" id="node3" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="404,247,548,273"/>
<area shape="rect" id="node4" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="608,208,725,235"/>
<area shape="rect" id="node5" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="785,208,933,235"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1573,385,1645,412"/>
<area shape="rect" id="node19" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="609,360,725,387"/>
<area shape="rect" id="node23" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="596,259,737,285"/>
<area shape="rect" id="node6" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1160,259,1284,285"/>
<area shape="rect" id="node12" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="981,208,1101,235"/>
<area shape="rect" id="node14" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="983,309,1100,336"/>
<area shape="rect" id="node15" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="983,360,1100,387"/>
<area shape="rect" id="node18" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="981,157,1101,184"/>
<area shape="rect" id="node7" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1532,23,1685,65"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1360,309,1467,336"/>
<area shape="rect" id="node10" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1343,208,1484,235"/>
<area shape="rect" id="node11" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1359,5,1468,32"/>
<area shape="rect" id="node13" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1149,208,1295,235"/>
<area shape="rect" id="node16" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1177,360,1267,387"/>
<area shape="rect" id="node17" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1175,309,1269,336"/>
<area shape="rect" id="node20" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="806,360,913,387"/>
<area shape="rect" id="node21" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="803,259,916,285"/>
<area shape="rect" id="node22" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="799,309,920,336"/>
<area shape="rect" id="node25" href="misc_8h.html#ac7a685691e935bc3ef4a7918e107c8de" title="ubifs_idx_node_sz" alt="" coords="411,867,541,893"/>
<area shape="rect" id="node26" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="405,323,547,349"/>
<area shape="rect" id="node27" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="416,917,536,944"/>
<area shape="rect" id="node28" href="key_8h.html#a6a23a0657894a1a52a8a3046007995b3" title="key_write_idx" alt="" coords="425,968,527,995"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="411,512,541,539"/>
<area shape="rect" id="node36" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="409,765,543,792"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="627,613,706,640"/>
<area shape="rect" id="node41" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="425,613,527,640"/>
<area shape="rect" id="node42" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="425,664,527,691"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="421,816,531,843"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="606,537,727,564"/>
<area shape="rect" id="node31" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="822,512,897,539"/>
<area shape="rect" id="node32" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="820,563,899,589"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="809,613,909,640"/>
<area shape="rect" id="node34" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="820,664,899,691"/>
<area shape="rect" id="node35" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="819,461,900,488"/>
<area shape="rect" id="node37" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="620,892,713,919"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="806,968,913,995"/>
<area shape="rect" id="node39" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="999,1019,1084,1045"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="982,816,1101,843"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="615,1069,718,1096"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="796,1120,923,1147"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="788,1019,931,1045"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="812,1171,907,1197"/>
<area shape="rect" id="node50" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="413,1019,539,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_icgraph.png" border="0" usemap="#ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_icgraph" alt=""/></div>
<map name="ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_icgraph" id="ubifs_8h_a3e11b3b283926c57ea7d7e7aaf6cabe1_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="207,247,293,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="349,184,459,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="341,272,467,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="709,145,824,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="923,120,1016,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="907,171,1032,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1119,5,1228,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1336,5,1429,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1112,56,1235,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="526,196,629,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="520,297,635,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="688,233,845,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="704,1171,829,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="515,399,640,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="906,233,1033,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1316,436,1449,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1127,208,1220,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1132,157,1215,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1129,259,1218,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1125,309,1221,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1122,360,1225,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1339,816,1426,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="911,385,1027,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="901,1412,1038,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="898,1272,1041,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="906,1348,1033,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="909,1171,1029,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="907,1221,1031,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="897,968,1042,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="893,1120,1045,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1128,411,1219,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1135,461,1212,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1128,512,1219,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1130,563,1217,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1124,1424,1223,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1333,1221,1433,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1112,1323,1235,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1098,1272,1249,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1120,1373,1227,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1124,867,1223,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1125,1120,1222,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="900,613,1039,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1112,664,1235,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1117,715,1230,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1133,765,1213,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1093,968,1253,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1327,917,1438,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1301,993,1464,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1139,613,1207,640"/>
</map>
</div>

</div>
</div>
<a id="a45a85587c22ac5f315c3fe1d76a9301e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a85587c22ac5f315c3fe1d76a9301e">&#9670;&nbsp;</a></span>ubifs_tnc_get_bu_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_get_bu_keys </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbu__info.html">bu_info</a> *&#160;</td>
          <td class="paramname"><em>bu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_get_bu_keys - lookup keys for bulk-read. <code></code>: UBIFS file-system description object : bulk-read parameters and results</p>
<p>Lookup consecutive data node keys for the same inode that reside consecutively in the same LEB. This function returns zero in case of success and a negative error code in case of failure.</p>
<p>Note, if the bulk-read buffer length (-&gt;buf_len) is known, this function makes sure bulk-read nodes fit the buffer. Otherwise, this function prepares maximum possible amount of nodes for bulk-read. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_cgraph.png" border="0" usemap="#ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_cgraph" alt=""/></div>
<map name="ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_cgraph" id="ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1709,5,1791,32"/>
<area shape="rect" id="node3" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="209,563,345,589"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1713,613,1787,640"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1711,157,1789,184"/>
<area shape="rect" id="node28" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="393,411,465,437"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="711,487,833,513"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1036,664,1119,691"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1030,613,1125,640"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="513,664,663,691"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="393,461,465,488"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="881,487,971,513"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1019,309,1136,336"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1385,360,1457,387"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1359,309,1483,336"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1554,436,1629,463"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1531,487,1651,513"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1709,208,1791,235"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1194,360,1301,387"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1184,309,1311,336"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1554,259,1629,285"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1540,309,1643,336"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1544,360,1639,387"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1531,56,1652,83"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1709,259,1791,285"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1700,107,1800,133"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1711,56,1789,83"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="547,461,629,488"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_icgraph.png" border="0" usemap="#ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_icgraph" alt=""/></div>
<map name="ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_icgraph" id="ubifs_8h_a45a85587c22ac5f315c3fe1d76a9301e_icgraph">
<area shape="rect" id="node2" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="209,5,344,32"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="392,5,505,32"/>
<area shape="rect" id="node4" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="553,5,664,32"/>
</map>
</div>

</div>
</div>
<a id="a6a4e198020559a2622dfb16bdc5b3b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4e198020559a2622dfb16bdc5b3b24">&#9670;&nbsp;</a></span>ubifs_tnc_has_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_has_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_has_node - determine whether a node is in the TNC. <code></code>: UBIFS file-system description object : node key : index node level (if it is an index node) : node LEB number : node offset : non-zero if the node is an index node</p>
<p>This function returns %1 if the node is in the TNC, %0 if it is not, and a negative error code in case of failure. For index nodes,  has to be the key of the first child. An index node is considered to be in the TNC only if the corresponding znode is clean or has not been loaded. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_cgraph.png" border="0" usemap="#ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_cgraph" alt=""/></div>
<map name="ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_cgraph" id="ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af4a7fe7d3853972004012eaa58fc7d3f" title="is_idx_node_in_tnc" alt="" coords="194,259,327,285"/>
<area shape="rect" id="node31" href="tnc_8c.html#a3232f2796c5e91880eccb4bfcce63ce0" title="is_leaf_node_in_tnc" alt="" coords="192,537,329,564"/>
<area shape="rect" id="node3" href="tnc_8c.html#a9a3d0b0e8f6fb62cd3fc14718c0971db" title="lookup_znode" alt="" coords="394,259,497,285"/>
<area shape="rect" id="node30" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="394,208,497,235"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1891,461,1966,488"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="889,297,1012,324"/>
<area shape="rect" id="node24" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1215,512,1297,539"/>
<area shape="rect" id="node25" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1209,563,1303,589"/>
<area shape="rect" id="node26" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="561,461,711,488"/>
<area shape="rect" id="node27" href="tnc_8c.html#a0411d12758cf4d8593fcc3d7c9b80a5d" title="left_znode" alt="" coords="595,259,677,285"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="759,284,841,311"/>
<area shape="rect" id="node29" href="tnc_8c.html#aa498d8d889570756d93ad186764ab7e1" title="right_znode" alt="" coords="591,157,681,184"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1060,309,1149,336"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1197,208,1315,235"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1563,157,1635,184"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1537,259,1661,285"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1733,360,1807,387"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1710,411,1830,437"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1887,5,1970,32"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1373,157,1479,184"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1363,208,1489,235"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1733,56,1807,83"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1719,309,1821,336"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1723,259,1817,285"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1709,157,1831,184"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1887,56,1970,83"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1889,259,1968,285"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1879,107,1979,133"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1889,157,1968,184"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1888,208,1969,235"/>
<area shape="rect" id="node32" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="377,563,513,589"/>
<area shape="rect" id="node33" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="600,512,672,539"/>
<area shape="rect" id="node34" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="409,385,481,412"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_icgraph.png" border="0" usemap="#ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_icgraph" alt=""/></div>
<map name="ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_icgraph" id="ubifs_8h_a6a4e198020559a2622dfb16bdc5b3b24_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a4ac9c370cb72439015edcddf81470d28" title="sort_nodes" alt="" coords="205,408,292,435"/>
<area shape="rect" id="node38" href="lprops_8c.html#a14844fa99e1b9a5c6519cb82bd423fc5" title="scan_check_cb" alt="" coords="192,521,305,548"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="369,376,465,403"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="528,360,700,387"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="748,259,896,285"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1107,563,1264,589"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="948,259,1055,285"/>
<area shape="rect" id="node30" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="971,208,1032,235"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1123,360,1248,387"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1330,360,1446,387"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1319,31,1457,57"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1317,107,1459,133"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1325,208,1451,235"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1328,284,1448,311"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1326,411,1450,437"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1315,461,1461,488"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1312,512,1464,539"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1542,309,1633,336"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1541,461,1634,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1546,613,1629,640"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1549,360,1626,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1542,411,1633,437"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1544,259,1631,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1543,512,1632,539"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1539,563,1635,589"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1536,664,1639,691"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1714,411,1801,437"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1538,5,1637,32"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1526,56,1649,83"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1512,107,1663,133"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1534,157,1641,184"/>
<area shape="rect" id="node31" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1123,259,1248,285"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1341,703,1435,729"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1325,627,1451,653"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1325,563,1451,589"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1533,715,1642,741"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1711,715,1804,741"/>
<area shape="rect" id="node39" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="353,648,480,675"/>
<area shape="rect" id="node40" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="571,648,657,675"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="551,816,677,843"/>
<area shape="rect" id="node41" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="946,664,1057,691"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="759,537,885,564"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1128,664,1243,691"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="950,613,1053,640"/>
<area shape="rect" id="node45" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="944,512,1059,539"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="771,765,873,792"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="764,816,880,843"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="765,867,879,893"/>
<area shape="rect" id="node50" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="773,917,871,944"/>
</map>
</div>

</div>
</div>
<a id="af7dbe47a30b69444c419cc86334aae56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7dbe47a30b69444c419cc86334aae56">&#9670;&nbsp;</a></span>ubifs_tnc_levelorder_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* ubifs_tnc_levelorder_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>zr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_levelorder_next - next TNC tree element in levelorder traversal. : root of the subtree to traverse : previous znode</p>
<p>This function implements levelorder TNC traversal. The LNC is ignored. Returns the next element or NULL if  is already the last one. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af7dbe47a30b69444c419cc86334aae56_cgraph.png" border="0" usemap="#ubifs_8h_af7dbe47a30b69444c419cc86334aae56_cgraph" alt=""/></div>
<map name="ubifs_8h_af7dbe47a30b69444c419cc86334aae56_cgraph" id="ubifs_8h_af7dbe47a30b69444c419cc86334aae56_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="224,5,361,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af7dbe47a30b69444c419cc86334aae56_icgraph.png" border="0" usemap="#ubifs_8h_af7dbe47a30b69444c419cc86334aae56_icgraph" alt=""/></div>
<map name="ubifs_8h_af7dbe47a30b69444c419cc86334aae56_icgraph" id="ubifs_8h_af7dbe47a30b69444c419cc86334aae56_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="224,1307,339,1333"/>
<area shape="rect" id="node48" href="ubifs_2shrinker_8c.html#a32ba118a0bb1dd776b2c54cda5cb9035" title="shrink_tnc" alt="" coords="240,1357,323,1384"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#adc399c34cd63b898f18c26a9e16268ef" title="dfs_file_write" alt="" coords="401,1307,499,1333"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="387,1256,513,1283"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="573,1307,676,1333"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="567,1155,683,1181"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="568,1205,681,1232"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="575,1256,674,1283"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="736,1599,845,1625"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="893,1599,1059,1625"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="893,1548,1059,1575"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="916,1415,1036,1441"/>
<area shape="rect" id="node19" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="1114,1744,1271,1771"/>
<area shape="rect" id="node20" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="1143,1795,1242,1821"/>
<area shape="rect" id="node21" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="932,1649,1020,1676"/>
<area shape="rect" id="node8" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="1347,1389,1463,1416"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1107,1643,1279,1669"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1331,1643,1479,1669"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1327,1440,1484,1467"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1548,1169,1641,1196"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1532,639,1657,665"/>
<area shape="rect" id="node16" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="1123,765,1262,792"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="1119,1491,1267,1517"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="1339,1103,1471,1129"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="915,309,1037,336"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="1117,56,1268,83"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="1137,461,1249,488"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="1143,360,1243,387"/>
<area shape="rect" id="node27" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="1117,411,1268,437"/>
<area shape="rect" id="node28" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1131,157,1254,184"/>
<area shape="rect" id="node29" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="1153,309,1232,336"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1332,664,1479,691"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="1123,208,1262,235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="1335,309,1476,336"/>
<area shape="rect" id="node33" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="1155,512,1230,539"/>
<area shape="rect" id="node34" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1126,5,1259,32"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="916,993,1036,1020"/>
<area shape="rect" id="node37" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="1131,867,1255,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="1336,613,1475,640"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1115,917,1270,944"/>
<area shape="rect" id="node40" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1118,968,1267,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="1115,1069,1271,1096"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="1118,1120,1267,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1127,1171,1258,1213"/>
<area shape="rect" id="node44" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="1152,664,1233,691"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="1148,715,1237,741"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="737,1361,844,1388"/>
<area shape="rect" id="node49" href="ubifs_2shrinker_8c.html#aae7bfecfc263da15e6e89615dc80b45d" title="shrink_tnc_trees" alt="" coords="391,1357,509,1384"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a148b76e3e941071fe7395e70793f9996" title="ubifs_shrink_scan" alt="" coords="561,1357,688,1384"/>
</map>
</div>

</div>
</div>
<a id="a93e762f5309412966e944b237a2c03c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e762f5309412966e944b237a2c03c3">&#9670;&nbsp;</a></span>ubifs_tnc_locate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_locate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_locate - look up a file-system node and return it and its location. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : LEB number is returned here : offset is returned here</p>
<p>This function looks up and reads node with key . The caller has to make sure the  buffer is large enough to fit the node. Returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. The node location can be returned in  and . </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a93e762f5309412966e944b237a2c03c3_cgraph.png" border="0" usemap="#ubifs_8h_a93e762f5309412966e944b237a2c03c3_cgraph" alt=""/></div>
<map name="ubifs_8h_a93e762f5309412966e944b237a2c03c3_cgraph" id="ubifs_8h_a93e762f5309412966e944b237a2c03c3_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="171,245,307,272"/>
<area shape="rect" id="node24" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1158,549,1253,576"/>
<area shape="rect" id="node28" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="552,575,708,601"/>
<area shape="rect" id="node29" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="959,144,1086,171"/>
<area shape="rect" id="node31" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="756,651,899,677"/>
<area shape="rect" id="node32" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="967,1208,1078,1235"/>
<area shape="rect" id="node39" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="179,752,299,779"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1853,347,1927,373"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="766,347,889,373"/>
<area shape="rect" id="node23" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1164,43,1247,69"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="355,144,504,171"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="393,397,465,424"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="978,347,1067,373"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1147,955,1264,981"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1525,625,1597,652"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1499,904,1623,931"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1694,271,1769,297"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1671,713,1791,740"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1849,1131,1931,1157"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1328,701,1435,728"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1318,904,1445,931"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1694,1004,1769,1031"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1680,916,1783,943"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1684,764,1779,791"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1671,815,1792,841"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1849,1004,1931,1031"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1851,891,1929,917"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1840,739,1940,765"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1851,789,1929,816"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1849,840,1931,867"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="589,397,671,424"/>
<area shape="rect" id="node36" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="989,600,1056,627"/>
<area shape="rect" id="node30" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1153,448,1257,475"/>
<area shape="rect" id="node33" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="947,865,1099,892"/>
<area shape="rect" id="node35" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="987,651,1058,677"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1165,853,1246,880"/>
<area shape="rect" id="node37" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1312,803,1451,829"/>
<area shape="rect" id="node38" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1505,803,1616,829"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a93e762f5309412966e944b237a2c03c3_icgraph.png" border="0" usemap="#ubifs_8h_a93e762f5309412966e944b237a2c03c3_icgraph" alt=""/></div>
<map name="ubifs_8h_a93e762f5309412966e944b237a2c03c3_icgraph" id="ubifs_8h_a93e762f5309412966e944b237a2c03c3_icgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="171,157,293,184"/>
<area shape="rect" id="node20" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="172,259,292,285"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="535,107,665,133"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="730,107,823,133"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="714,56,839,83"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="713,208,840,235"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="914,56,1023,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1099,56,1192,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="907,5,1030,32"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="902,360,1035,387"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="922,208,1015,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="927,259,1010,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="924,309,1013,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="921,107,1017,133"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="917,157,1020,184"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1109,385,1182,412"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1097,233,1193,260"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1102,284,1189,311"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1241,284,1341,311"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="371,487,457,513"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="375,259,453,285"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="352,157,476,184"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="341,360,487,387"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="343,309,485,336"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="552,563,648,589"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="715,664,838,691"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a63bbd02975453f3f42af79e561948912" title="ubifs_write_begin" alt="" coords="907,639,1030,665"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#ad4a3e116a3a56c3a7ffded1d91b0c564" title="ubifs_write_end" alt="" coords="720,613,833,640"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="721,563,832,589"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="562,259,638,285"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="553,309,647,336"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="723,411,831,437"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="723,461,831,488"/>
<area shape="rect" id="node30" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="888,461,1049,488"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="932,512,1005,539"/>
<area shape="rect" id="node33" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="888,563,1049,589"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="550,31,650,57"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="729,5,824,32"/>
</map>
</div>

</div>
</div>
<a id="a387af0daafa698c00f2b6517b29d2e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387af0daafa698c00f2b6517b29d2e90">&#9670;&nbsp;</a></span>ubifs_tnc_lookup_dh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_lookup_dh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_lookup_dh - look up a "double hashed" node. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : node cookie for collision resolution</p>
<p>This function looks up and reads a node which contains name hash in the key. Since the hash may have collisions, there may be many nodes with the same key, so we have to sequentially look to all of them until the needed one with the same cookie value is found. This function returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_cgraph.png" border="0" usemap="#ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_cgraph" alt=""/></div>
<map name="ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_cgraph" id="ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="195,968,315,995"/>
<area shape="rect" id="node42" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="370,1297,473,1324"/>
<area shape="rect" id="node3" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="363,892,480,919"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="528,1019,664,1045"/>
<area shape="rect" id="node26" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1438,1221,1533,1248"/>
<area shape="rect" id="node30" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="832,867,988,893"/>
<area shape="rect" id="node31" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1239,715,1366,741"/>
<area shape="rect" id="node33" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1036,537,1179,564"/>
<area shape="rect" id="node34" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1247,5,1358,32"/>
<area shape="rect" id="node41" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="536,917,656,944"/>
<area shape="rect" id="node5" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2133,1095,2207,1121"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1046,1069,1169,1096"/>
<area shape="rect" id="node25" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1444,816,1527,843"/>
<area shape="rect" id="node27" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="835,816,985,843"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="712,1069,784,1096"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1258,917,1347,944"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1427,563,1544,589"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1805,411,1877,437"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1779,816,1903,843"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1974,411,2049,437"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1951,968,2071,995"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2129,411,2211,437"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1608,360,1715,387"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1598,461,1725,488"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1974,664,2049,691"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1960,867,2063,893"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1964,816,2059,843"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1951,917,2072,944"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2129,664,2211,691"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2131,1475,2209,1501"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2120,943,2220,969"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2131,1297,2209,1324"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2129,892,2211,919"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="869,1069,951,1096"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1269,1019,1336,1045"/>
<area shape="rect" id="node32" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1433,309,1537,336"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1227,461,1379,488"/>
<area shape="rect" id="node37" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1267,512,1338,539"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1445,461,1526,488"/>
<area shape="rect" id="node39" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1592,1171,1731,1197"/>
<area shape="rect" id="node40" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1785,1171,1896,1197"/>
<area shape="rect" id="node43" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="536,1323,656,1349"/>
<area shape="rect" id="node44" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="533,1373,659,1400"/>
<area shape="rect" id="node45" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="712,1323,784,1349"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_icgraph.png" border="0" usemap="#ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_icgraph" alt=""/></div>
<map name="ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_icgraph" id="ubifs_8h_a387af0daafa698c00f2b6517b29d2e90_icgraph">
<area shape="rect" id="node2" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="195,5,289,32"/>
</map>
</div>

</div>
</div>
<a id="a8acd7162c6b75b30de6dc29c1f0f292a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acd7162c6b75b30de6dc29c1f0f292a">&#9670;&nbsp;</a></span>ubifs_tnc_lookup_nm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_lookup_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_lookup_nm - look up a "hashed" node. <code></code>: UBIFS file-system description object : node key to lookup : the node is returned here : node name</p>
<p>This function looks up and reads a node which contains name hash in the key. Since the hash may have collisions, there may be many nodes with the same key, so we have to sequentially look to all of them until the needed one is found. This function returns zero in case of success, %-ENOENT if the node was not found, and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph.png" border="0" usemap="#ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph" alt=""/></div>
<map name="ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph" id="ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="199,667,319,694"/>
<area shape="rect" id="node42" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="372,616,479,643"/>
<area shape="rect" id="node3" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="367,718,484,744"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="532,667,668,694"/>
<area shape="rect" id="node26" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1449,262,1543,288"/>
<area shape="rect" id="node30" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="836,312,992,339"/>
<area shape="rect" id="node31" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1250,1098,1377,1124"/>
<area shape="rect" id="node33" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1043,743,1186,770"/>
<area shape="rect" id="node34" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1258,1047,1369,1074"/>
<area shape="rect" id="node41" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="540,1098,660,1124"/>
<area shape="rect" id="node5" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="2143,211,2218,238"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1053,554,1176,580"/>
<area shape="rect" id="node25" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1455,1326,1537,1352"/>
<area shape="rect" id="node27" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1040,1199,1189,1226"/>
<area shape="rect" id="node28" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="716,642,788,668"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1269,464,1358,491"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1437,768,1555,795"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1815,920,1887,947"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1789,566,1913,592"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1985,768,2059,795"/>
<area shape="rect" id="node24" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1962,400,2082,427"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="2139,996,2222,1023"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1619,971,1725,998"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1609,870,1735,896"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1985,718,2059,744"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1971,540,2073,567"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1975,591,2069,618"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1961,642,2083,668"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="2139,743,2222,770"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="2141,692,2220,719"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="2131,540,2231,567"/>
<area shape="rect" id="node22" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="2141,591,2220,618"/>
<area shape="rect" id="node23" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="2140,642,2221,668"/>
<area shape="rect" id="node29" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="873,554,955,580"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1280,312,1347,339"/>
<area shape="rect" id="node32" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1444,1123,1548,1150"/>
<area shape="rect" id="node35" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1237,844,1389,871"/>
<area shape="rect" id="node37" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1278,718,1349,744"/>
<area shape="rect" id="node36" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1455,870,1537,896"/>
<area shape="rect" id="node39" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1603,160,1741,187"/>
<area shape="rect" id="node40" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1796,160,1907,187"/>
<area shape="rect" id="node43" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="541,591,659,618"/>
<area shape="rect" id="node44" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="859,211,969,238"/>
<area shape="rect" id="node46" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="716,414,788,440"/>
<area shape="rect" id="node45" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1438,160,1554,187"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph.png" border="0" usemap="#ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph" alt=""/></div>
<map name="ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph" id="ubifs_8h_a8acd7162c6b75b30de6dc29c1f0f292a_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="199,69,307,96"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="369,5,502,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="199,132,307,159"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="205,183,300,209"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="564,31,637,57"/>
<area shape="rect" id="node5" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="355,107,516,133"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="399,157,472,184"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="355,208,516,235"/>
</map>
</div>

</div>
</div>
<a id="aab11d1b085510e4c3a49e8ea79e84b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab11d1b085510e4c3a49e8ea79e84b14">&#9670;&nbsp;</a></span>ubifs_tnc_next_ent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a>* ubifs_tnc_next_ent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_cgraph.png" border="0" usemap="#ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_cgraph" alt=""/></div>
<map name="ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_cgraph" id="ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1915,321,1990,348"/>
<area shape="rect" id="node3" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1222,245,1317,272"/>
<area shape="rect" id="node4" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="199,296,335,323"/>
<area shape="rect" id="node19" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1913,1119,1992,1145"/>
<area shape="rect" id="node28" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="185,499,348,525"/>
<area shape="rect" id="node35" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="435,600,507,627"/>
<area shape="rect" id="node36" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="207,549,326,576"/>
<area shape="rect" id="node43" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="593,600,749,627"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="813,397,936,424"/>
<area shape="rect" id="node24" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1228,195,1311,221"/>
<area shape="rect" id="node25" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="396,195,545,221"/>
<area shape="rect" id="node26" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="435,448,507,475"/>
<area shape="rect" id="node6" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1031,448,1121,475"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1211,1157,1328,1184"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1587,1208,1659,1235"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1561,980,1685,1007"/>
<area shape="rect" id="node17" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1757,524,1831,551"/>
<area shape="rect" id="node23" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1734,397,1854,424"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1911,1429,1994,1456"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1397,1360,1503,1387"/>
<area shape="rect" id="node11" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="1387,1208,1513,1235"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1757,1316,1831,1343"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1743,980,1845,1007"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1747,1031,1841,1057"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1733,929,1855,956"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1911,1316,1994,1343"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1903,879,2003,905"/>
<area shape="rect" id="node21" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1913,929,1992,956"/>
<area shape="rect" id="node22" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1912,980,1993,1007"/>
<area shape="rect" id="node27" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="630,448,713,475"/>
<area shape="rect" id="node29" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="797,549,952,576"/>
<area shape="rect" id="node30" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1013,499,1139,525"/>
<area shape="rect" id="node32" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1018,600,1134,627"/>
<area shape="rect" id="node31" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1217,1360,1321,1387"/>
<area shape="rect" id="node33" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1200,803,1339,829"/>
<area shape="rect" id="node34" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="1395,853,1505,880"/>
<area shape="rect" id="node37" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="616,701,727,728"/>
<area shape="rect" id="node38" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="803,853,946,880"/>
<area shape="rect" id="node39" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1021,828,1131,855"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1000,1284,1152,1311"/>
<area shape="rect" id="node42" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1041,879,1111,905"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1229,1411,1310,1437"/>
<area shape="rect" id="node44" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1043,549,1109,576"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_icgraph.png" border="0" usemap="#ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_icgraph" alt=""/></div>
<map name="ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_icgraph" id="ubifs_8h_aab11d1b085510e4c3a49e8ea79e84b14_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="213,43,313,69"/>
<area shape="rect" id="node3" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="215,93,311,120"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="185,144,341,171"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="200,245,327,272"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="413,195,520,221"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="392,575,541,601"/>
<area shape="rect" id="node5" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="423,144,510,171"/>
<area shape="rect" id="node6" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1535,43,1622,69"/>
<area shape="rect" id="node8" href="ubifs_2crypto_8c.html#a778b4fa0cf20a1cb15208258d2587787" title="ubifs_crypt_empty_dir" alt="" coords="391,93,542,120"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1673,43,1773,69"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="819,195,897,221"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="600,397,727,424"/>
<area shape="rect" id="node39" href="tnc_8c.html#a5137cb242abdf6e16fa3c7fffb0e992f" title="dbg_check_inode_size" alt="" coords="389,397,544,424"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1017,93,1093,120"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1007,195,1102,221"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1363,473,1472,500"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="989,296,1120,323"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1176,195,1303,221"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1185,43,1293,69"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1351,43,1484,69"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1185,144,1293,171"/>
<area shape="rect" id="node17" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1532,473,1625,500"/>
<area shape="rect" id="node19" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1193,499,1286,525"/>
<area shape="rect" id="node20" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1177,372,1302,399"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1356,372,1479,399"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1371,144,1464,171"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1376,93,1459,120"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1373,195,1462,221"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1369,245,1465,272"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1366,296,1469,323"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="611,195,716,221"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="807,397,909,424"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="800,448,916,475"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="801,499,915,525"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="809,347,907,373"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1000,397,1109,424"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="993,448,1116,475"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="995,499,1115,525"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="1001,347,1108,373"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="797,549,919,576"/>
<area shape="rect" id="node42" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="607,600,719,627"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="592,549,735,576"/>
<area shape="rect" id="node46" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="783,701,933,728"/>
<area shape="rect" id="node48" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="598,651,729,677"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="813,600,903,627"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="981,561,1128,588"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="993,701,1116,728"/>
<area shape="rect" id="node49" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="799,651,917,677"/>
<area shape="rect" id="node50" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="986,637,1123,664"/>
</map>
</div>

</div>
</div>
<a id="a97a13645d24f27ca0f17eec920e0e6c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a13645d24f27ca0f17eec920e0e6c5">&#9670;&nbsp;</a></span>ubifs_tnc_postorder_first()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* ubifs_tnc_postorder_first </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_postorder_first - find first znode to do postorder tree traversal. : znode to start at (root of the sub-tree to traverse)</p>
<p>Find the lowest leftmost znode in a subtree of the TNC tree. The LNC is ignored. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_cgraph.png" border="0" usemap="#ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_cgraph" alt=""/></div>
<map name="ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_cgraph" id="ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="189,13,327,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_icgraph.png" border="0" usemap="#ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_icgraph" alt=""/></div>
<map name="ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_icgraph" id="ubifs_8h_a97a13645d24f27ca0f17eec920e0e6c5_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="437,613,548,640"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="189,683,357,709"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a41a64fc28f65279e3fde70d9aad11e03" title="ubifs_destroy_tnc_subtree" alt="" coords="405,841,580,868"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="647,107,773,133"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="863,664,966,691"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="648,208,772,235"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="851,765,979,792"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="647,360,773,387"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="635,613,785,640"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="637,803,783,829"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="628,461,792,488"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="631,259,789,285"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="863,107,966,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="857,157,973,184"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="858,5,971,32"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="865,56,964,83"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="1059,107,1168,133"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="1052,157,1175,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="1053,5,1173,32"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="1060,56,1167,83"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1055,816,1171,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1045,613,1182,640"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1042,512,1185,539"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1050,765,1177,792"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1053,715,1173,741"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1051,360,1175,387"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1041,563,1186,589"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1037,664,1189,691"/>
<area shape="rect" id="node33" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1048,461,1179,488"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1267,791,1358,817"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1266,841,1359,868"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1271,892,1354,919"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1274,943,1351,969"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1267,993,1358,1020"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1269,1044,1356,1071"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1268,639,1357,665"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1265,689,1361,716"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1261,740,1364,767"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1263,588,1362,615"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1251,512,1374,539"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1237,436,1388,463"/>
<area shape="rect" id="node35" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="870,208,959,235"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="840,461,989,488"/>
<area shape="rect" id="node42" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="848,411,981,437"/>
<area shape="rect" id="node44" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="871,259,958,285"/>
<area shape="rect" id="node47" href="ubifs_2shrinker_8c.html#a32ba118a0bb1dd776b2c54cda5cb9035" title="shrink_tnc" alt="" coords="669,892,751,919"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14" title="ubifs_tnc_close" alt="" coords="653,968,767,995"/>
<area shape="rect" id="node48" href="ubifs_2shrinker_8c.html#aae7bfecfc263da15e6e89615dc80b45d" title="shrink_tnc_trees" alt="" coords="855,917,974,944"/>
<area shape="rect" id="node50" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="859,968,970,995"/>
</map>
</div>

</div>
</div>
<a id="ab73fd13bf253a9f01d5ddeb1e6da16fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73fd13bf253a9f01d5ddeb1e6da16fc">&#9670;&nbsp;</a></span>ubifs_tnc_postorder_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a>* ubifs_tnc_postorder_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__znode.html">ubifs_znode</a> *&#160;</td>
          <td class="paramname"><em>znode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_postorder_next - next TNC tree element in postorder traversal. : previous znode</p>
<p>This function implements postorder TNC traversal. The LNC is ignored. Returns the next element or NULL if  is already the last one. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_cgraph.png" border="0" usemap="#ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_cgraph" alt=""/></div>
<map name="ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_cgraph" id="ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="405,5,543,32"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="221,27,357,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_icgraph.png" border="0" usemap="#ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_icgraph" alt=""/></div>
<map name="ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_icgraph" id="ubifs_8h_ab73fd13bf253a9f01d5ddeb1e6da16fc_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="253,537,364,564"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a41a64fc28f65279e3fde70d9aad11e03" title="ubifs_destroy_tnc_subtree" alt="" coords="221,917,396,944"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="463,107,589,133"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="679,664,782,691"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="464,208,588,235"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="667,765,795,792"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="463,360,589,387"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="451,613,601,640"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="453,841,599,868"/>
<area shape="rect" id="node42" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="444,461,608,488"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="447,259,605,285"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="679,107,782,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="673,157,789,184"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="674,5,787,32"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="681,56,780,83"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="875,107,984,133"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="868,157,991,184"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="869,5,989,32"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="876,56,983,83"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="871,841,987,868"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="861,613,998,640"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="858,512,1001,539"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="866,765,993,792"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="869,715,989,741"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="867,360,991,387"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="857,563,1002,589"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="853,664,1005,691"/>
<area shape="rect" id="node34" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="864,461,995,488"/>
<area shape="rect" id="node14" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1083,943,1174,969"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1082,993,1175,1020"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1087,1044,1170,1071"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1090,1095,1167,1121"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1083,689,1174,716"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1085,740,1172,767"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1084,791,1173,817"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1081,841,1177,868"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1077,892,1180,919"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1079,588,1178,615"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1067,512,1190,539"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1053,436,1204,463"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1075,639,1182,665"/>
<area shape="rect" id="node36" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="686,208,775,235"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="656,461,805,488"/>
<area shape="rect" id="node43" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="664,411,797,437"/>
<area shape="rect" id="node45" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="687,259,774,285"/>
<area shape="rect" id="node47" href="ubifs_2shrinker_8c.html#a32ba118a0bb1dd776b2c54cda5cb9035" title="shrink_tnc" alt="" coords="485,917,567,944"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a0250b1b8a26f9ab4196fbec0dff74b14" title="ubifs_tnc_close" alt="" coords="469,968,583,995"/>
<area shape="rect" id="node48" href="ubifs_2shrinker_8c.html#aae7bfecfc263da15e6e89615dc80b45d" title="shrink_tnc_trees" alt="" coords="671,917,790,944"/>
<area shape="rect" id="node50" href="ubifs_2super_8c.html#aab65fe9d1f499e203abd72e1c7ddafc6" title="destroy_journal" alt="" coords="675,968,786,995"/>
</map>
</div>

</div>
</div>
<a id="a9e631b2ac150afe245c06afae9abe5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e631b2ac150afe245c06afae9abe5e4">&#9670;&nbsp;</a></span>ubifs_tnc_read_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_read_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_read_node - read a leaf node from the flash media. <code></code>: UBIFS file-system description object : key and position of the node : node is returned here</p>
<p>This function reads a node defined by  from the flash media. Returns zero in case of success or a negative negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_cgraph.png" border="0" usemap="#ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_cgraph" alt=""/></div>
<map name="ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_cgraph" id="ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1090,5,1165,32"/>
<area shape="rect" id="node3" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="217,157,327,184"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="196,399,348,425"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="396,309,513,336"/>
<area shape="rect" id="node9" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="762,487,834,513"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="736,259,860,285"/>
<area shape="rect" id="node16" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="931,487,1006,513"/>
<area shape="rect" id="node23" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="237,715,307,741"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1086,360,1169,387"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="414,360,495,387"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="571,461,678,488"/>
<area shape="rect" id="node10" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="561,411,688,437"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="931,259,1006,285"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="917,157,1020,184"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="921,208,1016,235"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="908,107,1029,133"/>
<area shape="rect" id="node22" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="909,309,1029,336"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1086,259,1169,285"/>
<area shape="rect" id="node18" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1088,208,1167,235"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1077,56,1177,83"/>
<area shape="rect" id="node20" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1088,107,1167,133"/>
<area shape="rect" id="node21" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1087,157,1168,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_icgraph.png" border="0" usemap="#ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_icgraph" alt=""/></div>
<map name="ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_icgraph" id="ubifs_8h_a9e631b2ac150afe245c06afae9abe5e4_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="196,296,345,323"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="214,727,327,753"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="429,727,514,753"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="219,828,322,855"/>
<area shape="rect" id="node29" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="205,879,336,905"/>
<area shape="rect" id="node32" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="393,625,549,652"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="626,777,743,804"/>
<area shape="rect" id="node49" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="215,549,326,576"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="408,296,535,323"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="629,245,740,272"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1237,701,1364,728"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="851,271,953,297"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="840,169,964,196"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1043,17,1171,44"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="839,220,965,247"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="827,68,977,95"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="829,423,975,449"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="820,321,984,348"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="823,119,981,145"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1427,676,1529,703"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1420,727,1536,753"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1421,777,1535,804"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1429,625,1527,652"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1243,93,1359,120"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1038,169,1175,196"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1229,296,1372,323"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1045,372,1169,399"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1032,321,1181,348"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1235,929,1366,956"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1431,1005,1525,1032"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="609,828,761,855"/>
<area shape="rect" id="node30" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="402,879,541,905"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="597,879,772,905"/>
<area shape="rect" id="node40" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="631,536,738,563"/>
<area shape="rect" id="node41" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="621,676,748,703"/>
<area shape="rect" id="node43" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="619,625,751,652"/>
<area shape="rect" id="node34" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1045,1031,1168,1057"/>
<area shape="rect" id="node35" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="842,879,962,905"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="1064,879,1149,905"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="1067,828,1146,855"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="1034,549,1179,576"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="1036,980,1177,1007"/>
<area shape="rect" id="node42" href="tnc_8c.html#a027a44988553312db51170eef310520a" title="do_lookup_dh" alt="" coords="851,941,953,968"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a1fdadc0cabfab2afa9923087ac3ed6fa" title="ubifs_listxattr" alt="" coords="852,625,952,652"/>
<area shape="rect" id="node45" href="ubifs_2dir_8c.html#a0c19e328a2a8b76bc83a0f637c809cce" title="ubifs_readdir" alt="" coords="854,676,950,703"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a2a94169a2d88a3050d92a59d9bb9528b" title="ubifs_check_dir_empty" alt="" coords="824,575,980,601"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="839,777,965,804"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1053,676,1160,703"/>
<area shape="rect" id="node50" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="412,536,531,563"/>
</map>
</div>

</div>
</div>
<a id="a1a35dc3d88f050a79040c66540d2885f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a35dc3d88f050a79040c66540d2885f">&#9670;&nbsp;</a></span>ubifs_tnc_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove - remove an index entry of a node. <code></code>: UBIFS file-system description object : key of node</p>
<p>Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_cgraph.png" border="0" usemap="#ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_cgraph" alt=""/></div>
<map name="ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_cgraph" id="ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="179,372,312,399"/>
<area shape="rect" id="node35" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="403,245,485,272"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="190,803,301,829"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="783,397,906,424"/>
<area shape="rect" id="node16" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1193,651,1276,677"/>
<area shape="rect" id="node17" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1187,296,1282,323"/>
<area shape="rect" id="node18" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="591,195,711,221"/>
<area shape="rect" id="node30" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="576,600,725,627"/>
<area shape="rect" id="node31" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="408,296,480,323"/>
<area shape="rect" id="node33" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="599,499,702,525"/>
<area shape="rect" id="node34" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="371,347,517,373"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="995,397,1085,424"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1176,853,1293,880"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1362,828,1486,855"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1579,791,1654,817"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1751,1157,1826,1184"/>
<area shape="rect" id="node14" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1557,569,1677,596"/>
<area shape="rect" id="node15" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1388,1107,1460,1133"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1556,1309,1677,1336"/>
<area shape="rect" id="node10" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1749,1233,1828,1260"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1739,1284,1839,1311"/>
<area shape="rect" id="node12" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1749,1335,1828,1361"/>
<area shape="rect" id="node13" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1748,1385,1829,1412"/>
<area shape="rect" id="node19" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="793,296,896,323"/>
<area shape="rect" id="node20" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="799,195,891,221"/>
<area shape="rect" id="node27" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="799,245,891,272"/>
<area shape="rect" id="node29" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="793,347,896,373"/>
<area shape="rect" id="node21" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="989,195,1091,221"/>
<area shape="rect" id="node22" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1164,195,1305,221"/>
<area shape="rect" id="node23" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1365,144,1483,171"/>
<area shape="rect" id="node24" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1543,169,1691,196"/>
<area shape="rect" id="node25" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1366,93,1482,120"/>
<area shape="rect" id="node26" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1353,195,1495,221"/>
<area shape="rect" id="node28" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="977,245,1103,272"/>
<area shape="rect" id="node32" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="609,347,692,373"/>
<area shape="rect" id="node36" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="617,93,685,120"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="585,1360,716,1387"/>
<area shape="rect" id="node38" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="579,245,723,272"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="381,752,507,779"/>
<area shape="rect" id="node41" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="583,1513,719,1554"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="381,803,507,829"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="576,853,725,880"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="803,651,886,677"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="360,1563,528,1589"/>
<area shape="rect" id="node42" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="776,1549,913,1576"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="773,980,916,1007"/>
<area shape="rect" id="node48" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1165,1259,1304,1285"/>
<area shape="rect" id="node46" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="985,1107,1095,1133"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="964,904,1116,931"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_icgraph.png" border="0" usemap="#ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_icgraph" alt=""/></div>
<map name="ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_icgraph" id="ubifs_8h_a1a35dc3d88f050a79040c66540d2885f_icgraph">
<area shape="rect" id="node2" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="179,5,309,32"/>
<area shape="rect" id="node3" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="357,5,476,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="524,5,661,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="709,5,803,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="851,5,960,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1008,5,1101,32"/>
</map>
</div>

</div>
</div>
<a id="a6bae0dd5ac22531cbdfe78042f3f3a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bae0dd5ac22531cbdfe78042f3f3a7e">&#9670;&nbsp;</a></span>ubifs_tnc_remove_dh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_dh </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_dh - remove an index entry for a "double hashed" node. <code></code>: UBIFS file-system description object : key of node : node cookie for collision resolution</p>
<p>Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph.png" border="0" usemap="#ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph" alt=""/></div>
<map name="ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph" id="ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="201,765,335,792"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="821,1019,924,1045"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="384,917,531,944"/>
<area shape="rect" id="node25" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="795,347,951,373"/>
<area shape="rect" id="node34" href="key_8h.html#a5fecb78c4069cc54600e8800dc0200b7" title="lowest_dent_key" alt="" coords="208,1120,328,1147"/>
<area shape="rect" id="node35" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="418,5,497,32"/>
<area shape="rect" id="node36" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="200,461,336,488"/>
<area shape="rect" id="node37" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="205,132,331,159"/>
<area shape="rect" id="node40" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="416,1095,499,1121"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="402,1576,513,1603"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="811,588,934,615"/>
<area shape="rect" id="node10" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1224,841,1307,868"/>
<area shape="rect" id="node11" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1218,537,1313,564"/>
<area shape="rect" id="node12" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="603,867,723,893"/>
<area shape="rect" id="node20" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="798,715,947,741"/>
<area shape="rect" id="node21" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="421,563,493,589"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1025,613,1115,640"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1389,1069,1507,1096"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1555,1044,1679,1071"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1727,1044,1801,1071"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1412,1284,1484,1311"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1411,537,1485,564"/>
<area shape="rect" id="node13" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="821,917,924,944"/>
<area shape="rect" id="node14" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="827,968,919,995"/>
<area shape="rect" id="node17" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="827,867,919,893"/>
<area shape="rect" id="node19" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="821,1221,924,1248"/>
<area shape="rect" id="node15" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1019,1171,1121,1197"/>
<area shape="rect" id="node16" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1195,1171,1336,1197"/>
<area shape="rect" id="node18" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1007,968,1133,995"/>
<area shape="rect" id="node22" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="621,563,704,589"/>
<area shape="rect" id="node26" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1007,335,1133,361"/>
<area shape="rect" id="node28" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="999,1373,1141,1400"/>
<area shape="rect" id="node32" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1037,436,1103,463"/>
<area shape="rect" id="node27" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1213,487,1317,513"/>
<area shape="rect" id="node29" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1210,1221,1321,1248"/>
<area shape="rect" id="node30" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1189,1373,1341,1400"/>
<area shape="rect" id="node31" href="key_8h.html#a1196c105a3f68d6c67ce05c20b45066e" title="keys_eq" alt="" coords="1230,1323,1301,1349"/>
<area shape="rect" id="node33" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1196,1120,1335,1147"/>
<area shape="rect" id="node38" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="418,56,497,83"/>
<area shape="rect" id="node39" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="421,208,493,235"/>
<area shape="rect" id="node41" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="629,1120,697,1147"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="807,1323,938,1349"/>
<area shape="rect" id="node43" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="591,1323,735,1349"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="599,1677,726,1704"/>
<area shape="rect" id="node46" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="805,1731,941,1773"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="599,1525,726,1552"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="798,1627,947,1653"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1029,1525,1111,1552"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="579,1728,747,1755"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph.png" border="0" usemap="#ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph" alt=""/></div>
<map name="ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph" id="ubifs_8h_a6bae0dd5ac22531cbdfe78042f3f3a7e_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="200,259,316,285"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="370,56,461,83"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="369,107,462,133"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="374,157,457,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="377,208,454,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="370,259,461,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="372,309,459,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="371,360,460,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="367,411,463,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="364,461,467,488"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="515,56,623,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="685,5,818,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="880,31,953,57"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="671,107,832,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="521,132,617,159"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="525,183,612,209"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="701,183,801,209"/>
</map>
</div>

</div>
</div>
<a id="a928b6fd97b873a391e906fa28720273e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a928b6fd97b873a391e906fa28720273e">&#9670;&nbsp;</a></span>ubifs_tnc_remove_ino()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_ino </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_ino - remove an inode from TNC. <code></code>: UBIFS file-system description object : inode number to remove</p>
<p>This function remove inode  and all the extended attributes associated with the anode from TNC and returns zero in case of success or a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a928b6fd97b873a391e906fa28720273e_cgraph.png" border="0" usemap="#ubifs_8h_a928b6fd97b873a391e906fa28720273e_cgraph" alt=""/></div>
<map name="ubifs_8h_a928b6fd97b873a391e906fa28720273e_cgraph" id="ubifs_8h_a928b6fd97b873a391e906fa28720273e_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a837f3539f12eddd0ac7ef6595da85d13" title="lowest_xent_key" alt="" coords="225,5,345,32"/>
<area shape="rect" id="node3" href="tnc_8c.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="219,512,351,539"/>
<area shape="rect" id="node15" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1049,309,1124,336"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aeff1ab85b59329875a7084014802262c" title="ubifs_evict_xattr_inode" alt="" coords="207,1845,363,1872"/>
<area shape="rect" id="node31" href="tnc_8c.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="209,1373,360,1400"/>
<area shape="rect" id="node47" href="key_8h.html#a6ac363a71458b8fc9f6983ac3ce0c5c3" title="lowest_ino_key" alt="" coords="229,1896,341,1923"/>
<area shape="rect" id="node48" href="key_8h.html#a9d33aa154841c271b5a27f1c03d9f37d" title="highest_ino_key" alt="" coords="227,1947,343,1973"/>
<area shape="rect" id="node49" href="tnc_8c.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="203,1643,367,1669"/>
<area shape="rect" id="node4" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1049,360,1124,387"/>
<area shape="rect" id="node5" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="855,411,950,437"/>
<area shape="rect" id="node6" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="428,816,564,843"/>
<area shape="rect" id="node12" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="415,664,577,691"/>
<area shape="rect" id="node16" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="667,512,739,539"/>
<area shape="rect" id="node17" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="437,512,555,539"/>
<area shape="rect" id="node20" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="457,461,535,488"/>
<area shape="rect" id="node21" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="418,259,574,285"/>
<area shape="rect" id="node7" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1025,816,1148,843"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="828,1069,977,1096"/>
<area shape="rect" id="node9" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1045,1069,1128,1096"/>
<area shape="rect" id="node10" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="667,613,739,640"/>
<area shape="rect" id="node11" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="861,765,944,792"/>
<area shape="rect" id="node13" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="625,563,780,589"/>
<area shape="rect" id="node14" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="839,360,966,387"/>
<area shape="rect" id="node18" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="647,309,758,336"/>
<area shape="rect" id="node19" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="831,309,974,336"/>
<area shape="rect" id="node22" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="669,360,736,387"/>
<area shape="rect" id="node24" href="inode_8c.html#afeec9db8a05732a90bb418fb4f08112a" title="ilookup" alt="" coords="465,2099,527,2125"/>
<area shape="rect" id="node27" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="681,2200,724,2227"/>
<area shape="rect" id="node30" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="454,1997,538,2024"/>
<area shape="rect" id="node25" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="677,2099,728,2125"/>
<area shape="rect" id="node26" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="647,2048,758,2075"/>
<area shape="rect" id="node29" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="833,2149,972,2176"/>
<area shape="rect" id="node28" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="865,2200,940,2227"/>
<area shape="rect" id="node32" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="429,1120,563,1147"/>
<area shape="rect" id="node35" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="851,1424,954,1451"/>
<area shape="rect" id="node36" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="629,1592,776,1619"/>
<area shape="rect" id="node37" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="661,1845,744,1872"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="441,1440,551,1467"/>
<area shape="rect" id="node33" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="843,1617,963,1644"/>
<area shape="rect" id="node34" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1035,1845,1138,1872"/>
<area shape="rect" id="node38" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="869,1947,937,1973"/>
<area shape="rect" id="node39" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="851,1997,954,2024"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="837,1693,968,1720"/>
<area shape="rect" id="node41" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="839,1795,966,1821"/>
<area shape="rect" id="node42" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="831,1896,975,1923"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="639,1475,766,1501"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="635,1526,771,1567"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="639,1221,766,1248"/>
<area shape="rect" id="node50" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="447,1744,545,1771"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a928b6fd97b873a391e906fa28720273e_icgraph.png" border="0" usemap="#ubifs_8h_a928b6fd97b873a391e906fa28720273e_icgraph" alt=""/></div>
<map name="ubifs_8h_a928b6fd97b873a391e906fa28720273e_icgraph" id="ubifs_8h_a928b6fd97b873a391e906fa28720273e_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="218,44,330,71"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="209,259,339,285"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="203,360,345,387"/>
<area shape="rect" id="node24" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="393,411,544,437"/>
<area shape="rect" id="node26" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="209,132,339,159"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="423,5,514,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="592,5,739,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="788,56,881,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="931,56,1040,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1088,56,1181,83"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="406,309,531,336"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="405,259,532,285"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="604,461,727,488"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="599,411,732,437"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="619,157,712,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="624,208,707,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="621,259,710,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="617,309,713,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="614,360,717,387"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="798,411,871,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="787,183,883,209"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="791,233,878,260"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="935,233,1035,260"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="407,360,530,387"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="604,512,727,539"/>
<area shape="rect" id="node27" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="409,56,528,83"/>
<area shape="rect" id="node28" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="597,56,734,83"/>
</map>
</div>

</div>
</div>
<a id="a45f37bcb32fdd0e4c25fca00b7a66198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45f37bcb32fdd0e4c25fca00b7a66198">&#9670;&nbsp;</a></span>ubifs_tnc_remove_nm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_nm </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct fscrypt_name *&#160;</td>
          <td class="paramname"><em>nm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_nm - remove an index entry for a "hashed" node. <code></code>: UBIFS file-system description object : key of node : directory entry name</p>
<p>Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph.png" border="0" usemap="#ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph" alt=""/></div>
<map name="ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph" id="ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="219,438,352,465"/>
<area shape="rect" id="node25" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="654,438,757,465"/>
<area shape="rect" id="node26" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="425,590,572,617"/>
<area shape="rect" id="node27" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="204,84,367,110"/>
<area shape="rect" id="node34" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="226,236,345,262"/>
<area shape="rect" id="node39" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="457,793,540,820"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="230,1300,341,1326"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="844,134,967,161"/>
<area shape="rect" id="node12" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1260,489,1343,516"/>
<area shape="rect" id="node13" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1254,33,1349,60"/>
<area shape="rect" id="node14" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="645,742,765,769"/>
<area shape="rect" id="node22" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="631,388,780,414"/>
<area shape="rect" id="node23" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="463,134,535,161"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1062,134,1151,161"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1243,742,1360,769"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1420,717,1544,744"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1615,717,1690,744"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1761,705,1836,732"/>
<area shape="rect" id="node10" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1593,464,1713,490"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1446,1072,1518,1098"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1592,1401,1713,1428"/>
<area shape="rect" id="node15" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="854,736,957,762"/>
<area shape="rect" id="node16" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="859,888,951,914"/>
<area shape="rect" id="node19" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="859,685,951,712"/>
<area shape="rect" id="node21" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="854,1014,957,1041"/>
<area shape="rect" id="node17" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1055,1046,1158,1073"/>
<area shape="rect" id="node18" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1231,1046,1372,1073"/>
<area shape="rect" id="node20" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1043,590,1170,617"/>
<area shape="rect" id="node24" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="664,185,747,212"/>
<area shape="rect" id="node28" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="828,236,983,262"/>
<area shape="rect" id="node33" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="463,84,535,110"/>
<area shape="rect" id="node29" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1043,185,1170,212"/>
<area shape="rect" id="node31" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="1049,540,1165,566"/>
<area shape="rect" id="node30" href="tnc_8c.html#a4a07029bc1a7b847675eec1555f0b9e8" title="try_read_node" alt="" coords="1249,438,1353,465"/>
<area shape="rect" id="node32" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1232,1249,1371,1276"/>
<area shape="rect" id="node35" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="650,641,761,668"/>
<area shape="rect" id="node36" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="834,837,977,864"/>
<area shape="rect" id="node37" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1051,742,1162,769"/>
<area shape="rect" id="node38" href="ubifs_2io_8c.html#a602b7041efb930fbe55efc9b3b2ea270" title="ubifs_read_node_wbuf" alt="" coords="1031,844,1183,870"/>
<area shape="rect" id="node40" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="671,793,739,820"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="640,1300,771,1326"/>
<area shape="rect" id="node42" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="633,989,777,1016"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="435,1686,562,1713"/>
<area shape="rect" id="node45" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="637,1586,773,1627"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="435,1148,562,1174"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="631,1249,780,1276"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="864,1502,947,1529"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="415,1636,583,1662"/>
<area shape="rect" id="node46" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="837,1622,974,1649"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph.png" border="0" usemap="#ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph" alt=""/></div>
<map name="ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph" id="ubifs_8h_a45f37bcb32fdd0e4c25fca00b7a66198_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="609,309,725,336"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="413,563,533,589"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="206,152,351,179"/>
<area shape="rect" id="node22" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="407,867,538,893"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="215,613,343,640"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="204,740,353,767"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="819,56,909,83"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="817,411,911,437"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="823,512,905,539"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="825,107,903,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="819,157,909,184"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="821,208,907,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="819,309,909,336"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="816,360,912,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="813,259,915,285"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="985,56,1093,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1155,107,1289,133"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1361,81,1434,108"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1141,5,1303,32"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="991,512,1087,539"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="996,563,1083,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1172,588,1272,615"/>
<area shape="rect" id="node21" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="990,107,1089,133"/>
<area shape="rect" id="node23" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="608,917,727,944"/>
<area shape="rect" id="node24" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="795,917,933,944"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="993,816,1086,843"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1167,816,1277,843"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1351,816,1444,843"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="409,613,536,640"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="986,613,1093,640"/>
<area shape="rect" id="node32" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="417,765,529,792"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="407,816,538,843"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="401,664,544,691"/>
<area shape="rect" id="node41" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="592,715,743,741"/>
<area shape="rect" id="node33" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="622,765,713,792"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="791,765,937,792"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="605,867,730,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="604,411,731,437"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="803,867,925,893"/>
<area shape="rect" id="node40" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="606,664,729,691"/>
<area shape="rect" id="node42" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="803,715,925,741"/>
</map>
</div>

</div>
</div>
<a id="aba3e5b7438f8f8463357069869364077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3e5b7438f8f8463357069869364077">&#9670;&nbsp;</a></span>ubifs_tnc_remove_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_remove_range </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>from_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>to_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_remove_range - remove index entries in range. <code></code>: UBIFS file-system description object : lowest key to remove : highest key to remove</p>
<p>This function removes index entries starting at  and ending at . This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aba3e5b7438f8f8463357069869364077_cgraph.png" border="0" usemap="#ubifs_8h_aba3e5b7438f8f8463357069869364077_cgraph" alt=""/></div>
<map name="ubifs_8h_aba3e5b7438f8f8463357069869364077_cgraph" id="ubifs_8h_aba3e5b7438f8f8463357069869364077_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="223,144,359,171"/>
<area shape="rect" id="node21" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="255,296,327,323"/>
<area shape="rect" id="node22" href="tnc_8c.html#aa025e235d64c7ec4ec36c40906d7488b" title="key_in_range" alt="" coords="241,347,340,373"/>
<area shape="rect" id="node23" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="843,752,946,779"/>
<area shape="rect" id="node24" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="217,600,364,627"/>
<area shape="rect" id="node28" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="843,436,946,463"/>
<area shape="rect" id="node37" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="450,397,518,424"/>
<area shape="rect" id="node38" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="829,1309,960,1336"/>
<area shape="rect" id="node39" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="249,549,332,576"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="429,1107,539,1133"/>
<area shape="rect" id="node3" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1775,723,1850,749"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="833,296,956,323"/>
<area shape="rect" id="node16" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1237,723,1320,749"/>
<area shape="rect" id="node17" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1231,267,1326,293"/>
<area shape="rect" id="node18" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="820,549,969,576"/>
<area shape="rect" id="node19" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="448,245,520,272"/>
<area shape="rect" id="node5" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1044,469,1133,496"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1220,976,1337,1003"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1409,1027,1533,1053"/>
<area shape="rect" id="node8" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1617,1091,1691,1117"/>
<area shape="rect" id="node14" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1594,1001,1714,1028"/>
<area shape="rect" id="node15" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1243,875,1315,901"/>
<area shape="rect" id="node9" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1593,1280,1715,1307"/>
<area shape="rect" id="node10" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1773,1255,1852,1281"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1763,1305,1863,1332"/>
<area shape="rect" id="node12" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1773,1356,1852,1383"/>
<area shape="rect" id="node13" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1772,1204,1853,1231"/>
<area shape="rect" id="node20" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="647,296,729,323"/>
<area shape="rect" id="node25" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="424,600,544,627"/>
<area shape="rect" id="node26" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="637,651,739,677"/>
<area shape="rect" id="node27" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="642,499,734,525"/>
<area shape="rect" id="node34" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="642,600,734,627"/>
<area shape="rect" id="node36" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="637,701,739,728"/>
<area shape="rect" id="node29" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1018,419,1159,445"/>
<area shape="rect" id="node30" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1220,469,1337,496"/>
<area shape="rect" id="node31" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1397,343,1545,369"/>
<area shape="rect" id="node32" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1221,317,1337,344"/>
<area shape="rect" id="node33" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1208,419,1349,445"/>
<area shape="rect" id="node35" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="831,600,958,627"/>
<area shape="rect" id="node40" href="tnc_8c.html#adb06b4070b4a33080b62c3882163a274" title="insert_old_idx_znode" alt="" coords="412,651,556,677"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="625,1208,751,1235"/>
<area shape="rect" id="node43" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="827,1454,963,1495"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="625,1005,751,1032"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="820,1056,969,1083"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1047,1280,1130,1307"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="604,1411,772,1437"/>
<area shape="rect" id="node44" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="1020,1432,1157,1459"/>
<area shape="rect" id="node47" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1017,1128,1160,1155"/>
<area shape="rect" id="node48" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1019,1027,1158,1053"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_aba3e5b7438f8f8463357069869364077_icgraph.png" border="0" usemap="#ubifs_8h_aba3e5b7438f8f8463357069869364077_icgraph" alt=""/></div>
<map name="ubifs_8h_aba3e5b7438f8f8463357069869364077_icgraph" id="ubifs_8h_aba3e5b7438f8f8463357069869364077_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="230,164,354,191"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="219,272,365,299"/>
<area shape="rect" id="node9" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="225,487,359,513"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="217,411,367,437"/>
<area shape="rect" id="node3" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="436,107,536,133"/>
<area shape="rect" id="node4" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="633,81,728,108"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="437,183,535,209"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="811,56,944,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1010,56,1083,83"/>
<area shape="rect" id="node10" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="421,537,551,564"/>
<area shape="rect" id="node11" href="replay_8c.html#adc5456ddf590ac5979e20ff60b4cf06a" title="apply_replay_list" alt="" coords="621,537,740,564"/>
<area shape="rect" id="node12" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="809,537,946,564"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1000,411,1093,437"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1143,411,1252,437"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1300,411,1393,437"/>
<area shape="rect" id="node17" href="ubifs_2orphan_8c.html#a80776f7775c05c9a562a3378e4699dc9" title="do_kill_orphans" alt="" coords="430,385,542,412"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="421,284,551,311"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="415,436,557,463"/>
<area shape="rect" id="node34" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="605,487,756,513"/>
<area shape="rect" id="node18" href="ubifs_2orphan_8c.html#a56d0d86cd1db3d34e52d5b91784d55da" title="kill_orphans" alt="" coords="635,385,726,412"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a2c245b49b58cf15dd381f99530af6807" title="ubifs_mount_orphans" alt="" coords="804,411,951,437"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="618,183,743,209"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="617,233,744,260"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="816,5,939,32"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="831,309,924,336"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="836,107,919,133"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="833,157,922,184"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="829,208,925,235"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="826,259,929,285"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="999,157,1095,184"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1003,107,1090,133"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1147,107,1247,133"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="619,436,742,463"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="816,487,939,513"/>
</map>
</div>

</div>
</div>
<a id="a57909b33c6b9924633e733ac7dd4cfc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57909b33c6b9924633e733ac7dd4cfc7">&#9670;&nbsp;</a></span>ubifs_tnc_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_replace </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionubifs__key.html">ubifs_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_replace - replace a node in the TNC only if the old node is found. <code></code>: UBIFS file-system description object : key to add : LEB number of old node : old node offset : LEB number of node : node offset : node length</p>
<p>This function replaces a node with key  in the TNC only if the old node is found. This function is called by garbage collection when node are moved. Returns %0 on success or negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_cgraph.png" border="0" usemap="#ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_cgraph" alt=""/></div>
<map name="ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_cgraph" id="ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_cgraph">
<area shape="rect" id="node2" href="tnc_8c.html#af871df87e75b12ea907320baac2614d5" title="lookup_level0_dirty" alt="" coords="194,507,327,534"/>
<area shape="rect" id="node13" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1214,406,1309,433"/>
<area shape="rect" id="node17" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="1020,127,1123,154"/>
<area shape="rect" id="node34" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="826,457,929,483"/>
<area shape="rect" id="node35" href="tnc_8c.html#a609646516a8a0f3fd9f2b2a1a1849737" title="dirty_cow_bottom_up" alt="" coords="392,305,539,331"/>
<area shape="rect" id="node36" href="tnc_8c.html#a48dcf7fc1db2312050ac0378020c802b" title="lnc_free" alt="" coords="227,837,295,863"/>
<area shape="rect" id="node37" href="tnc_8c.html#acb341a90edaa5dca2a3c232a5f4a5d67" title="resolve_collision_directly" alt="" coords="177,735,344,762"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="410,1251,521,1278"/>
<area shape="rect" id="node3" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="816,558,939,585"/>
<area shape="rect" id="node12" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1220,761,1303,787"/>
<area shape="rect" id="node14" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="611,229,731,255"/>
<area shape="rect" id="node31" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="803,811,952,838"/>
<area shape="rect" id="node32" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="429,710,501,737"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a8022243db51d1b7cef9ec4ff22bc0f3a" title="read_znode" alt="" coords="1027,609,1116,635"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab1c29d586db30bacfa2c9a73369a8870" title="ubifs_read_node" alt="" coords="1203,862,1320,889"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1389,862,1513,889"/>
<area shape="rect" id="node7" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1606,887,1681,914"/>
<area shape="rect" id="node9" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1788,963,1863,990"/>
<area shape="rect" id="node10" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1583,761,1703,787"/>
<area shape="rect" id="node11" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2105,507,2177,534"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1583,1014,1704,1041"/>
<area shape="rect" id="node15" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="826,229,929,255"/>
<area shape="rect" id="node16" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="831,178,923,205"/>
<area shape="rect" id="node28" href="tnc_8c.html#af101265220290f9d46f256f608211450" title="copy_znode" alt="" coords="831,330,923,357"/>
<area shape="rect" id="node30" href="tnc_8c.html#a86f5f773a93872a89b7bab3ff0d096d8" title="insert_old_idx" alt="" coords="1944,330,2047,357"/>
<area shape="rect" id="node18" href="lprops_8c.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1191,127,1332,154"/>
<area shape="rect" id="node19" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1392,77,1509,103"/>
<area shape="rect" id="node20" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1569,77,1717,103"/>
<area shape="rect" id="node26" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1393,26,1509,53"/>
<area shape="rect" id="node27" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1380,127,1521,154"/>
<area shape="rect" id="node21" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1933,26,2057,53"/>
<area shape="rect" id="node22" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1765,127,1885,154"/>
<area shape="rect" id="node23" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1767,26,1884,53"/>
<area shape="rect" id="node24" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1767,178,1884,205"/>
<area shape="rect" id="node25" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1765,77,1885,103"/>
<area shape="rect" id="node29" href="misc_8h.html#a85284dff497fd8ebc7ef947efe958eb6" title="ubifs_zn_obsolete" alt="" coords="1008,330,1135,357"/>
<area shape="rect" id="node33" href="tnc_8c.html#ad6989d53af75d6eb9a7b78f6335d3437" title="get_znode" alt="" coords="629,710,712,737"/>
<area shape="rect" id="node38" href="tnc_8c.html#a7f9cf8fc929db321a999947190bbbe2a" title="matches_position" alt="" coords="403,862,527,889"/>
<area shape="rect" id="node39" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="429,761,501,787"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="607,1521,734,1547"/>
<area shape="rect" id="node42" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="809,1404,945,1445"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="607,1099,734,1126"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="803,1099,952,1126"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="1030,1267,1113,1294"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="812,1251,943,1278"/>
<area shape="rect" id="node50" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="587,1353,755,1379"/>
<area shape="rect" id="node43" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="1003,1419,1140,1446"/>
<area shape="rect" id="node46" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1000,1065,1143,1091"/>
<area shape="rect" id="node47" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="1574,1115,1713,1142"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_icgraph.png" border="0" usemap="#ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_icgraph" alt=""/></div>
<map name="ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_icgraph" id="ubifs_8h_a57909b33c6b9924633e733ac7dd4cfc7_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="177,931,267,958"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="315,931,411,958"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="459,931,631,958"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="679,728,827,755"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1029,1159,1187,1186"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="875,450,981,476"/>
<area shape="rect" id="node36" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="897,728,959,755"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1045,247,1171,274"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1253,931,1369,958"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1242,196,1379,223"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1239,95,1382,122"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1247,146,1374,172"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1251,247,1371,274"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1249,19,1373,46"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1238,399,1383,426"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1235,298,1387,324"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1469,906,1560,932"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1468,1058,1561,1084"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1473,956,1556,983"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1476,754,1553,780"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1469,804,1560,831"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1471,855,1558,882"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1470,1108,1559,1135"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1467,1159,1563,1186"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1463,1007,1566,1034"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1661,956,1757,983"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1666,602,1753,628"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1465,196,1564,223"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1659,196,1759,223"/>
<area shape="rect" id="node24" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1453,95,1576,122"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1439,44,1590,71"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1461,146,1568,172"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1465,450,1564,476"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1643,1108,1776,1135"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1824,1108,1897,1135"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1466,298,1563,324"/>
<area shape="rect" id="node37" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1045,728,1171,755"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1241,728,1380,755"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1453,652,1576,679"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1458,703,1571,730"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1475,500,1555,527"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1435,399,1595,426"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1654,475,1765,502"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1264,1210,1357,1236"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1248,1286,1373,1312"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1247,1108,1374,1135"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1460,1260,1569,1287"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1663,1260,1756,1287"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1453,1311,1576,1338"/>
</map>
</div>

</div>
</div>
<a id="ae1e7a24e81c4fa022a4065530bd77bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e7a24e81c4fa022a4065530bd77bff">&#9670;&nbsp;</a></span>ubifs_tnc_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_tnc_start_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__zbranch.html">ubifs_zbranch</a> *&#160;</td>
          <td class="paramname"><em>zroot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_tnc_start_commit - start TNC commit. <code></code>: UBIFS file-system description object : new index root position is returned here</p>
<p>This function prepares the list of indexing nodes to commit and lays out their positions on flash. If there is not enough free space it uses the in-gap commit method. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_cgraph.png" border="0" usemap="#ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_cgraph" alt=""/></div>
<map name="ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_cgraph" id="ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="239,518,349,544"/>
<area shape="rect" id="node21" href="tnc__commit_8c.html#a64748c798bfc8c8fd1ee5bedae19a5b3" title="get_znodes_to_commit" alt="" coords="215,911,373,938"/>
<area shape="rect" id="node25" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="456,1139,560,1166"/>
<area shape="rect" id="node36" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="241,1038,347,1064"/>
<area shape="rect" id="node44" href="tnc__commit_8c.html#a045e506a5e968ca24069299455ff0abf" title="free_unused_idx_lebs" alt="" coords="434,1240,582,1267"/>
<area shape="rect" id="node45" href="tnc_8c.html#a01e38c99f12ee3c060c9214d14ec62f3" title="destroy_old_idx" alt="" coords="237,1190,351,1216"/>
<area shape="rect" id="node46" href="find_8c.html#abb183b65aeed0bc4e18681aec0ffdb5b" title="ubifs_save_dirty_idx\l_lnums" alt="" coords="847,1452,988,1493"/>
<area shape="rect" id="node49" href="budget_8c.html#a6109e1d36eaa593c345944d0d4b30745" title="ubifs_calc_min_idx_lebs" alt="" coords="212,1291,376,1318"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#aabbfd5925b308189c641e1570a2a19f7" title="free_idx_lebs" alt="" coords="245,1139,343,1166"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#aaccd583a761afebb452421d214607adb" title="dbg_is_chk_index" alt="" coords="651,1088,778,1115"/>
<area shape="rect" id="node4" href="tnc__misc_8c.html#a97a13645d24f27ca0f17eec920e0e6c5" title="ubifs_tnc_postorder\l_first" alt="" coords="647,566,783,608"/>
<area shape="rect" id="node6" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="445,262,571,288"/>
<area shape="rect" id="node7" href="misc_8h.html#abe5c86108a05199a899138767ca1f42a" title="ubifs_zn_dirty" alt="" coords="866,708,969,735"/>
<area shape="rect" id="node9" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="876,118,959,144"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="640,363,789,390"/>
<area shape="rect" id="node14" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1080,632,1152,659"/>
<area shape="rect" id="node18" href="ubifs_2misc_8c.html#a49c185988382ac9b2f28935dd44a0441" title="ubifs_msg" alt="" coords="876,176,959,203"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="649,8,780,35"/>
<area shape="rect" id="node20" href="tnc__misc_8c.html#ab73fd13bf253a9f01d5ddeb1e6da16fc" title="ubifs_tnc_postorder_next" alt="" coords="424,518,592,544"/>
<area shape="rect" id="node5" href="misc_8h.html#a28eee58cbe217f89376908e1cf560061" title="ubifs_tnc_find_child" alt="" coords="849,582,986,608"/>
<area shape="rect" id="node8" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="640,160,789,187"/>
<area shape="rect" id="node10" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="667,211,762,238"/>
<area shape="rect" id="node12" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="846,379,989,406"/>
<area shape="rect" id="node13" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1258,354,1333,380"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1054,278,1178,304"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1235,227,1356,254"/>
<area shape="rect" id="node17" href="replay_8c.html#a7b1ba80877b09e706904424df32d5ed3" title="ubifs_validate_entry" alt="" coords="848,430,987,456"/>
<area shape="rect" id="node22" href="tnc__commit_8c.html#ad50b2f657e8580a4de9d921e8866a3b9" title="find_first_dirty" alt="" coords="663,784,767,811"/>
<area shape="rect" id="node23" href="misc_8h.html#a21390e9f6e0627bc617f177cee88fad7" title="ubifs_zn_cow" alt="" coords="457,987,559,1014"/>
<area shape="rect" id="node24" href="tnc__commit_8c.html#a38afc10e5e3f36e9ef617ceeb9e74871" title="find_next_dirty" alt="" coords="455,784,561,811"/>
<area shape="rect" id="node26" href="tnc__commit_8c.html#aa01412c139f0a3f0aaf0a6d83e1415c5" title="get_leb_cnt" alt="" coords="670,1190,759,1216"/>
<area shape="rect" id="node27" href="find_8c.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="649,1292,780,1333"/>
<area shape="rect" id="node28" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="1057,1350,1175,1376"/>
<area shape="rect" id="node29" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="842,1198,993,1224"/>
<area shape="rect" id="node30" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="837,1248,997,1275"/>
<area shape="rect" id="node31" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="846,1299,989,1326"/>
<area shape="rect" id="node32" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1058,1122,1174,1148"/>
<area shape="rect" id="node33" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="1045,1400,1187,1427"/>
<area shape="rect" id="node34" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="857,1039,977,1066"/>
<area shape="rect" id="node35" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="845,1096,989,1123"/>
<area shape="rect" id="node37" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="453,1038,563,1064"/>
<area shape="rect" id="node42" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="429,886,587,912"/>
<area shape="rect" id="node38" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="648,1038,781,1064"/>
<area shape="rect" id="node39" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="672,987,757,1014"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="653,1139,777,1166"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="852,900,983,927"/>
<area shape="rect" id="node43" href="misc_8h.html#ac7a685691e935bc3ef4a7918e107c8de" title="ubifs_idx_node_sz" alt="" coords="649,886,780,912"/>
<area shape="rect" id="node47" href="find_8c.html#a3e29c87a698697582a0330af8bf8ebef" title="cmp_dirty_idx" alt="" coords="1065,1455,1167,1482"/>
<area shape="rect" id="node48" href="find_8c.html#aa2d7c3b5243a5c0090c3f9283939eeaf" title="swap_dirty_idx" alt="" coords="1061,1506,1171,1532"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_icgraph.png" border="0" usemap="#ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_icgraph" alt=""/></div>
<map name="ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_icgraph" id="ubifs_8h_ae1e7a24e81c4fa022a4065530bd77bff_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="212,247,299,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="354,184,465,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="347,272,472,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="715,145,829,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="928,120,1021,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="912,171,1037,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1124,5,1233,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1341,5,1435,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1117,56,1240,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="531,196,634,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="525,297,640,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="693,233,851,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="709,1171,835,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="520,399,645,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="911,233,1038,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1321,436,1455,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1132,208,1225,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1137,157,1220,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1134,259,1223,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1131,309,1227,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1127,360,1230,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1345,816,1431,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="917,385,1033,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="906,1412,1043,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="903,1272,1046,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="911,1348,1038,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="915,1171,1035,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="913,1221,1037,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="902,968,1047,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="899,1120,1051,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1133,411,1224,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1140,461,1217,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1133,512,1224,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1135,563,1222,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1129,1424,1228,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1338,1221,1438,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1117,1323,1240,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1103,1272,1254,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1125,1373,1232,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1129,867,1228,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1130,1120,1227,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="905,613,1044,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1117,664,1240,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1122,715,1235,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1139,765,1219,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1099,968,1259,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1333,917,1443,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1307,993,1469,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1145,613,1213,640"/>
</map>
</div>

</div>
</div>
<a id="af769280c22d887914ee95e9c2e4cc7de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af769280c22d887914ee95e9c2e4cc7de">&#9670;&nbsp;</a></span>ubifs_unpack_bits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ubifs_unpack_bits </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrbits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_unpack_bits - unpack bit fields. : address at which to unpack (passed and next address returned) : bit position at which to unpack (passed and next position returned) : number of bits of value to unpack (1-32)</p>
<p>This functions returns the value unpacked. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_af769280c22d887914ee95e9c2e4cc7de_icgraph.png" border="0" usemap="#ubifs_8h_af769280c22d887914ee95e9c2e4cc7de_icgraph" alt=""/></div>
<map name="ubifs_8h_af769280c22d887914ee95e9c2e4cc7de_icgraph" id="ubifs_8h_af769280c22d887914ee95e9c2e4cc7de_icgraph">
<area shape="rect" id="node2" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="184,724,287,751"/>
<area shape="rect" id="node3" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="356,623,463,650"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="339,699,480,726"/>
<area shape="rect" id="node41" href="lpt_8c.html#a5a0c9d1884b60df493d76328ce9e2d71" title="unpack_ltab" alt="" coords="363,876,455,903"/>
<area shape="rect" id="node44" href="lpt_8c.html#ac416c7a74c9d73a02f56abe30cf9ff7d" title="unpack_lsave" alt="" coords="358,800,461,827"/>
<area shape="rect" id="node45" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="180,775,291,802"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#ab1dccafcd34c954073fd864a06d27141" title="get_lpt_node_type" alt="" coords="345,927,473,954"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a7545da912ddbe0544fc4b9a01248a171" title="is_a_node" alt="" coords="369,978,450,1004"/>
<area shape="rect" id="node4" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="557,598,647,624"/>
<area shape="rect" id="node30" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="543,288,661,315"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="736,572,853,599"/>
<area shape="rect" id="node6" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="931,800,1047,827"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="915,395,1063,422"/>
<area shape="rect" id="node24" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="919,598,1058,624"/>
<area shape="rect" id="node26" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="937,648,1040,675"/>
<area shape="rect" id="node7" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="1306,775,1443,802"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="1120,800,1247,827"/>
<area shape="rect" id="node9" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1123,851,1243,878"/>
<area shape="rect" id="node10" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="1141,1003,1226,1030"/>
<area shape="rect" id="node12" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="1123,902,1244,928"/>
<area shape="rect" id="node11" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="1334,1003,1415,1030"/>
<area shape="rect" id="node14" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="1131,192,1235,219"/>
<area shape="rect" id="node15" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="1116,91,1251,118"/>
<area shape="rect" id="node16" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="1112,142,1255,168"/>
<area shape="rect" id="node17" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="1313,243,1436,270"/>
<area shape="rect" id="node18" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="1320,471,1429,498"/>
<area shape="rect" id="node19" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="1125,446,1241,472"/>
<area shape="rect" id="node20" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="1303,547,1447,574"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="1304,296,1445,323"/>
<area shape="rect" id="node22" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="1319,354,1430,380"/>
<area shape="rect" id="node23" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="1332,416,1417,443"/>
<area shape="rect" id="node25" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="1126,598,1241,624"/>
<area shape="rect" id="node27" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="1119,648,1247,675"/>
<area shape="rect" id="node28" href="lpt__commit_8c.html#aa3569efac5e610dbf88b10d9d6e3bf03" title="dbg_is_pnode_dirty" alt="" coords="1116,699,1251,726"/>
<area shape="rect" id="node29" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1127,750,1240,776"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="913,167,1064,194"/>
<area shape="rect" id="node32" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="1120,40,1247,67"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="540,674,664,700"/>
<area shape="rect" id="node38" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="736,280,853,307"/>
<area shape="rect" id="node39" href="lpt__commit_8c.html#aa1394a949f93b726911b9906f58b5ac3" title="dump_lpt_leb" alt="" coords="553,927,651,954"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="736,623,853,650"/>
<area shape="rect" id="node36" href="lpt__commit_8c.html#a1108bc5520b20e0cde6b2cad0ba79170" title="nnode_lookup" alt="" coords="937,851,1040,878"/>
<area shape="rect" id="node37" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="1119,1054,1247,1080"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="724,927,865,954"/>
<area shape="rect" id="node42" href="lpt_8c.html#a3174779440616f0c85a44f40480d5977" title="read_ltab" alt="" coords="565,876,639,903"/>
<area shape="rect" id="node43" href="lpt_8c.html#a5d1707707cf770fb7479177b7fe2fbc5" title="lpt_init_rd" alt="" coords="755,876,834,903"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#a944ebfcd552ffc32b81d4c6d8d173aaa" title="lpt_gc_lnum" alt="" coords="556,1028,648,1055"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#a8b82199b156a23a65fe4de99f2f82e4f" title="dbg_check_ltab_lnum" alt="" coords="528,978,676,1004"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#a6f62320bf87dad947c70ef2a51de4466" title="lpt_gc" alt="" coords="766,1028,823,1055"/>
</map>
</div>

</div>
</div>
<a id="a0d29b2eba67308c09e6c7e05ad2b63b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d29b2eba67308c09e6c7e05ad2b63b1">&#9670;&nbsp;</a></span>ubifs_unpack_nnode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_unpack_nnode </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__nnode.html">ubifs_nnode</a> *&#160;</td>
          <td class="paramname"><em>nnode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_unpack_nnode - unpack a nnode. <code></code>: UBIFS file-system description object : buffer containing packed nnode to unpack : nnode structure to fill</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_cgraph.png" border="0" usemap="#ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_cgraph" alt=""/></div>
<map name="ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_cgraph" id="ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="195,72,305,99"/>
<area shape="rect" id="node3" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="353,21,480,48"/>
<area shape="rect" id="node5" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="199,21,301,48"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="381,72,453,99"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_icgraph.png" border="0" usemap="#ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_icgraph" alt=""/></div>
<map name="ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_icgraph" id="ubifs_8h_a0d29b2eba67308c09e6c7e05ad2b63b1_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="195,740,319,767"/>
<area shape="rect" id="node44" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="198,436,315,463"/>
<area shape="rect" id="node45" href="lpt__commit_8c.html#aa1394a949f93b726911b9906f58b5ac3" title="dump_lpt_leb" alt="" coords="376,1031,475,1057"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="367,765,484,792"/>
<area shape="rect" id="node4" href="ubifs_8h.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="549,917,665,944"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="533,385,681,412"/>
<area shape="rect" id="node36" href="lpt__commit_8c.html#a8e250524d7ea1363cd710e285ddab3c7" title="pnode_lookup" alt="" coords="556,715,659,741"/>
<area shape="rect" id="node40" href="lpt__commit_8c.html#a1108bc5520b20e0cde6b2cad0ba79170" title="nnode_lookup" alt="" coords="556,816,659,843"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="532,208,683,235"/>
<area shape="rect" id="node34" href="lpt__commit_8c.html#a5a15d4833c166413b0287025743137cf" title="next_pnode_to_dirty" alt="" coords="538,765,677,792"/>
<area shape="rect" id="node5" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="931,613,1068,640"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a1eb6fc2cca5a1e34192e3c54b90d3057" title="ubifs_read_one_lp" alt="" coords="739,1019,865,1045"/>
<area shape="rect" id="node11" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="742,1069,862,1096"/>
<area shape="rect" id="node14" href="lpt_8c.html#aaa7df93311d24f875b2fef817552a3ca" title="read_lsave" alt="" coords="759,917,845,944"/>
<area shape="rect" id="node16" href="sb_8c.html#aa1a6d690124262b3f3c382e9596c6963" title="fixup_free_space" alt="" coords="741,968,863,995"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="1125,461,1284,488"/>
<area shape="rect" id="node7" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1332,689,1465,716"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="934,968,1065,995"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="1141,1019,1268,1045"/>
<area shape="rect" id="node12" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="941,1120,1058,1147"/>
<area shape="rect" id="node13" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="922,1069,1077,1096"/>
<area shape="rect" id="node15" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="959,816,1040,843"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="921,867,1077,893"/>
<area shape="rect" id="node19" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="750,208,854,235"/>
<area shape="rect" id="node21" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="735,259,869,285"/>
<area shape="rect" id="node23" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="731,107,873,133"/>
<area shape="rect" id="node25" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="938,157,1061,184"/>
<area shape="rect" id="node26" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="945,461,1054,488"/>
<area shape="rect" id="node27" href="ubifs_8h.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="744,411,860,437"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="927,664,1071,691"/>
<area shape="rect" id="node31" href="ubifs_8h.html#ae3f8fc7da604fc1fbfa182c024679d42" title="ubifs_update_one_lp" alt="" coords="929,360,1070,387"/>
<area shape="rect" id="node32" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="944,309,1055,336"/>
<area shape="rect" id="node33" href="replay_8c.html#af3207304c4c624ffd8882b237ae16460" title="take_ihead" alt="" coords="957,563,1042,589"/>
<area shape="rect" id="node20" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="932,208,1067,235"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="925,259,1074,285"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1139,513,1270,554"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="922,411,1077,437"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a512118faef0177c188c8f6448a57028f" title="take_gc_lnum" alt="" coords="1153,639,1256,665"/>
<area shape="rect" id="node35" href="lpt__commit_8c.html#a47f06beb217002cc38bfe21c6fcc261a" title="make_tree_dirty" alt="" coords="745,765,859,792"/>
<area shape="rect" id="node37" href="lpt__commit_8c.html#a37290c4719d6b685b9a9c38396fd1f28" title="make_pnode_dirty" alt="" coords="738,613,866,640"/>
<area shape="rect" id="node38" href="lpt__commit_8c.html#aa3569efac5e610dbf88b10d9d6e3bf03" title="dbg_is_pnode_dirty" alt="" coords="735,664,869,691"/>
<area shape="rect" id="node39" href="lpt__commit_8c.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="745,715,859,741"/>
<area shape="rect" id="node41" href="lpt__commit_8c.html#afcf84dca69b8241eab410d4a5ace9014" title="make_nnode_dirty" alt="" coords="738,816,866,843"/>
<area shape="rect" id="node43" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="739,5,865,32"/>
<area shape="rect" id="node46" href="lpt__commit_8c.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="731,1247,873,1273"/>
<area shape="rect" id="node47" href="lpt__commit_8c.html#ab5ccc5e035208a177f249fa5266c020d" title="layout_cnodes" alt="" coords="1151,1360,1258,1387"/>
<area shape="rect" id="node48" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="1155,1284,1254,1311"/>
<area shape="rect" id="node49" href="lpt__commit_8c.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="925,1171,1074,1197"/>
<area shape="rect" id="node50" href="lpt__commit_8c.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="943,1272,1056,1299"/>
</map>
</div>

</div>
</div>
<a id="ae3f8fc7da604fc1fbfa182c024679d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f8fc7da604fc1fbfa182c024679d42">&#9670;&nbsp;</a></span>ubifs_update_one_lp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_update_one_lp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dirty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags_clean</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_update_one_lp - update LEB properties. <code></code>: the UBIFS file-system description object : LEB to change properties for : amount of free space : amount of dirty space to add : flags to set : flags to clean</p>
<p>This function is the same as '<a class="el" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf">ubifs_change_one_lp()</a>' but  is added to current dirty space, not substitutes it. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_cgraph.png" border="0" usemap="#ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_cgraph" alt=""/></div>
<map name="ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_cgraph" id="ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="207,641,324,668"/>
<area shape="rect" id="node3" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="384,743,532,769"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2477,499,2549,525"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="207,692,323,719"/>
<area shape="rect" id="node47" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="195,920,336,947"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1881,625,2005,652"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="580,717,700,744"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1716,641,1833,668"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="581,553,699,580"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="580,667,700,693"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2245,673,2399,714"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2071,549,2177,576"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="2053,397,2195,424"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2069,701,2179,728"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2267,397,2377,424"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2449,321,2576,348"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2271,296,2373,323"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="748,717,893,744"/>
<area shape="rect" id="node15" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="959,692,1083,719"/>
<area shape="rect" id="node18" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1899,245,1988,272"/>
<area shape="rect" id="node25" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="774,515,867,541"/>
<area shape="rect" id="node19" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2245,107,2399,149"/>
<area shape="rect" id="node20" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2243,195,2401,221"/>
<area shape="rect" id="node21" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2071,347,2177,373"/>
<area shape="rect" id="node22" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2069,144,2179,171"/>
<area shape="rect" id="node23" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2065,245,2183,272"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2059,296,2189,323"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="960,515,1081,541"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1167,515,1284,541"/>
<area shape="rect" id="node28" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1529,641,1668,668"/>
<area shape="rect" id="node29" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1351,515,1481,541"/>
<area shape="rect" id="node30" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1356,413,1476,440"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1541,439,1657,465"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1533,489,1664,516"/>
<area shape="rect" id="node33" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1541,591,1657,617"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1537,540,1661,567"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="765,667,876,693"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="773,616,869,643"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="959,616,1083,643"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1165,616,1285,643"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="405,641,511,668"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="401,692,515,719"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="760,464,881,491"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1359,464,1473,491"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="941,413,1100,440"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1148,413,1303,440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_icgraph.png" border="0" usemap="#ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_icgraph" alt=""/></div>
<map name="ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_icgraph" id="ubifs_8h_ae3f8fc7da604fc1fbfa182c024679d42_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#aec3473f5368228263af357f8e2ef4704" title="bud_wbuf_callback" alt="" coords="207,341,341,368"/>
<area shape="rect" id="node6" href="misc_8h.html#ae4183603acbd9f727ecf1fae7617085b" title="ubifs_add_dirt" alt="" coords="223,664,325,691"/>
<area shape="rect" id="node45" href="tnc__commit_8c.html#a5704e54ff6ae794072cf6fefd287ee56" title="layout_in_empty_space" alt="" coords="195,897,353,924"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="230,1005,318,1032"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="418,68,509,95"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="606,68,699,95"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="780,68,889,95"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1363,233,1479,260"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1349,929,1492,956"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1361,423,1481,449"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1163,1031,1287,1057"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1153,980,1298,1007"/>
<area shape="rect" id="node28" href="tnc_8c.html#a749c75be0b18685c751d2489acc6c6ae" title="add_idx_dirt" alt="" coords="417,637,509,664"/>
<area shape="rect" id="node30" href="tnc_8c.html#a6c4894fa7f0b1e5bf45d6168b302fdce" title="tnc_delete" alt="" coords="793,583,876,609"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1161,423,1289,449"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="937,853,1101,880"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="968,715,1071,741"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="401,423,525,449"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1570,157,1661,184"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1569,208,1662,235"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1574,259,1657,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1577,309,1654,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1570,360,1661,387"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1572,411,1659,437"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1571,5,1660,32"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1567,56,1663,83"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1564,107,1667,133"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1739,157,1847,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1745,259,1841,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1749,385,1836,412"/>
<area shape="rect" id="node21" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1554,929,1677,956"/>
<area shape="rect" id="node22" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1540,879,1691,905"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1371,1031,1471,1057"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1371,980,1470,1007"/>
<area shape="rect" id="node29" href="tnc_8c.html#af6b2ffc67c87b26f8e48221449e1a2ec" title="dirty_cow_znode" alt="" coords="593,636,713,663"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="957,576,1082,603"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="944,524,1095,551"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="946,347,1093,373"/>
<area shape="rect" id="node32" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1355,625,1486,652"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1151,879,1300,905"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1357,499,1484,525"/>
<area shape="rect" id="node39" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="1159,828,1292,855"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1157,777,1294,804"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1149,727,1301,753"/>
<area shape="rect" id="node44" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="608,423,697,449"/>
<area shape="rect" id="node46" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="410,1132,517,1159"/>
<area shape="rect" id="node47" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="573,1132,732,1159"/>
<area shape="rect" id="node48" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="791,1157,878,1184"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e11b3b283926c57ea7d7e7aaf6cabe1" title="ubifs_tnc_end_commit" alt="" coords="576,1183,729,1209"/>
</map>
</div>

</div>
</div>
<a id="a7b1ba80877b09e706904424df32d5ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1ba80877b09e706904424df32d5ed3">&#9670;&nbsp;</a></span>ubifs_validate_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_validate_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__dent__node.html">ubifs_dent_node</a> *&#160;</td>
          <td class="paramname"><em>dent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_validate_entry - validate directory or extended attribute entry node. <code></code>: UBIFS file-system description object : the node to validate</p>
<p>This function validates directory or extended attribute entry node . Returns zero if the node is all right and a %-EINVAL if not. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_cgraph.png" border="0" usemap="#ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_cgraph" alt=""/></div>
<map name="ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_cgraph" id="ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_cgraph">
<area shape="rect" id="node2" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="210,5,285,32"/>
<area shape="rect" id="node3" href="key_8h.html#a5dda2dc04f2e82ba628dcb1ef9313437" title="key_type_flash" alt="" coords="192,56,303,83"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="211,107,283,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_icgraph.png" border="0" usemap="#ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_icgraph" alt=""/></div>
<map name="ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_icgraph" id="ubifs_8h_a7b1ba80877b09e706904424df32d5ed3_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="192,436,341,463"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="224,537,309,564"/>
<area shape="rect" id="node35" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="224,588,309,615"/>
<area shape="rect" id="node38" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="233,816,300,843"/>
<area shape="rect" id="node46" href="tnc_8c.html#ab826cda3ab0724fd2a2d83039137ba7f" title="lnc_add_directly" alt="" coords="209,740,325,767"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="403,436,530,463"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="618,385,729,412"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="821,411,948,437"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="1038,208,1141,235"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="823,44,947,71"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1025,867,1153,893"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="822,360,947,387"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="809,689,960,716"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="1016,1019,1163,1045"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="803,259,967,285"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="805,132,964,159"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="1038,512,1141,539"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="1031,360,1147,387"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="1033,411,1146,437"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="1040,461,1139,488"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1230,892,1346,919"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1219,183,1357,209"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1217,360,1359,387"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1225,461,1351,488"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1228,816,1348,843"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1226,284,1350,311"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1215,233,1361,260"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1212,132,1364,159"/>
<area shape="rect" id="node19" href="replay_8c.html#aed3ed0e13bec51f8343217fe9a6552fe" title="apply_replay_entry" alt="" coords="1223,563,1353,589"/>
<area shape="rect" id="node21" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="1045,5,1134,32"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a928b6fd97b873a391e906fa28720273e" title="ubifs_tnc_remove_ino" alt="" coords="1015,664,1164,691"/>
<area shape="rect" id="node28" href="replay_8c.html#ac1e7273efe08d0c54a0a85b29dcbb249" title="trun_remove_range" alt="" coords="1023,259,1156,285"/>
<area shape="rect" id="node30" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1046,56,1133,83"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="597,537,749,564"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="838,563,931,589"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1035,563,1144,589"/>
<area shape="rect" id="node36" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="421,588,513,615"/>
<area shape="rect" id="node37" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="605,588,742,615"/>
<area shape="rect" id="node39" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="595,917,751,944"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="826,943,943,969"/>
<area shape="rect" id="node43" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="831,892,938,919"/>
<area shape="rect" id="node44" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="821,1044,948,1071"/>
<area shape="rect" id="node45" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="819,791,951,817"/>
<area shape="rect" id="node41" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1028,968,1151,995"/>
<area shape="rect" id="node42" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="1029,715,1149,741"/>
<area shape="rect" id="node47" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="411,791,522,817"/>
<area shape="rect" id="node49" href="tnc_8c.html#a989752a25da4eb8e16a26d9c4beea922" title="fallible_matches_name" alt="" coords="389,740,544,767"/>
<area shape="rect" id="node48" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="614,791,733,817"/>
<area shape="rect" id="node50" href="tnc_8c.html#ae4be79a5c50df84c2528fff0e619b5ca" title="fallible_resolve_collision" alt="" coords="592,740,755,767"/>
</map>
</div>

</div>
</div>
<a id="a21adbde75a6f14427f25293082423474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21adbde75a6f14427f25293082423474">&#9670;&nbsp;</a></span>ubifs_wait_for_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_wait_for_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a44bb751e441c7a2479b5251b1423d16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bb751e441c7a2479b5251b1423d16a">&#9670;&nbsp;</a></span>ubifs_wbuf_add_ino_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_wbuf_add_ino_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>inum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_add_ino_nolock - add an inode number into the wbuf inode array. : the write-buffer where to add : the inode number</p>
<p>This function adds an inode number to the inode array of the write-buffer. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a44bb751e441c7a2479b5251b1423d16a_icgraph.png" border="0" usemap="#ubifs_8h_a44bb751e441c7a2479b5251b1423d16a_icgraph" alt=""/></div>
<map name="ubifs_8h_a44bb751e441c7a2479b5251b1423d16a_icgraph" id="ubifs_8h_a44bb751e441c7a2479b5251b1423d16a_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="209,335,325,361"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="198,664,335,691"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="195,765,338,792"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="203,613,330,640"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="207,563,327,589"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="205,715,329,741"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="194,63,339,89"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="191,171,343,197"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="421,107,511,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="419,157,513,184"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="425,461,507,488"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="427,208,505,235"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="421,259,511,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="423,309,509,336"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="421,360,511,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="418,411,514,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="415,512,517,539"/>
<area shape="rect" id="node4" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="597,56,705,83"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="774,5,907,32"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="969,31,1043,57"/>
<area shape="rect" id="node7" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="760,107,921,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="603,461,699,488"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="607,563,694,589"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="791,588,891,615"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="417,664,515,691"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="594,664,707,691"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="601,715,701,741"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="793,715,888,741"/>
<area shape="rect" id="node25" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="405,816,527,843"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="391,765,541,792"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="589,765,712,792"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="597,613,704,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="601,5,700,32"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="417,56,515,83"/>
</map>
</div>

</div>
</div>
<a id="a9c6a43ed3cec37fb67b4cf4f129b84de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6a43ed3cec37fb67b4cf4f129b84de">&#9670;&nbsp;</a></span>ubifs_wbuf_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_init - initialize write-buffer. <code></code>: UBIFS file-system description object : write-buffer to initialize</p>
<p>This function initializes write-buffer. Returns zero in case of success %-ENOMEM in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph.png" border="0" usemap="#ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph" alt=""/></div>
<map name="ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph" id="ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#a2d558cd61ed553bd7e3fb4048ccdada4" title="wbuf_timer_callback\l_nolock" alt="" coords="163,23,304,65"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="379,5,460,32"/>
<area shape="rect" id="node4" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="352,56,487,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph.png" border="0" usemap="#ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph" alt=""/></div>
<map name="ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph" id="ubifs_8h_a9c6a43ed3cec37fb67b4cf4f129b84de_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#ad4781be5ca605d0207a62dba3277d63b" title="alloc_wbufs" alt="" coords="163,5,253,32"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="301,5,395,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="443,5,552,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="600,5,693,32"/>
</map>
</div>

</div>
</div>
<a id="a4bf09b0b677c1ca6d0b034d91281d2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf09b0b677c1ca6d0b034d91281d2f3">&#9670;&nbsp;</a></span>ubifs_wbuf_seek_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_seek_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_seek_nolock - seek write-buffer. : write-buffer : logical eraseblock number to seek to : logical eraseblock offset to seek to</p>
<p>This function targets the write-buffer to logical eraseblock :. The write-buffer has to be empty. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph.png" border="0" usemap="#ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph" alt=""/></div>
<map name="ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph" id="ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="219,5,300,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph.png" border="0" usemap="#ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph" alt=""/></div>
<map name="ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph" id="ubifs_8h_a4bf09b0b677c1ca6d0b034d91281d2f3_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="219,331,335,357"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="983,259,1089,285"/>
<area shape="rect" id="node48" href="replay_8c.html#a97be9f73808264e97b7d04f6c0a5f8a1" title="set_bud_lprops" alt="" coords="221,388,332,415"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="393,331,489,357"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="548,331,720,357"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="773,309,921,336"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="768,372,925,399"/>
<area shape="rect" id="node40" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1005,309,1067,336"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1147,259,1272,285"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1338,537,1454,564"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1327,69,1465,96"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1325,208,1467,235"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1333,132,1459,159"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1336,259,1456,285"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1334,12,1458,39"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1323,791,1469,817"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1320,309,1472,336"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1550,360,1641,387"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1549,613,1642,640"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1554,715,1637,741"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1557,512,1634,539"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1550,411,1641,437"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1552,461,1639,488"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1551,765,1640,792"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1547,563,1643,589"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1544,664,1647,691"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1726,360,1834,387"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1889,816,2023,843"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1732,715,1828,741"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1737,259,1823,285"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1906,183,2006,209"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1546,56,1645,83"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1723,56,1837,83"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1730,5,1830,32"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1909,5,2003,32"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1534,208,1657,235"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1520,157,1671,184"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1719,157,1841,184"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1727,107,1833,133"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1731,867,1829,893"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1547,309,1644,336"/>
<area shape="rect" id="node41" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1147,309,1272,336"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="989,461,1083,488"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="973,360,1099,387"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1333,664,1459,691"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1155,461,1264,488"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1148,360,1271,387"/>
<area shape="rect" id="node49" href="replay_8c.html#aea8b4d31b0a8679471a5c522361034f6" title="set_buds_lprops" alt="" coords="383,400,500,427"/>
<area shape="rect" id="node50" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="565,425,703,452"/>
</map>
</div>

</div>
</div>
<a id="a3e6d29ad192528c05f246cd31a1732fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6d29ad192528c05f246cd31a1732fb">&#9670;&nbsp;</a></span>ubifs_wbuf_sync_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_sync_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_sync_nolock - synchronize write-buffer. : write-buffer to synchronize</p>
<p>This function synchronizes write-buffer  and returns zero in case of success or a negative error code in case of failure.</p>
<p>Note, although write-buffers are of <code></code>-&gt;max_write_size, this function does not necessarily writes all <code></code>-&gt;max_write_size bytes to the flash. Instead, if the write-buffer is only partially filled with data, only the used part of the write-buffer (aligned on <code></code>-&gt;min_io_size boundary) is synchronized. This way we waste less space. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_cgraph.png" border="0" usemap="#ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_cgraph" alt=""/></div>
<map name="ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_cgraph" id="ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="219,135,395,162"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1011,287,1092,314"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="267,287,346,314"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="252,186,361,212"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="816,8,935,35"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="445,135,547,162"/>
<area shape="rect" id="node23" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1015,1503,1087,1530"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="443,186,549,212"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="605,1174,732,1200"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="597,34,740,60"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="833,110,918,136"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="621,84,716,111"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="805,642,945,668"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="803,692,947,719"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="834,743,917,770"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="832,794,919,820"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="835,844,916,871"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="808,895,943,922"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="815,946,936,972"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="812,996,939,1023"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="813,1047,937,1074"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="795,1098,955,1124"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="811,1148,939,1175"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="813,287,937,314"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="813,338,937,364"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="810,1452,941,1479"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="806,1756,945,1783"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="819,1503,932,1530"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="815,1807,935,1834"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="810,1858,941,1884"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="813,1908,937,1935"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="810,1959,941,1986"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="818,2010,933,2036"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="812,388,939,415"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="805,439,946,466"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="818,1554,933,1580"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="801,540,949,567"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="798,1706,953,1732"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="812,1604,939,1631"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="790,591,961,618"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="802,1655,949,1682"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="817,2060,934,2087"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="819,2111,932,2138"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="801,490,950,516"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="819,1199,932,1226"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="788,1250,963,1276"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="822,1300,929,1327"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="820,1351,931,1378"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="805,1402,945,1428"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_icgraph.png" border="0" usemap="#ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_icgraph" alt=""/></div>
<map name="ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_icgraph" id="ubifs_8h_a3e6d29ad192528c05f246cd31a1732fb_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a7aaa5d9c13d5a1ec099306e70446376a" title="ubifs_bg_wbufs_sync" alt="" coords="219,69,367,95"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a74c2db86f03a3bcacb020be5daf7b74c" title="ubifs_sync_wbufs_by\l_inode" alt="" coords="219,677,367,719"/>
<area shape="rect" id="node10" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="235,119,351,146"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="589,170,761,197"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="814,525,962,551"/>
<area shape="rect" id="node14" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1024,575,1131,602"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="809,170,967,197"/>
<area shape="rect" id="node43" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1208,626,1293,653"/>
<area shape="rect" id="node44" href="misc_8h.html#af8fd16c04f42f2a56d86f0f7a4924ecc" title="ubifs_wbuf_sync" alt="" coords="233,347,353,374"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="831,221,945,247"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1031,271,1124,298"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1015,221,1140,247"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1196,271,1305,298"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1189,221,1312,247"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a5ece0e1f31ec99e76c25f892ae129e66" title="ubifs_fsync" alt="" coords="433,685,523,711"/>
<area shape="rect" id="node11" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="430,119,526,146"/>
<area shape="rect" id="node38" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1047,423,1108,450"/>
<area shape="rect" id="node15" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1188,575,1313,602"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1379,347,1495,374"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1369,297,1506,323"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1366,677,1509,703"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1374,525,1501,551"/>
<area shape="rect" id="node33" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1377,626,1497,653"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1375,575,1499,602"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1365,727,1510,754"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1361,778,1513,805"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1591,322,1682,349"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1590,119,1683,146"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1595,271,1678,298"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1598,373,1675,399"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1591,423,1682,450"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1593,474,1680,501"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1592,170,1681,197"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1589,221,1685,247"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1585,69,1688,95"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1760,449,1847,475"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1575,677,1698,703"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1561,727,1712,754"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1583,525,1690,551"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1587,575,1687,602"/>
<area shape="rect" id="node39" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1188,423,1313,450"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1374,170,1501,197"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1570,18,1703,45"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="427,271,529,298"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="614,322,737,349"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="421,322,535,349"/>
<area shape="rect" id="node48" href="ubifs_2gc_8c.html#a2f4daf5146e689ec3841b9a9840658f4" title="gc_sync_wbufs" alt="" coords="421,221,535,247"/>
<area shape="rect" id="node49" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="632,373,719,399"/>
<area shape="rect" id="node50" href="lprops_8c.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="415,474,541,501"/>
</map>
</div>

</div>
</div>
<a id="a6ee6b209c593633d86570858d6e5ff51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee6b209c593633d86570858d6e5ff51">&#9670;&nbsp;</a></span>ubifs_wbuf_write_nolock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_wbuf_write_nolock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_wbuf_write_nolock - write data to flash via write-buffer. : write-buffer : node to write : node length</p>
<p>This function writes data to flash via write-buffer . This means that the last piece of the node won't reach the flash media immediately if it does not take whole max. write unit (<code></code>-&gt;max_write_size). Instead, the node will sit in RAM until the write-buffer is synchronized (e.g., by timer, or because more data are appended to the write-buffer).</p>
<p>This function returns zero in case of success and a negative error code in case of failure. If the node cannot be written because there is no more space in this logical eraseblock, %-ENOSPC is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_cgraph.png" border="0" usemap="#ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_cgraph" alt=""/></div>
<map name="ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_cgraph" id="ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1258,1107,1341,1134"/>
<area shape="rect" id="node3" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1100,119,1181,146"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#aeef91391de4e0f46023ab0afac3a2335" title="cancel_wbuf_timer_nolock" alt="" coords="219,588,395,615"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="252,639,361,666"/>
<area shape="rect" id="node35" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1105,1284,1177,1311"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a72790ff2f14d3cf772fc8e842ac0bff8" title="new_wbuf_timer_nolock" alt="" coords="443,43,605,70"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="890,955,1014,982"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="250,1107,363,1134"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="893,94,1011,120"/>
<area shape="rect" id="node7" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="473,296,575,323"/>
<area shape="rect" id="node40" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="471,220,577,247"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="675,524,802,551"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="667,144,810,171"/>
<area shape="rect" id="node38" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="909,144,995,171"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="691,296,786,323"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="882,803,1022,830"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="880,296,1024,323"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="911,347,993,374"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="909,398,995,424"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="911,448,993,475"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="885,499,1019,526"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1080,752,1201,779"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="889,702,1015,728"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="890,904,1014,931"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="872,600,1032,627"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="888,651,1016,678"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="890,246,1014,272"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="890,195,1014,222"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="887,1006,1017,1032"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="883,752,1021,779"/>
<area shape="rect" id="node16" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1262,854,1337,880"/>
<area shape="rect" id="node17" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1260,904,1339,931"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1249,702,1349,728"/>
<area shape="rect" id="node19" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1260,752,1339,779"/>
<area shape="rect" id="node20" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1259,803,1340,830"/>
<area shape="rect" id="node22" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1103,803,1178,830"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1103,1056,1178,1083"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1089,955,1192,982"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1093,1006,1188,1032"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1080,854,1201,880"/>
<area shape="rect" id="node29" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1081,904,1201,931"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1258,1056,1341,1083"/>
<area shape="rect" id="node44" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="481,1183,567,1210"/>
<area shape="rect" id="node50" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="671,1107,806,1134"/>
<area shape="rect" id="node45" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="679,1360,798,1387"/>
<area shape="rect" id="node46" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="671,1158,806,1184"/>
<area shape="rect" id="node47" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="682,955,795,982"/>
<area shape="rect" id="node48" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="682,1259,795,1286"/>
<area shape="rect" id="node49" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="653,1208,824,1235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_icgraph.png" border="0" usemap="#ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_icgraph" alt=""/></div>
<map name="ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_icgraph" id="ubifs_8h_a6ee6b209c593633d86570858d6e5ff51_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a007c1b86e6d577ada4c13e4f6f2307d3" title="move_node" alt="" coords="219,296,308,323"/>
<area shape="rect" id="node49" href="ubifs_2journal_8c.html#a7285ba71f1d541318b61943bcc8e756f" title="write_node" alt="" coords="361,169,447,196"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#a6b58fdc3cf3fe2765984565c1b77d21e" title="write_head" alt="" coords="1107,259,1192,285"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="356,321,452,348"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="500,328,672,355"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="720,328,868,355"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1071,715,1228,741"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="916,284,1023,311"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="939,335,1000,361"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1087,208,1212,235"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1294,512,1410,539"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1283,56,1421,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1281,157,1423,184"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1289,208,1415,235"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1292,259,1412,285"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1290,107,1414,133"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1279,715,1425,741"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1276,309,1428,336"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1506,360,1597,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1505,613,1598,640"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1510,765,1593,792"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1513,512,1590,539"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1506,411,1597,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1508,461,1595,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1507,715,1596,741"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1503,563,1599,589"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1500,664,1603,691"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1682,537,1790,564"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1859,771,1993,797"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2055,745,2128,772"/>
<area shape="rect" id="node13" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1845,537,2007,564"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1688,765,1784,792"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1693,259,1779,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1876,233,1976,260"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1502,5,1601,32"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1679,5,1793,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1686,56,1786,83"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1879,56,1973,83"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1490,157,1613,184"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1476,107,1627,133"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1675,107,1797,133"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1683,208,1789,235"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1687,867,1785,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1503,309,1600,336"/>
<area shape="rect" id="node43" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1087,335,1212,361"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1305,867,1399,893"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1289,765,1415,792"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1289,664,1415,691"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1497,917,1606,944"/>
</map>
</div>

</div>
</div>
<a id="a18dd7f158ea38355047d1718f7f01ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dd7f158ea38355047d1718f7f01ecd">&#9670;&nbsp;</a></span>ubifs_write_master()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_write_master </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_write_master - write master node. <code></code>: UBIFS file-system description object</p>
<p>This function writes the master node. Returns zero in case of success and a negative error code in case of failure. The master node is written twice to enable recovery. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_cgraph.png" border="0" usemap="#ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_cgraph" alt=""/></div>
<map name="ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_cgraph" id="ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="361,1339,481,1366"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="185,1618,305,1645"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="909,1542,1027,1569"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="536,1289,649,1315"/>
<area shape="rect" id="node27" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1125,605,1197,631"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="715,1542,822,1569"/>
<area shape="rect" id="node5" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="705,883,832,910"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="697,1390,840,1417"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="898,681,1038,707"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="896,731,1040,758"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="927,782,1009,809"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="925,833,1011,859"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="927,883,1009,910"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="901,934,1035,961"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="907,985,1029,1011"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1098,365,1225,391"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1099,1187,1223,1214"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="888,1289,1048,1315"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="904,1339,1032,1366"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="906,1390,1030,1417"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="906,1441,1030,1467"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="903,1035,1033,1062"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="899,275,1037,302"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="911,1086,1025,1113"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="908,1238,1028,1265"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1096,1415,1227,1442"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="906,326,1030,353"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="903,377,1033,403"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="911,427,1025,454"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="905,478,1031,505"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="897,529,1039,555"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="911,225,1025,251"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="894,1187,1042,1214"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="891,579,1045,606"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="905,630,1031,657"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1298,1086,1373,1113"/>
<area shape="rect" id="node16" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1298,1289,1373,1315"/>
<area shape="rect" id="node18" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1284,1238,1387,1265"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1288,1137,1383,1163"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1275,1339,1396,1366"/>
<area shape="rect" id="node21" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1275,1187,1395,1214"/>
<area shape="rect" id="node17" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1444,1517,1527,1543"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1099,1238,1223,1265"/>
<area shape="rect" id="node43" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="925,1593,1011,1619"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="353,1618,488,1645"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="366,1441,475,1467"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="546,1593,639,1619"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="553,1643,632,1670"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="541,1390,644,1417"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_icgraph.png" border="0" usemap="#ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_icgraph" alt=""/></div>
<map name="ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_icgraph" id="ubifs_8h_a18dd7f158ea38355047d1718f7f01ecd_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1137,107,1231,133"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1121,157,1247,184"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="385,56,508,83"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="204,208,319,235"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="185,157,337,184"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1333,5,1443,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1536,5,1629,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1327,56,1449,83"/>
<area shape="rect" id="node10" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="403,157,490,184"/>
<area shape="rect" id="node11" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="563,157,674,184"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="556,284,681,311"/>
<area shape="rect" id="node12" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="924,157,1039,184"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="741,309,843,336"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="735,208,849,235"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="903,208,1060,235"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="919,1019,1044,1045"/>
<area shape="rect" id="node45" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="729,360,855,387"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1121,309,1247,336"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1516,715,1649,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1341,259,1435,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1347,360,1429,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1343,309,1433,336"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1340,411,1436,437"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1337,461,1439,488"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1539,360,1626,387"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1126,487,1242,513"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1115,1120,1253,1147"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1113,1221,1255,1248"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1121,208,1247,235"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1124,259,1244,285"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1122,1171,1246,1197"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1111,1019,1257,1045"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1108,1069,1260,1096"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1343,563,1433,589"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1349,613,1427,640"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1343,664,1433,691"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1345,512,1431,539"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1339,1120,1437,1147"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1533,1120,1633,1147"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1327,1272,1449,1299"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1313,1221,1463,1248"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1335,107,1441,133"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1339,1019,1437,1045"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1339,1069,1437,1096"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1115,639,1253,665"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1327,816,1449,843"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1331,867,1445,893"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1348,917,1428,944"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1308,765,1468,792"/>
</map>
</div>

</div>
</div>
<a id="a9e7d0e6c9720849101273f76bce7071c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7d0e6c9720849101273f76bce7071c">&#9670;&nbsp;</a></span>ubifs_write_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_write_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_write_node - write node to the media. <code></code>: UBIFS file-system description object : the node to write : node length : logical eraseblock number : offset within the logical eraseblock</p>
<p>This function automatically fills node magic number, assigns sequence number, and calculates node CRC checksum. The length of the  buffer has to be aligned to the minimal I/O unit size. This function automatically appends padding node and padding bytes if needed. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_cgraph.png" border="0" usemap="#ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_cgraph" alt=""/></div>
<map name="ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_cgraph" id="ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1262,296,1345,323"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="173,1335,308,1361"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="186,1157,295,1184"/>
<area shape="rect" id="node41" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="909,397,1033,424"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="361,1335,454,1361"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="368,1487,447,1513"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="935,1309,1007,1336"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="525,1284,631,1311"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="735,1309,820,1336"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="718,1259,837,1285"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="356,1157,459,1184"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="515,676,641,703"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="507,1132,649,1159"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="531,1233,625,1260"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="707,955,847,981"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="705,1005,849,1032"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="736,1056,819,1083"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="734,1107,821,1133"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="737,1157,818,1184"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="710,195,845,221"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1084,93,1205,120"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="907,752,1034,779"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="909,448,1033,475"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="697,245,857,272"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="713,296,841,323"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="715,347,839,373"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="715,397,839,424"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="712,1208,843,1235"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="708,448,847,475"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="721,803,834,829"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="717,499,837,525"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="905,195,1036,221"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="715,600,839,627"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="712,651,843,677"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="720,701,835,728"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="714,752,841,779"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="707,853,848,880"/>
<area shape="rect" id="node20" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1266,220,1341,247"/>
<area shape="rect" id="node21" href="key_8h.html#a4a12b97ed78e138baf7886a6df7ed50f" title="key_inum" alt="" coords="1264,68,1343,95"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#ad6af0af711fdb082f6df4eaeb4d82fe6" title="get_key_type" alt="" coords="1253,119,1353,145"/>
<area shape="rect" id="node23" href="key_8h.html#acddf1ca88d72a37e06c5c608cd084656" title="key_hash" alt="" coords="1264,169,1343,196"/>
<area shape="rect" id="node24" href="key_8h.html#a10c13375b52dbb12be6f9b685d1d1ba7" title="key_block" alt="" coords="1263,17,1344,44"/>
<area shape="rect" id="node26" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1107,524,1182,551"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1107,473,1182,500"/>
<area shape="rect" id="node30" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1093,321,1196,348"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1097,372,1192,399"/>
<area shape="rect" id="node32" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1084,144,1205,171"/>
<area shape="rect" id="node33" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1085,423,1205,449"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a0137ecd738390d71f938f27be78c4477" title="dbg_gtype" alt="" coords="1262,473,1345,500"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_icgraph.png" border="0" usemap="#ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_icgraph" alt=""/></div>
<map name="ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_icgraph" id="ubifs_8h_a9e7d0e6c9720849101273f76bce7071c_icgraph">
<area shape="rect" id="node2" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="189,516,328,542"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="392,442,540,469"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="788,620,920,646"/>
<area shape="rect" id="node49" href="sb_8c.html#a040c1c48545e70934b5e832f59366339" title="create_default_filesystem" alt="" coords="173,718,344,745"/>
<area shape="rect" id="node3" href="ubifs_2orphan_8c.html#a365284641be3156ee80bedc11f8ab9c1" title="write_orph_node" alt="" coords="407,509,525,536"/>
<area shape="rect" id="node4" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="602,506,726,533"/>
<area shape="rect" id="node5" href="ubifs_2orphan_8c.html#ae8a0b1be63e1c45b74980bdea27e37da" title="commit_orphans" alt="" coords="795,505,913,532"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a85394180871fe6a819b8312c7c01f865" title="ubifs_orphan_end_commit" alt="" coords="968,493,1143,520"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1221,544,1308,570"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1394,518,1505,545"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1387,569,1512,596"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1560,581,1717,608"/>
<area shape="rect" id="node16" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1576,341,1701,368"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1795,746,1888,773"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1779,645,1904,672"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1986,746,2095,773"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2164,746,2257,773"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1979,696,2102,722"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1783,341,1899,368"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1773,442,1910,469"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1770,544,1913,570"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1778,594,1905,621"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1781,62,1901,89"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1779,189,1903,216"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1769,240,1914,266"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1765,290,1917,317"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1995,290,2086,317"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1994,341,2087,368"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1999,392,2082,418"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2002,442,2079,469"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1995,37,2086,64"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1997,88,2084,114"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1996,138,2085,165"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1993,189,2089,216"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1989,240,2092,266"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2167,189,2254,216"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1991,493,2090,520"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1979,594,2102,621"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1965,544,2116,570"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1987,645,2094,672"/>
<area shape="rect" id="node40" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="606,392,722,418"/>
<area shape="rect" id="node44" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1396,341,1503,368"/>
<area shape="rect" id="node41" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="806,392,902,418"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="969,392,1141,418"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1191,341,1339,368"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#aad3435b0a495a23bcdcae895da4bf976" title="ubifs_remount_ro" alt="" coords="1203,696,1326,722"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#ae2f59fbee4bf3523cc44fbe10cc38917" title="ubifs_put_super" alt="" coords="998,544,1113,570"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="979,594,1131,621"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="588,772,740,798"/>
</map>
</div>

</div>
</div>
<a id="ade432ff9351ac85efcb9cf0094d7b157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade432ff9351ac85efcb9cf0094d7b157">&#9670;&nbsp;</a></span>ubifs_write_rcvrd_mst_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_write_rcvrd_mst_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_write_rcvrd_mst_node - write the recovered master node. <code></code>: UBIFS file-system description object</p>
<p>This function writes the master node that was recovered during mounting in read-only mode and must now be written because we are remounting rw.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_cgraph.png" border="0" usemap="#ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_cgraph" alt=""/></div>
<map name="ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_cgraph" id="ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_cgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="239,108,389,135"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="437,57,572,84"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="443,159,566,185"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="631,57,725,84"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="639,7,717,33"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1197,1400,1269,1427"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="802,108,909,135"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1019,83,1105,109"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1003,133,1121,160"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="620,209,736,236"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="792,1071,919,1097"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="784,209,927,236"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="992,437,1132,464"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="990,488,1134,515"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1021,539,1103,565"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1019,589,1105,616"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1021,640,1103,667"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="995,691,1129,717"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1001,741,1123,768"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="999,792,1125,819"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1000,843,1124,869"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="982,893,1142,920"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="998,944,1126,971"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1000,995,1124,1021"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1000,1045,1124,1072"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="997,1957,1127,1984"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="993,1147,1131,1173"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1005,2008,1119,2035"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1002,1248,1122,1275"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="997,1299,1127,1325"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1000,1349,1124,1376"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="997,1400,1127,1427"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1005,1451,1119,1477"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="999,1501,1125,1528"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="991,1552,1133,1579"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1005,184,1119,211"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="988,1653,1136,1680"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="985,235,1139,261"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="999,285,1125,312"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="977,1704,1147,1731"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="989,336,1135,363"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1003,387,1121,413"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="1005,1096,1119,1123"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="987,1197,1137,1224"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="1005,1603,1119,1629"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="975,1755,1149,1781"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="1009,1805,1115,1832"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="1007,1856,1117,1883"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="992,1907,1132,1933"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_icgraph.png" border="0" usemap="#ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_icgraph" alt=""/></div>
<map name="ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_icgraph" id="ubifs_8h_ade432ff9351ac85efcb9cf0094d7b157_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="239,56,365,83"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="239,157,365,184"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="419,5,541,32"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="413,56,547,83"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="433,107,527,133"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="439,157,521,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="435,208,525,235"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="432,259,528,285"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="429,309,531,336"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="606,56,679,83"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="595,132,691,159"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="599,183,686,209"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="739,183,839,209"/>
</map>
</div>

</div>
</div>
<a id="a9695fcc75ffa07efff2111b02ebd89c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9695fcc75ffa07efff2111b02ebd89c3">&#9670;&nbsp;</a></span>ubifs_write_sb_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_write_sb_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__sb__node.html">ubifs_sb_node</a> *&#160;</td>
          <td class="paramname"><em>sup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_write_sb_node - write superblock node. <code></code>: UBIFS file-system description object : superblock node read with '<a class="el" href="sb_8c.html#a5aea8a0dedc50e5d3693a4961c3c494d">ubifs_read_sb_node()</a>'</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_cgraph.png" border="0" usemap="#ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_cgraph" alt=""/></div>
<map name="ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_cgraph" id="ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="195,58,329,84"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="201,159,323,186"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="389,58,482,84"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="396,7,475,34"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="955,1654,1027,1680"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="559,108,666,135"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="777,83,862,110"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="760,134,879,160"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="377,210,493,236"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="549,1096,676,1123"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="541,210,684,236"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="749,438,889,464"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="747,488,891,515"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="778,539,861,566"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="776,590,863,616"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="779,640,860,667"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="752,691,887,718"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="759,742,880,768"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="756,792,883,819"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="757,843,881,870"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="739,894,899,920"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="755,944,883,971"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="757,995,881,1022"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="757,1046,881,1072"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="754,1907,885,1934"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="750,1147,889,1174"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="763,1958,876,1984"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="759,1248,879,1275"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="754,1299,885,1326"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="757,1350,881,1376"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="754,1400,885,1427"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="762,1451,877,1478"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="756,1502,883,1528"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="749,1552,890,1579"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="762,2008,877,2035"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="745,1603,893,1630"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="742,2059,897,2086"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="756,184,883,211"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="734,1704,905,1731"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="746,235,893,262"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="761,286,878,312"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="763,336,876,363"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="745,387,894,414"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="763,1096,876,1123"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="732,1198,907,1224"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="766,1654,873,1680"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="764,1755,875,1782"/>
<area shape="rect" id="node48" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="749,1806,889,1832"/>
<area shape="rect" id="node49" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="743,1856,895,1883"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_icgraph.png" border="0" usemap="#ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_icgraph" alt=""/></div>
<map name="ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_icgraph" id="ubifs_8h_a9695fcc75ffa07efff2111b02ebd89c3_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="405,5,531,32"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a92995d9363effd044b46c432911fd7c6" title="ubifs_read_superblock" alt="" coords="200,107,352,133"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a7bacccbb99ed3d3f67a20cac2ac99990" title="ubifs_fixup_free_space" alt="" coords="198,56,354,83"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a79b22b1f088c88c40e019e23efb61e0a" title="ubifs_enable_encryption" alt="" coords="195,164,357,191"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="581,5,703,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="421,56,515,83"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="587,56,697,83"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="773,49,867,76"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a9831447969acb35c927f7530bc47158e" title="ubifs_ioctl" alt="" coords="427,176,509,203"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="579,201,705,228"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="753,100,887,127"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="773,151,867,177"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="779,201,861,228"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="775,252,865,279"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="772,303,868,329"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="769,353,871,380"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="946,100,1019,127"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="935,176,1031,203"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="939,227,1026,253"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1079,227,1179,253"/>
</map>
</div>

</div>
</div>
<a id="adc7f16a5925850bf7a2213ebdc967f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc7f16a5925850bf7a2213ebdc967f53">&#9670;&nbsp;</a></span>ubifs_xattr_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t ubifs_xattr_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_cgraph.png" border="0" usemap="#ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_cgraph" alt=""/></div>
<map name="ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_cgraph" id="ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_cgraph">
<area shape="rect" id="node2" href="key_8h.html#adcb63f144ee365e6e61a1afc86e741e1" title="xent_key_init" alt="" coords="161,620,260,647"/>
<area shape="rect" id="node4" href="tnc_8c.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="308,645,453,672"/>
<area shape="rect" id="node26" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="173,1044,249,1071"/>
<area shape="rect" id="node31" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="741,1601,783,1628"/>
<area shape="rect" id="node41" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="718,867,806,893"/>
<area shape="rect" id="node3" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="355,595,406,621"/>
<area shape="rect" id="node5" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="515,639,635,665"/>
<area shape="rect" id="node22" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="522,372,629,399"/>
<area shape="rect" id="node6" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="703,563,821,589"/>
<area shape="rect" id="node7" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="885,284,1021,311"/>
<area shape="rect" id="node12" href="key_8h.html#a391b7c6e47045b125899fd494b93b2ed" title="is_hash_key" alt="" coords="1291,461,1385,488"/>
<area shape="rect" id="node14" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="875,436,1031,463"/>
<area shape="rect" id="node15" href="tnc_8c.html#a74144891470c972de07b035100bdba69" title="fallible_read_node" alt="" coords="1090,411,1217,437"/>
<area shape="rect" id="node16" href="tnc__misc_8c.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="1082,625,1225,652"/>
<area shape="rect" id="node17" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b" title="ubifs_get_wbuf" alt="" coords="1283,713,1393,740"/>
<area shape="rect" id="node21" href="tnc_8c.html#abd5f32bdeedb5786676c542035310ccc" title="maybe_leb_gced" alt="" coords="893,588,1013,615"/>
<area shape="rect" id="node8" href="key_8h.html#a06f47822510ef850cb7065778115453c" title="key_type" alt="" coords="1448,436,1523,463"/>
<area shape="rect" id="node9" href="tnc__misc_8c.html#a59f2b6d42e83b9a23712bb251112eb1b" title="ubifs_load_znode" alt="" coords="1092,309,1215,336"/>
<area shape="rect" id="node10" href="tnc__misc_8c.html#a795e1a9542770ea482f128ed03e6a87f" title="ubifs_search_zbranch" alt="" coords="1079,208,1228,235"/>
<area shape="rect" id="node11" href="key_8h.html#a6395510bfa3e62eff60652c9624180e1" title="keys_cmp" alt="" coords="1297,183,1379,209"/>
<area shape="rect" id="node13" href="tnc_8c.html#ad078bd3a3bb09883e602d4c2add8267e" title="tnc_prev" alt="" coords="1117,107,1189,133"/>
<area shape="rect" id="node20" href="tnc_8c.html#a54dade5f765b017d5533820732fb00b5" title="lnc_add" alt="" coords="1120,512,1187,539"/>
<area shape="rect" id="node18" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1302,1019,1374,1045"/>
<area shape="rect" id="node19" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1276,625,1400,652"/>
<area shape="rect" id="node23" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="703,107,821,133"/>
<area shape="rect" id="node24" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="897,487,1008,513"/>
<area shape="rect" id="node25" href="tnc_8c.html#aa6a0a93befc7348c0e11ee3a038d8d81" title="tnc_next" alt="" coords="917,5,989,32"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="341,1044,420,1071"/>
<area shape="rect" id="node28" href="inode_8c.html#a2e4fab3a29971a7bc96043a5dbcd77a3" title="iget_locked" alt="" coords="531,1424,619,1451"/>
<area shape="rect" id="node42" href="key_8h.html#a60df8426bc46e1074661d077542ea933" title="ino_key_init" alt="" coords="530,1196,621,1223"/>
<area shape="rect" id="node43" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="538,1247,613,1273"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#ab61ad4dbcab172deeedbd764f1e3b663" title="validate_inode" alt="" coords="523,993,628,1020"/>
<area shape="rect" id="node46" href="inode_8c.html#aa992afd465d948c7fca769d396933c98" title="init_special_inode" alt="" coords="513,1095,638,1121"/>
<area shape="rect" id="node47" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="501,841,649,868"/>
<area shape="rect" id="node48" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="697,1247,827,1273"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="512,892,639,919"/>
<area shape="rect" id="node50" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="535,1297,616,1324"/>
<area shape="rect" id="node29" href="inode_8c.html#aa1822403d896f1040c371de082022045" title="hash" alt="" coords="737,1500,787,1527"/>
<area shape="rect" id="node30" href="inode_8c.html#ac03034148530fde7bcb803bec96556fc" title="find_inode_fast" alt="" coords="707,1297,817,1324"/>
<area shape="rect" id="node37" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="1287,1652,1389,1679"/>
<area shape="rect" id="node38" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="883,1221,1022,1248"/>
<area shape="rect" id="node39" href="inode_8c.html#a6328f7a2621c5365a1df969e8c7ab998" title="alloc_inode" alt="" coords="719,1399,805,1425"/>
<area shape="rect" id="node40" href="inode_8c.html#a1871c58d9c393006e24f7fea1bcc288d" title="inode_sb_list_add" alt="" coords="699,1449,825,1476"/>
<area shape="rect" id="node32" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="915,1652,990,1679"/>
<area shape="rect" id="node33" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1102,1652,1205,1679"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1094,1703,1213,1729"/>
<area shape="rect" id="node35" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1092,1601,1215,1628"/>
<area shape="rect" id="node36" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1128,1753,1179,1780"/>
<area shape="rect" id="node44" href="inode_8c.html#a3988783ee2de89674d83e4e86080d792" title="clear_nlink" alt="" coords="720,1145,804,1172"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_icgraph.png" border="0" usemap="#ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_icgraph" alt=""/></div>
<map name="ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_icgraph" id="ubifs_8h_adc7f16a5925850bf7a2213ebdc967f53_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#aed8808755ba0bc84198b8ddc11f6f17e" title="xattr_get" alt="" coords="205,5,279,32"/>
<area shape="rect" id="node3" href="ubifs_2crypto_8c.html#a1be1406026170efd0b6b0c542f2e71b9" title="ubifs_crypt_get_context" alt="" coords="161,56,323,83"/>
</map>
</div>

</div>
</div>
<a id="a2c0f8e28d408b8e89b4ce7d6047af912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0f8e28d408b8e89b4ce7d6047af912">&#9670;&nbsp;</a></span>ubifs_xattr_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_xattr_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_cgraph.png" border="0" usemap="#ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_cgraph" alt=""/></div>
<map name="ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_cgraph" id="ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_cgraph">
<area shape="rect" id="node2" href="key_8h.html#adcb63f144ee365e6e61a1afc86e741e1" title="xent_key_init" alt="" coords="541,107,639,133"/>
<area shape="rect" id="node4" href="tnc_8c.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="310,2184,455,2211"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="165,1069,255,1096"/>
<area shape="rect" id="node31" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="569,2083,611,2109"/>
<area shape="rect" id="node47" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="172,1931,248,1957"/>
<area shape="rect" id="node49" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="161,487,259,513"/>
<area shape="rect" id="node3" href="block__dev_8c.html#a79868b6f75989a03b1ad72c771d39cc1" title="hash" alt="" coords="787,132,838,159"/>
<area shape="rect" id="node5" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="530,2133,650,2160"/>
<area shape="rect" id="node9" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="759,2184,866,2211"/>
<area shape="rect" id="node6" href="tnc_8c.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="754,2133,871,2160"/>
<area shape="rect" id="node7" href="tnc_8c.html#a2004703a60d098f1644d4f3e25338759" title="ubifs_lookup_level0" alt="" coords="962,2133,1098,2160"/>
<area shape="rect" id="node8" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="952,2184,1108,2211"/>
<area shape="rect" id="node10" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="971,2235,1089,2261"/>
<area shape="rect" id="node12" href="misc_8h.html#a1d3fdeae8e4ff85d7b3581a96bb4ef49" title="ubifs_inode" alt="" coords="769,1677,857,1704"/>
<area shape="rect" id="node13" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="777,1069,849,1096"/>
<area shape="rect" id="node14" href="budget_8c.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="313,411,452,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a1492bd8c5ac3be76470004b3c0f53672" title="ubifs_new_inode" alt="" coords="323,1500,442,1527"/>
<area shape="rect" id="node27" href="inode_8c.html#ab2eaca3b9ec87b9dd6568776059cb715" title="current_time" alt="" coords="765,259,860,285"/>
<area shape="rect" id="node29" href="ubifs_2ioctl_8c.html#a710028854a0cfc73a5d2d5b4e1b6417f" title="ubifs_set_inode_flags" alt="" coords="516,1829,664,1856"/>
<area shape="rect" id="node30" href="bad__inode_8c.html#ab9cc2af6161530b35e5f86e29f977033" title="make_bad_inode" alt="" coords="530,259,650,285"/>
<area shape="rect" id="node35" href="ubifs_2journal_8c.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="325,816,441,843"/>
<area shape="rect" id="node46" href="budget_8c.html#afb4a050131358f08985939fa532bc694" title="ubifs_release_budget" alt="" coords="310,487,455,513"/>
<area shape="rect" id="node15" href="budget_8c.html#ae7fb821f0bda60b202ba1bd7b8445634" title="calc_data_growth" alt="" coords="528,411,652,437"/>
<area shape="rect" id="node16" href="budget_8c.html#ad59159f2a92429bd81d6bcb530d7c5c5" title="calc_dd_growth" alt="" coords="533,461,647,488"/>
<area shape="rect" id="node17" href="budget_8c.html#ac3fe021e20fd3d248577fe5d2623ad96" title="calc_idx_growth" alt="" coords="532,512,648,539"/>
<area shape="rect" id="node18" href="budget_8c.html#a2defe97e005967f0deab94271d273ff1" title="can_use_rp" alt="" coords="768,31,857,57"/>
<area shape="rect" id="node19" href="budget_8c.html#ae0376da215ef10226bf8949db1efe446" title="do_budget_space" alt="" coords="528,5,652,32"/>
<area shape="rect" id="node20" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="527,309,653,336"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a05379a3e5d4223a7821ec80d3606a6e6" title="ubifs_crypt_is_encrypted" alt="" coords="507,1677,673,1704"/>
<area shape="rect" id="node23" href="keyinfo_8c.html#a7621dfa0cb2b35172414c30b08e5aedd" title="fscrypt_get_encryption_info" alt="" coords="721,1500,904,1527"/>
<area shape="rect" id="node24" href="inode_8c.html#ae03a9f08d4efbf91ff44e29c1369314e" title="new_inode" alt="" coords="771,1753,855,1780"/>
<area shape="rect" id="node26" href="inode_8c.html#a40f590a020642f6d9ba3746bafb4c158" title="inode_init_owner" alt="" coords="753,1424,872,1451"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#af421ba8f84237c60650c4ba802aca119" title="inherit_flags" alt="" coords="544,1576,636,1603"/>
<area shape="rect" id="node33" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="770,1221,855,1248"/>
<area shape="rect" id="node34" href="policy_8c.html#a20f5eb52a46f0c3e8ca3bb4c4ccd3cc3" title="fscrypt_inherit_context" alt="" coords="513,1475,667,1501"/>
<area shape="rect" id="node25" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="961,1564,1099,1591"/>
<area shape="rect" id="node32" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="775,2083,850,2109"/>
<area shape="rect" id="node36" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="527,1019,653,1045"/>
<area shape="rect" id="node37" href="key_8h.html#af6c98e329576050823b946c32e2f5803" title="dent_key_init_hash" alt="" coords="523,664,657,691"/>
<area shape="rect" id="node38" href="key_8h.html#a790e865fe08d05015cea5a1651759af3" title="dent_key_init" alt="" coords="541,563,639,589"/>
<area shape="rect" id="node39" href="key_8h.html#a1b58cdc042da655c7bbf0fce057b413c" title="key_write" alt="" coords="551,715,629,741"/>
<area shape="rect" id="node40" href="ubifs_2journal_8c.html#a1d4a541700f9d4bf038cadbf4e097454" title="get_dent_type" alt="" coords="538,765,642,792"/>
<area shape="rect" id="node41" href="ubifs_2journal_8c.html#a9a7b991169dcd5003fd4ccd4dbe0a199" title="set_dent_cookie" alt="" coords="531,816,649,843"/>
<area shape="rect" id="node42" href="ubifs_2journal_8c.html#ae4ece295a2679c7b5d2b9ddf9b553dd4" title="zero_dent_node_unused" alt="" coords="509,867,671,893"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#a9d5677a6fb9ba9810931ab381e9ca3e3" title="ubifs_prep_grp_node" alt="" coords="741,791,884,817"/>
<area shape="rect" id="node44" href="ubifs_2journal_8c.html#af33a1a0e7af2c23d625797b7d30a09fe" title="pack_inode" alt="" coords="546,968,634,995"/>
<area shape="rect" id="node45" href="ubifs_2orphan_8c.html#acb45f2ae734e577bef2f6ffd715069aa" title="ubifs_add_orphan" alt="" coords="528,917,652,944"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="343,1931,422,1957"/>
<area shape="rect" id="node50" href="ubifs_2journal_8c.html#ac2a925546250edb0d98c2bd2cc71fb9e" title="ubifs_jnl_change_xattr" alt="" coords="307,993,459,1020"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_icgraph.png" border="0" usemap="#ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_icgraph" alt=""/></div>
<map name="ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_icgraph" id="ubifs_8h_a2c0f8e28d408b8e89b4ce7d6047af912_icgraph">
<area shape="rect" id="node2" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="175,5,309,32"/>
<area shape="rect" id="node3" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="371,31,444,57"/>
<area shape="rect" id="node4" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="161,107,323,133"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2e1e13663906d49587b861ae988c2cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1e13663906d49587b861ae988c2cbc">&#9670;&nbsp;</a></span>fmt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char const char* fmt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a86384dbfb3dd5f529a8fe0611e4b6fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86384dbfb3dd5f529a8fe0611e4b6fe5">&#9670;&nbsp;</a></span>ubifs_clean_zn_cnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">atomic_long_t ubifs_clean_zn_cnt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac75647d6f5b2abf960af6798e2c4778a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac75647d6f5b2abf960af6798e2c4778a">&#9670;&nbsp;</a></span>ubifs_compressors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__compressor.html">ubifs_compressor</a>* ubifs_compressors[<a class="el" href="ubifs-media_8h.html#a573524f0aaecc08138bf58c6451d02fbacf145e107d3ffaa6bacf05dc36eee62a">UBIFS_COMPR_TYPES_CNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e28b8920864f95c8cf0b6157097c59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e28b8920864f95c8cf0b6157097c59f">&#9670;&nbsp;</a></span>ubifs_crypt_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct fscrypt_operations ubifs_crypt_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e4fd18756e8e075e810d1f7c7d09cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e4fd18756e8e075e810d1f7c7d09cff">&#9670;&nbsp;</a></span>ubifs_dir_inode_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct inode_operations ubifs_dir_inode_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b74444e0e793068768e676737e52584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b74444e0e793068768e676737e52584">&#9670;&nbsp;</a></span>ubifs_dir_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations ubifs_dir_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a32a80557a0edc949f508284fc9232dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a80557a0edc949f508284fc9232dda">&#9670;&nbsp;</a></span>ubifs_file_address_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct address_space_operations ubifs_file_address_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7fe659a54c4dbe590d672d4282ef828c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe659a54c4dbe590d672d4282ef828c">&#9670;&nbsp;</a></span>ubifs_file_inode_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct inode_operations ubifs_file_inode_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e554d253dc3f7171e8756d8bffb4579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e554d253dc3f7171e8756d8bffb4579">&#9670;&nbsp;</a></span>ubifs_file_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct file_operations ubifs_file_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acee929d58ee5ba3a3d85abb7ba02fa23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acee929d58ee5ba3a3d85abb7ba02fa23">&#9670;&nbsp;</a></span>ubifs_infos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct list_head ubifs_infos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa75c08908b60a45e5487d510f234596d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75c08908b60a45e5487d510f234596d">&#9670;&nbsp;</a></span>ubifs_infos_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">spinlock_t ubifs_infos_lock</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a205293f550ea7be41ebb0df13dce0985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205293f550ea7be41ebb0df13dce0985">&#9670;&nbsp;</a></span>ubifs_super_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct super_operations ubifs_super_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2c907d36de0c987a28928cb1213e2976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c907d36de0c987a28928cb1213e2976">&#9670;&nbsp;</a></span>ubifs_symlink_inode_operations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct inode_operations ubifs_symlink_inode_operations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6966257572498b1566f6eb518749d82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6966257572498b1566f6eb518749d82">&#9670;&nbsp;</a></span>ubifs_xattr_handlers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct xattr_handler* ubifs_xattr_handlers[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="ubifs_8h.html">ubifs.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
