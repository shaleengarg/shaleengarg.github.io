<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/log.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ubifs_2log_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for log.c:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c__incl.png" border="0" usemap="#ubifs_2log_8c" alt=""/></div>
<map name="ubifs_2log_8c" id="ubifs_2log_8c">
<area shape="rect" id="node2" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1225,80,1287,107"/>
<area shape="rect" id="node20" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node22" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node23" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdone__ref.html">done_ref</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9946e005124ad49c46176066a55105fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa">dbg_check_bud_bytes</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a9946e005124ad49c46176066a55105fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356501925fe3150a487dcc7ba555520e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a356501925fe3150a487dcc7ba555520e">ubifs_search_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:a356501925fe3150a487dcc7ba555520e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9dc523cdf72cfa612382b02651778b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#adb9dc523cdf72cfa612382b02651778b">ubifs_get_wbuf</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int lnum)</td></tr>
<tr class="separator:adb9dc523cdf72cfa612382b02651778b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd7859b83714ed7d9692cf92a391fd9"><td class="memItemLeft" align="right" valign="top">static long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a3dd7859b83714ed7d9692cf92a391fd9">empty_log_bytes</a> (const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a3dd7859b83714ed7d9692cf92a391fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3366b2b2350ca5e120af4be6f2e67b79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79">ubifs_add_bud</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *bud)</td></tr>
<tr class="separator:a3366b2b2350ca5e120af4be6f2e67b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b30a0dc99186d8f07ee2f47693f11b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a8b30a0dc99186d8f07ee2f47693f11b7">ubifs_add_bud_to_log</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int jhead, int lnum, int offs)</td></tr>
<tr class="separator:a8b30a0dc99186d8f07ee2f47693f11b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5014480a8dd06adad3de568a191081"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a1c5014480a8dd06adad3de568a191081">remove_buds</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a1c5014480a8dd06adad3de568a191081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabacb52b14ebf81d602c26b57622cd7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#aabacb52b14ebf81d602c26b57622cd7a">ubifs_log_start_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int *ltail_lnum)</td></tr>
<tr class="separator:aabacb52b14ebf81d602c26b57622cd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cc48bfb09ca4270d8d3f953441e201"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a68cc48bfb09ca4270d8d3f953441e201">ubifs_log_end_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int ltail_lnum)</td></tr>
<tr class="separator:a68cc48bfb09ca4270d8d3f953441e201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84e11c018b891280acfdb1e3071d5e18"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a84e11c018b891280acfdb1e3071d5e18">ubifs_log_post_commit</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int old_ltail_lnum)</td></tr>
<tr class="separator:a84e11c018b891280acfdb1e3071d5e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86b56d1757907d172445b182d4efa18f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a86b56d1757907d172445b182d4efa18f">done_already</a> (struct rb_root *done_tree, int lnum)</td></tr>
<tr class="separator:a86b56d1757907d172445b182d4efa18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12277f34b31eb94de6993e30262aae1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#ad12277f34b31eb94de6993e30262aae1">destroy_done_tree</a> (struct rb_root *done_tree)</td></tr>
<tr class="separator:ad12277f34b31eb94de6993e30262aae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4343dd62151d2ba9c062f6f1cebc3c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c">add_node</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, void *buf, int *lnum, int *offs, void *node)</td></tr>
<tr class="separator:a6f4343dd62151d2ba9c062f6f1cebc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e2a784a2060ee8ca565097ed7ae2bcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ubifs_2log_8c.html#a2e2a784a2060ee8ca565097ed7ae2bcf">ubifs_consolidate_log</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a2e2a784a2060ee8ca565097ed7ae2bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6f4343dd62151d2ba9c062f6f1cebc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4343dd62151d2ba9c062f6f1cebc3c">&#9670;&nbsp;</a></span>add_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>add_node - add a node to the consolidated log. <code></code>: UBIFS file-system description object : buffer to which to add : LEB number to which to write is passed and returned here : offset to where to write is passed and returned here : node to add</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_cgraph.png" border="0" usemap="#ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_cgraph" id="ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_cgraph">
<area shape="rect" id="node2" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="163,31,242,57"/>
<area shape="rect" id="node3" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="141,81,264,108"/>
<area shape="rect" id="node50" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="132,132,273,159"/>
<area shape="rect" id="node4" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="704,5,823,32"/>
<area shape="rect" id="node5" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="321,56,437,83"/>
<area shape="rect" id="node21" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="899,1323,971,1349"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="326,107,433,133"/>
<area shape="rect" id="node6" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="493,1044,620,1071"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="485,56,628,83"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="693,411,833,437"/>
<area shape="rect" id="node8" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="691,461,835,488"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="722,512,805,539"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="720,563,807,589"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="723,613,804,640"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="696,664,831,691"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="703,715,824,741"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="700,765,827,792"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="701,816,825,843"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="683,867,843,893"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="699,917,827,944"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="701,968,825,995"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="701,1019,825,1045"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="698,1323,829,1349"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="694,1728,833,1755"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="707,1373,820,1400"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="703,1779,823,1805"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="698,1829,829,1856"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="701,1880,825,1907"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="698,1931,829,1957"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="706,1981,821,2008"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="700,2032,827,2059"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="693,157,834,184"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="706,1424,821,1451"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="689,309,837,336"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="686,1475,841,1501"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="700,1525,827,1552"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="678,360,849,387"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="690,1576,837,1603"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="705,1627,822,1653"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a0326c90a004af4486c5ad1dbc25baf29" title="dbg_check_ltab" alt="" coords="707,1677,820,1704"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ab2f0c34c5385c6b4af6f326fac750a70" title="dbg_chk_lpt_free_spc" alt="" coords="689,107,838,133"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a8743b404fd4536a6f2212846f55854d0" title="dbg_chk_lpt_sz" alt="" coords="707,208,820,235"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ad20ad974aa8f10603e2468787760af65" title="dbg_check_synced_i_size" alt="" coords="676,259,851,285"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#ae64cd5f4e9b71d0d2167e1f8dafd9cd0" title="dbg_check_dir" alt="" coords="710,1069,817,1096"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="708,1120,819,1147"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a6f442c5e8d297e33d3bdaea0887419e6" title="dbg_check_idx_size" alt="" coords="693,1171,833,1197"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="687,1221,839,1248"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="703,1272,823,1299"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="721,56,806,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_icgraph.png" border="0" usemap="#ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_icgraph" id="ubifs_2log_8c_a6f4343dd62151d2ba9c062f6f1cebc3c_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="132,31,279,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="343,5,436,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="327,56,452,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="507,5,616,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="671,5,764,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="500,56,623,83"/>
</map>
</div>

</div>
</div>
<a id="a9946e005124ad49c46176066a55105fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9946e005124ad49c46176066a55105fa">&#9670;&nbsp;</a></span>dbg_check_bud_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dbg_check_bud_bytes </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>dbg_check_bud_bytes - make sure bud bytes calculation are all right. <code></code>: UBIFS file-system description object</p>
<p>This function makes sure the amount of flash space used by closed buds ('c-&gt;bud_bytes' is correct). Returns zero in case of success and %-EINVAL in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_cgraph.png" border="0" usemap="#ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_cgraph" id="ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="205,5,321,32"/>
<area shape="rect" id="node3" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="227,56,299,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_icgraph.png" border="0" usemap="#ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_icgraph" id="ubifs_2log_8c_a9946e005124ad49c46176066a55105fa_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="205,259,363,285"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a9cc055011c36deb7c78dc10c2c5d24f7" title="ubifs_log_end_commit" alt="" coords="208,309,360,336"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="411,284,497,311"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="553,221,663,248"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="545,309,671,336"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="913,183,1028,209"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1127,132,1220,159"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1111,183,1236,209"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1323,5,1432,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1316,56,1439,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="730,385,833,412"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="724,233,839,260"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="892,233,1049,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="908,1120,1033,1147"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="719,335,844,361"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1110,233,1237,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1520,664,1653,691"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1331,157,1424,184"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1336,309,1419,336"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1333,208,1422,235"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1329,259,1425,285"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1326,360,1429,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1543,968,1630,995"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1115,385,1231,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1105,1272,1242,1299"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1102,1323,1245,1349"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1110,1171,1237,1197"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1113,1120,1233,1147"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1111,1221,1235,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1101,968,1246,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1097,1069,1249,1096"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1332,512,1423,539"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1339,563,1416,589"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1332,411,1423,437"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1334,461,1421,488"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1328,1272,1427,1299"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1537,1221,1637,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1316,1323,1439,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1302,1373,1453,1400"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1324,1171,1431,1197"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1328,917,1427,944"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1329,1069,1426,1096"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1104,588,1243,615"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1316,765,1439,792"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1321,816,1434,843"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1337,867,1417,893"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1297,664,1457,691"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1531,613,1642,640"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1505,715,1668,741"/>
</map>
</div>

</div>
</div>
<a id="ad12277f34b31eb94de6993e30262aae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12277f34b31eb94de6993e30262aae1">&#9670;&nbsp;</a></span>destroy_done_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void destroy_done_tree </td>
          <td>(</td>
          <td class="paramtype">struct rb_root *&#160;</td>
          <td class="paramname"><em>done_tree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>destroy_done_tree - destroy the done tree. : done tree to destroy </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_ad12277f34b31eb94de6993e30262aae1_icgraph.png" border="0" usemap="#ubifs_2log_8c_ad12277f34b31eb94de6993e30262aae1_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_ad12277f34b31eb94de6993e30262aae1_icgraph" id="ubifs_2log_8c_ad12277f34b31eb94de6993e30262aae1_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="183,31,329,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="393,5,487,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="377,56,503,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="557,5,667,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="721,5,815,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="551,56,673,83"/>
</map>
</div>

</div>
</div>
<a id="a86b56d1757907d172445b182d4efa18f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86b56d1757907d172445b182d4efa18f">&#9670;&nbsp;</a></span>done_already()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int done_already </td>
          <td>(</td>
          <td class="paramtype">struct rb_root *&#160;</td>
          <td class="paramname"><em>done_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>done_already - determine if a reference has been done already. : rb-tree to store references that have been done : LEB number of reference</p>
<p>This function returns %1 if the reference has been done, %0 if not, otherwise a negative error code is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a86b56d1757907d172445b182d4efa18f_icgraph.png" border="0" usemap="#ubifs_2log_8c_a86b56d1757907d172445b182d4efa18f_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a86b56d1757907d172445b182d4efa18f_icgraph" id="ubifs_2log_8c_a86b56d1757907d172445b182d4efa18f_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="152,31,299,57"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="363,5,456,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="347,56,472,83"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="527,5,636,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="691,5,784,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="520,56,643,83"/>
</map>
</div>

</div>
</div>
<a id="a3dd7859b83714ed7d9692cf92a391fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd7859b83714ed7d9692cf92a391fd9">&#9670;&nbsp;</a></span>empty_log_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static long long empty_log_bytes </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>empty_log_bytes - calculate amount of empty space in the log. <code></code>: UBIFS file-system description object </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a3dd7859b83714ed7d9692cf92a391fd9_icgraph.png" border="0" usemap="#ubifs_2log_8c_a3dd7859b83714ed7d9692cf92a391fd9_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a3dd7859b83714ed7d9692cf92a391fd9_icgraph" id="ubifs_2log_8c_a3dd7859b83714ed7d9692cf92a391fd9_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="175,385,323,412"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="371,411,487,437"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1095,360,1201,387"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="535,411,631,437"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="679,411,851,437"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="899,411,1047,437"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1249,765,1407,792"/>
<area shape="rect" id="node43" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1117,411,1179,437"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1265,309,1391,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1473,537,1589,564"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1462,19,1599,45"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1459,157,1602,184"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1467,791,1594,817"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1471,360,1591,387"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1469,81,1593,108"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1458,309,1603,336"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1455,233,1607,260"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1685,259,1775,285"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1683,613,1777,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1689,765,1771,792"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1691,461,1769,488"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1685,512,1775,539"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1687,411,1773,437"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1685,715,1775,741"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1682,563,1778,589"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1679,664,1781,691"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1861,259,1969,285"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2038,309,2171,336"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2233,284,2307,311"/>
<area shape="rect" id="node14" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="2024,208,2185,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1867,765,1963,792"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1871,715,1958,741"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2055,791,2155,817"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1681,5,1779,32"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1858,5,1971,32"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1865,56,1965,83"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2057,56,2152,83"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1669,107,1791,133"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1655,157,1805,184"/>
<area shape="rect" id="node34" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1853,157,1976,184"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1861,867,1968,893"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1865,309,1964,336"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1681,208,1779,235"/>
<area shape="rect" id="node44" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1265,411,1391,437"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1484,867,1577,893"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1468,968,1593,995"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1467,715,1594,741"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1675,917,1785,944"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1669,968,1791,995"/>
</map>
</div>

</div>
</div>
<a id="a1c5014480a8dd06adad3de568a191081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5014480a8dd06adad3de568a191081">&#9670;&nbsp;</a></span>remove_buds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void remove_buds </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>remove_buds - remove used buds. <code></code>: UBIFS file-system description object</p>
<p>This function removes use buds from the buds tree. It does not remove the buds which are pointed to by journal heads. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_cgraph.png" border="0" usemap="#ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_cgraph" id="ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="153,5,235,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_icgraph.png" border="0" usemap="#ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_icgraph" id="ubifs_2log_8c_a1c5014480a8dd06adad3de568a191081_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="153,247,311,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="359,247,445,273"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="501,184,611,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="493,272,619,299"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="861,145,976,172"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1075,120,1168,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1059,171,1184,197"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1271,5,1380,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1264,56,1387,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="678,196,781,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="672,297,787,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="840,233,997,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="856,1171,981,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="667,399,792,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1058,233,1185,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1468,436,1601,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1279,208,1372,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1284,157,1367,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1281,259,1370,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1277,309,1373,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1274,360,1377,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1491,816,1578,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1063,385,1179,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1053,1412,1190,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1050,1272,1193,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1058,1348,1185,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1061,1171,1181,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1059,1221,1183,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1049,968,1194,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1045,1120,1197,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1280,411,1371,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1287,461,1364,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1280,512,1371,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1282,563,1369,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1276,1424,1375,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1485,1221,1585,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1264,1323,1387,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1250,1272,1401,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1272,1373,1379,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1276,867,1375,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1277,1120,1374,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1052,613,1191,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1264,664,1387,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1269,715,1382,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1285,765,1365,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1245,968,1405,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1479,917,1590,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1453,993,1616,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1291,613,1359,640"/>
</map>
</div>

</div>
</div>
<a id="a3366b2b2350ca5e120af4be6f2e67b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3366b2b2350ca5e120af4be6f2e67b79">&#9670;&nbsp;</a></span>ubifs_add_bud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ubifs_add_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a> *&#160;</td>
          <td class="paramname"><em>bud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_bud - add bud LEB to the tree of buds and its journal head list. <code></code>: UBIFS file-system description object : the bud to add </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_cgraph.png" border="0" usemap="#ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_cgraph" id="ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_cgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="160,5,241,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_icgraph.png" border="0" usemap="#ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_icgraph" id="ubifs_2log_8c_a3366b2b2350ca5e120af4be6f2e67b79_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="160,537,308,564"/>
<area shape="rect" id="node48" href="replay_8c.html#a03c5c9cac39f739f5e6167f08cf5d95b" title="add_replay_bud" alt="" coords="357,639,471,665"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="356,537,472,564"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="1108,461,1215,488"/>
<area shape="rect" id="node4" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="525,537,621,564"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="673,537,845,564"/>
<area shape="rect" id="node6" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="898,512,1046,539"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="893,587,1051,613"/>
<area shape="rect" id="node41" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="1131,512,1192,539"/>
<area shape="rect" id="node8" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1272,461,1397,488"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1463,385,1579,412"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1453,664,1590,691"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1450,765,1593,792"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1458,35,1585,61"/>
<area shape="rect" id="node35" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1461,113,1581,140"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1459,816,1583,843"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1449,588,1594,615"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1445,221,1597,248"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1675,157,1766,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1674,563,1767,589"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1679,411,1762,437"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1682,208,1759,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1675,259,1766,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1677,309,1764,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1676,360,1765,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1673,461,1769,488"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1669,512,1772,539"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1851,157,1959,184"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2015,613,2148,640"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1857,411,1953,437"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1862,56,1949,83"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2031,31,2131,57"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1671,715,1770,741"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1849,715,1962,741"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1855,841,1955,868"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="2034,841,2129,868"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1659,816,1782,843"/>
<area shape="rect" id="node31" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1645,765,1796,792"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1844,765,1967,792"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1852,5,1959,32"/>
<area shape="rect" id="node38" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1856,664,1955,691"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1672,107,1769,133"/>
<area shape="rect" id="node43" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1115,664,1208,691"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1099,613,1224,640"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1458,512,1585,539"/>
<area shape="rect" id="node44" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1280,867,1389,893"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1475,867,1568,893"/>
<area shape="rect" id="node49" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="520,643,625,669"/>
<area shape="rect" id="node50" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="691,655,828,681"/>
</map>
</div>

</div>
</div>
<a id="a8b30a0dc99186d8f07ee2f47693f11b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b30a0dc99186d8f07ee2f47693f11b7">&#9670;&nbsp;</a></span>ubifs_add_bud_to_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_add_bud_to_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>jhead</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_add_bud_to_log - add a new bud to the log. <code></code>: UBIFS file-system description object : journal head the bud belongs to : LEB number of the bud : starting offset of the bud</p>
<p>This function writes reference node for the new bud LEB  it to the log, and adds it to the buds tress. It also makes sure that log size does not exceed the 'c-&gt;max_bud_bytes' limit. Returns zero in case of success, %-EAGAIN if commit is required, and a negative error codes in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph.png" border="0" usemap="#ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph" id="ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a3dd7859b83714ed7d9692cf92a391fd9" title="empty_log_bytes" alt="" coords="226,5,347,32"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a6e9dcff4b0f768c14f6f8448f4b1343e" title="ubifs_commit_required" alt="" coords="210,56,363,83"/>
<area shape="rect" id="node5" href="ubifs_2commit_8c.html#a6c27328fd39184ba2e1bdfa1970275e7" title="ubifs_request_bg_commit" alt="" coords="201,107,372,133"/>
<area shape="rect" id="node7" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="216,157,357,184"/>
<area shape="rect" id="node8" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="427,867,547,893"/>
<area shape="rect" id="node42" href="ubifs_2io_8c.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="434,1069,541,1096"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="227,1221,347,1248"/>
<area shape="rect" id="node50" href="ubifs_2log_8c.html#a3366b2b2350ca5e120af4be6f2e67b79" title="ubifs_add_bud" alt="" coords="782,208,889,235"/>
<area shape="rect" id="node4" href="ubifs_2debug_8c.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="444,56,531,83"/>
<area shape="rect" id="node6" href="misc_8h.html#adb074744f746423579a917e286726a65" title="ubifs_wake_up_bgt" alt="" coords="420,107,555,133"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="975,1221,1094,1248"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="603,867,716,893"/>
<area shape="rect" id="node34" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1190,1247,1262,1273"/>
<area shape="rect" id="node41" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="782,1221,889,1248"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="772,765,899,792"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="764,1019,907,1045"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="965,1019,1105,1045"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="963,360,1107,387"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="993,411,1076,437"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="991,461,1078,488"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="994,512,1075,539"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="967,563,1102,589"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="974,765,1095,792"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1163,1019,1289,1045"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1164,715,1288,741"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="955,816,1115,843"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="971,867,1099,893"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="973,309,1097,336"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="973,613,1097,640"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="969,1120,1100,1147"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="965,968,1104,995"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="978,917,1091,944"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="975,715,1095,741"/>
<area shape="rect" id="node20" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1361,892,1435,919"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1361,740,1435,767"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1347,639,1449,665"/>
<area shape="rect" id="node25" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1351,689,1445,716"/>
<area shape="rect" id="node26" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1337,791,1459,817"/>
<area shape="rect" id="node27" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1338,841,1458,868"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1507,1095,1589,1121"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1185,309,1267,336"/>
<area shape="rect" id="node37" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1164,765,1288,792"/>
<area shape="rect" id="node40" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="992,1272,1077,1299"/>
<area shape="rect" id="node43" href="ubifs_2debug_8c.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="610,968,709,995"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="420,1323,555,1349"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="433,1221,542,1248"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="613,1323,706,1349"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="620,1475,699,1501"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="608,1019,711,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph.png" border="0" usemap="#ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph" id="ubifs_2log_8c_a8b30a0dc99186d8f07ee2f47693f11b7_icgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="201,461,317,488"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="925,512,1032,539"/>
<area shape="rect" id="node3" href="ubifs_2gc_8c.html#ad0088bd16e6b85c2c28124046ab839d7" title="move_nodes" alt="" coords="365,461,461,488"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="509,461,681,488"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="729,461,877,488"/>
<area shape="rect" id="node45" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1080,157,1237,184"/>
<area shape="rect" id="node42" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="948,461,1009,488"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1096,765,1221,792"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1303,385,1419,412"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1293,961,1430,988"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1290,1019,1433,1045"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1298,841,1425,868"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1301,765,1421,792"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1299,904,1423,931"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1289,664,1434,691"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1285,715,1437,741"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1515,512,1606,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1514,360,1607,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1519,157,1602,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1522,563,1599,589"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1515,411,1606,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1517,461,1604,488"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1516,208,1605,235"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1513,259,1609,285"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1509,309,1612,336"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1691,613,1799,640"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1869,563,2002,589"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2064,613,2137,640"/>
<area shape="rect" id="node13" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1855,613,2016,640"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1697,157,1793,184"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1702,689,1789,716"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1885,727,1985,753"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1511,968,1610,995"/>
<area shape="rect" id="node27" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1689,968,1802,995"/>
<area shape="rect" id="node28" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1695,917,1795,944"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1888,917,1983,944"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1499,1019,1622,1045"/>
<area shape="rect" id="node32" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1485,1069,1636,1096"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1684,1069,1807,1096"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1692,803,1799,829"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1511,664,1610,691"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1512,715,1609,741"/>
<area shape="rect" id="node43" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1096,461,1221,488"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1292,461,1431,488"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1315,31,1408,57"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1299,107,1424,133"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1298,208,1425,235"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1506,5,1615,32"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1499,56,1622,83"/>
</map>
</div>

</div>
</div>
<a id="a2e2a784a2060ee8ca565097ed7ae2bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e2a784a2060ee8ca565097ed7ae2bcf">&#9670;&nbsp;</a></span>ubifs_consolidate_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_consolidate_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_consolidate_log - consolidate the log. <code></code>: UBIFS file-system description object</p>
<p>Repeated failed commits could cause the log to be full, but at least 1 LEB is needed for commit. This function rewrites the reference nodes in the log omitting duplicates, and failed CS nodes, and leaving no gaps.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph.png" border="0" usemap="#ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph" id="ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_cgraph">
<area shape="rect" id="node2" href="ubifs_2scan_8c.html#a1689915d09ec86f76b30ee598b10f34e" title="ubifs_scan" alt="" coords="582,395,667,421"/>
<area shape="rect" id="node5" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1185,331,1257,357"/>
<area shape="rect" id="node21" href="ubifs_2scan_8c.html#a7e559a0c70f1f17d0886f600cd59a639" title="ubifs_scan_destroy" alt="" coords="749,521,883,548"/>
<area shape="rect" id="node22" href="ubifs_2log_8c.html#a86b56d1757907d172445b182d4efa18f" title="done_already" alt="" coords="215,825,314,852"/>
<area shape="rect" id="node23" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="225,673,304,700"/>
<area shape="rect" id="node24" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="409,673,487,700"/>
<area shape="rect" id="node25" href="ubifs_2io_8c.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="387,623,509,649"/>
<area shape="rect" id="node47" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="377,724,519,751"/>
<area shape="rect" id="node48" href="ubifs_2log_8c.html#ad12277f34b31eb94de6993e30262aae1" title="destroy_done_tree" alt="" coords="200,876,329,903"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="388,775,508,801"/>
<area shape="rect" id="node3" href="ubifs_2scan_8c.html#ac9e61563282a3ab80fa1947e24f1726e" title="ubifs_start_scan" alt="" coords="757,369,875,396"/>
<area shape="rect" id="node6" href="ubifs_2scan_8c.html#ab974ec909e594f54f7773880688a2334" title="ubifs_scan_a_node" alt="" coords="749,91,883,117"/>
<area shape="rect" id="node17" href="ubifs_2scan_8c.html#a582c1d1b35a0fe0cd1d73f2f88adaa67" title="ubifs_add_snod" alt="" coords="759,471,873,497"/>
<area shape="rect" id="node19" href="ubifs_2scan_8c.html#a7a20ae4d7200218e4b1b4ce3cd803b21" title="ubifs_end_scan" alt="" coords="759,268,873,295"/>
<area shape="rect" id="node20" href="ubifs_2scan_8c.html#a18197e05567059efbb981ebe037255bb" title="ubifs_scanned_corruption" alt="" coords="731,420,901,447"/>
<area shape="rect" id="node4" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="976,369,1083,396"/>
<area shape="rect" id="node7" href="ubifs_2scan_8c.html#a93a80ae9e3252efb52d991f4abc7152a" title="scan_padding_bytes" alt="" coords="959,116,1100,143"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1501,97,1584,124"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab9b2f0cc24eff9f69bd606979eb3a53e" title="ubifs_check_node" alt="" coords="966,65,1093,92"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1159,280,1283,307"/>
<area shape="rect" id="node11" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1355,229,1430,256"/>
<area shape="rect" id="node12" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1341,381,1444,408"/>
<area shape="rect" id="node13" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1345,432,1440,459"/>
<area shape="rect" id="node14" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1355,508,1430,535"/>
<area shape="rect" id="node15" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1332,280,1453,307"/>
<area shape="rect" id="node16" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1333,331,1453,357"/>
<area shape="rect" id="node18" href="key_8h.html#af4813229a115f3590fe4d6dc91938244" title="invalid_key_init" alt="" coords="974,471,1085,497"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="970,673,1089,700"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="567,724,683,751"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="571,623,678,649"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="753,1079,879,1105"/>
<area shape="rect" id="node44" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="745,724,887,751"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="959,927,1099,953"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="957,977,1101,1004"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="988,1028,1071,1055"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="986,1079,1073,1105"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="989,1129,1070,1156"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="962,1180,1097,1207"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="969,1231,1090,1257"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1157,1028,1284,1055"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1159,381,1283,408"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="949,1281,1109,1308"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="965,1332,1093,1359"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="967,1383,1091,1409"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="967,1433,1091,1460"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="964,775,1095,801"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="960,876,1099,903"/>
<area shape="rect" id="node45" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="987,623,1072,649"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="568,876,681,903"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph.png" border="0" usemap="#ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph" id="ubifs_2log_8c_a2e2a784a2060ee8ca565097ed7ae2bcf_icgraph">
<area shape="rect" id="node2" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="216,5,309,32"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="200,56,325,83"/>
<area shape="rect" id="node3" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="380,5,489,32"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="544,5,637,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="373,56,496,83"/>
</map>
</div>

</div>
</div>
<a id="adb9dc523cdf72cfa612382b02651778b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb9dc523cdf72cfa612382b02651778b">&#9670;&nbsp;</a></span>ubifs_get_wbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__wbuf.html">ubifs_wbuf</a>* ubifs_get_wbuf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_get_wbuf - get the wbuf associated with a LEB, if there is one. <code></code>: UBIFS file-system description object : logical eraseblock number to search</p>
<p>This functions returns the wbuf for  or NULL if there is not one. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_adb9dc523cdf72cfa612382b02651778b_icgraph.png" border="0" usemap="#ubifs_2log_8c_adb9dc523cdf72cfa612382b02651778b_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_adb9dc523cdf72cfa612382b02651778b_icgraph" id="ubifs_2log_8c_adb9dc523cdf72cfa612382b02651778b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a93e762f5309412966e944b237a2c03c3" title="ubifs_tnc_locate" alt="" coords="569,183,687,209"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ae7748d9645dfee9cdc9c0d62afd5a50d" title="ubifs_tnc_bulk_read" alt="" coords="166,69,305,96"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a9e631b2ac150afe245c06afae9abe5e4" title="ubifs_tnc_read_node" alt="" coords="164,335,307,361"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="760,108,883,135"/>
<area shape="rect" id="node10" href="misc_8h.html#af034d326935da469d5de92c07137b59a" title="ubifs_tnc_lookup" alt="" coords="761,233,881,260"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a20e75fbfb42bc7cfecf3b62ab3f12f8e" title="ubifs_recover_size" alt="" coords="1157,132,1288,159"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1353,81,1446,108"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1337,132,1462,159"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1336,233,1463,260"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1523,132,1632,159"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1511,335,1644,361"/>
<area shape="rect" id="node11" href="ubifs_2file_8c.html#aeee5ff7a0570c6d1848c3f72084a90d0" title="read_block" alt="" coords="985,31,1070,57"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ad09a32d85c773fd7364b69ee1f32b61c" title="ubifs_iget" alt="" coords="988,233,1067,260"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1161,740,1285,767"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8acd7162c6b75b30de6dc29c1f0f292a" title="ubifs_tnc_lookup_nm" alt="" coords="955,335,1100,361"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a387af0daafa698c00f2b6517b29d2e90" title="ubifs_tnc_lookup_dh" alt="" coords="957,284,1098,311"/>
<area shape="rect" id="node12" href="ubifs_2file_8c.html#aa7ade83a38277e48331dd486a2220328" title="do_readpage" alt="" coords="1175,31,1271,57"/>
<area shape="rect" id="node13" href="ubifs_2file_8c.html#a86938bc9dd8e47804a84e7065efa58ae" title="ubifs_readpage" alt="" coords="1344,5,1455,32"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#abec8724571fbcdfc2f68da711794f2c8" title="iget_xattr" alt="" coords="1185,284,1261,311"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8dc2bbda1e215c0244b42efb9a70f710" title="ubifs_lookup" alt="" coords="1175,335,1270,361"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1345,385,1453,412"/>
<area shape="rect" id="node17" href="ubifs_2xattr_8c.html#adc7f16a5925850bf7a2213ebdc967f53" title="ubifs_xattr_get" alt="" coords="1345,335,1453,361"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1349,740,1449,767"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#ad6186990c25e6b2dc7768ac1949bec83" title="ubifs_do_bulk_read" alt="" coords="561,37,695,64"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#aed7254246d1ac02f002c675f49b0e685" title="ubifs_bulk_read" alt="" coords="765,11,878,37"/>
<area shape="rect" id="node27" href="ubifs_2debug_8c.html#a5ffffda90e7c954ece8261620b832623" title="dbg_check_key_order" alt="" coords="358,588,507,615"/>
<area shape="rect" id="node39" href="ubifs_2debug_8c.html#ad130474a623d10708d65aefdb2123bdc" title="read_add_inode" alt="" coords="376,233,489,260"/>
<area shape="rect" id="node40" href="ubifs_2debug_8c.html#a9c0d09646abf04eeafbf97331a23df18" title="check_leaf" alt="" coords="585,233,671,260"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#ad00022ae71af7ef26c34bafe300f9b93" title="check_inodes" alt="" coords="381,335,484,361"/>
<area shape="rect" id="node43" href="ubifs_2orphan_8c.html#a3bcc409defd9b7e41bf0b057b5bc4a84" title="dbg_orphan_check" alt="" coords="367,664,498,691"/>
<area shape="rect" id="node45" href="tnc_8c.html#add8ba6d4ce8281dbb79e417150da8e4e" title="tnc_read_hashed_node" alt="" coords="355,385,511,412"/>
<area shape="rect" id="node49" href="tnc_8c.html#afbea7c5c3f1fb57489e50389104f26d8" title="matches_name" alt="" coords="377,487,488,513"/>
<area shape="rect" id="node28" href="ubifs_2debug_8c.html#a39ae5d2547e899a30e5f9bfe9acb40ba" title="dbg_check_znode" alt="" coords="565,639,691,665"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a8e749de733b483ca979984b8aa078aa6" title="dbg_check_tnc" alt="" coords="766,639,877,665"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="964,436,1091,463"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a0f9bccdd201d5b2525ba901e00ece03f" title="ubifs_tnc_add" alt="" coords="976,892,1079,919"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a57909b33c6b9924633e733ac7dd4cfc7" title="ubifs_tnc_replace" alt="" coords="965,841,1089,868"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a76f4b8ea4414cb096acbac0c4ae433c9" title="ubifs_tnc_add_nm" alt="" coords="1159,588,1287,615"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a1a35dc3d88f050a79040c66540d2885f" title="ubifs_tnc_remove" alt="" coords="965,689,1090,716"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a45f37bcb32fdd0e4c25fca00b7a66198" title="ubifs_tnc_remove_nm" alt="" coords="952,588,1103,615"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6bae0dd5ac22531cbdfe78042f3f3a7e" title="ubifs_tnc_remove_dh" alt="" coords="954,487,1101,513"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aba3e5b7438f8f8463357069869364077" title="ubifs_tnc_remove_range" alt="" coords="945,740,1109,767"/>
<area shape="rect" id="node38" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="948,791,1107,817"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#a731d5cfe8b5dfa819687b4924a384a35" title="dbg_check_filesystem" alt="" coords="745,284,897,311"/>
<area shape="rect" id="node44" href="ubifs_2orphan_8c.html#a2f13c2016ad8ba9571b62e2ae23f731f" title="dbg_check_orphans" alt="" coords="559,689,697,716"/>
<area shape="rect" id="node46" href="tnc_8c.html#a5b285d72aebec3db396b997bd896bb03" title="do_lookup_nm" alt="" coords="768,335,875,361"/>
<area shape="rect" id="node47" href="tnc_8c.html#a63fc44948a23cd401f725d74c0ffd761" title="search_dh_cookie" alt="" coords="565,385,691,412"/>
<area shape="rect" id="node48" href="ubifs_8h.html#aab11d1b085510e4c3a49e8ea79e84b14" title="ubifs_tnc_next_ent" alt="" coords="755,487,887,513"/>
<area shape="rect" id="node50" href="tnc_8c.html#aacbd9954b161bf32cc3317abd3080f83" title="resolve_collision" alt="" coords="569,537,687,564"/>
</map>
</div>

</div>
</div>
<a id="a68cc48bfb09ca4270d8d3f953441e201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68cc48bfb09ca4270d8d3f953441e201">&#9670;&nbsp;</a></span>ubifs_log_end_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_log_end_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ltail_lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_log_end_commit - end commit. <code></code>: UBIFS file-system description object : new log tail LEB number</p>
<p>This function is called on when the commit operation was finished. It moves log tail to new position and updates the master node so that it stores the new log tail LEB number. Returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_cgraph.png" border="0" usemap="#ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_cgraph" id="ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa" title="dbg_check_bud_bytes" alt="" coords="205,56,357,83"/>
<area shape="rect" id="node5" href="master_8c.html#a18dd7f158ea38355047d1718f7f01ecd" title="ubifs_write_master" alt="" coords="215,1145,347,1172"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="407,5,523,32"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1345,563,1417,589"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="581,1145,701,1172"/>
<area shape="rect" id="node45" href="ubifs_2io_8c.html#a5e156b540025dd2266e7f4c6c302356e" title="ubifs_write_node" alt="" coords="405,1500,525,1527"/>
<area shape="rect" id="node7" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1129,1424,1247,1451"/>
<area shape="rect" id="node8" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="756,1120,869,1147"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="935,1424,1042,1451"/>
<area shape="rect" id="node9" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="925,841,1052,868"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="917,1247,1060,1273"/>
<area shape="rect" id="node10" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1118,816,1258,843"/>
<area shape="rect" id="node11" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1116,867,1260,893"/>
<area shape="rect" id="node12" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1147,917,1229,944"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1145,968,1231,995"/>
<area shape="rect" id="node14" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1147,1019,1229,1045"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1121,1069,1255,1096"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1127,1120,1249,1147"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1318,1373,1445,1400"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1319,1272,1443,1299"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="1108,1171,1268,1197"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1124,1221,1252,1248"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1126,1272,1250,1299"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1126,259,1250,285"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1123,563,1253,589"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1119,309,1257,336"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1131,664,1245,691"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1128,765,1248,792"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1316,360,1447,387"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1126,360,1250,387"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1123,411,1253,437"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1131,461,1245,488"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1125,512,1251,539"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1117,715,1259,741"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1131,613,1245,640"/>
<area shape="rect" id="node18" href="key_8h.html#a5611c13d648e672825da064c90c8903a" title="key_read" alt="" coords="1518,1373,1593,1400"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a40190f9f60ac94040c30dbd97c73a3ca" title="dump_ch" alt="" coords="1518,1323,1593,1349"/>
<area shape="rect" id="node22" href="ubifs_2debug_8c.html#a4b30ad73e46b72b5043aa4efa7fb8d9a" title="get_key_hash" alt="" coords="1504,1272,1607,1299"/>
<area shape="rect" id="node23" href="ubifs_2debug_8c.html#af1196269cd9c24affacc60e33f960f49" title="get_key_fmt" alt="" coords="1508,1171,1603,1197"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1495,1120,1616,1147"/>
<area shape="rect" id="node25" href="misc_8h.html#a1598cadb907a20f9e5dc3e7ee74edb1d" title="ubifs_idx_branch" alt="" coords="1495,1221,1615,1248"/>
<area shape="rect" id="node21" href="ubifs_2debug_8c.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1664,1475,1747,1501"/>
<area shape="rect" id="node33" href="ubifs_2debug_8c.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1319,1221,1443,1248"/>
<area shape="rect" id="node43" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1145,1475,1231,1501"/>
<area shape="rect" id="node46" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="573,1500,708,1527"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="586,1323,695,1349"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="766,1475,859,1501"/>
<area shape="rect" id="node48" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="773,1525,852,1552"/>
<area shape="rect" id="node50" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="761,1221,864,1248"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_icgraph.png" border="0" usemap="#ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_icgraph" id="ubifs_2log_8c_a68cc48bfb09ca4270d8d3f953441e201_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="205,247,292,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="347,184,458,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="340,272,465,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="708,145,823,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="921,120,1015,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="905,171,1031,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1117,5,1227,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1335,5,1428,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1111,56,1233,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="525,196,627,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="519,297,633,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="687,233,844,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="703,1171,828,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="513,399,639,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="905,233,1031,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1315,436,1448,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1125,208,1219,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1131,157,1213,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1127,259,1217,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1124,309,1220,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1121,360,1223,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1338,816,1425,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="910,385,1026,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="899,1412,1037,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="897,1272,1039,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="905,1348,1031,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="908,1171,1028,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="906,1221,1030,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="895,968,1041,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="892,1120,1044,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1127,411,1217,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1133,461,1211,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1127,512,1217,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1129,563,1215,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1123,1424,1221,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1331,1221,1431,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1111,1323,1233,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1097,1272,1247,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1119,1373,1225,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1123,867,1221,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1123,1120,1221,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="899,613,1037,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1111,664,1233,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1115,715,1229,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1132,765,1212,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1092,968,1252,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1326,917,1437,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1300,993,1463,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1138,613,1206,640"/>
</map>
</div>

</div>
</div>
<a id="a84e11c018b891280acfdb1e3071d5e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84e11c018b891280acfdb1e3071d5e18">&#9670;&nbsp;</a></span>ubifs_log_post_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_log_post_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_ltail_lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_log_post_commit - things to do after commit is completed. <code></code>: UBIFS file-system description object : old log tail LEB number</p>
<p>Release buds only after commit is completed, because they must be unchanged if recovery is needed.</p>
<p>Unmap log LEBs only after commit is completed, because they may be needed for recovery.</p>
<p>This function returns %0 on success and a negative error code on failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_cgraph.png" border="0" usemap="#ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_cgraph" id="ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#a61ad06675d59063a2171172f8ba94c79" title="ubifs_return_leb" alt="" coords="223,1513,337,1540"/>
<area shape="rect" id="node17" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="209,1437,351,1464"/>
<area shape="rect" id="node18" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="601,1368,721,1395"/>
<area shape="rect" id="node3" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="399,1564,543,1591"/>
<area shape="rect" id="node4" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="603,1621,720,1648"/>
<area shape="rect" id="node5" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="780,1621,928,1648"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1395,1216,1467,1243"/>
<area shape="rect" id="node12" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="603,1672,719,1699"/>
<area shape="rect" id="node16" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="591,1571,732,1597"/>
<area shape="rect" id="node6" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1185,1520,1309,1547"/>
<area shape="rect" id="node8" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="987,1723,1107,1749"/>
<area shape="rect" id="node9" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="989,1571,1106,1597"/>
<area shape="rect" id="node10" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="989,1621,1106,1648"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="987,1672,1107,1699"/>
<area shape="rect" id="node13" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="801,1723,907,1749"/>
<area shape="rect" id="node14" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="1375,1545,1488,1572"/>
<area shape="rect" id="node15" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="793,1672,915,1699"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="1187,1419,1306,1445"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="797,1317,911,1344"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="801,1368,907,1395"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="984,709,1111,736"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="976,1317,1119,1344"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="1177,659,1317,685"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="1175,709,1319,736"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="1205,760,1288,787"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="1203,811,1290,837"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="1206,861,1287,888"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="1179,912,1314,939"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="1186,963,1307,989"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="1183,1013,1310,1040"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="1185,1064,1309,1091"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="1167,1115,1327,1141"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="1183,1165,1311,1192"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="1185,51,1309,77"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="1185,1317,1309,1344"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="1181,1216,1312,1243"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="1177,101,1316,128"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="1190,1267,1303,1293"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="1187,152,1307,179"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="1181,203,1312,229"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1185,304,1309,331"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1181,355,1312,381"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="1189,405,1304,432"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="1183,507,1310,533"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="1176,557,1317,584"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="1189,253,1304,280"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="1173,608,1321,635"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="1169,456,1324,483"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1204,1368,1289,1395"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_icgraph.png" border="0" usemap="#ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_icgraph" id="ubifs_2log_8c_a84e11c018b891280acfdb1e3071d5e18_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="209,247,296,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="351,184,462,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="344,272,469,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="712,145,827,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="925,120,1019,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="909,171,1035,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1121,5,1231,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1339,5,1432,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1115,56,1237,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="529,196,631,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="523,297,637,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="691,233,848,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="707,1171,832,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="517,399,643,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="909,233,1035,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1319,436,1452,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1129,208,1223,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1135,157,1217,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1131,259,1221,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1128,309,1224,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1125,360,1227,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1342,816,1429,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="914,385,1030,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="903,1412,1041,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="901,1272,1043,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="909,1348,1035,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="912,1171,1032,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="910,1221,1034,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="899,968,1045,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="896,1120,1048,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1131,411,1221,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1137,461,1215,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1131,512,1221,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1133,563,1219,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1127,1424,1225,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1335,1221,1435,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1115,1323,1237,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1101,1272,1251,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1123,1373,1229,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1127,867,1225,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1127,1120,1225,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="903,613,1041,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1115,664,1237,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1119,715,1233,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1136,765,1216,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1096,968,1256,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1330,917,1441,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1304,993,1467,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1142,613,1210,640"/>
</map>
</div>

</div>
</div>
<a id="aabacb52b14ebf81d602c26b57622cd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabacb52b14ebf81d602c26b57622cd7a">&#9670;&nbsp;</a></span>ubifs_log_start_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_log_start_commit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ltail_lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_log_start_commit - start commit. <code></code>: UBIFS file-system description object : return new log tail LEB number</p>
<p>The commit operation starts with writing "commit start" node to the log and reference nodes for all journal heads which will define new journal after the commit has been finished. The commit start and reference nodes are written in one go to the nearest empty log LEB (hence, when commit is finished UBIFS may safely unmap all the previous log LEBs). This function returns zero in case of success and a negative error code in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_cgraph.png" border="0" usemap="#ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_cgraph" alt=""/></div>
<map name="ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_cgraph" id="ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_cgraph">
<area shape="rect" id="node2" href="ubifs_2log_8c.html#a9946e005124ad49c46176066a55105fa" title="dbg_check_bud_bytes" alt="" coords="761,19,913,46"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#acfc2ca3ffa8d094855c2e59551f3a767" title="ubifs_prepare_node" alt="" coords="214,121,349,147"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#aa52d954c97cdff3426851893fbbcf91f" title="ubifs_pad" alt="" coords="417,121,496,147"/>
<area shape="rect" id="node10" href="ubifs_2debug_8c.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="988,1869,1069,1895"/>
<area shape="rect" id="node11" href="misc_8h.html#abf53e0ff9d9f9f6fefb9a9efbf709496" title="ubifs_next_log_lnum" alt="" coords="211,349,352,375"/>
<area shape="rect" id="node12" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="221,475,341,502"/>
<area shape="rect" id="node47" href="ubifs_2io_8c.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="227,298,336,325"/>
<area shape="rect" id="node50" href="ubifs_2log_8c.html#a1c5014480a8dd06adad3de568a191081" title="remove_buds" alt="" coords="407,1945,507,1971"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="971,197,1087,223"/>
<area shape="rect" id="node4" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="993,526,1065,553"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#a0b3f089c430db97bbc68e362dc7867c8" title="next_sqnum" alt="" coords="410,70,503,97"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="579,171,686,198"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="795,222,880,249"/>
<area shape="rect" id="node13" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="778,273,897,299"/>
<area shape="rect" id="node14" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="400,475,513,502"/>
<area shape="rect" id="node15" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="569,1007,696,1034"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="561,374,704,401"/>
<area shape="rect" id="node16" href="ubifs_2debug_8h.html#aed9c32fd77ce70a2d917ab58c56189c2" title="ubifs_debugging_init" alt="" coords="767,729,907,755"/>
<area shape="rect" id="node17" href="ubifs_2debug_8h.html#a1e62d7c391f555902a25f8060eb6f1ec" title="ubifs_debugging_exit" alt="" coords="765,779,909,806"/>
<area shape="rect" id="node18" href="ubifs_2debug_8h.html#a1bb9ed2a2e382da8b419ce5d2a772b81" title="dbg_ntype" alt="" coords="796,830,879,857"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#a615a670f26d4407b52175ce5f3faf594" title="dbg_cstate" alt="" coords="794,881,881,907"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#addcdbd9bce6753254851d6058f6de726" title="dbg_jhead" alt="" coords="797,931,878,958"/>
<area shape="rect" id="node21" href="ubifs_2debug_8h.html#a4184d82b0b2ff0fffc6ab3d4de4a1e7a" title="dbg_get_key_dump" alt="" coords="770,982,905,1009"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html#a33e36c49b5c19585e6cdb24955d1e937" title="dbg_snprintf_key" alt="" coords="777,1033,898,1059"/>
<area shape="rect" id="node23" href="ubifs_2debug_8h.html#a6ecc9bff59f14d28615ed14fa5323681" title="ubifs_dump_inode" alt="" coords="774,1083,901,1110"/>
<area shape="rect" id="node24" href="ubifs_2debug_8h.html#a21f9fd19dbd716216a94f656bba5e3e0" title="ubifs_dump_node" alt="" coords="775,1134,899,1161"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#acfcbe45894b3b41385c1f9891d57bb97" title="ubifs_dump_budget_req" alt="" coords="757,1185,917,1211"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ab351e7abb59edb97d57bd44dd83b0484" title="ubifs_dump_lstats" alt="" coords="773,1235,901,1262"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#aed811715f06c90d00e8bc83e9616e016" title="ubifs_dump_budg" alt="" coords="775,1843,899,1870"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ad04e55858b69b78f20ea8b0fb79f9f27" title="ubifs_dump_lprop" alt="" coords="775,1387,899,1414"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#a2fa0aeaaa556f0b13d098456ef7d86d4" title="ubifs_dump_lprops" alt="" coords="772,1337,903,1363"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#afc25fcc00c516fab54a12303d87bc100" title="ubifs_dump_lpt_info" alt="" coords="768,1438,907,1465"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#afa1952f7d3c2c791a330e3dc245c5a83" title="ubifs_dump_leb" alt="" coords="781,374,894,401"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#a454a80414a371832b3f68f828f6a6353" title="ubifs_dump_sleb" alt="" coords="777,1489,897,1515"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a56365d730ac6932bf3163a8ba7279779" title="ubifs_dump_znode" alt="" coords="772,1539,903,1566"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="775,1590,899,1617"/>
<area shape="rect" id="node35" href="ubifs_2debug_8h.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="772,1641,903,1667"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a6ad4e8a10c442517164e350787696d9d" title="ubifs_dump_tnc" alt="" coords="780,1691,895,1718"/>
<area shape="rect" id="node37" href="ubifs_2debug_8h.html#a1988de032288d9afc418a9f36c0e1a38" title="ubifs_dump_index" alt="" coords="774,1742,901,1769"/>
<area shape="rect" id="node38" href="ubifs_2debug_8h.html#a2dad580c9c3f21053039a854eb81bed2" title="ubifs_dump_lpt_lebs" alt="" coords="767,425,908,451"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#ac9540eb544441fb116e86f4799b55265" title="dbg_walk_index" alt="" coords="780,526,895,553"/>
<area shape="rect" id="node40" href="ubifs_2debug_8h.html#a42a0e664e63f651533d2a5abc23bf4da" title="dbg_save_space_info" alt="" coords="763,475,911,502"/>
<area shape="rect" id="node41" href="ubifs_2debug_8h.html#ace23cd2189dd2d7a9435ddd891e9beaa" title="dbg_check_space_info" alt="" coords="760,577,915,603"/>
<area shape="rect" id="node42" href="ubifs_2debug_8h.html#a69534405790cc12f492343243bc539a4" title="dbg_check_lprops" alt="" coords="774,678,901,705"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#a725dc62445ba29e272e4ccb5b10fbc61" title="dbg_old_index_check_init" alt="" coords="752,627,923,654"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a23369147b6e2214867a8a650ad50ebaf" title="dbg_check_old_index" alt="" coords="764,1286,911,1313"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="779,323,896,350"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="405,323,508,350"/>
<area shape="rect" id="node49" href="ubifs_2debug_8c.html#a90853c3e5be760b8c7d76c2d39fdb28c" title="corrupt_data" alt="" coords="585,323,680,350"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_icgraph.png" border="0" usemap="#ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_icgraph" id="ubifs_2log_8c_aabacb52b14ebf81d602c26b57622cd7a_icgraph">
<area shape="rect" id="node2" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="211,247,297,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="353,184,463,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="345,272,471,299"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="713,145,828,172"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="927,120,1020,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="911,171,1036,197"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1123,5,1232,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1340,5,1433,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1116,56,1239,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="530,196,633,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="524,297,639,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="692,233,849,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="708,1171,833,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="519,399,644,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="910,233,1037,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1320,436,1453,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1131,208,1224,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1136,157,1219,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1133,259,1222,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1129,309,1225,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1126,360,1229,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1343,816,1430,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="915,385,1031,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="905,1412,1042,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="902,1272,1045,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="910,1348,1037,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="913,1171,1033,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="911,1221,1035,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="901,968,1046,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="897,1120,1049,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1132,411,1223,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1139,461,1216,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1132,512,1223,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1134,563,1221,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1128,1424,1227,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1337,1221,1437,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1116,1323,1239,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1102,1272,1253,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1124,1373,1231,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1128,867,1227,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1129,1120,1226,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="904,613,1043,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1116,664,1239,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1121,715,1234,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1137,765,1217,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1097,968,1257,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1331,917,1442,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1305,993,1468,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1143,613,1211,640"/>
</map>
</div>

</div>
</div>
<a id="a356501925fe3150a487dcc7ba555520e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a356501925fe3150a487dcc7ba555520e">&#9670;&nbsp;</a></span>ubifs_search_bud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structubifs__bud.html">ubifs_bud</a>* ubifs_search_bud </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_search_bud - search bud LEB. <code></code>: UBIFS file-system description object : logical eraseblock number to search</p>
<p>This function searches bud LEB . Returns bud description object in case of success and NULL if there is no bud with this LEB number. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="ubifs_2log_8c_a356501925fe3150a487dcc7ba555520e_icgraph.png" border="0" usemap="#ubifs_2log_8c_a356501925fe3150a487dcc7ba555520e_icgraph" alt=""/></div>
<map name="ubifs_2log_8c_a356501925fe3150a487dcc7ba555520e_icgraph" id="ubifs_2log_8c_a356501925fe3150a487dcc7ba555520e_icgraph">
<area shape="rect" id="node2" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="177,1415,320,1441"/>
<area shape="rect" id="node46" href="replay_8c.html#a08ca5de44800c3270db809cec539c7e2" title="replay_bud" alt="" coords="206,1617,291,1644"/>
<area shape="rect" id="node49" href="replay_8c.html#a5d782d0fbd913bfe5f13ab3a7e8db174" title="validate_ref" alt="" coords="204,1668,293,1695"/>
<area shape="rect" id="node3" href="ubifs_2debug_8h.html#af929a6951e19c79f1235738386005c06" title="dbg_leb_write" alt="" coords="369,1339,472,1365"/>
<area shape="rect" id="node20" href="ubifs_2debug_8h.html#af2ad985422103ec5e3e13776002d6ceb" title="dbg_leb_change" alt="" coords="707,1263,823,1289"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="708,1313,821,1340"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#a56743d00da08f53b07b233e616378b33" title="dbg_leb_map" alt="" coords="715,1364,814,1391"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a02909cfc9d3a0100f549390c7d464632" title="ubifs_leb_write" alt="" coords="710,1516,819,1543"/>
<area shape="rect" id="node19" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="527,1313,653,1340"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a3e6d29ad192528c05f246cd31a1732fb" title="ubifs_wbuf_sync_nolock" alt="" coords="871,1516,1036,1543"/>
<area shape="rect" id="node12" href="ubifs_8h.html#a6ee6b209c593633d86570858d6e5ff51" title="ubifs_wbuf_write_nolock" alt="" coords="871,1465,1036,1492"/>
<area shape="rect" id="node13" href="ubifs_8h.html#a9e7d0e6c9720849101273f76bce7071c" title="ubifs_write_node" alt="" coords="893,1415,1013,1441"/>
<area shape="rect" id="node16" href="ubifs_8h.html#aabacb52b14ebf81d602c26b57622cd7a" title="ubifs_log_start_commit" alt="" coords="1091,1693,1249,1720"/>
<area shape="rect" id="node17" href="lpt__commit_8c.html#adc7a12d4410684a6658cc8c273e84c23" title="write_cnodes" alt="" coords="1121,1592,1219,1619"/>
<area shape="rect" id="node18" href="tnc__commit_8c.html#a170826fc5905c8e3ff4182dbb98b8e86" title="write_index" alt="" coords="909,1567,997,1593"/>
<area shape="rect" id="node6" href="ubifs_2gc_8c.html#ac8af282d626a91c08e5e158b8e55ec20" title="switch_gc_head" alt="" coords="1325,1440,1441,1467"/>
<area shape="rect" id="node7" href="ubifs_8h.html#a29dd378f4b22d45580bff155cbb275cd" title="ubifs_garbage_collect_leb" alt="" coords="1084,1491,1256,1517"/>
<area shape="rect" id="node8" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="1309,1491,1457,1517"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1304,1288,1461,1315"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1525,1263,1619,1289"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1509,613,1635,640"/>
<area shape="rect" id="node14" href="ubifs_2orphan_8c.html#a4892e45cc8f254c3400ef82f0dd89197" title="do_write_orph_node" alt="" coords="1101,715,1239,741"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a8b30a0dc99186d8f07ee2f47693f11b7" title="ubifs_add_bud_to_log" alt="" coords="1096,1440,1244,1467"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ac70865809ab5c33c55274560e453f535" title="ubifs_leb_change" alt="" coords="892,309,1015,336"/>
<area shape="rect" id="node22" href="ubifs_2recovery_8c.html#aecb3cf138b2d6e0039658a633e8a9d45" title="write_rcvrd_mst_node" alt="" coords="1095,5,1245,32"/>
<area shape="rect" id="node23" href="ubifs_2recovery_8c.html#accaf4c7132be008366b00b1629c46842" title="fix_unclean_leb" alt="" coords="1114,360,1226,387"/>
<area shape="rect" id="node24" href="ubifs_2recovery_8c.html#aa854cba2b9edc1a50c631dd212461ab9" title="recover_head" alt="" coords="1120,461,1220,488"/>
<area shape="rect" id="node25" href="ubifs_2recovery_8c.html#abd1f4122259576c896b95cb623891ed1" title="clean_an_unclean_leb" alt="" coords="1095,512,1245,539"/>
<area shape="rect" id="node26" href="ubifs_2recovery_8c.html#a9d91d461205445e4f0500381ff4ffd82" title="fix_size_in_place" alt="" coords="1109,107,1231,133"/>
<area shape="rect" id="node27" href="ubifs_2log_8c.html#a6f4343dd62151d2ba9c062f6f1cebc3c" title="add_node" alt="" coords="1131,259,1209,285"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a2e2a784a2060ee8ca565097ed7ae2bcf" title="ubifs_consolidate_log" alt="" coords="1309,664,1456,691"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a2c22b57dd8b454ef3308f2f5b558763c" title="ubifs_create_dflt_lpt" alt="" coords="1101,157,1239,184"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a9695fcc75ffa07efff2111b02ebd89c3" title="ubifs_write_sb_node" alt="" coords="1312,284,1453,311"/>
<area shape="rect" id="node31" href="sb_8c.html#ab008935d2aab585efbb16fe4de3f2fef" title="fixup_leb" alt="" coords="1133,411,1207,437"/>
<area shape="rect" id="node32" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="1103,208,1237,235"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="893,968,1013,995"/>
<area shape="rect" id="node35" href="ubifs_2orphan_8c.html#af769fec1447a02b93d13c0694037359a" title="write_orph_nodes" alt="" coords="1108,816,1232,843"/>
<area shape="rect" id="node36" href="ubifs_8h.html#af78cc7397d8b6ff99de2b335a5a6b87c" title="ubifs_clear_orphans" alt="" coords="1313,613,1452,640"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a1ff584f97bf8a1783fc9fecde0a87b1e" title="ubifs_gc_start_commit" alt="" coords="1093,867,1247,893"/>
<area shape="rect" id="node38" href="ubifs_8h.html#abd8f539c87c6fbdd3a73195b54dd9995" title="ubifs_gc_end_commit" alt="" coords="1095,917,1245,944"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a84e11c018b891280acfdb1e3071d5e18" title="ubifs_log_post_commit" alt="" coords="1092,1019,1248,1045"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="1095,1069,1245,1096"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="1105,1121,1235,1162"/>
<area shape="rect" id="node42" href="lpt_8c.html#a3d057f1c815ce9af861f10fa91c18d1e" title="lpt_init_wr" alt="" coords="1129,1187,1211,1213"/>
<area shape="rect" id="node43" href="lpt__commit_8c.html#a7ded9c0cb1bfa9d6391191de17381e48" title="lpt_tgc_end" alt="" coords="1125,664,1215,691"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a8d3619a60498527530b0ed01ba5c6a82" title="ubifs_leb_map" alt="" coords="900,1364,1007,1391"/>
<area shape="rect" id="node47" href="replay_8c.html#aa341c5f3914165aaeb6b9e63130cbf98" title="replay_buds" alt="" coords="375,1617,467,1644"/>
<area shape="rect" id="node48" href="ubifs_8h.html#af76f722fe22c9c52675c75c16369d414" title="ubifs_replay_journal" alt="" coords="521,1668,659,1695"/>
<area shape="rect" id="node50" href="replay_8c.html#afc69bf474cbe8a69ea2bfea0494745df" title="replay_log_leb" alt="" coords="368,1668,473,1695"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="ubifs_2log_8c.html">log.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
