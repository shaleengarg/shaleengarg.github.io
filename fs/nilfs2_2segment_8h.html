<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/segment.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nilfs2_2segment_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">segment.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/types.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/workqueue.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nilfs_8h_source.html">nilfs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for segment.h:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h__incl.png" border="0" usemap="#nilfs2_2segment_8h" alt=""/></div>
<map name="nilfs2_2segment_8h" id="nilfs2_2segment_8h">
<area shape="rect" id="node6" href="nilfs_8h.html" title="nilfs.h" alt="" coords="809,80,867,107"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="449,229,531,256"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="805,155,871,181"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="709,229,769,256"/>
<area shape="rect" id="node19" href="dat_8h.html" title="dat.h" alt="" coords="845,229,895,256"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h__dep__incl.png" border="0" usemap="#nilfs2_2segment_8hdep" alt=""/></div>
<map name="nilfs2_2segment_8hdep" id="nilfs2_2segment_8hdep">
<area shape="rect" id="node2" href="nilfs2_2file_8c.html" title="nilfs2/file.c" alt="" coords="5,80,91,107"/>
<area shape="rect" id="node3" href="nilfs2_2inode_8c.html" title="nilfs2/inode.c" alt="" coords="115,80,213,107"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html" title="nilfs2/ioctl.c" alt="" coords="238,80,330,107"/>
<area shape="rect" id="node5" href="mdt_8c.html" title="nilfs2/mdt.c" alt="" coords="355,80,445,107"/>
<area shape="rect" id="node6" href="nilfs2_2recovery_8c.html" title="nilfs2/recovery.c" alt="" coords="470,80,589,107"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html" title="nilfs2/segment.c" alt="" coords="613,80,731,107"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html" title="nilfs2/super.c" alt="" coords="755,80,855,107"/>
<area shape="rect" id="node9" href="the__nilfs_8c.html" title="nilfs2/the_nilfs.c" alt="" coords="879,80,996,107"/>
</map>
</div>
</div>
<p><a href="nilfs2_2segment_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__cstage.html">nilfs_cstage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__segsum__pointer.html">nilfs_segsum_pointer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnilfs__sc__info.html">nilfs_sc_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a246f728292ddf07d8de9b9e3b6d43623"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a246f728292ddf07d8de9b9e3b6d43623">NILFS_RECOVERY_SR_UPDATED</a>&#160;&#160;&#160;1  /* The super <a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a> was updated */</td></tr>
<tr class="separator:a246f728292ddf07d8de9b9e3b6d43623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1f99a0b2c64749e699619d9f49c14c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#acd1f99a0b2c64749e699619d9f49c14c">NILFS_RECOVERY_ROLLFORWARD_DONE</a>&#160;&#160;&#160;2  /* Rollforward was carried out */</td></tr>
<tr class="separator:acd1f99a0b2c64749e699619d9f49c14c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8aa0cf6bb831600ff882363d4fb36b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#afd8aa0cf6bb831600ff882363d4fb36b">NILFS_SEGCTOR_QUIT</a>&#160;&#160;&#160;0x0001  /* segctord is being destroyed */</td></tr>
<tr class="separator:afd8aa0cf6bb831600ff882363d4fb36b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae68064b48edf972f18e28d50f3d860"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a0ae68064b48edf972f18e28d50f3d860">NILFS_SEGCTOR_COMMIT</a>&#160;&#160;&#160;0x0004  /* committed transaction exists */</td></tr>
<tr class="separator:a0ae68064b48edf972f18e28d50f3d860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbd428d5fb988d186c9f44cc17a4a2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a1fbd428d5fb988d186c9f44cc17a4a2a">NILFS_SC_CLEANUP_RETRY</a></td></tr>
<tr class="separator:a1fbd428d5fb988d186c9f44cc17a4a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18be0e084501fe16ebba28015d76bd24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a18be0e084501fe16ebba28015d76bd24">NILFS_SC_DEFAULT_TIMEOUT</a></td></tr>
<tr class="separator:a18be0e084501fe16ebba28015d76bd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae87499ee1989f69b5dc645dc8621cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#acae87499ee1989f69b5dc645dc8621cb">NILFS_SC_DEFAULT_SR_FREQ</a></td></tr>
<tr class="separator:acae87499ee1989f69b5dc645dc8621cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2c45e23cc8dcce264bbd160a8e4d76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a2c2c45e23cc8dcce264bbd160a8e4d76">NILFS_SC_DEFAULT_WATERMARK</a>&#160;&#160;&#160;3600</td></tr>
<tr class="separator:a2c2c45e23cc8dcce264bbd160a8e4d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acef31600358009411b6fcea11ebe07f6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="nilfs2_2segment_8h.html#acef31600358009411b6fcea11ebe07f6a4893f6941a5683c2f615f50654b0a6a7">NILFS_SC_DIRTY</a>, 
<a class="el" href="nilfs2_2segment_8h.html#acef31600358009411b6fcea11ebe07f6ac4725898ed6cd5628805a95b1427aaf3">NILFS_SC_UNCLOSED</a>, 
<a class="el" href="nilfs2_2segment_8h.html#acef31600358009411b6fcea11ebe07f6adba30716e568af405706c79dfad65972">NILFS_SC_SUPER_ROOT</a>, 
<a class="el" href="nilfs2_2segment_8h.html#acef31600358009411b6fcea11ebe07f6a1f6f44d5728dd1cd4e15b5617e5bbc40">NILFS_SC_PRIOR_FLUSH</a>, 
<br />
&#160;&#160;<a class="el" href="nilfs2_2segment_8h.html#acef31600358009411b6fcea11ebe07f6ac643adb55f0a716bcad65ce871dce11c">NILFS_SC_HAVE_DELTA</a>
<br />
 }</td></tr>
<tr class="separator:acef31600358009411b6fcea11ebe07f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1907ac7b54882bbf06019eaf6d03c21c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c">nilfs_relax_pressure_in_lock</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *)</td></tr>
<tr class="separator:a1907ac7b54882bbf06019eaf6d03c21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4dd33f62112603f9df2513713ed770"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#ace4dd33f62112603f9df2513713ed770">nilfs_construct_segment</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *)</td></tr>
<tr class="separator:ace4dd33f62112603f9df2513713ed770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d6faa259873957e4e6e42876aca8d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4">nilfs_construct_dsync_segment</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, loff_t, loff_t)</td></tr>
<tr class="separator:a79d6faa259873957e4e6e42876aca8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e9be8bfc928b337eb526d43cc708a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a64e9be8bfc928b337eb526d43cc708a9">nilfs_flush_segment</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *, ino_t)</td></tr>
<tr class="separator:a64e9be8bfc928b337eb526d43cc708a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a743bf0928dcbc45a2ba24a08ac395224"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224">nilfs_clean_segments</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *, struct nilfs_argv *, void **)</td></tr>
<tr class="separator:a743bf0928dcbc45a2ba24a08ac395224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc0b22d29c5e0dc0550492c2814845f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f">nilfs_attach_log_writer</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:accc0b22d29c5e0dc0550492c2814845f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86ad97768e43fb1c81c962ab7f895fb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0">nilfs_detach_log_writer</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:a86ad97768e43fb1c81c962ab7f895fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05c84597e935fa4c02cd556b371e3ed5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a05c84597e935fa4c02cd556b371e3ed5">nilfs_read_super_root_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *, sector_t, struct buffer_head **, int)</td></tr>
<tr class="separator:a05c84597e935fa4c02cd556b371e3ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35601ebb220d6cce77c5513d0c5ff9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#ac35601ebb220d6cce77c5513d0c5ff9a">nilfs_search_super_root</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *, struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *)</td></tr>
<tr class="separator:ac35601ebb220d6cce77c5513d0c5ff9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e61516876368ef4aa3118ef414d37c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3">nilfs_salvage_orphan_logs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *ri)</td></tr>
<tr class="separator:a9e61516876368ef4aa3118ef414d37c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195aceb47f8f8279bbca53a8d8983387"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a195aceb47f8f8279bbca53a8d8983387">nilfs_dispose_segment_list</a> (struct list_head *)</td></tr>
<tr class="separator:a195aceb47f8f8279bbca53a8d8983387"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a42cd0ba6d2875619bee0e6caf34d546e"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2segment_8h.html#a42cd0ba6d2875619bee0e6caf34d546e">nilfs_transaction_cachep</a></td></tr>
<tr class="separator:a42cd0ba6d2875619bee0e6caf34d546e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="acd1f99a0b2c64749e699619d9f49c14c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd1f99a0b2c64749e699619d9f49c14c">&#9670;&nbsp;</a></span>NILFS_RECOVERY_ROLLFORWARD_DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_RECOVERY_ROLLFORWARD_DONE&#160;&#160;&#160;2  /* Rollforward was carried out */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a246f728292ddf07d8de9b9e3b6d43623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a246f728292ddf07d8de9b9e3b6d43623">&#9670;&nbsp;</a></span>NILFS_RECOVERY_SR_UPDATED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_RECOVERY_SR_UPDATED&#160;&#160;&#160;1  /* The super <a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a> was updated */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1fbd428d5fb988d186c9f44cc17a4a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fbd428d5fb988d186c9f44cc17a4a2a">&#9670;&nbsp;</a></span>NILFS_SC_CLEANUP_RETRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SC_CLEANUP_RETRY</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">3  <span class="comment">/*</span></div><div class="line"><span class="comment">                    * Retry count of construction when</span></div><div class="line"><span class="comment">                    * destroying segctord</span></div><div class="line"><span class="comment">                    */</span></div></div><!-- fragment -->
</div>
</div>
<a id="acae87499ee1989f69b5dc645dc8621cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae87499ee1989f69b5dc645dc8621cb">&#9670;&nbsp;</a></span>NILFS_SC_DEFAULT_SR_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SC_DEFAULT_SR_FREQ</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">30  <span class="comment">/*</span></div><div class="line"><span class="comment">                     * Maximum frequency of super root</span></div><div class="line"><span class="comment">                     * creation</span></div><div class="line"><span class="comment">                     */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a18be0e084501fe16ebba28015d76bd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18be0e084501fe16ebba28015d76bd24">&#9670;&nbsp;</a></span>NILFS_SC_DEFAULT_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SC_DEFAULT_TIMEOUT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">5   <span class="comment">/*</span></div><div class="line"><span class="comment">                     * Timeout value of dirty blocks.</span></div><div class="line"><span class="comment">                     * It triggers construction of a</span></div><div class="line"><span class="comment">                     * logical segment with a super root.</span></div><div class="line"><span class="comment">                     */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a2c2c45e23cc8dcce264bbd160a8e4d76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c2c45e23cc8dcce264bbd160a8e4d76">&#9670;&nbsp;</a></span>NILFS_SC_DEFAULT_WATERMARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SC_DEFAULT_WATERMARK&#160;&#160;&#160;3600</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ae68064b48edf972f18e28d50f3d860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae68064b48edf972f18e28d50f3d860">&#9670;&nbsp;</a></span>NILFS_SEGCTOR_COMMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SEGCTOR_COMMIT&#160;&#160;&#160;0x0004  /* committed transaction exists */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afd8aa0cf6bb831600ff882363d4fb36b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8aa0cf6bb831600ff882363d4fb36b">&#9670;&nbsp;</a></span>NILFS_SEGCTOR_QUIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NILFS_SEGCTOR_QUIT&#160;&#160;&#160;0x0001  /* segctord is being destroyed */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="acef31600358009411b6fcea11ebe07f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef31600358009411b6fcea11ebe07f6">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acef31600358009411b6fcea11ebe07f6a4893f6941a5683c2f615f50654b0a6a7"></a>NILFS_SC_DIRTY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acef31600358009411b6fcea11ebe07f6ac4725898ed6cd5628805a95b1427aaf3"></a>NILFS_SC_UNCLOSED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acef31600358009411b6fcea11ebe07f6adba30716e568af405706c79dfad65972"></a>NILFS_SC_SUPER_ROOT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acef31600358009411b6fcea11ebe07f6a1f6f44d5728dd1cd4e15b5617e5bbc40"></a>NILFS_SC_PRIOR_FLUSH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acef31600358009411b6fcea11ebe07f6ac643adb55f0a716bcad65ce871dce11c"></a>NILFS_SC_HAVE_DELTA&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="accc0b22d29c5e0dc0550492c2814845f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc0b22d29c5e0dc0550492c2814845f">&#9670;&nbsp;</a></span>nilfs_attach_log_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_attach_log_writer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_attach_log_writer - attach log writer : super block instance : root object of the current filesystem tree</p>
<p>This allocates a log writer object, initializes it, and starts the log writer.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error code is returned.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_cgraph" id="nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="205,224,360,251"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="219,93,346,120"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="218,377,347,418"/>
<area shape="rect" id="node3" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="434,224,529,251"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="408,275,555,301"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="627,140,749,167"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#ab6bad92d64b23f1bc7cdfca3b44df6bb" title="nilfs_segctor_kill\l_thread" alt="" coords="629,191,747,233"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="1280,380,1427,407"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="610,452,766,479"/>
<area shape="rect" id="node39" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="638,257,738,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1493,417,1629,458"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1494,483,1629,509"/>
<area shape="rect" id="node8" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1680,424,1823,451"/>
<area shape="rect" id="node11" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1699,483,1804,509"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1923,365,1993,392"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="1887,417,2029,458"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1871,483,2045,509"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="829,612,977,639"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="824,511,981,537"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="821,561,984,588"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="1032,765,1216,806"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1264,691,1443,717"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1492,817,1631,844"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1491,534,1632,575"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1494,599,1629,641"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1491,716,1632,743"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1682,741,1821,768"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="1053,663,1195,689"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1057,409,1191,436"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1065,460,1183,487"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="1055,511,1193,537"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1057,561,1191,588"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="1057,612,1191,639"/>
<area shape="rect" id="node32" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="881,165,924,192"/>
<area shape="rect" id="node33" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1087,140,1161,167"/>
<area shape="rect" id="node38" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1055,191,1193,217"/>
<area shape="rect" id="node34" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1302,64,1405,91"/>
<area shape="rect" id="node35" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1294,115,1413,141"/>
<area shape="rect" id="node36" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1292,165,1415,192"/>
<area shape="rect" id="node37" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1328,216,1379,243"/>
<area shape="rect" id="node40" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="839,242,966,283"/>
<area shape="rect" id="node42" href="the__nilfs_8h.html#a4af5a977af148ee222180ae10226f487" title="nilfs_get_root" alt="" coords="431,5,531,32"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a6e4937564a8e4e3f93f7cba490ca3e04" title="nilfs_iput_work_func" alt="" coords="411,123,552,149"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#adfab781acf18797a0e45ef07137dd7d3" title="nilfs_construction\l_timeout" alt="" coords="419,57,543,98"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="412,528,551,555"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a6cef1108b7fa7e06a421b10f2d6cf3ac" title="nilfs_segctor_flush_mode" alt="" coords="603,553,773,580"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="619,605,757,646"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a9151c9e879ecd826e57e7a77e249a066" title="nilfs_sb_need_update" alt="" coords="614,503,762,529"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="838,663,967,705"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_icgraph" id="nilfs2_2segment_8h_accc0b22d29c5e0dc0550492c2814845f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1565,188,1670,215"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1567,75,1667,101"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="205,119,380,145"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1746,137,1835,164"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="428,144,505,171"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="553,199,671,225"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="748,199,847,225"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="719,252,876,279"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="928,312,1076,339"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="933,246,1071,287"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="924,195,1080,221"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1128,388,1307,415"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1393,513,1471,540"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1557,539,1677,565"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1733,539,1848,565"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1725,488,1856,515"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1909,463,1998,489"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1907,513,1999,540"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1904,564,2003,591"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1911,615,1996,641"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1148,271,1287,297"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1367,297,1497,338"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1144,144,1291,171"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1355,119,1509,145"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1562,125,1673,152"/>
</map>
</div>

</div>
</div>
<a id="a743bf0928dcbc45a2ba24a08ac395224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a743bf0928dcbc45a2ba24a08ac395224">&#9670;&nbsp;</a></span>nilfs_clean_segments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_clean_segments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_argv *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_cgraph" id="nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="225,525,373,551"/>
<area shape="rect" id="node14" href="mdt_8c.html#a1b91aea5f3e024d438f92e11efb9309b" title="nilfs_mdt_save_to_shadow_map" alt="" coords="676,797,888,823"/>
<area shape="rect" id="node19" href="nilfs2_2ioctl_8c.html#a0a4a3b447f57cba6a9d7e2c8c2ed3049" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="473,217,599,259"/>
<area shape="rect" id="node28" href="mdt_8c.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="705,1008,859,1049"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="457,594,615,621"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#aff101f52e4bf1099c796f00b25b4c3b1" title="nilfs_remove_written\l_gcinodes" alt="" coords="227,731,370,772"/>
<area shape="rect" id="node45" href="the__nilfs_8c.html#a7791ded5e1399589f827371de0638a52" title="nilfs_discard_segments" alt="" coords="219,1015,378,1042"/>
<area shape="rect" id="node48" href="mdt_8c.html#a49d73bacfcef709cc1cb5956355ee9d3" title="nilfs_mdt_clear_shadow_map" alt="" coords="201,847,396,874"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="217,1066,380,1093"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="444,456,628,497"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="693,391,871,418"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="946,339,1085,366"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="945,208,1086,249"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="947,508,1083,549"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="948,574,1083,601"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="948,391,1083,432"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="945,457,1086,483"/>
<area shape="rect" id="node7" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1155,274,1278,301"/>
<area shape="rect" id="node8" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1145,223,1288,250"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1339,434,1409,461"/>
<area shape="rect" id="node15" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1169,847,1265,874"/>
<area shape="rect" id="node16" href="nilfs2_2page_8c.html#ab1f505f6520c69332f0ee920a731e817" title="nilfs_copy_dirty_pages" alt="" coords="938,797,1093,823"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#aa549c9215d24ae7f44f0128fa9d81f98" title="nilfs_bmap_save" alt="" coords="955,695,1075,722"/>
<area shape="rect" id="node17" href="nilfs2_2page_8c.html#ae10da2cefd33c9affe7f4960fa4cc712" title="nilfs_copy_page" alt="" coords="1159,957,1275,983"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a5cd529efbea1f81e36a61c98a622c17b" title="nilfs_ioctl_delete\l_checkpoints" alt="" coords="723,263,841,304"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="697,179,867,206"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="936,91,1095,132"/>
<area shape="rect" id="node21" href="cpfile_8c.html#a741424beec629d3d2eb990ebf4ba1da4" title="nilfs_cpfile_delete\l_checkpoints" alt="" coords="952,273,1079,315"/>
<area shape="rect" id="node23" href="dat_8c.html#a91e8f9af4bb7b8f3e12f9344f70c058f" title="nilfs_dat_freev" alt="" coords="962,157,1069,183"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8c.html#a01ec88eea126f6a0861c9da00aadb1d7" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1143,5,1291,47"/>
<area shape="rect" id="node26" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1147,71,1286,98"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8c.html#ada48e8abd9d75673881ee7c8fb799d00" title="nilfs_bmap_mark" alt="" coords="1156,122,1277,149"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8c.html#aa1ef67260a902eaecb3a5aacacdd0ed8" title="nilfs_palloc_clear\l_cache" alt="" coords="954,949,1077,991"/>
<area shape="rect" id="node30" href="nilfs2_2page_8c.html#a32dd4d34ca4d02776c242eb9ff785a87" title="nilfs_clear_dirty_pages" alt="" coords="938,1167,1093,1194"/>
<area shape="rect" id="node32" href="nilfs2_2page_8c.html#ad19e6ab8bc4014fe39746b3dd2c97b90" title="nilfs_copy_back_pages" alt="" coords="936,1015,1095,1042"/>
<area shape="rect" id="node33" href="nilfs2_2bmap_8c.html#aefd222edab3f6a8ce0617e4f9659472a" title="nilfs_bmap_restore" alt="" coords="949,1066,1081,1093"/>
<area shape="rect" id="node31" href="nilfs2_2page_8c.html#a39eadb85dcf25cb2ceebf0232851674c" title="nilfs_clear_dirty_page" alt="" coords="1143,1167,1291,1194"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="711,543,853,570"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="709,442,855,469"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="715,594,849,621"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="723,645,841,671"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="713,695,851,722"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="715,746,849,773"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="715,493,849,519"/>
<area shape="rect" id="node43" href="btnode_8c.html#acd52f7f39a72cca11a6240f97c821d20" title="nilfs_btnode_cache\l_clear" alt="" coords="469,731,603,772"/>
<area shape="rect" id="node44" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="515,679,557,706"/>
<area shape="rect" id="node46" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="503,1066,569,1093"/>
<area shape="rect" id="node47" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="453,1015,619,1042"/>
<area shape="rect" id="node49" href="mdt_8c.html#a3e93261fc9d1372c65be2e8d954f3d0a" title="nilfs_release_frozen\l_buffers" alt="" coords="467,899,605,940"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_icgraph" id="nilfs2_2segment_8h_a743bf0928dcbc45a2ba24a08ac395224_icgraph">
<area shape="rect" id="node2" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="201,107,380,133"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="428,107,505,133"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="553,81,673,108"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="729,81,844,108"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="721,132,852,159"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="905,5,994,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="903,56,995,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="900,107,999,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="907,157,992,184"/>
</map>
</div>

</div>
</div>
<a id="a79d6faa259873957e4e6e42876aca8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d6faa259873957e4e6e42876aca8d4">&#9670;&nbsp;</a></span>nilfs_construct_dsync_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_construct_dsync_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">loff_t&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_construct_dsync_segment - construct a data-only logical segment : super block : inode whose data blocks should be written out : start byte offset : end byte offset (inclusive)</p>
<p>Return Value: On success, 0 is retured. On errors, one of the following negative error code is returned.</p>
<p>%-EROFS - Read only filesystem.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOSPC - No space left on device (only in a panic state).</p>
<p>%-ERESTARTSYS - Interrupted.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_cgraph" id="nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="210,1012,358,1039"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="645,600,824,627"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1665,496,1736,523"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="203,1233,365,1260"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="219,1284,349,1311"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="413,885,597,926"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1279,287,1418,313"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1278,170,1419,211"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1077,111,1213,153"/>
<area shape="rect" id="node13" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1296,236,1401,263"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1078,228,1213,255"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1078,462,1213,503"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="875,600,1017,627"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1279,775,1418,801"/>
<area shape="rect" id="node33" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="879,819,1013,845"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="880,753,1012,794"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="875,869,1017,896"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="888,921,1004,962"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="888,986,1004,1027"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1087,279,1203,321"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="875,1051,1017,1093"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="873,1117,1019,1158"/>
<area shape="rect" id="node44" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="872,55,1020,97"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="881,172,1011,199"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="883,701,1009,728"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="882,274,1010,315"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="879,441,1013,468"/>
<area shape="rect" id="node7" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="1478,170,1614,211"/>
<area shape="rect" id="node8" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1485,547,1607,573"/>
<area shape="rect" id="node9" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1475,496,1617,523"/>
<area shape="rect" id="node12" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1475,119,1617,145"/>
<area shape="rect" id="node16" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="1287,724,1410,751"/>
<area shape="rect" id="node17" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="1287,673,1411,700"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="1285,338,1413,379"/>
<area shape="rect" id="node19" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="1271,404,1427,431"/>
<area shape="rect" id="node20" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1273,521,1425,548"/>
<area shape="rect" id="node21" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="1289,623,1408,649"/>
<area shape="rect" id="node22" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="1274,455,1423,497"/>
<area shape="rect" id="node23" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="1288,572,1409,599"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="1079,345,1211,386"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1075,527,1216,569"/>
<area shape="rect" id="node28" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1284,869,1413,910"/>
<area shape="rect" id="node29" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="1089,724,1201,751"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1074,593,1217,634"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1070,658,1221,699"/>
<area shape="rect" id="node31" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1301,1032,1396,1059"/>
<area shape="rect" id="node35" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="1081,927,1210,953"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="1089,1079,1202,1105"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="1068,977,1223,1004"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_icgraph" id="nilfs2_2segment_8h_a79d6faa259873957e4e6e42876aca8d4_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="208,139,313,165"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="203,189,319,216"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="367,139,487,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="543,111,657,137"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="535,164,665,191"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="718,5,807,32"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="717,56,809,83"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="713,107,812,133"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="720,157,805,184"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="724,232,801,259"/>
</map>
</div>

</div>
</div>
<a id="ace4dd33f62112603f9df2513713ed770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4dd33f62112603f9df2513713ed770">&#9670;&nbsp;</a></span>nilfs_construct_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_construct_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_construct_segment - construct a logical segment : super block</p>
<p>Return Value: On success, 0 is retured. On errors, one of the following negative error code is returned.</p>
<p>%-EROFS - Read only filesystem.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOSPC - No space left on device (only in a panic state).</p>
<p>%-ERESTARTSYS - Interrupted.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_cgraph" id="nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="217,5,348,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_icgraph" id="nilfs2_2segment_8h_ace4dd33f62112603f9df2513713ed770_icgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="252,281,357,308"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="250,53,359,80"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="1055,28,1161,55"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="860,155,959,181"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a88f66d269c57dae4d6eaf9eae22016b9" title="nilfs_ioctl_sync" alt="" coords="1237,185,1349,212"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="217,205,392,232"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#ad2205a18ad59765e0f2bcf33b0830749" title="nilfs_transaction_commit" alt="" coords="221,788,388,815"/>
<area shape="rect" id="node50" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="232,839,377,865"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1048,915,1168,941"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1236,1421,1351,1448"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1228,560,1359,587"/>
<area shape="rect" id="node5" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1411,1428,1501,1455"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1410,1504,1502,1531"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1407,1605,1505,1632"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1413,1365,1499,1392"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1417,408,1495,435"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1234,81,1353,108"/>
<area shape="rect" id="node17" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="479,205,557,232"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="661,256,766,283"/>
<area shape="rect" id="node20" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="655,205,772,232"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="865,256,954,283"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="831,205,988,232"/>
<area shape="rect" id="node23" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="646,864,781,891"/>
<area shape="rect" id="node24" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="463,991,573,1017"/>
<area shape="rect" id="node27" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1060,1260,1156,1287"/>
<area shape="rect" id="node29" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1071,1371,1145,1397"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="663,763,763,789"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="864,712,955,739"/>
<area shape="rect" id="node40" href="nilfs2_2inode_8c.html#a10b8a3b1edc71b5a865f9eb19d8bae9c" title="nilfs_write_end" alt="" coords="463,1523,573,1549"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="459,661,577,688"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="460,813,576,840"/>
<area shape="rect" id="node43" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="475,1675,561,1701"/>
<area shape="rect" id="node44" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="477,459,559,485"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1230,318,1357,359"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1234,401,1353,442"/>
<area shape="rect" id="node47" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1036,488,1180,515"/>
<area shape="rect" id="node48" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="440,611,596,637"/>
<area shape="rect" id="node25" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="644,1117,783,1144"/>
<area shape="rect" id="node32" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="660,1067,767,1093"/>
<area shape="rect" id="node33" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="657,965,770,992"/>
<area shape="rect" id="node34" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1049,1041,1167,1068"/>
<area shape="rect" id="node35" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="660,1016,767,1043"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1039,1126,1177,1167"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="860,1117,959,1144"/>
<area shape="rect" id="node28" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="859,1320,960,1347"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="847,1067,971,1093"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="845,965,973,992"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="850,1016,969,1043"/>
<area shape="rect" id="node49" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="644,611,783,637"/>
</map>
</div>

</div>
</div>
<a id="a86ad97768e43fb1c81c962ab7f895fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86ad97768e43fb1c81c962ab7f895fb0">&#9670;&nbsp;</a></span>nilfs_detach_log_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_detach_log_writer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_detach_log_writer - destroy log writer : super block instance</p>
<p>This kills log writer daemon, frees the log writer object, and destroys list of dirty files. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_cgraph" id="nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1496,110,1591,137"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="208,874,355,901"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="419,984,542,1010"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#ab6bad92d64b23f1bc7cdfca3b44df6bb" title="nilfs_segctor_kill\l_thread" alt="" coords="421,867,540,908"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a8aee792199cf274a08966e72ad5bda4b" title="nilfs_segctor_confirm" alt="" coords="1065,946,1212,973"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="403,725,559,752"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="431,816,531,842"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="1282,1098,1418,1139"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="1283,1046,1417,1073"/>
<area shape="rect" id="node7" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="1472,1105,1615,1132"/>
<area shape="rect" id="node10" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1491,1010,1596,1037"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1715,1076,1785,1102"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac6183fc85d304f3be2788b7d5fd0771c" title="nilfs_bmap_test_and\l_clear_dirty" alt="" coords="1679,1127,1821,1168"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="1663,1010,1837,1037"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="614,700,762,726"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="831,750,988,777"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a183704facbe2e823d313437cf1ef2672" title="nilfs_transaction_unlock" alt="" coords="607,649,769,676"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="817,638,1001,679"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1049,592,1228,618"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1281,282,1419,309"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1279,334,1421,375"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1283,399,1417,440"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1279,516,1421,542"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1474,490,1613,517"/>
<area shape="rect" id="node22" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="1283,566,1417,593"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1284,216,1416,258"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="1279,617,1421,644"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1292,668,1408,710"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="1292,734,1408,775"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="1292,799,1408,840"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="1279,864,1421,906"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="1277,930,1423,971"/>
<area shape="rect" id="node30" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="1276,48,1424,90"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="1285,114,1415,141"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="1287,165,1413,192"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#ad6d1fbf5aeb3c08db664728f67d892fe" title="nilfs_segctor_accept" alt="" coords="1067,693,1210,720"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1071,744,1206,770"/>
<area shape="rect" id="node36" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1080,794,1197,821"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a9a1fe38aff116c41130c7f70b12807ab" title="nilfs_set_log_cursor" alt="" coords="1069,845,1208,872"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1071,896,1206,922"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a48b4127ef65dc5b6772abed38d8b57d9" title="nilfs_segctor_notify" alt="" coords="1071,642,1206,669"/>
<area shape="rect" id="node42" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="667,984,709,1010"/>
<area shape="rect" id="node43" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="872,1048,947,1074"/>
<area shape="rect" id="node48" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="840,984,979,1010"/>
<area shape="rect" id="node44" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1087,1048,1190,1074"/>
<area shape="rect" id="node45" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1079,1098,1198,1125"/>
<area shape="rect" id="node46" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1077,1149,1200,1176"/>
<area shape="rect" id="node47" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1113,997,1164,1024"/>
<area shape="rect" id="node50" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="625,808,751,850"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_icgraph" id="nilfs2_2segment_8h_a86ad97768e43fb1c81c962ab7f895fb0_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="240,132,351,159"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1747,452,1853,479"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1750,503,1850,529"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="208,419,383,445"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1535,503,1687,529"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1918,477,2007,504"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="431,419,508,445"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="556,397,673,424"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="751,397,849,424"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="721,339,879,365"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="931,233,1079,260"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="935,386,1074,427"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="927,335,1083,361"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1131,233,1309,260"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1383,132,1461,159"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1551,81,1671,108"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1743,81,1857,108"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1735,132,1865,159"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1918,5,2007,32"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1917,56,2009,83"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1913,107,2012,133"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1920,157,2005,184"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1151,393,1289,420"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1357,386,1487,427"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1147,309,1293,336"/>
</map>
</div>

</div>
</div>
<a id="a195aceb47f8f8279bbca53a8d8983387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195aceb47f8f8279bbca53a8d8983387">&#9670;&nbsp;</a></span>nilfs_dispose_segment_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_dispose_segment_list </td>
          <td>(</td>
          <td class="paramtype">struct list_head *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a195aceb47f8f8279bbca53a8d8983387_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a195aceb47f8f8279bbca53a8d8983387_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a195aceb47f8f8279bbca53a8d8983387_icgraph" id="nilfs2_2segment_8h_a195aceb47f8f8279bbca53a8d8983387_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#ac35601ebb220d6cce77c5513d0c5ff9a" title="nilfs_search_super_root" alt="" coords="235,204,395,231"/>
<area shape="rect" id="node29" href="the__nilfs_8c.html#af1c2aa5df0d1b266ae2b3007b945358b" title="nilfs_clear_recovery_info" alt="" coords="232,255,399,281"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="447,229,524,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1811,196,1916,223"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="572,229,689,256"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2003,233,2093,260"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="767,204,865,231"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="737,255,895,281"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="947,196,1095,223"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="951,247,1090,289"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="943,313,1099,340"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1147,196,1325,223"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1412,95,1489,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1592,95,1712,121"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1806,95,1921,121"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1798,44,1929,71"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2003,107,2093,133"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2002,157,2094,184"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1999,5,2097,32"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2005,56,2091,83"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1167,253,1305,280"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1386,243,1515,285"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1576,247,1728,273"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1813,247,1913,273"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1776,399,1951,425"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1163,312,1309,339"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1373,311,1528,337"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1597,348,1707,375"/>
</map>
</div>

</div>
</div>
<a id="a64e9be8bfc928b337eb526d43cc708a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e9be8bfc928b337eb526d43cc708a9">&#9670;&nbsp;</a></span>nilfs_flush_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_flush_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ino_t&#160;</td>
          <td class="paramname"><em>ino</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_flush_segment - trigger a segment construction for resource control : super block : inode number of the file to be flushed out. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_cgraph" id="nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a0958be515d06e808278718a66314d13c" title="nilfs_doing_construction" alt="" coords="192,56,355,83"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="197,107,349,133"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a0e51be0290a47aca596f1257148b18d1" title="nilfs_test_transaction_flag" alt="" coords="403,5,577,32"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a4f28eeeb1e43263dd51971c1089e72a7" title="nilfs_acl_chmod" alt="" coords="432,56,548,83"/>
<area shape="rect" id="node5" href="nilfs_8h.html#ab1fd1beb5cf70ab584a99abfa28f72c2" title="nilfs_init_acl" alt="" coords="443,107,537,133"/>
<area shape="rect" id="node6" href="fs__struct_8c.html#ab40b5dfd0c4e09a3fa89604cb0a5294b" title="current_umask" alt="" coords="625,107,733,133"/>
<area shape="rect" id="node7" href="fs__struct_8c.html#a7cd69ee2bda612041d181e00324a908c" title="EXPORT_SYMBOL" alt="" coords="781,107,920,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_icgraph" id="nilfs2_2segment_8h_a64e9be8bfc928b337eb526d43cc708a9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ae1e2e81122833693f29b624c6177bded" title="nilfs_writepage" alt="" coords="210,5,319,32"/>
<area shape="rect" id="node3" href="mdt_8c.html#a4242d921f6d6d52e2d451bdcc6972956" title="nilfs_mdt_write_page" alt="" coords="192,56,337,83"/>
</map>
</div>

</div>
</div>
<a id="a05c84597e935fa4c02cd556b371e3ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c84597e935fa4c02cd556b371e3ed5">&#9670;&nbsp;</a></span>nilfs_read_super_root_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_read_super_root_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>sr_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>pbh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_read_super_root_block - read super root block : nilfs object : disk block number of the super root block : address of a buffer_head pointer to return super root buffer : CRC check flag </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_cgraph" id="nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_cgraph">
<area shape="rect" id="node2" href="nilfs2_2recovery_8c.html#a259060e9360fc15d85d67af63a41b28b" title="nilfs_compute_checksum" alt="" coords="200,5,371,32"/>
<area shape="rect" id="node3" href="nilfs2_2recovery_8c.html#a109c59b06bae1b29692af69694c5ab03" title="nilfs_warn_segment\l_error" alt="" coords="216,57,355,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_icgraph" id="nilfs2_2segment_8h_a05c84597e935fa4c02cd556b371e3ed5_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="200,229,345,256"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="393,229,471,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1757,196,1863,223"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="519,229,636,256"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1950,233,2039,260"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="713,204,812,231"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="684,255,841,281"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="893,196,1041,223"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="898,247,1037,289"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="889,313,1045,340"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1093,196,1272,223"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1359,95,1436,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1539,95,1659,121"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1753,95,1867,121"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1745,44,1875,71"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1950,107,2039,133"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1949,157,2041,184"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1945,5,2044,32"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1952,56,2037,83"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1113,251,1252,277"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1333,241,1462,282"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1523,247,1675,273"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1760,247,1860,273"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1723,399,1897,425"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1109,309,1256,336"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1320,308,1475,335"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1543,348,1654,375"/>
</map>
</div>

</div>
</div>
<a id="a1907ac7b54882bbf06019eaf6d03c21c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1907ac7b54882bbf06019eaf6d03c21c">&#9670;&nbsp;</a></span>nilfs_relax_pressure_in_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_relax_pressure_in_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_cgraph" id="nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_cgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="192,815,376,857"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="424,823,603,849"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a5178d3fd1af80a6dfe7402161af775b7" title="nilfs_sc_cstage_set" alt="" coords="1064,260,1203,287"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1063,194,1204,235"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a3942085ca8ef837029410515b850bab2" title="nilfs_test_metadata\l_dirty" alt="" coords="657,135,793,177"/>
<area shape="rect" id="node11" href="nilfs_8h.html#aa2547b587fff139262e053241c6d5165" title="nilfs_doing_gc" alt="" coords="1081,311,1186,337"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a5fea956c9b756d0f2be3c56a4569e720" title="nilfs_segctor_clean" alt="" coords="855,252,989,279"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="855,770,989,811"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="654,588,795,615"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a106167b91db47aa55788611baecc2929" title="nilfs_sc_cstage_get" alt="" coords="1064,492,1203,519"/>
<area shape="rect" id="node32" href="segbuf_8h.html#a0cfe8124c80930b9a35d9d83b53c3b9c" title="nilfs_segbuf_empty" alt="" coords="657,721,792,748"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="856,1115,988,1157"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a0b6ab5ea47dd22b60896728d79280b78" title="nilfs_segctor_assign" alt="" coords="654,823,795,849"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="667,874,783,915"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a575e642d5347643b2e55e16d470c9e4f" title="nilfs_segctor_fill\l_in_checkpoint" alt="" coords="667,939,783,981"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a4bd2bfd7408d91f09c954196835b05eb" title="nilfs_segctor_fill\l_in_super_root" alt="" coords="864,303,980,345"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a5e55835a8c7bac0db60b81df4d707d4e" title="nilfs_segctor_update\l_segusage" alt="" coords="653,1057,796,1098"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a860212a92caeb10e765a54525c8935e7" title="nilfs_segctor_prepare\l_write" alt="" coords="651,1122,798,1163"/>
<area shape="rect" id="node46" href="segbuf_8c.html#a0badc0950a3433d60184499df2c63e99" title="nilfs_add_checksums\l_on_logs" alt="" coords="651,1187,799,1229"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a30f292d5fafad3776cf07573c3c7b46a" title="nilfs_segctor_write" alt="" coords="659,1253,790,1280"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="859,1300,985,1327"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a48a38cbf8f4c68e0d2cc6c384368bd48" title="nilfs_segctor_drop\l_written_files" alt="" coords="661,1355,789,1397"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a41b2f847cf14fdb22b140aea427b564c" title="nilfs_redirty_inodes" alt="" coords="657,1421,792,1448"/>
<area shape="rect" id="node6" href="ifile_8c.html#ac12b6cbcad77a1c74299227badad2ed9" title="nilfs_ifile_get_inode\l_block" alt="" coords="1273,194,1409,235"/>
<area shape="rect" id="node7" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1279,853,1402,880"/>
<area shape="rect" id="node8" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1269,803,1412,829"/>
<area shape="rect" id="node10" href="mdt_8c.html#a86b797da36e5aea598fe6f1f3f526aa4" title="nilfs_mdt_fetch_dirty" alt="" coords="851,100,993,127"/>
<area shape="rect" id="node14" href="segbuf_8c.html#a50fe9d805ced3904d4db3898a2bdaac8" title="nilfs_segbuf_new" alt="" coords="1072,727,1195,753"/>
<area shape="rect" id="node15" href="segbuf_8c.html#aa497e69147c7836b3bb0c1fff2bbd08f" title="nilfs_segbuf_map" alt="" coords="1071,777,1195,804"/>
<area shape="rect" id="node16" href="the__nilfs_8h.html#acf48222a83fa3d618b30972ec417a030" title="nilfs_shift_to_next\l_segment" alt="" coords="1069,661,1197,702"/>
<area shape="rect" id="node17" href="segbuf_8c.html#aa25d7cf18d0db3708ee6fbd162717ba2" title="nilfs_segbuf_map_cont" alt="" coords="1055,609,1211,636"/>
<area shape="rect" id="node18" href="sufile_8c.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="1057,879,1209,905"/>
<area shape="rect" id="node19" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="1074,828,1193,855"/>
<area shape="rect" id="node20" href="segbuf_8c.html#ace2135c9c49660e18331d4bcc5bf9675" title="nilfs_segbuf_set_next\l_segnum" alt="" coords="1059,981,1208,1022"/>
<area shape="rect" id="node21" href="segbuf_8c.html#a63aa16390b9358fa427baa180df2584f" title="nilfs_segbuf_free" alt="" coords="1073,929,1194,956"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a39bd4ec246077eb3f8a8974c17457006" title="nilfs_segctor_reset\l_segment_buffer" alt="" coords="856,369,988,410"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="851,551,993,593"/>
<area shape="rect" id="node26" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="1069,543,1198,585"/>
<area shape="rect" id="node27" href="segbuf_8c.html#a797a3a84dc0d4d37ebdff3a9dd84cb96" title="nilfs_clear_logs" alt="" coords="866,435,978,461"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="851,835,993,877"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="847,486,997,527"/>
<area shape="rect" id="node29" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1086,1047,1181,1073"/>
<area shape="rect" id="node30" href="segbuf_8h.html#af99f2520e0aa7d1c3aa19d7f4b572bdb" title="nilfs_destroy_logs" alt="" coords="1070,1148,1197,1175"/>
<area shape="rect" id="node34" href="segbuf_8c.html#a07df0debf8c9a97127ff086a15f53226" title="nilfs_wait_on_logs" alt="" coords="1069,1300,1198,1327"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#ad9d24a60ef5de5f10b3d2fd206ea3aae" title="nilfs_abort_logs" alt="" coords="1077,1199,1190,1225"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a2ad2a278dd41af2f12f1e28a0b61ec8c" title="nilfs_cancel_segusage" alt="" coords="1056,1249,1211,1276"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1045,1097,1221,1124"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a68f908be4c8ec4db5ffed685614d6602" title="nilfs_segctor_update\l_payload_blocknr" alt="" coords="851,901,993,942"/>
<area shape="rect" id="node40" href="segbuf_8c.html#a2408739e4354a5a7c242c36647ad6b84" title="nilfs_segbuf_fill_in\l_segsum" alt="" coords="857,966,987,1007"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_icgraph" id="nilfs2_2segment_8h_a1907ac7b54882bbf06019eaf6d03c21c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="192,488,331,515"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="379,463,479,489"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="527,539,645,565"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="527,361,645,388"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2437,425,2557,452"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="905,488,996,515"/>
<area shape="rect" id="node5" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="703,336,822,363"/>
<area shape="rect" id="node6" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="693,266,832,307"/>
<area shape="rect" id="node7" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="880,228,1021,255"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1069,220,1244,247"/>
<area shape="rect" id="node9" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1292,177,1369,204"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2634,68,2739,95"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1417,177,1535,204"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2805,105,2894,132"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1612,203,1711,229"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1583,152,1740,179"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1792,211,1940,237"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1797,145,1935,186"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1788,93,1944,120"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1992,324,2171,351"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2257,336,2335,363"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2629,425,2744,452"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2621,349,2752,376"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2805,501,2894,528"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2803,349,2895,376"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2800,400,2899,427"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2807,451,2892,477"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2012,163,2151,189"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2231,177,2361,218"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2421,195,2573,221"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2637,144,2737,171"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2008,93,2155,120"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="2219,93,2373,120"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2442,93,2553,120"/>
</map>
</div>

</div>
</div>
<a id="a9e61516876368ef4aa3118ef414d37c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e61516876368ef4aa3118ef414d37c3">&#9670;&nbsp;</a></span>nilfs_salvage_orphan_logs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_salvage_orphan_logs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *&#160;</td>
          <td class="paramname"><em>ri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_salvage_orphan_logs - salvage logs written after the latest checkpoint : nilfs object : super block instance : pointer to a <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> struct to store search results.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error code is returned.</p>
<p>%-EINVAL - Inconsistent filesystem state.</p>
<p>%-EIO - I/O error</p>
<p>%-ENOSPC - No space left on device (only in a panic state).</p>
<p>%-ERESTARTSYS - Interrupted.</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_cgraph" id="nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a4d4b07670f241b39a170aea4c12dbd91" title="nilfs_attach_checkpoint" alt="" coords="231,692,389,719"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="915,1137,1015,1164"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="239,1680,381,1707"/>
<area shape="rect" id="node36" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="233,1185,387,1226"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="234,1344,386,1371"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="452,1293,607,1320"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="228,1832,392,1859"/>
<area shape="rect" id="node49" href="nilfs2_2recovery_8c.html#a45afe93f318383d5ed3381fa68650a8c" title="nilfs_finish_roll_forward" alt="" coords="231,1461,389,1488"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="447,64,611,91"/>
<area shape="rect" id="node6" href="cpfile_8c.html#a40c09da14774428448759c7e4bac12ec" title="nilfs_cpfile_get_checkpoint" alt="" coords="440,667,619,693"/>
<area shape="rect" id="node17" href="ifile_8c.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="477,249,582,276"/>
<area shape="rect" id="node23" href="cpfile_8c.html#a72e48092c22cb4deae815d7073201249" title="nilfs_cpfile_put_checkpoint" alt="" coords="440,717,619,744"/>
<area shape="rect" id="node4" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="697,5,817,32"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a5b852f45dfb6467814b578dd4c30ac2d" title="nilfs_sysfs_create\l_snapshot_group" alt="" coords="693,57,821,98"/>
<area shape="rect" id="node7" href="mdt_8h.html#a6726d332d6af4468ef3bc1a2ab975b56" title="nilfs_mdt_cno" alt="" coords="706,509,809,536"/>
<area shape="rect" id="node8" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="917,363,1013,389"/>
<area shape="rect" id="node9" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="680,561,835,602"/>
<area shape="rect" id="node10" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="668,626,847,667"/>
<area shape="rect" id="node11" href="cpfile_8c.html#a61f50ee8f6946771fe618e3ac414fae4" title="nilfs_cpfile_block\l_get_checkpoint" alt="" coords="696,443,819,485"/>
<area shape="rect" id="node12" href="cpfile_8c.html#a3426549677cf51101b5df35dc01aa4a7" title="nilfs_cpfile_is_in\l_first" alt="" coords="698,691,817,733"/>
<area shape="rect" id="node13" href="cpfile_8c.html#a447cee523bd7bc37ca3dda45ab0b5fa1" title="nilfs_cpfile_block\l_add_valid_checkpoints" alt="" coords="677,757,838,798"/>
<area shape="rect" id="node14" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="696,888,819,915"/>
<area shape="rect" id="node15" href="cpfile_8c.html#af5bb4325de3f70ecd2e2b03ea43205cb" title="nilfs_cpfile_block\l_get_header" alt="" coords="696,822,819,863"/>
<area shape="rect" id="node16" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="686,939,829,965"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="698,275,817,301"/>
<area shape="rect" id="node19" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="708,123,807,149"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842" title="nilfs_palloc_init_blockgroup" alt="" coords="667,224,848,251"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b" title="nilfs_palloc_setup\l_cache" alt="" coords="694,326,821,367"/>
<area shape="rect" id="node22" href="ifile_8c.html#a03a081dea13d3bbdbbe6df452fef3a9f" title="NILFS_IFILE_I" alt="" coords="702,173,813,200"/>
<area shape="rect" id="node25" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="1083,1130,1209,1171"/>
<area shape="rect" id="node26" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1125,1268,1167,1295"/>
<area shape="rect" id="node28" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="710,1487,805,1513"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="458,1513,601,1554"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="446,1731,613,1757"/>
<area shape="rect" id="node31" href="nilfs2_2recovery_8c.html#a3d8c2c650ddfd797f123c53e2f374587" title="nilfs_read_log_header" alt="" coords="455,1781,603,1808"/>
<area shape="rect" id="node32" href="nilfs2_2recovery_8c.html#a91af8857a8fd8f38883fefccafaff570" title="nilfs_validate_log" alt="" coords="468,1832,591,1859"/>
<area shape="rect" id="node33" href="nilfs2_2recovery_8c.html#abf77ed253bd969bb1d723c7ee3f8d8d8" title="nilfs_scan_dsync_log" alt="" coords="456,1883,603,1909"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="896,1483,1035,1525"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a15f5d18b0afaa21aa96bfcb45b98ab66" title="dispose_recovery_list" alt="" coords="455,1579,603,1605"/>
<area shape="rect" id="node37" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="473,1141,586,1168"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a84b5fcfc15ade4d11a4ca915643bcb8a" title="nilfs_segment_list_add" alt="" coords="452,1192,607,1219"/>
<area shape="rect" id="node39" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="468,1243,591,1269"/>
<area shape="rect" id="node40" href="sufile_8c.html#a6af95c8f1e6b7fedd7f95421e2eeafe6" title="nilfs_sufile_alloc" alt="" coords="470,964,589,991"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a642f913818c60b9458a79aadb090f3ad" title="nilfs_segctor_new" alt="" coords="466,1344,593,1371"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="465,1395,594,1437"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="684,1243,831,1269"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a6b6facffe5bf73523d4936fec680fa35" title="nilfs_dispose_list" alt="" coords="904,1268,1027,1295"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="464,1933,595,1960"/>
<area shape="rect" id="node50" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="468,1461,591,1488"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_icgraph" id="nilfs2_2segment_8h_a9e61516876368ef4aa3118ef414d37c3_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="228,208,305,235"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1570,241,1675,268"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="353,208,471,235"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1741,279,1830,305"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="548,183,647,209"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="519,233,676,260"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="728,183,876,209"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="733,285,871,326"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="724,233,880,260"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="928,81,1107,108"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1193,81,1271,108"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1373,81,1493,108"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1565,81,1680,108"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1557,31,1688,57"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1741,157,1830,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1739,5,1831,32"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1736,56,1835,83"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1743,107,1828,133"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="948,376,1087,403"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1167,361,1297,402"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1357,368,1509,395"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1573,317,1673,344"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="944,237,1091,264"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1155,288,1309,315"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1378,267,1489,293"/>
</map>
</div>

</div>
</div>
<a id="ac35601ebb220d6cce77c5513d0c5ff9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35601ebb220d6cce77c5513d0c5ff9a">&#9670;&nbsp;</a></span>nilfs_search_super_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_search_super_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *&#160;</td>
          <td class="paramname"><em>ri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_search_super_root - search the latest valid super root : <a class="el" href="structthe__nilfs.html">the_nilfs</a> : pointer to a <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> struct to store search results.</p>
<p><a class="el" href="nilfs2_2recovery_8c.html#a0277d890503e30014aee9b37557917f9">nilfs_search_super_root()</a> looks for the latest super-root from a partial segment pointed by the superblock. It sets up struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> through this search. It fills <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> (ri) required for recovery.</p>
<p>Return Value: On success, 0 is returned. On error, one of the following negative error code is returned.</p>
<p>%-EINVAL - No valid segment found</p>
<p>%-EIO - I/O error</p>
<p>%-ENOMEM - Insufficient memory available. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_cgraph.png" border="0" usemap="#nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_cgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_cgraph" id="nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_cgraph">
<area shape="rect" id="node2" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="269,5,336,32"/>
<area shape="rect" id="node3" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="255,56,350,83"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="231,107,374,149"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="219,173,386,200"/>
<area shape="rect" id="node6" href="buffer_8c.html#ab4482139a712709454d9a9605818a27c" title="__breadahead" alt="" coords="251,224,354,251"/>
<area shape="rect" id="node19" href="nilfs2_2recovery_8c.html#a3d8c2c650ddfd797f123c53e2f374587" title="nilfs_read_log_header" alt="" coords="229,275,377,301"/>
<area shape="rect" id="node20" href="nilfs2_2recovery_8c.html#a91af8857a8fd8f38883fefccafaff570" title="nilfs_validate_log" alt="" coords="241,325,364,352"/>
<area shape="rect" id="node22" href="nilfs2_2recovery_8c.html#a5a719edb6aac97b7519bc1a0190548ec" title="nilfs_dispose_segment_list" alt="" coords="213,376,392,403"/>
<area shape="rect" id="node23" href="nilfs2_2recovery_8c.html#a84b5fcfc15ade4d11a4ca915643bcb8a" title="nilfs_segment_list_add" alt="" coords="225,427,380,453"/>
<area shape="rect" id="node24" href="nilfs2_2recovery_8c.html#a109c59b06bae1b29692af69694c5ab03" title="nilfs_warn_segment\l_error" alt="" coords="233,478,372,519"/>
<area shape="rect" id="node7" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="482,249,569,276"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1279,225,1417,252"/>
<area shape="rect" id="node8" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="872,224,1025,251"/>
<area shape="rect" id="node12" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1109,108,1209,135"/>
<area shape="rect" id="node13" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="693,403,775,429"/>
<area shape="rect" id="node17" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="659,275,809,301"/>
<area shape="rect" id="node9" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1107,276,1212,303"/>
<area shape="rect" id="node10" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1088,159,1231,201"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="892,403,1005,429"/>
<area shape="rect" id="node15" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1089,428,1229,455"/>
<area shape="rect" id="node16" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1106,377,1213,404"/>
<area shape="rect" id="node18" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="857,165,1040,192"/>
<area shape="rect" id="node21" href="nilfs2_2recovery_8c.html#a259060e9360fc15d85d67af63a41b28b" title="nilfs_compute_checksum" alt="" coords="440,325,611,352"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_icgraph.png" border="0" usemap="#nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_icgraph" alt=""/></div>
<map name="nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_icgraph" id="nilfs2_2segment_8h_ac35601ebb220d6cce77c5513d0c5ff9a_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="213,229,291,256"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1577,196,1683,223"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="339,229,456,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1770,233,1859,260"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="533,204,632,231"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="504,255,661,281"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="713,196,861,223"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="718,247,857,289"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="709,313,865,340"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="913,196,1092,223"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1179,95,1256,121"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1359,95,1479,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1573,95,1687,121"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1565,44,1695,71"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1770,107,1859,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1769,157,1861,184"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1765,5,1864,32"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1772,56,1857,83"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="933,251,1072,277"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1153,241,1282,282"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1343,247,1495,273"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1580,247,1680,273"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1543,399,1717,425"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="929,309,1076,336"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1140,308,1295,335"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1363,348,1474,375"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a42cd0ba6d2875619bee0e6caf34d546e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42cd0ba6d2875619bee0e6caf34d546e">&#9670;&nbsp;</a></span>nilfs_transaction_cachep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* nilfs_transaction_cachep</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="nilfs2_2segment_8h.html">segment.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
