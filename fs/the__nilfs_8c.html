<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/the_nilfs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('the__nilfs_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">the_nilfs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/blkdev.h&gt;</code><br />
<code>#include &lt;linux/backing-dev.h&gt;</code><br />
<code>#include &lt;linux/random.h&gt;</code><br />
<code>#include &lt;linux/crc32.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nilfs_8h_source.html">nilfs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2segment_8h_source.html">segment.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2alloc_8h_source.html">alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cpfile_8h_source.html">cpfile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sufile_8h_source.html">sufile.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dat_8h_source.html">dat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="segbuf_8h_source.html">segbuf.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for the_nilfs.c:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c__incl.png" border="0" usemap="#nilfs2_2the__nilfs_8c" alt=""/></div>
<map name="nilfs2_2the__nilfs_8c" id="nilfs2_2the__nilfs_8c">
<area shape="rect" id="node8" href="nilfs_8h.html" title="nilfs.h" alt="" coords="1109,304,1166,331"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="318,453,378,480"/>
<area shape="rect" id="node20" href="dat_8h.html" title="dat.h" alt="" coords="192,453,243,480"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html" title="segment.h" alt="" coords="537,229,620,256"/>
<area shape="rect" id="node23" href="cpfile_8h.html" title="cpfile.h" alt="" coords="1084,453,1148,480"/>
<area shape="rect" id="node24" href="sufile_8h.html" title="sufile.h" alt="" coords="1047,80,1111,107"/>
<area shape="rect" id="node28" href="segbuf_8h.html" title="segbuf.h" alt="" coords="1768,453,1840,480"/>
<area shape="rect" id="node13" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="812,379,895,405"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="251,379,317,405"/>
<area shape="rect" id="node25" href="mdt_8h.html" title="mdt.h" alt="" coords="1134,155,1189,181"/>
<area shape="rect" id="node27" href="page_8h.html" title="page.h" alt="" coords="1199,229,1260,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8ceb12beba6767b9686f05cfe939f93d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d">nilfs_valid_sb</a> (struct nilfs_super_block *sbp)</td></tr>
<tr class="separator:a8ceb12beba6767b9686f05cfe939f93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c9de257ceab8b46cec8c42fb529506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a37c9de257ceab8b46cec8c42fb529506">nilfs_set_last_segment</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, sector_t start_blocknr, u64 seq, __u64 cno)</td></tr>
<tr class="separator:a37c9de257ceab8b46cec8c42fb529506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3198d9635e21797f660203341e355325"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a3198d9635e21797f660203341e355325">alloc_nilfs</a> (struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:a3198d9635e21797f660203341e355325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad11cec54b661557ca62709026a72f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#aaad11cec54b661557ca62709026a72f7">destroy_nilfs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:aaad11cec54b661557ca62709026a72f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571d8e8a8684ca89542920087a8b8527"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527">nilfs_load_super_root</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, sector_t sr_block)</td></tr>
<tr class="separator:a571d8e8a8684ca89542920087a8b8527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90140a5e806ed86807a685df437afd24"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a90140a5e806ed86807a685df437afd24">nilfs_init_recovery_info</a> (struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *ri)</td></tr>
<tr class="separator:a90140a5e806ed86807a685df437afd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c2aa5df0d1b266ae2b3007b945358b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#af1c2aa5df0d1b266ae2b3007b945358b">nilfs_clear_recovery_info</a> (struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *ri)</td></tr>
<tr class="separator:af1c2aa5df0d1b266ae2b3007b945358b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa005bd92de3da5b3ce705caa6b9d8e0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0">nilfs_store_log_cursor</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct nilfs_super_block *sbp)</td></tr>
<tr class="separator:afa005bd92de3da5b3ce705caa6b9d8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf19b96bd4de0b4bc159d5f7ceca5b3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#acf19b96bd4de0b4bc159d5f7ceca5b3d">load_nilfs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>)</td></tr>
<tr class="separator:acf19b96bd4de0b4bc159d5f7ceca5b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508ade480e6c15d6e4eb69e60f5ef16a"><td class="memItemLeft" align="right" valign="top">static unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a508ade480e6c15d6e4eb69e60f5ef16a">nilfs_max_size</a> (unsigned int blkbits)</td></tr>
<tr class="separator:a508ade480e6c15d6e4eb69e60f5ef16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bf85e7bb9022b3680b22d945d17f91"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91">nilfs_nrsvsegs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, unsigned long nsegs)</td></tr>
<tr class="separator:aa7bf85e7bb9022b3680b22d945d17f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38632ac69509070865038bf0120a1509"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a38632ac69509070865038bf0120a1509">nilfs_set_nsegments</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, unsigned long nsegs)</td></tr>
<tr class="separator:a38632ac69509070865038bf0120a1509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22907373d672bcca4321a699960d60a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a">nilfs_store_disk_layout</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct nilfs_super_block *sbp)</td></tr>
<tr class="separator:aa22907373d672bcca4321a699960d60a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf9ab796af0877e613972d42d084863"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a6bf9ab796af0877e613972d42d084863">nilfs_sb2_bad_offset</a> (struct nilfs_super_block *sbp, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a6bf9ab796af0877e613972d42d084863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe98e87527e9147b95f7297f33a5ef9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a7fe98e87527e9147b95f7297f33a5ef9">nilfs_release_super_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a7fe98e87527e9147b95f7297f33a5ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6809c74809ebc6547ec0168ba3303ad8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8">nilfs_fall_back_super_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a6809c74809ebc6547ec0168ba3303ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41ad60b507d8f217c2062c254a00367"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367">nilfs_swap_super_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:ab41ad60b507d8f217c2062c254a00367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70618b219547a9f82cfb00744f02bf70"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70">nilfs_load_super_block</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, int blocksize, struct nilfs_super_block **sbpp)</td></tr>
<tr class="separator:a70618b219547a9f82cfb00744f02bf70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6d8cc428f0a87bffff3afa1127664f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a6b6d8cc428f0a87bffff3afa1127664f">init_nilfs</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, struct <a class="el" href="structsuper__block.html">super_block</a> *<a class="el" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>, char *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a6b6d8cc428f0a87bffff3afa1127664f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7791ded5e1399589f827371de0638a52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a7791ded5e1399589f827371de0638a52">nilfs_discard_segments</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 *segnump, size_t nsegs)</td></tr>
<tr class="separator:a7791ded5e1399589f827371de0638a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbb3b8234eb658d4f2535b173d3553a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#afbb3b8234eb658d4f2535b173d3553a0">nilfs_count_free_blocks</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, sector_t *<a class="el" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033">nblocks</a>)</td></tr>
<tr class="separator:afbb3b8234eb658d4f2535b173d3553a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137faca9117bfef2a2264ccf3a9aa809"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809">nilfs_near_disk_full</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs)</td></tr>
<tr class="separator:a137faca9117bfef2a2264ccf3a9aa809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab515063d92ea4e8384e70d37bcaa46ff"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff">nilfs_lookup_root</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 cno)</td></tr>
<tr class="separator:ab515063d92ea4e8384e70d37bcaa46ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7deeda483b4076a9cdd1b09171f81445"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a7deeda483b4076a9cdd1b09171f81445">nilfs_find_or_create_root</a> (struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *nilfs, __u64 cno)</td></tr>
<tr class="separator:a7deeda483b4076a9cdd1b09171f81445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cc4f3286a6c2bdf7626a4093351fd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9">nilfs_put_root</a> (struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a59cc4f3286a6c2bdf7626a4093351fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3198d9635e21797f660203341e355325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3198d9635e21797f660203341e355325">&#9670;&nbsp;</a></span>alloc_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a>* alloc_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>alloc_nilfs - allocate a nilfs object : super block instance</p>
<p>Return Value: On success, pointer to <a class="el" href="structthe__nilfs.html">the_nilfs</a> is returned. On error, NULL is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a3198d9635e21797f660203341e355325_icgraph.png" border="0" usemap="#the__nilfs_8c_a3198d9635e21797f660203341e355325_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a3198d9635e21797f660203341e355325_icgraph" id="the__nilfs_8c_a3198d9635e21797f660203341e355325_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1707,308,1812,335"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="133,232,251,259"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1860,359,1949,385"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="328,308,427,335"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="299,257,456,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="508,257,656,284"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="513,370,651,411"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="504,316,660,343"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="708,156,887,183"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="973,156,1051,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1153,105,1273,132"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1367,105,1482,132"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1359,156,1490,183"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1565,156,1654,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1563,207,1655,233"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1560,55,1659,81"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1567,105,1652,132"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="728,383,867,409"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="947,386,1077,427"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1137,409,1289,436"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1375,409,1475,436"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1337,257,1512,284"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1571,257,1648,284"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="724,324,871,351"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="935,329,1089,356"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1158,359,1269,385"/>
</map>
</div>

</div>
</div>
<a id="aaad11cec54b661557ca62709026a72f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad11cec54b661557ca62709026a72f7">&#9670;&nbsp;</a></span>destroy_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>destroy_nilfs - destroy nilfs object : nilfs object to be released </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_cgraph.png" border="0" usemap="#the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_cgraph" alt=""/></div>
<map name="the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_cgraph" id="the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#ac1661c68bb700422ee697fbe56fa6077" title="nilfs_sysfs_delete\l_device_group" alt="" coords="149,5,276,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_icgraph.png" border="0" usemap="#the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_icgraph" alt=""/></div>
<map name="the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_icgraph" id="the__nilfs_8c_aaad11cec54b661557ca62709026a72f7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1174,144,1285,171"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1723,195,1828,221"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="149,119,267,145"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1876,271,1965,297"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="344,144,443,171"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="315,271,472,297"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="524,367,672,393"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="529,293,667,334"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="520,241,676,268"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="724,384,903,411"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="989,397,1067,424"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1169,448,1289,475"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1383,448,1498,475"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1375,397,1506,424"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1581,448,1670,475"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1579,499,1671,525"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1576,549,1675,576"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1583,397,1668,424"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="744,300,883,327"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="963,293,1093,334"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1153,296,1305,323"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1391,347,1491,373"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1353,245,1528,272"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1587,144,1664,171"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="740,241,887,268"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="951,241,1105,268"/>
</map>
</div>

</div>
</div>
<a id="a6b6d8cc428f0a87bffff3afa1127664f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6d8cc428f0a87bffff3afa1127664f">&#9670;&nbsp;</a></span>init_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>init_nilfs - initialize a NILFS instance. : <a class="el" href="structthe__nilfs.html">the_nilfs</a> structure : super block : mount options</p>
<p><a class="el" href="the__nilfs_8c.html#a6b6d8cc428f0a87bffff3afa1127664f">init_nilfs()</a> performs common initialization per block device (e.g. reading the super block, getting disk layout information, initializing shared fields in <a class="el" href="structthe__nilfs.html">the_nilfs</a>).</p>
<p>Return Value: On success, 0 is returned. On error, a negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_cgraph.png" border="0" usemap="#the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_cgraph" id="the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_cgraph">
<area shape="rect" id="node2" href="block__dev_8c.html#a4609eddf94630dd52695bed483952128" title="sb_min_blocksize" alt="" coords="138,259,265,285"/>
<area shape="rect" id="node3" href="block__dev_8c.html#a99c88b695576b1f18534d738442473cd" title="sb_set_blocksize" alt="" coords="349,208,471,235"/>
<area shape="rect" id="node13" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="124,433,279,460"/>
<area shape="rect" id="node17" href="the__nilfs_8c.html#a7fe98e87527e9147b95f7297f33a5ef9" title="nilfs_release_super\l_block" alt="" coords="343,513,477,554"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a560857e810c70125d485d11641b3c0c2" title="nilfs_store_magic_and\l_option" alt="" coords="125,559,277,601"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a9d331dc8ec752e1d74a637da2a496666" title="nilfs_check_feature\l_compatibility" alt="" coords="134,625,269,666"/>
<area shape="rect" id="node23" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="124,691,279,717"/>
<area shape="rect" id="node26" href="the__nilfs_8c.html#a508ade480e6c15d6e4eb69e60f5ef16a" title="nilfs_max_size" alt="" coords="147,741,256,768"/>
<area shape="rect" id="node27" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0" title="nilfs_store_log_cursor" alt="" coords="127,792,276,819"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a231c691132c8b9317086a17cfe0c14d8" title="nilfs_sysfs_create\l_device_group" alt="" coords="137,843,265,885"/>
<area shape="rect" id="node7" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="853,157,992,184"/>
<area shape="rect" id="node4" href="block__dev_8c.html#ad0a52f9e85426c68b7dd84acfd029875" title="set_blocksize" alt="" coords="543,132,646,159"/>
<area shape="rect" id="node5" href="block__dev_8c.html#aea79c1fb6c378e42eaadb870332355a5" title="sync_blockdev" alt="" coords="696,107,805,133"/>
<area shape="rect" id="node8" href="block__dev_8c.html#a429653607dbd7a1ed6e720416401a0b0" title="kill_bdev" alt="" coords="714,56,787,83"/>
<area shape="rect" id="node6" href="block__dev_8c.html#a3501e35ce465fe5f254e1f0420eef385" title="__sync_blockdev" alt="" coords="861,107,984,133"/>
<area shape="rect" id="node9" href="buffer_8c.html#af8b15597acd224dfa04357309707cfd4" title="invalidate_bh_lrus" alt="" coords="859,56,986,83"/>
<area shape="rect" id="node10" href="buffer_8c.html#a58f08838fd5b5a280918cfa9551bc921" title="has_bh_in_lru" alt="" coords="1075,5,1177,32"/>
<area shape="rect" id="node11" href="buffer_8c.html#ae42cb501946e9788971fc7a5011deac2" title="invalidate_bh_lru" alt="" coords="1067,56,1185,83"/>
<area shape="rect" id="node12" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1040,107,1212,133"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a40b62ad5e04cb348ddb8f9edf50a765a" title="nilfs_read_super_block" alt="" coords="333,360,487,387"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d" title="nilfs_valid_sb" alt="" coords="359,411,461,437"/>
<area shape="rect" id="node16" href="the__nilfs_8c.html#a6bf9ab796af0877e613972d42d084863" title="nilfs_sb2_bad_offset" alt="" coords="339,461,481,488"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="329,309,491,336"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5c45e6e5ab0745180bde1edbeeb328fa" title="nilfs_set_default_options" alt="" coords="327,629,493,656"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#aaeab43ad53047473bb2e7101890c5e45" title="parse_options" alt="" coords="359,579,461,605"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="339,691,481,717"/>
<area shape="rect" id="node25" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="541,691,648,717"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="339,785,481,826"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_icgraph.png" border="0" usemap="#the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_icgraph" id="the__nilfs_8c_a6b6d8cc428f0a87bffff3afa1127664f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1697,308,1803,335"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="124,232,241,259"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1851,359,1940,385"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="319,308,417,335"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="289,257,447,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="499,257,647,284"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="503,370,642,411"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="495,316,651,343"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="699,156,877,183"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="964,156,1041,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1144,105,1264,132"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1358,105,1473,132"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1350,156,1481,183"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1555,156,1645,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1554,207,1646,233"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1551,55,1649,81"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1557,105,1643,132"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="719,383,857,409"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="938,386,1067,427"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1128,409,1280,436"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1365,409,1465,436"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1328,257,1503,284"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1561,257,1639,284"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="715,324,861,351"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="925,329,1080,356"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1149,359,1259,385"/>
</map>
</div>

</div>
</div>
<a id="acf19b96bd4de0b4bc159d5f7ceca5b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf19b96bd4de0b4bc159d5f7ceca5b3d">&#9670;&nbsp;</a></span>load_nilfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_nilfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>load_nilfs - load and recover the nilfs : <a class="el" href="structthe__nilfs.html">the_nilfs</a> structure to be released : super block isntance used to recover past segment</p>
<p><a class="el" href="the__nilfs_8c.html#acf19b96bd4de0b4bc159d5f7ceca5b3d">load_nilfs()</a> searches and load the latest super root, attaches the last segment, and does recovery if needed. The caller must call this exclusively for simultaneous mounts. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph.png" border="0" usemap="#the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph" alt=""/></div>
<map name="the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph" id="the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a414a9e70465e7f8a25f7fbe3fec0031b" title="nilfs_valid_fs" alt="" coords="169,192,267,218"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a90140a5e806ed86807a685df437afd24" title="nilfs_init_recovery_info" alt="" coords="141,242,295,269"/>
<area shape="rect" id="node4" href="nilfs2_2recovery_8c.html#a0277d890503e30014aee9b37557917f9" title="nilfs_search_super_root" alt="" coords="355,394,515,421"/>
<area shape="rect" id="node18" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d" title="nilfs_valid_sb" alt="" coords="167,909,269,936"/>
<area shape="rect" id="node19" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0" title="nilfs_store_log_cursor" alt="" coords="143,293,293,320"/>
<area shape="rect" id="node20" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="145,858,291,885"/>
<area shape="rect" id="node33" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="876,808,919,834"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="131,344,305,370"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="149,1305,287,1332"/>
<area shape="rect" id="node50" href="the__nilfs_8c.html#af1c2aa5df0d1b266ae2b3007b945358b" title="nilfs_clear_recovery_info" alt="" coords="135,514,301,541"/>
<area shape="rect" id="node5" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="631,488,698,514"/>
<area shape="rect" id="node6" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="850,133,945,160"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="593,67,736,108"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="581,184,748,210"/>
<area shape="rect" id="node9" href="buffer_8c.html#ab4482139a712709454d9a9605818a27c" title="__breadahead" alt="" coords="613,386,716,413"/>
<area shape="rect" id="node12" href="nilfs2_2recovery_8c.html#a3d8c2c650ddfd797f123c53e2f374587" title="nilfs_read_log_header" alt="" coords="591,234,739,261"/>
<area shape="rect" id="node13" href="nilfs2_2recovery_8c.html#a91af8857a8fd8f38883fefccafaff570" title="nilfs_validate_log" alt="" coords="603,437,726,464"/>
<area shape="rect" id="node15" href="nilfs2_2recovery_8c.html#a5a719edb6aac97b7519bc1a0190548ec" title="nilfs_dispose_segment_list" alt="" coords="575,538,754,565"/>
<area shape="rect" id="node16" href="nilfs2_2recovery_8c.html#a84b5fcfc15ade4d11a4ca915643bcb8a" title="nilfs_segment_list_add" alt="" coords="587,285,742,312"/>
<area shape="rect" id="node17" href="nilfs2_2recovery_8c.html#a109c59b06bae1b29692af69694c5ab03" title="nilfs_warn_segment\l_error" alt="" coords="595,590,734,631"/>
<area shape="rect" id="node10" href="buffer_8c.html#ad9372db3e0c2dcbecdd95bd73d1e7143" title="ll_rw_block" alt="" coords="854,412,941,438"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1031,386,1169,413"/>
<area shape="rect" id="node14" href="nilfs2_2recovery_8c.html#a259060e9360fc15d85d67af63a41b28b" title="nilfs_compute_checksum" alt="" coords="812,546,983,573"/>
<area shape="rect" id="node21" href="nilfs2_2recovery_8c.html#a1f396e9debfefa7181d7e1f5b8b57a05" title="nilfs_read_super_root\l_block" alt="" coords="362,590,509,631"/>
<area shape="rect" id="node22" href="dat_8c.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="384,1052,487,1078"/>
<area shape="rect" id="node35" href="cpfile_8c.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="377,1178,493,1205"/>
<area shape="rect" id="node36" href="sufile_8c.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="377,1229,493,1256"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="605,1280,724,1306"/>
<area shape="rect" id="node24" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="615,1330,714,1357"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842" title="nilfs_palloc_init_blockgroup" alt="" coords="574,1026,755,1053"/>
<area shape="rect" id="node26" href="dat_8c.html#a234f85bcb51231903d007ece17b912f8" title="NILFS_DAT_I" alt="" coords="612,858,717,885"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b" title="nilfs_palloc_setup\l_cache" alt="" coords="601,910,728,951"/>
<area shape="rect" id="node28" href="mdt_8c.html#af086b786e77eaa33878204ec7e161bb3" title="nilfs_mdt_setup_shadow_map" alt="" coords="565,976,764,1002"/>
<area shape="rect" id="node29" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="578,1229,751,1256"/>
<area shape="rect" id="node30" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="833,1128,962,1154"/>
<area shape="rect" id="node32" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="624,1128,705,1154"/>
<area shape="rect" id="node31" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1031,993,1169,1020"/>
<area shape="rect" id="node34" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1063,808,1137,834"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a4d4b07670f241b39a170aea4c12dbd91" title="nilfs_attach_checkpoint" alt="" coords="356,656,515,682"/>
<area shape="rect" id="node39" href="the__nilfs_8c.html#a59cc4f3286a6c2bdf7626a4093351fd9" title="nilfs_put_root" alt="" coords="615,706,715,733"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="365,222,506,249"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="359,278,512,319"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="359,68,511,94"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="587,16,742,42"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="353,344,517,370"/>
<area shape="rect" id="node45" href="nilfs2_2recovery_8c.html#a45afe93f318383d5ed3381fa68650a8c" title="nilfs_finish_roll_forward" alt="" coords="356,170,515,197"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="368,1280,503,1306"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#a6cb8ff08bb40fc6f664e18570efacb50" title="nilfs_set_log_cursor" alt="" coords="366,1330,505,1357"/>
<area shape="rect" id="node49" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="368,1381,503,1408"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph.png" border="0" usemap="#the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph" alt=""/></div>
<map name="the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph" id="the__nilfs_8c_acf19b96bd4de0b4bc159d5f7ceca5b3d_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1704,308,1809,335"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="131,232,248,259"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1857,359,1947,385"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="325,308,424,335"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="296,257,453,284"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="505,257,653,284"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="510,370,649,411"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="501,316,657,343"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="705,156,884,183"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="971,156,1048,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1151,105,1271,132"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1365,105,1479,132"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1357,156,1487,183"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1562,156,1651,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1561,207,1653,233"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1557,55,1656,81"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1564,105,1649,132"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="725,383,864,409"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="945,386,1074,427"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1135,409,1287,436"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1372,409,1472,436"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1335,257,1509,284"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1568,257,1645,284"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="721,324,868,351"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="932,329,1087,356"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1155,359,1266,385"/>
</map>
</div>

</div>
</div>
<a id="af1c2aa5df0d1b266ae2b3007b945358b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c2aa5df0d1b266ae2b3007b945358b">&#9670;&nbsp;</a></span>nilfs_clear_recovery_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_clear_recovery_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *&#160;</td>
          <td class="paramname"><em>ri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_cgraph.png" border="0" usemap="#the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_cgraph" alt=""/></div>
<map name="the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_cgraph" id="the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2recovery_8c.html#a5a719edb6aac97b7519bc1a0190548ec" title="nilfs_dispose_segment_list" alt="" coords="220,5,399,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_icgraph.png" border="0" usemap="#the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_icgraph" alt=""/></div>
<map name="the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_icgraph" id="the__nilfs_8c_af1c2aa5df0d1b266ae2b3007b945358b_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="220,229,297,256"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1584,196,1689,223"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="345,229,463,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1777,233,1866,260"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="540,204,639,231"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="511,255,668,281"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="720,196,868,223"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="725,247,863,289"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="716,313,872,340"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="920,196,1099,223"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1185,95,1263,121"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1365,95,1485,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1579,95,1694,121"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1571,44,1702,71"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1777,107,1866,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1775,157,1867,184"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1772,5,1871,32"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1779,56,1864,83"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="940,251,1079,277"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1159,241,1289,282"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1349,247,1501,273"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1587,247,1687,273"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1549,399,1724,425"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="936,309,1083,336"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1147,308,1301,335"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1370,348,1481,375"/>
</map>
</div>

</div>
</div>
<a id="afbb3b8234eb658d4f2535b173d3553a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb3b8234eb658d4f2535b173d3553a0">&#9670;&nbsp;</a></span>nilfs_count_free_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_count_free_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t *&#160;</td>
          <td class="paramname"><em>nblocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_cgraph.png" border="0" usemap="#the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_cgraph" alt=""/></div>
<map name="the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_cgraph" id="the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="581,5,677,32"/>
<area shape="rect" id="node3" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="212,31,395,57"/>
<area shape="rect" id="node4" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="443,31,533,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_icgraph.png" border="0" usemap="#the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_icgraph" alt=""/></div>
<map name="the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_icgraph" id="the__nilfs_8c_afbb3b8234eb658d4f2535b173d3553a0_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a6cb8ff08bb40fc6f664e18570efacb50" title="nilfs_set_log_cursor" alt="" coords="236,183,375,209"/>
<area shape="rect" id="node10" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="770,284,887,311"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="262,309,349,336"/>
<area shape="rect" id="node34" href="nilfs2_2sysfs_8c.html#af7c911663115a102ca0afffeb63820ec" title="nilfs_dev_free_blocks_show" alt="" coords="212,360,399,387"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="447,452,584,479"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="965,233,1064,260"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="936,284,1093,311"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="462,81,569,108"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1795,452,1906,479"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#afddf1bc2d6f6a65d34f58c1ab8a363bd" title="nilfs_freeze" alt="" coords="632,503,721,529"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2012,401,2112,428"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="638,343,715,369"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2202,351,2291,377"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2009,275,2115,301"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1145,233,1293,260"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1150,285,1289,326"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1141,351,1297,377"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1345,132,1524,159"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1611,107,1688,133"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1791,81,1911,108"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2005,81,2119,108"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1997,132,2127,159"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2202,56,2291,83"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2201,107,2293,133"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2197,157,2296,184"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2204,5,2289,32"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1365,292,1504,319"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1585,285,1714,326"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1775,300,1927,327"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1975,351,2149,377"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1361,351,1508,377"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1572,351,1727,377"/>
<area shape="rect" id="node32" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="769,81,888,108"/>
</map>
</div>

</div>
</div>
<a id="a7791ded5e1399589f827371de0638a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7791ded5e1399589f827371de0638a52">&#9670;&nbsp;</a></span>nilfs_discard_segments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_discard_segments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>segnump</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nsegs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a7791ded5e1399589f827371de0638a52_cgraph.png" border="0" usemap="#the__nilfs_8c_a7791ded5e1399589f827371de0638a52_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a7791ded5e1399589f827371de0638a52_cgraph" id="the__nilfs_8c_a7791ded5e1399589f827371de0638a52_cgraph">
<area shape="rect" id="node2" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="262,5,329,32"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#a0dc161eb6c4f6bad9212b67517b46a37" title="nilfs_get_segment_range" alt="" coords="212,56,379,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a7791ded5e1399589f827371de0638a52_icgraph.png" border="0" usemap="#the__nilfs_8c_a7791ded5e1399589f827371de0638a52_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a7791ded5e1399589f827371de0638a52_icgraph" id="the__nilfs_8c_a7791ded5e1399589f827371de0638a52_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="587,161,735,188"/>
<area shape="rect" id="node12" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="212,237,329,264"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="787,151,965,177"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1052,144,1129,171"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1232,93,1352,120"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1446,93,1561,120"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1438,144,1569,171"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1643,5,1733,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1642,56,1734,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1639,107,1737,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1645,157,1731,184"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="407,212,505,239"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="377,263,535,289"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="591,234,730,275"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="583,300,739,327"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="807,241,945,268"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1026,234,1155,275"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1216,245,1368,272"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1785,335,1891,361"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1453,233,1553,260"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1416,335,1591,361"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1939,309,2028,336"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1649,448,1727,475"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="803,300,949,327"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1013,300,1168,327"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1237,347,1347,373"/>
</map>
</div>

</div>
</div>
<a id="a6809c74809ebc6547ec0168ba3303ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6809c74809ebc6547ec0168ba3303ad8">&#9670;&nbsp;</a></span>nilfs_fall_back_super_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_fall_back_super_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a6809c74809ebc6547ec0168ba3303ad8_icgraph.png" border="0" usemap="#the__nilfs_8c_a6809c74809ebc6547ec0168ba3303ad8_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a6809c74809ebc6547ec0168ba3303ad8_icgraph" id="the__nilfs_8c_a6809c74809ebc6547ec0168ba3303ad8_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="197,720,317,747"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="889,796,1006,823"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="365,695,500,721"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="565,543,669,569"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="548,897,685,924"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1084,695,1183,721"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1055,839,1212,865"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="733,593,840,620"/>
<area shape="rect" id="node49" href="nilfs2_2super_8c.html#ad1bd93bfa62ef944a263d390b0a5cfe0" title="nilfs_setup_super" alt="" coords="1911,695,2035,721"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="901,413,994,440"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1271,251,1405,293"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1479,361,1627,402"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a2db2c217075b59d70517b64fd3ce2337" title="nilfs_bmap_lookup_contig" alt="" coords="1467,427,1639,453"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1491,477,1615,504"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="1479,5,1627,32"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1483,56,1624,83"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="1490,107,1617,133"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="1484,259,1623,285"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a4e4d1e3c6c00e6c90ef028015ab36b42" title="nilfs_bmap_propagate" alt="" coords="1479,157,1628,184"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#ab86d5dcef542a000d11ba96af676b5f0" title="nilfs_bmap_assign" alt="" coords="1488,208,1619,235"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8h.html#aee687b837e89608c14c2697b08fa2a71" title="nilfs_bmap_mark" alt="" coords="1493,309,1614,336"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="1709,361,1831,402"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1691,243,1849,285"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1705,309,1835,336"/>
<area shape="rect" id="node12" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1715,477,1825,504"/>
<area shape="rect" id="node14" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="1724,427,1816,453"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1913,477,2033,504"/>
<area shape="rect" id="node16" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1697,529,1843,570"/>
<area shape="rect" id="node18" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1699,5,1841,32"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1701,124,1839,151"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1918,948,2029,975"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#afddf1bc2d6f6a65d34f58c1ab8a363bd" title="nilfs_freeze" alt="" coords="742,897,831,924"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2135,796,2235,823"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="748,999,825,1025"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2320,821,2409,848"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2132,847,2237,873"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1264,619,1412,645"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1269,831,1407,873"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1260,897,1416,924"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1464,619,1643,645"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1731,619,1809,645"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1484,839,1623,865"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1705,831,1835,873"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1897,847,2049,873"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2097,1049,2272,1076"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1480,897,1627,924"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1693,897,1847,924"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="888,581,1007,608"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a76497fa0cac9d156c73b94dd615621cd" title="nilfs_unfreeze" alt="" coords="2133,695,2236,721"/>
</map>
</div>

</div>
</div>
<a id="a7deeda483b4076a9cdd1b09171f81445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7deeda483b4076a9cdd1b09171f81445">&#9670;&nbsp;</a></span>nilfs_find_or_create_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnilfs__root.html">nilfs_root</a>* nilfs_find_or_create_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_cgraph.png" border="0" usemap="#the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_cgraph" id="the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#ab515063d92ea4e8384e70d37bcaa46ff" title="nilfs_lookup_root" alt="" coords="221,5,341,32"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a5b852f45dfb6467814b578dd4c30ac2d" title="nilfs_sysfs_create\l_snapshot_group" alt="" coords="217,57,345,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_icgraph.png" border="0" usemap="#the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_icgraph" id="the__nilfs_8c_a7deeda483b4076a9cdd1b09171f81445_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="217,419,376,445"/>
<area shape="rect" id="node8" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="844,241,961,268"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="647,495,796,521"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2061,343,2166,369"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="424,368,599,395"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2231,343,2321,369"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="683,292,760,319"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1039,191,1137,217"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1009,241,1167,268"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1219,124,1367,151"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1223,175,1362,217"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1215,241,1371,268"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1419,124,1597,151"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1684,124,1761,151"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1864,81,1984,108"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2056,81,2171,108"/>
<area shape="rect" id="node20" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2048,132,2179,159"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2231,107,2321,133"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2230,157,2322,184"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2227,5,2325,32"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2233,56,2319,83"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1439,187,1577,213"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1658,182,1787,223"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1848,191,2000,217"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2063,241,2163,268"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1435,241,1581,268"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1645,343,1800,369"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1869,343,1979,369"/>
</map>
</div>

</div>
</div>
<a id="a90140a5e806ed86807a685df437afd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90140a5e806ed86807a685df437afd24">&#9670;&nbsp;</a></span>nilfs_init_recovery_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_init_recovery_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__recovery__info.html">nilfs_recovery_info</a> *&#160;</td>
          <td class="paramname"><em>ri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a90140a5e806ed86807a685df437afd24_icgraph.png" border="0" usemap="#the__nilfs_8c_a90140a5e806ed86807a685df437afd24_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a90140a5e806ed86807a685df437afd24_icgraph" id="the__nilfs_8c_a90140a5e806ed86807a685df437afd24_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="208,229,285,256"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1572,196,1677,223"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="333,229,451,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1765,233,1854,260"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="528,204,627,231"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="499,255,656,281"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="708,196,856,223"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="713,247,851,289"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="704,313,860,340"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="908,196,1087,223"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1173,95,1251,121"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1353,95,1473,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1567,95,1682,121"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1559,44,1690,71"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1765,107,1854,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1763,157,1855,184"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1760,5,1859,32"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1767,56,1852,83"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="928,251,1067,277"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1147,241,1277,282"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1337,247,1489,273"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1575,247,1675,273"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1537,399,1712,425"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="924,309,1071,336"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1135,308,1289,335"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1358,348,1469,375"/>
</map>
</div>

</div>
</div>
<a id="a70618b219547a9f82cfb00744f02bf70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70618b219547a9f82cfb00744f02bf70">&#9670;&nbsp;</a></span>nilfs_load_super_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_load_super_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_super_block **&#160;</td>
          <td class="paramname"><em>sbpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_cgraph.png" border="0" usemap="#the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_cgraph" id="the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#a40b62ad5e04cb348ddb8f9edf50a765a" title="nilfs_read_super_block" alt="" coords="211,5,366,32"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a8ceb12beba6767b9686f05cfe939f93d" title="nilfs_valid_sb" alt="" coords="238,56,339,83"/>
<area shape="rect" id="node4" href="the__nilfs_8c.html#a6bf9ab796af0877e613972d42d084863" title="nilfs_sb2_bad_offset" alt="" coords="217,107,360,133"/>
<area shape="rect" id="node5" href="the__nilfs_8c.html#a7fe98e87527e9147b95f7297f33a5ef9" title="nilfs_release_super\l_block" alt="" coords="221,158,356,199"/>
<area shape="rect" id="node6" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="208,224,369,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_icgraph.png" border="0" usemap="#the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_icgraph" id="the__nilfs_8c_a70618b219547a9f82cfb00744f02bf70_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="208,131,279,157"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1900,308,2005,335"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="327,232,444,259"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2053,359,2143,385"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="521,308,620,335"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="492,257,649,284"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="701,257,849,284"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="706,370,845,411"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="697,316,853,343"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="901,156,1080,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1167,156,1244,183"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1347,105,1467,132"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1561,105,1675,132"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1553,156,1683,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1758,156,1847,183"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1757,207,1849,233"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1753,55,1852,81"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1760,105,1845,132"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="921,383,1060,409"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1141,386,1270,427"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1331,409,1483,436"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1568,409,1668,436"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1531,257,1705,284"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1764,257,1841,284"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="917,324,1064,351"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1128,329,1283,356"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1351,359,1462,385"/>
</map>
</div>

</div>
</div>
<a id="a571d8e8a8684ca89542920087a8b8527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571d8e8a8684ca89542920087a8b8527">&#9670;&nbsp;</a></span>nilfs_load_super_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_load_super_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsuper__block.html">super_block</a> *&#160;</td>
          <td class="paramname"><em>sb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>sr_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_cgraph.png" border="0" usemap="#the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_cgraph" id="the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_cgraph">
<area shape="rect" id="node2" href="nilfs2_2recovery_8c.html#a1f396e9debfefa7181d7e1f5b8b57a05" title="nilfs_read_super_root\l_block" alt="" coords="199,60,345,101"/>
<area shape="rect" id="node5" href="dat_8c.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="221,557,323,583"/>
<area shape="rect" id="node8" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="933,227,975,254"/>
<area shape="rect" id="node32" href="cpfile_8c.html#afc2e663c9b54bd6b3fc4a9f57c6e98a0" title="nilfs_cpfile_read" alt="" coords="214,506,330,533"/>
<area shape="rect" id="node33" href="sufile_8c.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="214,633,330,659"/>
<area shape="rect" id="node3" href="nilfs2_2recovery_8c.html#a259060e9360fc15d85d67af63a41b28b" title="nilfs_compute_checksum" alt="" coords="399,71,569,98"/>
<area shape="rect" id="node4" href="nilfs2_2recovery_8c.html#a109c59b06bae1b29692af69694c5ab03" title="nilfs_warn_segment\l_error" alt="" coords="415,5,553,47"/>
<area shape="rect" id="node6" href="nilfs2_2inode_8c.html#ae758d8edf633a8af3535ac0af248f1d1" title="nilfs_iget_locked" alt="" coords="425,481,543,507"/>
<area shape="rect" id="node14" href="mdt_8c.html#a9d24c6e56a98e581fc30fd8a65841e2a" title="nilfs_mdt_init" alt="" coords="435,683,533,710"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842" title="nilfs_palloc_init_blockgroup" alt="" coords="393,785,575,811"/>
<area shape="rect" id="node20" href="dat_8c.html#a234f85bcb51231903d007ece17b912f8" title="NILFS_DAT_I" alt="" coords="901,967,1007,994"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b" title="nilfs_palloc_setup\l_cache" alt="" coords="421,1019,547,1060"/>
<area shape="rect" id="node22" href="mdt_8c.html#af086b786e77eaa33878204ec7e161bb3" title="nilfs_mdt_setup_shadow_map" alt="" coords="623,683,821,710"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#affec0e84c605c1d9028332974ba58cd3" title="nilfs_read_inode_common" alt="" coords="397,531,571,558"/>
<area shape="rect" id="node28" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="657,177,787,203"/>
<area shape="rect" id="node29" href="bad__inode_8c.html#a8c027cf52e2b7669b11b0bfa09bbcd45" title="iget_failed" alt="" coords="443,379,525,406"/>
<area shape="rect" id="node7" href="inode_8c.html#a0e9a0440646ab0424be87f1ee6387c64" title="iget5_locked" alt="" coords="675,278,769,305"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#a42350b0b59e53776755f5a0b17efd97f" title="nilfs_iget_test" alt="" coords="671,481,773,507"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#ab596c6b27b262ff881fb811a5d25990a" title="nilfs_iget_set" alt="" coords="673,430,771,457"/>
<area shape="rect" id="node10" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1087,329,1225,355"/>
<area shape="rect" id="node9" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1119,227,1193,254"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="919,481,989,507"/>
<area shape="rect" id="node16" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1108,1199,1204,1226"/>
<area shape="rect" id="node17" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="639,734,805,761"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="655,901,789,943"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="655,836,789,877"/>
<area shape="rect" id="node23" href="inode_8c.html#a183235cecd8d20b13b850d733c4646b7" title="address_space_init_once" alt="" coords="869,582,1039,609"/>
<area shape="rect" id="node24" href="nilfs2_2page_8c.html#af45dc6fc4ee541d83a508bac51eddfe4" title="nilfs_mapping_init" alt="" coords="891,633,1017,659"/>
<area shape="rect" id="node26" href="inode_8c.html#a01ed868f59230449a75b85f7157efd95" title="set_nlink" alt="" coords="917,531,991,558"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8c.html#a1dab812b511c175bcc95dd9221f82172" title="nilfs_bmap_read" alt="" coords="663,633,781,659"/>
<area shape="rect" id="node30" href="bad__inode_8c.html#ab9cc2af6161530b35e5f86e29f977033" title="make_bad_inode" alt="" coords="662,379,782,406"/>
<area shape="rect" id="node31" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="885,379,1023,406"/>
<area shape="rect" id="node34" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="877,1529,1031,1571"/>
<area shape="rect" id="node36" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="909,1290,999,1317"/>
<area shape="rect" id="node37" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="394,1439,574,1466"/>
<area shape="rect" id="node35" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1087,1697,1225,1723"/>
<area shape="rect" id="node38" href="sufile_8h.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="631,1287,813,1314"/>
<area shape="rect" id="node39" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="651,1221,793,1263"/>
<area shape="rect" id="node40" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="663,1439,781,1466"/>
<area shape="rect" id="node41" href="sufile_8h.html#ae5c9db186be6baf07d66e049a0fd9b9b" title="nilfs_sufile_mark_dirty" alt="" coords="646,1642,798,1669"/>
<area shape="rect" id="node42" href="sufile_8h.html#ac6379742426c30d02072b1a5b0f527f8" title="nilfs_sufile_set_segment\l_usage" alt="" coords="871,1088,1037,1129"/>
<area shape="rect" id="node43" href="itree__common_8c.html#a9e0e9bc5296a639c2e2a4b9b99733033" title="nblocks" alt="" coords="689,1591,755,1618"/>
<area shape="rect" id="node44" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="653,1541,791,1567"/>
<area shape="rect" id="node45" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="647,1170,797,1197"/>
<area shape="rect" id="node46" href="sufile_8h.html#abc30bf95562e00949a44b244e3088687" title="nilfs_sufile_set_suinfo" alt="" coords="647,1693,797,1719"/>
<area shape="rect" id="node47" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="653,1743,791,1770"/>
<area shape="rect" id="node48" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="657,1490,787,1517"/>
<area shape="rect" id="node49" href="sufile_8h.html#acad60c93c0f7f6c3a8a9dc843107f1ed" title="nilfs_sufile_do_scrap" alt="" coords="650,1338,794,1365"/>
<area shape="rect" id="node50" href="sufile_8h.html#a577d0d35a7907909b6c0a139d8cc1704" title="nilfs_sufile_do_free" alt="" coords="655,1389,789,1415"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_icgraph.png" border="0" usemap="#the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_icgraph" id="the__nilfs_8c_a571d8e8a8684ca89542920087a8b8527_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="199,229,276,256"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1563,196,1668,223"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="324,229,441,256"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1755,233,1845,260"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="519,204,617,231"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="489,255,647,281"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="699,196,847,223"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="703,247,842,289"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="695,313,851,340"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="899,196,1077,223"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1164,95,1241,121"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1344,95,1464,121"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1558,95,1673,121"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1550,44,1681,71"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1755,107,1845,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1754,157,1846,184"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1751,5,1849,32"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1757,56,1843,83"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="919,251,1057,277"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1138,241,1267,282"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1328,247,1480,273"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1565,247,1665,273"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1528,399,1703,425"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="915,309,1061,336"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1125,308,1280,335"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1349,348,1459,375"/>
</map>
</div>

</div>
</div>
<a id="ab515063d92ea4e8384e70d37bcaa46ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab515063d92ea4e8384e70d37bcaa46ff">&#9670;&nbsp;</a></span>nilfs_lookup_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnilfs__root.html">nilfs_root</a>* nilfs_lookup_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_ab515063d92ea4e8384e70d37bcaa46ff_icgraph.png" border="0" usemap="#the__nilfs_8c_ab515063d92ea4e8384e70d37bcaa46ff_icgraph" alt=""/></div>
<map name="the__nilfs_8c_ab515063d92ea4e8384e70d37bcaa46ff_icgraph" id="the__nilfs_8c_ab515063d92ea4e8384e70d37bcaa46ff_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="189,179,322,221"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="198,477,313,504"/>
<area shape="rect" id="node16" href="the__nilfs_8h.html#a7deeda483b4076a9cdd1b09171f81445" title="nilfs_find_or_create_root" alt="" coords="173,325,337,352"/>
<area shape="rect" id="node23" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1005,296,1123,323"/>
<area shape="rect" id="node3" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="398,169,531,210"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="815,145,941,186"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1861,133,1939,160"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2041,81,2161,108"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2233,81,2348,108"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2225,132,2356,159"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2409,5,2498,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2407,56,2499,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2404,107,2503,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2411,157,2496,184"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="402,477,527,504"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="402,528,527,555"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="385,427,544,453"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="989,579,1139,605"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2238,385,2343,412"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="592,427,767,453"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2409,385,2498,412"/>
<area shape="rect" id="node22" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="839,376,917,403"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1216,245,1315,272"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1187,296,1344,323"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1396,191,1544,217"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1401,310,1539,351"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1392,259,1548,285"/>
<area shape="rect" id="node27" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1596,191,1775,217"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1616,321,1755,348"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1835,317,1965,358"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2025,335,2177,361"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2241,335,2341,361"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1612,263,1759,289"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1823,264,1977,291"/>
<area shape="rect" id="node36" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2046,233,2157,260"/>
</map>
</div>

</div>
</div>
<a id="a508ade480e6c15d6e4eb69e60f5ef16a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a508ade480e6c15d6e4eb69e60f5ef16a">&#9670;&nbsp;</a></span>nilfs_max_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long long nilfs_max_size </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>blkbits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a508ade480e6c15d6e4eb69e60f5ef16a_icgraph.png" border="0" usemap="#the__nilfs_8c_a508ade480e6c15d6e4eb69e60f5ef16a_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a508ade480e6c15d6e4eb69e60f5ef16a_icgraph" id="the__nilfs_8c_a508ade480e6c15d6e4eb69e60f5ef16a_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="163,131,233,157"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1855,308,1960,335"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="281,232,399,259"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2008,359,2097,385"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="476,308,575,335"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="447,257,604,284"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="656,257,804,284"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="661,370,799,411"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="652,316,808,343"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="856,156,1035,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1121,156,1199,183"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1301,105,1421,132"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1515,105,1630,132"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1507,156,1638,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1713,156,1802,183"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1711,207,1803,233"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1708,55,1807,81"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1715,105,1800,132"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="876,383,1015,409"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1095,386,1225,427"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1285,409,1437,436"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1523,409,1623,436"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1485,257,1660,284"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1719,257,1796,284"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="872,324,1019,351"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1083,329,1237,356"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1306,359,1417,385"/>
</map>
</div>

</div>
</div>
<a id="a137faca9117bfef2a2264ccf3a9aa809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137faca9117bfef2a2264ccf3a9aa809">&#9670;&nbsp;</a></span>nilfs_near_disk_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_near_disk_full </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_cgraph.png" border="0" usemap="#the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_cgraph" id="the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_cgraph">
<area shape="rect" id="node2" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="187,5,369,32"/>
<area shape="rect" id="node3" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="417,5,508,32"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="556,5,652,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_icgraph.png" border="0" usemap="#the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_icgraph" id="the__nilfs_8c_a137faca9117bfef2a2264ccf3a9aa809_icgraph">
<area shape="rect" id="node2" href="nilfs2_2file_8c.html#afcd58fb7c6b35bfcc8fbc7bb056ada6a" title="nilfs_page_mkwrite" alt="" coords="605,576,740,603"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#ae4a012a0fc0026d060aa426f15cfb8a7" title="nilfs_transaction_begin" alt="" coords="187,804,341,831"/>
<area shape="rect" id="node45" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="205,1591,323,1617"/>
<area shape="rect" id="node4" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="413,905,523,932"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1047,677,1143,704"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1409,904,1498,931"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1407,1179,1499,1205"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1404,259,1503,285"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1411,652,1496,679"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1219,1379,1349,1405"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a58c2145f412579c3d56691a02664b765" title="nilfs_link" alt="" coords="1058,525,1131,552"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1035,931,1154,957"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="623,1133,723,1160"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="843,1184,933,1211"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="409,1285,527,1312"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="410,1235,526,1261"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="425,373,511,400"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="427,424,509,451"/>
<area shape="rect" id="node33" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="1221,1547,1347,1589"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#ab3ff49abdd05f571d15c3d7fb185f7c0" title="nilfs_ioctl_delete\l_checkpoint" alt="" coords="1225,1430,1343,1471"/>
<area shape="rect" id="node35" href="nilfs2_2ioctl_8c.html#a879fc213e33210988660173aec449143" title="nilfs_ioctl_set_suinfo" alt="" coords="1212,1496,1356,1523"/>
<area shape="rect" id="node36" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="390,475,546,501"/>
<area shape="rect" id="node5" href="nilfs2_2dir_8c.html#a55553e9b12fce10c26929949ffe00557" title="nilfs_prepare_chunk" alt="" coords="603,880,742,907"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1035,1065,1155,1092"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#af81d8ec7c4b0bed51a75726dfa0c3b72" title="nilfs_readpage" alt="" coords="619,779,726,805"/>
<area shape="rect" id="node21" href="nilfs2_2inode_8c.html#a62f2ac370fcc72dfc82821f108e2f85b" title="nilfs_readpages" alt="" coords="616,829,729,856"/>
<area shape="rect" id="node23" href="nilfs2_2inode_8c.html#a54717c6cc2bfdd41b34fa5bc3bb618ca" title="nilfs_direct_IO" alt="" coords="619,981,726,1008"/>
<area shape="rect" id="node26" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1025,991,1164,1033"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a08aeacd7127780bda067e82f9aed21e7" title="nilfs_set_link" alt="" coords="839,779,937,805"/>
<area shape="rect" id="node16" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="837,677,939,704"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a3e382832dc0a0bcaa7b1548042db3258" title="nilfs_delete_entry" alt="" coords="826,829,950,856"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a0b5a6c13f206782e032dce17783e2b3f" title="nilfs_make_empty" alt="" coords="824,880,952,907"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1227,1053,1341,1080"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1415,1437,1492,1464"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="829,1032,947,1059"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1213,999,1355,1025"/>
<area shape="rect" id="node37" href="mdt_8h.html#af22a199db78ca4f03ee4558c8b3701cd" title="nilfs_mdt_get_block" alt="" coords="603,317,742,344"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="809,342,967,383"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="813,408,963,435"/>
<area shape="rect" id="node40" href="cpfile_8c.html#a9ff8012cf954ee1e283e981e7c92c4cf" title="nilfs_cpfile_get_header\l_block" alt="" coords="811,459,965,501"/>
<area shape="rect" id="node41" href="cpfile_8c.html#a3aefee4421b37e13cdc047fbd1765eef" title="nilfs_cpfile_get_checkpoint\l_block" alt="" coords="799,159,977,201"/>
<area shape="rect" id="node42" href="sufile_8c.html#a7df3cdff37c5aa00cca3458f1d7d400e" title="nilfs_sufile_get_header\l_block" alt="" coords="811,94,965,135"/>
<area shape="rect" id="node43" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="1026,163,1163,189"/>
<area shape="rect" id="node44" href="sufile_8c.html#a38f2abf7ef7577b1af4b9e8fc9316727" title="nilfs_sufile_get_segment\l_usage_block" alt="" coords="805,277,971,318"/>
<area shape="rect" id="node46" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="419,1591,517,1617"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="389,1645,547,1672"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="599,1589,747,1616"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="603,1641,742,1682"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="595,1707,751,1733"/>
</map>
</div>

</div>
</div>
<a id="aa7bf85e7bb9022b3680b22d945d17f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bf85e7bb9022b3680b22d945d17f91">&#9670;&nbsp;</a></span>nilfs_nrsvsegs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long nilfs_nrsvsegs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nsegs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_nrsvsegs - calculate the number of reserved segments : nilfs object : total number of segments </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_aa7bf85e7bb9022b3680b22d945d17f91_icgraph.png" border="0" usemap="#the__nilfs_8c_aa7bf85e7bb9022b3680b22d945d17f91_icgraph" alt=""/></div>
<map name="the__nilfs_8c_aa7bf85e7bb9022b3680b22d945d17f91_icgraph" id="the__nilfs_8c_aa7bf85e7bb9022b3680b22d945d17f91_icgraph">
<area shape="rect" id="node2" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="365,485,491,512"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1858,692,1975,718"/>
<area shape="rect" id="node48" href="the__nilfs_8h.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="160,692,303,718"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="998,22,1105,49"/>
<area shape="rect" id="node7" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="553,441,733,468"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1857,17,1976,44"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2673,130,2751,157"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2799,130,2919,157"/>
<area shape="rect" id="node8" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="788,317,925,344"/>
<area shape="rect" id="node22" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="791,378,922,405"/>
<area shape="rect" id="node36" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="785,116,928,158"/>
<area shape="rect" id="node38" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="992,509,1111,536"/>
<area shape="rect" id="node40" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="787,225,926,252"/>
<area shape="rect" id="node43" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="787,606,926,647"/>
<area shape="rect" id="node44" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="781,554,932,581"/>
<area shape="rect" id="node46" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="799,504,915,530"/>
<area shape="rect" id="node9" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="991,306,1111,333"/>
<area shape="rect" id="node20" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="987,240,1116,282"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1188,276,1329,318"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1411,401,1553,428"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1617,401,1796,428"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2037,401,2195,428"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2247,426,2395,453"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2251,310,2390,351"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2243,376,2399,402"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2447,426,2625,453"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2467,317,2605,344"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2463,376,2609,402"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1416,335,1548,376"/>
<area shape="rect" id="node23" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="990,458,1113,485"/>
<area shape="rect" id="node31" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="995,408,1108,434"/>
<area shape="rect" id="node35" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="980,357,1123,384"/>
<area shape="rect" id="node24" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1182,524,1335,566"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1395,561,1569,588"/>
<area shape="rect" id="node26" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1668,641,1745,668"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1864,641,1969,668"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2071,641,2161,668"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2067,692,2165,718"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1187,459,1330,500"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1171,342,1347,369"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1183,394,1334,435"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1639,64,1775,106"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1415,474,1549,515"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1844,130,1989,157"/>
<area shape="rect" id="node42" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="980,175,1123,216"/>
<area shape="rect" id="node45" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="2055,790,2177,831"/>
<area shape="rect" id="node47" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1409,641,1555,668"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="351,692,505,718"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1671,692,1742,718"/>
</map>
</div>

</div>
</div>
<a id="a59cc4f3286a6c2bdf7626a4093351fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cc4f3286a6c2bdf7626a4093351fd9">&#9670;&nbsp;</a></span>nilfs_put_root()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_put_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structnilfs__root.html">nilfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph.png" border="0" usemap="#the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph" id="the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_cgraph">
<area shape="rect" id="node2" href="nilfs_8h.html#aad2fffdbbe9fb440e3b6a5c3d4b9ba01" title="nilfs_sysfs_delete\l_snapshot_group" alt="" coords="153,345,280,386"/>
<area shape="rect" id="node3" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="195,411,238,437"/>
<area shape="rect" id="node4" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="328,411,403,437"/>
<area shape="rect" id="node25" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1082,107,1221,133"/>
<area shape="rect" id="node5" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1100,664,1203,691"/>
<area shape="rect" id="node7" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="453,461,571,488"/>
<area shape="rect" id="node19" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="451,309,573,336"/>
<area shape="rect" id="node20" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="487,360,537,387"/>
<area shape="rect" id="node6" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="1293,664,1420,691"/>
<area shape="rect" id="node8" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="627,461,785,488"/>
<area shape="rect" id="node18" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="637,563,775,589"/>
<area shape="rect" id="node9" href="fs-writeback_8c.html#a1e97e23bc25f00f2a833fcf5aeab2630" title="__inode_wait_for_writeback" alt="" coords="839,344,1021,371"/>
<area shape="rect" id="node10" href="fs-writeback_8c.html#ac4ebf19f04368ec669a08449911d9627" title="__writeback_single\l_inode" alt="" coords="863,497,997,538"/>
<area shape="rect" id="node14" href="fs-writeback_8c.html#ac55a800ef7f8194c63b9b304d31ffb98" title="inode_to_wb_and_lock_list" alt="" coords="841,445,1019,472"/>
<area shape="rect" id="node15" href="fs-writeback_8c.html#a7a6ae4220731e250a48b3758d417227c" title="inode_io_list_del_locked" alt="" coords="849,395,1011,421"/>
<area shape="rect" id="node17" href="fs-writeback_8c.html#a736fee7c52c60bcf4ec1722d99c7918d" title="inode_sync_complete" alt="" coords="856,563,1004,589"/>
<area shape="rect" id="node11" href="fs-writeback_8c.html#a5bd471e3d188b5af658a60ff346167c0" title="write_inode" alt="" coords="1107,504,1195,531"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="1307,504,1406,531"/>
<area shape="rect" id="node13" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="1481,504,1620,531"/>
<area shape="rect" id="node16" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="1069,395,1233,421"/>
<area shape="rect" id="node21" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="647,411,765,437"/>
<area shape="rect" id="node22" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="645,208,767,235"/>
<area shape="rect" id="node23" href="fs-writeback_8c.html#a48ed1405bbf8e54568c31f215bbc9429" title="inode_wait_for_writeback" alt="" coords="621,360,791,387"/>
<area shape="rect" id="node24" href="inode_8c.html#a5ef1de74cc382d6cd8afddc6e66a47a4" title="clear_inode" alt="" coords="886,251,974,277"/>
<area shape="rect" id="node26" href="block__dev_8c.html#a3ff5855083d5b2081708b2f1442a5121" title="bd_forget" alt="" coords="668,512,744,539"/>
<area shape="rect" id="node29" href="char__dev_8c.html#a3e21c6290eac67cfa61d376da8c025a3" title="cd_forget" alt="" coords="668,259,744,285"/>
<area shape="rect" id="node30" href="inode_8c.html#a076b86296ed39596f96ef03ea8aa74d7" title="destroy_inode" alt="" coords="655,157,757,184"/>
<area shape="rect" id="node27" href="block__dev_8c.html#a47d4b8b48b31eb6197e6f93d6e48034e" title="bdput" alt="" coords="903,613,957,640"/>
<area shape="rect" id="node28" href="block__dev_8c.html#ad8301dbb3297e4ea3063019db7183347" title="EXPORT_SYMBOL" alt="" coords="1082,613,1221,640"/>
<area shape="rect" id="node31" href="inode_8c.html#acc59c5a81bf40ee903f9feb03ac7b7fa" title="__destroy_inode" alt="" coords="871,56,989,83"/>
<area shape="rect" id="node36" href="inode_8c.html#af3846da666673695a3040ee40b92bf0e" title="i_callback" alt="" coords="890,157,970,184"/>
<area shape="rect" id="node32" href="buffer_8c.html#ae1120bf173819fd9bfa5a939b13f46e8" title="inode_has_buffers" alt="" coords="1087,5,1215,32"/>
<area shape="rect" id="node33" href="locks_8c.html#a24b09f5cedf01a8cff5e10f3d00636a2" title="locks_free_lock_context" alt="" coords="1070,56,1233,83"/>
<area shape="rect" id="node34" href="locks_8c.html#a2cf31bf229e31592098de9493a334c29" title="locks_check_ctx_lists" alt="" coords="1281,56,1432,83"/>
<area shape="rect" id="node35" href="locks_8c.html#aa9419f47867376fe0e03cc366c5c23f9" title="locks_dump_ctx_list" alt="" coords="1480,56,1621,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph.png" border="0" usemap="#the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph" id="the__nilfs_8c_a59cc4f3286a6c2bdf7626a4093351fd9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="590,217,709,244"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="153,673,312,700"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="373,775,522,801"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1977,623,2083,649"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="360,572,535,599"/>
<area shape="rect" id="node18" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="769,420,886,447"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1364,521,1511,548"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a796f3b9955c39e7c656354e47b79362e" title="nilfs_checkpoint_is\l_mounted" alt="" coords="166,303,299,345"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="175,825,290,852"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="768,209,887,236"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1162,151,1282,177"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1380,100,1495,127"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1372,201,1503,228"/>
<area shape="rect" id="node6" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1607,5,1697,32"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1606,56,1698,83"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1603,107,1701,133"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1609,157,1695,184"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1613,245,1691,272"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2131,623,2220,649"/>
<area shape="rect" id="node17" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="611,471,688,497"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="968,420,1067,447"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="939,365,1096,392"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1148,303,1296,329"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1153,354,1291,395"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1144,420,1300,447"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1348,303,1527,329"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1368,387,1507,413"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1587,391,1717,433"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1777,420,1929,447"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1980,471,2080,497"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1575,521,1729,548"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1798,572,1909,599"/>
<area shape="rect" id="node33" href="cpfile_8h.html#aee267b790478d6d538483b5e672876df" title="nilfs_cpfile_change\l_cpmode" alt="" coords="583,279,716,321"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#a2ed1e719c57f862e13c505ee25cb2d7c" title="nilfs_ioctl_change\l_cpmode" alt="" coords="764,270,891,311"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="385,825,510,852"/>
<area shape="rect" id="node37" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="385,876,510,903"/>
</map>
</div>

</div>
</div>
<a id="a7fe98e87527e9147b95f7297f33a5ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe98e87527e9147b95f7297f33a5ef9">&#9670;&nbsp;</a></span>nilfs_release_super_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_release_super_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a7fe98e87527e9147b95f7297f33a5ef9_icgraph.png" border="0" usemap="#the__nilfs_8c_a7fe98e87527e9147b95f7297f33a5ef9_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a7fe98e87527e9147b95f7297f33a5ef9_icgraph" id="the__nilfs_8c_a7fe98e87527e9147b95f7297f33a5ef9_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="188,156,343,183"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="391,131,461,157"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2083,308,2188,335"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="509,232,627,259"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2236,359,2325,385"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="704,308,803,335"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="675,257,832,284"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="884,257,1032,284"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="889,361,1027,402"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="880,308,1036,335"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1084,156,1263,183"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1349,156,1427,183"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1529,105,1649,132"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1743,105,1858,132"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1735,156,1866,183"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1941,156,2030,183"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1939,207,2031,233"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1936,55,2035,81"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1943,105,2028,132"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1104,369,1243,396"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1323,382,1453,423"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1513,409,1665,436"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1751,409,1851,436"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1713,257,1888,284"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1947,257,2024,284"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1100,311,1247,337"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1311,312,1465,339"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1534,359,1645,385"/>
</map>
</div>

</div>
</div>
<a id="a6bf9ab796af0877e613972d42d084863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf9ab796af0877e613972d42d084863">&#9670;&nbsp;</a></span>nilfs_sb2_bad_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_sb2_bad_offset </td>
          <td>(</td>
          <td class="paramtype">struct nilfs_super_block *&#160;</td>
          <td class="paramname"><em>sbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a6bf9ab796af0877e613972d42d084863_icgraph.png" border="0" usemap="#the__nilfs_8c_a6bf9ab796af0877e613972d42d084863_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a6bf9ab796af0877e613972d42d084863_icgraph" id="the__nilfs_8c_a6bf9ab796af0877e613972d42d084863_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="196,131,351,157"/>
<area shape="rect" id="node3" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="399,131,469,157"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2091,308,2196,335"/>
<area shape="rect" id="node6" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="517,232,635,259"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2244,359,2333,385"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="712,308,811,335"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="683,257,840,284"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="892,257,1040,284"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="897,370,1035,411"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="888,316,1044,343"/>
<area shape="rect" id="node10" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1092,156,1271,183"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1357,156,1435,183"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1537,105,1657,132"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1751,105,1866,132"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1743,156,1874,183"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1949,156,2038,183"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1947,207,2039,233"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1944,55,2043,81"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1951,105,2036,132"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1112,383,1251,409"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1331,386,1461,427"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1521,409,1673,436"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1759,409,1859,436"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1721,257,1896,284"/>
<area shape="rect" id="node25" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1955,257,2032,284"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1108,324,1255,351"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1319,329,1473,356"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1542,359,1653,385"/>
</map>
</div>

</div>
</div>
<a id="a37c9de257ceab8b46cec8c42fb529506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c9de257ceab8b46cec8c42fb529506">&#9670;&nbsp;</a></span>nilfs_set_last_segment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_set_last_segment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sector_t&#160;</td>
          <td class="paramname"><em>start_blocknr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>cno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a37c9de257ceab8b46cec8c42fb529506_icgraph.png" border="0" usemap="#the__nilfs_8c_a37c9de257ceab8b46cec8c42fb529506_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a37c9de257ceab8b46cec8c42fb529506_icgraph" id="the__nilfs_8c_a37c9de257ceab8b46cec8c42fb529506_icgraph">
<area shape="rect" id="node2" href="nilfs2_2segment_8c.html#a4c1399db7625966aac20550eaa19c966" title="nilfs_segctor_complete\l_write" alt="" coords="209,563,365,605"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2612,259,2729,285"/>
<area shape="rect" id="node3" href="nilfs2_2segment_8c.html#a38f1609ad1b2d71d4f26fd1b650e9acf" title="nilfs_segctor_wait" alt="" coords="413,511,540,537"/>
<area shape="rect" id="node4" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="588,481,767,508"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1442,503,1591,545"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1233,343,1391,369"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#a0928f7eed2b4d7f3a934480a1025bda7" title="nilfs_segctor_do_immediate\l_flush" alt="" coords="815,445,999,486"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a17285f5088aaa553863d6f3a645faca7" title="nilfs_sync_file" alt="" coords="1663,537,1769,564"/>
<area shape="rect" id="node15" href="nilfs2_2inode_8c.html#ac6060a89a348905b9c5365bbf504a9d5" title="nilfs_writepages" alt="" coords="1658,436,1774,463"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1867,537,1987,564"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2083,537,2197,564"/>
<area shape="rect" id="node13" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2075,487,2205,513"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2307,588,2396,615"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2305,639,2397,665"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2302,487,2401,513"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2309,537,2394,564"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2313,436,2390,463"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1443,401,1591,428"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1447,335,1586,377"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1439,284,1595,311"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1837,335,2016,361"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1647,284,1785,311"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1862,171,1991,213"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="2064,157,2216,184"/>
<area shape="rect" id="node23" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2618,107,2723,133"/>
<area shape="rect" id="node25" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="2301,5,2401,32"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="2264,208,2439,235"/>
<area shape="rect" id="node24" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2782,56,2871,83"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="2487,208,2564,235"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2777,259,2876,285"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1643,175,1789,201"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1849,112,2004,139"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="2085,107,2195,133"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8h.html#a1907ac7b54882bbf06019eaf6d03c21c" title="nilfs_relax_pressure\l_in_lock" alt="" coords="1047,445,1185,486"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a8b69f4181745f44662620421e0f88ab0" title="nilfs_transaction_lock" alt="" coords="1238,393,1386,420"/>
<area shape="rect" id="node36" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1243,452,1381,479"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1467,579,1567,605"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1457,452,1576,479"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a5c3f5e67f9f8c1d512363b1b93f23d3a" title="nilfs_write_failed" alt="" coords="1657,487,1775,513"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a6397167aefce0988e92601bcc79770d6" title="nilfs_setattr" alt="" coords="1671,639,1761,665"/>
<area shape="rect" id="node39" href="nilfs2_2inode_8c.html#a312da46a81f7b2935058b894b07c327a" title="nilfs_write_begin" alt="" coords="1867,487,1986,513"/>
<area shape="rect" id="node40" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1857,403,1996,445"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="2069,385,2211,412"/>
</map>
</div>

</div>
</div>
<a id="a38632ac69509070865038bf0120a1509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38632ac69509070865038bf0120a1509">&#9670;&nbsp;</a></span>nilfs_set_nsegments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_set_nsegments </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>nsegs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a38632ac69509070865038bf0120a1509_cgraph.png" border="0" usemap="#the__nilfs_8c_a38632ac69509070865038bf0120a1509_cgraph" alt=""/></div>
<map name="the__nilfs_8c_a38632ac69509070865038bf0120a1509_cgraph" id="the__nilfs_8c_a38632ac69509070865038bf0120a1509_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="196,5,303,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a38632ac69509070865038bf0120a1509_icgraph.png" border="0" usemap="#the__nilfs_8c_a38632ac69509070865038bf0120a1509_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a38632ac69509070865038bf0120a1509_icgraph" id="the__nilfs_8c_a38632ac69509070865038bf0120a1509_icgraph">
<area shape="rect" id="node2" href="sufile_8h.html#ac9feb3258026bbd1136c545e911c5d91" title="nilfs_sufile_resize" alt="" coords="210,320,337,347"/>
<area shape="rect" id="node30" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="1703,548,1821,575"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#aa22907373d672bcca4321a699960d60a" title="nilfs_store_disk_layout" alt="" coords="196,804,351,831"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="843,25,950,52"/>
<area shape="rect" id="node7" href="sufile_8h.html#a9c732ab29452414325bd9a1e70fe3978" title="nilfs_sufile_get_nsegments" alt="" coords="399,320,579,347"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="1703,13,1821,40"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2545,127,2622,153"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2696,127,2816,153"/>
<area shape="rect" id="node8" href="sufile_8h.html#a4f79159d2c1037184f20a9ed3a5f410a" title="nilfs_sufile_updatev" alt="" coords="633,471,771,497"/>
<area shape="rect" id="node23" href="sufile_8h.html#a954be8e038b533c82c78cf5250e56cbe" title="nilfs_sufile_update" alt="" coords="637,345,767,372"/>
<area shape="rect" id="node37" href="sufile_8h.html#ac0bd62c3d3681b821085c55c413aa1bb" title="nilfs_sufile_set_alloc\l_range" alt="" coords="631,102,773,143"/>
<area shape="rect" id="node39" href="sufile_8h.html#ae43422797775f081a1fe1fe6abef686f" title="nilfs_sufile_alloc" alt="" coords="837,497,956,524"/>
<area shape="rect" id="node41" href="sufile_8h.html#a3fef1b4dbdae6f60e2dc3b703969a3dd" title="nilfs_sufile_get_stat" alt="" coords="633,244,771,271"/>
<area shape="rect" id="node44" href="sufile_8c.html#a06bf3b2669ffdbe7c8809d8c3b730cbc" title="nilfs_sufile_truncate\l_range" alt="" coords="633,522,771,563"/>
<area shape="rect" id="node45" href="sufile_8h.html#a479c51cdecafad05d22942c107b00c4f" title="nilfs_sufile_get_suinfo" alt="" coords="627,193,777,220"/>
<area shape="rect" id="node47" href="sufile_8h.html#a3ad0af8131357596ac729f04c3009e15" title="nilfs_sufile_read" alt="" coords="644,295,760,321"/>
<area shape="rect" id="node9" href="sufile_8h.html#af210832d1efe1b482aa7522fc34e4372" title="nilfs_sufile_freev" alt="" coords="837,720,957,747"/>
<area shape="rect" id="node21" href="sufile_8h.html#a9da8122c97b0bb9b56f5a85dbdad019b" title="nilfs_sufile_cancel\l_freev" alt="" coords="832,642,961,683"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8c.html#ac5c1356e891d7a42317a2926baaad700" title="nilfs_segctor_collect\l_blocks" alt="" coords="1033,738,1175,779"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a623b056ff9bd308d6704a6d44b2a5ff8" title="nilfs_segctor_collect" alt="" coords="1257,527,1398,553"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1463,497,1641,524"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="1883,497,2040,524"/>
<area shape="rect" id="node14" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2092,312,2240,339"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2097,519,2235,561"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2088,468,2244,495"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="2292,273,2471,300"/>
<area shape="rect" id="node17" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="2312,527,2451,553"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="2519,519,2648,561"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="2308,468,2455,495"/>
<area shape="rect" id="node22" href="nilfs2_2segment_8c.html#a309af2cb7fa5f929676eb2aeb83abf1a" title="nilfs_segctor_abort\l_construction" alt="" coords="1261,461,1393,502"/>
<area shape="rect" id="node24" href="sufile_8h.html#afdd3e828fa8ffde5856b483f0c32c6f4" title="nilfs_sufile_scrap" alt="" coords="835,396,958,423"/>
<area shape="rect" id="node32" href="sufile_8h.html#a67f76a7b0da53a061147b4a7f48e082d" title="nilfs_sufile_free" alt="" coords="840,447,953,473"/>
<area shape="rect" id="node36" href="sufile_8h.html#aa5623f31382355a7f576224994d7e571" title="nilfs_sufile_set_error" alt="" coords="825,345,968,372"/>
<area shape="rect" id="node25" href="nilfs2_2recovery_8c.html#a561c361c13ae22022d24695836c97423" title="nilfs_prepare_segment\l_for_recovery" alt="" coords="1027,389,1181,430"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1240,403,1415,429"/>
<area shape="rect" id="node27" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1513,413,1591,440"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1709,419,1815,445"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1917,419,2006,445"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="1912,548,2011,575"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#a908a0ffa2889c863319f35f979a28530" title="nilfs_segctor_extend\l_segments" alt="" coords="1033,519,1175,561"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#aa460eb83c61cec1ca9286a5c74b04c77" title="nilfs_free_incomplete_logs" alt="" coords="1016,337,1192,364"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a1718603d405fa5903c6230390dad55d3" title="nilfs_segctor_truncate\l_segments" alt="" coords="1029,454,1179,495"/>
<area shape="rect" id="node38" href="nilfs2_2ioctl_8c.html#a7f41bf53459a54ba4c2d14e01aaad2b7" title="nilfs_ioctl_set_alloc\l_range" alt="" coords="1484,61,1620,102"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#abefe9b057b0e0d967e78abdfad63f7fc" title="nilfs_segctor_begin\l_construction" alt="" coords="1260,578,1395,619"/>
<area shape="rect" id="node42" href="nilfs2_2ioctl_8c.html#a0841eacabd5d2f65cc1e4e903cb0b9c9" title="nilfs_ioctl_get_sustat" alt="" coords="1689,181,1835,208"/>
<area shape="rect" id="node43" href="nilfs2_2sysfs_8c.html#a2e0a66db248732b01455e742b57ad56c" title="nilfs_segments_dirty\l_segments_show" alt="" coords="825,229,968,270"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#a34169b6b8da0810dd6b289d1ac8f192f" title="nilfs_ioctl_do_get\l_suinfo" alt="" coords="1900,119,2023,161"/>
<area shape="rect" id="node48" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1255,323,1400,349"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="1517,548,1587,575"/>
</map>
</div>

</div>
</div>
<a id="aa22907373d672bcca4321a699960d60a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22907373d672bcca4321a699960d60a">&#9670;&nbsp;</a></span>nilfs_store_disk_layout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_store_disk_layout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_super_block *&#160;</td>
          <td class="paramname"><em>sbp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_aa22907373d672bcca4321a699960d60a_cgraph.png" border="0" usemap="#the__nilfs_8c_aa22907373d672bcca4321a699960d60a_cgraph" alt=""/></div>
<map name="the__nilfs_8c_aa22907373d672bcca4321a699960d60a_cgraph" id="the__nilfs_8c_aa22907373d672bcca4321a699960d60a_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8c.html#a38632ac69509070865038bf0120a1509" title="nilfs_set_nsegments" alt="" coords="208,5,351,32"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#aa7bf85e7bb9022b3680b22d945d17f91" title="nilfs_nrsvsegs" alt="" coords="399,5,505,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_aa22907373d672bcca4321a699960d60a_icgraph.png" border="0" usemap="#the__nilfs_8c_aa22907373d672bcca4321a699960d60a_icgraph" alt=""/></div>
<map name="the__nilfs_8c_aa22907373d672bcca4321a699960d60a_icgraph" id="the__nilfs_8c_aa22907373d672bcca4321a699960d60a_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="208,131,279,157"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1900,308,2005,335"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="327,232,444,259"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2053,359,2143,385"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="521,308,620,335"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="492,257,649,284"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="701,257,849,284"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="706,370,845,411"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="697,316,853,343"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="901,156,1080,183"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1167,156,1244,183"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1347,105,1467,132"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1561,105,1675,132"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1553,156,1683,183"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1758,156,1847,183"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1757,207,1849,233"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1753,55,1852,81"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1760,105,1845,132"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="921,383,1060,409"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1141,386,1270,427"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1331,409,1483,436"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1568,409,1668,436"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1531,257,1705,284"/>
<area shape="rect" id="node24" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1764,257,1841,284"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="917,324,1064,351"/>
<area shape="rect" id="node27" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1128,329,1283,356"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1351,359,1462,385"/>
</map>
</div>

</div>
</div>
<a id="afa005bd92de3da5b3ce705caa6b9d8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa005bd92de3da5b3ce705caa6b9d8e0">&#9670;&nbsp;</a></span>nilfs_store_log_cursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_store_log_cursor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nilfs_super_block *&#160;</td>
          <td class="paramname"><em>sbp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_store_log_cursor - load log cursor from a super block : nilfs object : buffer storing super block to be read</p>
<p><a class="el" href="the__nilfs_8c.html#afa005bd92de3da5b3ce705caa6b9d8e0">nilfs_store_log_cursor()</a> reads the last position of the log containing a super root from a given super block, and initializes relevant information on the nilfs object preparatory for log scanning and recovery. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_cgraph.png" border="0" usemap="#the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_cgraph" alt=""/></div>
<map name="the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_cgraph" id="the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_cgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acbe15a8b57f8ecf5e4777294c2f7303d" title="nilfs_get_segnum_of\l_block" alt="" coords="203,5,345,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_icgraph.png" border="0" usemap="#the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_icgraph" alt=""/></div>
<map name="the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_icgraph" id="the__nilfs_8c_afa005bd92de3da5b3ce705caa6b9d8e0_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="203,279,280,305"/>
<area shape="rect" id="node28" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="206,359,277,385"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1567,245,1672,272"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="328,359,445,385"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1759,220,1849,247"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="523,409,621,436"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="493,359,651,385"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="703,432,851,459"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="707,366,846,407"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="699,315,855,341"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="903,545,1081,572"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1168,557,1245,584"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1348,545,1468,572"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1562,545,1677,572"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1554,596,1685,623"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1759,621,1849,648"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1758,469,1850,496"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1755,520,1853,547"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1761,571,1847,597"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="923,359,1061,385"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1142,221,1271,262"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1332,195,1484,221"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1569,195,1669,221"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1532,43,1707,69"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="919,177,1065,204"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1129,161,1284,188"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1353,144,1463,171"/>
</map>
</div>

</div>
</div>
<a id="ab41ad60b507d8f217c2062c254a00367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab41ad60b507d8f217c2062c254a00367">&#9670;&nbsp;</a></span>nilfs_swap_super_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_swap_super_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthe__nilfs.html">the_nilfs</a> *&#160;</td>
          <td class="paramname"><em>nilfs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_ab41ad60b507d8f217c2062c254a00367_icgraph.png" border="0" usemap="#the__nilfs_8c_ab41ad60b507d8f217c2062c254a00367_icgraph" alt=""/></div>
<map name="the__nilfs_8c_ab41ad60b507d8f217c2062c254a00367_icgraph" id="the__nilfs_8c_ab41ad60b507d8f217c2062c254a00367_icgraph">
<area shape="rect" id="node2" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="225,846,359,873"/>
<area shape="rect" id="node33" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="741,1023,858,1050"/>
<area shape="rect" id="node49" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="215,1099,369,1126"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="747,347,851,374"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a8fc44d93b832ec3180c5936e4b2b623d" title="nilfs_cleanup_super" alt="" coords="417,846,555,873"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="936,1049,1035,1075"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="907,922,1064,949"/>
<area shape="rect" id="node45" href="nilfs2_2super_8c.html#a0bb917ba8d34150bbfd347e44ed259c3" title="nilfs_resize_fs" alt="" coords="433,618,539,645"/>
<area shape="rect" id="node47" href="nilfs2_2super_8c.html#ad1bd93bfa62ef944a263d390b0a5cfe0" title="nilfs_setup_super" alt="" coords="1560,669,1684,695"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="939,311,1032,338"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1123,267,1257,308"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1331,427,1479,468"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a2db2c217075b59d70517b64fd3ce2337" title="nilfs_bmap_lookup_contig" alt="" coords="1319,325,1491,351"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1343,173,1467,199"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a0eb8b386860fba82ebb80f18f00c50d3" title="nilfs_bmap_seek_key" alt="" coords="1331,518,1479,545"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1335,21,1476,47"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="1342,122,1469,149"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#adcaab699f36844da5c7ccdc6c4342dee" title="nilfs_bmap_truncate" alt="" coords="1336,71,1475,98"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a4e4d1e3c6c00e6c90ef028015ab36b42" title="nilfs_bmap_propagate" alt="" coords="1331,223,1480,250"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#ab86d5dcef542a000d11ba96af676b5f0" title="nilfs_bmap_assign" alt="" coords="1340,274,1471,301"/>
<area shape="rect" id="node25" href="nilfs2_2bmap_8h.html#aee687b837e89608c14c2697b08fa2a71" title="nilfs_bmap_mark" alt="" coords="1345,375,1466,402"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#abbe42ccd4ccc56d484156885e0e0bcc2" title="nilfs_ioctl_do_get\l_bdescs" alt="" coords="1561,427,1683,468"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#ab0e598551ac90d5ab9b0aae8416dbf40" title="nilfs_ioctl_mark_blocks\l_dirty" alt="" coords="1543,361,1701,403"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1557,493,1687,519"/>
<area shape="rect" id="node11" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1567,259,1677,286"/>
<area shape="rect" id="node13" href="nilfs_8h.html#aa3b3b43de967957800b020d3c28d0fb4" title="nilfs_fiemap" alt="" coords="1576,310,1668,337"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1749,310,1869,337"/>
<area shape="rect" id="node15" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1549,165,1695,207"/>
<area shape="rect" id="node17" href="mdt_8h.html#adaed5e8667743afd0be01cfa99101c9f" title="nilfs_mdt_find_block" alt="" coords="1551,543,1693,570"/>
<area shape="rect" id="node19" href="nilfs2_2inode_8c.html#a8a5d71f4673d9c2189dbab1207a8ed89" title="nilfs_truncate_bmap" alt="" coords="1553,71,1691,98"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1559,5,1685,47"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1754,821,1865,847"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#afddf1bc2d6f6a65d34f58c1ab8a363bd" title="nilfs_freeze" alt="" coords="603,871,692,898"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1759,745,1859,771"/>
<area shape="rect" id="node31" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="609,973,686,999"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1917,795,2007,822"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1757,871,1862,898"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1116,770,1264,797"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="1121,923,1259,964"/>
<area shape="rect" id="node42" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="1112,871,1268,898"/>
<area shape="rect" id="node37" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1316,770,1495,797"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1583,618,1661,645"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1336,930,1475,957"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1557,923,1687,964"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1332,871,1479,898"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1545,871,1699,898"/>
<area shape="rect" id="node46" href="nilfs2_2ioctl_8c.html#ae197bb230d6c201248dcabcc2df73e20" title="nilfs_ioctl_resize" alt="" coords="740,618,859,645"/>
<area shape="rect" id="node48" href="nilfs2_2super_8c.html#a76497fa0cac9d156c73b94dd615621cd" title="nilfs_unfreeze" alt="" coords="1758,669,1861,695"/>
<area shape="rect" id="node50" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="612,1125,683,1151"/>
</map>
</div>

</div>
</div>
<a id="a8ceb12beba6767b9686f05cfe939f93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ceb12beba6767b9686f05cfe939f93d">&#9670;&nbsp;</a></span>nilfs_valid_sb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_valid_sb </td>
          <td>(</td>
          <td class="paramtype">struct nilfs_super_block *&#160;</td>
          <td class="paramname"><em>sbp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="the__nilfs_8c_a8ceb12beba6767b9686f05cfe939f93d_icgraph.png" border="0" usemap="#the__nilfs_8c_a8ceb12beba6767b9686f05cfe939f93d_icgraph" alt=""/></div>
<map name="the__nilfs_8c_a8ceb12beba6767b9686f05cfe939f93d_icgraph" id="the__nilfs_8c_a8ceb12beba6767b9686f05cfe939f93d_icgraph">
<area shape="rect" id="node2" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="357,283,435,309"/>
<area shape="rect" id="node28" href="the__nilfs_8c.html#a70618b219547a9f82cfb00744f02bf70" title="nilfs_load_super_block" alt="" coords="155,363,309,389"/>
<area shape="rect" id="node3" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1721,245,1827,272"/>
<area shape="rect" id="node5" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="483,363,600,389"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="1914,220,2003,247"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="677,413,776,440"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="648,363,805,389"/>
<area shape="rect" id="node8" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="857,436,1005,463"/>
<area shape="rect" id="node18" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="862,370,1001,411"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="853,319,1009,345"/>
<area shape="rect" id="node9" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1057,549,1236,576"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1323,561,1400,588"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1503,549,1623,576"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1717,549,1831,576"/>
<area shape="rect" id="node17" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1709,600,1839,627"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1914,625,2003,652"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1913,473,2005,500"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1909,524,2008,551"/>
<area shape="rect" id="node16" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1916,575,2001,601"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a39d3b93661aea1ce6d75d52641a734f7" title="nilfs_segctor_thread" alt="" coords="1077,363,1216,389"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#accb2af3cf720ef8a382baa244f770a64" title="nilfs_segctor_start\l_thread" alt="" coords="1297,218,1426,259"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8h.html#accc0b22d29c5e0dc0550492c2814845f" title="nilfs_attach_log_writer" alt="" coords="1487,195,1639,221"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#abaf12a9facc571b7e4e46389a440b694" title="nilfs_remount" alt="" coords="1724,195,1824,221"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1687,43,1861,69"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#a53eace4b3351e7a47d95a83e02257fda" title="nilfs_segctor_destroy" alt="" coords="1073,207,1220,233"/>
<area shape="rect" id="node26" href="nilfs2_2segment_8h.html#a86ad97768e43fb1c81c962ab7f895fb0" title="nilfs_detach_log_writer" alt="" coords="1284,156,1439,183"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#aa48b8ba2014d88aac606b97a2b09d0ef" title="nilfs_put_super" alt="" coords="1507,144,1618,171"/>
<area shape="rect" id="node29" href="the__nilfs_8h.html#a6b6d8cc428f0a87bffff3afa1127664f" title="init_nilfs" alt="" coords="361,363,431,389"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="the__nilfs_8c.html">the_nilfs.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
