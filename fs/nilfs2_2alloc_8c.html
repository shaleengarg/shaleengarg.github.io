<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: nilfs2/alloc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nilfs2_2alloc_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">alloc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/types.h&gt;</code><br />
<code>#include &lt;linux/buffer_head.h&gt;</code><br />
<code>#include &lt;linux/fs.h&gt;</code><br />
<code>#include &lt;linux/bitops.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mdt_8h_source.html">mdt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nilfs2_2alloc_8h_source.html">alloc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for alloc.c:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c__incl.png" border="0" usemap="#nilfs2_2alloc_8c" alt=""/></div>
<map name="nilfs2_2alloc_8c" id="nilfs2_2alloc_8c">
<area shape="rect" id="node7" href="mdt_8h.html" title="mdt.h" alt="" coords="1169,80,1223,107"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8h.html" title="alloc.h" alt="" coords="902,379,962,405"/>
<area shape="rect" id="node9" href="nilfs_8h.html" title="nilfs.h" alt="" coords="1045,229,1102,256"/>
<area shape="rect" id="node22" href="page_8h.html" title="page.h" alt="" coords="1165,155,1227,181"/>
<area shape="rect" id="node15" href="the__nilfs_8h.html" title="the_nilfs.h" alt="" coords="352,304,435,331"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html" title="bmap.h" alt="" coords="865,304,930,331"/>
<area shape="rect" id="node21" href="dat_8h.html" title="dat.h" alt="" coords="1037,379,1088,405"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a311c71ab31da7903a8a0ec492e1b8c66"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66">nilfs_palloc_groups_per_desc_block</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a311c71ab31da7903a8a0ec492e1b8c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4790e3b7421b6ed7ced5419b5d5dc5"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5">nilfs_palloc_groups_count</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:ada4790e3b7421b6ed7ced5419b5d5dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e987613b3d45c0b59461a111065842"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a66e987613b3d45c0b59461a111065842">nilfs_palloc_init_blockgroup</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned int entry_size)</td></tr>
<tr class="separator:a66e987613b3d45c0b59461a111065842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82746f35ce0628ca7fefdc6333713ae2"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2">nilfs_palloc_group</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, __u64 nr, unsigned long *<a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>)</td></tr>
<tr class="separator:a82746f35ce0628ca7fefdc6333713ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6fc04ad7375ca78f8b38b69bc2131b"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b">nilfs_palloc_desc_blkoff</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long group)</td></tr>
<tr class="separator:a9e6fc04ad7375ca78f8b38b69bc2131b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6b438f00cbb6f14307701ffeb19c68"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68">nilfs_palloc_bitmap_blkoff</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long group)</td></tr>
<tr class="separator:aac6b438f00cbb6f14307701ffeb19c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee132c5b54bde254f3af2bdc8f878c83"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#aee132c5b54bde254f3af2bdc8f878c83">nilfs_palloc_group_desc_nfrees</a> (const struct nilfs_palloc_group_desc *desc, spinlock_t *lock)</td></tr>
<tr class="separator:aee132c5b54bde254f3af2bdc8f878c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d2388c44c82795fb085bdba291a3c0"><td class="memItemLeft" align="right" valign="top">static u32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0">nilfs_palloc_group_desc_add_entries</a> (struct nilfs_palloc_group_desc *desc, spinlock_t *lock, u32 n)</td></tr>
<tr class="separator:a52d2388c44c82795fb085bdba291a3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6075e80e07eb1fb451fc65d559e35484"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484">nilfs_palloc_entry_blkoff</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, __u64 nr)</td></tr>
<tr class="separator:a6075e80e07eb1fb451fc65d559e35484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbbabe3bdf5bb646714ce22855ca16b9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9">nilfs_palloc_desc_block_init</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:adbbabe3bdf5bb646714ce22855ca16b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539250d301eb19ff68f4f0ac0e54279f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f">nilfs_palloc_get_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long blkoff, int create, void(*init_block)(struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, struct buffer_head *, void *), struct buffer_head **bhp, struct <a class="el" href="structnilfs__bh__assoc.html">nilfs_bh_assoc</a> *prev, spinlock_t *lock)</td></tr>
<tr class="separator:a539250d301eb19ff68f4f0ac0e54279f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a03cbc72624b3e78db8cb4ddaf6ad6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6">nilfs_palloc_delete_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long blkoff, struct <a class="el" href="structnilfs__bh__assoc.html">nilfs_bh_assoc</a> *prev, spinlock_t *lock)</td></tr>
<tr class="separator:a91a03cbc72624b3e78db8cb4ddaf6ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98fa52b7d8afb8ee8f46e61b545baf32"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32">nilfs_palloc_get_desc_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long group, int create, struct buffer_head **bhp)</td></tr>
<tr class="separator:a98fa52b7d8afb8ee8f46e61b545baf32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad584204b57f762d00f67fad39b515f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f">nilfs_palloc_get_bitmap_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long group, int create, struct buffer_head **bhp)</td></tr>
<tr class="separator:adad584204b57f762d00f67fad39b515f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3216027ff788f54c4e96c564568c893d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d">nilfs_palloc_delete_bitmap_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long group)</td></tr>
<tr class="separator:a3216027ff788f54c4e96c564568c893d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8a4c8cbae85745a1a9b5e380bc2568"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#abe8a4c8cbae85745a1a9b5e380bc2568">nilfs_palloc_get_entry_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, __u64 nr, int create, struct buffer_head **bhp)</td></tr>
<tr class="separator:abe8a4c8cbae85745a1a9b5e380bc2568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94cff05fa5abd31449187412146a49f3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3">nilfs_palloc_delete_entry_block</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, __u64 nr)</td></tr>
<tr class="separator:a94cff05fa5abd31449187412146a49f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4c4ac38f5955b50e2d1ed3a4cfe194"><td class="memItemLeft" align="right" valign="top">static struct nilfs_palloc_group_desc *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194">nilfs_palloc_block_get_group_desc</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long group, const struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:abd4c4ac38f5955b50e2d1ed3a4cfe194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a24fff0c9ab30080b5d2c08913b41ab"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a2a24fff0c9ab30080b5d2c08913b41ab">nilfs_palloc_block_get_entry</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, __u64 nr, const struct buffer_head *bh, void *kaddr)</td></tr>
<tr class="separator:a2a24fff0c9ab30080b5d2c08913b41ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855136bfe85f7785f4f6663d4dea862c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a855136bfe85f7785f4f6663d4dea862c">nilfs_palloc_find_available_slot</a> (unsigned char *bitmap, unsigned long target, unsigned int bsize, spinlock_t *lock)</td></tr>
<tr class="separator:a855136bfe85f7785f4f6663d4dea862c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8256a97ece9ba89e3cbe79f0468830b"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#ab8256a97ece9ba89e3cbe79f0468830b">nilfs_palloc_rest_groups_in_desc_block</a> (const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long curr, unsigned long max)</td></tr>
<tr class="separator:ab8256a97ece9ba89e3cbe79f0468830b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34d5e7d52a6f35ebc2bc99307ff3bd7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7">nilfs_palloc_count_desc_blocks</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long *desc_blocks)</td></tr>
<tr class="separator:af34d5e7d52a6f35ebc2bc99307ff3bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee53eba3cfc5dd453ba431de18f15b4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4">nilfs_palloc_mdt_file_can_grow</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, unsigned long desc_blocks)</td></tr>
<tr class="separator:a6ee53eba3cfc5dd453ba431de18f15b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815c851e023aca4cb389509b1664fe97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a815c851e023aca4cb389509b1664fe97">nilfs_palloc_count_max_entries</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, u64 nused, u64 *nmaxp)</td></tr>
<tr class="separator:a815c851e023aca4cb389509b1664fe97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2526803bd330f64dcb666c31878f4eb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a2526803bd330f64dcb666c31878f4eb4">nilfs_palloc_prepare_alloc_entry</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *req)</td></tr>
<tr class="separator:a2526803bd330f64dcb666c31878f4eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f5baf644a55149f2f20c5db5eb0ebf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#ab3f5baf644a55149f2f20c5db5eb0ebf">nilfs_palloc_commit_alloc_entry</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *req)</td></tr>
<tr class="separator:ab3f5baf644a55149f2f20c5db5eb0ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56970c9a75cb02b1ccec9e1e5ba5ed49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a56970c9a75cb02b1ccec9e1e5ba5ed49">nilfs_palloc_commit_free_entry</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *req)</td></tr>
<tr class="separator:a56970c9a75cb02b1ccec9e1e5ba5ed49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8d7aba0f6f185aa44dd4bfd3502dfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a1f8d7aba0f6f185aa44dd4bfd3502dfe">nilfs_palloc_abort_alloc_entry</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *req)</td></tr>
<tr class="separator:a1f8d7aba0f6f185aa44dd4bfd3502dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa77aa08a79995b4842a1eb8747bb28c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#afa77aa08a79995b4842a1eb8747bb28c">nilfs_palloc_prepare_free_entry</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *req)</td></tr>
<tr class="separator:afa77aa08a79995b4842a1eb8747bb28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff65bfc742d413273c521e44ddf03df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#afff65bfc742d413273c521e44ddf03df">nilfs_palloc_abort_free_entry</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *req)</td></tr>
<tr class="separator:afff65bfc742d413273c521e44ddf03df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12ba11e974447995be8fa927aaea6f4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a12ba11e974447995be8fa927aaea6f4b">nilfs_palloc_freev</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, __u64 *entry_nrs, size_t nitems)</td></tr>
<tr class="separator:a12ba11e974447995be8fa927aaea6f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6e87dc6acaebeca419a5c1711b2d3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a3a6e87dc6acaebeca419a5c1711b2d3b">nilfs_palloc_setup_cache</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>, struct <a class="el" href="structnilfs__palloc__cache.html">nilfs_palloc_cache</a> *cache)</td></tr>
<tr class="separator:a3a6e87dc6acaebeca419a5c1711b2d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ef67260a902eaecb3a5aacacdd0ed8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#aa1ef67260a902eaecb3a5aacacdd0ed8">nilfs_palloc_clear_cache</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:aa1ef67260a902eaecb3a5aacacdd0ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad556c87d6cf7e18d5b8a276d453cfc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nilfs2_2alloc_8c.html#a7ad556c87d6cf7e18d5b8a276d453cfc">nilfs_palloc_destroy_cache</a> (struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a7ad556c87d6cf7e18d5b8a276d453cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1f8d7aba0f6f185aa44dd4bfd3502dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8d7aba0f6f185aa44dd4bfd3502dfe">&#9670;&nbsp;</a></span>nilfs_palloc_abort_alloc_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_abort_alloc_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_abort_alloc_entry - cancel allocation of a persistent object : inode of metadata file using this allocator : <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> structure exchanged for the allocation </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_cgraph" id="nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="178,485,305,511"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="359,103,484,144"/>
<area shape="rect" id="node49" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589" title="nilfs_mdt_bgl_lock" alt="" coords="356,686,487,713"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0" title="nilfs_palloc_group\l_desc_add_entries" alt="" coords="176,587,307,628"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="355,477,488,519"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="931,485,1112,511"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="536,548,684,589"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="547,613,673,655"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="958,260,1085,301"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1410,426,1506,453"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1160,543,1327,570"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1391,144,1525,185"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="732,746,883,773"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="746,392,869,433"/>
<area shape="rect" id="node10" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="952,746,1091,773"/>
<area shape="rect" id="node11" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1171,877,1316,903"/>
<area shape="rect" id="node26" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1165,746,1321,773"/>
<area shape="rect" id="node12" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1379,957,1537,983"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1622,855,1741,882"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1631,1109,1731,1135"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1616,957,1747,983"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1865,409,1936,435"/>
<area shape="rect" id="node24" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1606,1007,1757,1034"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1640,1058,1723,1085"/>
<area shape="rect" id="node14" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1821,847,1980,874"/>
<area shape="rect" id="node16" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1831,1033,1970,1059"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1827,899,1975,940"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1833,965,1968,991"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="2028,477,2163,519"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2211,485,2304,511"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2352,485,2456,511"/>
<area shape="rect" id="node27" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1381,754,1535,781"/>
<area shape="rect" id="node30" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1385,528,1531,569"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1375,666,1541,693"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1381,477,1535,503"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1589,805,1773,831"/>
<area shape="rect" id="node29" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1615,754,1748,781"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1839,485,1963,511"/>
<area shape="rect" id="node32" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1620,535,1743,562"/>
<area shape="rect" id="node33" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1610,434,1753,461"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1617,688,1746,729"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1605,586,1757,613"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1599,637,1763,663"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="955,325,1088,367"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1163,223,1324,250"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1180,275,1307,316"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1173,56,1313,97"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1830,321,1971,347"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1391,56,1525,97"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_icgraph" id="nilfs2_2alloc_8c_a1f8d7aba0f6f185aa44dd4bfd3502dfe_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="176,192,331,219"/>
<area shape="rect" id="node17" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="183,245,324,272"/>
<area shape="rect" id="node21" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="195,370,311,411"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="400,61,535,102"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="384,192,551,219"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="627,57,759,98"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="624,122,763,163"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="631,5,755,32"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="837,64,959,91"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="832,122,964,163"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1034,129,1179,156"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1261,129,1385,156"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="627,239,759,281"/>
<area shape="rect" id="node16" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="619,188,768,215"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="832,239,964,281"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1027,213,1187,240"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1249,203,1396,229"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a85dab214f0695b10c68e3383eb543a4a" title="nilfs_bmap_abort_alloc_ptr" alt="" coords="379,129,556,156"/>
<area shape="rect" id="node19" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="391,247,544,273"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#aa8309dc2635d198364319aa97d9f6054" title="nilfs_btree_abort_update_v" alt="" coords="604,305,783,332"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1049,377,1164,404"/>
<area shape="rect" id="node30" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="389,551,546,577"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1278,456,1367,483"/>
<area shape="rect" id="node24" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1277,304,1369,331"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1273,355,1372,381"/>
<area shape="rect" id="node26" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1280,405,1365,432"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1263,507,1383,533"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1445,456,1576,483"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1624,481,1701,508"/>
<area shape="rect" id="node31" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="628,732,759,759"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="628,508,759,535"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="620,595,767,621"/>
<area shape="rect" id="node32" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="861,783,935,809"/>
<area shape="rect" id="node33" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1035,732,1178,759"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1061,900,1152,927"/>
<area shape="rect" id="node37" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1049,951,1164,977"/>
<area shape="rect" id="node38" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1049,783,1164,809"/>
<area shape="rect" id="node41" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1037,834,1176,875"/>
<area shape="rect" id="node34" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1248,732,1397,759"/>
<area shape="rect" id="node35" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1270,681,1375,708"/>
<area shape="rect" id="node39" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1260,833,1385,860"/>
<area shape="rect" id="node40" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1260,783,1385,809"/>
<area shape="rect" id="node42" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1252,884,1393,911"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="831,501,965,542"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1049,529,1165,556"/>
<area shape="rect" id="node46" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1031,327,1183,353"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="1013,479,1200,505"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="840,606,956,647"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1017,631,1196,657"/>
</map>
</div>

</div>
</div>
<a id="afff65bfc742d413273c521e44ddf03df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff65bfc742d413273c521e44ddf03df">&#9670;&nbsp;</a></span>nilfs_palloc_abort_free_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_abort_free_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_abort_free_entry - cancel deallocating a persistent object : inode of metadata file using this allocator : <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> structure exchanged for the removal </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_afff65bfc742d413273c521e44ddf03df_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_afff65bfc742d413273c521e44ddf03df_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_afff65bfc742d413273c521e44ddf03df_icgraph" id="nilfs2_2alloc_8c_afff65bfc742d413273c521e44ddf03df_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="176,199,311,225"/>
<area shape="rect" id="node14" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="186,342,301,383"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a1e7a2d86d72ef55b104863224e28efc9" title="nilfs_bmap_abort_end_ptr" alt="" coords="359,89,529,116"/>
<area shape="rect" id="node6" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="361,224,527,251"/>
<area shape="rect" id="node12" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="367,173,521,200"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="601,65,733,106"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="809,72,933,99"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="601,182,733,223"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="592,248,741,275"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="805,129,937,170"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1000,136,1160,163"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1224,136,1371,163"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#aa8309dc2635d198364319aa97d9f6054" title="nilfs_btree_abort_update_v" alt="" coords="577,131,756,157"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1433,629,1552,656"/>
<area shape="rect" id="node24" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="365,349,523,376"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1627,579,1747,605"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1817,933,1932,960"/>
<area shape="rect" id="node22" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1809,629,1940,656"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1993,940,2082,967"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1991,1003,2083,1029"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1988,1079,2087,1105"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1995,883,2080,909"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1999,604,2076,631"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="806,347,937,373"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="601,448,732,475"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="593,299,740,325"/>
<area shape="rect" id="node26" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1260,208,1335,235"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1421,107,1564,133"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1447,157,1538,184"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1435,208,1550,235"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1435,56,1550,83"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1423,259,1562,301"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1612,157,1761,184"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1634,107,1739,133"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1624,56,1749,83"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1624,5,1749,32"/>
<area shape="rect" id="node36" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1616,267,1757,293"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="804,441,939,482"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1022,477,1138,504"/>
<area shape="rect" id="node40" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1221,807,1373,833"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="987,427,1173,453"/>
<area shape="rect" id="node41" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1442,832,1543,859"/>
<area shape="rect" id="node42" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1639,883,1735,909"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1443,579,1543,605"/>
<area shape="rect" id="node44" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1449,680,1536,707"/>
<area shape="rect" id="node45" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1451,781,1534,808"/>
<area shape="rect" id="node47" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1243,427,1352,453"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="813,270,929,311"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="991,275,1169,301"/>
</map>
</div>

</div>
</div>
<a id="aac6b438f00cbb6f14307701ffeb19c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6b438f00cbb6f14307701ffeb19c68">&#9670;&nbsp;</a></span>nilfs_palloc_bitmap_blkoff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_bitmap_blkoff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_bitmap_blkoff - get block offset of a bitmap block : inode of metadata file using this allocator : group number</p>
<p><a class="el" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68">nilfs_palloc_bitmap_blkoff()</a> returns block offset of the bitmap block used to allocate/deallocate entries in the specified group. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_cgraph" id="nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="396,5,529,47"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="187,53,348,79"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="415,82,511,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_icgraph" id="nilfs2_2alloc_8c_aac6b438f00cbb6f14307701ffeb19c68_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="187,513,309,554"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="747,349,906,390"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="367,938,496,979"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="357,454,505,495"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="555,971,685,1013"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="553,618,687,659"/>
<area shape="rect" id="node19" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1203,903,1314,929"/>
<area shape="rect" id="node21" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1195,637,1323,664"/>
<area shape="rect" id="node27" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1193,844,1324,871"/>
<area shape="rect" id="node29" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1201,415,1316,457"/>
<area shape="rect" id="node34" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1201,350,1317,391"/>
<area shape="rect" id="node42" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="971,189,1129,216"/>
<area shape="rect" id="node45" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="1191,73,1327,114"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="750,786,903,827"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="736,567,917,593"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="763,516,890,543"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="981,291,1119,333"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="989,953,1111,980"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="735,735,919,761"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="763,618,890,659"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="968,801,1132,828"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="968,700,1132,727"/>
<area shape="rect" id="node8" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="967,751,1133,777"/>
<area shape="rect" id="node10" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="999,575,1101,601"/>
<area shape="rect" id="node11" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="997,524,1103,551"/>
<area shape="rect" id="node12" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1390,408,1547,435"/>
<area shape="rect" id="node13" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1601,265,1732,292"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="987,630,1113,671"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="981,357,1119,398"/>
<area shape="rect" id="node16" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1184,299,1333,325"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="1401,291,1536,333"/>
<area shape="rect" id="node18" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1385,240,1552,267"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="1395,903,1543,929"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1405,641,1532,682"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1395,706,1543,747"/>
<area shape="rect" id="node24" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="1403,771,1534,813"/>
<area shape="rect" id="node25" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="1399,510,1538,551"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="1395,575,1543,617"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="1407,837,1530,878"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1409,459,1528,485"/>
<area shape="rect" id="node32" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1181,240,1336,267"/>
<area shape="rect" id="node33" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="1401,174,1536,215"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1411,357,1526,384"/>
<area shape="rect" id="node38" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1205,953,1312,980"/>
<area shape="rect" id="node39" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1384,953,1553,980"/>
<area shape="rect" id="node43" href="dat_8h.html#a20090fd67268b5ee5f0d75f5ebd0d238" title="nilfs_dat_prepare_start" alt="" coords="1181,189,1336,216"/>
<area shape="rect" id="node44" href="dat_8h.html#a50e66ddd3e8e97894123fbeeff226897" title="nilfs_dat_mark_dirty" alt="" coords="1189,139,1328,165"/>
<area shape="rect" id="node46" href="nilfs_8h.html#abf9a4c6110fc70239efa38c7ffa04ec8" title="nilfs_load_inode_block" alt="" coords="1392,5,1545,32"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1398,57,1539,98"/>
</map>
</div>

</div>
</div>
<a id="a2a24fff0c9ab30080b5d2c08913b41ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a24fff0c9ab30080b5d2c08913b41ab">&#9670;&nbsp;</a></span>nilfs_palloc_block_get_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* nilfs_palloc_block_get_entry </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_block_get_entry - get kernel address of an entry : inode of metadata file using this allocator : serial number of the entry (e.g. inode number) : buffer head of the buffer storing the entry block : kernel address mapped for the page including the buffer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_cgraph" id="nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="179,1033,305,1060"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1409,923,1505,949"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="353,927,487,969"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="929,935,1111,961"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="535,857,683,898"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="546,1057,671,1098"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="957,585,1083,626"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1159,973,1325,1000"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1390,702,1523,743"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="731,752,881,779"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="745,998,867,1039"/>
<area shape="rect" id="node10" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="951,651,1089,677"/>
<area shape="rect" id="node11" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1169,568,1315,595"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1164,360,1320,387"/>
<area shape="rect" id="node12" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1377,651,1536,677"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1621,629,1739,656"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2068,781,2168,808"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1615,680,1745,707"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1876,284,1947,311"/>
<area shape="rect" id="node24" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1605,832,1755,859"/>
<area shape="rect" id="node26" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1639,731,1721,757"/>
<area shape="rect" id="node14" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1832,512,1991,539"/>
<area shape="rect" id="node16" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2233,756,2372,783"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1837,563,1985,605"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1844,629,1979,656"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="2051,201,2185,242"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2256,208,2349,235"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2420,208,2524,235"/>
<area shape="rect" id="node25" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1820,832,2003,859"/>
<area shape="rect" id="node27" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1855,680,1968,707"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1379,107,1534,133"/>
<area shape="rect" id="node33" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1384,323,1529,365"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1373,411,1540,437"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1380,272,1533,299"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1588,107,1772,133"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1613,56,1747,83"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1820,56,2003,83"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1849,208,1973,235"/>
<area shape="rect" id="node35" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="2057,520,2179,547"/>
<area shape="rect" id="node36" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1609,309,1751,336"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1615,513,1745,554"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1604,411,1756,437"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1598,461,1762,488"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="953,741,1087,782"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1161,720,1323,747"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1179,222,1305,263"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1172,502,1312,543"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1841,5,1982,32"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1390,513,1523,554"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_icgraph" id="nilfs2_2alloc_8c_a2a24fff0c9ab30080b5d2c08913b41ab_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="179,350,312,391"/>
<area shape="rect" id="node17" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="807,816,961,843"/>
<area shape="rect" id="node20" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="809,613,959,640"/>
<area shape="rect" id="node21" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="1030,613,1179,640"/>
<area shape="rect" id="node23" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="807,867,961,893"/>
<area shape="rect" id="node26" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="809,925,959,952"/>
<area shape="rect" id="node29" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="817,980,951,1007"/>
<area shape="rect" id="node32" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="829,1031,939,1057"/>
<area shape="rect" id="node34" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="820,1176,948,1203"/>
<area shape="rect" id="node40" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="819,1227,949,1253"/>
<area shape="rect" id="node42" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="827,511,941,553"/>
<area shape="rect" id="node44" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="1033,451,1176,477"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="375,159,529,201"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="361,299,543,325"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="389,471,515,497"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="607,594,744,635"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="614,347,737,373"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="360,248,544,275"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="389,350,515,391"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="593,93,757,120"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="593,144,757,171"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="592,195,759,221"/>
<area shape="rect" id="node8" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="624,245,727,272"/>
<area shape="rect" id="node9" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="831,365,937,392"/>
<area shape="rect" id="node10" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1026,400,1183,427"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1275,375,1406,401"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1275,425,1406,452"/>
<area shape="rect" id="node13" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1267,476,1414,503"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="614,463,737,505"/>
<area shape="rect" id="node16" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="613,813,738,854"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="607,529,744,570"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="614,398,737,439"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#aa56d4c2bd0d10c4825e4f8f741fe2a97" title="nilfs_bmap_commit_alloc_ptr" alt="" coords="1009,664,1200,691"/>
<area shape="rect" id="node19" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="1257,689,1424,716"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="1248,613,1433,640"/>
<area shape="rect" id="node24" href="nilfs2_2btree_8c.html#ae8fd34257f04690a23daa3fb34e4864c" title="nilfs_btree_assign_v" alt="" coords="1034,816,1175,843"/>
<area shape="rect" id="node25" href="nilfs2_2direct_8c.html#a86e6661436549ae94df47245a39d98ef" title="nilfs_direct_assign_v" alt="" coords="1033,765,1177,792"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="1037,867,1172,909"/>
<area shape="rect" id="node28" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1021,933,1188,960"/>
<area shape="rect" id="node30" href="nilfs2_2bmap_8h.html#a1e7a2d86d72ef55b104863224e28efc9" title="nilfs_bmap_abort_end_ptr" alt="" coords="1019,1035,1190,1061"/>
<area shape="rect" id="node31" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="1028,984,1181,1011"/>
<area shape="rect" id="node33" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="1031,1085,1179,1112"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1041,1398,1168,1439"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1031,1137,1179,1178"/>
<area shape="rect" id="node37" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="1039,1202,1170,1243"/>
<area shape="rect" id="node38" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="1035,1267,1174,1309"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="1031,1333,1179,1374"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="1043,1463,1166,1505"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1045,519,1164,545"/>
</map>
</div>

</div>
</div>
<a id="abd4c4ac38f5955b50e2d1ed3a4cfe194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4c4ac38f5955b50e2d1ed3a4cfe194">&#9670;&nbsp;</a></span>nilfs_palloc_block_get_group_desc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct nilfs_palloc_group_desc* nilfs_palloc_block_get_group_desc </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_block_get_group_desc - get kernel address of a group descriptor : inode of metadata file using this allocator : group number : buffer head of the buffer storing the group descriptor block : kernel address mapped for the page including the buffer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_cgraph" id="nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="179,5,312,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_icgraph" id="nilfs2_2alloc_8c_abd4c4ac38f5955b50e2d1ed3a4cfe194_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="179,308,316,349"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="179,515,316,556"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="186,243,309,284"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="186,606,309,633"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="364,250,519,277"/>
<area shape="rect" id="node16" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="383,304,499,345"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="588,129,723,171"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="572,250,739,277"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="819,5,951,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="815,71,954,112"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="823,137,947,163"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1039,13,1161,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1034,71,1166,112"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1230,78,1375,105"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="819,239,951,280"/>
<area shape="rect" id="node15" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="1025,473,1175,499"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1034,172,1166,213"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1223,133,1383,159"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1043,238,1157,265"/>
<area shape="rect" id="node24" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="577,457,734,483"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1258,335,1347,362"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1257,183,1349,210"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1253,234,1352,261"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1260,285,1345,311"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1243,386,1363,413"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1431,386,1561,413"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="819,515,950,542"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="819,355,950,382"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="811,457,958,483"/>
<area shape="rect" id="node26" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1063,523,1137,550"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1033,289,1167,331"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1042,407,1158,448"/>
<area shape="rect" id="node32" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="366,613,517,639"/>
<area shape="rect" id="node39" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="384,515,499,556"/>
<area shape="rect" id="node33" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="581,629,730,655"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="792,691,977,718"/>
<area shape="rect" id="node37" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="801,629,968,655"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#ac9dbba7bb2a2a145e06683fcd02a4752" title="nilfs_btree_commit\l_delete" alt="" coords="1034,743,1166,784"/>
<area shape="rect" id="node36" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="1037,691,1163,718"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="1034,625,1166,667"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="596,523,715,550"/>
<area shape="rect" id="node42" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="371,198,512,225"/>
<area shape="rect" id="node43" href="nilfs2_2bmap_8h.html#a85dab214f0695b10c68e3383eb543a4a" title="nilfs_bmap_abort_alloc_ptr" alt="" coords="567,78,744,105"/>
<area shape="rect" id="node44" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="579,198,732,225"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#aa8309dc2635d198364319aa97d9f6054" title="nilfs_btree_abort_update_v" alt="" coords="795,187,974,214"/>
<area shape="rect" id="node47" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="388,695,495,722"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="571,743,740,770"/>
<area shape="rect" id="node49" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="821,801,948,843"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1026,859,1174,886"/>
</map>
</div>

</div>
</div>
<a id="aa1ef67260a902eaecb3a5aacacdd0ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ef67260a902eaecb3a5aacacdd0ed8">&#9670;&nbsp;</a></span>nilfs_palloc_clear_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_clear_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_cgraph" id="nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="176,13,272,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_icgraph" id="nilfs2_2alloc_8c_aa1ef67260a902eaecb3a5aacacdd0ed8_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a7ad556c87d6cf7e18d5b8a276d453cfc" title="nilfs_palloc_destroy\l_cache" alt="" coords="176,159,313,201"/>
<area shape="rect" id="node14" href="mdt_8h.html#a673c8a81a5993668b02111eccc3f2b93" title="nilfs_mdt_restore_from\l_shadow_map" alt="" coords="361,218,516,259"/>
<area shape="rect" id="node3" href="mdt_8h.html#a3e53b80ec84301e3f8c2220cdb237e1e" title="nilfs_mdt_clear" alt="" coords="383,161,494,188"/>
<area shape="rect" id="node4" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="579,159,697,185"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="790,157,909,184"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="987,157,1107,184"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1163,107,1277,133"/>
<area shape="rect" id="node12" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1155,157,1285,184"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1338,5,1427,32"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1337,56,1429,83"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1333,107,1432,133"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1340,157,1425,184"/>
<area shape="rect" id="node13" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1344,232,1421,259"/>
<area shape="rect" id="node15" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="564,227,712,253"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="760,248,939,275"/>
</map>
</div>

</div>
</div>
<a id="ab3f5baf644a55149f2f20c5db5eb0ebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f5baf644a55149f2f20c5db5eb0ebf">&#9670;&nbsp;</a></span>nilfs_palloc_commit_alloc_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_commit_alloc_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_commit_alloc_entry - finish allocation of a persistent object : inode of metadata file using this allocator : <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> structure exchanged for the allocation </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_cgraph" id="nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_cgraph">
<area shape="rect" id="node2" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="201,481,323,508"/>
<area shape="rect" id="node49" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="191,544,333,571"/>
<area shape="rect" id="node3" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="390,468,511,495"/>
<area shape="rect" id="node5" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="383,519,518,545"/>
<area shape="rect" id="node48" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="381,417,520,444"/>
<area shape="rect" id="node4" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="572,377,744,404"/>
<area shape="rect" id="node6" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="568,511,748,553"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="2072,419,2211,445"/>
<area shape="rect" id="node44" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="588,681,728,722"/>
<area shape="rect" id="node45" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="591,429,725,470"/>
<area shape="rect" id="node7" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="833,528,923,555"/>
<area shape="rect" id="node11" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="855,477,901,504"/>
<area shape="rect" id="node8" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="1008,579,1113,605"/>
<area shape="rect" id="node10" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1493,477,1632,504"/>
<area shape="rect" id="node9" href="dcache_8c.html#ab9c0fece5c680f2c592413b6d3239ae9" title="__dget_dlock" alt="" coords="1161,579,1260,605"/>
<area shape="rect" id="node12" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="1023,300,1099,327"/>
<area shape="rect" id="node13" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1162,275,1259,301"/>
<area shape="rect" id="node15" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="1020,401,1101,428"/>
<area shape="rect" id="node14" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="1337,119,1416,145"/>
<area shape="rect" id="node16" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="1325,427,1428,453"/>
<area shape="rect" id="node17" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="1163,325,1258,352"/>
<area shape="rect" id="node43" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="1166,376,1255,403"/>
<area shape="rect" id="node18" href="dcache_8c.html#aa69465ec94d92f14786fdce2f5bfb175" title="d_lru_del" alt="" coords="1339,376,1414,403"/>
<area shape="rect" id="node19" href="dcache_8c.html#ae4904480d16c7850ae6994e92d110f96" title="__d_drop" alt="" coords="1339,325,1414,352"/>
<area shape="rect" id="node22" href="dcache_8c.html#ae2050a139fbd1eb7bfc238686e1b2e0b" title="dentry_unlist" alt="" coords="1329,224,1425,251"/>
<area shape="rect" id="node23" href="dcache_8c.html#acad4e66a4f8cc5a5bce5cb90bc5d6279" title="dentry_unlink_inode" alt="" coords="1308,169,1445,196"/>
<area shape="rect" id="node37" href="dcache_8c.html#ad8b0a5de190038ed843fa392d181c8a5" title="dentry_free" alt="" coords="1333,275,1420,301"/>
<area shape="rect" id="node20" href="dcache_8c.html#afe7718ea6372af4edd41d375be2b7755" title="___d_drop" alt="" coords="1521,427,1604,453"/>
<area shape="rect" id="node21" href="dcache_8c.html#ad0da24b939325fb96de67394f99b2766" title="d_hash" alt="" coords="1730,427,1794,453"/>
<area shape="rect" id="node24" href="dcache_8c.html#a0858bd86148196ec3ef3606f8f0de24f" title="__d_clear_type_and\l_inode" alt="" coords="1493,158,1632,199"/>
<area shape="rect" id="node25" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="1541,107,1584,133"/>
<area shape="rect" id="node26" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1725,107,1799,133"/>
<area shape="rect" id="node36" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1693,157,1831,184"/>
<area shape="rect" id="node27" href="inode_8c.html#a943dee860d20f57552f168683dcb4b5d" title="inode_add_lru" alt="" coords="1902,107,2005,133"/>
<area shape="rect" id="node29" href="fs-writeback_8c.html#aceeba3df6a433f68c665086a2ee53faa" title="write_inode_now" alt="" coords="1894,157,2013,184"/>
<area shape="rect" id="node32" href="inode_8c.html#a1f2fe8883e70882e845560b2ccf4ab16" title="inode_lru_list_del" alt="" coords="1892,208,2015,235"/>
<area shape="rect" id="node33" href="inode_8c.html#a4b62e1e360840615442b8ad6a9f16bc7" title="evict" alt="" coords="1928,56,1979,83"/>
<area shape="rect" id="node28" href="inode_8c.html#a19db2cb42c3c0fb426d842dcbd0e4754" title="inode_lru_list_add" alt="" coords="2078,107,2205,133"/>
<area shape="rect" id="node30" href="fs-writeback_8c.html#adf3fdb0955c8ea5fcad15b51ea6aa76e" title="writeback_single_inode" alt="" coords="2063,157,2220,184"/>
<area shape="rect" id="node34" href="fs-writeback_8c.html#ac6d2db367ed77b70b681e887ba0b05fc" title="inode_io_list_del" alt="" coords="2082,56,2201,83"/>
<area shape="rect" id="node35" href="inode_8c.html#a512fc1963a4346c6b2d0ea53a3f88985" title="inode_sb_list_del" alt="" coords="2080,5,2203,32"/>
<area shape="rect" id="node38" href="dcache_8c.html#a230d6245e3962408f039e2e33a251d98" title="dname_external" alt="" coords="1505,275,1620,301"/>
<area shape="rect" id="node39" href="dcache_8c.html#a1cda4f5743f52a426fe40cc5cf933675" title="external_name" alt="" coords="1709,325,1815,352"/>
<area shape="rect" id="node40" href="dcache_8c.html#a9017dd31269b4b6d79821de35551ae41" title="__d_free_external" alt="" coords="1500,376,1625,403"/>
<area shape="rect" id="node42" href="dcache_8c.html#a7d181ee17b4a49e02eac0f247fd484a9" title="__d_free" alt="" coords="1527,224,1599,251"/>
<area shape="rect" id="node41" href="dcache_8c.html#a711826e19d5ad53c7b0bbe26a878cfff" title="__d_free_external_name" alt="" coords="1680,376,1844,403"/>
<area shape="rect" id="node46" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="803,427,953,453"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="796,376,960,403"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="415,569,486,596"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_icgraph" id="nilfs2_2alloc_8c_ab3f5baf644a55149f2f20c5db5eb0ebf_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="191,217,345,243"/>
<area shape="rect" id="node17" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="210,545,326,587"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#aa56d4c2bd0d10c4825e4f8f741fe2a97" title="nilfs_bmap_commit_alloc_ptr" alt="" coords="393,107,584,134"/>
<area shape="rect" id="node11" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="405,217,572,243"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="641,5,773,47"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="637,71,776,112"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="645,137,769,163"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="836,13,957,39"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="831,71,963,112"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1033,78,1178,105"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1259,78,1383,105"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="641,239,773,280"/>
<area shape="rect" id="node16" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="632,187,781,214"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="831,187,963,228"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1025,161,1185,187"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1248,161,1395,187"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1048,751,1163,778"/>
<area shape="rect" id="node26" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="410,603,567,630"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1277,885,1366,911"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1275,935,1367,962"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1272,834,1371,861"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1461,1087,1547,1114"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1444,721,1564,747"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1612,771,1743,798"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1791,746,1868,773"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="641,437,772,463"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="641,603,772,630"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="633,686,780,713"/>
<area shape="rect" id="node28" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="859,371,934,398"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1034,531,1177,558"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1060,430,1151,457"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1048,262,1163,289"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1048,313,1163,339"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1036,364,1175,405"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1247,557,1396,583"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1269,506,1374,533"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1259,266,1384,293"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1259,317,1384,343"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1251,371,1392,398"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="829,651,964,692"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1047,658,1163,685"/>
<area shape="rect" id="node42" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1029,986,1181,1013"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="1012,802,1199,829"/>
<area shape="rect" id="node43" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1271,1087,1372,1114"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1271,986,1371,1013"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1262,1037,1381,1063"/>
<area shape="rect" id="node46" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1278,1138,1365,1165"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="839,872,955,913"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1016,1037,1195,1063"/>
</map>
</div>

</div>
</div>
<a id="a56970c9a75cb02b1ccec9e1e5ba5ed49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56970c9a75cb02b1ccec9e1e5ba5ed49">&#9670;&nbsp;</a></span>nilfs_palloc_commit_free_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_commit_free_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_commit_free_entry - finish deallocating a persistent object : inode of metadata file using this allocator : <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> structure exchanged for the removal </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_cgraph" id="nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="193,555,319,581"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="193,59,319,101"/>
<area shape="rect" id="node25" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589" title="nilfs_mdt_bgl_lock" alt="" coords="191,605,321,632"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0" title="nilfs_palloc_group\l_desc_add_entries" alt="" coords="191,657,321,698"/>
<area shape="rect" id="node27" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="195,948,317,975"/>
<area shape="rect" id="node50" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="369,177,512,204"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="374,547,507,589"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1000,649,1181,676"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="576,511,724,553"/>
<area shape="rect" id="node16" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="587,674,713,715"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="587,271,713,313"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1463,497,1559,524"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1229,700,1396,727"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1444,237,1577,278"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="795,548,945,575"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="809,431,931,473"/>
<area shape="rect" id="node10" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1021,548,1160,575"/>
<area shape="rect" id="node11" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1240,599,1385,625"/>
<area shape="rect" id="node12" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1235,548,1391,575"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1024,371,1157,413"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1232,345,1393,372"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="807,98,933,139"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="800,271,940,313"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1020,97,1161,124"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1055,47,1126,73"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1245,77,1380,118"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1024,301,1157,342"/>
<area shape="rect" id="node28" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="380,907,501,933"/>
<area shape="rect" id="node30" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="373,991,508,1017"/>
<area shape="rect" id="node49" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="371,1041,510,1068"/>
<area shape="rect" id="node29" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="564,903,736,929"/>
<area shape="rect" id="node31" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="560,1071,740,1113"/>
<area shape="rect" id="node44" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="580,1137,720,1178"/>
<area shape="rect" id="node45" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="583,954,717,995"/>
<area shape="rect" id="node48" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="581,1020,719,1047"/>
<area shape="rect" id="node32" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="825,1053,915,1080"/>
<area shape="rect" id="node36" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="847,1104,893,1131"/>
<area shape="rect" id="node33" href="dcache_8c.html#a3eb221591429fdc67dec907c0d09d26a" title="__d_find_alias" alt="" coords="1038,1003,1143,1029"/>
<area shape="rect" id="node35" href="dcache_8c.html#aeb5ec7bdf3301140d66dd18ae638685c" title="EXPORT_SYMBOL" alt="" coords="1021,1053,1160,1080"/>
<area shape="rect" id="node34" href="dcache_8c.html#ab9c0fece5c680f2c592413b6d3239ae9" title="__dget_dlock" alt="" coords="1263,1003,1362,1029"/>
<area shape="rect" id="node37" href="dcache_8c.html#a364a93ebd8b57977a5a90f2076dd8f59" title="fast_dput" alt="" coords="1053,1104,1129,1131"/>
<area shape="rect" id="node38" href="dcache_8c.html#a689bf4f6109300b7bc021f1641052f99" title="retain_dentry" alt="" coords="1264,1155,1361,1181"/>
<area shape="rect" id="node40" href="dcache_8c.html#a4a5ea078fab8f6527abb7f44aa88efd3" title="dentry_kill" alt="" coords="1050,1205,1131,1232"/>
<area shape="rect" id="node39" href="dcache_8c.html#a3b177069d047c319ff2309aa5be9342e" title="d_lru_add" alt="" coords="1471,1155,1550,1181"/>
<area shape="rect" id="node41" href="dcache_8c.html#aa89b23ccc5b34160480a5b0541255a2e" title="__lock_parent" alt="" coords="1459,1231,1562,1257"/>
<area shape="rect" id="node42" href="dcache_8c.html#a051b3970369269b3c6fcc1a19be37bed" title="__dentry_kill" alt="" coords="1265,1307,1360,1333"/>
<area shape="rect" id="node43" href="dcache_8c.html#a6a36af9be383e7cbabb89162ff8af440" title="lock_parent" alt="" coords="1268,1256,1357,1283"/>
<area shape="rect" id="node46" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="795,919,945,945"/>
<area shape="rect" id="node47" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="788,969,952,996"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_icgraph" id="nilfs2_2alloc_8c_a56970c9a75cb02b1ccec9e1e5ba5ed49_icgraph">
<area shape="rect" id="node2" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="191,197,341,224"/>
<area shape="rect" id="node13" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="209,263,323,305"/>
<area shape="rect" id="node3" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="393,168,543,195"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="595,72,780,99"/>
<area shape="rect" id="node8" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="604,168,771,195"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#ac9dbba7bb2a2a145e06683fcd02a4752" title="nilfs_btree_commit\l_delete" alt="" coords="837,65,969,106"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="839,13,966,40"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1057,72,1181,99"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="837,182,969,223"/>
<area shape="rect" id="node12" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="828,131,977,157"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#abf0e08110853bdfe3cb49b3ad7cd2e2c" title="nilfs_btree_commit\l_propagate_v" alt="" coords="1053,175,1185,217"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1260,181,1420,208"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1480,579,1599,605"/>
<area shape="rect" id="node23" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="389,347,547,373"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1673,579,1793,605"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1864,832,1979,859"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1856,629,1987,656"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2039,996,2129,1023"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2038,1072,2130,1099"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2035,781,2133,808"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2041,933,2127,960"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2045,604,2123,631"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="622,321,753,348"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="622,372,753,399"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="614,480,761,507"/>
<area shape="rect" id="node25" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1303,232,1377,259"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1468,107,1611,133"/>
<area shape="rect" id="node29" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1494,157,1585,184"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1482,208,1597,235"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1482,56,1597,83"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1470,259,1609,301"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1659,157,1808,184"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1681,107,1786,133"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1671,56,1796,83"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1671,5,1796,32"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1663,267,1804,293"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="835,470,970,511"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1061,477,1177,504"/>
<area shape="rect" id="node39" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1264,781,1416,808"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="1025,427,1212,453"/>
<area shape="rect" id="node40" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1489,883,1590,909"/>
<area shape="rect" id="node41" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1685,883,1781,909"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1489,629,1589,656"/>
<area shape="rect" id="node43" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1496,781,1583,808"/>
<area shape="rect" id="node44" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1498,832,1581,859"/>
<area shape="rect" id="node46" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1285,427,1395,453"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="845,578,961,619"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1029,787,1208,813"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1265,833,1415,874"/>
</map>
</div>

</div>
</div>
<a id="af34d5e7d52a6f35ebc2bc99307ff3bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af34d5e7d52a6f35ebc2bc99307ff3bd7">&#9670;&nbsp;</a></span>nilfs_palloc_count_desc_blocks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_count_desc_blocks </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>desc_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_count_desc_blocks - count descriptor blocks number : inode of metadata file using this allocator : descriptor blocks number [out] </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_cgraph" id="nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_cgraph">
<area shape="rect" id="node2" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="180,325,321,352"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="215,376,286,403"/>
<area shape="rect" id="node23" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="203,427,299,453"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="369,318,504,359"/>
<area shape="rect" id="node4" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="552,325,645,352"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="693,325,797,352"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="845,300,980,327"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="845,351,980,377"/>
<area shape="rect" id="node7" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1028,300,1189,327"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1049,351,1169,377"/>
<area shape="rect" id="node10" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1429,300,1565,327"/>
<area shape="rect" id="node20" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1248,351,1371,377"/>
<area shape="rect" id="node21" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1237,402,1381,443"/>
<area shape="rect" id="node11" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1613,249,1767,276"/>
<area shape="rect" id="node14" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2006,275,2145,301"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1836,300,1936,327"/>
<area shape="rect" id="node16" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1649,81,1731,108"/>
<area shape="rect" id="node12" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="1833,132,1939,159"/>
<area shape="rect" id="node13" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="1815,183,1957,225"/>
<area shape="rect" id="node17" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1829,31,1943,57"/>
<area shape="rect" id="node18" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2005,56,2145,83"/>
<area shape="rect" id="node19" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2022,5,2129,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_icgraph" id="nilfs2_2alloc_8c_af34d5e7d52a6f35ebc2bc99307ff3bd7_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="180,745,307,787"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="359,745,492,787"/>
<area shape="rect" id="node49" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="355,992,496,1033"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="559,160,713,201"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="545,873,727,899"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="573,589,699,615"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1213,818,1336,845"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1001,664,1139,705"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="544,709,728,735"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="777,78,941,105"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="777,194,941,221"/>
<area shape="rect" id="node12" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="776,141,943,167"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1004,5,1136,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="1001,71,1139,112"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="1004,253,1136,295"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="1001,188,1139,229"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="1008,137,1132,163"/>
<area shape="rect" id="node14" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="808,949,911,975"/>
<area shape="rect" id="node16" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="807,898,912,925"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="997,999,1143,1026"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="991,949,1149,975"/>
<area shape="rect" id="node18" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1400,554,1557,581"/>
<area shape="rect" id="node19" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1613,449,1744,475"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1613,269,1744,295"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1605,346,1752,373"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="798,731,921,772"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1007,319,1133,360"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1001,403,1139,444"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1009,599,1131,640"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1001,468,1139,509"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="996,533,1144,575"/>
<area shape="rect" id="node30" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="1005,781,1135,823"/>
<area shape="rect" id="node25" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1219,445,1330,471"/>
<area shape="rect" id="node26" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1211,495,1339,522"/>
<area shape="rect" id="node27" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1209,394,1340,421"/>
<area shape="rect" id="node28" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1217,664,1333,705"/>
<area shape="rect" id="node29" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1217,547,1332,588"/>
<area shape="rect" id="node32" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1425,818,1532,845"/>
<area shape="rect" id="node34" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="1197,141,1352,167"/>
<area shape="rect" id="node35" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="1199,293,1350,319"/>
<area shape="rect" id="node36" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="1404,306,1553,333"/>
<area shape="rect" id="node37" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="1197,191,1352,218"/>
<area shape="rect" id="node38" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1200,343,1349,370"/>
<area shape="rect" id="node39" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="1207,90,1342,117"/>
<area shape="rect" id="node40" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="1407,255,1550,282"/>
<area shape="rect" id="node42" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1197,730,1352,757"/>
<area shape="rect" id="node45" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="1204,613,1345,639"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="786,665,933,707"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="593,1101,679,1127"/>
</map>
</div>

</div>
</div>
<a id="a815c851e023aca4cb389509b1664fe97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815c851e023aca4cb389509b1664fe97">&#9670;&nbsp;</a></span>nilfs_palloc_count_max_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_palloc_count_max_entries </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>nused</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>nmaxp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_count_max_entries - count max number of entries that can be described by descriptor blocks count : inode of metadata file using this allocator : current number of used entries : max number of entries [out] </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_cgraph" id="nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1005,474,1132,515"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="180,851,313,893"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1217,963,1350,1005"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="999,1098,1139,1139"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1213,557,1354,584"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1687,401,1757,428"/>
<area shape="rect" id="node16" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1235,667,1331,693"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1655,655,1789,697"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1878,663,1971,689"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2052,663,2156,689"/>
<area shape="rect" id="node7" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="2204,655,2339,681"/>
<area shape="rect" id="node9" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="2204,705,2339,732"/>
<area shape="rect" id="node8" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="2387,655,2548,681"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="2407,705,2527,732"/>
<area shape="rect" id="node11" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="2767,655,2903,681"/>
<area shape="rect" id="node14" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="2596,705,2719,732"/>
<area shape="rect" id="node12" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="2959,516,3042,543"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2951,629,3051,656"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="756,591,937,617"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="361,709,509,750"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="570,881,695,922"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="783,951,910,993"/>
<area shape="rect" id="node19" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="985,540,1152,567"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="557,437,708,464"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="571,737,694,778"/>
<area shape="rect" id="node23" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="777,423,916,449"/>
<area shape="rect" id="node24" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="996,423,1141,449"/>
<area shape="rect" id="node30" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="991,267,1147,293"/>
<area shape="rect" id="node25" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1427,528,1586,555"/>
<area shape="rect" id="node26" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1663,275,1781,301"/>
<area shape="rect" id="node28" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1657,503,1787,529"/>
<area shape="rect" id="node29" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1647,553,1797,580"/>
<area shape="rect" id="node27" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1845,275,2004,301"/>
<area shape="rect" id="node31" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1206,241,1361,268"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1211,361,1356,402"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1200,85,1367,112"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1207,292,1360,319"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1415,275,1599,301"/>
<area shape="rect" id="node33" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1440,224,1573,251"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1445,580,1569,607"/>
<area shape="rect" id="node36" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1445,325,1568,352"/>
<area shape="rect" id="node37" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1435,427,1578,453"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1442,107,1571,149"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1431,5,1583,32"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1425,56,1589,83"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="783,844,910,871"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="780,778,913,819"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="988,844,1149,871"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1217,1098,1350,1139"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_icgraph" id="nilfs2_2alloc_8c_a815c851e023aca4cb389509b1664fe97_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="180,540,313,581"/>
<area shape="rect" id="node49" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="606,371,747,412"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="377,161,530,203"/>
<area shape="rect" id="node12" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="363,522,544,549"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="390,867,517,894"/>
<area shape="rect" id="node30" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1031,642,1153,669"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="819,675,956,716"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="361,678,545,705"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="390,456,517,497"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="595,195,759,222"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="595,85,759,111"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="593,141,760,167"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="821,188,953,229"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="818,253,957,295"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="821,71,953,112"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="818,5,957,47"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="825,137,949,163"/>
<area shape="rect" id="node13" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="625,522,728,549"/>
<area shape="rect" id="node15" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="624,471,729,498"/>
<area shape="rect" id="node14" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="815,522,960,549"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="808,471,967,498"/>
<area shape="rect" id="node17" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1217,893,1375,919"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1431,1045,1561,1071"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1431,899,1561,926"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1423,965,1569,991"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="615,944,738,985"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="825,1147,950,1188"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="819,988,956,1029"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="826,857,949,899"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="819,923,956,964"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="813,1053,961,1095"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="823,792,952,833"/>
<area shape="rect" id="node24" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1037,1103,1147,1130"/>
<area shape="rect" id="node25" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1028,1053,1156,1079"/>
<area shape="rect" id="node26" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1027,1154,1157,1181"/>
<area shape="rect" id="node27" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1034,820,1150,861"/>
<area shape="rect" id="node28" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1035,885,1149,927"/>
<area shape="rect" id="node31" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1243,642,1349,669"/>
<area shape="rect" id="node33" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="1015,1205,1169,1231"/>
<area shape="rect" id="node34" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="1017,1002,1167,1029"/>
<area shape="rect" id="node35" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="1221,998,1371,1025"/>
<area shape="rect" id="node36" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="1015,1255,1169,1282"/>
<area shape="rect" id="node37" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1017,951,1167,978"/>
<area shape="rect" id="node38" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="1025,1306,1159,1333"/>
<area shape="rect" id="node39" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="1225,1049,1367,1075"/>
<area shape="rect" id="node41" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1015,703,1169,730"/>
<area shape="rect" id="node44" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="1021,769,1163,795"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="603,675,750,716"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="844,370,931,397"/>
</map>
</div>

</div>
</div>
<a id="a3216027ff788f54c4e96c564568c893d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3216027ff788f54c4e96c564568c893d">&#9670;&nbsp;</a></span>nilfs_palloc_delete_bitmap_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_delete_bitmap_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_delete_bitmap_block - delete a bitmap block : inode of metadata file using this allocator : group number </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_cgraph" id="nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="602,239,698,265"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="185,373,314,414"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="183,286,316,327"/>
<area shape="rect" id="node4" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="367,412,522,439"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="813,527,884,553"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="587,356,713,383"/>
<area shape="rect" id="node30" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="579,519,721,545"/>
<area shape="rect" id="node31" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="573,412,727,439"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="775,292,923,319"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="781,343,916,385"/>
<area shape="rect" id="node8" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="973,285,1099,326"/>
<area shape="rect" id="node9" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="1149,295,1271,321"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="1155,244,1265,271"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="989,351,1083,377"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="1158,349,1262,376"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1319,349,1453,376"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1319,295,1453,321"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1501,349,1663,376"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1522,287,1642,313"/>
<area shape="rect" id="node18" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1903,231,2039,257"/>
<area shape="rect" id="node28" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1721,205,1844,232"/>
<area shape="rect" id="node29" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1711,307,1855,349"/>
<area shape="rect" id="node19" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="2087,300,2240,327"/>
<area shape="rect" id="node22" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2479,212,2618,239"/>
<area shape="rect" id="node23" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2309,401,2409,428"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="2122,132,2205,159"/>
<area shape="rect" id="node20" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="2307,300,2412,327"/>
<area shape="rect" id="node21" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="2288,234,2431,275"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2303,31,2416,57"/>
<area shape="rect" id="node26" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2479,5,2619,32"/>
<area shape="rect" id="node27" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2495,56,2602,83"/>
<area shape="rect" id="node32" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="783,461,914,502"/>
<area shape="rect" id="node33" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="785,409,912,436"/>
<area shape="rect" id="node34" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="972,453,1100,494"/>
<area shape="rect" id="node35" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="971,518,1101,559"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="583,290,717,331"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="364,293,525,320"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_icgraph" id="nilfs2_2alloc_8c_a3216027ff788f54c4e96c564568c893d_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="183,56,305,83"/>
<area shape="rect" id="node3" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="353,56,460,83"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="508,56,677,83"/>
<area shape="rect" id="node5" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="725,49,852,90"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="900,31,1048,57"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1448,81,1568,108"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1096,31,1275,57"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1323,31,1400,57"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1624,81,1739,108"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1616,31,1747,57"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1799,5,1889,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1798,56,1890,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1795,107,1893,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1801,157,1887,184"/>
</map>
</div>

</div>
</div>
<a id="a91a03cbc72624b3e78db8cb4ddaf6ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a03cbc72624b3e78db8cb4ddaf6ad6">&#9670;&nbsp;</a></span>nilfs_palloc_delete_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_delete_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>blkoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bh__assoc.html">nilfs_bh_assoc</a> *&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spinlock_t *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_delete_block - delete a block on the persistent allocator file : inode of metadata file using this allocator : block offset : <a class="el" href="structnilfs__bh__assoc.html">nilfs_bh_assoc</a> struct of the last used buffer : spin lock protecting  </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_cgraph" id="nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="183,280,337,307"/>
<area shape="rect" id="node3" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="625,204,696,231"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="399,305,525,332"/>
<area shape="rect" id="node28" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="391,255,533,281"/>
<area shape="rect" id="node29" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="385,385,539,412"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="587,321,735,348"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="593,255,728,297"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="785,314,911,355"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="961,296,1083,323"/>
<area shape="rect" id="node8" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="967,347,1077,373"/>
<area shape="rect" id="node10" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="801,251,895,277"/>
<area shape="rect" id="node11" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="970,240,1074,267"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="1131,240,1265,267"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="1131,188,1265,215"/>
<area shape="rect" id="node13" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="1313,240,1475,267"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="1334,185,1454,212"/>
<area shape="rect" id="node16" href="buffer_8c.html#ad14d5a18ab22cf24baa474870664c128" title="__sync_dirty_buffer" alt="" coords="1715,184,1851,211"/>
<area shape="rect" id="node26" href="buffer_8c.html#aa6e73e23b9f75a73cf4112fb3d19b668" title="sync_dirty_buffer" alt="" coords="1533,133,1656,160"/>
<area shape="rect" id="node27" href="the__nilfs_8c.html#a6809c74809ebc6547ec0168ba3303ad8" title="nilfs_fall_back_super\l_block" alt="" coords="1523,235,1667,277"/>
<area shape="rect" id="node17" href="buffer_8c.html#aac5852df82371e20e891b02a37461248" title="end_buffer_write_sync" alt="" coords="1899,300,2052,327"/>
<area shape="rect" id="node20" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2291,212,2430,239"/>
<area shape="rect" id="node21" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2121,401,2221,428"/>
<area shape="rect" id="node22" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1934,132,2017,159"/>
<area shape="rect" id="node18" href="buffer_8c.html#a15c60a53f942f27f505098848dda3f3e" title="buffer_io_error" alt="" coords="2119,300,2224,327"/>
<area shape="rect" id="node19" href="buffer_8c.html#a0c5a9b93af2e1cc8bdeb45d23f5fd4fd" title="mark_buffer_write_io\l_error" alt="" coords="2100,234,2243,275"/>
<area shape="rect" id="node23" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2115,31,2228,57"/>
<area shape="rect" id="node24" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="2291,5,2431,32"/>
<area shape="rect" id="node25" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="2307,56,2414,83"/>
<area shape="rect" id="node30" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="595,378,726,419"/>
<area shape="rect" id="node31" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="597,455,724,481"/>
<area shape="rect" id="node32" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="784,453,912,494"/>
<area shape="rect" id="node33" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="783,518,913,559"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_icgraph" id="nilfs2_2alloc_8c_a91a03cbc72624b3e78db8cb4ddaf6ad6_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="183,15,312,57"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="183,81,312,122"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="360,56,483,83"/>
<area shape="rect" id="node4" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="531,56,637,83"/>
<area shape="rect" id="node5" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="685,56,855,83"/>
<area shape="rect" id="node6" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="903,49,1029,90"/>
<area shape="rect" id="node7" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1077,31,1225,57"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1625,81,1745,108"/>
<area shape="rect" id="node8" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1273,31,1452,57"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1500,31,1577,57"/>
<area shape="rect" id="node11" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1801,81,1916,108"/>
<area shape="rect" id="node16" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1793,31,1924,57"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1977,5,2066,32"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1975,56,2067,83"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1972,107,2071,133"/>
<area shape="rect" id="node15" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1979,157,2064,184"/>
</map>
</div>

</div>
</div>
<a id="a94cff05fa5abd31449187412146a49f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cff05fa5abd31449187412146a49f3">&#9670;&nbsp;</a></span>nilfs_palloc_delete_entry_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_delete_entry_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>nr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_delete_entry_block - delete an entry block : inode of metadata file using this allocator : serial number of the entry </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_cgraph" id="nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1189,267,1285,294"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="183,512,312,553"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="186,221,309,263"/>
<area shape="rect" id="node4" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="1160,734,1315,761"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="2006,427,2077,454"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="1377,697,1504,723"/>
<area shape="rect" id="node18" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1781,377,1924,403"/>
<area shape="rect" id="node19" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="1364,755,1517,782"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8c.html#a54e619b4cf86165cb313e3e79ddc1964" title="nilfs_bmap_do_delete" alt="" coords="1576,697,1724,723"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1583,631,1717,672"/>
<area shape="rect" id="node8" href="nilfs2_2direct_8c.html#ae7a4e867b8728ea6f0c276b68f537479" title="nilfs_direct_delete\l_and_convert" alt="" coords="1789,735,1916,776"/>
<area shape="rect" id="node9" href="nilfs2_2direct_8c.html#af7a09b01970bcd0a5aa1467aa705f5fe" title="nilfs_direct_dptrs" alt="" coords="1981,789,2102,815"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#aeecaf45244f88e4286516e9b26ff6afd" title="nilfs_direct_init" alt="" coords="1987,738,2096,765"/>
<area shape="rect" id="node12" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1806,633,1899,659"/>
<area shape="rect" id="node13" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="1989,633,2093,659"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a8e2908caf99fa61e4da3134daa205dd0" title="nilfs_prepare_super" alt="" coords="2159,607,2293,634"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a0955c5c7387c5d5ea561c70b3eeb5925" title="nilfs_commit_super" alt="" coords="2159,658,2293,685"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#ab41ad60b507d8f217c2062c254a00367" title="nilfs_swap_super_block" alt="" coords="2341,607,2503,634"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a7f749f73b57e01f7d7b45df9c3cc836b" title="nilfs_sync_super" alt="" coords="2362,658,2482,685"/>
<area shape="rect" id="node20" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1585,748,1715,789"/>
<area shape="rect" id="node21" href="nilfs2_2page_8c.html#a866283c71b48e2aec59af06e7dd9d0ac" title="nilfs_forget_buffer" alt="" coords="1587,814,1713,841"/>
<area shape="rect" id="node22" href="nilfs2_2page_8c.html#ae480881857e8afeef790a92ae1772630" title="nilfs_page_buffers\l_clean" alt="" coords="1789,869,1917,911"/>
<area shape="rect" id="node23" href="nilfs2_2page_8c.html#a6236b3bde5556e05843d2c5e34074b65" title="__nilfs_clear_page\l_dirty" alt="" coords="1787,804,1918,845"/>
<area shape="rect" id="node24" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1803,683,1903,710"/>
<area shape="rect" id="node25" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1972,683,2111,710"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="360,254,487,281"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="740,388,873,429"/>
<area shape="rect" id="node28" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="535,308,668,349"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="716,315,897,342"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="733,172,881,213"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="744,247,869,288"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="743,471,870,512"/>
<area shape="rect" id="node30" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="945,267,1112,294"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1171,580,1304,621"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="953,65,1104,91"/>
<area shape="rect" id="node34" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1168,209,1307,235"/>
<area shape="rect" id="node35" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1368,293,1513,319"/>
<area shape="rect" id="node38" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1363,209,1519,235"/>
<area shape="rect" id="node36" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1571,427,1729,454"/>
<area shape="rect" id="node37" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1793,242,1912,269"/>
<area shape="rect" id="node39" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1573,107,1727,134"/>
<area shape="rect" id="node40" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1577,311,1723,352"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1567,158,1733,185"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1573,259,1727,286"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="965,471,1092,512"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="959,689,1099,731"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1167,529,1308,555"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1171,668,1304,709"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="948,419,1109,446"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_icgraph" id="nilfs2_2alloc_8c_a94cff05fa5abd31449187412146a49f3_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="183,56,305,83"/>
<area shape="rect" id="node3" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="353,56,460,83"/>
<area shape="rect" id="node4" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="508,56,677,83"/>
<area shape="rect" id="node5" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="725,49,852,90"/>
<area shape="rect" id="node6" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="900,31,1048,57"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1448,81,1568,108"/>
<area shape="rect" id="node7" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="1096,31,1275,57"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1323,31,1400,57"/>
<area shape="rect" id="node10" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1624,81,1739,108"/>
<area shape="rect" id="node15" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1616,31,1747,57"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1799,5,1889,32"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1798,56,1890,83"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1795,107,1893,133"/>
<area shape="rect" id="node14" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1801,157,1887,184"/>
</map>
</div>

</div>
</div>
<a id="a9e6fc04ad7375ca78f8b38b69bc2131b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e6fc04ad7375ca78f8b38b69bc2131b">&#9670;&nbsp;</a></span>nilfs_palloc_desc_blkoff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_desc_blkoff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_desc_blkoff - get block offset of a group descriptor block : inode of metadata file using this allocator : group number</p>
<p><a class="el" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b">nilfs_palloc_desc_blkoff()</a> returns block offset of the descriptor block which contains a descriptor of the specified group. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_cgraph" id="nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="215,5,348,47"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="233,71,329,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_icgraph" id="nilfs2_2alloc_8c_a9e6fc04ad7375ca78f8b38b69bc2131b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="215,93,348,135"/>
<area shape="rect" id="node30" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="1189,625,1335,667"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="399,152,522,193"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="1183,443,1341,484"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="396,5,525,47"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="573,559,721,600"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="583,123,712,164"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="769,559,903,600"/>
<area shape="rect" id="node17" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1614,533,1730,575"/>
<area shape="rect" id="node24" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1615,611,1729,652"/>
<area shape="rect" id="node32" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="1389,1257,1547,1283"/>
<area shape="rect" id="node35" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="781,701,891,727"/>
<area shape="rect" id="node37" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="772,934,900,961"/>
<area shape="rect" id="node43" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="771,235,901,262"/>
<area shape="rect" id="node45" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="1604,415,1740,456"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="966,559,1119,600"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="952,625,1133,651"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1199,509,1325,535"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1399,625,1537,667"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1407,391,1529,418"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="951,675,1135,702"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="979,493,1106,535"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1399,560,1537,601"/>
<area shape="rect" id="node10" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1595,811,1749,838"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="1815,823,1949,864"/>
<area shape="rect" id="node15" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1799,757,1965,783"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="2018,852,2150,893"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="2015,917,2153,959"/>
<area shape="rect" id="node14" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="2022,801,2146,827"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="2018,735,2150,776"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1825,574,1939,601"/>
<area shape="rect" id="node19" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1803,523,1961,550"/>
<area shape="rect" id="node20" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="2019,473,2149,499"/>
<area shape="rect" id="node22" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1597,706,1747,733"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="1815,691,1949,732"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1823,625,1941,651"/>
<area shape="rect" id="node27" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1619,334,1725,361"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1797,305,1967,331"/>
<area shape="rect" id="node33" href="dat_8h.html#a20090fd67268b5ee5f0d75f5ebd0d238" title="nilfs_dat_prepare_start" alt="" coords="1595,1282,1749,1309"/>
<area shape="rect" id="node34" href="dat_8h.html#a50e66ddd3e8e97894123fbeeff226897" title="nilfs_dat_mark_dirty" alt="" coords="1603,1231,1741,1258"/>
<area shape="rect" id="node36" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="969,777,1117,803"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="979,1024,1106,1065"/>
<area shape="rect" id="node39" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="969,1089,1117,1131"/>
<area shape="rect" id="node40" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="977,828,1108,869"/>
<area shape="rect" id="node41" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="973,893,1112,935"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="969,959,1117,1000"/>
<area shape="rect" id="node44" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="981,224,1104,265"/>
<area shape="rect" id="node46" href="nilfs_8h.html#abf9a4c6110fc70239efa38c7ffa04ec8" title="nilfs_load_inode_block" alt="" coords="1805,473,1959,499"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1811,356,1953,397"/>
</map>
</div>

</div>
</div>
<a id="adbbabe3bdf5bb646714ce22855ca16b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbbabe3bdf5bb646714ce22855ca16b9">&#9670;&nbsp;</a></span>nilfs_palloc_desc_block_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void nilfs_palloc_desc_block_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head *&#160;</td>
          <td class="paramname"><em>bh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>kaddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_desc_block_init - initialize buffer of a group descriptor block : inode of metadata file : buffer head of the buffer to be initialized : kernel address mapped for the page including the buffer </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_cgraph" id="nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1274,71,1407,112"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="237,620,371,661"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="813,786,995,813"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="419,565,567,607"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="627,708,753,749"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="841,289,967,331"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1293,761,1389,787"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1043,815,1209,842"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="615,489,765,515"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="629,540,751,581"/>
<area shape="rect" id="node9" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="835,489,973,515"/>
<area shape="rect" id="node10" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1053,507,1199,534"/>
<area shape="rect" id="node27" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1048,406,1204,433"/>
<area shape="rect" id="node11" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1261,710,1420,737"/>
<area shape="rect" id="node12" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1505,710,1623,737"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1952,1030,2052,1057"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1499,811,1629,838"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1760,533,1831,559"/>
<area shape="rect" id="node23" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1489,979,1639,1006"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1523,878,1605,905"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1716,710,1875,737"/>
<area shape="rect" id="node15" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2117,954,2256,981"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1721,761,1869,803"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1728,827,1863,854"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1935,601,2069,643"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2140,609,2233,635"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2304,609,2408,635"/>
<area shape="rect" id="node24" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1704,1030,1887,1057"/>
<area shape="rect" id="node26" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1739,878,1852,905"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1263,289,1418,315"/>
<area shape="rect" id="node32" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1268,511,1413,552"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1257,398,1424,425"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1264,577,1417,603"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1472,289,1656,315"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1497,238,1631,265"/>
<area shape="rect" id="node31" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1704,238,1887,265"/>
<area shape="rect" id="node33" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1733,609,1857,635"/>
<area shape="rect" id="node34" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1941,773,2063,799"/>
<area shape="rect" id="node35" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1493,558,1635,585"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1499,441,1629,483"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1488,339,1640,366"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1482,390,1646,417"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="841,659,967,686"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="837,388,971,429"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1045,355,1207,382"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1063,289,1189,331"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1056,71,1196,112"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1725,162,1866,189"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1274,5,1407,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_icgraph" id="nilfs2_2alloc_8c_adbbabe3bdf5bb646714ce22855ca16b9_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="237,500,384,541"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="432,417,569,459"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="432,500,569,541"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="439,566,562,593"/>
<area shape="rect" id="node4" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="617,254,772,281"/>
<area shape="rect" id="node17" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="637,417,753,459"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="837,100,972,141"/>
<area shape="rect" id="node12" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="821,254,988,281"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1046,5,1178,47"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="1043,71,1181,112"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="1050,137,1174,163"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1248,13,1369,39"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1243,71,1375,112"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1438,78,1583,105"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="1046,188,1178,229"/>
<area shape="rect" id="node16" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="1037,254,1187,281"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1243,188,1375,229"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1431,195,1591,222"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1251,406,1366,433"/>
<area shape="rect" id="node26" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="826,509,983,535"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1466,309,1555,335"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1465,359,1557,386"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1461,410,1560,437"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1468,461,1553,487"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1451,515,1571,542"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1639,490,1769,517"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1817,515,1895,542"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1047,523,1177,550"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1047,473,1177,499"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1039,738,1185,765"/>
<area shape="rect" id="node28" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1271,675,1346,702"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1439,574,1582,601"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1465,625,1556,651"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1453,675,1568,702"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1453,726,1568,753"/>
<area shape="rect" id="node33" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1441,777,1580,819"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1241,508,1376,549"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1251,777,1367,819"/>
<area shape="rect" id="node39" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="620,338,769,365"/>
<area shape="rect" id="node44" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="637,501,752,543"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="837,331,972,372"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="1046,305,1178,347"/>
<area shape="rect" id="node43" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="1049,371,1175,398"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1247,313,1371,339"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="845,566,964,593"/>
<area shape="rect" id="node47" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="641,598,748,625"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="820,630,989,657"/>
<area shape="rect" id="node49" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="1049,625,1175,667"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1235,726,1383,753"/>
</map>
</div>

</div>
</div>
<a id="a7ad556c87d6cf7e18d5b8a276d453cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad556c87d6cf7e18d5b8a276d453cfc">&#9670;&nbsp;</a></span>nilfs_palloc_destroy_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_destroy_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_cgraph" id="nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#aa1ef67260a902eaecb3a5aacacdd0ed8" title="nilfs_palloc_clear\l_cache" alt="" coords="191,5,313,47"/>
<area shape="rect" id="node3" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="361,42,457,69"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_icgraph" id="nilfs2_2alloc_8c_a7ad556c87d6cf7e18d5b8a276d453cfc_icgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a3e53b80ec84301e3f8c2220cdb237e1e" title="nilfs_mdt_clear" alt="" coords="191,139,301,165"/>
<area shape="rect" id="node3" href="nilfs2_2inode_8c.html#ac7d6da43f7ba7c1501ce31f774324959" title="nilfs_clear_inode" alt="" coords="349,139,468,165"/>
<area shape="rect" id="node4" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="516,139,635,165"/>
<area shape="rect" id="node5" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="683,139,803,165"/>
<area shape="rect" id="node6" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="859,111,973,137"/>
<area shape="rect" id="node11" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="851,164,981,191"/>
<area shape="rect" id="node7" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1034,5,1123,32"/>
<area shape="rect" id="node8" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1033,56,1125,83"/>
<area shape="rect" id="node9" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1029,107,1128,133"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1036,157,1121,184"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1040,232,1117,259"/>
</map>
</div>

</div>
</div>
<a id="a6075e80e07eb1fb451fc65d559e35484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6075e80e07eb1fb451fc65d559e35484">&#9670;&nbsp;</a></span>nilfs_palloc_entry_blkoff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_entry_blkoff </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>nr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_entry_blkoff - get block offset of an entry block : inode of metadata file using this allocator : serial number of the entry (e.g. inode number) </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_cgraph" id="nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="176,751,303,777"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="997,812,1093,839"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="556,685,689,726"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="351,743,484,785"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="532,751,713,777"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="549,554,697,595"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="560,802,685,843"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="559,619,686,661"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="761,888,928,915"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="979,510,1112,551"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="769,349,920,376"/>
<area shape="rect" id="node10" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="976,349,1115,376"/>
<area shape="rect" id="node11" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1168,292,1313,319"/>
<area shape="rect" id="node29" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1163,500,1319,527"/>
<area shape="rect" id="node12" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1371,235,1529,261"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1614,285,1733,312"/>
<area shape="rect" id="node17" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2068,32,2168,59"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1608,235,1739,261"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1869,477,1940,504"/>
<area shape="rect" id="node25" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1598,83,1749,109"/>
<area shape="rect" id="node27" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1632,184,1715,211"/>
<area shape="rect" id="node14" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1825,285,1984,312"/>
<area shape="rect" id="node15" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="2044,225,2192,252"/>
<area shape="rect" id="node16" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2240,133,2379,160"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1831,337,1979,378"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1837,235,1972,261"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="2051,543,2185,585"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2263,551,2356,577"/>
<area shape="rect" id="node22" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2427,551,2531,577"/>
<area shape="rect" id="node26" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1813,32,1996,59"/>
<area shape="rect" id="node28" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1848,184,1961,211"/>
<area shape="rect" id="node30" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1373,652,1527,679"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1377,463,1523,505"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1367,791,1533,817"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1373,529,1527,556"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1581,652,1765,679"/>
<area shape="rect" id="node32" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1607,703,1740,729"/>
<area shape="rect" id="node33" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1813,703,1996,729"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1843,551,1967,577"/>
<area shape="rect" id="node36" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="2057,360,2179,387"/>
<area shape="rect" id="node37" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1602,500,1745,527"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1609,754,1738,795"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1597,820,1749,847"/>
<area shape="rect" id="node41" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1591,871,1755,897"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="781,619,908,661"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="775,401,915,442"/>
<area shape="rect" id="node46" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1170,808,1311,835"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="979,401,1112,442"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="764,685,925,712"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_icgraph" id="nilfs2_2alloc_8c_a6075e80e07eb1fb451fc65d559e35484_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="176,717,324,759"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="374,85,503,127"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="372,407,505,448"/>
<area shape="rect" id="node17" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1227,826,1338,853"/>
<area shape="rect" id="node19" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1219,906,1347,933"/>
<area shape="rect" id="node25" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1217,986,1348,1013"/>
<area shape="rect" id="node27" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1225,601,1340,643"/>
<area shape="rect" id="node32" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1225,471,1341,512"/>
<area shape="rect" id="node43" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="1000,177,1157,203"/>
<area shape="rect" id="node47" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="1215,60,1351,101"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="569,620,722,661"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="555,313,736,339"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="805,522,932,549"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1010,405,1147,447"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1017,354,1140,381"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="553,414,737,441"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="582,247,709,288"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="787,623,951,650"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="787,674,951,701"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="785,573,952,599"/>
<area shape="rect" id="node9" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="817,303,920,330"/>
<area shape="rect" id="node10" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="1026,278,1131,305"/>
<area shape="rect" id="node11" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1413,253,1570,279"/>
<area shape="rect" id="node12" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1623,161,1753,187"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1016,819,1141,860"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1010,601,1147,643"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1017,471,1140,512"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1010,536,1147,577"/>
<area shape="rect" id="node15" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1208,539,1357,566"/>
<area shape="rect" id="node16" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1408,449,1575,475"/>
<area shape="rect" id="node18" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="1417,717,1565,743"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1428,1029,1555,1071"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1417,768,1565,809"/>
<area shape="rect" id="node22" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="1426,833,1557,875"/>
<area shape="rect" id="node23" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="1422,899,1561,940"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="1417,964,1565,1005"/>
<area shape="rect" id="node26" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="1430,1095,1553,1136"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1432,609,1551,635"/>
<area shape="rect" id="node30" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1205,413,1360,439"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="1424,383,1559,424"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1434,499,1549,526"/>
<area shape="rect" id="node38" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1229,354,1336,381"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="795,405,942,447"/>
<area shape="rect" id="node42" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="798,136,939,177"/>
<area shape="rect" id="node44" href="dat_8h.html#a20090fd67268b5ee5f0d75f5ebd0d238" title="nilfs_dat_prepare_start" alt="" coords="1205,177,1360,203"/>
<area shape="rect" id="node46" href="dat_8h.html#a50e66ddd3e8e97894123fbeeff226897" title="nilfs_dat_mark_dirty" alt="" coords="1213,126,1352,153"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#ae8fd34257f04690a23daa3fb34e4864c" title="nilfs_btree_assign_v" alt="" coords="1421,177,1562,203"/>
<area shape="rect" id="node48" href="nilfs_8h.html#abf9a4c6110fc70239efa38c7ffa04ec8" title="nilfs_load_inode_block" alt="" coords="1415,122,1568,149"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1421,5,1562,47"/>
</map>
</div>

</div>
</div>
<a id="a855136bfe85f7785f4f6663d4dea862c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855136bfe85f7785f4f6663d4dea862c">&#9670;&nbsp;</a></span>nilfs_palloc_find_available_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_find_available_slot </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>bitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spinlock_t *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_find_available_slot - find available slot in a group : bitmap of the group : offset number of an entry in the group (start point) : size in bits : spin lock protecting  </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a855136bfe85f7785f4f6663d4dea862c_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a855136bfe85f7785f4f6663d4dea862c_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a855136bfe85f7785f4f6663d4dea862c_icgraph" id="nilfs2_2alloc_8c_a855136bfe85f7785f4f6663d4dea862c_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="255,249,392,291"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="440,205,595,231"/>
<area shape="rect" id="node18" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="459,304,575,345"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="659,113,793,155"/>
<area shape="rect" id="node12" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="643,205,809,231"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="866,5,998,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="863,71,1001,112"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="870,137,994,163"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1061,13,1183,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1056,71,1188,112"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1258,78,1403,105"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1485,78,1609,105"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="866,239,998,280"/>
<area shape="rect" id="node17" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="857,187,1007,214"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1056,187,1188,228"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1251,179,1411,206"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1473,150,1620,177"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1273,311,1388,338"/>
<area shape="rect" id="node27" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="647,917,805,943"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1502,427,1591,454"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1501,326,1593,353"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1497,377,1596,403"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1687,478,1772,505"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1669,655,1789,682"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1837,605,1968,631"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="2016,630,2093,657"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="867,959,997,986"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="867,833,997,859"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="859,1014,1005,1041"/>
<area shape="rect" id="node29" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1085,1001,1159,1027"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1259,1102,1402,1129"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1285,1001,1376,1027"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1273,1051,1388,1078"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1273,1153,1388,1179"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1261,935,1400,976"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1472,1102,1621,1129"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1494,1051,1599,1078"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1484,1153,1609,1179"/>
<area shape="rect" id="node37" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1484,1203,1609,1230"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1476,942,1617,969"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1055,724,1189,765"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1273,782,1389,809"/>
<area shape="rect" id="node43" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1255,554,1407,581"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="1237,503,1424,530"/>
<area shape="rect" id="node44" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1496,529,1597,555"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1497,681,1597,707"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1487,630,1606,657"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1064,1124,1180,1165"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1241,1203,1420,1230"/>
</map>
</div>

</div>
</div>
<a id="a12ba11e974447995be8fa927aaea6f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12ba11e974447995be8fa927aaea6f4b">&#9670;&nbsp;</a></span>nilfs_palloc_freev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_palloc_freev </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64 *&#160;</td>
          <td class="paramname"><em>entry_nrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nitems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_freev - deallocate a set of persistent objects : inode of metadata file using this allocator : array of entry numbers to be deallocated : number of entries stored in  </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_cgraph" id="nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="626,742,759,783"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1717,563,1813,589"/>
<area shape="rect" id="node15" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1269,596,1395,623"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="176,777,323,818"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="833,395,992,437"/>
<area shape="rect" id="node28" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589" title="nilfs_mdt_bgl_lock" alt="" coords="184,192,315,219"/>
<area shape="rect" id="node29" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="188,555,311,581"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="848,119,977,161"/>
<area shape="rect" id="node46" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1693,5,1836,32"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="400,1206,525,1247"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0" title="nilfs_palloc_group\l_desc_add_entries" alt="" coords="184,842,315,883"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="1053,294,1183,335"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1241,647,1423,673"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="839,563,987,605"/>
<area shape="rect" id="node18" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1055,755,1181,797"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="1269,978,1395,1019"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1471,644,1637,671"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1698,1057,1831,1098"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1043,461,1193,488"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1057,513,1179,554"/>
<area shape="rect" id="node9" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1263,420,1401,447"/>
<area shape="rect" id="node10" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1481,157,1627,184"/>
<area shape="rect" id="node13" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1476,420,1632,447"/>
<area shape="rect" id="node11" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1685,157,1844,184"/>
<area shape="rect" id="node12" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1924,107,1995,133"/>
<area shape="rect" id="node16" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1265,530,1399,571"/>
<area shape="rect" id="node17" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1473,899,1635,925"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1491,950,1617,991"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1484,1118,1624,1159"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1694,891,1835,917"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1892,529,2027,570"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1698,1122,1831,1163"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="371,852,555,879"/>
<area shape="rect" id="node30" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="402,580,523,607"/>
<area shape="rect" id="node32" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="395,801,530,828"/>
<area shape="rect" id="node41" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="393,529,532,556"/>
<area shape="rect" id="node31" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="607,580,779,607"/>
<area shape="rect" id="node33" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="603,966,783,1007"/>
<area shape="rect" id="node36" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="623,883,763,925"/>
<area shape="rect" id="node37" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="626,818,759,859"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#a044f1d7ff09b03f639232ec0e6a88ee1" title="EXPORT_SYMBOL" alt="" coords="623,691,762,717"/>
<area shape="rect" id="node34" href="dcache_8c.html#a9f042046c19f277000ddfc09b02e3633" title="d_find_alias" alt="" coords="867,1032,958,1059"/>
<area shape="rect" id="node35" href="dcache_8c.html#aebcca358185b5176b69b97e7eab12dfd" title="dput" alt="" coords="889,981,936,1008"/>
<area shape="rect" id="node38" href="fs-writeback_8c.html#ad9e6fcccf4baffa8e6c91881c6e428a9" title="wb_io_lists_populated" alt="" coords="837,931,988,957"/>
<area shape="rect" id="node39" href="fs-writeback_8c.html#aa31b94b7a70c8c8d396a5f0f3e8ef1ec" title="wb_io_lists_depopulated" alt="" coords="831,880,995,907"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a91a03cbc72624b3e78db8cb4ddaf6ad6" title="nilfs_palloc_delete\l_block" alt="" coords="1267,53,1397,94"/>
<area shape="rect" id="node44" href="mdt_8c.html#a920f1cd6bb101e5f43a349fe7531e096" title="nilfs_mdt_delete_block" alt="" coords="1477,56,1631,83"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#a4d8c849b61993e58b8939b406cc3d72a" title="nilfs_bmap_delete" alt="" coords="1701,212,1828,239"/>
<area shape="rect" id="node47" href="mdt_8c.html#a309c3290c2f50bdeab9db8bd3569dc8d" title="nilfs_mdt_forget_block" alt="" coords="1688,107,1841,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_icgraph" id="nilfs2_2alloc_8c_a12ba11e974447995be8fa927aaea6f4b_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="176,56,283,83"/>
<area shape="rect" id="node3" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="331,56,500,83"/>
<area shape="rect" id="node4" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="548,49,675,90"/>
<area shape="rect" id="node5" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="723,31,871,57"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1271,81,1391,108"/>
<area shape="rect" id="node6" href="nilfs2_2ioctl_8c.html#a80c0559fcfd518a664113365f15d1096" title="nilfs_ioctl_clean_segments" alt="" coords="919,31,1097,57"/>
<area shape="rect" id="node7" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1145,31,1223,57"/>
<area shape="rect" id="node9" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1447,81,1561,108"/>
<area shape="rect" id="node14" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1439,31,1569,57"/>
<area shape="rect" id="node10" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1622,5,1711,32"/>
<area shape="rect" id="node11" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1621,56,1713,83"/>
<area shape="rect" id="node12" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1617,107,1716,133"/>
<area shape="rect" id="node13" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1624,157,1709,184"/>
</map>
</div>

</div>
</div>
<a id="adad584204b57f762d00f67fad39b515f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad584204b57f762d00f67fad39b515f">&#9670;&nbsp;</a></span>nilfs_palloc_get_bitmap_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_get_bitmap_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_get_bitmap_block - get buffer head of a bitmap block : inode of metadata file using this allocator : group number : create flag : pointer to store the resultant buffer head </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_cgraph" id="nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1709,1036,1805,1063"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="212,797,363,824"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1273,1073,1406,1114"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="411,616,549,643"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="603,456,748,483"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="597,616,753,643"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="805,376,964,403"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1049,427,1167,453"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1509,208,1609,235"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1043,325,1173,352"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1304,645,1375,672"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1033,208,1183,235"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1067,107,1149,133"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1260,452,1419,479"/>
<area shape="rect" id="node9" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1485,544,1633,571"/>
<area shape="rect" id="node12" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1494,478,1625,519"/>
<area shape="rect" id="node13" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1512,427,1607,453"/>
<area shape="rect" id="node10" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1692,544,1823,571"/>
<area shape="rect" id="node11" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1688,317,1827,344"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1265,259,1413,301"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1272,325,1407,352"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1492,361,1627,402"/>
<area shape="rect" id="node18" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1495,259,1623,285"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1492,309,1627,336"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1248,208,1431,235"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1283,56,1396,83"/>
<area shape="rect" id="node26" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1489,5,1629,32"/>
<area shape="rect" id="node27" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1506,56,1613,83"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="807,899,962,925"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="812,739,957,781"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="801,616,968,643"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="808,565,961,592"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1016,899,1200,925"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1041,949,1175,976"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1248,949,1431,976"/>
<area shape="rect" id="node33" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1514,949,1605,976"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1046,797,1170,824"/>
<area shape="rect" id="node38" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1047,848,1169,875"/>
<area shape="rect" id="node41" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1037,696,1179,723"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1267,747,1412,773"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1493,731,1625,773"/>
<area shape="rect" id="node39" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1279,899,1400,925"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1272,848,1407,875"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1043,579,1173,621"/>
<area shape="rect" id="node44" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1032,645,1184,672"/>
<area shape="rect" id="node45" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1026,528,1190,555"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1274,528,1405,555"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1691,1109,1824,1150"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1479,1101,1640,1128"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_icgraph" id="nilfs2_2alloc_8c_adad584204b57f762d00f67fad39b515f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="212,439,349,481"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="212,553,349,594"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="219,619,342,645"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="397,329,552,356"/>
<area shape="rect" id="node16" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="417,439,533,481"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="617,117,752,158"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="601,329,768,356"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="826,57,958,98"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="823,122,961,163"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="830,5,954,32"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1028,64,1149,91"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1023,118,1155,159"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1218,69,1363,96"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="826,322,958,363"/>
<area shape="rect" id="node15" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="817,271,967,297"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1023,250,1155,291"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1211,171,1371,197"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1233,120,1348,147"/>
<area shape="rect" id="node25" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="606,505,763,532"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1434,196,1523,223"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1433,44,1525,71"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1429,95,1528,121"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1436,145,1521,172"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1419,567,1539,593"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1587,541,1717,568"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1765,567,1843,593"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="827,437,957,464"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="827,505,957,532"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="819,557,965,584"/>
<area shape="rect" id="node27" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1051,381,1126,408"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1219,440,1362,467"/>
<area shape="rect" id="node29" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1245,491,1336,517"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1233,272,1348,299"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1233,323,1348,349"/>
<area shape="rect" id="node32" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1221,374,1360,415"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1021,497,1156,538"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1233,592,1349,619"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1031,614,1147,655"/>
<area shape="rect" id="node39" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="400,531,549,557"/>
<area shape="rect" id="node44" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="417,582,532,623"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="617,610,752,651"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="826,610,958,651"/>
<area shape="rect" id="node43" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="829,676,955,703"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1027,680,1151,707"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="625,704,744,731"/>
<area shape="rect" id="node47" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="421,700,528,727"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="600,785,769,812"/>
<area shape="rect" id="node49" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="829,782,955,823"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1015,832,1163,859"/>
</map>
</div>

</div>
</div>
<a id="a539250d301eb19ff68f4f0ac0e54279f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a539250d301eb19ff68f4f0ac0e54279f">&#9670;&nbsp;</a></span>nilfs_palloc_get_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_get_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>blkoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *, struct buffer_head *, void *)&#160;</td>
          <td class="paramname"><em>init_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__bh__assoc.html">nilfs_bh_assoc</a> *&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spinlock_t *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_cgraph" id="nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_cgraph">
<area shape="rect" id="node2" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="204,595,343,622"/>
<area shape="rect" id="node3" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="391,514,536,540"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="585,734,741,760"/>
<area shape="rect" id="node4" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="584,376,743,403"/>
<area shape="rect" id="node5" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="815,456,933,483"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1279,43,1379,70"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="809,376,939,403"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1293,683,1364,710"/>
<area shape="rect" id="node22" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="799,94,949,120"/>
<area shape="rect" id="node24" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="833,220,915,247"/>
<area shape="rect" id="node6" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1018,456,1177,483"/>
<area shape="rect" id="node7" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1255,515,1403,542"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="1263,449,1394,490"/>
<area shape="rect" id="node12" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="1281,398,1376,424"/>
<area shape="rect" id="node8" href="buffer_8c.html#a94ca9132735bfcb0b0b2ae9531461cc8" title="alloc_page_buffers" alt="" coords="1472,519,1603,546"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="1468,271,1607,298"/>
<area shape="rect" id="node9" href="buffer_8c.html#ae236845de65ed065f74eecf8f6ee9742" title="EXPORT_SYMBOL_GPL" alt="" coords="1659,568,1831,595"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1023,340,1171,381"/>
<area shape="rect" id="node20" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1030,406,1165,432"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1261,566,1396,608"/>
<area shape="rect" id="node18" href="dat_8c.html#a1641d48ed89a1de35dda5513abd31cc3" title="nilfs_dat_translate" alt="" coords="1265,296,1393,323"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#aef6e9d2acff7b7d161389bb790483d06" title="nilfs_bmap_get_dat" alt="" coords="1261,347,1396,374"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="1491,574,1584,600"/>
<area shape="rect" id="node23" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1006,43,1189,70"/>
<area shape="rect" id="node25" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1041,220,1154,247"/>
<area shape="rect" id="node26" href="buffer_8c.html#a2463267e7636f2be0fc2b44fb65cb5ba" title="end_bio_bh_io_sync" alt="" coords="1259,195,1399,222"/>
<area shape="rect" id="node27" href="buffer_8c.html#aa35a4aa9ac3d40858082aabb83e2a44c" title="guard_bio_eod" alt="" coords="1275,246,1382,272"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="797,919,951,946"/>
<area shape="rect" id="node34" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="801,676,947,717"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="791,810,957,836"/>
<area shape="rect" id="node50" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="797,970,951,996"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1005,1003,1189,1030"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1031,952,1164,979"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1237,952,1420,979"/>
<area shape="rect" id="node33" href="sufile_8c.html#acbb532a1df92111d05a67092edbfd65b" title="NILFS_SUI" alt="" coords="1492,952,1583,979"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1035,531,1159,558"/>
<area shape="rect" id="node38" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1267,734,1390,760"/>
<area shape="rect" id="node44" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1026,632,1169,659"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1256,632,1401,659"/>
<area shape="rect" id="node37" href="nilfs2_2btree_8c.html#a6f8ff0cabbdb9b0241bf032c6a5ac11d" title="nilfs_btree_convert\l_and_insert" alt="" coords="1471,625,1603,666"/>
<area shape="rect" id="node39" href="buffer_8c.html#a458aadaed6fe3384c18ac175e19fefd4" title="__set_page_dirty" alt="" coords="1477,691,1598,718"/>
<area shape="rect" id="node40" href="fs-writeback_8c.html#aadbb11843f415987b2be1fcd5850152e" title="__mark_inode_dirty" alt="" coords="1470,742,1605,768"/>
<area shape="rect" id="node41" href="fs-writeback_8c.html#af5890cdc0a937a4f944928bd1880d49b" title="block_dump___mark_inode\l_dirty" alt="" coords="1655,800,1835,841"/>
<area shape="rect" id="node42" href="fs-writeback_8c.html#ad0ca24311e1c0ba76d3810d240f72b08" title="locked_inode_to_wb\l_and_lock_list" alt="" coords="1675,669,1815,710"/>
<area shape="rect" id="node43" href="fs-writeback_8c.html#a2a36a21e075aa2a912f5c3cb027692cf" title="inode_io_list_move\l_locked" alt="" coords="1678,734,1811,776"/>
<area shape="rect" id="node46" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1033,886,1162,928"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1021,784,1173,811"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1015,835,1179,862"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#aece5ba8b7c1a8df29083370bfb0f3aad" title="nilfs_segctor_sync" alt="" coords="1263,835,1394,862"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_icgraph" id="nilfs2_2alloc_8c_a539250d301eb19ff68f4f0ac0e54279f_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="823,322,970,363"/>
<area shape="rect" id="node19" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="817,205,976,246"/>
<area shape="rect" id="node20" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="204,613,352,654"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1038,209,1175,250"/>
<area shape="rect" id="node11" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1038,435,1175,477"/>
<area shape="rect" id="node16" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1045,563,1168,589"/>
<area shape="rect" id="node4" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1233,232,1388,259"/>
<area shape="rect" id="node7" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1253,166,1369,207"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="1453,225,1588,266"/>
<area shape="rect" id="node6" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1437,360,1604,387"/>
<area shape="rect" id="node8" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1463,173,1578,200"/>
<area shape="rect" id="node9" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1442,291,1599,317"/>
<area shape="rect" id="node10" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1653,207,1784,233"/>
<area shape="rect" id="node12" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1236,439,1385,465"/>
<area shape="rect" id="node14" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1253,853,1368,894"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="1453,431,1588,473"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1461,860,1580,887"/>
<area shape="rect" id="node17" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1257,563,1364,589"/>
<area shape="rect" id="node18" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="1436,563,1605,589"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="400,583,533,625"/>
<area shape="rect" id="node32" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1051,1129,1162,1156"/>
<area shape="rect" id="node34" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1043,1180,1171,1207"/>
<area shape="rect" id="node40" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1041,976,1172,1003"/>
<area shape="rect" id="node45" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="1028,283,1185,309"/>
<area shape="rect" id="node48" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="1243,57,1379,98"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="597,558,750,599"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="583,472,764,499"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="610,708,737,735"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="581,359,765,385"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="610,810,737,851"/>
<area shape="rect" id="node23" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="815,591,979,617"/>
<area shape="rect" id="node24" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="815,540,979,567"/>
<area shape="rect" id="node25" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="813,489,980,516"/>
<area shape="rect" id="node27" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="845,439,948,465"/>
<area shape="rect" id="node28" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="1054,384,1159,411"/>
<area shape="rect" id="node30" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="835,642,958,683"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="834,962,959,1003"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1038,853,1175,894"/>
<area shape="rect" id="node33" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="1237,1048,1385,1075"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1247,1230,1374,1271"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1237,1295,1385,1337"/>
<area shape="rect" id="node37" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="1245,1361,1376,1402"/>
<area shape="rect" id="node38" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="1241,1165,1380,1206"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="1237,1099,1385,1141"/>
<area shape="rect" id="node41" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="1249,969,1372,1010"/>
<area shape="rect" id="node46" href="dat_8h.html#a20090fd67268b5ee5f0d75f5ebd0d238" title="nilfs_dat_prepare_start" alt="" coords="1233,283,1388,309"/>
<area shape="rect" id="node47" href="dat_8h.html#a50e66ddd3e8e97894123fbeeff226897" title="nilfs_dat_mark_dirty" alt="" coords="1241,333,1380,360"/>
<area shape="rect" id="node49" href="nilfs_8h.html#abf9a4c6110fc70239efa38c7ffa04ec8" title="nilfs_load_inode_block" alt="" coords="1444,5,1597,32"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1450,57,1591,98"/>
</map>
</div>

</div>
</div>
<a id="a98fa52b7d8afb8ee8f46e61b545baf32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98fa52b7d8afb8ee8f46e61b545baf32">&#9670;&nbsp;</a></span>nilfs_palloc_get_desc_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nilfs_palloc_get_desc_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_get_desc_block - get buffer head of a group descriptor block : inode of metadata file using this allocator : group number : create flag : pointer to store the resultant buffer head </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_cgraph" id="nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1487,781,1583,808"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="809,608,960,635"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1240,765,1401,792"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="200,956,384,983"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1029,507,1168,533"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1248,367,1393,393"/>
<area shape="rect" id="node21" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1243,507,1399,533"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1456,275,1615,301"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1699,427,1818,453"/>
<area shape="rect" id="node12" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2153,173,2253,200"/>
<area shape="rect" id="node13" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1693,64,1824,91"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1955,604,2025,631"/>
<area shape="rect" id="node17" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1683,224,1834,251"/>
<area shape="rect" id="node19" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1717,275,1800,301"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1911,427,2069,453"/>
<area shape="rect" id="node9" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="2129,443,2277,469"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="2138,377,2269,418"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2325,325,2464,352"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1916,57,2064,98"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1923,5,2057,32"/>
<area shape="rect" id="node18" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1899,173,2081,200"/>
<area shape="rect" id="node20" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1933,275,2047,301"/>
<area shape="rect" id="node22" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1458,416,1613,443"/>
<area shape="rect" id="node26" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1463,571,1608,613"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1452,731,1619,757"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1459,467,1612,493"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1667,477,1851,504"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1692,325,1825,352"/>
<area shape="rect" id="node25" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1899,376,2081,403"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1697,680,1821,707"/>
<area shape="rect" id="node28" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="2142,511,2265,537"/>
<area shape="rect" id="node29" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1687,629,1830,656"/>
<area shape="rect" id="node31" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1694,782,1823,823"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1683,848,1835,875"/>
<area shape="rect" id="node33" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1677,731,1841,757"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1469,1099,1602,1141"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="432,949,565,990"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1008,956,1189,983"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="613,698,761,739"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="822,878,947,919"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="1035,1023,1162,1065"/>
<area shape="rect" id="node40" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1237,867,1404,893"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="823,710,946,751"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="1035,827,1162,853"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1032,710,1165,751"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1257,969,1384,1010"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1251,1187,1391,1229"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1465,976,1606,1003"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1469,1187,1602,1229"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_icgraph" id="nilfs2_2alloc_8c_a98fa52b7d8afb8ee8f46e61b545baf32_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="200,439,337,481"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="200,553,337,594"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="207,619,330,645"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="385,329,540,356"/>
<area shape="rect" id="node16" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="405,439,521,481"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="605,117,740,158"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="589,329,756,356"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="814,57,946,98"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="811,122,949,163"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="818,5,942,32"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1016,64,1137,91"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1011,118,1143,159"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1206,69,1351,96"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="814,322,946,363"/>
<area shape="rect" id="node15" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="805,271,955,297"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1011,250,1143,291"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1199,171,1359,197"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1221,120,1336,147"/>
<area shape="rect" id="node25" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="594,505,751,532"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1422,196,1511,223"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1421,44,1513,71"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1417,95,1516,121"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1424,145,1509,172"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1407,567,1527,593"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1575,541,1705,568"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1753,567,1831,593"/>
<area shape="rect" id="node26" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="815,437,945,464"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="815,505,945,532"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="807,557,953,584"/>
<area shape="rect" id="node27" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1039,381,1114,408"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1207,440,1350,467"/>
<area shape="rect" id="node29" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1233,491,1324,517"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1221,272,1336,299"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1221,323,1336,349"/>
<area shape="rect" id="node32" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1209,374,1348,415"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1009,497,1144,538"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1221,592,1337,619"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1019,614,1135,655"/>
<area shape="rect" id="node39" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="388,531,537,557"/>
<area shape="rect" id="node44" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="405,582,520,623"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="605,610,740,651"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="814,610,946,651"/>
<area shape="rect" id="node43" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="817,676,943,703"/>
<area shape="rect" id="node42" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="1015,680,1139,707"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="613,704,732,731"/>
<area shape="rect" id="node47" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="409,700,516,727"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="588,785,757,812"/>
<area shape="rect" id="node49" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="817,782,943,823"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1003,832,1151,859"/>
</map>
</div>

</div>
</div>
<a id="abe8a4c8cbae85745a1a9b5e380bc2568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe8a4c8cbae85745a1a9b5e380bc2568">&#9670;&nbsp;</a></span>nilfs_palloc_get_entry_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_palloc_get_entry_block </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct buffer_head **&#160;</td>
          <td class="paramname"><em>bhp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_get_entry_block - get buffer head of an entry block : inode of metadata file using this allocator : serial number of the entry (e.g. inode number) : create flag : pointer to store the resultant buffer head </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_cgraph" id="nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1193,397,1289,424"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="965,144,1116,171"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="201,290,324,331"/>
<area shape="rect" id="node4" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1172,224,1311,251"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1364,579,1509,605"/>
<area shape="rect" id="node23" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1359,224,1515,251"/>
<area shape="rect" id="node6" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1567,629,1725,656"/>
<area shape="rect" id="node7" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1810,579,1929,605"/>
<area shape="rect" id="node13" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2264,729,2364,756"/>
<area shape="rect" id="node14" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1804,629,1935,656"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="2065,443,2136,469"/>
<area shape="rect" id="node19" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1794,731,1945,757"/>
<area shape="rect" id="node21" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1828,832,1911,859"/>
<area shape="rect" id="node8" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="2021,579,2180,605"/>
<area shape="rect" id="node9" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="2240,679,2388,705"/>
<area shape="rect" id="node11" href="page_8h.html#aaad58f68fa9675f7e9803744d0e3f414" title="nilfs_page_get_nth\l_block" alt="" coords="2249,562,2379,603"/>
<area shape="rect" id="node12" href="buffer_8c.html#a59a45ba914a951c36f0cabe79be9756b" title="touch_buffer" alt="" coords="2267,628,2361,655"/>
<area shape="rect" id="node10" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2436,704,2575,731"/>
<area shape="rect" id="node15" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="2027,499,2175,541"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="2033,629,2168,656"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="2247,487,2381,529"/>
<area shape="rect" id="node20" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="2009,731,2192,757"/>
<area shape="rect" id="node22" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="2044,832,2157,859"/>
<area shape="rect" id="node24" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1569,224,1723,251"/>
<area shape="rect" id="node28" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1573,318,1719,359"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1563,93,1729,120"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1569,173,1723,200"/>
<area shape="rect" id="node25" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1777,224,1961,251"/>
<area shape="rect" id="node26" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1803,173,1936,200"/>
<area shape="rect" id="node27" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="2009,173,2192,200"/>
<area shape="rect" id="node29" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1807,325,1931,352"/>
<area shape="rect" id="node31" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="2253,355,2375,381"/>
<area shape="rect" id="node32" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1798,427,1941,453"/>
<area shape="rect" id="node30" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="2028,325,2173,352"/>
<area shape="rect" id="node34" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1805,57,1934,98"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1793,123,1945,149"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1787,5,1951,32"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="372,327,499,353"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="752,667,885,709"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="547,379,680,421"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="728,387,909,413"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="745,251,893,293"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="756,319,881,361"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="755,499,882,541"/>
<area shape="rect" id="node42" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="957,347,1124,373"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1175,726,1308,767"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="977,499,1104,541"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="971,667,1111,709"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="960,733,1121,760"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_icgraph" id="nilfs2_2alloc_8c_abe8a4c8cbae85745a1a9b5e380bc2568_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="201,725,335,766"/>
<area shape="rect" id="node17" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1057,209,1167,236"/>
<area shape="rect" id="node19" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1048,260,1176,287"/>
<area shape="rect" id="node25" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1047,391,1177,417"/>
<area shape="rect" id="node27" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1055,718,1169,759"/>
<area shape="rect" id="node32" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1054,783,1170,825"/>
<area shape="rect" id="node43" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="829,471,987,497"/>
<area shape="rect" id="node48" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="1044,1002,1180,1043"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="398,594,551,635"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="384,833,565,860"/>
<area shape="rect" id="node12" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="635,732,761,759"/>
<area shape="rect" id="node29" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="839,587,977,629"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="847,849,969,876"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="383,507,567,533"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="411,885,538,926"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="616,631,780,657"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="616,529,780,556"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="615,580,781,607"/>
<area shape="rect" id="node8" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="647,833,749,860"/>
<area shape="rect" id="node9" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="645,884,751,911"/>
<area shape="rect" id="node10" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1242,901,1399,928"/>
<area shape="rect" id="node11" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1452,928,1583,955"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="847,653,969,694"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="845,405,971,446"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="839,783,977,825"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="847,718,969,759"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="839,522,977,563"/>
<area shape="rect" id="node15" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1037,544,1187,571"/>
<area shape="rect" id="node16" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1237,551,1404,577"/>
<area shape="rect" id="node18" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="1247,5,1395,32"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="1257,318,1384,359"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1247,57,1395,98"/>
<area shape="rect" id="node22" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="1255,122,1386,163"/>
<area shape="rect" id="node23" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="1251,187,1390,229"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="1247,253,1395,294"/>
<area shape="rect" id="node26" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="1259,383,1382,425"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1261,725,1380,752"/>
<area shape="rect" id="node30" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1035,595,1189,621"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="1253,602,1388,643"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1263,791,1378,817"/>
<area shape="rect" id="node38" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1059,849,1165,876"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="625,463,771,505"/>
<area shape="rect" id="node42" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="627,935,769,977"/>
<area shape="rect" id="node44" href="dat_8h.html#a20090fd67268b5ee5f0d75f5ebd0d238" title="nilfs_dat_prepare_start" alt="" coords="1035,443,1189,469"/>
<area shape="rect" id="node47" href="dat_8h.html#a50e66ddd3e8e97894123fbeeff226897" title="nilfs_dat_mark_dirty" alt="" coords="1043,493,1181,520"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#ae8fd34257f04690a23daa3fb34e4864c" title="nilfs_btree_assign_v" alt="" coords="1250,500,1391,527"/>
<area shape="rect" id="node46" href="nilfs2_2direct_8c.html#a86e6661436549ae94df47245a39d98ef" title="nilfs_direct_assign_v" alt="" coords="1249,449,1393,476"/>
<area shape="rect" id="node49" href="nilfs_8h.html#abf9a4c6110fc70239efa38c7ffa04ec8" title="nilfs_load_inode_block" alt="" coords="1244,1008,1397,1035"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a15bdc407779c43878600587697d73136" title="nilfs_segctor_collect\l_dirty_files" alt="" coords="1250,1059,1391,1101"/>
</map>
</div>

</div>
</div>
<a id="a82746f35ce0628ca7fefdc6333713ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82746f35ce0628ca7fefdc6333713ae2">&#9670;&nbsp;</a></span>nilfs_palloc_group()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_group </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u64&#160;</td>
          <td class="paramname"><em>nr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_group - get group number and offset from an entry number : inode of metadata file using this allocator : serial number of the entry (e.g. inode number) : pointer to store offset number in the group </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_cgraph" id="nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="180,517,313,559"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="756,575,937,602"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="361,497,509,539"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="373,639,498,680"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="783,213,910,255"/>
<area shape="rect" id="node4" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1235,381,1331,407"/>
<area shape="rect" id="node5" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="985,626,1152,653"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1217,315,1350,356"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="557,638,708,665"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="571,447,694,488"/>
<area shape="rect" id="node9" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="777,727,916,754"/>
<area shape="rect" id="node10" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="996,727,1141,754"/>
<area shape="rect" id="node28" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="991,778,1147,805"/>
<area shape="rect" id="node11" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1204,431,1363,458"/>
<area shape="rect" id="node12" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1447,427,1566,454"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1901,59,2001,86"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1441,270,1572,297"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1703,505,1773,531"/>
<area shape="rect" id="node24" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1431,97,1582,123"/>
<area shape="rect" id="node26" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1465,325,1548,351"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1659,430,1817,457"/>
<area shape="rect" id="node14" href="buffer_8c.html#a4844b8163e94b4a214fbf85d86fe88d0" title="create_empty_buffers" alt="" coords="1877,430,2025,457"/>
<area shape="rect" id="node15" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2073,379,2212,406"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1664,263,1812,304"/>
<area shape="rect" id="node22" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1671,211,1805,238"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1884,263,2019,304"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2096,270,2189,297"/>
<area shape="rect" id="node21" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2260,270,2364,297"/>
<area shape="rect" id="node25" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1647,59,1829,86"/>
<area shape="rect" id="node27" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1681,329,1795,355"/>
<area shape="rect" id="node29" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1206,778,1361,805"/>
<area shape="rect" id="node33" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1211,648,1356,689"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1200,858,1367,885"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1207,597,1360,623"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1415,731,1599,758"/>
<area shape="rect" id="node31" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1440,782,1573,809"/>
<area shape="rect" id="node32" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1647,782,1829,809"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1676,593,1800,619"/>
<area shape="rect" id="node35" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1890,579,2013,606"/>
<area shape="rect" id="node36" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1435,579,1578,606"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1442,935,1571,976"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1431,833,1583,859"/>
<area shape="rect" id="node40" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1425,883,1589,910"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="780,340,913,381"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="988,322,1149,349"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1005,89,1132,131"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="999,155,1139,196"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1667,161,1809,187"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1217,249,1350,291"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_icgraph" id="nilfs2_2alloc_8c_a82746f35ce0628ca7fefdc6333713ae2_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="180,393,303,435"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="779,456,916,497"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="786,71,909,98"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="362,893,487,935"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="356,641,493,683"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="786,5,909,47"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="356,576,493,617"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="351,511,499,552"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="360,171,489,212"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="559,325,692,367"/>
<area shape="rect" id="node12" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1025,187,1141,228"/>
<area shape="rect" id="node16" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="547,522,704,549"/>
<area shape="rect" id="node19" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="570,818,681,845"/>
<area shape="rect" id="node21" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="561,901,689,927"/>
<area shape="rect" id="node27" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="560,717,691,743"/>
<area shape="rect" id="node29" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="568,635,683,676"/>
<area shape="rect" id="node31" href="ifile_8h.html#a5f60e7423dc29e290f1d84a01d896df1" title="nilfs_ifile_get_inode\l_block" alt="" coords="1015,121,1151,163"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="771,391,924,432"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="757,223,938,250"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="755,274,939,301"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="784,325,911,367"/>
<area shape="rect" id="node10" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1006,455,1161,482"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1226,506,1393,533"/>
<area shape="rect" id="node13" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1231,194,1388,221"/>
<area shape="rect" id="node15" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1030,70,1137,97"/>
<area shape="rect" id="node17" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="773,573,922,599"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="1016,557,1151,599"/>
<area shape="rect" id="node20" href="nilfs2_2btree_8c.html#a60c61698bb6ff9de05966dc3a80a2cf9" title="nilfs_btree_assign_gc" alt="" coords="773,791,921,818"/>
<area shape="rect" id="node22" href="nilfs2_2btree_8c.html#a7aab33359cf228f00bf23611bf85b755" title="nilfs_btree_lookup\l_contig" alt="" coords="784,843,911,884"/>
<area shape="rect" id="node23" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="773,908,921,949"/>
<area shape="rect" id="node24" href="nilfs2_2direct_8c.html#acc627ba23e987baabbb0b6575526eaec" title="nilfs_direct_lookup\l_contig" alt="" coords="782,973,913,1015"/>
<area shape="rect" id="node25" href="btnode_8h.html#ad34d72b7dbab8036573f78c7d0090b92" title="nilfs_btnode_submit\l_block" alt="" coords="778,1039,917,1080"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a21beff1a8002838bfc1b6d43de94c5bf" title="nilfs_gccache_submit\l_read_data" alt="" coords="773,1104,921,1145"/>
<area shape="rect" id="node28" href="nilfs2_2ioctl_8c.html#a2621da9c473ed9a128f03148bb502c4f" title="nilfs_ioctl_do_get\l_vinfo" alt="" coords="786,725,909,767"/>
<area shape="rect" id="node30" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="788,674,907,701"/>
<area shape="rect" id="node34" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="548,1271,703,1298"/>
<area shape="rect" id="node37" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="550,951,701,978"/>
<area shape="rect" id="node38" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="773,1170,922,1197"/>
<area shape="rect" id="node40" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="548,1373,703,1399"/>
<area shape="rect" id="node43" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="1016,922,1151,949"/>
<area shape="rect" id="node46" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="554,1002,697,1029"/>
<area shape="rect" id="node35" href="nilfs2_2bmap_8h.html#aa56d4c2bd0d10c4825e4f8f741fe2a97" title="nilfs_bmap_commit_alloc_ptr" alt="" coords="752,1271,943,1298"/>
<area shape="rect" id="node36" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="1000,1246,1167,1273"/>
<area shape="rect" id="node39" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="991,871,1176,898"/>
<area shape="rect" id="node41" href="nilfs2_2btree_8c.html#ae8fd34257f04690a23daa3fb34e4864c" title="nilfs_btree_assign_v" alt="" coords="777,1423,918,1450"/>
<area shape="rect" id="node42" href="nilfs2_2direct_8c.html#a86e6661436549ae94df47245a39d98ef" title="nilfs_direct_assign_v" alt="" coords="775,1373,919,1399"/>
<area shape="rect" id="node44" href="nilfs2_2bmap_8h.html#a1e7a2d86d72ef55b104863224e28efc9" title="nilfs_bmap_abort_end_ptr" alt="" coords="1224,922,1395,949"/>
<area shape="rect" id="node45" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="1233,349,1386,375"/>
<area shape="rect" id="node49" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="1013,15,1154,42"/>
</map>
</div>

</div>
</div>
<a id="a52d2388c44c82795fb085bdba291a3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d2388c44c82795fb085bdba291a3c0">&#9670;&nbsp;</a></span>nilfs_palloc_group_desc_add_entries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static u32 nilfs_palloc_group_desc_add_entries </td>
          <td>(</td>
          <td class="paramtype">struct nilfs_palloc_group_desc *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spinlock_t *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_group_desc_add_entries - adjust count of free entries : pointer to descriptor structure for the group : spin lock protecting  <br />
: delta to be added </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a52d2388c44c82795fb085bdba291a3c0_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a52d2388c44c82795fb085bdba291a3c0_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a52d2388c44c82795fb085bdba291a3c0_icgraph" id="nilfs2_2alloc_8c_a52d2388c44c82795fb085bdba291a3c0_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="184,308,321,349"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="184,515,321,556"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="191,243,314,284"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="191,606,314,633"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="369,250,524,277"/>
<area shape="rect" id="node16" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="389,304,505,345"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="593,129,728,171"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="577,250,744,277"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="824,5,956,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="821,71,959,112"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="828,137,952,163"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1045,13,1166,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1039,71,1171,112"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1235,78,1381,105"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="824,239,956,280"/>
<area shape="rect" id="node15" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="1031,473,1180,499"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1039,172,1171,213"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1228,133,1388,159"/>
<area shape="rect" id="node17" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1048,238,1163,265"/>
<area shape="rect" id="node24" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="582,457,739,483"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1263,335,1353,362"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1262,183,1354,210"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1259,234,1357,261"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1265,285,1351,311"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1248,386,1368,413"/>
<area shape="rect" id="node23" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1436,386,1567,413"/>
<area shape="rect" id="node25" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="825,515,955,542"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="825,355,955,382"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="817,457,963,483"/>
<area shape="rect" id="node26" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1068,523,1143,550"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1038,289,1173,331"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1047,407,1163,448"/>
<area shape="rect" id="node32" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="371,613,522,639"/>
<area shape="rect" id="node39" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="389,515,504,556"/>
<area shape="rect" id="node33" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="586,629,735,655"/>
<area shape="rect" id="node34" href="nilfs2_2bmap_8h.html#a8abee10032fa084adf485ef7ec00a9e7" title="nilfs_bmap_commit_end_ptr" alt="" coords="797,691,983,718"/>
<area shape="rect" id="node37" href="dat_8h.html#af78a7db861c1e49a89a381392b901eb1" title="nilfs_dat_commit_update" alt="" coords="807,629,973,655"/>
<area shape="rect" id="node35" href="nilfs2_2btree_8c.html#ac9dbba7bb2a2a145e06683fcd02a4752" title="nilfs_btree_commit\l_delete" alt="" coords="1039,743,1171,784"/>
<area shape="rect" id="node36" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="1042,691,1169,718"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a617bbd61f552d01b2ad7ba4c1c8bcd05" title="nilfs_btree_commit\l_update_v" alt="" coords="1039,625,1171,667"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="601,523,720,550"/>
<area shape="rect" id="node42" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="376,198,517,225"/>
<area shape="rect" id="node43" href="nilfs2_2bmap_8h.html#a85dab214f0695b10c68e3383eb543a4a" title="nilfs_bmap_abort_alloc_ptr" alt="" coords="572,78,749,105"/>
<area shape="rect" id="node44" href="dat_8h.html#a961fdeb24e9a18dd8e05d6f94d1cfe39" title="nilfs_dat_abort_update" alt="" coords="584,198,737,225"/>
<area shape="rect" id="node45" href="nilfs2_2btree_8c.html#aa8309dc2635d198364319aa97d9f6054" title="nilfs_btree_abort_update_v" alt="" coords="801,187,979,214"/>
<area shape="rect" id="node47" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="393,695,500,722"/>
<area shape="rect" id="node48" href="nilfs2_2ioctl_8c.html#ab7d5c78fbd6a179cb3f39f87cb63285d" title="nilfs_ioctl_free_vblocknrs" alt="" coords="576,743,745,770"/>
<area shape="rect" id="node49" href="nilfs_8h.html#aae05e8590cbb2a7f5e5ddc5a9a044a41" title="nilfs_ioctl_prepare\l_clean_segments" alt="" coords="827,801,953,843"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="1031,859,1179,886"/>
</map>
</div>

</div>
</div>
<a id="aee132c5b54bde254f3af2bdc8f878c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee132c5b54bde254f3af2bdc8f878c83">&#9670;&nbsp;</a></span>nilfs_palloc_group_desc_nfrees()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_group_desc_nfrees </td>
          <td>(</td>
          <td class="paramtype">const struct nilfs_palloc_group_desc *&#160;</td>
          <td class="paramname"><em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">spinlock_t *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_group_desc_nfrees - get the number of free entries in a group : pointer to descriptor structure for the group : spin lock protecting  </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_aee132c5b54bde254f3af2bdc8f878c83_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_aee132c5b54bde254f3af2bdc8f878c83_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_aee132c5b54bde254f3af2bdc8f878c83_icgraph" id="nilfs2_2alloc_8c_aee132c5b54bde254f3af2bdc8f878c83_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="180,249,317,291"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="365,205,520,231"/>
<area shape="rect" id="node18" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="385,304,501,345"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="584,113,719,155"/>
<area shape="rect" id="node12" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="568,205,735,231"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="791,5,923,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="788,71,927,112"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="795,137,919,163"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="987,13,1108,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="981,71,1113,112"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1183,78,1329,105"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1410,78,1534,105"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="791,239,923,280"/>
<area shape="rect" id="node17" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="783,187,932,214"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="981,187,1113,228"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1176,179,1336,206"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1399,150,1545,177"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1199,311,1313,338"/>
<area shape="rect" id="node27" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="573,917,730,943"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1427,427,1517,454"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1426,326,1518,353"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1423,377,1521,403"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1612,478,1697,505"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1595,655,1715,682"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1763,605,1893,631"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1941,630,2019,657"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="792,959,923,986"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="792,833,923,859"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="784,1014,931,1041"/>
<area shape="rect" id="node29" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1010,1001,1085,1027"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1185,1102,1327,1129"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1211,1001,1301,1027"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1199,1051,1313,1078"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1199,1153,1313,1179"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1187,935,1325,976"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1397,1102,1547,1129"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1419,1051,1525,1078"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1409,1153,1535,1179"/>
<area shape="rect" id="node37" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1409,1203,1535,1230"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1401,942,1543,969"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="980,724,1115,765"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1198,782,1314,809"/>
<area shape="rect" id="node43" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1180,554,1332,581"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="1163,503,1349,530"/>
<area shape="rect" id="node44" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1421,529,1523,555"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1422,681,1522,707"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1413,630,1531,657"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="989,1124,1105,1165"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1167,1203,1345,1230"/>
</map>
</div>

</div>
</div>
<a id="ada4790e3b7421b6ed7ced5419b5d5dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4790e3b7421b6ed7ced5419b5d5dc5">&#9670;&nbsp;</a></span>nilfs_palloc_groups_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_groups_count </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_groups_count - get maximum number of groups : inode of metadata file using this allocator </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_ada4790e3b7421b6ed7ced5419b5d5dc5_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_ada4790e3b7421b6ed7ced5419b5d5dc5_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_ada4790e3b7421b6ed7ced5419b5d5dc5_icgraph" id="nilfs2_2alloc_8c_ada4790e3b7421b6ed7ced5419b5d5dc5_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="187,239,327,280"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1165,235,1303,276"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="375,319,501,360"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="553,319,687,360"/>
<area shape="rect" id="node49" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="549,557,691,599"/>
<area shape="rect" id="node5" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="1351,125,1505,167"/>
<area shape="rect" id="node14" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="740,453,921,479"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="981,351,1107,378"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1173,183,1295,210"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="739,246,923,273"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="1555,19,1719,46"/>
<area shape="rect" id="node11" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="1555,187,1719,214"/>
<area shape="rect" id="node13" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="1553,137,1720,163"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1777,5,1909,47"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="1773,71,1912,112"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1972,13,2093,39"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1967,71,2099,112"/>
<area shape="rect" id="node12" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="1781,137,1905,163"/>
<area shape="rect" id="node15" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="993,453,1095,479"/>
<area shape="rect" id="node16" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="991,565,1097,591"/>
<area shape="rect" id="node17" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1558,599,1715,626"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1777,574,1908,601"/>
<area shape="rect" id="node27" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1777,625,1908,651"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1769,519,1916,546"/>
<area shape="rect" id="node19" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1995,574,2070,601"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="2148,599,2268,626"/>
<area shape="rect" id="node21" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="2324,574,2439,601"/>
<area shape="rect" id="node26" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="2316,625,2447,651"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="2499,498,2589,525"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="2498,549,2590,575"/>
<area shape="rect" id="node24" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="2495,599,2593,626"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="2501,650,2587,677"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1965,676,2100,717"/>
<area shape="rect" id="node30" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1975,508,2091,549"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1173,431,1295,472"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1171,561,1297,603"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1165,496,1303,537"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1173,365,1295,407"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1165,300,1303,341"/>
<area shape="rect" id="node35" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1351,242,1505,269"/>
<area shape="rect" id="node41" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1370,421,1486,463"/>
<area shape="rect" id="node36" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="1569,71,1704,112"/>
<area shape="rect" id="node37" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="1553,242,1720,269"/>
<area shape="rect" id="node38" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="1777,209,1909,251"/>
<area shape="rect" id="node40" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="1768,275,1917,302"/>
<area shape="rect" id="node39" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1967,209,2099,251"/>
<area shape="rect" id="node46" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1375,191,1481,218"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="971,235,1117,276"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="787,565,874,591"/>
</map>
</div>

</div>
</div>
<a id="a311c71ab31da7903a8a0ec492e1b8c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a311c71ab31da7903a8a0ec492e1b8c66">&#9670;&nbsp;</a></span>nilfs_palloc_groups_per_desc_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_groups_per_desc_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_groups_per_desc_block - get the number of groups that a group descriptor block can maintain : inode of metadata file using this allocator </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a311c71ab31da7903a8a0ec492e1b8c66_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a311c71ab31da7903a8a0ec492e1b8c66_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a311c71ab31da7903a8a0ec492e1b8c66_icgraph" id="nilfs2_2alloc_8c_a311c71ab31da7903a8a0ec492e1b8c66_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="187,881,368,907"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="625,243,809,270"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="654,1273,781,1315"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="416,277,577,303"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="651,295,784,336"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="882,445,1007,487"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#ab8256a97ece9ba89e3cbe79f0468830b" title="nilfs_palloc_rest_groups\l_in_desc_block" alt="" coords="196,113,359,155"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="207,1000,347,1041"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="430,873,563,915"/>
<area shape="rect" id="node36" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="445,961,548,987"/>
<area shape="rect" id="node40" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="444,1083,549,1110"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="641,844,794,885"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="654,602,781,629"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1293,226,1416,253"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1085,328,1223,369"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="863,881,1027,907"/>
<area shape="rect" id="node6" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="863,779,1027,806"/>
<area shape="rect" id="node7" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="861,830,1028,857"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="883,511,1006,552"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1091,793,1217,835"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1085,707,1223,748"/>
<area shape="rect" id="node28" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1093,576,1215,617"/>
<area shape="rect" id="node30" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1085,511,1223,552"/>
<area shape="rect" id="node10" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1080,641,1228,683"/>
<area shape="rect" id="node21" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="1089,445,1219,487"/>
<area shape="rect" id="node11" href="dat_8c.html#a9a0c6961600f545f725b7b666c9abb8d" title="nilfs_dat_prepare_entry" alt="" coords="1276,590,1433,617"/>
<area shape="rect" id="node14" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1299,773,1410,799"/>
<area shape="rect" id="node15" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1297,641,1413,683"/>
<area shape="rect" id="node20" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1297,707,1412,748"/>
<area shape="rect" id="node12" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1483,489,1637,515"/>
<area shape="rect" id="node13" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1485,590,1635,617"/>
<area shape="rect" id="node16" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1481,974,1639,1001"/>
<area shape="rect" id="node17" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1695,923,1825,950"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1695,974,1825,1001"/>
<area shape="rect" id="node19" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1687,1025,1833,1051"/>
<area shape="rect" id="node23" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1507,226,1613,253"/>
<area shape="rect" id="node25" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="1279,823,1430,850"/>
<area shape="rect" id="node29" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="1284,539,1425,566"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="871,160,1018,201"/>
<area shape="rect" id="node34" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="874,1287,1015,1328"/>
<area shape="rect" id="node35" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="1111,1337,1197,1363"/>
<area shape="rect" id="node37" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="645,1146,790,1173"/>
<area shape="rect" id="node38" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1115,1134,1193,1161"/>
<area shape="rect" id="node39" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1302,1083,1407,1110"/>
<area shape="rect" id="node41" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="638,1083,797,1110"/>
<area shape="rect" id="node42" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="870,1083,1019,1110"/>
<area shape="rect" id="node43" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="857,1134,1032,1161"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="865,277,1024,319"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#a3216027ff788f54c4e96c564568c893d" title="nilfs_palloc_delete\l_bitmap_block" alt="" coords="1089,81,1219,123"/>
</map>
</div>

</div>
</div>
<a id="a66e987613b3d45c0b59461a111065842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e987613b3d45c0b59461a111065842">&#9670;&nbsp;</a></span>nilfs_palloc_init_blockgroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_palloc_init_blockgroup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>entry_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_init_blockgroup - initialize private variables for allocator : inode of metadata file using this allocator : size of the persistent object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_cgraph" id="nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1291,536,1387,563"/>
<area shape="rect" id="node3" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="645,369,812,396"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="235,562,368,603"/>
<area shape="rect" id="node6" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1273,874,1406,915"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="416,595,597,621"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="433,478,581,519"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="666,421,791,462"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="866,887,993,929"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="653,319,804,345"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="667,589,790,630"/>
<area shape="rect" id="node9" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="860,267,999,293"/>
<area shape="rect" id="node10" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1055,267,1200,293"/>
<area shape="rect" id="node27" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1049,216,1205,243"/>
<area shape="rect" id="node11" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1260,485,1419,512"/>
<area shape="rect" id="node12" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1503,477,1622,504"/>
<area shape="rect" id="node14" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1951,797,2051,824"/>
<area shape="rect" id="node16" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1497,629,1628,656"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="1759,427,1829,453"/>
<area shape="rect" id="node23" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1487,848,1638,875"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1521,680,1604,707"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="1715,477,1873,504"/>
<area shape="rect" id="node15" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2116,747,2255,773"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="1720,579,1868,621"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="1727,528,1861,555"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="1933,579,2068,621"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2139,587,2232,613"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a9c0186bd7dabac457a10733abdbafc76" title="nilfs_set_error" alt="" coords="2303,587,2407,613"/>
<area shape="rect" id="node24" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="1703,848,1885,875"/>
<area shape="rect" id="node26" href="buffer_8c.html#a5fd6f01c5f9cff0945cb999cbefa412d" title="submit_bh_wbc" alt="" coords="1737,645,1851,672"/>
<area shape="rect" id="node28" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1262,56,1417,83"/>
<area shape="rect" id="node32" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1267,318,1412,359"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1256,165,1423,192"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1263,216,1416,243"/>
<area shape="rect" id="node29" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1471,56,1655,83"/>
<area shape="rect" id="node30" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1496,5,1629,32"/>
<area shape="rect" id="node31" href="sufile_8c.html#a50c0d7ff8c8bf821d281286007c39cd5" title="nilfs_sufile_get_ncleansegs" alt="" coords="1703,5,1885,32"/>
<area shape="rect" id="node33" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1732,351,1856,377"/>
<area shape="rect" id="node34" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1939,401,2062,428"/>
<area shape="rect" id="node35" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1491,376,1634,403"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1498,158,1627,199"/>
<area shape="rect" id="node38" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1487,224,1639,251"/>
<area shape="rect" id="node39" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1481,107,1645,133"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="866,536,993,563"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="863,689,996,730"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1047,688,1208,715"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1064,739,1191,781"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1057,1009,1197,1050"/>
<area shape="rect" id="node48" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1723,747,1865,773"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1273,1009,1406,1050"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_icgraph" id="nilfs2_2alloc_8c_a66e987613b3d45c0b59461a111065842_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="235,603,368,645"/>
<area shape="rect" id="node13" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="680,172,783,199"/>
<area shape="rect" id="node17" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="679,223,784,249"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="431,553,585,594"/>
<area shape="rect" id="node12" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="417,324,599,351"/>
<area shape="rect" id="node25" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="445,893,571,920"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1095,1153,1218,1180"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="873,689,1011,730"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="416,1039,600,1065"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="445,487,571,529"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="649,383,813,409"/>
<area shape="rect" id="node7" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="649,509,813,536"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="648,560,815,587"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="876,375,1008,417"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="873,310,1011,351"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="876,506,1008,547"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="873,441,1011,482"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="880,572,1004,599"/>
<area shape="rect" id="node14" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1084,5,1229,32"/>
<area shape="rect" id="node15" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1332,56,1409,83"/>
<area shape="rect" id="node16" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1518,81,1623,108"/>
<area shape="rect" id="node18" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="863,132,1021,159"/>
<area shape="rect" id="node21" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1292,259,1449,285"/>
<area shape="rect" id="node19" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1082,157,1231,184"/>
<area shape="rect" id="node20" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1069,56,1244,83"/>
<area shape="rect" id="node22" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1505,259,1636,285"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1505,309,1636,336"/>
<area shape="rect" id="node24" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1497,208,1644,235"/>
<area shape="rect" id="node26" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="670,915,793,957"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="879,857,1005,898"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="663,981,800,1022"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="881,623,1003,665"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="873,1047,1011,1089"/>
<area shape="rect" id="node27" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="868,754,1016,795"/>
<area shape="rect" id="node32" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="877,982,1007,1023"/>
<area shape="rect" id="node28" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1101,692,1212,719"/>
<area shape="rect" id="node29" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1093,743,1221,769"/>
<area shape="rect" id="node30" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1091,793,1222,820"/>
<area shape="rect" id="node31" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1099,626,1215,667"/>
<area shape="rect" id="node34" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1317,1153,1424,1180"/>
<area shape="rect" id="node36" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="1079,895,1234,921"/>
<area shape="rect" id="node37" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="1081,1047,1232,1073"/>
<area shape="rect" id="node38" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="1296,1021,1445,1048"/>
<area shape="rect" id="node39" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="1079,945,1234,972"/>
<area shape="rect" id="node40" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1082,1097,1231,1124"/>
<area shape="rect" id="node41" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="1089,844,1224,871"/>
<area shape="rect" id="node43" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1079,575,1234,601"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="658,1098,805,1139"/>
<area shape="rect" id="node50" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="661,289,802,330"/>
</map>
</div>

</div>
</div>
<a id="a6ee53eba3cfc5dd453ba431de18f15b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee53eba3cfc5dd453ba431de18f15b4">&#9670;&nbsp;</a></span>nilfs_palloc_mdt_file_can_grow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool nilfs_palloc_mdt_file_can_grow </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>desc_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_mdt_file_can_grow - check potential opportunity for MDT file growing : inode of metadata file using this allocator : known current descriptor blocks count </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_cgraph" id="nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="193,5,327,47"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="193,71,327,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_icgraph" id="nilfs2_2alloc_8c_a6ee53eba3cfc5dd453ba431de18f15b4_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="193,745,320,787"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="372,745,505,787"/>
<area shape="rect" id="node49" href="ifile_8h.html#ab33ff7a3bab01a62faf8236636f580fa" title="nilfs_ifile_count_free\l_inodes" alt="" coords="368,992,509,1033"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a91b1f5161a53cdae739f341da134d011" title="nilfs_bmap_find_target\l_in_group" alt="" coords="573,160,726,201"/>
<area shape="rect" id="node13" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="559,873,740,899"/>
<area shape="rect" id="node22" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="586,589,713,615"/>
<area shape="rect" id="node31" href="nilfs2_2alloc_8h.html#aa8f87ce85ef5b1792e610245d2e6c8a6" title="nilfs_palloc_freev" alt="" coords="1227,818,1349,845"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="1015,664,1152,705"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="557,709,741,735"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a5a8d181dfd02c7c2e395fcc4a5800287" title="nilfs_btree_find_target_v" alt="" coords="791,78,955,105"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8h.html#a4f8c6557743735aa6ce154e0fac4dee5" title="nilfs_bmap_set_target_v" alt="" coords="791,194,955,221"/>
<area shape="rect" id="node12" href="nilfs2_2direct_8c.html#aa774a6dccea29f9b67b19461726bba3c" title="nilfs_direct_find_target_v" alt="" coords="789,141,956,167"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="1017,5,1149,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="1014,71,1153,112"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#aaa180eba2ac8458987fdd745896833bc" title="nilfs_btree_commit\l_insert" alt="" coords="1017,253,1149,295"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a17ff4d6904c1de611faca30743d1d669" title="nilfs_btree_commit\l_convert_and_insert" alt="" coords="1014,188,1153,229"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="1021,137,1145,163"/>
<area shape="rect" id="node14" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="821,949,924,975"/>
<area shape="rect" id="node16" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="820,898,925,925"/>
<area shape="rect" id="node15" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="1011,999,1156,1026"/>
<area shape="rect" id="node17" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="1004,949,1163,975"/>
<area shape="rect" id="node18" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="1413,554,1571,581"/>
<area shape="rect" id="node19" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="1627,449,1757,475"/>
<area shape="rect" id="node20" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="1627,269,1757,295"/>
<area shape="rect" id="node21" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="1619,346,1765,373"/>
<area shape="rect" id="node23" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="811,731,934,772"/>
<area shape="rect" id="node33" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="1021,319,1146,360"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a5e8994397cbce9eadda13cdfe28cc7e1" title="nilfs_palloc_commit\l_free_entry" alt="" coords="1015,403,1152,444"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8h.html#a07ef59dec39863e5156639989a8a9bf7" title="nilfs_palloc_abort\l_alloc_entry" alt="" coords="1022,599,1145,640"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8h.html#a5927d0d1761b1f0142895694f5e84613" title="nilfs_palloc_prepare\l_free_entry" alt="" coords="1015,468,1152,509"/>
<area shape="rect" id="node24" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="1009,533,1157,575"/>
<area shape="rect" id="node30" href="nilfs2_2alloc_8c.html#a94cff05fa5abd31449187412146a49f3" title="nilfs_palloc_delete\l_entry_block" alt="" coords="1019,781,1148,823"/>
<area shape="rect" id="node25" href="dat_8h.html#a6287c1229db7188e2fa11045e65ebf75" title="nilfs_dat_move" alt="" coords="1233,445,1343,471"/>
<area shape="rect" id="node26" href="dat_8h.html#a2b985cb2689623d58a2bdb3b5ed36311" title="nilfs_dat_translate" alt="" coords="1224,495,1352,522"/>
<area shape="rect" id="node27" href="dat_8h.html#a2f4099e8871039bd77cff23f9138d6d4" title="nilfs_dat_get_vinfo" alt="" coords="1223,394,1353,421"/>
<area shape="rect" id="node28" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="1230,664,1346,705"/>
<area shape="rect" id="node29" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="1231,547,1345,588"/>
<area shape="rect" id="node32" href="dat_8h.html#ac2f30e936b195e759da0099a366625e0" title="nilfs_dat_freev" alt="" coords="1439,818,1545,845"/>
<area shape="rect" id="node34" href="dat_8h.html#a340b2278e3d1416f303b0b222779c9c5" title="nilfs_dat_commit_alloc" alt="" coords="1211,141,1365,167"/>
<area shape="rect" id="node35" href="dat_8c.html#a34e46f7f320f80554415b5ea6682f5c5" title="nilfs_dat_commit_free" alt="" coords="1213,293,1363,319"/>
<area shape="rect" id="node36" href="dat_8h.html#a3ffb99ebaae6980d90484af789e6d47b" title="nilfs_dat_commit_end" alt="" coords="1417,306,1567,333"/>
<area shape="rect" id="node37" href="dat_8h.html#af25bf5d3f307fbd711f57e3602f4ee29" title="nilfs_dat_commit_start" alt="" coords="1211,191,1365,218"/>
<area shape="rect" id="node38" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="1213,343,1363,370"/>
<area shape="rect" id="node39" href="dat_8h.html#a426343ebd85e60011aa63536f170618f" title="nilfs_dat_abort_end" alt="" coords="1221,90,1355,117"/>
<area shape="rect" id="node40" href="ifile_8h.html#a4e642f68aed763c618b16f0074eac6c8" title="nilfs_ifile_map_inode" alt="" coords="1421,255,1563,282"/>
<area shape="rect" id="node42" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="1211,730,1365,757"/>
<area shape="rect" id="node45" href="dat_8h.html#a5b9e55f75881e935cff5a488de97409b" title="nilfs_dat_abort_alloc" alt="" coords="1217,613,1359,639"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="799,665,946,707"/>
<area shape="rect" id="node50" href="nilfs2_2super_8c.html#a11ed86135bdf32d65de6a5ec47e23783" title="nilfs_statfs" alt="" coords="606,1101,693,1127"/>
</map>
</div>

</div>
</div>
<a id="a2526803bd330f64dcb666c31878f4eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2526803bd330f64dcb666c31878f4eb4">&#9670;&nbsp;</a></span>nilfs_palloc_prepare_alloc_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_palloc_prepare_alloc_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_prepare_alloc_entry - prepare to allocate a persistent object : inode of metadata file using this allocator : <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> structure exchanged for the allocation </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_cgraph" id="nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1749,103,1882,144"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="469,512,595,538"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="687,395,820,436"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="218,740,365,782"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#abd4c4ac38f5955b50e2d1ed3a4cfe194" title="nilfs_palloc_block\l_get_group_desc" alt="" coords="469,930,595,971"/>
<area shape="rect" id="node45" href="nilfs2_2alloc_8c.html#ab8256a97ece9ba89e3cbe79f0468830b" title="nilfs_palloc_rest_groups\l_in_desc_block" alt="" coords="672,875,835,916"/>
<area shape="rect" id="node46" href="mdt_8h.html#a3cdb2c26d17013a183fe241b115dd589" title="nilfs_mdt_bgl_lock" alt="" coords="688,174,819,201"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#aee132c5b54bde254f3af2bdc8f878c83" title="nilfs_palloc_group\l_desc_nfrees" alt="" coords="228,930,355,971"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="883,606,1041,647"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#a855136bfe85f7785f4f6663d4dea862c" title="nilfs_palloc_find_available_slot" alt="" coords="191,996,392,1022"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#a52d2388c44c82795fb085bdba291a3c0" title="nilfs_palloc_group\l_desc_add_entries" alt="" coords="226,1047,357,1088"/>
<area shape="rect" id="node5" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1288,402,1469,429"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="888,466,1036,507"/>
<area shape="rect" id="node37" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="899,250,1025,291"/>
<area shape="rect" id="node38" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="1315,320,1442,362"/>
<area shape="rect" id="node6" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1767,485,1863,512"/>
<area shape="rect" id="node7" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1517,333,1684,360"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1749,683,1882,724"/>
<area shape="rect" id="node10" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1089,688,1240,714"/>
<area shape="rect" id="node34" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1103,520,1226,562"/>
<area shape="rect" id="node11" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1309,992,1448,1018"/>
<area shape="rect" id="node12" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1528,1084,1673,1110"/>
<area shape="rect" id="node21" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1523,992,1679,1018"/>
<area shape="rect" id="node13" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1736,1144,1895,1170"/>
<area shape="rect" id="node14" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1979,1042,2098,1069"/>
<area shape="rect" id="node16" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="1989,1144,2089,1170"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1973,1194,2104,1221"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="2223,798,2293,825"/>
<area shape="rect" id="node19" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1963,1245,2114,1272"/>
<area shape="rect" id="node20" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="1997,1296,2080,1322"/>
<area shape="rect" id="node15" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="2179,1042,2337,1069"/>
<area shape="rect" id="node22" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1738,925,1893,952"/>
<area shape="rect" id="node25" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1743,811,1888,852"/>
<area shape="rect" id="node31" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1732,988,1899,1014"/>
<area shape="rect" id="node33" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1739,760,1892,786"/>
<area shape="rect" id="node23" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1947,925,2131,952"/>
<area shape="rect" id="node24" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1972,874,2105,901"/>
<area shape="rect" id="node26" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1977,570,2101,597"/>
<area shape="rect" id="node29" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="1977,722,2100,749"/>
<area shape="rect" id="node30" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1967,773,2110,800"/>
<area shape="rect" id="node27" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="2191,390,2325,431"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2385,397,2479,424"/>
<area shape="rect" id="node32" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1974,976,2103,1018"/>
<area shape="rect" id="node35" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1312,638,1445,679"/>
<area shape="rect" id="node36" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1520,789,1681,816"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1537,48,1664,90"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1531,216,1671,258"/>
<area shape="rect" id="node40" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="1745,194,1886,221"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="440,722,624,749"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_icgraph" id="nilfs2_2alloc_8c_a2526803bd330f64dcb666c31878f4eb4_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="191,217,345,243"/>
<area shape="rect" id="node17" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="210,545,326,587"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="409,100,544,141"/>
<area shape="rect" id="node11" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="393,217,560,243"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="617,5,749,47"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="613,71,752,112"/>
<area shape="rect" id="node10" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="621,137,745,163"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="812,13,933,39"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="807,71,939,112"/>
<area shape="rect" id="node8" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1009,78,1154,105"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1235,78,1359,105"/>
<area shape="rect" id="node12" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="617,239,749,280"/>
<area shape="rect" id="node16" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="608,187,757,214"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="807,187,939,228"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1001,161,1161,187"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1224,161,1371,187"/>
<area shape="rect" id="node18" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1024,751,1139,778"/>
<area shape="rect" id="node26" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="398,603,555,630"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1253,885,1342,911"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1251,935,1343,962"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1248,834,1347,861"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1437,1087,1523,1114"/>
<area shape="rect" id="node23" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1420,721,1540,747"/>
<area shape="rect" id="node24" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1588,771,1719,798"/>
<area shape="rect" id="node25" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1767,746,1844,773"/>
<area shape="rect" id="node27" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="617,437,748,463"/>
<area shape="rect" id="node39" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="617,603,748,630"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="609,686,756,713"/>
<area shape="rect" id="node28" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="835,371,910,398"/>
<area shape="rect" id="node29" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1010,531,1153,558"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1036,430,1127,457"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1024,262,1139,289"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1024,313,1139,339"/>
<area shape="rect" id="node37" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1012,364,1151,405"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1223,557,1372,583"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1245,506,1350,533"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1235,266,1360,293"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1235,317,1360,343"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1227,371,1368,398"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="805,651,940,692"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1023,658,1139,685"/>
<area shape="rect" id="node42" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1005,986,1157,1013"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="988,802,1175,829"/>
<area shape="rect" id="node43" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1247,1087,1348,1114"/>
<area shape="rect" id="node44" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1247,986,1347,1013"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1238,1037,1357,1063"/>
<area shape="rect" id="node46" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1254,1138,1341,1165"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="815,872,931,913"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="992,1037,1171,1063"/>
</map>
</div>

</div>
</div>
<a id="afa77aa08a79995b4842a1eb8747bb28c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa77aa08a79995b4842a1eb8747bb28c">&#9670;&nbsp;</a></span>nilfs_palloc_prepare_free_entry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nilfs_palloc_prepare_free_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>nilfs_palloc_prepare_free_entry - prepare to deallocate a persistent object : inode of metadata file using this allocator : <a class="el" href="structnilfs__palloc__req.html">nilfs_palloc_req</a> structure exchanged for the removal </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_cgraph" id="nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a82746f35ce0628ca7fefdc6333713ae2" title="nilfs_palloc_group" alt="" coords="414,639,541,665"/>
<area shape="rect" id="node48" href="nilfs2_2alloc_8c.html#a98fa52b7d8afb8ee8f46e61b545baf32" title="nilfs_palloc_get_desc\l_block" alt="" coords="191,803,337,845"/>
<area shape="rect" id="node50" href="nilfs2_2alloc_8c.html#adad584204b57f762d00f67fad39b515f" title="nilfs_palloc_get_bitmap\l_block" alt="" coords="799,745,957,786"/>
<area shape="rect" id="node3" href="nilfs2_2alloc_8h.html#a80b91fe3100bd11e343f72a96ca838bd" title="nilfs_palloc_entries\l_per_group" alt="" coords="617,674,751,715"/>
<area shape="rect" id="node4" href="nilfs2_2alloc_8h.html#afccd9ef569bdfd1cf59338965c95fb1c" title="nilfs_palloc_init_blockgroup" alt="" coords="1204,681,1385,708"/>
<area shape="rect" id="node8" href="nilfs2_2alloc_8h.html#a10901166e88f0e569da3f5aa39eeab9d" title="nilfs_palloc_get_entry\l_block" alt="" coords="804,553,952,594"/>
<area shape="rect" id="node42" href="nilfs2_2alloc_8h.html#a9fde8cc073bd6c3157f774c7e33b5a5c" title="nilfs_palloc_block\l_get_entry" alt="" coords="815,487,941,529"/>
<area shape="rect" id="node43" href="nilfs2_2alloc_8h.html#a3d17a08175d8f5c51ebb5787acebad9c" title="nilfs_palloc_count\l_max_entries" alt="" coords="1231,917,1358,958"/>
<area shape="rect" id="node5" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="1683,756,1779,783"/>
<area shape="rect" id="node6" href="mdt_8c.html#ae0d853ce1775f22eb93823f6423e6fac" title="nilfs_mdt_set_entry_size" alt="" coords="1433,643,1600,669"/>
<area shape="rect" id="node7" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="1665,1082,1798,1123"/>
<area shape="rect" id="node9" href="nilfs2_2alloc_8c.html#a539250d301eb19ff68f4f0ac0e54279f" title="nilfs_palloc_get_block" alt="" coords="1005,440,1156,467"/>
<area shape="rect" id="node39" href="nilfs2_2alloc_8c.html#a6075e80e07eb1fb451fc65d559e35484" title="nilfs_palloc_entry\l_blkoff" alt="" coords="1019,598,1142,639"/>
<area shape="rect" id="node10" href="mdt_8c.html#ac80b1d3dd5ba6c242b10a9b6dc78f3d6" title="nilfs_mdt_get_block" alt="" coords="1225,440,1364,467"/>
<area shape="rect" id="node11" href="mdt_8c.html#ae82520fdfc46a00a63e6446213d557b6" title="nilfs_mdt_read_block" alt="" coords="1444,309,1589,336"/>
<area shape="rect" id="node26" href="mdt_8c.html#a48d0f6558518576b3d5e039e9b9c7fd8" title="nilfs_mdt_create_block" alt="" coords="1439,440,1595,467"/>
<area shape="rect" id="node12" href="mdt_8c.html#a43ded315f7122596d14b88c43fe9c98d" title="nilfs_mdt_submit_block" alt="" coords="1652,208,1811,235"/>
<area shape="rect" id="node13" href="nilfs2_2page_8c.html#aa4a24cc5a684ba71b9e4423f2ea38970" title="nilfs_grab_buffer" alt="" coords="1895,259,2014,285"/>
<area shape="rect" id="node15" href="buffer_8c.html#a5fc92b2c44523c64e98193eaa4f46541" title="unlock_buffer" alt="" coords="2343,107,2443,133"/>
<area shape="rect" id="node17" href="nilfs2_2bmap_8h.html#a282d60470960949277ac67e31c97f05b" title="nilfs_bmap_lookup" alt="" coords="1889,208,2020,235"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a4f06a82c20559c61e8f30eac6bad1001" title="NILFS_I" alt="" coords="2151,537,2221,564"/>
<area shape="rect" id="node23" href="buffer_8c.html#ade60786fa99b4fbb4cf607434af395db" title="end_buffer_read_sync" alt="" coords="1879,107,2030,133"/>
<area shape="rect" id="node25" href="buffer_8c.html#ab65df498c54845f497bae7afe9222c91" title="submit_bh" alt="" coords="2351,5,2434,32"/>
<area shape="rect" id="node14" href="nilfs2_2page_8c.html#a051d0268f3af219ba3e2a9ca79a8843c" title="__nilfs_get_page_block" alt="" coords="2107,325,2265,352"/>
<area shape="rect" id="node16" href="buffer_8c.html#a22f0973a948d1cc4ce512a1bb47331fa" title="EXPORT_SYMBOL" alt="" coords="2508,81,2647,108"/>
<area shape="rect" id="node18" href="nilfs2_2bmap_8h.html#a47e39e91829ba28e44d1b0913f5ef480" title="nilfs_bmap_lookup_at\l_level" alt="" coords="2112,259,2260,301"/>
<area shape="rect" id="node21" href="nilfs2_2bmap_8h.html#abd107e6c373b3d12d3817a32d403001b" title="nilfs_bmap_get_dat" alt="" coords="2119,208,2253,235"/>
<area shape="rect" id="node19" href="nilfs2_2bmap_8c.html#a7a7ea41075313d317e5036ebc1fbbe3b" title="nilfs_bmap_convert\l_error" alt="" coords="2325,657,2460,698"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a5f424aefed531edcd064bfa930d96670" title="__nilfs_error" alt="" coords="2531,664,2624,691"/>
<area shape="rect" id="node24" href="buffer_8c.html#a85e290b32d9599acd25df3b159392ab7" title="__end_buffer_read_notouch" alt="" coords="2095,107,2277,133"/>
<area shape="rect" id="node27" href="nilfs_8h.html#aacff7fe9750a849356475b2063b69e3b" title="nilfs_transaction_begin" alt="" coords="1654,395,1809,421"/>
<area shape="rect" id="node30" href="mdt_8c.html#a759ca943427ead8bb22ecdc82a9338ee" title="nilfs_mdt_insert_new\l_block" alt="" coords="1659,505,1804,546"/>
<area shape="rect" id="node34" href="nilfs_8h.html#a576ee8d20fe7a5d7c5889cb118fe0533" title="nilfs_transaction_commit" alt="" coords="1648,705,1815,732"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a155140033fba0977ed043367001c3384" title="nilfs_transaction_abort" alt="" coords="1655,445,1808,472"/>
<area shape="rect" id="node28" href="nilfs2_2segment_8c.html#ada0ba1bf162679380f6096c9f83b94ea" title="nilfs_prepare_segment_lock" alt="" coords="1863,360,2047,387"/>
<area shape="rect" id="node29" href="the__nilfs_8c.html#a137faca9117bfef2a2264ccf3a9aa809" title="nilfs_near_disk_full" alt="" coords="1888,411,2021,437"/>
<area shape="rect" id="node31" href="nilfs2_2bmap_8c.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="2124,664,2248,691"/>
<area shape="rect" id="node32" href="buffer_8c.html#af31e9f44f34481e9dd79a02e4f2fc4de" title="mark_buffer_dirty" alt="" coords="2331,309,2454,336"/>
<area shape="rect" id="node33" href="mdt_8h.html#a9d9db9c2ce4c61835ac0c297556a1ac9" title="nilfs_mdt_mark_dirty" alt="" coords="1883,563,2026,589"/>
<area shape="rect" id="node35" href="nilfs2_2segment_8c.html#aa55509ef3ea01cc74488f916f1d551f3" title="nilfs_segctor_start\l_timer" alt="" coords="1890,817,2019,858"/>
<area shape="rect" id="node36" href="nilfs2_2segment_8c.html#a23c179e5f28f728a442e31641f71c795" title="nilfs_segctor_do_flush" alt="" coords="1879,715,2031,741"/>
<area shape="rect" id="node37" href="nilfs2_2segment_8c.html#ad8bab60b16b37c93e180e1ea3e1580ad" title="nilfs_construct_segment" alt="" coords="1873,765,2037,792"/>
<area shape="rect" id="node40" href="nilfs2_2alloc_8c.html#aac6b438f00cbb6f14307701ffeb19c68" title="nilfs_palloc_bitmap\l_blkoff" alt="" coords="1228,795,1361,837"/>
<area shape="rect" id="node41" href="nilfs2_2alloc_8c.html#a9e6fc04ad7375ca78f8b38b69bc2131b" title="nilfs_palloc_desc_blkoff" alt="" coords="1436,1064,1597,1091"/>
<area shape="rect" id="node44" href="nilfs2_2alloc_8c.html#af34d5e7d52a6f35ebc2bc99307ff3bd7" title="nilfs_palloc_count\l_desc_blocks" alt="" coords="1453,897,1580,938"/>
<area shape="rect" id="node46" href="nilfs2_2alloc_8c.html#a6ee53eba3cfc5dd453ba431de18f15b4" title="nilfs_palloc_mdt_file\l_can_grow" alt="" coords="1447,1217,1587,1258"/>
<area shape="rect" id="node45" href="nilfs2_2bmap_8c.html#a8a08ae054741730726fedb65362f507f" title="nilfs_bmap_last_key" alt="" coords="2115,807,2257,833"/>
<area shape="rect" id="node47" href="nilfs2_2alloc_8c.html#ada4790e3b7421b6ed7ced5419b5d5dc5" title="nilfs_palloc_groups\l_count" alt="" coords="1665,1217,1798,1258"/>
<area shape="rect" id="node49" href="nilfs2_2alloc_8c.html#adbbabe3bdf5bb646714ce22855ca16b9" title="nilfs_palloc_desc_block_init" alt="" coords="385,811,569,837"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_icgraph" id="nilfs2_2alloc_8c_afa77aa08a79995b4842a1eb8747bb28c_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#a8a2e36703fb5b9391b15c4936c188a82" title="nilfs_dat_prepare_end" alt="" coords="191,159,340,186"/>
<area shape="rect" id="node13" href="ifile_8h.html#a426d20bab4353da5d138213eb03ea735" title="nilfs_ifile_delete\l_inode" alt="" coords="208,283,323,324"/>
<area shape="rect" id="node3" href="nilfs2_2bmap_8h.html#a6b447eafba086c8bdcf13347ce79e0f1" title="nilfs_bmap_prepare\l_end_ptr" alt="" coords="404,64,539,105"/>
<area shape="rect" id="node7" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="388,159,555,186"/>
<area shape="rect" id="node4" href="nilfs2_2btree_8c.html#a2498f62cd2915f3f4516a673b3d5336f" title="nilfs_btree_prepare\l_delete" alt="" coords="611,5,743,47"/>
<area shape="rect" id="node6" href="nilfs2_2direct_8c.html#a6e19c614f3ba2c201afc87cd901e3ec6" title="nilfs_direct_delete" alt="" coords="614,71,741,98"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a630b85be84e4873d685e98e3f9a78f1f" title="nilfs_btree_delete" alt="" coords="805,13,929,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="611,123,743,164"/>
<area shape="rect" id="node12" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="603,189,752,215"/>
<area shape="rect" id="node9" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="801,123,933,164"/>
<area shape="rect" id="node10" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="996,130,1156,157"/>
<area shape="rect" id="node11" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1220,130,1367,157"/>
<area shape="rect" id="node14" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1429,602,1548,629"/>
<area shape="rect" id="node23" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="393,290,550,317"/>
<area shape="rect" id="node15" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1623,551,1743,578"/>
<area shape="rect" id="node16" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1813,805,1928,831"/>
<area shape="rect" id="node21" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1805,602,1936,629"/>
<area shape="rect" id="node17" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1989,817,2078,843"/>
<area shape="rect" id="node18" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1987,893,2079,919"/>
<area shape="rect" id="node19" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1984,754,2083,781"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1991,957,2076,983"/>
<area shape="rect" id="node22" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1995,577,2072,603"/>
<area shape="rect" id="node24" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="802,210,933,237"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="612,425,743,451"/>
<area shape="rect" id="node47" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="604,290,751,317"/>
<area shape="rect" id="node25" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1256,181,1331,207"/>
<area shape="rect" id="node26" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1417,130,1560,157"/>
<area shape="rect" id="node29" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1443,181,1534,207"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1431,29,1546,55"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1431,79,1546,106"/>
<area shape="rect" id="node34" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1419,232,1558,273"/>
<area shape="rect" id="node27" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1608,130,1757,157"/>
<area shape="rect" id="node28" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1630,181,1735,207"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1620,29,1745,55"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1620,79,1745,106"/>
<area shape="rect" id="node35" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1612,239,1753,266"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="800,417,935,459"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1018,349,1134,375"/>
<area shape="rect" id="node39" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1217,779,1369,806"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="983,450,1169,477"/>
<area shape="rect" id="node40" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1438,906,1539,933"/>
<area shape="rect" id="node41" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1635,957,1731,983"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1439,501,1539,527"/>
<area shape="rect" id="node43" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1445,754,1532,781"/>
<area shape="rect" id="node44" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1447,653,1530,679"/>
<area shape="rect" id="node46" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1239,450,1348,477"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="809,283,925,324"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="987,290,1165,317"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8h.html#a79d6faa259873957e4e6e42876aca8d4" title="nilfs_construct_dsync\l_segment" alt="" coords="1219,283,1368,324"/>
</map>
</div>

</div>
</div>
<a id="ab8256a97ece9ba89e3cbe79f0468830b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8256a97ece9ba89e3cbe79f0468830b">&#9670;&nbsp;</a></span>nilfs_palloc_rest_groups_in_desc_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long nilfs_palloc_rest_groups_in_desc_block </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>curr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>nilfs_palloc_rest_groups_in_desc_block - get the remaining number of groups in a group descriptor block : inode of metadata file using this allocator : current group number : maximum number of groups </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_cgraph" id="nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_cgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8c.html#a311c71ab31da7903a8a0ec492e1b8c66" title="nilfs_palloc_groups\l_per_desc_block" alt="" coords="216,5,349,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_icgraph" id="nilfs2_2alloc_8c_ab8256a97ece9ba89e3cbe79f0468830b_icgraph">
<area shape="rect" id="node2" href="nilfs2_2alloc_8h.html#a0f856ad7f79cf5a8d5de8cfbe0e056ba" title="nilfs_palloc_prepare\l_alloc_entry" alt="" coords="216,249,353,291"/>
<area shape="rect" id="node3" href="dat_8h.html#a68afbab806c5e2ba98a5bc09a8db89ed" title="nilfs_dat_prepare_alloc" alt="" coords="401,205,556,231"/>
<area shape="rect" id="node18" href="ifile_8h.html#ad5428f5e65af00e20b8374f05a8ed80f" title="nilfs_ifile_create\l_inode" alt="" coords="421,304,537,345"/>
<area shape="rect" id="node4" href="nilfs2_2bmap_8h.html#a446e6b057d0a16b59241f91d30276591" title="nilfs_bmap_prepare\l_alloc_ptr" alt="" coords="620,113,755,155"/>
<area shape="rect" id="node12" href="dat_8h.html#a3f2ceab57cc865f0b10cc30b5f98677e" title="nilfs_dat_prepare_update" alt="" coords="604,205,771,231"/>
<area shape="rect" id="node5" href="nilfs2_2btree_8c.html#a71d1a6d2874fdc13d428d7da5d7d84bb" title="nilfs_btree_prepare\l_insert" alt="" coords="827,5,959,47"/>
<area shape="rect" id="node7" href="nilfs2_2btree_8c.html#aaf2e702035953ddfef32898642e3b7d8" title="nilfs_btree_prepare\l_convert_and_insert" alt="" coords="824,71,963,112"/>
<area shape="rect" id="node11" href="nilfs2_2direct_8c.html#ab04178ebeb227b5fea04210ae839db8a" title="nilfs_direct_insert" alt="" coords="831,137,955,163"/>
<area shape="rect" id="node6" href="nilfs2_2btree_8c.html#afd2f07407c4ad2572eea768400f11f10" title="nilfs_btree_insert" alt="" coords="1023,13,1144,39"/>
<area shape="rect" id="node8" href="nilfs2_2btree_8h.html#ae036c12f430961bb8f322c6dcad060ee" title="nilfs_btree_convert\l_and_insert" alt="" coords="1017,71,1149,112"/>
<area shape="rect" id="node9" href="nilfs2_2bmap_8c.html#ac5f71baa604f8d2043ceb4c11aa72ff3" title="nilfs_bmap_do_insert" alt="" coords="1219,78,1365,105"/>
<area shape="rect" id="node10" href="nilfs2_2bmap_8h.html#a4e7fd87b553f99a5d10b2f1d0cbbec0b" title="nilfs_bmap_insert" alt="" coords="1446,78,1570,105"/>
<area shape="rect" id="node13" href="nilfs2_2btree_8c.html#a70b4fa227982aa9792fe8429b742a328" title="nilfs_btree_prepare\l_update_v" alt="" coords="827,239,959,280"/>
<area shape="rect" id="node17" href="nilfs2_2direct_8c.html#a50687d0b74b920ffbca4f0f4e7076923" title="nilfs_direct_propagate" alt="" coords="819,187,968,214"/>
<area shape="rect" id="node14" href="nilfs2_2btree_8c.html#a7ae74a5be93361cfeb0317ee3422377c" title="nilfs_btree_prepare\l_propagate_v" alt="" coords="1017,187,1149,228"/>
<area shape="rect" id="node15" href="nilfs2_2btree_8c.html#a42f8626b103b9e5aec00fc84177d9b32" title="nilfs_btree_propagate_v" alt="" coords="1212,179,1372,206"/>
<area shape="rect" id="node16" href="nilfs2_2btree_8c.html#a0299cb5c34a2f4cae3158ef96064d932" title="nilfs_btree_propagate" alt="" coords="1435,150,1581,177"/>
<area shape="rect" id="node19" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1235,311,1349,338"/>
<area shape="rect" id="node27" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="609,917,766,943"/>
<area shape="rect" id="node20" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1463,427,1553,454"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1462,326,1554,353"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1459,377,1557,403"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1648,478,1733,505"/>
<area shape="rect" id="node24" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1631,655,1751,682"/>
<area shape="rect" id="node25" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1799,605,1929,631"/>
<area shape="rect" id="node26" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1977,630,2055,657"/>
<area shape="rect" id="node28" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="828,959,959,986"/>
<area shape="rect" id="node40" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="828,833,959,859"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="820,1014,967,1041"/>
<area shape="rect" id="node29" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1046,1001,1121,1027"/>
<area shape="rect" id="node30" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1221,1102,1363,1129"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1247,1001,1337,1027"/>
<area shape="rect" id="node34" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1235,1051,1349,1078"/>
<area shape="rect" id="node35" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1235,1153,1349,1179"/>
<area shape="rect" id="node38" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1223,935,1361,976"/>
<area shape="rect" id="node31" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1433,1102,1583,1129"/>
<area shape="rect" id="node32" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="1455,1051,1561,1078"/>
<area shape="rect" id="node36" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1445,1153,1571,1179"/>
<area shape="rect" id="node37" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1445,1203,1571,1230"/>
<area shape="rect" id="node39" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1437,942,1579,969"/>
<area shape="rect" id="node41" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="1016,724,1151,765"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1234,782,1350,809"/>
<area shape="rect" id="node43" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1216,554,1368,581"/>
<area shape="rect" id="node47" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="1199,503,1385,530"/>
<area shape="rect" id="node44" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1457,529,1559,555"/>
<area shape="rect" id="node45" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1458,681,1558,707"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1449,630,1567,657"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="1025,1124,1141,1165"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="1203,1203,1381,1230"/>
</map>
</div>

</div>
</div>
<a id="a3a6e87dc6acaebeca419a5c1711b2d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6e87dc6acaebeca419a5c1711b2d3b">&#9670;&nbsp;</a></span>nilfs_palloc_setup_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nilfs_palloc_setup_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structnilfs__palloc__cache.html">nilfs_palloc_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_cgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_cgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_cgraph" id="nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_cgraph">
<area shape="rect" id="node2" href="mdt_8h.html#a643a628d0928b0f90712ea026df6cb59" title="NILFS_MDT" alt="" coords="180,13,276,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_icgraph.png" border="0" usemap="#nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_icgraph" alt=""/></div>
<map name="nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_icgraph" id="nilfs2_2alloc_8c_a3a6e87dc6acaebeca419a5c1711b2d3b_icgraph">
<area shape="rect" id="node2" href="dat_8h.html#acbbb0065f7b62b891f51d28e9a547a51" title="nilfs_dat_read" alt="" coords="181,854,284,880"/>
<area shape="rect" id="node13" href="ifile_8h.html#a09f1bf8e0e9cb3a39127eba8c0c433a4" title="nilfs_ifile_read" alt="" coords="180,904,285,931"/>
<area shape="rect" id="node3" href="the__nilfs_8c.html#a571d8e8a8684ca89542920087a8b8527" title="nilfs_load_super_root" alt="" coords="339,854,485,880"/>
<area shape="rect" id="node4" href="the__nilfs_8h.html#acf19b96bd4de0b4bc159d5f7ceca5b3d" title="load_nilfs" alt="" coords="1977,890,2055,916"/>
<area shape="rect" id="node5" href="nilfs2_2super_8c.html#a1ea867b4c80af5447edde8aad7f03a6c" title="nilfs_fill_super" alt="" coords="2119,1090,2225,1116"/>
<area shape="rect" id="node7" href="the__nilfs_8h.html#a896212eecf4577d6ec6f424ce62622d3" title="nilfs_sb_will_flip" alt="" coords="2113,883,2231,910"/>
<area shape="rect" id="node6" href="nilfs2_2super_8c.html#a6f69bb47bb8193c95863dfa7858e0556" title="nilfs_mount" alt="" coords="2313,1127,2402,1154"/>
<area shape="rect" id="node8" href="nilfs2_2super_8c.html#aa52d92dd32f84052f43449918f769c15" title="nilfs_sync_fs" alt="" coords="2308,883,2407,910"/>
<area shape="rect" id="node9" href="nilfs2_2segment_8c.html#a7a995d883df35bebf400352d48cc380a" title="nilfs_segctor_construct" alt="" coords="2279,803,2436,830"/>
<area shape="rect" id="node10" href="nilfs2_2segment_8h.html#a743bf0928dcbc45a2ba24a08ac395224" title="nilfs_clean_segments" alt="" coords="2488,744,2636,771"/>
<area shape="rect" id="node11" href="nilfs2_2segment_8c.html#a94663ea74105a230816c915236ad199a" title="nilfs_segctor_thread\l_construct" alt="" coords="2493,796,2631,837"/>
<area shape="rect" id="node12" href="nilfs2_2segment_8c.html#a2eda3501e8ed1cdd3323a4a77257416f" title="nilfs_segctor_write_out" alt="" coords="2484,862,2640,888"/>
<area shape="rect" id="node14" href="nilfs2_2super_8c.html#a76e41653c94d337a36dd7c36208ccce9" title="nilfs_attach_checkpoint" alt="" coords="1537,1115,1696,1142"/>
<area shape="rect" id="node17" href="ifile_8h.html#a71eaa47470458aa09a3fcf3c98e19e25" title="nilfs_ifile_unmap_inode" alt="" coords="333,778,491,804"/>
<area shape="rect" id="node15" href="nilfs2_2super_8c.html#a810bad28a8f12c551418d554b195273e" title="nilfs_attach_snapshot" alt="" coords="1757,1166,1906,1192"/>
<area shape="rect" id="node16" href="nilfs2_2segment_8h.html#a9e61516876368ef4aa3118ef414d37c3" title="nilfs_salvage_orphan_logs" alt="" coords="1744,904,1919,931"/>
<area shape="rect" id="node18" href="nilfs2_2inode_8c.html#a7c8a580327d859581fa4a8da594a44ad" title="__nilfs_read_inode" alt="" coords="547,803,677,830"/>
<area shape="rect" id="node36" href="nilfs_8h.html#a033d1115f2e3c0535725dedc0b0e8eec" title="nilfs_update_inode" alt="" coords="547,702,677,728"/>
<area shape="rect" id="node48" href="nilfs2_2segment_8c.html#a822048d2520be4c95b92fea20e3e6b8a" title="nilfs_fill_in_file_bmap" alt="" coords="539,752,685,779"/>
<area shape="rect" id="node19" href="nilfs_8h.html#ab64be592aa4e2bde69277e23529d0646" title="nilfs_iget" alt="" coords="1189,1014,1264,1040"/>
<area shape="rect" id="node20" href="nilfs2_2super_8c.html#a7dbb402a5c8afb0ff3502781635dff84" title="nilfs_get_root_dentry" alt="" coords="1545,1166,1688,1192"/>
<area shape="rect" id="node21" href="nilfs2_2namei_8c.html#acd285c61b74c9b9bf7ec90cbd9c047fc" title="nilfs_lookup" alt="" coords="1375,1115,1465,1142"/>
<area shape="rect" id="node22" href="nilfs2_2namei_8c.html#aa915ea520e3dfae0c4fa1c7f67915198" title="nilfs_get_parent" alt="" coords="1363,1014,1477,1040"/>
<area shape="rect" id="node23" href="nilfs2_2namei_8c.html#a06d1d7ef88025ad21453d4010d0e7d61" title="nilfs_get_dentry" alt="" coords="1363,1064,1477,1091"/>
<area shape="rect" id="node26" href="nilfs2_2recovery_8c.html#a2ee5a3a12c87c9cd4363d28a2c6edb73" title="nilfs_recover_dsync\l_blocks" alt="" coords="1351,897,1489,938"/>
<area shape="rect" id="node28" href="nilfs_8h.html#a27c90b00199990855f3026ca77b28be7" title="nilfs_mask_flags" alt="" coords="1557,534,1677,560"/>
<area shape="rect" id="node24" href="nilfs2_2namei_8c.html#a444bbb65c8f09b9152991b715bbb506c" title="nilfs_fh_to_dentry" alt="" coords="1554,1014,1679,1040"/>
<area shape="rect" id="node25" href="nilfs2_2namei_8c.html#adfcfe9dfa411a361b4a067c6e18ea650" title="nilfs_fh_to_parent" alt="" coords="1554,1064,1679,1091"/>
<area shape="rect" id="node27" href="nilfs2_2recovery_8c.html#a2a17f874531cf68d55aecb35d5e54fff" title="nilfs_do_roll_forward" alt="" coords="1546,904,1687,931"/>
<area shape="rect" id="node29" href="nilfs_8h.html#a6a913a459ba0d008002ccb63b2adcf52" title="nilfs_new_inode" alt="" coords="1774,280,1889,307"/>
<area shape="rect" id="node34" href="nilfs2_2ioctl_8c.html#a1ad02ae5704ccd6ef70f0c0eb418d4ac" title="nilfs_ioctl_setflags" alt="" coords="1766,483,1897,510"/>
<area shape="rect" id="node30" href="nilfs2_2namei_8c.html#a42fc7600e29348f24e2dbb367c25930e" title="nilfs_create" alt="" coords="1971,52,2061,79"/>
<area shape="rect" id="node31" href="nilfs2_2namei_8c.html#a5fee3b15e7f58081ec8fd9cd1c43e55a" title="nilfs_mknod" alt="" coords="1970,128,2062,155"/>
<area shape="rect" id="node32" href="nilfs2_2namei_8c.html#a83737a267d28fb54629a821efc9bd2a0" title="nilfs_symlink" alt="" coords="1967,306,2065,332"/>
<area shape="rect" id="node33" href="nilfs2_2namei_8c.html#a4286ecd2133e48ffac0b2b7218a2f17a" title="nilfs_mkdir" alt="" coords="1973,230,2059,256"/>
<area shape="rect" id="node35" href="nilfs_8h.html#a6088f2256e22e83b6ee9313e6e2a51a5" title="nilfs_ioctl" alt="" coords="1977,508,2055,535"/>
<area shape="rect" id="node37" href="nilfs_8h.html#a46e169872ed27278f3e5c506282e6ffe" title="__nilfs_mark_inode\l_dirty" alt="" coords="733,628,868,669"/>
<area shape="rect" id="node38" href="nilfs_8h.html#a427f81f381729712183a50be32eec24c" title="nilfs_dirty_inode" alt="" coords="1169,635,1285,662"/>
<area shape="rect" id="node39" href="nilfs_8h.html#ad992361808dc77d1402ce35e1ccefc0d" title="nilfs_mark_inode_dirty" alt="" coords="1151,306,1303,332"/>
<area shape="rect" id="node46" href="nilfs_8h.html#a106a77a98b196bbb9307865c001a5025" title="nilfs_mark_inode_dirty_sync" alt="" coords="916,686,1103,712"/>
<area shape="rect" id="node40" href="nilfs_8h.html#ae2f258ae9bc693a21d8dfaa98f1a5c2d" title="nilfs_add_link" alt="" coords="1369,179,1471,206"/>
<area shape="rect" id="node41" href="nilfs2_2namei_8c.html#af09976ebf34c40eacaeaac28a4e00f95" title="nilfs_rename" alt="" coords="1569,128,1665,155"/>
<area shape="rect" id="node42" href="nilfs_8h.html#a09611eebbba5a083ef8bc7e99be0f4a1" title="nilfs_truncate" alt="" coords="1370,584,1470,611"/>
<area shape="rect" id="node43" href="nilfs_8h.html#a83b6688ab0aed44d51559794d660c5ca" title="nilfs_evict_inode" alt="" coords="1361,483,1479,510"/>
<area shape="rect" id="node44" href="nilfs2_2namei_8c.html#a2d87a38f1671f1e8162939d34f52abd9" title="nilfs_unlink" alt="" coords="1377,331,1463,358"/>
<area shape="rect" id="node45" href="nilfs2_2namei_8c.html#aa26376eec3ac46f8addd4a5f6f7ca1e2" title="nilfs_rmdir" alt="" coords="1379,382,1461,408"/>
<area shape="rect" id="node47" href="nilfs_8h.html#ac6f027abd7712740e465f16c41e7d69e" title="nilfs_get_block" alt="" coords="1172,686,1281,712"/>
<area shape="rect" id="node49" href="nilfs2_2segment_8c.html#a9646fd4f406244d5cd782f5d220f4aaa" title="nilfs_segctor_fill\l_in_file_bmap" alt="" coords="743,788,859,829"/>
<area shape="rect" id="node50" href="nilfs2_2segment_8c.html#a640e77718e5f25c27d6dcc9a10fa8997" title="nilfs_segctor_do_construct" alt="" coords="920,795,1099,822"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8fac9e178a1e3eec5aa774d52dddfbee.html">nilfs2</a></li><li class="navelem"><a class="el" href="nilfs2_2alloc_8c.html">alloc.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
