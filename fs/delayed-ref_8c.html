<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: btrfs/delayed-ref.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('delayed-ref_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">delayed-ref.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/sched.h&gt;</code><br />
<code>#include &lt;linux/slab.h&gt;</code><br />
<code>#include &lt;linux/sort.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ctree_8h_source.html">ctree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="delayed-ref_8h_source.html">delayed-ref.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction_8h_source.html">transaction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="qgroup_8h_source.html">qgroup.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for delayed-ref.c:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c__incl.png" border="0" usemap="#btrfs_2delayed-ref_8c" alt=""/></div>
<map name="btrfs_2delayed-ref_8c" id="btrfs_2delayed-ref_8c">
<area shape="rect" id="node5" href="ctree_8h.html" title="ctree.h" alt="" coords="1912,304,1974,331"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html" title="delayed&#45;ref.h" alt="" coords="2985,155,3082,181"/>
<area shape="rect" id="node34" href="transaction_8h.html" title="transaction.h" alt="" coords="2864,80,2961,107"/>
<area shape="rect" id="node42" href="qgroup_8h.html" title="qgroup.h" alt="" coords="2027,80,2099,107"/>
<area shape="rect" id="node27" href="extent__io_8h.html" title="extent_io.h" alt="" coords="3154,379,3241,405"/>
<area shape="rect" id="node31" href="btrfs_2extent__map_8h.html" title="extent_map.h" alt="" coords="3266,379,3367,405"/>
<area shape="rect" id="node32" href="async-thread_8h.html" title="async&#45;thread.h" alt="" coords="157,379,265,405"/>
<area shape="rect" id="node29" href="ulist_8h.html" title="ulist.h" alt="" coords="3058,453,3116,480"/>
<area shape="rect" id="node35" href="btrfs__inode_8h.html" title="btrfs_inode.h" alt="" coords="2864,155,2961,181"/>
<area shape="rect" id="node37" href="ordered-data_8h.html" title="ordered&#45;data.h" alt="" coords="2726,229,2832,256"/>
<area shape="rect" id="node38" href="delayed-inode_8h.html" title="delayed&#45;inode.h" alt="" coords="2856,229,2969,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa8c3f00cebe1cebe4e26c467f9f19597"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597">comp_tree_refs</a> (struct <a class="el" href="structbtrfs__delayed__tree__ref.html">btrfs_delayed_tree_ref</a> *ref1, struct <a class="el" href="structbtrfs__delayed__tree__ref.html">btrfs_delayed_tree_ref</a> *ref2)</td></tr>
<tr class="separator:aa8c3f00cebe1cebe4e26c467f9f19597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af889878996d3525ab5e24612b48905ec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec">comp_data_refs</a> (struct <a class="el" href="structbtrfs__delayed__data__ref.html">btrfs_delayed_data_ref</a> *ref1, struct <a class="el" href="structbtrfs__delayed__data__ref.html">btrfs_delayed_data_ref</a> *ref2)</td></tr>
<tr class="separator:af889878996d3525ab5e24612b48905ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7091b6fa4a1695ed12f6841a282caa3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3">comp_refs</a> (struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref1, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref2, bool check_seq)</td></tr>
<tr class="separator:ad7091b6fa4a1695ed12f6841a282caa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3f099484de7204b32a7a1875d498ec"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec">htree_insert</a> (struct rb_root *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct rb_node *node)</td></tr>
<tr class="separator:adf3f099484de7204b32a7a1875d498ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b10ce50b196ab80422e9df426172c39"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39">tree_insert</a> (struct rb_root *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ins)</td></tr>
<tr class="separator:a8b10ce50b196ab80422e9df426172c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac234f98e5022621ceb609baba358cd5b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b">find_ref_head</a> (struct rb_root *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, int return_bigger)</td></tr>
<tr class="separator:ac234f98e5022621ceb609baba358cd5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e5b57095d859308cdb7834c3ed7432"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a10e5b57095d859308cdb7834c3ed7432">btrfs_delayed_ref_lock</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head)</td></tr>
<tr class="separator:a10e5b57095d859308cdb7834c3ed7432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da8bf6a8f833e29006cee5ae578deda"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda">drop_delayed_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref)</td></tr>
<tr class="separator:a8da8bf6a8f833e29006cee5ae578deda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29fb759ef92203055231367d4ceefeac"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac">merge_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref, u64 seq)</td></tr>
<tr class="separator:a29fb759ef92203055231367d4ceefeac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a01661f5cf05ad2ebae4da5dc24a6a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a6a01661f5cf05ad2ebae4da5dc24a6a2">btrfs_merge_delayed_refs</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head)</td></tr>
<tr class="separator:a6a01661f5cf05ad2ebae4da5dc24a6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435092fa7d000eb34b85555974be3dfa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a435092fa7d000eb34b85555974be3dfa">btrfs_check_delayed_seq</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, u64 seq)</td></tr>
<tr class="separator:a435092fa7d000eb34b85555974be3dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95cfd1752c72a180bc48278bb92d8857"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a95cfd1752c72a180bc48278bb92d8857">btrfs_select_ref_head</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans)</td></tr>
<tr class="separator:a95cfd1752c72a180bc48278bb92d8857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb44eeec80a55016cf8003576d6cf7e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e">insert_delayed_ref</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *href, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref)</td></tr>
<tr class="separator:a5eb44eeec80a55016cf8003576d6cf7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200caa9faac7c2e87a62fb4ec78a61d0"><td class="memItemLeft" align="right" valign="top">static noinline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0">update_existing_head_ref</a> (struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *existing, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *update, int *old_ref_mod_ret)</td></tr>
<tr class="separator:a200caa9faac7c2e87a62fb4ec78a61d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc24c08cf4485407a7dda26df87a7e43"><td class="memItemLeft" align="right" valign="top">static noinline struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43">add_delayed_ref_head</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head_ref, struct <a class="el" href="structbtrfs__qgroup__extent__record.html">btrfs_qgroup_extent_record</a> *qrecord, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 ref_root, u64 <a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, int action, int is_data, int is_system, int *qrecord_inserted_ret, int *old_ref_mod, int *new_ref_mod)</td></tr>
<tr class="separator:adc24c08cf4485407a7dda26df87a7e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d6b84b898ab1805b632d8ffaf50040"><td class="memItemLeft" align="right" valign="top">static noinline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040">add_delayed_tree_ref</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head_ref, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 ref_root, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int action)</td></tr>
<tr class="separator:a83d6b84b898ab1805b632d8ffaf50040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2befce062e2c254b36d56aaf4449cc8c"><td class="memItemLeft" align="right" valign="top">static noinline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c">add_delayed_data_ref</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *head_ref, struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *ref, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 ref_root, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, int action)</td></tr>
<tr class="separator:a2befce062e2c254b36d56aaf4449cc8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96aa69d5e3e354b8ed3a29822eeb632e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a96aa69d5e3e354b8ed3a29822eeb632e">btrfs_add_delayed_tree_ref</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 ref_root, int <a class="el" href="nilfs_8h.html#a4d8634ba374002ecc7800ee7e88b959f">level</a>, int action, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op, int *old_ref_mod, int *new_ref_mod)</td></tr>
<tr class="separator:a96aa69d5e3e354b8ed3a29822eeb632e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7212e320001e4a4b4d1ea2bd2eb37c55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a7212e320001e4a4b4d1ea2bd2eb37c55">btrfs_add_delayed_data_ref</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, u64 parent, u64 ref_root, u64 <a class="el" href="ctree_8h.html#a39f26b10bb4a92b7f6d651d588a364b3">owner</a>, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 <a class="el" href="layout_8h.html#a57e72680e59888de0e9146fe4e18eb22">reserved</a>, int action, int *old_ref_mod, int *new_ref_mod)</td></tr>
<tr class="separator:a7212e320001e4a4b4d1ea2bd2eb37c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a83022a54dafd1405d2b8162cd4d45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a49a83022a54dafd1405d2b8162cd4d45">btrfs_add_delayed_extent_op</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 num_bytes, struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *extent_op)</td></tr>
<tr class="separator:a49a83022a54dafd1405d2b8162cd4d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83adb12b50d355c9dc30c920c55911b3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3">btrfs_find_delayed_ref_head</a> (struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *delayed_refs, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>)</td></tr>
<tr class="separator:a83adb12b50d355c9dc30c920c55911b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de2ed5ed95411c9ceb240b2474c607e"><td class="memItemLeft" align="right" valign="top">void __cold&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a3de2ed5ed95411c9ceb240b2474c607e">btrfs_delayed_ref_exit</a> (void)</td></tr>
<tr class="separator:a3de2ed5ed95411c9ceb240b2474c607e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377a8a1d9bd8bfb8e09dbda6f931d9b8"><td class="memItemLeft" align="right" valign="top">int __init&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a377a8a1d9bd8bfb8e09dbda6f931d9b8">btrfs_delayed_ref_init</a> (void)</td></tr>
<tr class="separator:a377a8a1d9bd8bfb8e09dbda6f931d9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a295603f17618766f6be95140c656abc4"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#a295603f17618766f6be95140c656abc4">btrfs_delayed_ref_head_cachep</a></td></tr>
<tr class="separator:a295603f17618766f6be95140c656abc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd95e6c725e33d4ccec100b4a3a172a"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#abdd95e6c725e33d4ccec100b4a3a172a">btrfs_delayed_tree_ref_cachep</a></td></tr>
<tr class="separator:abdd95e6c725e33d4ccec100b4a3a172a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5463a7c457d830cc56f8886905f10c1"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#ae5463a7c457d830cc56f8886905f10c1">btrfs_delayed_data_ref_cachep</a></td></tr>
<tr class="separator:ae5463a7c457d830cc56f8886905f10c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20e030f7f02923c78f8a8b1ca7e2a99"><td class="memItemLeft" align="right" valign="top">struct kmem_cache *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="delayed-ref_8c.html#ae20e030f7f02923c78f8a8b1ca7e2a99">btrfs_delayed_extent_op_cachep</a></td></tr>
<tr class="separator:ae20e030f7f02923c78f8a8b1ca7e2a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2befce062e2c254b36d56aaf4449cc8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2befce062e2c254b36d56aaf4449cc8c">&#9670;&nbsp;</a></span>add_delayed_data_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline void add_delayed_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ref_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_cgraph.png" border="0" usemap="#delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_cgraph" id="delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="231,5,303,32"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="743,45,877,86"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="203,111,331,137"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="398,111,481,137"/>
<area shape="rect" id="node10" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="379,161,500,188"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="580,111,663,137"/>
<area shape="rect" id="node7" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="754,111,866,137"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="743,162,877,203"/>
<area shape="rect" id="node9" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="753,228,867,255"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="548,161,695,188"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_icgraph.png" border="0" usemap="#delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_icgraph" id="delayed-ref_8c_a2befce062e2c254b36d56aaf4449cc8c_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="203,1000,385,1026"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="433,704,616,730"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="1377,1113,1514,1140"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="1385,1028,1505,1054"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="1376,962,1515,1003"/>
<area shape="rect" id="node4" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="689,602,817,629"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="677,729,830,756"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1142,678,1297,705"/>
<area shape="rect" id="node21" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="664,513,843,540"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="1137,169,1301,196"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="691,780,815,806"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="688,841,819,868"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="688,444,819,470"/>
<area shape="rect" id="node5" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="925,577,1055,604"/>
<area shape="rect" id="node6" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="908,628,1072,654"/>
<area shape="rect" id="node7" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="922,526,1058,553"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="906,729,1074,756"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1623,415,1763,456"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1589,708,1796,734"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1363,809,1527,836"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1370,642,1521,683"/>
<area shape="rect" id="node15" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1844,649,2013,676"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1369,524,1522,566"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1615,532,1771,558"/>
<area shape="rect" id="node18" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1349,372,1541,398"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1360,758,1531,785"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1623,68,1763,94"/>
<area shape="rect" id="node22" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="891,476,1089,502"/>
<area shape="rect" id="node24" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1377,68,1513,94"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1382,220,1509,246"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1639,220,1747,246"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1386,118,1505,145"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1394,321,1497,348"/>
<area shape="rect" id="node29" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1368,169,1523,196"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="1147,870,1291,897"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1147,425,1291,452"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1621,1113,1765,1140"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="2061,1329,2208,1356"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="2091,1272,2178,1298"/>
<area shape="rect" id="node40" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="2071,1392,2199,1418"/>
<area shape="rect" id="node44" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1606,961,1779,988"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1635,1012,1751,1038"/>
<area shape="rect" id="node46" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="1623,1062,1762,1089"/>
<area shape="rect" id="node47" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1645,1164,1741,1190"/>
<area shape="rect" id="node48" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1643,1214,1742,1241"/>
<area shape="rect" id="node37" href="btrfs_2file_8c.html#a20c090844c67ac58992e0e415b3a979c" title="btrfs_drop_extents" alt="" coords="1863,1316,1994,1342"/>
<area shape="rect" id="node41" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="1868,1138,1989,1165"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="1855,1088,2002,1114"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1861,962,1996,1003"/>
</map>
</div>

</div>
</div>
<a id="adc24c08cf4485407a7dda26df87a7e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc24c08cf4485407a7dda26df87a7e43">&#9670;&nbsp;</a></span>add_delayed_ref_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a>* add_delayed_ref_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__qgroup__extent__record.html">btrfs_qgroup_extent_record</a> *&#160;</td>
          <td class="paramname"><em>qrecord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ref_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>is_system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>qrecord_inserted_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>old_ref_mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>new_ref_mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_cgraph.png" border="0" usemap="#delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_cgraph" alt=""/></div>
<map name="delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_cgraph" id="delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_cgraph">
<area shape="rect" id="node2" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="225,5,356,47"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="245,71,336,98"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="205,122,376,149"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="424,115,553,156"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_icgraph.png" border="0" usemap="#delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_icgraph" alt=""/></div>
<map name="delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_icgraph" id="delayed-ref_8c_adc24c08cf4485407a7dda26df87a7e43_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="212,561,391,588"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="210,971,393,997"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="205,612,397,639"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="445,561,628,588"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="913,452,1057,479"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="468,1148,605,1175"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="477,971,597,997"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="910,219,1059,245"/>
<area shape="rect" id="node4" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="701,869,829,896"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="689,448,842,475"/>
<area shape="rect" id="node9" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="676,499,855,525"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="683,616,847,643"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="703,667,827,693"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="688,768,843,795"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="700,397,831,424"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="700,347,831,373"/>
<area shape="rect" id="node5" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="919,873,1050,900"/>
<area shape="rect" id="node6" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="903,924,1067,951"/>
<area shape="rect" id="node7" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="917,975,1053,1001"/>
<area shape="rect" id="node11" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="917,401,1053,428"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1115,704,1321,731"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="925,553,1044,580"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="931,705,1039,732"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1167,613,1269,640"/>
<area shape="rect" id="node12" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1153,360,1283,387"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="915,807,1055,849"/>
<area shape="rect" id="node23" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1167,563,1269,589"/>
<area shape="rect" id="node24" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1168,411,1268,437"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1127,461,1309,488"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1151,512,1285,539"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="693,1021,837,1048"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="679,1072,852,1099"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="692,1376,839,1403"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="707,1123,823,1149"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="722,1427,809,1453"/>
<area shape="rect" id="node34" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="696,1173,835,1200"/>
<area shape="rect" id="node35" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="717,971,813,997"/>
<area shape="rect" id="node36" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="716,1275,815,1301"/>
<area shape="rect" id="node37" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="701,1325,829,1352"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="917,1311,1052,1353"/>
<area shape="rect" id="node40" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1162,5,1274,32"/>
<area shape="rect" id="node41" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1161,107,1275,133"/>
<area shape="rect" id="node42" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1369,81,1451,108"/>
<area shape="rect" id="node43" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1373,132,1447,159"/>
<area shape="rect" id="node44" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1158,208,1278,235"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1167,259,1269,285"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1167,309,1269,336"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="696,1478,835,1519"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="692,550,839,591"/>
</map>
</div>

</div>
</div>
<a id="a83d6b84b898ab1805b632d8ffaf50040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d6b84b898ab1805b632d8ffaf50040">&#9670;&nbsp;</a></span>add_delayed_tree_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline void add_delayed_tree_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ref_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_cgraph.png" border="0" usemap="#delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_cgraph" id="delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="228,5,300,32"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="740,45,875,86"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="200,111,328,137"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="395,111,478,137"/>
<area shape="rect" id="node10" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="376,161,497,188"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="577,111,660,137"/>
<area shape="rect" id="node7" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="751,111,863,137"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="750,161,865,188"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="740,213,875,254"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="545,161,692,188"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_icgraph.png" border="0" usemap="#delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_icgraph" id="delayed-ref_8c_a83d6b84b898ab1805b632d8ffaf50040_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="200,765,379,792"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="427,309,609,336"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="911,537,1055,564"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="1153,816,1291,843"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="1162,765,1282,792"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1147,1145,1297,1172"/>
<area shape="rect" id="node4" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="683,613,811,640"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="670,233,823,260"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1145,5,1299,32"/>
<area shape="rect" id="node13" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="657,335,836,361"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="901,259,1065,285"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="685,183,809,209"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="681,436,812,463"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="681,385,812,412"/>
<area shape="rect" id="node5" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="918,689,1049,716"/>
<area shape="rect" id="node6" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="901,588,1065,615"/>
<area shape="rect" id="node7" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="915,639,1051,665"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="899,183,1067,209"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1395,19,1535,61"/>
<area shape="rect" id="node12" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1361,461,1568,488"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="884,335,1083,361"/>
<area shape="rect" id="node16" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1154,360,1290,387"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1159,107,1285,133"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1411,107,1519,133"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1163,208,1281,235"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1171,411,1273,437"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1152,259,1292,285"/>
<area shape="rect" id="node23" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1145,309,1299,336"/>
<area shape="rect" id="node17" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1399,512,1530,539"/>
<area shape="rect" id="node28" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1171,715,1273,741"/>
<area shape="rect" id="node29" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1172,563,1272,589"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1131,613,1313,640"/>
<area shape="rect" id="node31" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1155,664,1289,691"/>
<area shape="rect" id="node33" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1393,664,1537,691"/>
<area shape="rect" id="node34" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1378,715,1551,741"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1391,1019,1538,1045"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1407,816,1523,843"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1421,867,1508,893"/>
<area shape="rect" id="node38" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="1395,613,1534,640"/>
<area shape="rect" id="node39" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1417,765,1513,792"/>
<area shape="rect" id="node40" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1415,917,1514,944"/>
<area shape="rect" id="node41" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1401,968,1529,995"/>
<area shape="rect" id="node44" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1409,1272,1521,1299"/>
<area shape="rect" id="node45" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1407,1323,1522,1349"/>
<area shape="rect" id="node46" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1616,1184,1697,1211"/>
<area shape="rect" id="node47" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1619,1348,1694,1375"/>
<area shape="rect" id="node48" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1405,1120,1525,1147"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1413,1171,1516,1197"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1413,1221,1516,1248"/>
</map>
</div>

</div>
</div>
<a id="a7212e320001e4a4b4d1ea2bd2eb37c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7212e320001e4a4b4d1ea2bd2eb37c55">&#9670;&nbsp;</a></span>btrfs_add_delayed_data_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_add_delayed_data_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ref_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>owner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>reserved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>old_ref_mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>new_ref_mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_cgraph.png" border="0" usemap="#delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_cgraph" id="delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="701,5,773,32"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="236,856,388,883"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="447,119,596,145"/>
<area shape="rect" id="node18" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="247,689,377,730"/>
<area shape="rect" id="node4" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="456,819,587,861"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="476,885,567,912"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="436,1031,607,1057"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="672,1030,801,1071"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1283,26,1418,67"/>
<area shape="rect" id="node10" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="673,157,801,184"/>
<area shape="rect" id="node11" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="889,157,972,184"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="870,1507,991,1533"/>
<area shape="rect" id="node12" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1093,157,1175,184"/>
<area shape="rect" id="node13" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="1295,157,1407,184"/>
<area shape="rect" id="node14" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1283,91,1418,133"/>
<area shape="rect" id="node15" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="1293,208,1408,235"/>
<area shape="rect" id="node17" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1061,1507,1207,1533"/>
<area shape="rect" id="node19" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="455,720,587,747"/>
<area shape="rect" id="node20" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="655,979,819,1005"/>
<area shape="rect" id="node21" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1311,1009,1391,1036"/>
<area shape="rect" id="node23" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1313,1245,1388,1272"/>
<area shape="rect" id="node25" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="867,740,995,767"/>
<area shape="rect" id="node42" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1311,1388,1390,1415"/>
<area shape="rect" id="node22" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1504,1009,1575,1036"/>
<area shape="rect" id="node24" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1492,1245,1587,1272"/>
<area shape="rect" id="node26" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1077,208,1191,235"/>
<area shape="rect" id="node27" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1073,309,1195,336"/>
<area shape="rect" id="node29" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1281,309,1421,336"/>
<area shape="rect" id="node30" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1476,461,1603,488"/>
<area shape="rect" id="node31" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1286,461,1415,488"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1070,867,1198,909"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1043,933,1225,960"/>
<area shape="rect" id="node34" href="backref_8c.html#a2adc471a0f6cc0341b6587a4e42e6ef1" title="add_delayed_refs" alt="" coords="1072,107,1196,133"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1273,664,1428,691"/>
<area shape="rect" id="node36" href="backref_8c.html#aeef3cd1f89e33b0970d748bcb59005ca" title="add_inline_refs" alt="" coords="1079,664,1189,691"/>
<area shape="rect" id="node37" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1077,715,1191,741"/>
<area shape="rect" id="node38" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="1069,512,1199,539"/>
<area shape="rect" id="node39" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="1293,563,1408,589"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="1273,765,1428,792"/>
<area shape="rect" id="node41" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1063,1035,1205,1061"/>
<area shape="rect" id="node43" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1097,1085,1171,1112"/>
<area shape="rect" id="node44" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1044,1136,1224,1163"/>
<area shape="rect" id="node45" href="backref_8c.html#ab5a969c50f43502ce16d887719073eb5" title="find_extent_in_eb" alt="" coords="1072,765,1196,792"/>
<area shape="rect" id="node46" href="locking_8c.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1057,1187,1211,1229"/>
<area shape="rect" id="node47" href="ulist_8h.html#a1427e9a24e1e98667f3d9c114ef5d5bf" title="ulist_add_merge_ptr" alt="" coords="1065,1253,1203,1280"/>
<area shape="rect" id="node48" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1079,461,1189,488"/>
<area shape="rect" id="node49" href="backref_8c.html#a36b1de2eaefd5c7a670b5a116e1b5cdd" title="prelim_release" alt="" coords="1081,1304,1187,1331"/>
<area shape="rect" id="node50" href="backref_8c.html#af4c4ab2527bf9e46ac74947f602f85a6" title="free_inode_elem_list" alt="" coords="1063,1355,1205,1381"/>
<area shape="rect" id="node28" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1289,259,1412,285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_icgraph.png" border="0" usemap="#delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_icgraph" id="delayed-ref_8c_a7212e320001e4a4b4d1ea2bd2eb37c55_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="236,704,419,730"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="1179,1113,1317,1140"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="1188,1028,1308,1054"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="1179,962,1317,1003"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="492,602,620,629"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="479,729,633,756"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="945,678,1099,705"/>
<area shape="rect" id="node20" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="467,513,645,540"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="940,169,1104,196"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="494,780,618,806"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="491,841,621,868"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="491,444,621,470"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="727,577,858,604"/>
<area shape="rect" id="node5" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="711,628,875,654"/>
<area shape="rect" id="node6" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="725,526,861,553"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="709,729,877,756"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1425,415,1565,456"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1392,708,1599,734"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1166,809,1330,836"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1173,642,1323,683"/>
<area shape="rect" id="node14" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1647,649,1816,676"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1171,524,1325,566"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1417,532,1573,558"/>
<area shape="rect" id="node17" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1152,372,1344,398"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1163,758,1333,785"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1425,68,1565,94"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="693,476,892,502"/>
<area shape="rect" id="node23" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1180,68,1316,94"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1185,220,1311,246"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1441,220,1549,246"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1189,118,1307,145"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1197,321,1299,348"/>
<area shape="rect" id="node28" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1171,169,1325,196"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="950,870,1094,897"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="950,425,1094,452"/>
<area shape="rect" id="node35" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1423,1113,1567,1140"/>
<area shape="rect" id="node37" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1864,1278,2011,1305"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1894,1221,1981,1248"/>
<area shape="rect" id="node39" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1873,1341,2001,1368"/>
<area shape="rect" id="node44" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1409,1164,1582,1190"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1437,961,1553,988"/>
<area shape="rect" id="node46" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="1426,1012,1565,1038"/>
<area shape="rect" id="node47" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1447,1062,1543,1089"/>
<area shape="rect" id="node48" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1446,1265,1545,1292"/>
<area shape="rect" id="node36" href="btrfs_2file_8c.html#a20c090844c67ac58992e0e415b3a979c" title="btrfs_drop_extents" alt="" coords="1666,1265,1797,1292"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a527d9137768c10e94128fe7cc3028766" title="btrfs_punch_hole" alt="" coords="1671,1113,1792,1140"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#a4e3bdf936021876421fe99fe250a9ed7" title="cow_file_range_inline" alt="" coords="1658,1164,1805,1190"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1664,950,1799,991"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a7ca07330eb9bbc96b69ca30dbfa8f1bb" title="log_one_extent" alt="" coords="1676,1062,1787,1089"/>
</map>
</div>

</div>
</div>
<a id="a49a83022a54dafd1405d2b8162cd4d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a83022a54dafd1405d2b8162cd4d45">&#9670;&nbsp;</a></span>btrfs_add_delayed_extent_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_add_delayed_extent_op </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_cgraph.png" border="0" usemap="#delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_cgraph" id="delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="245,71,397,98"/>
<area shape="rect" id="node3" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="465,5,596,47"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="485,71,576,98"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="445,122,616,149"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="664,115,793,156"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_icgraph.png" border="0" usemap="#delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_icgraph" id="delayed-ref_8c_a49a83022a54dafd1405d2b8162cd4d45_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="245,490,428,517"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="492,989,639,1031"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="501,465,629,491"/>
<area shape="rect" id="node10" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="489,363,642,390"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="941,262,1095,289"/>
<area shape="rect" id="node30" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="476,566,655,593"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="483,819,647,846"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="503,414,627,441"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="500,515,631,542"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="500,642,631,669"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="721,414,852,441"/>
<area shape="rect" id="node6" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="705,465,869,491"/>
<area shape="rect" id="node8" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="719,363,855,390"/>
<area shape="rect" id="node5" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="945,414,1091,441"/>
<area shape="rect" id="node7" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="952,465,1084,491"/>
<area shape="rect" id="node9" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="966,363,1070,390"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="703,313,871,339"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1439,407,1579,448"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1405,515,1612,542"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1179,79,1343,106"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1186,196,1337,237"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1660,203,1829,230"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1185,131,1338,172"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1431,138,1587,165"/>
<area shape="rect" id="node24" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1165,465,1357,491"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1176,313,1347,339"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1877,363,1999,390"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1693,414,1796,441"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1670,465,1819,491"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1661,516,1829,557"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1439,769,1579,795"/>
<area shape="rect" id="node26" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1689,718,1801,745"/>
<area shape="rect" id="node27" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1680,769,1809,795"/>
<area shape="rect" id="node28" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1663,820,1826,861"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="919,566,1117,593"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a9b98b810aff8bb1aea735ec7667cc06f" title="btrfs_cleanup_transaction" alt="" coords="1176,566,1347,593"/>
<area shape="rect" id="node33" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1201,617,1321,643"/>
<area shape="rect" id="node34" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1439,305,1578,331"/>
<area shape="rect" id="node36" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="719,971,855,998"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="723,870,850,897"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="964,921,1072,947"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="727,1022,846,1049"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="967,769,1069,795"/>
<area shape="rect" id="node44" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="709,718,864,745"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="953,870,1083,897"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1203,921,1319,947"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1212,769,1311,795"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="946,515,1090,542"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="715,667,859,694"/>
</map>
</div>

</div>
</div>
<a id="a96aa69d5e3e354b8ed3a29822eeb632e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96aa69d5e3e354b8ed3a29822eeb632e">&#9670;&nbsp;</a></span>btrfs_add_delayed_tree_ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_add_delayed_tree_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>num_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>ref_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__extent__op.html">btrfs_delayed_extent_op</a> *&#160;</td>
          <td class="paramname"><em>extent_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>old_ref_mod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>new_ref_mod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_cgraph.png" border="0" usemap="#delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_cgraph" id="delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="697,22,769,49"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="232,874,384,901"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="444,110,591,137"/>
<area shape="rect" id="node18" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="243,705,373,747"/>
<area shape="rect" id="node4" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="452,837,583,879"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="472,903,563,930"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="432,1049,603,1075"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="668,1049,797,1091"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1279,5,1414,47"/>
<area shape="rect" id="node10" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="669,123,797,150"/>
<area shape="rect" id="node11" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="885,123,968,150"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="866,1527,987,1554"/>
<area shape="rect" id="node12" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1089,123,1171,150"/>
<area shape="rect" id="node13" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="1291,71,1403,98"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="1289,122,1404,149"/>
<area shape="rect" id="node15" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1279,173,1414,215"/>
<area shape="rect" id="node17" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1057,1527,1203,1554"/>
<area shape="rect" id="node19" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="451,738,583,765"/>
<area shape="rect" id="node20" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="651,998,815,1025"/>
<area shape="rect" id="node21" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1307,1030,1387,1057"/>
<area shape="rect" id="node23" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1309,1266,1384,1293"/>
<area shape="rect" id="node25" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="863,761,991,787"/>
<area shape="rect" id="node42" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1307,1409,1386,1435"/>
<area shape="rect" id="node22" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1500,1030,1571,1057"/>
<area shape="rect" id="node24" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1488,1266,1583,1293"/>
<area shape="rect" id="node26" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1073,229,1187,255"/>
<area shape="rect" id="node27" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1069,330,1191,357"/>
<area shape="rect" id="node29" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1277,290,1417,317"/>
<area shape="rect" id="node30" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1472,442,1599,469"/>
<area shape="rect" id="node31" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1282,442,1411,469"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1066,888,1194,929"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1039,954,1221,981"/>
<area shape="rect" id="node34" href="backref_8c.html#a2adc471a0f6cc0341b6587a4e42e6ef1" title="add_delayed_refs" alt="" coords="1068,178,1192,205"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1269,685,1424,711"/>
<area shape="rect" id="node36" href="backref_8c.html#aeef3cd1f89e33b0970d748bcb59005ca" title="add_inline_refs" alt="" coords="1075,685,1185,711"/>
<area shape="rect" id="node37" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1073,735,1187,762"/>
<area shape="rect" id="node38" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="1065,533,1195,559"/>
<area shape="rect" id="node39" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="1289,543,1404,570"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="1269,786,1424,813"/>
<area shape="rect" id="node41" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1059,1055,1201,1082"/>
<area shape="rect" id="node43" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1093,1106,1167,1133"/>
<area shape="rect" id="node44" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1040,1157,1220,1183"/>
<area shape="rect" id="node45" href="backref_8c.html#ab5a969c50f43502ce16d887719073eb5" title="find_extent_in_eb" alt="" coords="1068,786,1192,813"/>
<area shape="rect" id="node46" href="locking_8c.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="1053,1208,1207,1249"/>
<area shape="rect" id="node47" href="ulist_8h.html#a1427e9a24e1e98667f3d9c114ef5d5bf" title="ulist_add_merge_ptr" alt="" coords="1061,1274,1199,1301"/>
<area shape="rect" id="node48" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1075,482,1185,509"/>
<area shape="rect" id="node49" href="backref_8c.html#a36b1de2eaefd5c7a670b5a116e1b5cdd" title="prelim_release" alt="" coords="1077,1325,1183,1351"/>
<area shape="rect" id="node50" href="backref_8c.html#af4c4ab2527bf9e46ac74947f602f85a6" title="free_inode_elem_list" alt="" coords="1059,1375,1201,1402"/>
<area shape="rect" id="node28" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1285,239,1408,266"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_icgraph.png" border="0" usemap="#delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_icgraph" id="delayed-ref_8c_a96aa69d5e3e354b8ed3a29822eeb632e_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="232,241,415,268"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="717,545,861,572"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="959,824,1096,851"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="967,773,1087,800"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="953,1153,1102,1180"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="488,621,616,648"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="475,115,629,141"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="950,13,1105,40"/>
<area shape="rect" id="node13" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="463,216,641,243"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="707,267,871,293"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="490,64,614,91"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="487,368,617,395"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="487,317,617,344"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="723,697,854,724"/>
<area shape="rect" id="node5" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="707,596,871,623"/>
<area shape="rect" id="node6" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="721,647,857,673"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="705,64,873,91"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1200,57,1340,98"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1167,495,1373,521"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1188,5,1352,32"/>
<area shape="rect" id="node14" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="689,216,888,243"/>
<area shape="rect" id="node16" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="959,368,1095,395"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="964,115,1091,141"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1216,123,1324,149"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="968,216,1087,243"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="976,419,1079,445"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="957,267,1097,293"/>
<area shape="rect" id="node23" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="950,317,1105,344"/>
<area shape="rect" id="node17" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1205,571,1335,597"/>
<area shape="rect" id="node28" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="977,621,1078,648"/>
<area shape="rect" id="node29" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="977,672,1077,699"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="936,723,1119,749"/>
<area shape="rect" id="node31" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="960,520,1095,547"/>
<area shape="rect" id="node33" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1198,672,1342,699"/>
<area shape="rect" id="node34" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1183,723,1357,749"/>
<area shape="rect" id="node35" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1197,1027,1343,1053"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1212,773,1328,800"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1227,875,1313,901"/>
<area shape="rect" id="node38" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="1201,824,1339,851"/>
<area shape="rect" id="node39" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1222,621,1318,648"/>
<area shape="rect" id="node40" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1221,925,1319,952"/>
<area shape="rect" id="node41" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1206,976,1334,1003"/>
<area shape="rect" id="node44" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1214,1077,1326,1104"/>
<area shape="rect" id="node45" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1213,1179,1327,1205"/>
<area shape="rect" id="node46" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1421,1153,1503,1180"/>
<area shape="rect" id="node47" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1425,1204,1499,1231"/>
<area shape="rect" id="node48" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1210,1280,1330,1307"/>
<area shape="rect" id="node49" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1219,1331,1321,1357"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1219,1381,1321,1408"/>
</map>
</div>

</div>
</div>
<a id="a435092fa7d000eb34b85555974be3dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a435092fa7d000eb34b85555974be3dfa">&#9670;&nbsp;</a></span>btrfs_check_delayed_seq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_check_delayed_seq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>seq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a435092fa7d000eb34b85555974be3dfa_icgraph.png" border="0" usemap="#delayed-ref_8c_a435092fa7d000eb34b85555974be3dfa_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a435092fa7d000eb34b85555974be3dfa_icgraph" id="delayed-ref_8c_a435092fa7d000eb34b85555974be3dfa_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="224,430,391,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="839,430,1007,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="439,481,619,507"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="667,430,791,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1055,430,1209,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1775,137,1915,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1741,361,1948,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1271,197,1435,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1520,532,1671,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2440,609,2609,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1277,423,1430,464"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1517,478,1673,505"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1996,507,2167,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1257,291,1449,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2692,61,2813,87"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2030,238,2133,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="2016,5,2147,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="2019,71,2143,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2026,137,2137,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2007,339,2156,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1997,391,2165,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1497,153,1693,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2699,279,2806,306"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2692,330,2813,357"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2702,381,2803,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2707,431,2798,458"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2896,507,3055,534"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2663,533,2843,559"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2667,583,2838,610"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2695,634,2810,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2685,685,2821,711"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2684,735,2821,762"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2675,787,2831,828"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2669,853,2837,879"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2657,903,2848,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2661,954,2844,981"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2701,1005,2804,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2693,1055,2812,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2692,1106,2813,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2691,1157,2815,1199"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2683,1223,2822,1250"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2669,1275,2836,1316"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2678,111,2827,138"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2673,162,2832,189"/>
<area shape="rect" id="node42" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2683,213,2823,255"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1757,507,1932,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2215,507,2392,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1525,321,1665,347"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1511,255,1680,296"/>
</map>
</div>

</div>
</div>
<a id="a3de2ed5ed95411c9ceb240b2474c607e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de2ed5ed95411c9ceb240b2474c607e">&#9670;&nbsp;</a></span>btrfs_delayed_ref_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __cold btrfs_delayed_ref_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a3de2ed5ed95411c9ceb240b2474c607e_icgraph.png" border="0" usemap="#delayed-ref_8c_a3de2ed5ed95411c9ceb240b2474c607e_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a3de2ed5ed95411c9ceb240b2474c607e_icgraph" id="delayed-ref_8c_a3de2ed5ed95411c9ceb240b2474c607e_icgraph">
<area shape="rect" id="node2" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="399,23,489,50"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="537,49,632,75"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a377a8a1d9bd8bfb8e09dbda6f931d9b8" title="btrfs_delayed_ref_init" alt="" coords="204,23,351,50"/>
</map>
</div>

</div>
</div>
<a id="a377a8a1d9bd8bfb8e09dbda6f931d9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377a8a1d9bd8bfb8e09dbda6f931d9b8">&#9670;&nbsp;</a></span>btrfs_delayed_ref_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __init btrfs_delayed_ref_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_cgraph.png" border="0" usemap="#delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_cgraph" id="delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a3de2ed5ed95411c9ceb240b2474c607e" title="btrfs_delayed_ref_exit" alt="" coords="200,5,351,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_icgraph.png" border="0" usemap="#delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_icgraph" id="delayed-ref_8c_a377a8a1d9bd8bfb8e09dbda6f931d9b8_icgraph">
<area shape="rect" id="node2" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="200,5,291,32"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="339,5,433,32"/>
</map>
</div>

</div>
</div>
<a id="a10e5b57095d859308cdb7834c3ed7432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e5b57095d859308cdb7834c3ed7432">&#9670;&nbsp;</a></span>btrfs_delayed_ref_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_delayed_ref_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_cgraph.png" border="0" usemap="#delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_cgraph" id="delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="207,485,389,511"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="444,342,623,369"/>
<area shape="rect" id="node44" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="442,241,625,267"/>
<area shape="rect" id="node46" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="437,165,629,191"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="447,459,619,486"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1317,1076,1445,1117"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="457,561,610,587"/>
<area shape="rect" id="node4" href="ctree_8h.html#a43c0decc366c53dd6a5ec0b969709edd" title="is_fstree" alt="" coords="927,274,999,301"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="677,122,829,149"/>
<area shape="rect" id="node10" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="680,291,827,318"/>
<area shape="rect" id="node20" href="qgroup_8c.html#a550e55be3c8a8d126ab75a05043d0891" title="btrfs_qgroup_trace\l_extent_post" alt="" coords="688,393,819,435"/>
<area shape="rect" id="node6" href="qgroup_8c.html#ac6d32b89bbb19d460db86b4e7c20a8a8" title="btrfs_qgroup_trace\l_extent_nolock" alt="" coords="897,5,1028,47"/>
<area shape="rect" id="node7" href="delayed-ref_8c.html#adf3f099484de7204b32a7a1875d498ec" title="htree_insert" alt="" coords="917,71,1008,98"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#a200caa9faac7c2e87a62fb4ec78a61d0" title="update_existing_head_ref" alt="" coords="877,122,1048,149"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="1113,107,1243,148"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="1703,329,1838,371"/>
<area shape="rect" id="node12" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="899,223,1027,250"/>
<area shape="rect" id="node13" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="1137,223,1219,250"/>
<area shape="rect" id="node18" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="1117,274,1239,301"/>
<area shape="rect" id="node14" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="1340,235,1423,262"/>
<area shape="rect" id="node15" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="1518,185,1630,211"/>
<area shape="rect" id="node16" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="1517,235,1631,262"/>
<area shape="rect" id="node17" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="1703,127,1838,168"/>
<area shape="rect" id="node19" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="1308,185,1455,211"/>
<area shape="rect" id="node21" href="backref_8c.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="897,451,1029,478"/>
<area shape="rect" id="node22" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1096,459,1260,486"/>
<area shape="rect" id="node23" href="ulist_8c.html#a8bbb3ec4f6039f8cb8737c26978dfadc" title="ulist_alloc" alt="" coords="1731,451,1811,478"/>
<area shape="rect" id="node25" href="ulist_8c.html#a143429c891c7afec75d6f10ca475bd9c" title="ulist_free" alt="" coords="1733,527,1808,554"/>
<area shape="rect" id="node27" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1317,818,1445,845"/>
<area shape="rect" id="node42" href="ulist_8c.html#a55010872110a7943c51e1eb9bf90fc5f" title="ulist_next" alt="" coords="1731,585,1810,611"/>
<area shape="rect" id="node24" href="ulist_8c.html#a8c2e59d72dfd35d8c750874c014170f9" title="ulist_init" alt="" coords="1924,451,1995,478"/>
<area shape="rect" id="node26" href="ulist_8c.html#a97281cf35ded52735b80b53c0b8d0725" title="ulist_release" alt="" coords="1912,527,2007,554"/>
<area shape="rect" id="node28" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1517,691,1631,718"/>
<area shape="rect" id="node29" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1513,793,1635,819"/>
<area shape="rect" id="node30" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1896,843,2023,870"/>
<area shape="rect" id="node31" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1706,742,1835,769"/>
<area shape="rect" id="node32" href="delayed-ref_8c.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="1510,1199,1638,1240"/>
<area shape="rect" id="node34" href="backref_8c.html#a2adc471a0f6cc0341b6587a4e42e6ef1" title="add_delayed_refs" alt="" coords="1512,337,1636,363"/>
<area shape="rect" id="node35" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1693,1021,1848,1047"/>
<area shape="rect" id="node36" href="backref_8c.html#aeef3cd1f89e33b0970d748bcb59005ca" title="add_inline_refs" alt="" coords="1519,1046,1629,1073"/>
<area shape="rect" id="node37" href="backref_8c.html#a70295ee0264faad2b6355ad4c1d13f1f" title="add_keyed_refs" alt="" coords="1517,1097,1631,1123"/>
<area shape="rect" id="node38" href="backref_8c.html#a92a207ea8aa0e4473940d129a5b63a60" title="add_missing_keys" alt="" coords="1509,894,1639,921"/>
<area shape="rect" id="node39" href="disk-io_8c.html#af0877aa6733208ed3161220262ea6ecc" title="read_tree_block" alt="" coords="1713,843,1828,870"/>
<area shape="rect" id="node40" href="extent__io_8h.html#a6265d20904d4c5dc8d41519b598630b2" title="extent_buffer_uptodate" alt="" coords="1693,945,1848,971"/>
<area shape="rect" id="node41" href="backref_8c.html#a2fff02f66e066525cadf7c3f68ae3618" title="resolve_indirect_refs" alt="" coords="1503,539,1645,566"/>
<area shape="rect" id="node43" href="ulist_8c.html#a4375beb9c50a5f9eab238a4d3935f3a8" title="ulist_add" alt="" coords="1537,641,1611,667"/>
<area shape="rect" id="node33" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="1721,1235,1821,1262"/>
<area shape="rect" id="node45" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="679,190,828,217"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="923,325,1003,351"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_icgraph.png" border="0" usemap="#delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_icgraph" id="delayed-ref_8c_a10e5b57095d859308cdb7834c3ed7432_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="207,425,389,452"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="664,375,832,401"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="463,107,591,133"/>
<area shape="rect" id="node10" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="450,476,603,503"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="902,492,1057,519"/>
<area shape="rect" id="node30" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="437,592,616,619"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="445,847,609,873"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="465,425,589,452"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="461,157,592,184"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="461,324,592,351"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="683,107,813,133"/>
<area shape="rect" id="node6" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="666,56,830,83"/>
<area shape="rect" id="node8" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="680,5,816,32"/>
<area shape="rect" id="node5" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="906,107,1053,133"/>
<area shape="rect" id="node7" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="913,56,1045,83"/>
<area shape="rect" id="node9" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="927,5,1031,32"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1400,666,1540,707"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1367,356,1573,383"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1141,492,1305,519"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1147,361,1298,402"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1621,555,1791,581"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1146,426,1299,467"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1392,543,1548,569"/>
<area shape="rect" id="node24" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1127,745,1319,772"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1137,644,1308,671"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1839,555,1960,581"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1655,501,1757,528"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1631,383,1781,409"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1622,434,1790,475"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1400,948,1540,975"/>
<area shape="rect" id="node26" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1650,897,1762,924"/>
<area shape="rect" id="node27" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1641,948,1771,975"/>
<area shape="rect" id="node28" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1625,999,1787,1041"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="880,771,1079,797"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a9b98b810aff8bb1aea735ec7667cc06f" title="btrfs_cleanup_transaction" alt="" coords="1137,796,1308,823"/>
<area shape="rect" id="node33" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1163,897,1283,924"/>
<area shape="rect" id="node34" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1401,800,1539,827"/>
<area shape="rect" id="node36" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="680,599,816,625"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="685,897,811,924"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="925,948,1033,975"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="920,999,1039,1025"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="928,821,1031,848"/>
<area shape="rect" id="node44" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="671,847,825,873"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="914,580,1045,607"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1165,999,1281,1025"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1173,948,1272,975"/>
<area shape="rect" id="node45" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="908,872,1051,899"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="676,157,820,184"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="676,324,820,351"/>
</map>
</div>

</div>
</div>
<a id="a83adb12b50d355c9dc30c920c55911b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83adb12b50d355c9dc30c920c55911b3">&#9670;&nbsp;</a></span>btrfs_find_delayed_ref_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a>* btrfs_find_delayed_ref_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_cgraph.png" border="0" usemap="#delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_cgraph" id="delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="181,13,281,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_icgraph.png" border="0" usemap="#delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_icgraph" id="delayed-ref_8c_a83adb12b50d355c9dc30c920c55911b3_icgraph">
<area shape="rect" id="node2" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="437,212,565,238"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="181,389,364,416"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="419,730,583,757"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="436,465,567,492"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="436,516,567,542"/>
<area shape="rect" id="node3" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="673,212,803,238"/>
<area shape="rect" id="node5" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="656,161,820,188"/>
<area shape="rect" id="node7" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="670,110,806,137"/>
<area shape="rect" id="node4" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="889,212,1036,238"/>
<area shape="rect" id="node6" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="897,161,1029,188"/>
<area shape="rect" id="node8" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="911,110,1015,137"/>
<area shape="rect" id="node10" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="425,313,578,340"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="885,262,1040,289"/>
<area shape="rect" id="node30" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="412,414,591,441"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="439,364,563,390"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="654,313,822,340"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1361,276,1501,318"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1328,440,1535,466"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1102,338,1266,365"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1109,171,1259,212"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1583,142,1752,169"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1107,106,1261,147"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1353,113,1509,140"/>
<area shape="rect" id="node24" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1088,288,1280,314"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1099,389,1269,416"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1800,280,1921,306"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1616,330,1719,357"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1593,381,1742,408"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1583,432,1751,474"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1361,730,1501,757"/>
<area shape="rect" id="node26" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1611,680,1723,706"/>
<area shape="rect" id="node27" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1603,730,1732,757"/>
<area shape="rect" id="node28" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1586,782,1749,823"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="639,401,837,428"/>
<area shape="rect" id="node33" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="670,604,806,630"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="675,806,801,833"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="909,832,1017,858"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="679,958,797,985"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="911,705,1014,732"/>
<area shape="rect" id="node41" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="661,908,815,934"/>
<area shape="rect" id="node34" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="897,604,1028,630"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1126,832,1242,858"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1135,705,1233,732"/>
<area shape="rect" id="node42" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="891,908,1034,934"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="666,452,810,478"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="895,401,1031,428"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#a1ed3d698927d498345e0c31d4e756bc0" title="can_nocow_extent" alt="" coords="897,350,1028,377"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="666,553,810,580"/>
<area shape="rect" id="node50" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="912,502,1013,529"/>
</map>
</div>

</div>
</div>
<a id="a6a01661f5cf05ad2ebae4da5dc24a6a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a01661f5cf05ad2ebae4da5dc24a6a2">&#9670;&nbsp;</a></span>btrfs_merge_delayed_refs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_merge_delayed_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_cgraph.png" border="0" usemap="#delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_cgraph" id="delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="225,181,305,208"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="373,123,455,149"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="353,207,475,233"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="540,5,652,32"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="529,57,663,98"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="539,123,653,149"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="529,174,663,215"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="523,240,669,267"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_icgraph.png" border="0" usemap="#delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_icgraph" id="delayed-ref_8c_a6a01661f5cf05ad2ebae4da5dc24a6a2_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="225,425,408,452"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="683,375,851,401"/>
<area shape="rect" id="node3" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="481,107,609,133"/>
<area shape="rect" id="node10" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="469,476,622,503"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="921,492,1075,519"/>
<area shape="rect" id="node30" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="456,592,635,619"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="463,847,627,873"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="483,425,607,452"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="480,157,611,184"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="480,324,611,351"/>
<area shape="rect" id="node4" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="701,107,832,133"/>
<area shape="rect" id="node6" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="685,56,849,83"/>
<area shape="rect" id="node8" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="699,5,835,32"/>
<area shape="rect" id="node5" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="925,107,1071,133"/>
<area shape="rect" id="node7" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="932,56,1064,83"/>
<area shape="rect" id="node9" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="946,5,1050,32"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1419,666,1559,707"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1385,356,1592,383"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1159,492,1323,519"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1166,361,1317,402"/>
<area shape="rect" id="node21" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1640,555,1809,581"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1165,426,1318,467"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1411,543,1567,569"/>
<area shape="rect" id="node24" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1145,745,1337,772"/>
<area shape="rect" id="node29" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1156,644,1327,671"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1857,555,1979,581"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1673,501,1776,528"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1650,383,1799,409"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1641,434,1809,475"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1419,948,1559,975"/>
<area shape="rect" id="node26" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1669,897,1781,924"/>
<area shape="rect" id="node27" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1660,948,1789,975"/>
<area shape="rect" id="node28" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1643,999,1806,1041"/>
<area shape="rect" id="node31" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="899,771,1097,797"/>
<area shape="rect" id="node32" href="disk-io_8c.html#a9b98b810aff8bb1aea735ec7667cc06f" title="btrfs_cleanup_transaction" alt="" coords="1156,796,1327,823"/>
<area shape="rect" id="node33" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1181,897,1301,924"/>
<area shape="rect" id="node34" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1419,800,1558,827"/>
<area shape="rect" id="node36" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="699,599,835,625"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="703,897,830,924"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="944,948,1052,975"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="939,999,1057,1025"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="947,821,1049,848"/>
<area shape="rect" id="node44" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="689,847,844,873"/>
<area shape="rect" id="node37" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="933,580,1063,607"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1183,999,1299,1025"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1192,948,1291,975"/>
<area shape="rect" id="node45" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="927,872,1069,899"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="695,157,839,184"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="695,324,839,351"/>
</map>
</div>

</div>
</div>
<a id="a95cfd1752c72a180bc48278bb92d8857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95cfd1752c72a180bc48278bb92d8857">&#9670;&nbsp;</a></span>btrfs_select_ref_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a>* btrfs_select_ref_head </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_cgraph.png" border="0" usemap="#delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_cgraph" id="delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#ac234f98e5022621ceb609baba358cd5b" title="find_ref_head" alt="" coords="200,5,300,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_icgraph.png" border="0" usemap="#delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_icgraph" id="delayed-ref_8c_a95cfd1752c72a180bc48278bb92d8857_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="200,430,367,457"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="815,430,983,457"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="415,481,595,507"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="643,430,767,457"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1031,430,1185,457"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1751,137,1891,179"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1717,361,1924,387"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1247,197,1411,223"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1496,532,1647,573"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2416,609,2585,635"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1253,423,1406,464"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1493,478,1649,505"/>
<area shape="rect" id="node46" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1972,507,2143,534"/>
<area shape="rect" id="node48" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1233,291,1425,318"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2668,61,2789,87"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2006,238,2109,265"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="1992,5,2123,47"/>
<area shape="rect" id="node11" href="tree-log_8c.html#a69aad7d2ab9c472cbfed622d0c37cec0" title="btrfs_log_prealloc\l_extents" alt="" coords="1995,71,2119,112"/>
<area shape="rect" id="node12" href="tree-log_8c.html#a6ea0cf9305190689e60144d31978a3a1" title="btrfs_log_inode" alt="" coords="2002,137,2113,163"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1983,339,2132,366"/>
<area shape="rect" id="node15" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1973,391,2141,432"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="1473,153,1669,179"/>
<area shape="rect" id="node20" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="2675,279,2782,306"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="2668,330,2789,357"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="2678,381,2779,407"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="2683,431,2774,458"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="2872,507,3031,534"/>
<area shape="rect" id="node25" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="2639,533,2819,559"/>
<area shape="rect" id="node26" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="2643,583,2814,610"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="2671,634,2786,661"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="2661,685,2797,711"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="2660,735,2797,762"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="2651,787,2807,828"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="2645,853,2813,879"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="2633,903,2824,930"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="2637,954,2820,981"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="2677,1005,2780,1031"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="2669,1055,2788,1082"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="2668,1106,2789,1133"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="2667,1157,2791,1199"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="2659,1223,2798,1250"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="2645,1275,2812,1316"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="2654,111,2803,138"/>
<area shape="rect" id="node41" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="2649,162,2808,189"/>
<area shape="rect" id="node42" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="2659,213,2799,255"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1733,507,1908,534"/>
<area shape="rect" id="node47" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="2191,507,2368,534"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1501,321,1641,347"/>
<area shape="rect" id="node50" href="transaction_8h.html#a633a8daf49546fa66608a82af233d4af" title="btrfs_commit_transaction\l_locksafe" alt="" coords="1487,255,1656,296"/>
</map>
</div>

</div>
</div>
<a id="af889878996d3525ab5e24612b48905ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af889878996d3525ab5e24612b48905ec">&#9670;&nbsp;</a></span>comp_data_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int comp_data_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__data__ref.html">btrfs_delayed_data_ref</a> *&#160;</td>
          <td class="paramname"><em>ref1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__data__ref.html">btrfs_delayed_data_ref</a> *&#160;</td>
          <td class="paramname"><em>ref2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_af889878996d3525ab5e24612b48905ec_icgraph.png" border="0" usemap="#delayed-ref_8c_af889878996d3525ab5e24612b48905ec_icgraph" alt=""/></div>
<map name="delayed-ref_8c_af889878996d3525ab5e24612b48905ec_icgraph" id="delayed-ref_8c_af889878996d3525ab5e24612b48905ec_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="168,525,251,552"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="299,500,381,526"/>
<area shape="rect" id="node49" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="300,550,380,577"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="429,398,557,425"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="607,398,753,425"/>
<area shape="rect" id="node46" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="605,322,755,349"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="805,398,983,425"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1033,652,1216,678"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1518,449,1662,476"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="1056,196,1193,222"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="1065,297,1185,324"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1050,398,1199,425"/>
<area shape="rect" id="node8" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1289,702,1417,729"/>
<area shape="rect" id="node12" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1277,804,1430,830"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1737,886,1892,913"/>
<area shape="rect" id="node25" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="1264,956,1443,982"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="1508,601,1672,628"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1291,854,1415,881"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="1525,525,1655,552"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="1288,500,1419,526"/>
<area shape="rect" id="node9" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1525,804,1655,830"/>
<area shape="rect" id="node10" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1508,702,1672,729"/>
<area shape="rect" id="node11" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1522,753,1658,780"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1506,905,1674,932"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2213,980,2353,1022"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2180,336,2387,362"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1954,1038,2118,1065"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1961,652,2111,694"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2435,857,2604,884"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1959,820,2113,862"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2205,857,2361,884"/>
<area shape="rect" id="node22" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1940,937,2132,964"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1951,769,2121,796"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="2213,777,2353,804"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1491,956,1689,982"/>
<area shape="rect" id="node28" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1747,652,1883,678"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1751,550,1878,577"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1982,550,2090,577"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1755,702,1874,729"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1763,449,1866,476"/>
<area shape="rect" id="node33" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1737,753,1892,780"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="1743,398,1887,425"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1281,145,1425,172"/>
<area shape="rect" id="node41" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1267,196,1440,222"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1280,44,1427,70"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1295,246,1411,273"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="803,297,985,324"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="1055,58,1194,99"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="808,652,980,678"/>
</map>
</div>

</div>
</div>
<a id="ad7091b6fa4a1695ed12f6841a282caa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7091b6fa4a1695ed12f6841a282caa3">&#9670;&nbsp;</a></span>comp_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int comp_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_seq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_cgraph.png" border="0" usemap="#delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_cgraph" alt=""/></div>
<map name="delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_cgraph" id="delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="147,5,259,32"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="136,57,271,98"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="146,123,261,149"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="136,174,271,215"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_icgraph.png" border="0" usemap="#delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_icgraph" alt=""/></div>
<map name="delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_icgraph" id="delayed-ref_8c_ad7091b6fa4a1695ed12f6841a282caa3_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="136,550,219,577"/>
<area shape="rect" id="node49" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="137,601,217,628"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="267,398,395,425"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="444,398,591,425"/>
<area shape="rect" id="node46" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="443,348,592,374"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="642,398,821,425"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="871,753,1053,780"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1355,550,1499,577"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="893,221,1031,248"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="902,348,1022,374"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="887,398,1037,425"/>
<area shape="rect" id="node7" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1127,753,1255,780"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1114,1057,1267,1084"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1575,956,1729,982"/>
<area shape="rect" id="node24" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="1101,905,1280,932"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="1345,652,1509,678"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1129,1006,1253,1033"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="1362,424,1493,450"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="1125,652,1256,678"/>
<area shape="rect" id="node8" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1362,804,1493,830"/>
<area shape="rect" id="node9" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1345,702,1509,729"/>
<area shape="rect" id="node10" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1359,753,1495,780"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1343,1032,1511,1058"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2051,999,2191,1040"/>
<area shape="rect" id="node15" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2017,424,2224,450"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1791,956,1955,982"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1798,672,1949,714"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2272,785,2441,812"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1797,738,1950,779"/>
<area shape="rect" id="node20" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2043,785,2199,812"/>
<area shape="rect" id="node21" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1777,905,1969,932"/>
<area shape="rect" id="node23" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1788,1057,1959,1084"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="2051,880,2191,906"/>
<area shape="rect" id="node25" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1328,905,1527,932"/>
<area shape="rect" id="node27" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1584,905,1720,932"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1589,804,1715,830"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1819,570,1927,597"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1593,652,1711,678"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1601,550,1703,577"/>
<area shape="rect" id="node32" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1575,753,1729,780"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="1580,398,1724,425"/>
<area shape="rect" id="node39" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1119,196,1263,222"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1104,246,1277,273"/>
<area shape="rect" id="node41" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1117,94,1264,121"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1133,297,1249,324"/>
<area shape="rect" id="node43" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1147,44,1234,70"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="640,348,823,374"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="893,58,1031,99"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="645,753,817,780"/>
</map>
</div>

</div>
</div>
<a id="aa8c3f00cebe1cebe4e26c467f9f19597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c3f00cebe1cebe4e26c467f9f19597">&#9670;&nbsp;</a></span>comp_tree_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int comp_tree_refs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__tree__ref.html">btrfs_delayed_tree_ref</a> *&#160;</td>
          <td class="paramname"><em>ref1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__tree__ref.html">btrfs_delayed_tree_ref</a> *&#160;</td>
          <td class="paramname"><em>ref2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_aa8c3f00cebe1cebe4e26c467f9f19597_icgraph.png" border="0" usemap="#delayed-ref_8c_aa8c3f00cebe1cebe4e26c467f9f19597_icgraph" alt=""/></div>
<map name="delayed-ref_8c_aa8c3f00cebe1cebe4e26c467f9f19597_icgraph" id="delayed-ref_8c_aa8c3f00cebe1cebe4e26c467f9f19597_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="165,525,248,552"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="296,500,379,526"/>
<area shape="rect" id="node49" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="297,550,377,577"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="427,398,555,425"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="604,398,751,425"/>
<area shape="rect" id="node46" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="603,322,752,349"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="802,398,981,425"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="1031,652,1213,678"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1515,449,1659,476"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="1053,196,1191,222"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="1062,297,1182,324"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1047,398,1197,425"/>
<area shape="rect" id="node8" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1287,702,1415,729"/>
<area shape="rect" id="node12" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1274,804,1427,830"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1735,886,1889,913"/>
<area shape="rect" id="node25" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="1261,956,1440,982"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="1505,601,1669,628"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1289,854,1413,881"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="1522,525,1653,552"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="1285,500,1416,526"/>
<area shape="rect" id="node9" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1522,804,1653,830"/>
<area shape="rect" id="node10" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1505,702,1669,729"/>
<area shape="rect" id="node11" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1519,753,1655,780"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1503,905,1671,932"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="2211,980,2351,1022"/>
<area shape="rect" id="node16" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="2177,336,2384,362"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1951,1038,2115,1065"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1958,652,2109,694"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2432,857,2601,884"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1957,820,2110,862"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="2203,857,2359,884"/>
<area shape="rect" id="node22" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1937,937,2129,964"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1948,769,2119,796"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="2211,777,2351,804"/>
<area shape="rect" id="node26" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1488,956,1687,982"/>
<area shape="rect" id="node28" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1744,652,1880,678"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1749,550,1875,577"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1979,550,2087,577"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1753,702,1871,729"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1761,449,1863,476"/>
<area shape="rect" id="node33" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1735,753,1889,780"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="1740,398,1884,425"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1279,145,1423,172"/>
<area shape="rect" id="node41" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1264,196,1437,222"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1277,44,1424,70"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1293,246,1409,273"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="800,297,983,324"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="1053,58,1191,99"/>
<area shape="rect" id="node50" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="805,652,977,678"/>
</map>
</div>

</div>
</div>
<a id="a8da8bf6a8f833e29006cee5ae578deda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da8bf6a8f833e29006cee5ae578deda">&#9670;&nbsp;</a></span>drop_delayed_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drop_delayed_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_cgraph.png" border="0" usemap="#delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_cgraph" id="delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="175,5,321,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_icgraph.png" border="0" usemap="#delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_icgraph" id="delayed-ref_8c_a8da8bf6a8f833e29006cee5ae578deda_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a29fb759ef92203055231367d4ceefeac" title="merge_ref" alt="" coords="199,728,279,754"/>
<area shape="rect" id="node36" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="175,880,303,906"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="553,364,725,390"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="779,364,961,390"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1251,173,1419,200"/>
<area shape="rect" id="node5" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="1035,364,1163,390"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="1022,212,1175,238"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1483,226,1637,253"/>
<area shape="rect" id="node22" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="1009,313,1188,340"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="1253,553,1417,580"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="1037,161,1161,188"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="1270,766,1401,793"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="1033,465,1164,492"/>
<area shape="rect" id="node6" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1270,401,1401,428"/>
<area shape="rect" id="node7" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1253,452,1417,478"/>
<area shape="rect" id="node8" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1267,350,1403,377"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1959,262,2099,303"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1925,753,2132,780"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1699,125,1863,152"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1706,446,1857,487"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="2180,394,2349,421"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1705,278,1858,319"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1951,210,2107,237"/>
<area shape="rect" id="node19" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1685,176,1877,202"/>
<area shape="rect" id="node21" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1696,74,1867,101"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1959,134,2099,161"/>
<area shape="rect" id="node23" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1236,300,1435,326"/>
<area shape="rect" id="node25" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1492,474,1628,501"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1497,576,1623,602"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1727,576,1835,602"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1501,373,1619,400"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1509,677,1611,704"/>
<area shape="rect" id="node30" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1483,424,1637,450"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="1488,778,1632,805"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1263,690,1407,717"/>
<area shape="rect" id="node37" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="352,880,499,906"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="351,930,500,957"/>
<area shape="rect" id="node38" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="550,880,729,906"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="801,1082,939,1109"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="810,956,930,982"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="795,880,945,906"/>
<area shape="rect" id="node40" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="1027,1082,1171,1109"/>
<area shape="rect" id="node41" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="1012,1133,1185,1160"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="1025,1234,1172,1261"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1041,981,1157,1008"/>
<area shape="rect" id="node44" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1055,1285,1142,1312"/>
<area shape="rect" id="node45" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="1029,1032,1168,1058"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="548,956,731,982"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="801,1231,939,1272"/>
</map>
</div>

</div>
</div>
<a id="ac234f98e5022621ceb609baba358cd5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac234f98e5022621ceb609baba358cd5b">&#9670;&nbsp;</a></span>find_ref_head()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a>* find_ref_head </td>
          <td>(</td>
          <td class="paramtype">struct rb_root *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>return_bigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_ac234f98e5022621ceb609baba358cd5b_icgraph.png" border="0" usemap="#delayed-ref_8c_ac234f98e5022621ceb609baba358cd5b_icgraph" alt=""/></div>
<map name="delayed-ref_8c_ac234f98e5022621ceb609baba358cd5b_icgraph" id="delayed-ref_8c_ac234f98e5022621ceb609baba358cd5b_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a95cfd1752c72a180bc48278bb92d8857" title="btrfs_select_ref_head" alt="" coords="153,468,300,495"/>
<area shape="rect" id="node25" href="delayed-ref_8h.html#a83adb12b50d355c9dc30c920c55911b3" title="btrfs_find_delayed\l_ref_head" alt="" coords="367,593,495,634"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a8d0146bb867bab339cde26781639da6c" title="btrfs_delayed_ref_unlock" alt="" coords="348,417,515,444"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1035,519,1203,545"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a4a571db94bf78cafcc058fb222fe75a3" title="unselect_delayed_ref_head" alt="" coords="564,367,744,393"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="821,417,945,444"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1267,393,1421,420"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1743,241,1883,282"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1709,568,1916,595"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1483,335,1647,361"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1490,503,1641,545"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1964,452,2133,479"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1489,386,1642,427"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1735,393,1891,420"/>
<area shape="rect" id="node19" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1469,132,1661,159"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1480,183,1651,209"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2181,452,2303,479"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1997,387,2100,413"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1974,507,2123,533"/>
<area shape="rect" id="node13" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1965,558,2133,599"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1743,56,1883,83"/>
<area shape="rect" id="node21" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1993,5,2105,32"/>
<area shape="rect" id="node22" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1984,56,2113,83"/>
<area shape="rect" id="node23" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1967,107,2130,149"/>
<area shape="rect" id="node26" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="819,772,947,799"/>
<area shape="rect" id="node33" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="563,572,745,599"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="801,316,965,343"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="817,721,948,748"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="817,671,948,697"/>
<area shape="rect" id="node27" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1054,772,1185,799"/>
<area shape="rect" id="node29" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1037,823,1201,849"/>
<area shape="rect" id="node31" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1051,873,1187,900"/>
<area shape="rect" id="node28" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="1271,772,1417,799"/>
<area shape="rect" id="node30" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="1278,823,1410,849"/>
<area shape="rect" id="node32" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="1292,873,1396,900"/>
<area shape="rect" id="node34" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="806,519,959,545"/>
<area shape="rect" id="node35" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="793,620,972,647"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1020,620,1219,647"/>
<area shape="rect" id="node38" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1051,468,1187,495"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="1056,164,1183,191"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1290,164,1398,191"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1285,240,1403,267"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1293,316,1395,343"/>
<area shape="rect" id="node46" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="1042,367,1197,393"/>
<area shape="rect" id="node39" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1279,588,1409,615"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1507,31,1623,57"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1516,81,1615,108"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="1493,721,1637,748"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1047,671,1191,697"/>
</map>
</div>

</div>
</div>
<a id="adf3f099484de7204b32a7a1875d498ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3f099484de7204b32a7a1875d498ec">&#9670;&nbsp;</a></span>htree_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a>* htree_insert </td>
          <td>(</td>
          <td class="paramtype">struct rb_root *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct rb_node *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_adf3f099484de7204b32a7a1875d498ec_icgraph.png" border="0" usemap="#delayed-ref_8c_adf3f099484de7204b32a7a1875d498ec_icgraph" alt=""/></div>
<map name="delayed-ref_8c_adf3f099484de7204b32a7a1875d498ec_icgraph" id="delayed-ref_8c_adf3f099484de7204b32a7a1875d498ec_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="144,653,296,680"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="351,653,529,680"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="349,957,531,984"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="344,552,536,579"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="584,552,767,579"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1051,485,1195,512"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="607,1135,744,1161"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="615,957,735,984"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1049,212,1198,239"/>
<area shape="rect" id="node5" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="840,755,968,781"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="827,501,981,528"/>
<area shape="rect" id="node9" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="815,552,993,579"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="822,349,986,376"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="842,603,966,629"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="827,805,981,832"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="839,451,969,477"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="839,400,969,427"/>
<area shape="rect" id="node6" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1058,688,1189,715"/>
<area shape="rect" id="node7" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1041,739,1205,765"/>
<area shape="rect" id="node11" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1055,299,1191,325"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1253,723,1460,749"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1064,349,1183,376"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1069,637,1177,664"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1305,411,1408,437"/>
<area shape="rect" id="node12" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1291,360,1422,387"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1053,841,1193,882"/>
<area shape="rect" id="node23" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1306,613,1407,640"/>
<area shape="rect" id="node24" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1307,461,1407,488"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1265,512,1448,539"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1289,563,1424,589"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="832,1008,976,1035"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="817,957,991,984"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="831,1363,977,1389"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="846,1059,962,1085"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="861,1413,947,1440"/>
<area shape="rect" id="node34" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="835,1109,973,1136"/>
<area shape="rect" id="node35" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="856,1160,952,1187"/>
<area shape="rect" id="node36" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="855,1261,953,1288"/>
<area shape="rect" id="node37" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="840,1312,968,1339"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1056,1073,1191,1114"/>
<area shape="rect" id="node40" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1301,5,1413,32"/>
<area shape="rect" id="node41" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1299,107,1414,133"/>
<area shape="rect" id="node42" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1508,81,1589,108"/>
<area shape="rect" id="node43" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1511,132,1586,159"/>
<area shape="rect" id="node44" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1297,208,1417,235"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1305,259,1408,285"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1305,309,1408,336"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="835,1465,973,1506"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="831,283,977,325"/>
</map>
</div>

</div>
</div>
<a id="a5eb44eeec80a55016cf8003576d6cf7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb44eeec80a55016cf8003576d6cf7e">&#9670;&nbsp;</a></span>insert_delayed_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_delayed_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>href</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_cgraph.png" border="0" usemap="#delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_cgraph" id="delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a8b10ce50b196ab80422e9df426172c39" title="tree_insert" alt="" coords="201,93,283,120"/>
<area shape="rect" id="node8" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="181,144,303,171"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="383,93,465,120"/>
<area shape="rect" id="node4" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="557,5,669,32"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="545,57,680,98"/>
<area shape="rect" id="node6" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="555,123,670,149"/>
<area shape="rect" id="node7" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="545,174,680,215"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="351,144,497,171"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_icgraph.png" border="0" usemap="#delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_icgraph" id="delayed-ref_8c_a5eb44eeec80a55016cf8003576d6cf7e_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="183,765,329,792"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="181,816,331,843"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="381,765,559,792"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="609,259,792,285"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1094,461,1238,488"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="632,765,769,792"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="641,892,761,919"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1091,1297,1241,1324"/>
<area shape="rect" id="node5" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="865,56,993,83"/>
<area shape="rect" id="node9" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="853,107,1006,133"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1327,233,1482,260"/>
<area shape="rect" id="node14" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="840,259,1019,285"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="847,309,1011,336"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="867,157,991,184"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="864,360,995,387"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="864,411,995,437"/>
<area shape="rect" id="node6" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1101,5,1231,32"/>
<area shape="rect" id="node7" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1084,56,1248,83"/>
<area shape="rect" id="node8" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1098,107,1234,133"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1082,157,1250,184"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1577,425,1717,466"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1544,715,1751,741"/>
<area shape="rect" id="node15" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1067,259,1265,285"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1112,411,1220,437"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1353,360,1456,387"/>
<area shape="rect" id="node23" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1339,664,1470,691"/>
<area shape="rect" id="node24" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1354,461,1455,488"/>
<area shape="rect" id="node25" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1355,512,1455,539"/>
<area shape="rect" id="node26" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1313,563,1496,589"/>
<area shape="rect" id="node27" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1337,613,1472,640"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="857,765,1001,792"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="843,816,1016,843"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="856,563,1003,589"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="871,867,987,893"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="886,613,973,640"/>
<area shape="rect" id="node35" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="860,917,999,944"/>
<area shape="rect" id="node36" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="881,968,977,995"/>
<area shape="rect" id="node37" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="880,664,979,691"/>
<area shape="rect" id="node38" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="865,715,993,741"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1099,885,1233,926"/>
<area shape="rect" id="node41" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1349,1221,1461,1248"/>
<area shape="rect" id="node42" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1347,1323,1462,1349"/>
<area shape="rect" id="node43" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1607,1297,1688,1324"/>
<area shape="rect" id="node44" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1610,1348,1685,1375"/>
<area shape="rect" id="node45" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1345,1424,1465,1451"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1353,1475,1456,1501"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1353,1525,1456,1552"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="379,816,561,843"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="860,1222,999,1263"/>
</map>
</div>

</div>
</div>
<a id="a29fb759ef92203055231367d4ceefeac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29fb759ef92203055231367d4ceefeac">&#9670;&nbsp;</a></span>merge_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool merge_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>seq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_cgraph.png" border="0" usemap="#delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_cgraph" id="delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="153,123,235,149"/>
<area shape="rect" id="node7" href="delayed-ref_8c.html#a8da8bf6a8f833e29006cee5ae578deda" title="drop_delayed_ref" alt="" coords="133,207,255,233"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="320,5,432,32"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="309,57,443,98"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="319,123,433,149"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="309,174,443,215"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#ab2101f126e6ade21e3d748f2efa6b153" title="btrfs_put_delayed_ref" alt="" coords="303,240,449,267"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_icgraph.png" border="0" usemap="#delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_icgraph" id="delayed-ref_8c_a29fb759ef92203055231367d4ceefeac_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#a6a01661f5cf05ad2ebae4da5dc24a6a2" title="btrfs_merge_delayed_refs" alt="" coords="133,409,305,436"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="353,435,536,461"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="811,384,979,411"/>
<area shape="rect" id="node4" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="609,107,737,133"/>
<area shape="rect" id="node11" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="597,485,750,512"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1049,477,1203,504"/>
<area shape="rect" id="node31" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="584,864,763,891"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="591,679,755,705"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="611,435,735,461"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="608,157,739,184"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="608,333,739,360"/>
<area shape="rect" id="node5" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="829,56,960,83"/>
<area shape="rect" id="node7" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="813,107,977,133"/>
<area shape="rect" id="node9" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="827,5,963,32"/>
<area shape="rect" id="node6" href="backref_8h.html#a83a9530d74779463faea2c889f8556bf" title="iterate_extent_inodes" alt="" coords="1053,56,1199,83"/>
<area shape="rect" id="node8" href="backref_8h.html#a6e32e807ee1df428a728707935596d4f" title="btrfs_find_all_roots" alt="" coords="1060,107,1192,133"/>
<area shape="rect" id="node10" href="extent__io_8h.html#abfd966f279225222c10a7a4f40ff468a" title="extent_fiemap" alt="" coords="1074,5,1178,32"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1547,470,1687,511"/>
<area shape="rect" id="node17" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1513,309,1720,336"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ace2dff8b8137364269478739101093c0" title="delayed_ref_async_start" alt="" coords="1287,595,1451,621"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="1294,411,1445,453"/>
<area shape="rect" id="node22" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1768,631,1937,657"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1293,529,1446,570"/>
<area shape="rect" id="node24" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1539,631,1695,657"/>
<area shape="rect" id="node25" href="transaction_8h.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="1273,747,1465,773"/>
<area shape="rect" id="node30" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="1284,360,1455,387"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1985,477,2107,504"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1801,427,1904,453"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1778,309,1927,336"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1769,361,1937,402"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a34af2e19d77a9657425ef22567849277" title="btrfs_drop_snapshot" alt="" coords="1547,848,1687,875"/>
<area shape="rect" id="node27" href="ctree_8h.html#a023f5462267786a450876270371c3614" title="btrfs_next_item" alt="" coords="1797,797,1909,824"/>
<area shape="rect" id="node28" href="relocation_8c.html#a0c037b422ce44406279cd09eecdd1324" title="merge_reloc_roots" alt="" coords="1788,848,1917,875"/>
<area shape="rect" id="node29" href="transaction_8h.html#a8f098a1a6c69c7b2f40378cbc55045b5" title="btrfs_clean_one_deleted\l_snapshot" alt="" coords="1771,899,1934,941"/>
<area shape="rect" id="node32" href="disk-io_8h.html#a7befeef50235d73761c91a09a90ed3c0" title="btrfs_cleanup_one_transaction" alt="" coords="1027,975,1225,1001"/>
<area shape="rect" id="node33" href="disk-io_8c.html#a9b98b810aff8bb1aea735ec7667cc06f" title="btrfs_cleanup_transaction" alt="" coords="1284,1000,1455,1027"/>
<area shape="rect" id="node34" href="disk-io_8h.html#a39a185d3c6112d3b72ed056046d48dc5" title="btrfs_put_fs_root" alt="" coords="1309,1051,1429,1077"/>
<area shape="rect" id="node35" href="btrfs_2transaction_8c.html#a12bfd824c80fbb6c232945f0736ade04" title="cleanup_transaction" alt="" coords="1547,772,1686,799"/>
<area shape="rect" id="node37" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="827,561,963,588"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#aee66511988f4c6c45f83282c99e3d0f3" title="reada_walk_down" alt="" coords="831,679,958,705"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1072,780,1180,807"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1067,840,1185,867"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1075,628,1177,655"/>
<area shape="rect" id="node45" href="relocation_8c.html#a4912ade6eb332d8ab1b90a7378a81487" title="block_use_full_backref" alt="" coords="817,729,972,756"/>
<area shape="rect" id="node38" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1061,561,1191,588"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a270fca781c23a42970e6eb430c44808e" title="walk_down_tree" alt="" coords="1311,848,1427,875"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="1320,797,1419,824"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="823,157,967,184"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="823,333,967,360"/>
</map>
</div>

</div>
</div>
<a id="a8b10ce50b196ab80422e9df426172c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b10ce50b196ab80422e9df426172c39">&#9670;&nbsp;</a></span>tree_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a>* tree_insert </td>
          <td>(</td>
          <td class="paramtype">struct rb_root *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__node.html">btrfs_delayed_ref_node</a> *&#160;</td>
          <td class="paramname"><em>ins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_cgraph.png" border="0" usemap="#delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_cgraph" id="delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#ad7091b6fa4a1695ed12f6841a282caa3" title="comp_refs" alt="" coords="136,93,219,120"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#aa8c3f00cebe1cebe4e26c467f9f19597" title="comp_tree_refs" alt="" coords="278,5,390,32"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a2a4e57b0b414a2faea8fec58e11eb308" title="btrfs_delayed_node\l_to_tree_ref" alt="" coords="267,57,401,98"/>
<area shape="rect" id="node5" href="delayed-ref_8c.html#af889878996d3525ab5e24612b48905ec" title="comp_data_refs" alt="" coords="277,123,391,149"/>
<area shape="rect" id="node6" href="delayed-ref_8h.html#a6d0911aa5ac29a4dba9d229fd2887ac6" title="btrfs_delayed_node\l_to_data_ref" alt="" coords="267,174,401,215"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_icgraph.png" border="0" usemap="#delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_icgraph" id="delayed-ref_8c_a8b10ce50b196ab80422e9df426172c39_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#a5eb44eeec80a55016cf8003576d6cf7e" title="insert_delayed_ref" alt="" coords="136,759,264,785"/>
<area shape="rect" id="node3" href="delayed-ref_8c.html#a83d6b84b898ab1805b632d8ffaf50040" title="add_delayed_tree_ref" alt="" coords="313,733,460,760"/>
<area shape="rect" id="node48" href="delayed-ref_8c.html#a2befce062e2c254b36d56aaf4449cc8c" title="add_delayed_data_ref" alt="" coords="312,784,461,811"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="511,708,690,735"/>
<area shape="rect" id="node5" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="740,1256,923,1283"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1209,632,1353,659"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="763,657,900,684"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="771,784,891,811"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1207,233,1356,260"/>
<area shape="rect" id="node6" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="996,1053,1124,1080"/>
<area shape="rect" id="node10" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="983,1408,1137,1435"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1427,1332,1582,1359"/>
<area shape="rect" id="node15" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="971,1256,1149,1283"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="978,1155,1142,1181"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="998,1357,1122,1384"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="995,1307,1125,1333"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="995,936,1125,963"/>
<area shape="rect" id="node7" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1216,1003,1347,1029"/>
<area shape="rect" id="node8" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1199,1053,1363,1080"/>
<area shape="rect" id="node9" href="backref_8h.html#a9c8f54aee3dcdca3dfa877daab38afbb" title="btrfs_check_shared" alt="" coords="1213,952,1349,979"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a4c05c78bd1cd2a89981c7f3f11fdd9ce" title="__btrfs_run_delayed_refs" alt="" coords="1197,1357,1365,1384"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1677,1286,1817,1327"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1644,784,1851,811"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1227,1104,1335,1131"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1453,843,1556,869"/>
<area shape="rect" id="node23" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1439,468,1570,495"/>
<area shape="rect" id="node24" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1454,632,1555,659"/>
<area shape="rect" id="node25" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1455,683,1555,709"/>
<area shape="rect" id="node26" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1413,531,1596,557"/>
<area shape="rect" id="node27" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1437,581,1572,608"/>
<area shape="rect" id="node29" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="988,683,1132,709"/>
<area shape="rect" id="node31" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="973,632,1147,659"/>
<area shape="rect" id="node32" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="987,429,1133,456"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="1002,733,1118,760"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="1017,480,1103,507"/>
<area shape="rect" id="node35" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="991,784,1129,811"/>
<area shape="rect" id="node36" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="1012,835,1108,861"/>
<area shape="rect" id="node37" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="1011,531,1109,557"/>
<area shape="rect" id="node38" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="996,581,1124,608"/>
<area shape="rect" id="node30" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1214,835,1349,877"/>
<area shape="rect" id="node41" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1449,259,1561,285"/>
<area shape="rect" id="node42" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1447,208,1562,235"/>
<area shape="rect" id="node43" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1707,132,1788,159"/>
<area shape="rect" id="node44" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1710,259,1785,285"/>
<area shape="rect" id="node45" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1445,5,1565,32"/>
<area shape="rect" id="node46" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1453,107,1556,133"/>
<area shape="rect" id="node47" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1453,157,1556,184"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="509,784,692,811"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="991,987,1129,1029"/>
</map>
</div>

</div>
</div>
<a id="a200caa9faac7c2e87a62fb4ec78a61d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a200caa9faac7c2e87a62fb4ec78a61d0">&#9670;&nbsp;</a></span>update_existing_head_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static noinline void update_existing_head_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__root.html">btrfs_delayed_ref_root</a> *&#160;</td>
          <td class="paramname"><em>delayed_refs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>existing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__delayed__ref__head.html">btrfs_delayed_ref_head</a> *&#160;</td>
          <td class="paramname"><em>update</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>old_ref_mod_ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_cgraph.png" border="0" usemap="#delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_cgraph" alt=""/></div>
<map name="delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_cgraph" id="delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_cgraph">
<area shape="rect" id="node2" href="delayed-ref_8h.html#adfb9551f72cfaf5e6ff419ad2ea2de00" title="btrfs_free_delayed\l_extent_op" alt="" coords="224,5,353,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_icgraph.png" border="0" usemap="#delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_icgraph" alt=""/></div>
<map name="delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_icgraph" id="delayed-ref_8c_a200caa9faac7c2e87a62fb4ec78a61d0_icgraph">
<area shape="rect" id="node2" href="delayed-ref_8c.html#adc24c08cf4485407a7dda26df87a7e43" title="add_delayed_ref_head" alt="" coords="224,653,376,680"/>
<area shape="rect" id="node3" href="delayed-ref_8h.html#a96aa69d5e3e354b8ed3a29822eeb632e" title="btrfs_add_delayed_tree_ref" alt="" coords="431,653,609,680"/>
<area shape="rect" id="node47" href="delayed-ref_8h.html#a7212e320001e4a4b4d1ea2bd2eb37c55" title="btrfs_add_delayed_data_ref" alt="" coords="429,957,611,984"/>
<area shape="rect" id="node49" href="delayed-ref_8h.html#a49a83022a54dafd1405d2b8162cd4d45" title="btrfs_add_delayed_extent_op" alt="" coords="424,552,616,579"/>
<area shape="rect" id="node4" href="delayed-ref_8h.html#a4d1bd740378e2b61850a0c0ac431d36a" title="btrfs_put_delayed_ref_head" alt="" coords="664,552,847,579"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1131,485,1275,512"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="687,1135,824,1161"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="695,957,815,984"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1129,212,1278,239"/>
<area shape="rect" id="node5" href="backref_8c.html#a0ee68c04fd2dd56c92c6dafc81192eef" title="find_parent_nodes" alt="" coords="920,755,1048,781"/>
<area shape="rect" id="node8" href="delayed-ref_8h.html#a10e5b57095d859308cdb7834c3ed7432" title="btrfs_delayed_ref_lock" alt="" coords="907,501,1061,528"/>
<area shape="rect" id="node9" href="disk-io_8c.html#aa1267e8d1e31ef6b0d31014ca23d2b6a" title="btrfs_destroy_delayed_refs" alt="" coords="895,552,1073,579"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="902,349,1066,376"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a5184640b93397015f3da1946b3d154fa" title="cleanup_ref_head" alt="" coords="922,603,1046,629"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="907,805,1061,832"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a3afc1b70be9f07a784b42718425b106a" title="check_delayed_ref" alt="" coords="919,451,1049,477"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6728061b98190f0902a955b2af4f0ca9" title="check_ref_cleanup" alt="" coords="919,400,1049,427"/>
<area shape="rect" id="node6" href="backref_8c.html#ab1568e939e5162e2975c2f56b01b1acd" title="btrfs_find_all_leafs" alt="" coords="1138,688,1269,715"/>
<area shape="rect" id="node7" href="backref_8c.html#a3335bc22ade4f2f3209bf9bc8a26bd72" title="btrfs_find_all_roots_safe" alt="" coords="1121,739,1285,765"/>
<area shape="rect" id="node11" href="ctree_8c.html#a6f46d98e146a498e56ec4837d96488ce" title="update_ref_for_cow" alt="" coords="1135,299,1271,325"/>
<area shape="rect" id="node13" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1333,723,1540,749"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#af52f470b2311259ab72386c02af04460" title="walk_down_proc" alt="" coords="1144,349,1263,376"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a217c1835aaf5d08b470c532f9e6a0ad9" title="do_walk_down" alt="" coords="1149,637,1257,664"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1385,411,1488,437"/>
<area shape="rect" id="node12" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1371,360,1502,387"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="1133,841,1273,882"/>
<area shape="rect" id="node23" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1386,613,1487,640"/>
<area shape="rect" id="node24" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1387,461,1487,488"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1345,512,1528,539"/>
<area shape="rect" id="node26" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1369,563,1504,589"/>
<area shape="rect" id="node28" href="btrfs_2file_8c.html#a9b118293a1008ce04f7d21c4fe74563c" title="__btrfs_drop_extents" alt="" coords="912,1008,1056,1035"/>
<area shape="rect" id="node30" href="btrfs_2file_8c.html#aec86cced909b4ec29a185eecce88823e" title="btrfs_mark_extent_written" alt="" coords="897,957,1071,984"/>
<area shape="rect" id="node31" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="911,1363,1057,1389"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#aa9708909148bdab4ba21561b6c63015c" title="__btrfs_mod_ref" alt="" coords="926,1059,1042,1085"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a9593195b609a29baa4043d9556207a58" title="btrfs_clone" alt="" coords="941,1413,1027,1440"/>
<area shape="rect" id="node34" href="relocation_8c.html#a413da40b9bb7bbbab5fd7a9db912296b" title="replace_file_extents" alt="" coords="915,1109,1053,1136"/>
<area shape="rect" id="node35" href="relocation_8c.html#a33b289a2834b73cc3e05de3535ecc8cc" title="replace_path" alt="" coords="936,1160,1032,1187"/>
<area shape="rect" id="node36" href="relocation_8c.html#a3c0e5eac5549ed84183965cfdebcbdf6" title="do_relocation" alt="" coords="935,1261,1033,1288"/>
<area shape="rect" id="node37" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="920,1312,1048,1339"/>
<area shape="rect" id="node29" href="btrfs_2inode_8c.html#a2cf27743ab37629fbf2991e624b90f2e" title="insert_reserved_file\l_extent" alt="" coords="1136,1073,1271,1114"/>
<area shape="rect" id="node40" href="ctree_8h.html#a859ee694f0a11f5bbd99f11f378c58cb" title="btrfs_copy_root" alt="" coords="1381,5,1493,32"/>
<area shape="rect" id="node41" href="ctree_8c.html#af80700915896ac78a4892a7ad6a34585" title="insert_new_root" alt="" coords="1379,107,1494,133"/>
<area shape="rect" id="node42" href="ctree_8c.html#a13d551c5e000308d39b83f907c45d65b" title="split_node" alt="" coords="1588,81,1669,108"/>
<area shape="rect" id="node43" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="1591,132,1666,159"/>
<area shape="rect" id="node44" href="disk-io_8h.html#af160f0c78873756eac8e0de0c78215af" title="btrfs_create_tree" alt="" coords="1377,208,1497,235"/>
<area shape="rect" id="node45" href="disk-io_8c.html#a08f2ca5f1722a0db6f8ed613226455fe" title="alloc_log_tree" alt="" coords="1385,259,1488,285"/>
<area shape="rect" id="node46" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1385,309,1488,336"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="915,1465,1053,1506"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="911,283,1057,325"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae5463a7c457d830cc56f8886905f10c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5463a7c457d830cc56f8886905f10c1">&#9670;&nbsp;</a></span>btrfs_delayed_data_ref_cachep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* btrfs_delayed_data_ref_cachep</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae20e030f7f02923c78f8a8b1ca7e2a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20e030f7f02923c78f8a8b1ca7e2a99">&#9670;&nbsp;</a></span>btrfs_delayed_extent_op_cachep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* btrfs_delayed_extent_op_cachep</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a295603f17618766f6be95140c656abc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a295603f17618766f6be95140c656abc4">&#9670;&nbsp;</a></span>btrfs_delayed_ref_head_cachep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* btrfs_delayed_ref_head_cachep</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abdd95e6c725e33d4ccec100b4a3a172a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd95e6c725e33d4ccec100b4a3a172a">&#9670;&nbsp;</a></span>btrfs_delayed_tree_ref_cachep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct kmem_cache* btrfs_delayed_tree_ref_cachep</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e99c6e840ca93ced115462758f746de3.html">btrfs</a></li><li class="navelem"><a class="el" href="delayed-ref_8c.html">delayed-ref.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
