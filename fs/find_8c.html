<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ubifs/find.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('find_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">find.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;linux/sort.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ubifs_8h_source.html">ubifs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for find.c:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c__incl.png" border="0" usemap="#ubifs_2find_8c" alt=""/></div>
<map name="ubifs_2find_8c" id="ubifs_2find_8c">
<area shape="rect" id="node3" href="ubifs_8h.html" title="ubifs.h" alt="" coords="1225,80,1287,107"/>
<area shape="rect" id="node21" href="ubifs-media_8h.html" title="ubifs&#45;media.h" alt="" coords="2143,155,2243,181"/>
<area shape="rect" id="node22" href="ubifs_2debug_8h.html" title="debug.h" alt="" coords="2267,155,2335,181"/>
<area shape="rect" id="node23" href="misc_8h.html" title="misc.h" alt="" coords="2360,155,2421,181"/>
<area shape="rect" id="node24" href="key_8h.html" title="key.h" alt="" coords="2446,155,2501,181"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscan__data.html">scan_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2303bab7a34c9ea495ff055cb06db596"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596">valuable</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops)</td></tr>
<tr class="separator:a2303bab7a34c9ea495ff055cb06db596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d8baed5e0f491f1c86cab2a049acb7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7">scan_for_dirty_cb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int in_tree, struct <a class="el" href="structscan__data.html">scan_data</a> *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a15d8baed5e0f491f1c86cab2a049acb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715c6a77d5e6922f0b465eaba93f3a99"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99">scan_for_dirty</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int min_space, int pick_free, int exclude_index)</td></tr>
<tr class="separator:a715c6a77d5e6922f0b465eaba93f3a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e0f58e74f915d84712f6a1367b75d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#aa0e0f58e74f915d84712f6a1367b75d0">ubifs_find_dirty_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *ret_lp, int min_space, int pick_free)</td></tr>
<tr class="separator:aa0e0f58e74f915d84712f6a1367b75d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131c924a527c1d77bc20a4ebbcf83f03"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a131c924a527c1d77bc20a4ebbcf83f03">scan_for_free_cb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int in_tree, struct <a class="el" href="structscan__data.html">scan_data</a> *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a131c924a527c1d77bc20a4ebbcf83f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf7fbdbbbdd6300b6252efcc5494325"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325">do_find_free_space</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int min_space, int pick_free, int squeeze)</td></tr>
<tr class="separator:abaf7fbdbbbdd6300b6252efcc5494325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f03e32ffa32d28279f1eaf0f81c4a5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a1f03e32ffa32d28279f1eaf0f81c4a5f">ubifs_find_free_space</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, int min_space, int *offs, int squeeze)</td></tr>
<tr class="separator:a1f03e32ffa32d28279f1eaf0f81c4a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729b477660fd27cb7248516da9c558e1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a729b477660fd27cb7248516da9c558e1">scan_for_idx_cb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int in_tree, struct <a class="el" href="structscan__data.html">scan_data</a> *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a729b477660fd27cb7248516da9c558e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53f61786f9fb4f68b3eb47770f97846"><td class="memItemLeft" align="right" valign="top">static const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846">scan_for_leb_for_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ae53f61786f9fb4f68b3eb47770f97846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbeb2fbcdd3403f15e5d6ce214edcf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9">ubifs_find_free_leb_for_idx</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a5dbeb2fbcdd3403f15e5d6ce214edcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e29c87a698697582a0330af8bf8ebef"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a3e29c87a698697582a0330af8bf8ebef">cmp_dirty_idx</a> (const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **a, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **b)</td></tr>
<tr class="separator:a3e29c87a698697582a0330af8bf8ebef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d7c3b5243a5c0090c3f9283939eeaf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#aa2d7c3b5243a5c0090c3f9283939eeaf">swap_dirty_idx</a> (struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **a, struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **b, int <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:aa2d7c3b5243a5c0090c3f9283939eeaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb183b65aeed0bc4e18681aec0ffdb5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#abb183b65aeed0bc4e18681aec0ffdb5b">ubifs_save_dirty_idx_lnums</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:abb183b65aeed0bc4e18681aec0ffdb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d2bc7732900fffd37f45fbd8d47eec"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a98d2bc7732900fffd37f45fbd8d47eec">scan_dirty_idx_cb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c, const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *lprops, int in_tree, struct <a class="el" href="structscan__data.html">scan_data</a> *<a class="el" href="rock_8h.html#a1bfe8b027f6e5624818c1a92b91bf6d2">data</a>)</td></tr>
<tr class="separator:a98d2bc7732900fffd37f45fbd8d47eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d34f3450a01ca6a4fe109ab4f12dce"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce">find_dirty_idx_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:ad8d34f3450a01ca6a4fe109ab4f12dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173f9670c2518646a936453e0af21940"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a173f9670c2518646a936453e0af21940">get_idx_gc_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a173f9670c2518646a936453e0af21940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d28cfea7ac2fd6ce6f3db5cb908e42"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42">find_dirtiest_idx_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a40d28cfea7ac2fd6ce6f3db5cb908e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9755efbbff945daa2e58b2c996976a29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="find_8c.html#a9755efbbff945daa2e58b2c996976a29">ubifs_find_dirty_idx_leb</a> (struct <a class="el" href="structubifs__info.html">ubifs_info</a> *c)</td></tr>
<tr class="separator:a9755efbbff945daa2e58b2c996976a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3e29c87a698697582a0330af8bf8ebef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e29c87a698697582a0330af8bf8ebef">&#9670;&nbsp;</a></span>cmp_dirty_idx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cmp_dirty_idx </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a3e29c87a698697582a0330af8bf8ebef_icgraph.png" border="0" usemap="#find_8c_a3e29c87a698697582a0330af8bf8ebef_icgraph" alt=""/></div>
<map name="find_8c_a3e29c87a698697582a0330af8bf8ebef_icgraph" id="find_8c_a3e29c87a698697582a0330af8bf8ebef_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#abb183b65aeed0bc4e18681aec0ffdb5b" title="ubifs_save_dirty_idx\l_lnums" alt="" coords="156,277,297,318"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="345,284,504,311"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="552,284,639,311"/>
<area shape="rect" id="node5" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="694,221,805,248"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="687,309,812,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1055,183,1169,209"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1268,132,1361,159"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1252,183,1377,209"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1464,5,1573,32"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1457,56,1580,83"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="871,385,974,412"/>
<area shape="rect" id="node13" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="865,233,980,260"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1033,233,1191,260"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1049,1120,1175,1147"/>
<area shape="rect" id="node43" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="860,335,985,361"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1251,233,1378,260"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1661,664,1795,691"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1472,157,1565,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1477,309,1560,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1474,208,1563,235"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1471,259,1567,285"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1467,360,1570,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1685,968,1771,995"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1257,385,1373,412"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1246,1272,1383,1299"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1243,1323,1386,1349"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1251,1171,1378,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1255,1120,1375,1147"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1253,1221,1377,1248"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1242,968,1387,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1239,1069,1391,1096"/>
<area shape="rect" id="node25" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1473,512,1564,539"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1480,563,1557,589"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1473,411,1564,437"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1475,461,1562,488"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1469,1272,1568,1299"/>
<area shape="rect" id="node31" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1678,1221,1778,1248"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1457,1323,1580,1349"/>
<area shape="rect" id="node34" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1443,1373,1594,1400"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1465,1171,1572,1197"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1469,917,1568,944"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1470,1069,1567,1096"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1245,588,1384,615"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1457,765,1580,792"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1462,816,1575,843"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1479,867,1559,893"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1439,664,1599,691"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1673,613,1783,640"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1647,715,1809,741"/>
</map>
</div>

</div>
</div>
<a id="abaf7fbdbbbdd6300b6252efcc5494325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf7fbdbbbdd6300b6252efcc5494325">&#9670;&nbsp;</a></span>do_find_free_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* do_find_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pick_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>squeeze</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>do_find_free_space - find a data LEB with free space. <code></code>: the UBIFS file-system description object : minimum amount of free space required : whether it is OK to scan for empty LEBs : whether to try to find space in a non-empty LEB first</p>
<p>This function returns a pointer to the LEB properties found or a negative error code. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_abaf7fbdbbbdd6300b6252efcc5494325_cgraph.png" border="0" usemap="#find_8c_abaf7fbdbbbdd6300b6252efcc5494325_cgraph" alt=""/></div>
<map name="find_8c_abaf7fbdbbbdd6300b6252efcc5494325_cgraph" id="find_8c_abaf7fbdbbbdd6300b6252efcc5494325_cgraph">
<area shape="rect" id="node2" href="lprops_8c.html#a9f9c5f51e3eec037783db8eb0477b5cc" title="ubifs_fast_find_free" alt="" coords="195,245,331,271"/>
<area shape="rect" id="node3" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="188,295,339,322"/>
<area shape="rect" id="node4" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="387,397,537,423"/>
<area shape="rect" id="node37" href="find_8c.html#a131c924a527c1d77bc20a4ebbcf83f03" title="scan_for_free_cb" alt="" coords="202,346,325,373"/>
<area shape="rect" id="node39" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="189,878,337,905"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="596,878,720,905"/>
<area shape="rect" id="node14" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="599,802,717,829"/>
<area shape="rect" id="node15" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="599,422,717,449"/>
<area shape="rect" id="node21" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="597,169,719,195"/>
<area shape="rect" id="node32" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="611,371,705,398"/>
<area shape="rect" id="node33" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="991,291,1139,318"/>
<area shape="rect" id="node36" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1199,42,1316,69"/>
<area shape="rect" id="node6" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="988,896,1141,937"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="805,751,911,778"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1404,570,1476,597"/>
<area shape="rect" id="node9" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="787,802,929,829"/>
<area shape="rect" id="node13" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="803,903,913,930"/>
<area shape="rect" id="node10" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1009,722,1120,749"/>
<area shape="rect" id="node11" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1194,722,1321,749"/>
<area shape="rect" id="node12" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1013,773,1116,799"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="988,393,1141,435"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="985,342,1144,369"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="805,650,911,677"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="803,397,913,423"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="799,447,917,474"/>
<area shape="rect" id="node22" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="779,93,937,119"/>
<area shape="rect" id="node29" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="797,143,919,170"/>
<area shape="rect" id="node23" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="987,93,1142,119"/>
<area shape="rect" id="node24" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1201,93,1314,119"/>
<area shape="rect" id="node26" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1197,143,1317,170"/>
<area shape="rect" id="node25" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1371,194,1509,221"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1382,118,1498,145"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1375,42,1505,69"/>
<area shape="rect" id="node30" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1006,169,1123,195"/>
<area shape="rect" id="node31" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1192,194,1323,221"/>
<area shape="rect" id="node34" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1197,295,1317,322"/>
<area shape="rect" id="node35" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1201,377,1314,403"/>
<area shape="rect" id="node38" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="427,346,497,373"/>
<area shape="rect" id="node40" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="402,1081,522,1107"/>
<area shape="rect" id="node43" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="403,853,521,879"/>
<area shape="rect" id="node44" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="403,574,521,601"/>
<area shape="rect" id="node47" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="402,1005,522,1031"/>
<area shape="rect" id="node41" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="585,1106,731,1133"/>
<area shape="rect" id="node42" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="796,1106,920,1133"/>
<area shape="rect" id="node45" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="613,574,703,601"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="793,701,923,727"/>
<area shape="rect" id="node48" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="603,1055,713,1082"/>
<area shape="rect" id="node49" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="610,1005,706,1031"/>
<area shape="rect" id="node50" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="796,1055,920,1082"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_abaf7fbdbbbdd6300b6252efcc5494325_icgraph.png" border="0" usemap="#find_8c_abaf7fbdbbbdd6300b6252efcc5494325_icgraph" alt=""/></div>
<map name="find_8c_abaf7fbdbbbdd6300b6252efcc5494325_icgraph" id="find_8c_abaf7fbdbbbdd6300b6252efcc5494325_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="188,588,337,615"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="385,588,492,615"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="540,588,665,615"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="731,335,847,361"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="721,664,858,691"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="718,765,861,792"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="726,613,853,640"/>
<area shape="rect" id="node33" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="729,563,849,589"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="727,715,851,741"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="717,63,862,89"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="713,171,865,197"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="943,107,1034,133"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="942,157,1035,184"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="947,461,1030,488"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="950,208,1027,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="943,259,1034,285"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="945,309,1032,336"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="944,360,1033,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="941,411,1037,437"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="937,512,1040,539"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1119,56,1227,83"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1297,5,1430,32"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1492,31,1565,57"/>
<area shape="rect" id="node10" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1283,107,1444,133"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1125,461,1221,488"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1130,563,1217,589"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1313,588,1413,615"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="939,664,1038,691"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1117,664,1230,691"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1123,715,1223,741"/>
<area shape="rect" id="node26" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1316,715,1411,741"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="927,816,1050,843"/>
<area shape="rect" id="node29" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="913,765,1064,792"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1112,765,1235,792"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1120,613,1227,640"/>
<area shape="rect" id="node36" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1124,5,1223,32"/>
<area shape="rect" id="node38" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="940,56,1037,83"/>
</map>
</div>

</div>
</div>
<a id="a40d28cfea7ac2fd6ce6f3db5cb908e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d28cfea7ac2fd6ce6f3db5cb908e42">&#9670;&nbsp;</a></span>find_dirtiest_idx_leb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_dirtiest_idx_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>find_dirtiest_idx_leb - find dirtiest index LEB from dirtiest array. <code></code>: the UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_cgraph.png" border="0" usemap="#find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_cgraph" alt=""/></div>
<map name="find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_cgraph" id="find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="371,563,487,589"/>
<area shape="rect" id="node30" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="191,613,307,640"/>
<area shape="rect" id="node3" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="729,664,853,691"/>
<area shape="rect" id="node12" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="552,613,669,640"/>
<area shape="rect" id="node13" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="552,487,669,513"/>
<area shape="rect" id="node4" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1121,725,1275,766"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="938,664,1045,691"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1537,436,1609,463"/>
<area shape="rect" id="node7" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="921,613,1062,640"/>
<area shape="rect" id="node11" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="937,715,1046,741"/>
<area shape="rect" id="node8" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1143,461,1253,488"/>
<area shape="rect" id="node9" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1327,436,1454,463"/>
<area shape="rect" id="node10" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1147,411,1249,437"/>
<area shape="rect" id="node14" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="747,461,836,488"/>
<area shape="rect" id="node21" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="745,309,838,336"/>
<area shape="rect" id="node15" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1121,513,1275,554"/>
<area shape="rect" id="node16" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1119,309,1277,336"/>
<area shape="rect" id="node17" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="938,360,1045,387"/>
<area shape="rect" id="node18" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="937,411,1046,437"/>
<area shape="rect" id="node19" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="933,512,1050,539"/>
<area shape="rect" id="node20" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="926,563,1057,589"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="931,208,1052,235"/>
<area shape="rect" id="node23" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1139,183,1257,209"/>
<area shape="rect" id="node24" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1504,157,1643,184"/>
<area shape="rect" id="node25" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1325,157,1456,184"/>
<area shape="rect" id="node26" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1331,56,1451,83"/>
<area shape="rect" id="node27" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1515,5,1631,32"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1508,56,1639,83"/>
<area shape="rect" id="node29" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1511,107,1635,133"/>
<area shape="rect" id="node31" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="375,715,482,741"/>
<area shape="rect" id="node32" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="355,613,503,640"/>
<area shape="rect" id="node41" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="372,664,485,691"/>
<area shape="rect" id="node42" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="731,107,852,133"/>
<area shape="rect" id="node33" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="551,892,671,919"/>
<area shape="rect" id="node36" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="551,816,671,843"/>
<area shape="rect" id="node34" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="719,917,864,944"/>
<area shape="rect" id="node35" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="929,917,1053,944"/>
<area shape="rect" id="node37" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="736,867,847,893"/>
<area shape="rect" id="node38" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="743,816,839,843"/>
<area shape="rect" id="node39" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="929,867,1053,893"/>
<area shape="rect" id="node40" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1138,867,1258,893"/>
<area shape="rect" id="node43" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1334,107,1447,133"/>
<area shape="rect" id="node44" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="912,56,1071,83"/>
<area shape="rect" id="node45" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1121,56,1275,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_icgraph.png" border="0" usemap="#find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_icgraph" alt=""/></div>
<map name="find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_icgraph" id="find_8c_a40d28cfea7ac2fd6ce6f3db5cb908e42_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="191,284,349,311"/>
<area shape="rect" id="node3" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="397,284,531,311"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="579,284,688,311"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="736,284,843,311"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="891,284,1049,311"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1097,284,1184,311"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1239,221,1350,248"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1232,309,1357,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1600,183,1715,209"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1813,132,1907,159"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1797,183,1923,209"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2005,5,2114,32"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1998,56,2121,83"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1417,335,1519,361"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1411,284,1525,311"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1579,233,1736,260"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1595,968,1720,995"/>
<area shape="rect" id="node46" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1405,411,1531,437"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1797,233,1923,260"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2183,411,2316,437"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2013,157,2106,184"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2018,309,2101,336"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2015,208,2104,235"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2011,259,2107,285"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="2008,360,2111,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2206,765,2293,792"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1802,385,1918,412"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1791,1019,1929,1045"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1789,1171,1931,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1797,1069,1923,1096"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1800,968,1920,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1798,1120,1922,1147"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1787,841,1933,868"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1784,917,1936,944"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="2014,512,2105,539"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2021,563,2098,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="2014,411,2105,437"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="2016,461,2103,488"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="2010,1019,2109,1045"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2199,1019,2299,1045"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1998,1221,2121,1248"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1984,1171,2135,1197"/>
<area shape="rect" id="node39" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="2006,1069,2113,1096"/>
<area shape="rect" id="node43" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="2010,816,2109,843"/>
<area shape="rect" id="node45" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="2011,917,2108,944"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1791,512,1929,539"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1998,613,2121,640"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="2003,664,2116,691"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="2019,715,2099,741"/>
</map>
</div>

</div>
</div>
<a id="ad8d34f3450a01ca6a4fe109ab4f12dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d34f3450a01ca6a4fe109ab4f12dce">&#9670;&nbsp;</a></span>find_dirty_idx_leb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_dirty_idx_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>find_dirty_idx_leb - find a dirty index LEB. <code></code>: the UBIFS file-system description object</p>
<p>This function returns LEB number upon success and a negative error code upon failure. In particular, -ENOSPC is returned if a dirty index LEB is not found.</p>
<p>Note that this function scans the entire LPT but it is called very rarely. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_cgraph.png" border="0" usemap="#find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_cgraph" alt=""/></div>
<map name="find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_cgraph" id="find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_cgraph">
<area shape="rect" id="node2" href="find_8c.html#a98d2bc7732900fffd37f45fbd8d47eec" title="scan_dirty_idx_cb" alt="" coords="176,724,303,751"/>
<area shape="rect" id="node4" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="547,585,697,612"/>
<area shape="rect" id="node35" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="351,825,499,852"/>
<area shape="rect" id="node47" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="181,876,297,903"/>
<area shape="rect" id="node3" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="389,724,460,751"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="756,503,880,529"/>
<area shape="rect" id="node14" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="759,427,877,453"/>
<area shape="rect" id="node15" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="759,629,877,656"/>
<area shape="rect" id="node21" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="757,984,879,1011"/>
<area shape="rect" id="node28" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="771,1035,865,1061"/>
<area shape="rect" id="node29" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="944,107,1092,133"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="959,173,1077,200"/>
<area shape="rect" id="node6" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1148,310,1301,351"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="965,427,1071,453"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1379,401,1451,428"/>
<area shape="rect" id="node9" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="947,528,1089,555"/>
<area shape="rect" id="node13" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="963,275,1073,301"/>
<area shape="rect" id="node10" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1169,579,1280,605"/>
<area shape="rect" id="node11" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1352,604,1479,631"/>
<area shape="rect" id="node12" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1173,629,1276,656"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1148,731,1301,773"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1145,883,1304,909"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="965,579,1071,605"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="963,731,1073,757"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="959,781,1077,808"/>
<area shape="rect" id="node22" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="939,1085,1097,1112"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="957,1035,1079,1061"/>
<area shape="rect" id="node23" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1147,1085,1302,1112"/>
<area shape="rect" id="node24" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1359,1085,1472,1112"/>
<area shape="rect" id="node25" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1527,1060,1665,1087"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1357,1035,1474,1061"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1159,157,1290,184"/>
<area shape="rect" id="node31" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1165,56,1285,83"/>
<area shape="rect" id="node32" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1168,5,1281,32"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1167,208,1283,235"/>
<area shape="rect" id="node36" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="562,977,682,1004"/>
<area shape="rect" id="node39" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="563,648,681,675"/>
<area shape="rect" id="node40" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="563,825,681,852"/>
<area shape="rect" id="node43" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="562,1237,682,1264"/>
<area shape="rect" id="node37" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="745,1161,891,1188"/>
<area shape="rect" id="node38" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="956,1237,1080,1264"/>
<area shape="rect" id="node41" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="773,781,863,808"/>
<area shape="rect" id="node42" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="953,933,1083,960"/>
<area shape="rect" id="node44" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="763,1237,873,1264"/>
<area shape="rect" id="node45" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="770,1288,866,1315"/>
<area shape="rect" id="node46" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="956,1288,1080,1315"/>
<area shape="rect" id="node48" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="371,876,478,903"/>
<area shape="rect" id="node49" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="368,927,481,953"/>
<area shape="rect" id="node50" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="757,1085,879,1112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_icgraph.png" border="0" usemap="#find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_icgraph" alt=""/></div>
<map name="find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_icgraph" id="find_8c_ad8d34f3450a01ca6a4fe109ab4f12dce_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="176,284,335,311"/>
<area shape="rect" id="node3" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="383,284,516,311"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="564,284,673,311"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="721,284,828,311"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="876,284,1035,311"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1083,284,1169,311"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1225,221,1335,248"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1217,309,1343,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1585,183,1700,209"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1799,132,1892,159"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1783,183,1908,209"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1990,5,2099,32"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1983,56,2106,83"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1402,335,1505,361"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1396,284,1511,311"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1564,233,1721,260"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1580,968,1705,995"/>
<area shape="rect" id="node46" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1391,411,1516,437"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1782,233,1909,260"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2168,411,2301,437"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1998,157,2091,184"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2003,309,2086,336"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2000,208,2089,235"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1997,259,2093,285"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1993,360,2096,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2191,765,2278,792"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1787,385,1903,412"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1777,1019,1914,1045"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1774,1171,1917,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1782,1069,1909,1096"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1785,968,1905,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1783,1120,1907,1147"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1773,841,1918,868"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1769,917,1921,944"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1999,512,2090,539"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2006,563,2083,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1999,411,2090,437"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="2001,461,2088,488"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1995,1019,2094,1045"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2185,1019,2285,1045"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1983,1221,2106,1248"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1969,1171,2120,1197"/>
<area shape="rect" id="node39" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1991,1069,2098,1096"/>
<area shape="rect" id="node43" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1995,816,2094,843"/>
<area shape="rect" id="node45" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1996,917,2093,944"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1776,512,1915,539"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1983,613,2106,640"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1988,664,2101,691"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="2005,715,2085,741"/>
</map>
</div>

</div>
</div>
<a id="a173f9670c2518646a936453e0af21940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173f9670c2518646a936453e0af21940">&#9670;&nbsp;</a></span>get_idx_gc_leb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_idx_gc_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get_idx_gc_leb - try to get a LEB number from trivial GC. <code></code>: the UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a173f9670c2518646a936453e0af21940_cgraph.png" border="0" usemap="#find_8c_a173f9670c2518646a936453e0af21940_cgraph" alt=""/></div>
<map name="find_8c_a173f9670c2518646a936453e0af21940_cgraph" id="find_8c_a173f9670c2518646a936453e0af21940_cgraph">
<area shape="rect" id="node2" href="ubifs_2gc_8c.html#a2e83b83738924a4b92576798c5409df2" title="ubifs_get_idx_gc_leb" alt="" coords="163,144,307,171"/>
<area shape="rect" id="node3" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="355,195,503,221"/>
<area shape="rect" id="node40" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="177,245,293,272"/>
<area shape="rect" id="node4" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1852,245,1976,272"/>
<area shape="rect" id="node13" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="551,195,671,221"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1687,245,1804,272"/>
<area shape="rect" id="node17" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="552,245,669,272"/>
<area shape="rect" id="node35" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="551,144,671,171"/>
<area shape="rect" id="node5" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="2216,78,2369,119"/>
<area shape="rect" id="node6" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="2041,397,2148,424"/>
<area shape="rect" id="node7" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2447,372,2519,399"/>
<area shape="rect" id="node8" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="2024,245,2165,272"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="2040,180,2149,207"/>
<area shape="rect" id="node9" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="2237,296,2348,323"/>
<area shape="rect" id="node10" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2420,220,2547,247"/>
<area shape="rect" id="node11" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="2241,245,2344,272"/>
<area shape="rect" id="node14" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="719,195,864,221"/>
<area shape="rect" id="node15" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="929,169,1053,196"/>
<area shape="rect" id="node18" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1869,549,1959,576"/>
<area shape="rect" id="node25" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="745,245,838,272"/>
<area shape="rect" id="node19" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="2216,715,2369,757"/>
<area shape="rect" id="node20" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="2213,448,2372,475"/>
<area shape="rect" id="node21" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="2041,296,2148,323"/>
<area shape="rect" id="node22" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="2040,752,2149,779"/>
<area shape="rect" id="node23" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="2036,600,2153,627"/>
<area shape="rect" id="node24" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="2029,651,2160,677"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="931,245,1052,272"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1137,245,1255,272"/>
<area shape="rect" id="node28" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1500,245,1639,272"/>
<area shape="rect" id="node29" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="1321,195,1452,221"/>
<area shape="rect" id="node30" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="1327,549,1447,576"/>
<area shape="rect" id="node31" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1511,549,1627,576"/>
<area shape="rect" id="node32" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1504,600,1635,627"/>
<area shape="rect" id="node33" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1511,296,1627,323"/>
<area shape="rect" id="node34" href="ubifs_2debug_8c.html#a5600b63b8362df17ed46c4e20784fb6c" title="ubifs_dump_heap" alt="" coords="1507,651,1631,677"/>
<area shape="rect" id="node36" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="736,144,847,171"/>
<area shape="rect" id="node37" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="743,93,839,120"/>
<area shape="rect" id="node38" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="929,93,1053,120"/>
<area shape="rect" id="node39" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1136,93,1256,120"/>
<area shape="rect" id="node41" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="375,347,482,373"/>
<area shape="rect" id="node42" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="372,245,485,272"/>
<area shape="rect" id="node43" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="731,347,852,373"/>
<area shape="rect" id="node44" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1330,347,1443,373"/>
<area shape="rect" id="node45" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="912,397,1071,424"/>
<area shape="rect" id="node46" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1119,397,1273,424"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a173f9670c2518646a936453e0af21940_icgraph.png" border="0" usemap="#find_8c_a173f9670c2518646a936453e0af21940_icgraph" alt=""/></div>
<map name="find_8c_a173f9670c2518646a936453e0af21940_icgraph" id="find_8c_a173f9670c2518646a936453e0af21940_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="163,284,321,311"/>
<area shape="rect" id="node3" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="369,284,503,311"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="551,284,660,311"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="708,284,815,311"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="863,284,1021,311"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1069,284,1156,311"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1211,221,1322,248"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1204,309,1329,336"/>
<area shape="rect" id="node9" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1572,183,1687,209"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1785,132,1879,159"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1769,183,1895,209"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1977,5,2086,32"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1970,56,2093,83"/>
<area shape="rect" id="node15" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1389,335,1491,361"/>
<area shape="rect" id="node16" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1383,284,1497,311"/>
<area shape="rect" id="node17" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1551,233,1708,260"/>
<area shape="rect" id="node26" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1567,968,1692,995"/>
<area shape="rect" id="node46" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1377,411,1503,437"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1769,233,1895,260"/>
<area shape="rect" id="node19" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2155,411,2288,437"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1985,157,2078,184"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1990,309,2073,336"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1987,208,2076,235"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1983,259,2079,285"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1980,360,2083,387"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2178,765,2265,792"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1774,385,1890,412"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1763,1019,1901,1045"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1761,1171,1903,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1769,1069,1895,1096"/>
<area shape="rect" id="node40" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1772,968,1892,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1770,1120,1894,1147"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1759,841,1905,868"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1756,917,1908,944"/>
<area shape="rect" id="node28" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1986,512,2077,539"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1993,563,2070,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1986,411,2077,437"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1988,461,2075,488"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1982,1019,2081,1045"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2171,1019,2271,1045"/>
<area shape="rect" id="node36" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1970,1221,2093,1248"/>
<area shape="rect" id="node37" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1956,1171,2107,1197"/>
<area shape="rect" id="node39" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1978,1069,2085,1096"/>
<area shape="rect" id="node43" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1982,816,2081,843"/>
<area shape="rect" id="node45" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1983,917,2080,944"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1763,512,1901,539"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1970,613,2093,640"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1975,664,2088,691"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1991,715,2071,741"/>
</map>
</div>

</div>
</div>
<a id="a98d2bc7732900fffd37f45fbd8d47eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d2bc7732900fffd37f45fbd8d47eec">&#9670;&nbsp;</a></span>scan_dirty_idx_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_dirty_idx_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structscan__data.html">scan_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_dirty_idx_cb - callback used by the scan for a dirty index LEB. <code></code>: the UBIFS file-system description object : LEB properties to scan : whether the LEB properties are in main memory : information passed to and from the caller of the scan</p>
<p>This function returns a code that indicates whether the scan should continue (LPT_SCAN_CONTINUE), whether the LEB properties should be added to the tree in main memory (LPT_SCAN_ADD), or whether the scan should stop (LPT_SCAN_STOP). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a98d2bc7732900fffd37f45fbd8d47eec_cgraph.png" border="0" usemap="#find_8c_a98d2bc7732900fffd37f45fbd8d47eec_cgraph" alt=""/></div>
<map name="find_8c_a98d2bc7732900fffd37f45fbd8d47eec_cgraph" id="find_8c_a98d2bc7732900fffd37f45fbd8d47eec_cgraph">
<area shape="rect" id="node2" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="180,5,251,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a98d2bc7732900fffd37f45fbd8d47eec_icgraph.png" border="0" usemap="#find_8c_a98d2bc7732900fffd37f45fbd8d47eec_icgraph" alt=""/></div>
<map name="find_8c_a98d2bc7732900fffd37f45fbd8d47eec_icgraph" id="find_8c_a98d2bc7732900fffd37f45fbd8d47eec_icgraph">
<area shape="rect" id="node2" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="180,284,303,311"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="351,284,509,311"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="557,284,691,311"/>
<area shape="rect" id="node5" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="739,284,848,311"/>
<area shape="rect" id="node6" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="896,284,1003,311"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1051,284,1209,311"/>
<area shape="rect" id="node8" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1257,284,1344,311"/>
<area shape="rect" id="node9" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1399,221,1510,248"/>
<area shape="rect" id="node15" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1392,309,1517,336"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1760,183,1875,209"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1973,132,2067,159"/>
<area shape="rect" id="node13" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1957,183,2083,209"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="2165,5,2274,32"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="2158,56,2281,83"/>
<area shape="rect" id="node16" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1577,335,1679,361"/>
<area shape="rect" id="node17" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1571,284,1685,311"/>
<area shape="rect" id="node18" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1739,233,1896,260"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1755,917,1880,944"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1565,397,1691,424"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1957,233,2083,260"/>
<area shape="rect" id="node20" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2343,385,2476,412"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="2173,157,2266,184"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="2178,259,2261,285"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="2175,208,2264,235"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="2171,309,2267,336"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="2168,360,2271,387"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2366,715,2453,741"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1962,385,2078,412"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1951,1069,2089,1096"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1949,1120,2091,1147"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1957,1019,2083,1045"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1960,917,2080,944"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1958,968,2082,995"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1947,791,2093,817"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1944,867,2096,893"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="2174,512,2265,539"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="2181,563,2258,589"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="2174,411,2265,437"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="2176,461,2263,488"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="2170,1069,2269,1096"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2359,968,2459,995"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="2158,1171,2281,1197"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="2144,1120,2295,1147"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="2166,1019,2273,1045"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="2170,765,2269,792"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="2171,867,2268,893"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1951,487,2089,513"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="2158,613,2281,640"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="2163,664,2276,691"/>
</map>
</div>

</div>
</div>
<a id="a715c6a77d5e6922f0b465eaba93f3a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a715c6a77d5e6922f0b465eaba93f3a99">&#9670;&nbsp;</a></span>scan_for_dirty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* scan_for_dirty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pick_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exclude_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_for_dirty - find a data LEB with free space. <code></code>: the UBIFS file-system description object : minimum amount free plus dirty space the returned LEB has to have : if it is OK to return a free or freeable LEB : whether to exclude index LEBs</p>
<p>This function returns a pointer to the LEB properties found or a negative error code. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a715c6a77d5e6922f0b465eaba93f3a99_cgraph.png" border="0" usemap="#find_8c_a715c6a77d5e6922f0b465eaba93f3a99_cgraph" alt=""/></div>
<map name="find_8c_a715c6a77d5e6922f0b465eaba93f3a99_cgraph" id="find_8c_a715c6a77d5e6922f0b465eaba93f3a99_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="157,672,308,699"/>
<area shape="rect" id="node40" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7" title="scan_for_dirty_cb" alt="" coords="170,1128,295,1155"/>
<area shape="rect" id="node42" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1131,900,1279,927"/>
<area shape="rect" id="node3" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1505,545,1629,572"/>
<area shape="rect" id="node12" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="1509,469,1626,496"/>
<area shape="rect" id="node13" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="1509,723,1626,749"/>
<area shape="rect" id="node19" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="356,951,477,977"/>
<area shape="rect" id="node32" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1521,1027,1614,1053"/>
<area shape="rect" id="node36" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="935,115,1083,141"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="950,241,1067,268"/>
<area shape="rect" id="node4" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1880,310,2033,351"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1705,469,1812,496"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2113,419,2185,445"/>
<area shape="rect" id="node7" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1688,571,1829,597"/>
<area shape="rect" id="node11" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1704,317,1813,344"/>
<area shape="rect" id="node8" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1901,672,2012,699"/>
<area shape="rect" id="node9" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2086,647,2213,673"/>
<area shape="rect" id="node10" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1905,621,2008,648"/>
<area shape="rect" id="node14" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1880,774,2033,815"/>
<area shape="rect" id="node15" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1877,908,2036,935"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1705,621,1812,648"/>
<area shape="rect" id="node17" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1704,773,1813,800"/>
<area shape="rect" id="node18" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1700,824,1817,851"/>
<area shape="rect" id="node20" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="525,925,684,952"/>
<area shape="rect" id="node33" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1698,1128,1819,1155"/>
<area shape="rect" id="node21" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="732,925,887,952"/>
<area shape="rect" id="node22" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="2093,1255,2206,1281"/>
<area shape="rect" id="node24" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="949,609,1069,636"/>
<area shape="rect" id="node23" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="2263,1179,2401,1205"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1147,267,1263,293"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1139,216,1270,243"/>
<area shape="rect" id="node27" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1147,635,1263,661"/>
<area shape="rect" id="node28" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1328,647,1445,673"/>
<area shape="rect" id="node29" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1328,875,1445,901"/>
<area shape="rect" id="node30" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1523,824,1612,851"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1693,925,1824,952"/>
<area shape="rect" id="node34" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1898,1128,2015,1155"/>
<area shape="rect" id="node35" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="2084,1179,2215,1205"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1145,64,1265,91"/>
<area shape="rect" id="node38" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1330,25,1443,52"/>
<area shape="rect" id="node41" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="381,1128,452,1155"/>
<area shape="rect" id="node43" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1327,1128,1447,1155"/>
<area shape="rect" id="node46" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1327,1179,1447,1205"/>
<area shape="rect" id="node44" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1495,1128,1640,1155"/>
<area shape="rect" id="node45" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="1697,1179,1821,1205"/>
<area shape="rect" id="node47" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1512,1179,1623,1205"/>
<area shape="rect" id="node48" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1519,1229,1615,1256"/>
<area shape="rect" id="node49" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="1697,1229,1821,1256"/>
<area shape="rect" id="node50" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1897,1229,2017,1256"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a715c6a77d5e6922f0b465eaba93f3a99_icgraph.png" border="0" usemap="#find_8c_a715c6a77d5e6922f0b465eaba93f3a99_icgraph" alt=""/></div>
<map name="find_8c_a715c6a77d5e6922f0b465eaba93f3a99_icgraph" id="find_8c_a715c6a77d5e6922f0b465eaba93f3a99_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="157,1019,292,1045"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="340,791,488,817"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="691,1272,848,1299"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="536,487,643,513"/>
<area shape="rect" id="node34" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="559,791,620,817"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="707,259,832,285"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="914,1044,1030,1071"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="903,31,1041,57"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="901,107,1043,133"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="909,157,1035,184"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="912,259,1032,285"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="910,208,1034,235"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="899,360,1045,387"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="896,309,1048,336"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1131,1019,1221,1045"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1129,1221,1223,1248"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1135,1120,1217,1147"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1137,867,1215,893"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1131,917,1221,944"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1133,968,1219,995"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1131,1069,1221,1096"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1128,1171,1224,1197"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1125,1272,1227,1299"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1337,1120,1433,1147"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1342,461,1429,488"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1127,5,1225,32"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1335,208,1435,235"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1115,107,1237,133"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1101,56,1251,83"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1123,157,1229,184"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1127,360,1225,387"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1319,613,1452,640"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1515,613,1588,640"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1127,309,1225,336"/>
<area shape="rect" id="node35" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="707,791,832,817"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="903,791,1041,817"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1115,563,1237,589"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1119,613,1233,640"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1136,664,1216,691"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1096,715,1256,741"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1330,765,1441,792"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1304,537,1467,564"/>
<area shape="rect" id="node43" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1142,765,1210,792"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="925,1323,1019,1349"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="909,1399,1035,1425"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="909,1221,1035,1248"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1121,1373,1231,1400"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1339,1373,1432,1400"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1115,1424,1237,1451"/>
</map>
</div>

</div>
</div>
<a id="a15d8baed5e0f491f1c86cab2a049acb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d8baed5e0f491f1c86cab2a049acb7">&#9670;&nbsp;</a></span>scan_for_dirty_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_for_dirty_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structscan__data.html">scan_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_for_dirty_cb - dirty space scan callback. <code></code>: the UBIFS file-system description object : LEB properties to scan : whether the LEB properties are in main memory : information passed to and from the caller of the scan</p>
<p>This function returns a code that indicates whether the scan should continue (LPT_SCAN_CONTINUE), whether the LEB properties should be added to the tree in main memory (LPT_SCAN_ADD), or whether the scan should stop (LPT_SCAN_STOP). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a15d8baed5e0f491f1c86cab2a049acb7_cgraph.png" border="0" usemap="#find_8c_a15d8baed5e0f491f1c86cab2a049acb7_cgraph" alt=""/></div>
<map name="find_8c_a15d8baed5e0f491f1c86cab2a049acb7_cgraph" id="find_8c_a15d8baed5e0f491f1c86cab2a049acb7_cgraph">
<area shape="rect" id="node2" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="179,5,249,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a15d8baed5e0f491f1c86cab2a049acb7_icgraph.png" border="0" usemap="#find_8c_a15d8baed5e0f491f1c86cab2a049acb7_icgraph" alt=""/></div>
<map name="find_8c_a15d8baed5e0f491f1c86cab2a049acb7_icgraph" id="find_8c_a15d8baed5e0f491f1c86cab2a049acb7_icgraph">
<area shape="rect" id="node2" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="179,960,283,986"/>
<area shape="rect" id="node3" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="331,960,465,986"/>
<area shape="rect" id="node4" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="513,757,661,784"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="864,1213,1021,1240"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="709,478,816,505"/>
<area shape="rect" id="node35" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="732,757,793,784"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="880,250,1005,277"/>
<area shape="rect" id="node7" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1087,934,1203,961"/>
<area shape="rect" id="node19" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1077,301,1214,328"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1074,98,1217,125"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1082,149,1209,176"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1085,200,1205,226"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1083,22,1207,49"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1073,352,1218,378"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1069,250,1221,277"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1304,909,1395,936"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1303,960,1396,986"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1308,1010,1391,1037"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1311,757,1388,784"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1304,808,1395,834"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1306,858,1393,885"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1305,1112,1394,1138"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1301,1162,1397,1189"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1298,1213,1401,1240"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1511,960,1607,986"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1515,706,1602,733"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1300,301,1399,328"/>
<area shape="rect" id="node21" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1509,301,1609,328"/>
<area shape="rect" id="node23" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1288,48,1411,74"/>
<area shape="rect" id="node24" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1274,98,1425,125"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1296,149,1403,176"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1300,352,1399,378"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1492,1188,1625,1214"/>
<area shape="rect" id="node32" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1688,1188,1761,1214"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1301,250,1398,277"/>
<area shape="rect" id="node36" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="880,757,1005,784"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1076,757,1215,784"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1288,554,1411,581"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1293,605,1406,632"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1309,656,1389,682"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1269,1061,1429,1088"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1503,1061,1614,1088"/>
<area shape="rect" id="node43" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1477,1010,1640,1037"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1099,1264,1192,1290"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1083,1340,1208,1366"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1082,1162,1209,1189"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1295,1314,1404,1341"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1512,1314,1605,1341"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1288,1365,1411,1392"/>
</map>
</div>

</div>
</div>
<a id="a131c924a527c1d77bc20a4ebbcf83f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a131c924a527c1d77bc20a4ebbcf83f03">&#9670;&nbsp;</a></span>scan_for_free_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_for_free_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structscan__data.html">scan_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_for_free_cb - free space scan callback. <code></code>: the UBIFS file-system description object : LEB properties to scan : whether the LEB properties are in main memory : information passed to and from the caller of the scan</p>
<p>This function returns a code that indicates whether the scan should continue (LPT_SCAN_CONTINUE), whether the LEB properties should be added to the tree in main memory (LPT_SCAN_ADD), or whether the scan should stop (LPT_SCAN_STOP). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a131c924a527c1d77bc20a4ebbcf83f03_cgraph.png" border="0" usemap="#find_8c_a131c924a527c1d77bc20a4ebbcf83f03_cgraph" alt=""/></div>
<map name="find_8c_a131c924a527c1d77bc20a4ebbcf83f03_cgraph" id="find_8c_a131c924a527c1d77bc20a4ebbcf83f03_cgraph">
<area shape="rect" id="node2" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="176,5,247,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a131c924a527c1d77bc20a4ebbcf83f03_icgraph.png" border="0" usemap="#find_8c_a131c924a527c1d77bc20a4ebbcf83f03_icgraph" alt=""/></div>
<map name="find_8c_a131c924a527c1d77bc20a4ebbcf83f03_icgraph" id="find_8c_a131c924a527c1d77bc20a4ebbcf83f03_icgraph">
<area shape="rect" id="node2" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="176,588,311,615"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="359,588,508,615"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="556,588,663,615"/>
<area shape="rect" id="node5" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="711,588,836,615"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="902,335,1018,361"/>
<area shape="rect" id="node23" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="891,664,1029,691"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="889,765,1031,792"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="897,613,1023,640"/>
<area shape="rect" id="node34" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="900,563,1020,589"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="898,715,1022,741"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="887,63,1033,89"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="884,171,1036,197"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1114,107,1205,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1113,157,1206,184"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1118,461,1201,488"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1121,208,1198,235"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1114,259,1205,285"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1116,309,1203,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1115,360,1204,387"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1111,411,1207,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1108,512,1211,539"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="1290,56,1398,83"/>
<area shape="rect" id="node9" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1467,5,1601,32"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1663,31,1736,57"/>
<area shape="rect" id="node11" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1453,107,1615,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1296,461,1392,488"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1301,563,1387,589"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1484,588,1584,615"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1110,664,1209,691"/>
<area shape="rect" id="node25" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="1287,664,1401,691"/>
<area shape="rect" id="node26" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1294,715,1394,741"/>
<area shape="rect" id="node27" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1487,715,1581,741"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1098,816,1221,843"/>
<area shape="rect" id="node30" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1084,765,1235,792"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="1283,765,1405,792"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1291,613,1397,640"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1295,5,1393,32"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1111,56,1208,83"/>
</map>
</div>

</div>
</div>
<a id="a729b477660fd27cb7248516da9c558e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729b477660fd27cb7248516da9c558e1">&#9670;&nbsp;</a></span>scan_for_idx_cb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int scan_for_idx_cb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structscan__data.html">scan_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_for_idx_cb - callback used by the scan for a free LEB for the index. <code></code>: the UBIFS file-system description object : LEB properties to scan : whether the LEB properties are in main memory : information passed to and from the caller of the scan</p>
<p>This function returns a code that indicates whether the scan should continue (LPT_SCAN_CONTINUE), whether the LEB properties should be added to the tree in main memory (LPT_SCAN_ADD), or whether the scan should stop (LPT_SCAN_STOP). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a729b477660fd27cb7248516da9c558e1_cgraph.png" border="0" usemap="#find_8c_a729b477660fd27cb7248516da9c558e1_cgraph" alt=""/></div>
<map name="find_8c_a729b477660fd27cb7248516da9c558e1_cgraph" id="find_8c_a729b477660fd27cb7248516da9c558e1_cgraph">
<area shape="rect" id="node2" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="171,5,241,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a729b477660fd27cb7248516da9c558e1_icgraph.png" border="0" usemap="#find_8c_a729b477660fd27cb7248516da9c558e1_icgraph" alt=""/></div>
<map name="find_8c_a729b477660fd27cb7248516da9c558e1_icgraph" id="find_8c_a729b477660fd27cb7248516da9c558e1_icgraph">
<area shape="rect" id="node2" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="171,284,313,311"/>
<area shape="rect" id="node3" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="361,277,492,318"/>
<area shape="rect" id="node4" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1212,259,1327,285"/>
<area shape="rect" id="node22" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="540,309,644,336"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1380,259,1537,285"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1615,157,1708,184"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1599,208,1724,235"/>
<area shape="rect" id="node11" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1598,259,1725,285"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1806,5,1915,32"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="2004,5,2097,32"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1799,56,1922,83"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1984,107,2117,133"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1814,208,1907,235"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1819,157,1902,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1816,360,1905,387"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1813,309,1909,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1809,259,1912,285"/>
<area shape="rect" id="node13" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2179,107,2252,133"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="2003,157,2099,184"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2007,701,2094,728"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2165,764,2265,791"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="692,309,851,336"/>
<area shape="rect" id="node24" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="899,309,985,336"/>
<area shape="rect" id="node25" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1041,208,1151,235"/>
<area shape="rect" id="node27" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1033,335,1159,361"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1401,208,1516,235"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1218,360,1321,387"/>
<area shape="rect" id="node29" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1396,816,1521,843"/>
<area shape="rect" id="node49" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1207,417,1332,444"/>
<area shape="rect" id="node30" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1603,360,1719,387"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1593,980,1730,1007"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1590,917,1733,944"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1598,867,1725,893"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1601,816,1721,843"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1599,1056,1723,1083"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1589,664,1734,691"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1585,765,1737,792"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1815,411,1906,437"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1822,461,1899,488"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1815,512,1906,539"/>
<area shape="rect" id="node34" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1817,563,1904,589"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1811,1019,1910,1045"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2001,1019,2101,1045"/>
<area shape="rect" id="node39" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1799,968,1922,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1785,917,1936,944"/>
<area shape="rect" id="node42" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1997,828,2104,855"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1811,613,1910,640"/>
<area shape="rect" id="node48" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1812,765,1909,792"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1592,455,1731,481"/>
</map>
</div>

</div>
</div>
<a id="ae53f61786f9fb4f68b3eb47770f97846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae53f61786f9fb4f68b3eb47770f97846">&#9670;&nbsp;</a></span>scan_for_leb_for_idx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a>* scan_for_leb_for_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>scan_for_leb_for_idx - scan for a free LEB for the index. <code></code>: the UBIFS file-system description object </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_ae53f61786f9fb4f68b3eb47770f97846_cgraph.png" border="0" usemap="#find_8c_ae53f61786f9fb4f68b3eb47770f97846_cgraph" alt=""/></div>
<map name="find_8c_ae53f61786f9fb4f68b3eb47770f97846_cgraph" id="find_8c_ae53f61786f9fb4f68b3eb47770f97846_cgraph">
<area shape="rect" id="node2" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="196,672,347,699"/>
<area shape="rect" id="node40" href="find_8c.html#a729b477660fd27cb7248516da9c558e1" title="scan_for_idx_cb" alt="" coords="213,1128,330,1155"/>
<area shape="rect" id="node42" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="1169,900,1317,927"/>
<area shape="rect" id="node3" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="1544,545,1668,572"/>
<area shape="rect" id="node12" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="1547,469,1665,496"/>
<area shape="rect" id="node13" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="1547,723,1665,749"/>
<area shape="rect" id="node19" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="395,951,516,977"/>
<area shape="rect" id="node32" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1559,1027,1653,1053"/>
<area shape="rect" id="node36" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="973,115,1121,141"/>
<area shape="rect" id="node39" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="989,241,1106,268"/>
<area shape="rect" id="node4" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1919,310,2072,351"/>
<area shape="rect" id="node5" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1744,469,1851,496"/>
<area shape="rect" id="node6" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="2152,419,2224,445"/>
<area shape="rect" id="node7" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1727,571,1868,597"/>
<area shape="rect" id="node11" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1743,317,1852,344"/>
<area shape="rect" id="node8" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1940,672,2051,699"/>
<area shape="rect" id="node9" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="2125,647,2251,673"/>
<area shape="rect" id="node10" href="lpt_8c.html#ac0dcb63535a53346f5364a21cd948dec" title="check_lpt_crc" alt="" coords="1944,621,2047,648"/>
<area shape="rect" id="node14" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1919,774,2072,815"/>
<area shape="rect" id="node15" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1916,908,2075,935"/>
<area shape="rect" id="node16" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1744,621,1851,648"/>
<area shape="rect" id="node17" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1743,773,1852,800"/>
<area shape="rect" id="node18" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1739,824,1856,851"/>
<area shape="rect" id="node20" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="564,925,723,952"/>
<area shape="rect" id="node33" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1737,1128,1858,1155"/>
<area shape="rect" id="node21" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="771,925,925,952"/>
<area shape="rect" id="node22" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="2131,1255,2245,1281"/>
<area shape="rect" id="node24" href="lprops_8c.html#a715a0be6e5e1b99a7bf830fca61a84e2" title="dbg_check_heap" alt="" coords="987,609,1107,636"/>
<area shape="rect" id="node23" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="2301,1179,2440,1205"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1185,267,1301,293"/>
<area shape="rect" id="node26" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1178,216,1309,243"/>
<area shape="rect" id="node27" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="1185,635,1301,661"/>
<area shape="rect" id="node28" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="1367,647,1484,673"/>
<area shape="rect" id="node29" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="1367,875,1484,901"/>
<area shape="rect" id="node30" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1561,824,1651,851"/>
<area shape="rect" id="node31" href="ubifs_2debug_8c.html#ab2224f946272a25cfacf2607c6502818" title="ubifs_dump_pnode" alt="" coords="1732,925,1863,952"/>
<area shape="rect" id="node34" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1937,1128,2054,1155"/>
<area shape="rect" id="node35" href="lprops_8c.html#aa85b7d6ee17c895f4a592398484654bb" title="move_up_lpt_heap" alt="" coords="2123,1179,2253,1205"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1183,64,1303,91"/>
<area shape="rect" id="node38" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1369,25,1482,52"/>
<area shape="rect" id="node41" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="420,1128,491,1155"/>
<area shape="rect" id="node43" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="1365,1128,1485,1155"/>
<area shape="rect" id="node46" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="1365,1179,1485,1205"/>
<area shape="rect" id="node44" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="1533,1128,1679,1155"/>
<area shape="rect" id="node45" href="lpt_8c.html#ae5e7ec1ecf58650a45f5ffb5d4029d10" title="ubifs_add_lpt_dirt" alt="" coords="1735,1179,1859,1205"/>
<area shape="rect" id="node47" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1551,1179,1661,1205"/>
<area shape="rect" id="node48" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1558,1229,1654,1256"/>
<area shape="rect" id="node49" href="lprops_8c.html#a4a2c2b7e688877c1df8d8f4d49e1728a" title="ubifs_replace_cat" alt="" coords="1735,1229,1859,1256"/>
<area shape="rect" id="node50" href="lprops_8c.html#a0b65160e0da643b5257b811348f16321" title="lpt_heap_replace" alt="" coords="1935,1229,2055,1256"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_ae53f61786f9fb4f68b3eb47770f97846_icgraph.png" border="0" usemap="#find_8c_ae53f61786f9fb4f68b3eb47770f97846_icgraph" alt=""/></div>
<map name="find_8c_ae53f61786f9fb4f68b3eb47770f97846_icgraph" id="find_8c_ae53f61786f9fb4f68b3eb47770f97846_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="196,251,327,293"/>
<area shape="rect" id="node3" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1047,233,1161,260"/>
<area shape="rect" id="node21" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="375,284,479,311"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1215,233,1372,260"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1449,132,1543,159"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1433,183,1559,209"/>
<area shape="rect" id="node10" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1433,233,1559,260"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1641,5,1750,32"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1839,5,1932,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1634,56,1757,83"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1819,664,1952,691"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1649,360,1742,387"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1654,157,1737,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1651,208,1740,235"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1647,259,1743,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1644,309,1747,336"/>
<area shape="rect" id="node12" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="2013,664,2087,691"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1837,157,1933,184"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1842,715,1929,741"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="2000,791,2100,817"/>
<area shape="rect" id="node22" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="527,284,685,311"/>
<area shape="rect" id="node23" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="733,284,820,311"/>
<area shape="rect" id="node24" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="875,183,986,209"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="868,309,993,336"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1236,183,1351,209"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1053,385,1155,412"/>
<area shape="rect" id="node28" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1231,867,1356,893"/>
<area shape="rect" id="node48" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1041,335,1167,361"/>
<area shape="rect" id="node29" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1438,385,1554,412"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1427,1095,1565,1121"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1425,1019,1567,1045"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1433,917,1559,944"/>
<area shape="rect" id="node42" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1436,867,1556,893"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1434,968,1558,995"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1423,765,1569,792"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1420,816,1572,843"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1650,563,1741,589"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1657,411,1734,437"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1650,461,1741,488"/>
<area shape="rect" id="node33" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1652,512,1739,539"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1646,1120,1745,1147"/>
<area shape="rect" id="node36" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1835,968,1935,995"/>
<area shape="rect" id="node38" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1634,1069,1757,1096"/>
<area shape="rect" id="node39" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1620,1019,1771,1045"/>
<area shape="rect" id="node41" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1832,867,1939,893"/>
<area shape="rect" id="node45" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1646,765,1745,792"/>
<area shape="rect" id="node47" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1647,816,1744,843"/>
<area shape="rect" id="node49" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1427,461,1565,488"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1634,613,1757,640"/>
</map>
</div>

</div>
</div>
<a id="aa2d7c3b5243a5c0090c3f9283939eeaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d7c3b5243a5c0090c3f9283939eeaf">&#9670;&nbsp;</a></span>swap_dirty_idx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void swap_dirty_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> **&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_aa2d7c3b5243a5c0090c3f9283939eeaf_icgraph.png" border="0" usemap="#find_8c_aa2d7c3b5243a5c0090c3f9283939eeaf_icgraph" alt=""/></div>
<map name="find_8c_aa2d7c3b5243a5c0090c3f9283939eeaf_icgraph" id="find_8c_aa2d7c3b5243a5c0090c3f9283939eeaf_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#abb183b65aeed0bc4e18681aec0ffdb5b" title="ubifs_save_dirty_idx\l_lnums" alt="" coords="163,277,304,318"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="352,284,511,311"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="559,284,645,311"/>
<area shape="rect" id="node5" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="701,221,811,248"/>
<area shape="rect" id="node11" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="693,309,819,336"/>
<area shape="rect" id="node6" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1061,183,1176,209"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1275,132,1368,159"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1259,183,1384,209"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1471,5,1580,32"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1464,56,1587,83"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="878,385,981,412"/>
<area shape="rect" id="node13" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="872,233,987,260"/>
<area shape="rect" id="node14" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1040,233,1197,260"/>
<area shape="rect" id="node23" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1056,1120,1181,1147"/>
<area shape="rect" id="node43" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="867,335,992,361"/>
<area shape="rect" id="node15" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1258,233,1385,260"/>
<area shape="rect" id="node16" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1668,664,1801,691"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1479,157,1572,184"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1484,309,1567,336"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1481,208,1570,235"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1477,259,1573,285"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1474,360,1577,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1691,968,1778,995"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1263,385,1379,412"/>
<area shape="rect" id="node29" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1253,1272,1390,1299"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1250,1323,1393,1349"/>
<area shape="rect" id="node35" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1258,1171,1385,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1261,1120,1381,1147"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1259,1221,1383,1248"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1249,968,1394,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1245,1069,1397,1096"/>
<area shape="rect" id="node25" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1480,512,1571,539"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1487,563,1564,589"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1480,411,1571,437"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1482,461,1569,488"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1476,1272,1575,1299"/>
<area shape="rect" id="node31" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1685,1221,1785,1248"/>
<area shape="rect" id="node33" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1464,1323,1587,1349"/>
<area shape="rect" id="node34" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1450,1373,1601,1400"/>
<area shape="rect" id="node36" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1472,1171,1579,1197"/>
<area shape="rect" id="node40" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1476,917,1575,944"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1477,1069,1574,1096"/>
<area shape="rect" id="node44" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1252,588,1391,615"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1464,765,1587,792"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1469,816,1582,843"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1485,867,1565,893"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1445,664,1605,691"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1679,613,1790,640"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1653,715,1816,741"/>
</map>
</div>

</div>
</div>
<a id="a9755efbbff945daa2e58b2c996976a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9755efbbff945daa2e58b2c996976a29">&#9670;&nbsp;</a></span>ubifs_find_dirty_idx_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_dirty_idx_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_dirty_idx_leb - try to find dirtiest index LEB as at last commit. <code></code>: the UBIFS file-system description object</p>
<p>This function attempts to find an untaken index LEB with the most free and dirty space that can be used without overwriting index nodes that were in the last index committed. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a9755efbbff945daa2e58b2c996976a29_cgraph.png" border="0" usemap="#find_8c_a9755efbbff945daa2e58b2c996976a29_cgraph" alt=""/></div>
<map name="find_8c_a9755efbbff945daa2e58b2c996976a29_cgraph" id="find_8c_a9755efbbff945daa2e58b2c996976a29_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="224,555,341,581"/>
<area shape="rect" id="node3" href="find_8c.html#a40d28cfea7ac2fd6ce6f3db5cb908e42" title="find_dirtiest_idx_leb" alt="" coords="214,656,351,683"/>
<area shape="rect" id="node35" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="221,605,344,632"/>
<area shape="rect" id="node48" href="find_8c.html#a173f9670c2518646a936453e0af21940" title="get_idx_gc_leb" alt="" coords="228,707,337,733"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="212,757,353,784"/>
<area shape="rect" id="node4" href="lpt_8c.html#af1c4868152bb6ea9ae7c87e7dad9cede" title="ubifs_lpt_lookup" alt="" coords="609,631,725,657"/>
<area shape="rect" id="node23" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="415,757,531,784"/>
<area shape="rect" id="node5" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="999,477,1123,504"/>
<area shape="rect" id="node13" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="806,617,923,644"/>
<area shape="rect" id="node14" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="806,719,923,745"/>
<area shape="rect" id="node6" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1391,310,1544,351"/>
<area shape="rect" id="node7" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1207,477,1314,504"/>
<area shape="rect" id="node8" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1622,376,1694,403"/>
<area shape="rect" id="node9" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1190,427,1331,453"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1206,275,1315,301"/>
<area shape="rect" id="node10" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1412,477,1523,504"/>
<area shape="rect" id="node11" href="lpt_8c.html#af769280c22d887914ee95e9c2e4cc7de" title="ubifs_unpack_bits" alt="" coords="1595,528,1721,555"/>
<area shape="rect" id="node15" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="1016,719,1105,745"/>
<area shape="rect" id="node21" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1014,820,1107,847"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1391,622,1544,663"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1388,832,1547,859"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1207,781,1314,808"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1206,629,1315,656"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1202,680,1319,707"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1200,1035,1321,1061"/>
<area shape="rect" id="node24" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="614,757,721,784"/>
<area shape="rect" id="node25" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="593,707,741,733"/>
<area shape="rect" id="node31" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="611,808,724,835"/>
<area shape="rect" id="node32" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="1000,1035,1121,1061"/>
<area shape="rect" id="node26" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="805,820,925,847"/>
<area shape="rect" id="node28" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="805,921,925,948"/>
<area shape="rect" id="node27" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="988,871,1133,897"/>
<area shape="rect" id="node29" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="1005,972,1116,999"/>
<area shape="rect" id="node30" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="1013,921,1109,948"/>
<area shape="rect" id="node33" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1204,1136,1317,1163"/>
<area shape="rect" id="node34" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1181,984,1340,1011"/>
<area shape="rect" id="node36" href="find_8c.html#a98d2bc7732900fffd37f45fbd8d47eec" title="scan_dirty_idx_cb" alt="" coords="410,555,537,581"/>
<area shape="rect" id="node38" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="789,484,940,511"/>
<area shape="rect" id="node37" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="632,555,703,581"/>
<area shape="rect" id="node39" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="1002,427,1119,453"/>
<area shape="rect" id="node40" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="1002,579,1119,605"/>
<area shape="rect" id="node41" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="1000,769,1121,796"/>
<area shape="rect" id="node42" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="1187,173,1335,200"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1202,81,1319,108"/>
<area shape="rect" id="node43" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1402,107,1533,133"/>
<area shape="rect" id="node44" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1407,157,1527,184"/>
<area shape="rect" id="node45" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1411,208,1524,235"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1409,5,1525,32"/>
<area shape="rect" id="node49" href="ubifs_2gc_8c.html#a2e83b83738924a4b92576798c5409df2" title="ubifs_get_idx_gc_leb" alt="" coords="401,808,545,835"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a9755efbbff945daa2e58b2c996976a29_icgraph.png" border="0" usemap="#find_8c_a9755efbbff945daa2e58b2c996976a29_icgraph" alt=""/></div>
<map name="find_8c_a9755efbbff945daa2e58b2c996976a29_icgraph" id="find_8c_a9755efbbff945daa2e58b2c996976a29_icgraph">
<area shape="rect" id="node2" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="212,233,345,260"/>
<area shape="rect" id="node3" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="393,233,503,260"/>
<area shape="rect" id="node4" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="551,233,657,260"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="705,233,864,260"/>
<area shape="rect" id="node6" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="912,233,999,260"/>
<area shape="rect" id="node7" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="1054,171,1165,197"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="1047,259,1172,285"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1415,107,1529,133"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1628,56,1721,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1612,107,1737,133"/>
<area shape="rect" id="node10" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1824,5,1933,32"/>
<area shape="rect" id="node12" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1817,56,1940,83"/>
<area shape="rect" id="node14" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="1231,335,1334,361"/>
<area shape="rect" id="node15" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="1225,233,1340,260"/>
<area shape="rect" id="node16" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1393,183,1551,209"/>
<area shape="rect" id="node25" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1409,309,1535,336"/>
<area shape="rect" id="node45" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1220,487,1345,513"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1611,461,1738,488"/>
<area shape="rect" id="node18" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="2007,613,2140,640"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1832,563,1925,589"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1837,411,1920,437"/>
<area shape="rect" id="node22" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1834,613,1923,640"/>
<area shape="rect" id="node23" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1831,461,1927,488"/>
<area shape="rect" id="node24" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1827,512,1930,539"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="2030,917,2117,944"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1617,588,1733,615"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1606,157,1743,184"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1603,208,1746,235"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1611,309,1738,336"/>
<area shape="rect" id="node39" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1615,1228,1735,1255"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1613,259,1737,285"/>
<area shape="rect" id="node41" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1602,1155,1747,1181"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1599,1016,1751,1043"/>
<area shape="rect" id="node27" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1833,765,1924,792"/>
<area shape="rect" id="node28" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1840,816,1917,843"/>
<area shape="rect" id="node29" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1833,664,1924,691"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1835,715,1922,741"/>
<area shape="rect" id="node32" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1829,107,1928,133"/>
<area shape="rect" id="node33" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="2023,259,2123,285"/>
<area shape="rect" id="node35" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1817,208,1940,235"/>
<area shape="rect" id="node36" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1803,157,1954,184"/>
<area shape="rect" id="node38" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1825,309,1932,336"/>
<area shape="rect" id="node42" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1829,1221,1928,1248"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1830,1171,1927,1197"/>
<area shape="rect" id="node46" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1605,788,1744,815"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1817,1069,1940,1096"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1822,1120,1935,1147"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1839,968,1919,995"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1799,1019,1959,1045"/>
</map>
</div>

</div>
</div>
<a id="aa0e0f58e74f915d84712f6a1367b75d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e0f58e74f915d84712f6a1367b75d0">&#9670;&nbsp;</a></span>ubifs_find_dirty_leb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_dirty_leb </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>ret_lp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pick_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_dirty_leb - find a dirty LEB for the Garbage Collector. <code></code>: the UBIFS file-system description object : LEB properties are returned here on exit : minimum amount free plus dirty space the returned LEB has to have : controls whether it is OK to pick empty or index LEBs</p>
<p>This function tries to find a dirty logical eraseblock which has at least  free and dirty space. It prefers to take an LEB from the dirty or dirty index heap, and it falls-back to LPT scanning if the heaps are empty or do not have an LEB which satisfies the  criteria.</p>
<p>Note, LEBs which have less than dead watermark of free + dirty space are never picked by this function.</p>
<p>The additional  argument controls if this function has to return a free or freeable LEB if one is present. For example, GC must to set it to %1, when called from the journal space reservation function, because the appearance of free space may coincide with the loss of enough dirty space for GC to succeed anyway.</p>
<p>In contrast, if the Garbage Collector is called from budgeting, it should just make free space, not return LEBs which are already free or freeable.</p>
<p>In addition  is set to %2 by the recovery process in order to recover gc_lnum in which case an index LEB must not be returned.</p>
<p>This function returns zero and the LEB properties of found dirty LEB in case of success, %-ENOSPC if no dirty LEB was found and a negative error code in case of other failures. The returned LEB is marked as "taken". </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_aa0e0f58e74f915d84712f6a1367b75d0_cgraph.png" border="0" usemap="#find_8c_aa0e0f58e74f915d84712f6a1367b75d0_cgraph" alt=""/></div>
<map name="find_8c_aa0e0f58e74f915d84712f6a1367b75d0_cgraph" id="find_8c_aa0e0f58e74f915d84712f6a1367b75d0_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="209,661,327,688"/>
<area shape="rect" id="node3" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="193,712,343,739"/>
<area shape="rect" id="node4" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="188,763,348,789"/>
<area shape="rect" id="node5" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="216,813,320,840"/>
<area shape="rect" id="node46" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="210,889,326,916"/>
<area shape="rect" id="node50" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="197,940,339,967"/>
<area shape="rect" id="node6" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="592,588,743,615"/>
<area shape="rect" id="node35" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7" title="scan_for_dirty_cb" alt="" coords="407,599,533,625"/>
<area shape="rect" id="node37" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="396,813,544,840"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="801,436,925,463"/>
<area shape="rect" id="node14" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="805,309,922,336"/>
<area shape="rect" id="node15" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="805,588,922,615"/>
<area shape="rect" id="node21" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="803,747,924,773"/>
<area shape="rect" id="node28" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="817,797,910,824"/>
<area shape="rect" id="node29" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="989,107,1137,133"/>
<area shape="rect" id="node33" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="1005,157,1122,184"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1193,310,1347,351"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1010,461,1117,488"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1420,411,1492,437"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="993,309,1134,336"/>
<area shape="rect" id="node13" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1009,259,1118,285"/>
<area shape="rect" id="node12" href="lpt_8c.html#a96436eaf7459ebef6525d09761a38d2c" title="check_lpt_type" alt="" coords="1215,461,1325,488"/>
<area shape="rect" id="node16" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1193,606,1347,647"/>
<area shape="rect" id="node17" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1191,816,1349,843"/>
<area shape="rect" id="node18" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1010,664,1117,691"/>
<area shape="rect" id="node19" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1009,613,1118,640"/>
<area shape="rect" id="node20" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1005,715,1122,741"/>
<area shape="rect" id="node22" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="984,1019,1143,1045"/>
<area shape="rect" id="node26" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1003,968,1124,995"/>
<area shape="rect" id="node23" href="lprops_8c.html#a94e67294df31694767c10db81d4fbd47" title="remove_from_lpt_heap" alt="" coords="1193,1019,1347,1045"/>
<area shape="rect" id="node24" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1399,1019,1513,1045"/>
<area shape="rect" id="node25" href="lprops_8c.html#ad0f7bf66835597d0e8e171b0c91b57be" title="get_heap_comp_val" alt="" coords="1563,993,1701,1020"/>
<area shape="rect" id="node27" href="lprops_8c.html#afab6b8531eed73f29803f3f00ecb646e" title="add_to_lpt_heap" alt="" coords="1397,968,1515,995"/>
<area shape="rect" id="node30" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1205,157,1335,184"/>
<area shape="rect" id="node31" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1210,5,1330,32"/>
<area shape="rect" id="node32" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1213,107,1327,133"/>
<area shape="rect" id="node34" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1212,208,1328,235"/>
<area shape="rect" id="node36" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="632,537,703,564"/>
<area shape="rect" id="node38" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="607,889,727,916"/>
<area shape="rect" id="node40" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="609,651,726,677"/>
<area shape="rect" id="node41" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="609,788,726,815"/>
<area shape="rect" id="node43" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="607,839,727,865"/>
<area shape="rect" id="node39" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="791,949,936,976"/>
<area shape="rect" id="node42" href="lpt_8c.html#a1e838b76fdfdb8c75cbd35ed51bad53c" title="read_pnode" alt="" coords="819,696,908,723"/>
<area shape="rect" id="node44" href="lpt_8c.html#a0e19e0a4226ca2a2502accf8a120c9fd" title="add_pnode_dirt" alt="" coords="808,848,919,875"/>
<area shape="rect" id="node45" href="lpt_8c.html#a1c3d339c703cc7819cf15ac8fbd2c911" title="replace_cats" alt="" coords="815,899,911,925"/>
<area shape="rect" id="node47" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="417,1041,523,1068"/>
<area shape="rect" id="node48" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="413,991,527,1017"/>
<area shape="rect" id="node49" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="803,1019,924,1045"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_aa0e0f58e74f915d84712f6a1367b75d0_icgraph.png" border="0" usemap="#find_8c_aa0e0f58e74f915d84712f6a1367b75d0_icgraph" alt=""/></div>
<map name="find_8c_aa0e0f58e74f915d84712f6a1367b75d0_icgraph" id="find_8c_aa0e0f58e74f915d84712f6a1367b75d0_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="188,774,336,800"/>
<area shape="rect" id="node44" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="539,1255,696,1282"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="384,470,491,496"/>
<area shape="rect" id="node34" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="407,774,468,800"/>
<area shape="rect" id="node4" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="555,242,680,268"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="762,1027,878,1054"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="751,140,889,167"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="749,90,891,116"/>
<area shape="rect" id="node24" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="757,191,883,218"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="760,368,880,395"/>
<area shape="rect" id="node27" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="758,14,882,40"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="747,482,893,508"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="744,242,896,268"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="979,850,1069,876"/>
<area shape="rect" id="node7" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="977,1052,1071,1079"/>
<area shape="rect" id="node8" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="983,1204,1065,1231"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="985,900,1063,927"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="979,1002,1069,1028"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="981,951,1067,978"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="979,1103,1069,1130"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="976,1154,1072,1180"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="973,1255,1075,1282"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1185,1204,1281,1231"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1190,596,1277,623"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1363,419,1463,446"/>
<area shape="rect" id="node19" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="975,140,1073,167"/>
<area shape="rect" id="node20" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1183,140,1283,167"/>
<area shape="rect" id="node22" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="963,90,1085,116"/>
<area shape="rect" id="node23" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="949,39,1099,66"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1180,242,1287,268"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="975,546,1073,572"/>
<area shape="rect" id="node30" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1167,1280,1300,1307"/>
<area shape="rect" id="node31" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1376,1280,1449,1307"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="975,242,1073,268"/>
<area shape="rect" id="node35" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="555,774,680,800"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="751,774,889,800"/>
<area shape="rect" id="node37" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="963,596,1085,623"/>
<area shape="rect" id="node38" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="967,647,1081,674"/>
<area shape="rect" id="node39" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="984,698,1064,724"/>
<area shape="rect" id="node40" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="944,394,1104,420"/>
<area shape="rect" id="node41" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1178,343,1289,370"/>
<area shape="rect" id="node42" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1152,444,1315,471"/>
<area shape="rect" id="node43" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="990,799,1058,826"/>
<area shape="rect" id="node45" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="773,1306,867,1332"/>
<area shape="rect" id="node48" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="757,1382,883,1408"/>
<area shape="rect" id="node50" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="757,1204,883,1231"/>
<area shape="rect" id="node46" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="969,1356,1079,1383"/>
<area shape="rect" id="node47" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1187,1356,1280,1383"/>
<area shape="rect" id="node49" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="963,1407,1085,1434"/>
</map>
</div>

</div>
</div>
<a id="a5dbeb2fbcdd3403f15e5d6ce214edcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbeb2fbcdd3403f15e5d6ce214edcf9">&#9670;&nbsp;</a></span>ubifs_find_free_leb_for_idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_free_leb_for_idx </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_free_leb_for_idx - find a free LEB for the index. <code></code>: the UBIFS file-system description object</p>
<p>This function looks for a free LEB and returns that LEB number. The returned LEB is marked as "taken", "index".</p>
<p>Only empty LEBs are allocated. This is for two reasons. First, the commit calculates the number of LEBs to allocate based on the assumption that they will be empty. Secondly, free space at the end of an index LEB is not guaranteed to be empty because it may have been used by the in-the-gaps method prior to an unclean unmount.</p>
<p>If no LEB is found %-ENOSPC is returned. For other failures another negative error code is returned. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph.png" border="0" usemap="#find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph" alt=""/></div>
<map name="find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph" id="find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="405,956,522,983"/>
<area shape="rect" id="node3" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="189,804,339,831"/>
<area shape="rect" id="node4" href="lprops_8c.html#af4f3f200dc1d36660281ec0282293308" title="ubifs_fast_find_freeable" alt="" coords="184,855,344,881"/>
<area shape="rect" id="node5" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="392,753,535,780"/>
<area shape="rect" id="node37" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="405,691,521,717"/>
<area shape="rect" id="node42" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="393,1120,534,1147"/>
<area shape="rect" id="node43" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="403,1171,523,1197"/>
<area shape="rect" id="node50" href="lprops_8c.html#aeb3c0f6274cdeba0c778d57f29ab39bf" title="ubifs_change_one_lp" alt="" coords="192,1007,336,1033"/>
<area shape="rect" id="node6" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="779,569,929,596"/>
<area shape="rect" id="node30" href="find_8c.html#a729b477660fd27cb7248516da9c558e1" title="scan_for_idx_cb" alt="" coords="598,797,715,824"/>
<area shape="rect" id="node32" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="583,721,731,748"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="989,696,1113,723"/>
<area shape="rect" id="node13" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="993,569,1110,596"/>
<area shape="rect" id="node14" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="993,411,1110,437"/>
<area shape="rect" id="node20" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="991,208,1112,235"/>
<area shape="rect" id="node23" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="1005,157,1098,184"/>
<area shape="rect" id="node24" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="977,867,1125,893"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="993,1019,1110,1045"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1383,606,1536,647"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1199,563,1306,589"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1423,917,1495,944"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="1182,664,1323,691"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1198,613,1307,640"/>
<area shape="rect" id="node15" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1383,378,1536,419"/>
<area shape="rect" id="node16" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1380,233,1539,260"/>
<area shape="rect" id="node17" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1199,259,1306,285"/>
<area shape="rect" id="node18" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1198,360,1307,387"/>
<area shape="rect" id="node19" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1194,461,1311,488"/>
<area shape="rect" id="node21" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="1173,157,1332,184"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1192,107,1313,133"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="1187,968,1318,995"/>
<area shape="rect" id="node26" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1193,867,1313,893"/>
<area shape="rect" id="node27" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1196,816,1309,843"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1195,1019,1311,1045"/>
<area shape="rect" id="node31" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="819,823,889,849"/>
<area shape="rect" id="node33" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="794,620,914,647"/>
<area shape="rect" id="node34" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="795,772,913,799"/>
<area shape="rect" id="node35" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="795,519,913,545"/>
<area shape="rect" id="node36" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="794,671,914,697"/>
<area shape="rect" id="node38" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="603,620,710,647"/>
<area shape="rect" id="node39" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="600,417,713,444"/>
<area shape="rect" id="node40" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="991,107,1112,133"/>
<area shape="rect" id="node41" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1196,5,1309,32"/>
<area shape="rect" id="node44" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="992,1233,1111,1260"/>
<area shape="rect" id="node45" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="600,1120,713,1147"/>
<area shape="rect" id="node49" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="603,1323,710,1349"/>
<area shape="rect" id="node46" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="791,1120,917,1147"/>
<area shape="rect" id="node47" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="783,1221,925,1248"/>
<area shape="rect" id="node48" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="1009,1309,1094,1336"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph.png" border="0" usemap="#find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph" alt=""/></div>
<map name="find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph" id="find_8c_a5dbeb2fbcdd3403f15e5d6ce214edcf9_icgraph">
<area shape="rect" id="node2" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="856,233,971,260"/>
<area shape="rect" id="node20" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="184,284,288,311"/>
<area shape="rect" id="node3" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1024,233,1181,260"/>
<area shape="rect" id="node4" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1259,132,1352,159"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1243,183,1368,209"/>
<area shape="rect" id="node9" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1242,233,1369,260"/>
<area shape="rect" id="node5" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1450,5,1559,32"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1648,5,1741,32"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1443,56,1566,83"/>
<area shape="rect" id="node10" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1628,715,1761,741"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1458,259,1551,285"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1463,360,1546,387"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1460,309,1549,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1457,157,1553,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1453,208,1556,235"/>
<area shape="rect" id="node11" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1823,715,1896,741"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1647,360,1743,387"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1651,765,1738,792"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1809,828,1909,855"/>
<area shape="rect" id="node21" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="336,284,495,311"/>
<area shape="rect" id="node22" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="543,284,629,311"/>
<area shape="rect" id="node23" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="685,284,795,311"/>
<area shape="rect" id="node25" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="677,335,803,361"/>
<area shape="rect" id="node24" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="1045,183,1160,209"/>
<area shape="rect" id="node26" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="862,436,965,463"/>
<area shape="rect" id="node27" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1040,917,1165,944"/>
<area shape="rect" id="node47" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="851,335,976,361"/>
<area shape="rect" id="node28" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1247,385,1363,412"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1237,1145,1374,1172"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1234,1069,1377,1096"/>
<area shape="rect" id="node39" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1242,968,1369,995"/>
<area shape="rect" id="node41" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1245,917,1365,944"/>
<area shape="rect" id="node42" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1243,1019,1367,1045"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1233,765,1378,792"/>
<area shape="rect" id="node45" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1229,867,1381,893"/>
<area shape="rect" id="node29" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1459,563,1550,589"/>
<area shape="rect" id="node30" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1466,411,1543,437"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1459,461,1550,488"/>
<area shape="rect" id="node32" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1461,512,1548,539"/>
<area shape="rect" id="node34" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1455,1171,1554,1197"/>
<area shape="rect" id="node35" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1645,1019,1745,1045"/>
<area shape="rect" id="node37" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1443,1069,1566,1096"/>
<area shape="rect" id="node38" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1429,1120,1580,1147"/>
<area shape="rect" id="node40" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1641,892,1748,919"/>
<area shape="rect" id="node44" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1455,715,1554,741"/>
<area shape="rect" id="node46" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1456,867,1553,893"/>
<area shape="rect" id="node48" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1236,487,1375,513"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1443,664,1566,691"/>
<area shape="rect" id="node50" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1448,613,1561,640"/>
</map>
</div>

</div>
</div>
<a id="a1f03e32ffa32d28279f1eaf0f81c4a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f03e32ffa32d28279f1eaf0f81c4a5f">&#9670;&nbsp;</a></span>ubifs_find_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_find_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>squeeze</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_find_free_space - find a data LEB with free space. <code></code>: the UBIFS file-system description object : minimum amount of required free space : contains offset of where free space starts on exit : whether to try to find space in a non-empty LEB first</p>
<p>This function looks for an LEB with at least  bytes of free space. It tries to find an empty LEB if possible. If no empty LEBs are available, this function searches for a non-empty data LEB. The returned LEB is marked as "taken".</p>
<p>This function returns found LEB number in case of success, %-ENOSPC if it failed to find a LEB with  bytes of free space and other a negative error codes in case of failure. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph.png" border="0" usemap="#find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph" alt=""/></div>
<map name="find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph" id="find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="215,622,332,649"/>
<area shape="rect" id="node3" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="206,673,341,700"/>
<area shape="rect" id="node38" href="lprops_8c.html#abfc4c6a75b37762f214cbc91f0ebe664" title="ubifs_change_lp" alt="" coords="215,774,331,801"/>
<area shape="rect" id="node43" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="203,825,344,852"/>
<area shape="rect" id="node44" href="ubifs_2io_8c.html#ad9d3a62a61d21e1faa60cd6e630c41ac" title="ubifs_leb_unmap" alt="" coords="213,1154,333,1181"/>
<area shape="rect" id="node4" href="lprops_8c.html#a9f9c5f51e3eec037783db8eb0477b5cc" title="ubifs_fast_find_free" alt="" coords="399,521,535,548"/>
<area shape="rect" id="node5" href="lprops_8c.html#af7bb5628372135952187c4c37b9a0a68" title="ubifs_fast_find_empty" alt="" coords="392,572,543,598"/>
<area shape="rect" id="node6" href="lpt_8c.html#a34800df1b6052b492ca05c589dfec386" title="ubifs_lpt_scan_nolock" alt="" coords="591,673,741,700"/>
<area shape="rect" id="node30" href="find_8c.html#a131c924a527c1d77bc20a4ebbcf83f03" title="scan_for_free_cb" alt="" coords="406,622,529,649"/>
<area shape="rect" id="node32" href="lpt_8c.html#ade4e71b1fffa493cfb997feaff2c0638" title="ubifs_lpt_lookup_dirty" alt="" coords="393,724,541,750"/>
<area shape="rect" id="node7" href="lpt_8c.html#a6d9ea5f42b955fdb68064bc37bd9540d" title="ubifs_read_nnode" alt="" coords="801,470,925,497"/>
<area shape="rect" id="node13" href="lpt_8c.html#af47bb0ff8b216699052f86ee1b165be3" title="scan_get_nnode" alt="" coords="805,344,922,370"/>
<area shape="rect" id="node14" href="lpt_8c.html#abfbc6c90536c2d37859a5f26cf67f7c3" title="scan_get_pnode" alt="" coords="805,141,922,168"/>
<area shape="rect" id="node20" href="lprops_8c.html#a37b315dc45919358339f018bbab084b8" title="ubifs_ensure_cat" alt="" coords="803,724,924,750"/>
<area shape="rect" id="node23" href="lpt_8c.html#a50862af12cdded0c2e3be8cea516be8e" title="update_cats" alt="" coords="817,774,910,801"/>
<area shape="rect" id="node24" href="lpt_8c.html#a9941cb0ea2abb61e89ac3f6e3076eab5" title="dbg_check_lpt_nodes" alt="" coords="789,673,937,700"/>
<area shape="rect" id="node28" href="ubifs_2debug_8h.html#a4d24d720745a25e26d273dc892c703eb" title="dbg_check_cats" alt="" coords="805,876,922,902"/>
<area shape="rect" id="node8" href="lpt_8c.html#a9f9e5388fe8c2966b4517e0b243b9ce6" title="calc_nnode_num_from\l_parent" alt="" coords="1195,336,1348,378"/>
<area shape="rect" id="node9" href="ubifs_2io_8c.html#ab6a2a3c4a79d6d4c52350540437d3cb3" title="ubifs_leb_read" alt="" coords="1011,293,1118,320"/>
<area shape="rect" id="node10" href="ubifs_2misc_8c.html#af5ba8850d81aacf8102c272d5cf47550" title="ubifs_err" alt="" coords="1235,661,1307,688"/>
<area shape="rect" id="node11" href="lpt_8c.html#a0d29b2eba67308c09e6c7e05ad2b63b1" title="ubifs_unpack_nnode" alt="" coords="994,394,1135,421"/>
<area shape="rect" id="node12" href="lpt_8c.html#ad905cc71245ecfb3152a844c581d3e12" title="validate_nnode" alt="" coords="1010,344,1119,370"/>
<area shape="rect" id="node15" href="lpt_8c.html#afaa9919aea45f990f706d5a19a7de403" title="calc_pnode_num_from\l_parent" alt="" coords="1195,7,1348,48"/>
<area shape="rect" id="node16" href="lprops_8c.html#a7a2c9edc0537908ba98fe9a7ab5659d8" title="ubifs_categorize_lprops" alt="" coords="1192,585,1351,612"/>
<area shape="rect" id="node17" href="lpt_8c.html#a7d13c8b402e5a787d5f689a01f01725d" title="unpack_pnode" alt="" coords="1011,90,1118,117"/>
<area shape="rect" id="node18" href="lpt_8c.html#aa9b770e270a9dd0d3fa430bcca3eb9b1" title="validate_pnode" alt="" coords="1010,40,1119,66"/>
<area shape="rect" id="node19" href="lpt_8c.html#a60013b08dd0072dd2a70f499427a67d0" title="set_pnode_lnum" alt="" coords="1006,141,1123,168"/>
<area shape="rect" id="node21" href="lprops_8c.html#a88d9d4b260ebb86abbc16675b951f2c1" title="ubifs_remove_from_cat" alt="" coords="985,850,1144,877"/>
<area shape="rect" id="node22" href="lprops_8c.html#a664f531f8332b3c53d93e25c4e688e09" title="ubifs_add_to_cat" alt="" coords="1004,800,1125,826"/>
<area shape="rect" id="node25" href="ubifs_2debug_8h.html#ab66d4ac998d5cd15774f5a22d366e1f1" title="dbg_is_chk_lprops" alt="" coords="999,749,1130,776"/>
<area shape="rect" id="node26" href="lpt_8c.html#ac83cbadb13b2425b8928e931848faf33" title="calc_nnode_num" alt="" coords="1005,546,1125,573"/>
<area shape="rect" id="node27" href="lpt_8c.html#ad5039619e4b51ac46661b62f282206ce" title="dbg_chk_pnode" alt="" coords="1008,648,1121,674"/>
<area shape="rect" id="node29" href="ubifs_2debug_8h.html#ad9c4d68015fb8802b1553a53880d43cc" title="dbg_is_chk_gen" alt="" coords="1007,901,1123,928"/>
<area shape="rect" id="node31" href="find_8c.html#a2303bab7a34c9ea495ff055cb06db596" title="valuable" alt="" coords="631,521,701,548"/>
<area shape="rect" id="node33" href="lpt_8c.html#accd7155d1f9997fb5e6a7fd577fdc0f2" title="dirty_cow_nnode" alt="" coords="606,825,726,852"/>
<area shape="rect" id="node35" href="lpt_8c.html#a7fd536e4a29b47a6485fc3931f91857b" title="ubifs_get_nnode" alt="" coords="607,622,725,649"/>
<area shape="rect" id="node36" href="lpt_8c.html#ad8f891756dae6c6dceeb51fb917b023b" title="ubifs_get_pnode" alt="" coords="607,774,725,801"/>
<area shape="rect" id="node37" href="lpt_8c.html#ac60e8c2b5dbc5ab11045f313bcc441a0" title="dirty_cow_pnode" alt="" coords="606,724,726,750"/>
<area shape="rect" id="node34" href="lpt_8c.html#af853639d65479e588832f7abbc932bea" title="ubifs_add_nnode_dirt" alt="" coords="791,825,936,852"/>
<area shape="rect" id="node39" href="lprops_8c.html#a911df1bb1dc58cf096c97ce547539153" title="is_lprops_dirty" alt="" coords="414,774,521,801"/>
<area shape="rect" id="node40" href="lprops_8c.html#a54fa4acd96a49b1bbe2baeac4dbd0c0b" title="ubifs_calc_dark" alt="" coords="411,825,524,852"/>
<area shape="rect" id="node41" href="lprops_8c.html#a2f083caeaebac06c1f51d7c7d34f5c13" title="change_category" alt="" coords="803,926,924,953"/>
<area shape="rect" id="node42" href="lprops_8c.html#a1b58cb9915dbbdf9ac60e7a1369d05ab" title="adjust_lpt_heap" alt="" coords="1008,1053,1121,1080"/>
<area shape="rect" id="node45" href="ubifs_2debug_8h.html#ac281738ca65301217af22a7a7b37c25b" title="dbg_is_tst_rcvry" alt="" coords="804,1205,923,1232"/>
<area shape="rect" id="node46" href="ubifs_2debug_8c.html#a6ba17156289f8b8ecaed40dbafc04858" title="dbg_leb_unmap" alt="" coords="411,1154,524,1181"/>
<area shape="rect" id="node50" href="ubifs_2io_8c.html#a0674f14e3d6ab28a6de41c44eeb85797" title="ubifs_ro_mode" alt="" coords="414,1281,521,1308"/>
<area shape="rect" id="node47" href="ubifs_2debug_8h.html#ab599356d6c84ddd2c7b9001b452c30bd" title="dbg_is_power_cut" alt="" coords="603,1002,729,1029"/>
<area shape="rect" id="node48" href="ubifs_2debug_8c.html#a67b6fc23cfbf882431d33323a03ef74c" title="power_cut_emulated" alt="" coords="595,1256,737,1282"/>
<area shape="rect" id="node49" href="ubifs_2misc_8c.html#ac942d216b2a4c5475393c0506b23c862" title="ubifs_warn" alt="" coords="821,1281,906,1308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph.png" border="0" usemap="#find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph" alt=""/></div>
<map name="find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph" id="find_8c_a1f03e32ffa32d28279f1eaf0f81c4a5f_icgraph">
<area shape="rect" id="node2" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="203,588,309,615"/>
<area shape="rect" id="node3" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="357,588,483,615"/>
<area shape="rect" id="node4" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="549,335,665,361"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="538,664,675,691"/>
<area shape="rect" id="node26" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="535,765,678,792"/>
<area shape="rect" id="node30" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="543,613,670,640"/>
<area shape="rect" id="node32" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="547,563,667,589"/>
<area shape="rect" id="node33" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="545,715,669,741"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="534,63,679,89"/>
<area shape="rect" id="node36" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="531,171,683,197"/>
<area shape="rect" id="node5" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="761,107,851,133"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="759,157,853,184"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="765,461,847,488"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="767,208,845,235"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="761,259,851,285"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="763,309,849,336"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="761,360,851,387"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="758,411,854,437"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="755,512,857,539"/>
<area shape="rect" id="node6" href="ubifs_2xattr_8c.html#a2c0f8e28d408b8e89b4ce7d6047af912" title="ubifs_xattr_set" alt="" coords="937,56,1045,83"/>
<area shape="rect" id="node7" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1114,5,1247,32"/>
<area shape="rect" id="node8" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1309,31,1383,57"/>
<area shape="rect" id="node9" href="ubifs_2crypto_8c.html#a4984848c1f6ebc630f98d30a9bbf2ed3" title="ubifs_crypt_set_context" alt="" coords="1100,107,1261,133"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="943,461,1039,488"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="947,563,1034,589"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#a694f37c0038586c58b4a2cfeab67d496" title="ubifs_rename" alt="" coords="1131,588,1231,615"/>
<area shape="rect" id="node22" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="757,664,855,691"/>
<area shape="rect" id="node23" href="ubifs_2file_8c.html#a2ad22c013a0dccfd9f49e114ed89dfa6" title="ubifs_writepage" alt="" coords="934,664,1047,691"/>
<area shape="rect" id="node24" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="941,715,1041,741"/>
<area shape="rect" id="node25" href="ubifs_8h.html#aaebf1c80e366c0f2702f58b91d7a9d38" title="ubifs_setattr" alt="" coords="1133,715,1228,741"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="745,816,867,843"/>
<area shape="rect" id="node28" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="731,765,881,792"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a063c51fb658c01f325e4a0744d2f28ce" title="ubifs_evict_inode" alt="" coords="929,765,1052,792"/>
<area shape="rect" id="node31" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="937,613,1044,640"/>
<area shape="rect" id="node35" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="941,5,1040,32"/>
<area shape="rect" id="node37" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="757,56,855,83"/>
</map>
</div>

</div>
</div>
<a id="abb183b65aeed0bc4e18681aec0ffdb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb183b65aeed0bc4e18681aec0ffdb5b">&#9670;&nbsp;</a></span>ubifs_save_dirty_idx_lnums()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ubifs_save_dirty_idx_lnums </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ubifs_save_dirty_idx_lnums - save an array of the most dirty index LEB nos. <code></code>: the UBIFS file-system description object</p>
<p>This function is called each commit to create an array of LEB numbers of dirty index LEBs sorted in order of dirty and free space. This is used by the in-the-gaps method of TNC commit. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph.png" border="0" usemap="#find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph" alt=""/></div>
<map name="find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph" id="find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_cgraph">
<area shape="rect" id="node2" href="misc_8h.html#aa89c2768eb94f129c6afbe47420b44ba" title="ubifs_get_lprops" alt="" coords="207,5,324,32"/>
<area shape="rect" id="node3" href="find_8c.html#a3e29c87a698697582a0330af8bf8ebef" title="cmp_dirty_idx" alt="" coords="214,56,317,83"/>
<area shape="rect" id="node4" href="find_8c.html#aa2d7c3b5243a5c0090c3f9283939eeaf" title="swap_dirty_idx" alt="" coords="211,107,320,133"/>
<area shape="rect" id="node5" href="misc_8h.html#a6dce2c34ec97d74cf4be59e0201bdb3e" title="ubifs_release_lprops" alt="" coords="195,157,336,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph.png" border="0" usemap="#find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph" alt=""/></div>
<map name="find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph" id="find_8c_abb183b65aeed0bc4e18681aec0ffdb5b_icgraph">
<area shape="rect" id="node2" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="195,247,353,273"/>
<area shape="rect" id="node3" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="401,247,488,273"/>
<area shape="rect" id="node4" href="ubifs_2commit_8c.html#a91c88ecee0c3d4a55bbe6669a0caa521" title="run_bg_commit" alt="" coords="543,184,654,211"/>
<area shape="rect" id="node10" href="ubifs_8h.html#ae4c760f55879f81abc758f058e481834" title="ubifs_run_commit" alt="" coords="536,272,661,299"/>
<area shape="rect" id="node5" href="ubifs_8h.html#ad1d2abb94e9ca171f253ba64fdbf7aa6" title="ubifs_bg_thread" alt="" coords="904,145,1019,172"/>
<area shape="rect" id="node6" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1117,120,1211,147"/>
<area shape="rect" id="node8" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1101,171,1227,197"/>
<area shape="rect" id="node7" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1313,5,1423,32"/>
<area shape="rect" id="node9" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1307,56,1429,83"/>
<area shape="rect" id="node11" href="ubifs_2super_8c.html#a5f9c4c32c42dc338c1b84b87b7098105" title="ubifs_sync_fs" alt="" coords="721,196,823,223"/>
<area shape="rect" id="node12" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="715,297,829,324"/>
<area shape="rect" id="node13" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="883,233,1040,260"/>
<area shape="rect" id="node22" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="899,1171,1024,1197"/>
<area shape="rect" id="node42" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="709,399,835,425"/>
<area shape="rect" id="node14" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1101,233,1227,260"/>
<area shape="rect" id="node15" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1511,436,1644,463"/>
<area shape="rect" id="node16" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1321,208,1415,235"/>
<area shape="rect" id="node17" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1327,157,1409,184"/>
<area shape="rect" id="node19" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1323,259,1413,285"/>
<area shape="rect" id="node20" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1320,309,1416,336"/>
<area shape="rect" id="node21" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1317,360,1419,387"/>
<area shape="rect" id="node18" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1534,816,1621,843"/>
<area shape="rect" id="node23" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1106,385,1222,412"/>
<area shape="rect" id="node28" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1095,1412,1233,1439"/>
<area shape="rect" id="node31" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1093,1272,1235,1299"/>
<area shape="rect" id="node34" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1101,1348,1227,1375"/>
<area shape="rect" id="node36" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1104,1171,1224,1197"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1102,1221,1226,1248"/>
<area shape="rect" id="node38" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1091,968,1237,995"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1088,1120,1240,1147"/>
<area shape="rect" id="node24" href="ubifs_2xattr_8c.html#a227139173e6acd4afdc79e7dab0f6637" title="create_xattr" alt="" coords="1323,411,1413,437"/>
<area shape="rect" id="node25" href="ubifs_2dir_8c.html#a1cda05627be9233d31b7eaec35155e26" title="ubifs_link" alt="" coords="1329,461,1407,488"/>
<area shape="rect" id="node26" href="ubifs_2dir_8c.html#a62ee7ccc82e083cbee42ccf01d20a652" title="ubifs_unlink" alt="" coords="1323,512,1413,539"/>
<area shape="rect" id="node27" href="ubifs_2dir_8c.html#af7ee7825efe7887ff626f7018547333f" title="ubifs_rmdir" alt="" coords="1325,563,1411,589"/>
<area shape="rect" id="node29" href="ubifs_2file_8c.html#a7963591329617b7ba84af562f9193522" title="do_writepage" alt="" coords="1319,1424,1417,1451"/>
<area shape="rect" id="node30" href="ubifs_2file_8c.html#a6a28fab460199df7505989ced9674cdc" title="do_truncation" alt="" coords="1527,1221,1627,1248"/>
<area shape="rect" id="node32" href="ubifs_2super_8c.html#a43fe8315ecd278321ca9b40ad881d97c" title="ubifs_write_inode" alt="" coords="1307,1323,1429,1349"/>
<area shape="rect" id="node33" href="ubifs_8h.html#aae33ce80e24113a8224187cb917d0c09" title="ubifs_jnl_delete_inode" alt="" coords="1293,1272,1443,1299"/>
<area shape="rect" id="node35" href="ubifs_2dir_8c.html#ae23dceb04d7c1e26e2a774de2a6fb458" title="ubifs_xrename" alt="" coords="1315,1373,1421,1400"/>
<area shape="rect" id="node39" href="ubifs_2xattr_8c.html#add93f337e6b626799603a792fabb984f" title="remove_xattr" alt="" coords="1319,867,1417,893"/>
<area shape="rect" id="node41" href="ubifs_2xattr_8c.html#a7e944b9a2b2e41df1dfbf521e3f5d9d8" title="change_xattr" alt="" coords="1319,1120,1417,1147"/>
<area shape="rect" id="node43" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1095,613,1233,640"/>
<area shape="rect" id="node44" href="ubifs_2file_8c.html#a2e1595770dcbefe7a93c601d25af2ae8" title="write_begin_slow" alt="" coords="1307,664,1429,691"/>
<area shape="rect" id="node45" href="ubifs_2file_8c.html#a0aefd3357cc5cb83048756801f2f7609" title="allocate_budget" alt="" coords="1311,715,1425,741"/>
<area shape="rect" id="node46" href="ubifs_2file_8c.html#acc1bfb990e0c6e6e9ebadc9c07fac286" title="do_setattr" alt="" coords="1328,765,1408,792"/>
<area shape="rect" id="node47" href="ubifs_2file_8c.html#a3f235cd298cf21e542757661a7460017" title="mctime_update_needed" alt="" coords="1288,968,1448,995"/>
<area shape="rect" id="node48" href="ubifs_2file_8c.html#a9d550e1cb4489a2615d0d50f9631f309" title="update_mctime" alt="" coords="1522,917,1633,944"/>
<area shape="rect" id="node49" href="ubifs_2file_8c.html#a8cde7ab43a1673c674c5f86c06613262" title="ubifs_vm_page_mkwrite" alt="" coords="1496,993,1659,1020"/>
<area shape="rect" id="node50" href="ubifs_2ioctl_8c.html#a06251cc4602342e44b5ed0a1b39f7e60" title="setflags" alt="" coords="1334,613,1402,640"/>
</map>
</div>

</div>
</div>
<a id="a2303bab7a34c9ea495ff055cb06db596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2303bab7a34c9ea495ff055cb06db596">&#9670;&nbsp;</a></span>valuable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int valuable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structubifs__info.html">ubifs_info</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structubifs__lprops.html">ubifs_lprops</a> *&#160;</td>
          <td class="paramname"><em>lprops</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>valuable - determine whether LEB properties are valuable. <code></code>: the UBIFS file-system description object : LEB properties</p>
<p>This function return %1 if the LEB properties should be added to the LEB properties tree in memory. Otherwise %0 is returned. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="find_8c_a2303bab7a34c9ea495ff055cb06db596_icgraph.png" border="0" usemap="#find_8c_a2303bab7a34c9ea495ff055cb06db596_icgraph" alt=""/></div>
<map name="find_8c_a2303bab7a34c9ea495ff055cb06db596_icgraph" id="find_8c_a2303bab7a34c9ea495ff055cb06db596_icgraph">
<area shape="rect" id="node2" href="find_8c.html#a15d8baed5e0f491f1c86cab2a049acb7" title="scan_for_dirty_cb" alt="" coords="125,512,250,539"/>
<area shape="rect" id="node35" href="find_8c.html#a131c924a527c1d77bc20a4ebbcf83f03" title="scan_for_free_cb" alt="" coords="126,461,249,488"/>
<area shape="rect" id="node38" href="find_8c.html#a729b477660fd27cb7248516da9c558e1" title="scan_for_idx_cb" alt="" coords="129,563,246,589"/>
<area shape="rect" id="node45" href="find_8c.html#a98d2bc7732900fffd37f45fbd8d47eec" title="scan_dirty_idx_cb" alt="" coords="124,613,251,640"/>
<area shape="rect" id="node3" href="find_8c.html#a715c6a77d5e6922f0b465eaba93f3a99" title="scan_for_dirty" alt="" coords="314,509,418,536"/>
<area shape="rect" id="node4" href="ubifs_8h.html#aa0e0f58e74f915d84712f6a1367b75d0" title="ubifs_find_dirty_leb" alt="" coords="493,508,628,535"/>
<area shape="rect" id="node5" href="ubifs_8h.html#a6aba86bcae816613915e10318fdf6b83" title="ubifs_garbage_collect" alt="" coords="689,409,837,436"/>
<area shape="rect" id="node26" href="ubifs_8h.html#ae25afe7a337008e52b357558646ed71f" title="ubifs_rcvry_gc_commit" alt="" coords="1048,563,1205,589"/>
<area shape="rect" id="node6" href="ubifs_2journal_8c.html#a920088cf70f88cbb1142294e99e688d6" title="reserve_space" alt="" coords="889,359,996,385"/>
<area shape="rect" id="node23" href="budget_8c.html#a5ccd81c906fb851139ba3da031d26f12" title="run_gc" alt="" coords="912,409,973,436"/>
<area shape="rect" id="node7" href="ubifs_2journal_8c.html#a2e3ce1f566393c4f8de0ea9c7eeedb42" title="make_reservation" alt="" coords="1064,208,1189,235"/>
<area shape="rect" id="node8" href="ubifs_8h.html#ad342a112d6f683c94399a45a14ec3aef" title="ubifs_jnl_update" alt="" coords="1275,411,1391,437"/>
<area shape="rect" id="node16" href="ubifs_8h.html#a9ed51b8a566d5776a783b6f955c32cf5" title="ubifs_jnl_write_data" alt="" coords="1264,107,1401,133"/>
<area shape="rect" id="node17" href="ubifs_8h.html#a8c1bde924b99b7852408656e18230d99" title="ubifs_jnl_write_inode" alt="" coords="1261,157,1404,184"/>
<area shape="rect" id="node18" href="ubifs_8h.html#a295cfad6549230751ca3d670fd12fc12" title="ubifs_jnl_xrename" alt="" coords="1269,259,1396,285"/>
<area shape="rect" id="node19" href="ubifs_8h.html#ab6387ea48fd6825a567f58c2786bee56" title="ubifs_jnl_rename" alt="" coords="1467,208,1587,235"/>
<area shape="rect" id="node20" href="ubifs_8h.html#a2a2057b667417cf20bfd05deb79a8a0e" title="ubifs_jnl_truncate" alt="" coords="1271,309,1395,336"/>
<area shape="rect" id="node21" href="ubifs_8h.html#a75ae3c25abba8f076e8d4e000ffcf45d" title="ubifs_jnl_delete_xattr" alt="" coords="1260,5,1405,32"/>
<area shape="rect" id="node22" href="ubifs_8h.html#a6f3994496f803665f9b68e76fa48127b" title="ubifs_jnl_change_xattr" alt="" coords="1257,56,1409,83"/>
<area shape="rect" id="node9" href="ubifs_2dir_8c.html#ace57346daa44170d0da86e02e5d502a9" title="ubifs_create" alt="" coords="1480,461,1573,488"/>
<area shape="rect" id="node10" href="ubifs_2dir_8c.html#a3a794929afbec4909d9270d60d77ac3f" title="do_tmpfile" alt="" coords="1485,360,1568,387"/>
<area shape="rect" id="node13" href="ubifs_2dir_8c.html#a8cbda000d384f82d771e78b8d630b913" title="ubifs_mkdir" alt="" coords="1482,512,1571,539"/>
<area shape="rect" id="node14" href="ubifs_2dir_8c.html#ae9d96a3c6a70aaf0f3878c82cfd8cb79" title="ubifs_mknod" alt="" coords="1479,309,1575,336"/>
<area shape="rect" id="node15" href="ubifs_2dir_8c.html#a150ff746c8a3a3468200de17cd5f0c11" title="ubifs_symlink" alt="" coords="1475,411,1578,437"/>
<area shape="rect" id="node11" href="ubifs_2dir_8c.html#a3f555c38e148b4f95ec62ad6df5c2e4d" title="ubifs_tmpfile" alt="" coords="1641,360,1737,387"/>
<area shape="rect" id="node12" href="ubifs_2dir_8c.html#ab7cff33bbe95d2729ca524f0c565907b" title="do_rename" alt="" coords="1646,259,1733,285"/>
<area shape="rect" id="node24" href="budget_8c.html#a81a06ebf4e0ee67caf867120d2110e8b" title="make_free_space" alt="" coords="1064,385,1189,412"/>
<area shape="rect" id="node25" href="ubifs_8h.html#a97c8a1e101f1eb52eafc1200ef0544ae" title="ubifs_budget_space" alt="" coords="1263,360,1402,387"/>
<area shape="rect" id="node27" href="ubifs_2super_8c.html#a46b3e42ff47f5cf6ff917d607a273c2e" title="mount_ubifs" alt="" coords="1286,563,1379,589"/>
<area shape="rect" id="node30" href="ubifs_2super_8c.html#a294d4bb3f82a15e7bed2e2ae0c7f472d" title="ubifs_remount_rw" alt="" coords="1270,613,1395,640"/>
<area shape="rect" id="node32" href="ubifs_8h.html#a3e52fa16110396ffb0817447ae15125c" title="ubifs_init_security" alt="" coords="1269,461,1396,488"/>
<area shape="rect" id="node28" href="ubifs_2super_8c.html#a73c1841d0d4128ecdc7942ca25001f98" title="ubifs_fill_super" alt="" coords="1472,613,1581,640"/>
<area shape="rect" id="node29" href="ubifs_2super_8c.html#a9d5671876eccb7da1101b3039a34dffc" title="ubifs_mount" alt="" coords="1643,613,1736,640"/>
<area shape="rect" id="node31" href="ubifs_2super_8c.html#a819db79224fd15f0eb125fe0a3c6123e" title="ubifs_remount_fs" alt="" coords="1465,664,1588,691"/>
<area shape="rect" id="node33" href="ubifs_2xattr_8c.html#ab1059c832c48181a6da6627bc5e9a1a7" title="ubifs_xattr_remove" alt="" coords="1460,563,1593,589"/>
<area shape="rect" id="node34" href="ubifs_2xattr_8c.html#a77418f005715889cfa65e2645c52415e" title="xattr_set" alt="" coords="1653,563,1726,589"/>
<area shape="rect" id="node36" href="find_8c.html#abaf7fbdbbbdd6300b6252efcc5494325" title="do_find_free_space" alt="" coords="299,432,433,459"/>
<area shape="rect" id="node37" href="ubifs_8h.html#a1f03e32ffa32d28279f1eaf0f81c4a5f" title="ubifs_find_free_space" alt="" coords="688,359,837,385"/>
<area shape="rect" id="node39" href="find_8c.html#ae53f61786f9fb4f68b3eb47770f97846" title="scan_for_leb_for_idx" alt="" coords="489,565,632,592"/>
<area shape="rect" id="node40" href="ubifs_8h.html#a5dbeb2fbcdd3403f15e5d6ce214edcf9" title="ubifs_find_free_leb\l_for_idx" alt="" coords="697,559,828,601"/>
<area shape="rect" id="node41" href="ubifs_2recovery_8c.html#acb6fbec748694453a2e4b3ed2be6cc6b" title="grab_empty_leb" alt="" coords="885,563,1000,589"/>
<area shape="rect" id="node42" href="tnc__commit_8c.html#a82dea2876366b839f177356c01a9c031" title="alloc_idx_lebs" alt="" coords="1075,613,1179,640"/>
<area shape="rect" id="node43" href="ubifs_8h.html#ae1e7a24e81c4fa022a4065530bd77bff" title="ubifs_tnc_start_commit" alt="" coords="1253,664,1412,691"/>
<area shape="rect" id="node44" href="ubifs_2commit_8c.html#aff22e767be69aea3cc8ede3847389766" title="do_commit" alt="" coords="1483,715,1570,741"/>
<area shape="rect" id="node46" href="find_8c.html#ad8d34f3450a01ca6a4fe109ab4f12dce" title="find_dirty_idx_leb" alt="" coords="305,621,427,648"/>
<area shape="rect" id="node47" href="ubifs_8h.html#a9755efbbff945daa2e58b2c996976a29" title="ubifs_find_dirty_idx_leb" alt="" coords="481,629,640,656"/>
<area shape="rect" id="node48" href="tnc__commit_8c.html#ae35ab1b0e8a8676ac825941f36e77bdd" title="layout_leb_in_gaps" alt="" coords="696,644,829,671"/>
<area shape="rect" id="node49" href="tnc__commit_8c.html#aa94160dc8891f55de97cfb630b191ef2" title="layout_in_gaps" alt="" coords="888,664,997,691"/>
<area shape="rect" id="node50" href="tnc__commit_8c.html#a1f7210689e6f040c0b106db3e447e04b" title="layout_commit" alt="" coords="1073,664,1180,691"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_fbbc61eb3235ac15a35746d00bf5db85.html">ubifs</a></li><li class="navelem"><a class="el" href="find_8c.html">find.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
