<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: hfs/btree.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('hfs_2btree_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">btree.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="hfs_2btree_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* SPDX-License-Identifier: GPL-2.0 */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  linux/fs/hfs/btree.h</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Copyright (C) 2001</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Brad Boyer (flar@allandria.com)</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (C) 2003 Ardis Technologies &lt;roman@ardistech.com&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hfs__fs_8h.html">hfs_fs.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#ae3aeabe45785e4a9ed7e420e0443bd29">   12</a></span>&#160;<span class="keyword">typedef</span> int (*<a class="code" href="hfs_2btree_8h.html#ae3aeabe45785e4a9ed7e420e0443bd29">btree_keycmp</a>)(<span class="keyword">const</span> <a class="code" href="unionhfs__btree__key.html">btree_key</a> *, <span class="keyword">const</span> <a class="code" href="unionhfs__btree__key.html">btree_key</a> *);</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#adcfab81056a43003ee6bc00dec12a86c">   14</a></span>&#160;<span class="preprocessor">#define NODE_HASH_SIZE  256</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">/* A HFS BTree held in memory */</span></div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="structhfs__btree.html">   17</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structhfs__btree.html">hfs_btree</a> {</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="structhfs__btree.html#ac30702bb8ee324bc6cb1ec132ad44ec6">   18</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="structhfs__btree.html#ac30702bb8ee324bc6cb1ec132ad44ec6">sb</a>;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="structhfs__btree.html#abeff3b6c4d096d94debdfe3dc46f1379">   19</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structhfs__btree.html#abeff3b6c4d096d94debdfe3dc46f1379">inode</a> *<a class="code" href="structhfs__btree.html#abeff3b6c4d096d94debdfe3dc46f1379">inode</a>;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a985c227dd2c73d0a4e19d108e4deab03">   20</a></span>&#160;    <a class="code" href="hfs_2btree_8h.html#ae3aeabe45785e4a9ed7e420e0443bd29">btree_keycmp</a> <a class="code" href="structhfs__btree.html#a985c227dd2c73d0a4e19d108e4deab03">keycmp</a>;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="structhfs__btree.html#ac2070e2c1293622fe0409d3e5757cce5">   22</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#ac2070e2c1293622fe0409d3e5757cce5">cnid</a>;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="structhfs__btree.html#ac8a94b881de2f5a6209a4743a7779750">   23</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#ac8a94b881de2f5a6209a4743a7779750">root</a>;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a3059780c05c8d1ac5df012cb7a1a2995">   24</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#a3059780c05c8d1ac5df012cb7a1a2995">leaf_count</a>;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a7b4114869b342448ad98cd6de30a9772">   25</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#a7b4114869b342448ad98cd6de30a9772">leaf_head</a>;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a5148d343f679356f9c7c77e4b9853817">   26</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#a5148d343f679356f9c7c77e4b9853817">leaf_tail</a>;</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="structhfs__btree.html#ad91eb18c328df6a64a82262f362203f2">   27</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#ad91eb18c328df6a64a82262f362203f2">node_count</a>;</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a2769d939036dbfaa76a9f913cacb19b3">   28</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#a2769d939036dbfaa76a9f913cacb19b3">free_nodes</a>;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a46f7a8ac39ea22b80aa442e01d7deab9">   29</a></span>&#160;    u32 <a class="code" href="structhfs__btree.html#a46f7a8ac39ea22b80aa442e01d7deab9">attributes</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="structhfs__btree.html#ab9510b68fe616a1415a83a0164a030de">   31</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structhfs__btree.html#ab9510b68fe616a1415a83a0164a030de">node_size</a>;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a4f46a498dcb02b83fb18e1d87e629c70">   32</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structhfs__btree.html#a4f46a498dcb02b83fb18e1d87e629c70">node_size_shift</a>;</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a6ab7bbc8974cd8ed8ebeeddf9af4a08d">   33</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structhfs__btree.html#a6ab7bbc8974cd8ed8ebeeddf9af4a08d">max_key_len</a>;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a0f025098b9bf38d317b08f327c9c5ae1">   34</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structhfs__btree.html#a0f025098b9bf38d317b08f327c9c5ae1">depth</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">//unsigned int map1_size, map_size;</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a02db80769d32c8eaf76e2eb9d52bc334">   37</a></span>&#160;    <span class="keyword">struct </span>mutex <a class="code" href="structhfs__btree.html#a02db80769d32c8eaf76e2eb9d52bc334">tree_lock</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a8313c323683d981c2dffa269d573c8e4">   39</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structhfs__btree.html#a8313c323683d981c2dffa269d573c8e4">pages_per_bnode</a>;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a89b2f7fee69e732a27005bc08fd859f9">   40</a></span>&#160;    spinlock_t <a class="code" href="structhfs__btree.html#a89b2f7fee69e732a27005bc08fd859f9">hash_lock</a>;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a4510e781a26502ada9ef222ff88d4a20">   41</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> *<a class="code" href="structhfs__btree.html#a4510e781a26502ada9ef222ff88d4a20">node_hash</a>[<a class="code" href="hfs_2btree_8h.html#adcfab81056a43003ee6bc00dec12a86c">NODE_HASH_SIZE</a>];</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structhfs__btree.html#a7008a681d0b0e606d042f12efc822709">   42</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structhfs__btree.html#a7008a681d0b0e606d042f12efc822709">node_hash_cnt</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;};</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/* A HFS BTree node in memory */</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structhfs__bnode.html">   46</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> {</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#abae94f0fd1abac2fe59ae79e264e01a9">   47</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structhfs__btree.html">hfs_btree</a> *<a class="code" href="structhfs__bnode.html#abae94f0fd1abac2fe59ae79e264e01a9">tree</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a09afab82d0b5c99362acfeae03a1fa4b">   49</a></span>&#160;    u32 <a class="code" href="structhfs__bnode.html#a09afab82d0b5c99362acfeae03a1fa4b">prev</a>;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a31be8dd92c16c105472663f8940747ac">   50</a></span>&#160;    u32 <span class="keyword">this</span>;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#ae8ba003cc3f2a40809f27301361420fd">   51</a></span>&#160;    u32 <a class="code" href="structhfs__bnode.html#ae8ba003cc3f2a40809f27301361420fd">next</a>;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a896e26e13d8e06b924b552432f4070d4">   52</a></span>&#160;    u32 <a class="code" href="structhfs__bnode.html#a896e26e13d8e06b924b552432f4070d4">parent</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a681ceb5e813e7a2df2bf03e7cd97462f">   54</a></span>&#160;    u16 <a class="code" href="structhfs__bnode.html#a681ceb5e813e7a2df2bf03e7cd97462f">num_recs</a>;</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a044d8875826e5c7a563f493740cbaca8">   55</a></span>&#160;    u8 <a class="code" href="structhfs__bnode.html#a044d8875826e5c7a563f493740cbaca8">type</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a4817e5d2f8d355670190731f316c79d3">   56</a></span>&#160;    u8 <a class="code" href="structhfs__bnode.html#a4817e5d2f8d355670190731f316c79d3">height</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a1cd9ae78f925bdf779a751501880b94b">   58</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> *<a class="code" href="structhfs__bnode.html#a1cd9ae78f925bdf779a751501880b94b">next_hash</a>;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a3764c468e5d1d276ec9d30e219f2660f">   59</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structhfs__bnode.html#a3764c468e5d1d276ec9d30e219f2660f">flags</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#afe13bde7b86dd11683be209be06d25e5">   60</a></span>&#160;    wait_queue_head_t <a class="code" href="structhfs__bnode.html#afe13bde7b86dd11683be209be06d25e5">lock_wq</a>;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a265f2fc6ad1b960995f10af05a0b05f7">   61</a></span>&#160;    atomic_t <a class="code" href="structhfs__bnode.html#a265f2fc6ad1b960995f10af05a0b05f7">refcnt</a>;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#abcedc85d18da49c566309e4aee828033">   62</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structhfs__bnode.html#abcedc85d18da49c566309e4aee828033">page_offset</a>;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structhfs__bnode.html#a7479047f2f382450960b51994fb8ff8c">   63</a></span>&#160;    <span class="keyword">struct </span>page *page[0];</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;};</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a2043496581fbb818091316ebfe7c2a0b">   66</a></span>&#160;<span class="preprocessor">#define HFS_BNODE_ERROR     0</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#aee90a2acb8110b77a0c3b1aa6d9b0e4a">   67</a></span>&#160;<span class="preprocessor">#define HFS_BNODE_NEW       1</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a3c5edb2e66c86522b8c90269923c6bc6">   68</a></span>&#160;<span class="preprocessor">#define HFS_BNODE_DELETED   2</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structhfs__find__data.html">   70</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structhfs__find__data.html">hfs_find_data</a> {</div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#a036450d624a72061335d885266538670">   71</a></span>&#160;    <a class="code" href="unionhfs__btree__key.html">btree_key</a> *<a class="code" href="structhfs__find__data.html#a036450d624a72061335d885266538670">key</a>;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#a2bf234ba0eec140fba3b1b87424c0ba8">   72</a></span>&#160;    <a class="code" href="unionhfs__btree__key.html">btree_key</a> *<a class="code" href="structhfs__find__data.html#a2bf234ba0eec140fba3b1b87424c0ba8">search_key</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#a098303d96ebebac1de20f5b83f3f4c5e">   73</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structhfs__btree.html">hfs_btree</a> *<a class="code" href="structhfs__find__data.html#a098303d96ebebac1de20f5b83f3f4c5e">tree</a>;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#a099d4be65afcc4fe954c1bcbde25e34b">   74</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> *<a class="code" href="structhfs__find__data.html#a099d4be65afcc4fe954c1bcbde25e34b">bnode</a>;</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#acf4d680aede7a51606b0c709c77062bc">   75</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structhfs__find__data.html#acf4d680aede7a51606b0c709c77062bc">record</a>;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#ae2b306b75eec9bd020b4befa69d7fb3d">   76</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structhfs__find__data.html#ae2b306b75eec9bd020b4befa69d7fb3d">keyoffset</a>, keylength;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structhfs__find__data.html#af0ba44105670ea65dc747143832fb9a3">   77</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structhfs__find__data.html#af0ba44105670ea65dc747143832fb9a3">entryoffset</a>, entrylength;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;};</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/* btree.c */</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structhfs__btree.html">hfs_btree</a> *<a class="code" href="hfs_2btree_8h.html#a4c3c02f8aecf71d1f0e39bf8e5f71aa7">hfs_btree_open</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *, u32, <a class="code" href="hfs_2btree_8h.html#ae3aeabe45785e4a9ed7e420e0443bd29">btree_keycmp</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a931d06ad25e1103263344bf446a3d5ad">hfs_btree_close</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a02b1f60b2a5531daabe12b879d54933f">hfs_btree_write</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> * <a class="code" href="hfs_2btree_8h.html#afd169bb148fc98663dea2f2b532a3373">hfs_bmap_alloc</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a331eab080284070d933823d716d7f0b9">hfs_bmap_free</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *node);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/* bnode.c */</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#aec7027de55e3b3728b0b9c2d59ef87dc">hfs_bnode_read</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">extern</span> u16 <a class="code" href="hfs_2btree_8h.html#ac97b6b72a872e2d8954035927072c3ab">hfs_bnode_read_u16</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">extern</span> u8 <a class="code" href="hfs_2btree_8h.html#af511d897f93e321451cacca725300960">hfs_bnode_read_u8</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a43faa396946b2db987ea8189b6ccaf85">hfs_bnode_read_key</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a63755177e844fb1d8cdf5f06b96b3d3a">hfs_bnode_write</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a3cf08a6d3e881b97a5416df87a71ffc7">hfs_bnode_write_u16</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>, u16);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a5272a242cb6091eac3757982361dff61">hfs_bnode_write_u8</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>, u8);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a0df272ee7424afa22a854753cf787450">hfs_bnode_clear</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#ae2b18f5149dba39fb665c92d5f458519">hfs_bnode_copy</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;               <span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#ae2655499c99d9faa16a0748c9b91b289">hfs_bnode_move</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#af1835d6bba648810786ed0ec150da398">hfs_bnode_dump</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a06833299c48118f2498fdcdac25106ec">hfs_bnode_unlink</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> *<a class="code" href="hfs_2btree_8h.html#a9998c0027d17c6f8d432ab470f13fc0a">hfs_bnode_findhash</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *, u32);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> *<a class="code" href="hfs_2btree_8h.html#a07fc6063295a1aa0066707d229b766f5">hfs_bnode_find</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *, u32);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#a9839f37741b7b11a1ed01f3fea28aa13">hfs_bnode_unhash</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#abb8fd06638bb6122b836d05da70d87b6">hfs_bnode_free</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structhfs__bnode.html">hfs_bnode</a> *<a class="code" href="hfs_2btree_8h.html#af242fbf8fd934baed2637fa0667b4173">hfs_bnode_create</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *, u32);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#acae7fb925fed507a56ad7bcdc7fcdd5b">hfs_bnode_get</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#aacf634db9127e810ab7e5b1ddeca80d0">hfs_bnode_put</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/* brec.c */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">extern</span> u16 <a class="code" href="hfs_2btree_8h.html#a51890160623b1c3feed9e4d11c0ce6d8">hfs_brec_lenoff</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, u16, u16 *);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">extern</span> u16 <a class="code" href="hfs_2btree_8h.html#a22b8915d350432a67beee29a2024a38b">hfs_brec_keylen</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, u16);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#afa5a7e157f318cebe57feef5cceca0a9">hfs_brec_insert</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#aad5ac49cf5b9be7ab45892a0127e234e">hfs_brec_remove</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/* bfind.c */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#a51402c9a97600c2d262c09f50efcdaa9">hfs_find_init</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__btree.html">hfs_btree</a> *, <span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="hfs_2btree_8h.html#ac06d11c7ba782cf87383ac714aa33adf">hfs_find_exit</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#a276127b86a536a792a5d7594e62eaf4b">__hfs_brec_find</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__bnode.html">hfs_bnode</a> *, <span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#a6d0d799425679227cd7e8b28b64f01ec">hfs_brec_find</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#a602b0a68dfbe0edb52c12601e2560684">hfs_brec_read</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="hfs_2btree_8h.html#a5ce0d22510c0bf8920a4baaa8a6a75e5">hfs_brec_goto</a>(<span class="keyword">struct</span> <a class="code" href="structhfs__find__data.html">hfs_find_data</a> *, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html">  125</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structhfs__bnode__desc.html">hfs_bnode_desc</a> {</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html#ad1cc4ddac2a4722afa5e24cbe252e293">  126</a></span>&#160;    __be32 <a class="code" href="structhfs__bnode__desc.html#ad1cc4ddac2a4722afa5e24cbe252e293">next</a>;        <span class="comment">/* (V) Number of the next node at this level */</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html#a9566229709aefc380eba8a61f54305ab">  127</a></span>&#160;    __be32 <a class="code" href="structhfs__bnode__desc.html#a9566229709aefc380eba8a61f54305ab">prev</a>;        <span class="comment">/* (V) Number of the prev node at this level */</span></div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html#ad253fa42a216c5facf52fa93210cb137">  128</a></span>&#160;    u8 <a class="code" href="structhfs__bnode__desc.html#ad253fa42a216c5facf52fa93210cb137">type</a>;        <span class="comment">/* (F) The type of node */</span></div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html#a3bad771355132bac264bc1a7931f5fcc">  129</a></span>&#160;    u8 <a class="code" href="structhfs__bnode__desc.html#a3bad771355132bac264bc1a7931f5fcc">height</a>;      <span class="comment">/* (F) The level of this node (leaves=1) */</span></div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html#a4e27ee1109dae63281223744510ea32e">  130</a></span>&#160;    __be16 <a class="code" href="structhfs__bnode__desc.html#a4e27ee1109dae63281223744510ea32e">num_recs</a>;    <span class="comment">/* (V) The number of records in this node */</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structhfs__bnode__desc.html#ac1d95776b311432753cdb67363957d47">  131</a></span>&#160;    u16 <a class="code" href="structhfs__bnode__desc.html#ac1d95776b311432753cdb67363957d47">reserved</a>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;} <a class="code" href="hfs_2btree_8h.html#a94e2ead7257dd56e4d7de0e2f2d922bc">__packed</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#af3e4b804dc415f9e8efb60443cd88ab4">  134</a></span>&#160;<span class="preprocessor">#define HFS_NODE_INDEX  0x00    </span><span class="comment">/* An internal (index) node */</span><span class="preprocessor"></span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a165c39b5fcc7e8d605f9b9630bc8d608">  135</a></span>&#160;<span class="preprocessor">#define HFS_NODE_HEADER 0x01    </span><span class="comment">/* The tree header node (node 0) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a227f38c8623561202b3fa9b538a58292">  136</a></span>&#160;<span class="preprocessor">#define HFS_NODE_MAP    0x02    </span><span class="comment">/* Holds part of the bitmap of used nodes */</span><span class="preprocessor"></span></div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a95c84c316a6e5c245237a6599a4552a1">  137</a></span>&#160;<span class="preprocessor">#define HFS_NODE_LEAF   0xFF    </span><span class="comment">/* A leaf (ndNHeight==1) node */</span><span class="preprocessor"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html">  139</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structhfs__btree__header__rec.html">hfs_btree_header_rec</a> {</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#abfb08314cc03ae34266073dc9d54b775">  140</a></span>&#160;    __be16 <a class="code" href="structhfs__btree__header__rec.html#abfb08314cc03ae34266073dc9d54b775">depth</a>;       <span class="comment">/* (V) The number of levels in this B-tree */</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#ad0d8bd2668e677d94122b1160cf87c2d">  141</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#ad0d8bd2668e677d94122b1160cf87c2d">root</a>;        <span class="comment">/* (V) The node number of the root node */</span></div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a324a3a1b8da11f09db04de8eae7ac9b2">  142</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#a324a3a1b8da11f09db04de8eae7ac9b2">leaf_count</a>;  <span class="comment">/* (V) The number of leaf records */</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#aa8973474176d888307693ba4be810a0e">  143</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#aa8973474176d888307693ba4be810a0e">leaf_head</a>;   <span class="comment">/* (V) The number of the first leaf node */</span></div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a46511c2a4a51ef39147f46f007830e96">  144</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#a46511c2a4a51ef39147f46f007830e96">leaf_tail</a>;   <span class="comment">/* (V) The number of the last leaf node */</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a8904874560802ae480bc4afd85fd6e4c">  145</a></span>&#160;    __be16 <a class="code" href="structhfs__btree__header__rec.html#a8904874560802ae480bc4afd85fd6e4c">node_size</a>;   <span class="comment">/* (F) The number of bytes in a node (=512) */</span></div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a778ba0c9759654b8b332930057be56a4">  146</a></span>&#160;    __be16 <a class="code" href="structhfs__btree__header__rec.html#a778ba0c9759654b8b332930057be56a4">max_key_len</a>; <span class="comment">/* (F) The length of a key in an index node */</span></div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a12e346b94b73197ea4ae798e18f2522d">  147</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#a12e346b94b73197ea4ae798e18f2522d">node_count</a>;  <span class="comment">/* (V) The total number of nodes */</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a7c547f03657efffecac32ff213045380">  148</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#a7c547f03657efffecac32ff213045380">free_nodes</a>;  <span class="comment">/* (V) The number of unused nodes */</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a09f562fbbb8d2434523673dba7148bdd">  149</a></span>&#160;    u16 <a class="code" href="structhfs__btree__header__rec.html#a09f562fbbb8d2434523673dba7148bdd">reserved1</a>;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a2ded7f1628ad39272876f3eff2f20f38">  150</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#a2ded7f1628ad39272876f3eff2f20f38">clump_size</a>;  <span class="comment">/* (F) clump size. not usually used. */</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#ad80d0944f6309956a3910766e1e52057">  151</a></span>&#160;    u8 <a class="code" href="structhfs__btree__header__rec.html#ad80d0944f6309956a3910766e1e52057">btree_type</a>;      <span class="comment">/* (F) BTree type */</span></div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a2db851f6083eef168c552ca17b1e6ec5">  152</a></span>&#160;    u8 <a class="code" href="structhfs__btree__header__rec.html#a2db851f6083eef168c552ca17b1e6ec5">reserved2</a>;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a7476e3958c299e1fa271ab544dd9479a">  153</a></span>&#160;    __be32 <a class="code" href="structhfs__btree__header__rec.html#a7476e3958c299e1fa271ab544dd9479a">attributes</a>;  <span class="comment">/* (F) attributes */</span></div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structhfs__btree__header__rec.html#a920becc7f53b79520e6146010b6da4d4">  154</a></span>&#160;    u32 reserved3[16];</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;} <a class="code" href="hfs_2btree_8h.html#a94e2ead7257dd56e4d7de0e2f2d922bc">__packed</a>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#aa240937ee708877aba873e1d26896d3f">  157</a></span>&#160;<span class="preprocessor">#define BTREE_ATTR_BADCLOSE 0x00000001  </span><span class="comment">/* b-tree not closed properly. not</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">                           used by hfsplus. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a0abbfde7978c322db1b945663cf1b41f">  159</a></span>&#160;<span class="preprocessor">#define HFS_TREE_BIGKEYS    0x00000002  </span><span class="comment">/* key length is u16 instead of u8.</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">                           used by hfsplus. */</span><span class="preprocessor"></span></div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="hfs_2btree_8h.html#a6d78ca9521029dc3c76ef9159416ac3b">  161</a></span>&#160;<span class="preprocessor">#define HFS_TREE_VARIDXKEYS 0x00000004  </span><span class="comment">/* variable key length instead of</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">                           max key length. use din catalog</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">                           b-tree but not in extents</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">                           b-tree (hfsplus). */</span><span class="preprocessor"></span></div><div class="ttc" id="structhfs__btree__header__rec_html_ad0d8bd2668e677d94122b1160cf87c2d"><div class="ttname"><a href="structhfs__btree__header__rec.html#ad0d8bd2668e677d94122b1160cf87c2d">hfs_btree_header_rec::root</a></div><div class="ttdeci">__be32 root</div><div class="ttdef"><b>Definition:</b> btree.h:141</div></div>
<div class="ttc" id="hfs_2btree_8h_html_acae7fb925fed507a56ad7bcdc7fcdd5b"><div class="ttname"><a href="hfs_2btree_8h.html#acae7fb925fed507a56ad7bcdc7fcdd5b">hfs_bnode_get</a></div><div class="ttdeci">void hfs_bnode_get(struct hfs_bnode *)</div><div class="ttdef"><b>Definition:</b> bnode.c:443</div></div>
<div class="ttc" id="structhfs__btree_html_ac8a94b881de2f5a6209a4743a7779750"><div class="ttname"><a href="structhfs__btree.html#ac8a94b881de2f5a6209a4743a7779750">hfs_btree::root</a></div><div class="ttdeci">u32 root</div><div class="ttdef"><b>Definition:</b> btree.h:23</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a602b0a68dfbe0edb52c12601e2560684"><div class="ttname"><a href="hfs_2btree_8h.html#a602b0a68dfbe0edb52c12601e2560684">hfs_brec_read</a></div><div class="ttdeci">int hfs_brec_read(struct hfs_find_data *, void *, int)</div><div class="ttdef"><b>Definition:</b> bfind.c:149</div></div>
<div class="ttc" id="hfs_2btree_8h_html_ae3aeabe45785e4a9ed7e420e0443bd29"><div class="ttname"><a href="hfs_2btree_8h.html#ae3aeabe45785e4a9ed7e420e0443bd29">btree_keycmp</a></div><div class="ttdeci">int(* btree_keycmp)(const btree_key *, const btree_key *)</div><div class="ttdef"><b>Definition:</b> btree.h:12</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a43faa396946b2db987ea8189b6ccaf85"><div class="ttname"><a href="hfs_2btree_8h.html#a43faa396946b2db987ea8189b6ccaf85">hfs_bnode_read_key</a></div><div class="ttdeci">void hfs_bnode_read_key(struct hfs_bnode *, void *, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:46</div></div>
<div class="ttc" id="structhfs__bnode_html"><div class="ttname"><a href="structhfs__bnode.html">hfs_bnode</a></div><div class="ttdef"><b>Definition:</b> btree.h:46</div></div>
<div class="ttc" id="hfs_2btree_8h_html_afd169bb148fc98663dea2f2b532a3373"><div class="ttname"><a href="hfs_2btree_8h.html#afd169bb148fc98663dea2f2b532a3373">hfs_bmap_alloc</a></div><div class="ttdeci">struct hfs_bnode * hfs_bmap_alloc(struct hfs_btree *)</div><div class="ttdef"><b>Definition:</b> btree.c:223</div></div>
<div class="ttc" id="structhfs__bnode_html_a044d8875826e5c7a563f493740cbaca8"><div class="ttname"><a href="structhfs__bnode.html#a044d8875826e5c7a563f493740cbaca8">hfs_bnode::type</a></div><div class="ttdeci">u8 type</div><div class="ttdef"><b>Definition:</b> btree.h:55</div></div>
<div class="ttc" id="hfs_2btree_8h_html_aad5ac49cf5b9be7ab45892a0127e234e"><div class="ttname"><a href="hfs_2btree_8h.html#aad5ac49cf5b9be7ab45892a0127e234e">hfs_brec_remove</a></div><div class="ttdeci">int hfs_brec_remove(struct hfs_find_data *)</div><div class="ttdef"><b>Definition:</b> brec.c:176</div></div>
<div class="ttc" id="structhfs__bnode__desc_html"><div class="ttname"><a href="structhfs__bnode__desc.html">hfs_bnode_desc</a></div><div class="ttdef"><b>Definition:</b> btree.h:125</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a2ded7f1628ad39272876f3eff2f20f38"><div class="ttname"><a href="structhfs__btree__header__rec.html#a2ded7f1628ad39272876f3eff2f20f38">hfs_btree_header_rec::clump_size</a></div><div class="ttdeci">__be32 clump_size</div><div class="ttdef"><b>Definition:</b> btree.h:150</div></div>
<div class="ttc" id="hfs_2btree_8h_html_ac06d11c7ba782cf87383ac714aa33adf"><div class="ttname"><a href="hfs_2btree_8h.html#ac06d11c7ba782cf87383ac714aa33adf">hfs_find_exit</a></div><div class="ttdeci">void hfs_find_exit(struct hfs_find_data *)</div><div class="ttdef"><b>Definition:</b> bfind.c:32</div></div>
<div class="ttc" id="structhfs__bnode__desc_html_ad253fa42a216c5facf52fa93210cb137"><div class="ttname"><a href="structhfs__bnode__desc.html#ad253fa42a216c5facf52fa93210cb137">hfs_bnode_desc::type</a></div><div class="ttdeci">u8 type</div><div class="ttdef"><b>Definition:</b> btree.h:128</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a3cf08a6d3e881b97a5416df87a71ffc7"><div class="ttname"><a href="hfs_2btree_8h.html#a3cf08a6d3e881b97a5416df87a71ffc7">hfs_bnode_write_u16</a></div><div class="ttdeci">void hfs_bnode_write_u16(struct hfs_bnode *, int, u16)</div><div class="ttdef"><b>Definition:</b> bnode.c:73</div></div>
<div class="ttc" id="structhfs__bnode_html_abae94f0fd1abac2fe59ae79e264e01a9"><div class="ttname"><a href="structhfs__bnode.html#abae94f0fd1abac2fe59ae79e264e01a9">hfs_bnode::tree</a></div><div class="ttdeci">struct hfs_btree * tree</div><div class="ttdef"><b>Definition:</b> btree.h:47</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a9998c0027d17c6f8d432ab470f13fc0a"><div class="ttname"><a href="hfs_2btree_8h.html#a9998c0027d17c6f8d432ab470f13fc0a">hfs_bnode_findhash</a></div><div class="ttdeci">struct hfs_bnode * hfs_bnode_findhash(struct hfs_btree *, u32)</div><div class="ttdef"><b>Definition:</b> bnode.c:218</div></div>
<div class="ttc" id="hfs_2btree_8h_html_ac97b6b72a872e2d8954035927072c3ab"><div class="ttname"><a href="hfs_2btree_8h.html#ac97b6b72a872e2d8954035927072c3ab">hfs_bnode_read_u16</a></div><div class="ttdeci">u16 hfs_bnode_read_u16(struct hfs_bnode *, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:30</div></div>
<div class="ttc" id="hfs_2btree_8h_html_ae2b18f5149dba39fb665c92d5f458519"><div class="ttname"><a href="hfs_2btree_8h.html#ae2b18f5149dba39fb665c92d5f458519">hfs_bnode_copy</a></div><div class="ttdeci">void hfs_bnode_copy(struct hfs_bnode *, int, struct hfs_bnode *, int, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:98</div></div>
<div class="ttc" id="structhfs__bnode__desc_html_a9566229709aefc380eba8a61f54305ab"><div class="ttname"><a href="structhfs__bnode__desc.html#a9566229709aefc380eba8a61f54305ab">hfs_bnode_desc::prev</a></div><div class="ttdeci">__be32 prev</div><div class="ttdef"><b>Definition:</b> btree.h:127</div></div>
<div class="ttc" id="structsuper__block_html"><div class="ttname"><a href="structsuper__block.html">super_block</a></div><div class="ttdef"><b>Definition:</b> ubifs.h:968</div></div>
<div class="ttc" id="structhfs__btree_html_a6ab7bbc8974cd8ed8ebeeddf9af4a08d"><div class="ttname"><a href="structhfs__btree.html#a6ab7bbc8974cd8ed8ebeeddf9af4a08d">hfs_btree::max_key_len</a></div><div class="ttdeci">unsigned int max_key_len</div><div class="ttdef"><b>Definition:</b> btree.h:33</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a94e2ead7257dd56e4d7de0e2f2d922bc"><div class="ttname"><a href="hfs_2btree_8h.html#a94e2ead7257dd56e4d7de0e2f2d922bc">__packed</a></div><div class="ttdeci">struct hfs_bnode_desc __packed</div></div>
<div class="ttc" id="structhfs__bnode__desc_html_a4e27ee1109dae63281223744510ea32e"><div class="ttname"><a href="structhfs__bnode__desc.html#a4e27ee1109dae63281223744510ea32e">hfs_bnode_desc::num_recs</a></div><div class="ttdeci">__be16 num_recs</div><div class="ttdef"><b>Definition:</b> btree.h:130</div></div>
<div class="ttc" id="hfs_2btree_8h_html_afa5a7e157f318cebe57feef5cceca0a9"><div class="ttname"><a href="hfs_2btree_8h.html#afa5a7e157f318cebe57feef5cceca0a9">hfs_brec_insert</a></div><div class="ttdeci">int hfs_brec_insert(struct hfs_find_data *, void *, int)</div><div class="ttdef"><b>Definition:</b> brec.c:65</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a2db851f6083eef168c552ca17b1e6ec5"><div class="ttname"><a href="structhfs__btree__header__rec.html#a2db851f6083eef168c552ca17b1e6ec5">hfs_btree_header_rec::reserved2</a></div><div class="ttdeci">u8 reserved2</div><div class="ttdef"><b>Definition:</b> btree.h:152</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a51890160623b1c3feed9e4d11c0ce6d8"><div class="ttname"><a href="hfs_2btree_8h.html#a51890160623b1c3feed9e4d11c0ce6d8">hfs_brec_lenoff</a></div><div class="ttdeci">u16 hfs_brec_lenoff(struct hfs_bnode *, u16, u16 *)</div><div class="ttdef"><b>Definition:</b> brec.c:19</div></div>
<div class="ttc" id="structhfs__btree_html"><div class="ttname"><a href="structhfs__btree.html">hfs_btree</a></div><div class="ttdef"><b>Definition:</b> btree.h:17</div></div>
<div class="ttc" id="hfs_2btree_8h_html_abb8fd06638bb6122b836d05da70d87b6"><div class="ttname"><a href="hfs_2btree_8h.html#abb8fd06638bb6122b836d05da70d87b6">hfs_bnode_free</a></div><div class="ttdeci">void hfs_bnode_free(struct hfs_bnode *)</div><div class="ttdef"><b>Definition:</b> bnode.c:395</div></div>
<div class="ttc" id="structhfs__bnode_html_a681ceb5e813e7a2df2bf03e7cd97462f"><div class="ttname"><a href="structhfs__bnode.html#a681ceb5e813e7a2df2bf03e7cd97462f">hfs_bnode::num_recs</a></div><div class="ttdeci">u16 num_recs</div><div class="ttdef"><b>Definition:</b> btree.h:54</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a931d06ad25e1103263344bf446a3d5ad"><div class="ttname"><a href="hfs_2btree_8h.html#a931d06ad25e1103263344bf446a3d5ad">hfs_btree_close</a></div><div class="ttdeci">void hfs_btree_close(struct hfs_btree *)</div><div class="ttdef"><b>Definition:</b> btree.c:137</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a8904874560802ae480bc4afd85fd6e4c"><div class="ttname"><a href="structhfs__btree__header__rec.html#a8904874560802ae480bc4afd85fd6e4c">hfs_btree_header_rec::node_size</a></div><div class="ttdeci">__be16 node_size</div><div class="ttdef"><b>Definition:</b> btree.h:145</div></div>
<div class="ttc" id="structhfs__btree_html_abeff3b6c4d096d94debdfe3dc46f1379"><div class="ttname"><a href="structhfs__btree.html#abeff3b6c4d096d94debdfe3dc46f1379">hfs_btree::inode</a></div><div class="ttdeci">struct inode * inode</div><div class="ttdef"><b>Definition:</b> btree.h:19</div></div>
<div class="ttc" id="structhfs__btree_html_ac2070e2c1293622fe0409d3e5757cce5"><div class="ttname"><a href="structhfs__btree.html#ac2070e2c1293622fe0409d3e5757cce5">hfs_btree::cnid</a></div><div class="ttdeci">u32 cnid</div><div class="ttdef"><b>Definition:</b> btree.h:22</div></div>
<div class="ttc" id="hfs_2btree_8h_html_af242fbf8fd934baed2637fa0667b4173"><div class="ttname"><a href="hfs_2btree_8h.html#af242fbf8fd934baed2637fa0667b4173">hfs_bnode_create</a></div><div class="ttdeci">struct hfs_bnode * hfs_bnode_create(struct hfs_btree *, u32)</div><div class="ttdef"><b>Definition:</b> bnode.c:405</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a5ce0d22510c0bf8920a4baaa8a6a75e5"><div class="ttname"><a href="hfs_2btree_8h.html#a5ce0d22510c0bf8920a4baaa8a6a75e5">hfs_brec_goto</a></div><div class="ttdeci">int hfs_brec_goto(struct hfs_find_data *, int)</div><div class="ttdef"><b>Definition:</b> bfind.c:162</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_aa8973474176d888307693ba4be810a0e"><div class="ttname"><a href="structhfs__btree__header__rec.html#aa8973474176d888307693ba4be810a0e">hfs_btree_header_rec::leaf_head</a></div><div class="ttdeci">__be32 leaf_head</div><div class="ttdef"><b>Definition:</b> btree.h:143</div></div>
<div class="ttc" id="structhfs__btree_html_a985c227dd2c73d0a4e19d108e4deab03"><div class="ttname"><a href="structhfs__btree.html#a985c227dd2c73d0a4e19d108e4deab03">hfs_btree::keycmp</a></div><div class="ttdeci">btree_keycmp keycmp</div><div class="ttdef"><b>Definition:</b> btree.h:20</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_ad80d0944f6309956a3910766e1e52057"><div class="ttname"><a href="structhfs__btree__header__rec.html#ad80d0944f6309956a3910766e1e52057">hfs_btree_header_rec::btree_type</a></div><div class="ttdeci">u8 btree_type</div><div class="ttdef"><b>Definition:</b> btree.h:151</div></div>
<div class="ttc" id="structhfs__btree_html_ab9510b68fe616a1415a83a0164a030de"><div class="ttname"><a href="structhfs__btree.html#ab9510b68fe616a1415a83a0164a030de">hfs_btree::node_size</a></div><div class="ttdeci">unsigned int node_size</div><div class="ttdef"><b>Definition:</b> btree.h:31</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a5272a242cb6091eac3757982361dff61"><div class="ttname"><a href="hfs_2btree_8h.html#a5272a242cb6091eac3757982361dff61">hfs_bnode_write_u8</a></div><div class="ttdeci">void hfs_bnode_write_u8(struct hfs_bnode *, int, u8)</div><div class="ttdef"><b>Definition:</b> bnode.c:80</div></div>
<div class="ttc" id="structhfs__btree_html_ac30702bb8ee324bc6cb1ec132ad44ec6"><div class="ttname"><a href="structhfs__btree.html#ac30702bb8ee324bc6cb1ec132ad44ec6">hfs_btree::sb</a></div><div class="ttdeci">struct super_block * sb</div><div class="ttdef"><b>Definition:</b> btree.h:18</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a778ba0c9759654b8b332930057be56a4"><div class="ttname"><a href="structhfs__btree__header__rec.html#a778ba0c9759654b8b332930057be56a4">hfs_btree_header_rec::max_key_len</a></div><div class="ttdeci">__be16 max_key_len</div><div class="ttdef"><b>Definition:</b> btree.h:146</div></div>
<div class="ttc" id="structhfs__btree_html_a02db80769d32c8eaf76e2eb9d52bc334"><div class="ttname"><a href="structhfs__btree.html#a02db80769d32c8eaf76e2eb9d52bc334">hfs_btree::tree_lock</a></div><div class="ttdeci">struct mutex tree_lock</div><div class="ttdef"><b>Definition:</b> btree.h:37</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a46511c2a4a51ef39147f46f007830e96"><div class="ttname"><a href="structhfs__btree__header__rec.html#a46511c2a4a51ef39147f46f007830e96">hfs_btree_header_rec::leaf_tail</a></div><div class="ttdeci">__be32 leaf_tail</div><div class="ttdef"><b>Definition:</b> btree.h:144</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a276127b86a536a792a5d7594e62eaf4b"><div class="ttname"><a href="hfs_2btree_8h.html#a276127b86a536a792a5d7594e62eaf4b">__hfs_brec_find</a></div><div class="ttdeci">int __hfs_brec_find(struct hfs_bnode *, struct hfs_find_data *)</div><div class="ttdef"><b>Definition:</b> bfind.c:43</div></div>
<div class="ttc" id="structhfs__btree_html_a2769d939036dbfaa76a9f913cacb19b3"><div class="ttname"><a href="structhfs__btree.html#a2769d939036dbfaa76a9f913cacb19b3">hfs_btree::free_nodes</a></div><div class="ttdeci">u32 free_nodes</div><div class="ttdef"><b>Definition:</b> btree.h:28</div></div>
<div class="ttc" id="structhfs__btree_html_a8313c323683d981c2dffa269d573c8e4"><div class="ttname"><a href="structhfs__btree.html#a8313c323683d981c2dffa269d573c8e4">hfs_btree::pages_per_bnode</a></div><div class="ttdeci">unsigned int pages_per_bnode</div><div class="ttdef"><b>Definition:</b> btree.h:39</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a07fc6063295a1aa0066707d229b766f5"><div class="ttname"><a href="hfs_2btree_8h.html#a07fc6063295a1aa0066707d229b766f5">hfs_bnode_find</a></div><div class="ttdeci">struct hfs_bnode * hfs_bnode_find(struct hfs_btree *, u32)</div><div class="ttdef"><b>Definition:</b> bnode.c:312</div></div>
<div class="ttc" id="structhfs__bnode_html_afe13bde7b86dd11683be209be06d25e5"><div class="ttname"><a href="structhfs__bnode.html#afe13bde7b86dd11683be209be06d25e5">hfs_bnode::lock_wq</a></div><div class="ttdeci">wait_queue_head_t lock_wq</div><div class="ttdef"><b>Definition:</b> btree.h:60</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_abfb08314cc03ae34266073dc9d54b775"><div class="ttname"><a href="structhfs__btree__header__rec.html#abfb08314cc03ae34266073dc9d54b775">hfs_btree_header_rec::depth</a></div><div class="ttdeci">__be16 depth</div><div class="ttdef"><b>Definition:</b> btree.h:140</div></div>
<div class="ttc" id="structhfs__find__data_html"><div class="ttname"><a href="structhfs__find__data.html">hfs_find_data</a></div><div class="ttdef"><b>Definition:</b> btree.h:70</div></div>
<div class="ttc" id="structhfs__find__data_html_acf4d680aede7a51606b0c709c77062bc"><div class="ttname"><a href="structhfs__find__data.html#acf4d680aede7a51606b0c709c77062bc">hfs_find_data::record</a></div><div class="ttdeci">int record</div><div class="ttdef"><b>Definition:</b> btree.h:75</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a02b1f60b2a5531daabe12b879d54933f"><div class="ttname"><a href="hfs_2btree_8h.html#a02b1f60b2a5531daabe12b879d54933f">hfs_btree_write</a></div><div class="ttdeci">void hfs_btree_write(struct hfs_btree *)</div><div class="ttdef"><b>Definition:</b> btree.c:160</div></div>
<div class="ttc" id="hfs_2btree_8h_html_adcfab81056a43003ee6bc00dec12a86c"><div class="ttname"><a href="hfs_2btree_8h.html#adcfab81056a43003ee6bc00dec12a86c">NODE_HASH_SIZE</a></div><div class="ttdeci">#define NODE_HASH_SIZE</div><div class="ttdef"><b>Definition:</b> btree.h:14</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a63755177e844fb1d8cdf5f06b96b3d3a"><div class="ttname"><a href="hfs_2btree_8h.html#a63755177e844fb1d8cdf5f06b96b3d3a">hfs_bnode_write</a></div><div class="ttdeci">void hfs_bnode_write(struct hfs_bnode *, void *, int, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:61</div></div>
<div class="ttc" id="unionhfs__btree__key_html"><div class="ttname"><a href="unionhfs__btree__key.html">hfs_btree_key</a></div><div class="ttdef"><b>Definition:</b> hfs.h:164</div></div>
<div class="ttc" id="structhfs__btree_html_a3059780c05c8d1ac5df012cb7a1a2995"><div class="ttname"><a href="structhfs__btree.html#a3059780c05c8d1ac5df012cb7a1a2995">hfs_btree::leaf_count</a></div><div class="ttdeci">u32 leaf_count</div><div class="ttdef"><b>Definition:</b> btree.h:24</div></div>
<div class="ttc" id="structhfs__bnode_html_a4817e5d2f8d355670190731f316c79d3"><div class="ttname"><a href="structhfs__bnode.html#a4817e5d2f8d355670190731f316c79d3">hfs_bnode::height</a></div><div class="ttdeci">u8 height</div><div class="ttdef"><b>Definition:</b> btree.h:56</div></div>
<div class="ttc" id="structhfs__bnode_html_a09afab82d0b5c99362acfeae03a1fa4b"><div class="ttname"><a href="structhfs__bnode.html#a09afab82d0b5c99362acfeae03a1fa4b">hfs_bnode::prev</a></div><div class="ttdeci">u32 prev</div><div class="ttdef"><b>Definition:</b> btree.h:49</div></div>
<div class="ttc" id="structhfs__btree_html_a46f7a8ac39ea22b80aa442e01d7deab9"><div class="ttname"><a href="structhfs__btree.html#a46f7a8ac39ea22b80aa442e01d7deab9">hfs_btree::attributes</a></div><div class="ttdeci">u32 attributes</div><div class="ttdef"><b>Definition:</b> btree.h:29</div></div>
<div class="ttc" id="structhfs__find__data_html_a036450d624a72061335d885266538670"><div class="ttname"><a href="structhfs__find__data.html#a036450d624a72061335d885266538670">hfs_find_data::key</a></div><div class="ttdeci">btree_key * key</div><div class="ttdef"><b>Definition:</b> btree.h:71</div></div>
<div class="ttc" id="structhfs__btree_html_a0f025098b9bf38d317b08f327c9c5ae1"><div class="ttname"><a href="structhfs__btree.html#a0f025098b9bf38d317b08f327c9c5ae1">hfs_btree::depth</a></div><div class="ttdeci">unsigned int depth</div><div class="ttdef"><b>Definition:</b> btree.h:34</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a51402c9a97600c2d262c09f50efcdaa9"><div class="ttname"><a href="hfs_2btree_8h.html#a51402c9a97600c2d262c09f50efcdaa9">hfs_find_init</a></div><div class="ttdeci">int hfs_find_init(struct hfs_btree *, struct hfs_find_data *)</div><div class="ttdef"><b>Definition:</b> bfind.c:15</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a7476e3958c299e1fa271ab544dd9479a"><div class="ttname"><a href="structhfs__btree__header__rec.html#a7476e3958c299e1fa271ab544dd9479a">hfs_btree_header_rec::attributes</a></div><div class="ttdeci">__be32 attributes</div><div class="ttdef"><b>Definition:</b> btree.h:153</div></div>
<div class="ttc" id="structhfs__bnode_html_abcedc85d18da49c566309e4aee828033"><div class="ttname"><a href="structhfs__bnode.html#abcedc85d18da49c566309e4aee828033">hfs_bnode::page_offset</a></div><div class="ttdeci">unsigned int page_offset</div><div class="ttdef"><b>Definition:</b> btree.h:62</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html"><div class="ttname"><a href="structhfs__btree__header__rec.html">hfs_btree_header_rec</a></div><div class="ttdef"><b>Definition:</b> btree.h:139</div></div>
<div class="ttc" id="structhfs__btree_html_ad91eb18c328df6a64a82262f362203f2"><div class="ttname"><a href="structhfs__btree.html#ad91eb18c328df6a64a82262f362203f2">hfs_btree::node_count</a></div><div class="ttdeci">u32 node_count</div><div class="ttdef"><b>Definition:</b> btree.h:27</div></div>
<div class="ttc" id="structhfs__btree_html_a5148d343f679356f9c7c77e4b9853817"><div class="ttname"><a href="structhfs__btree.html#a5148d343f679356f9c7c77e4b9853817">hfs_btree::leaf_tail</a></div><div class="ttdeci">u32 leaf_tail</div><div class="ttdef"><b>Definition:</b> btree.h:26</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a22b8915d350432a67beee29a2024a38b"><div class="ttname"><a href="hfs_2btree_8h.html#a22b8915d350432a67beee29a2024a38b">hfs_brec_keylen</a></div><div class="ttdeci">u16 hfs_brec_keylen(struct hfs_bnode *, u16)</div><div class="ttdef"><b>Definition:</b> brec.c:31</div></div>
<div class="ttc" id="structhfs__find__data_html_af0ba44105670ea65dc747143832fb9a3"><div class="ttname"><a href="structhfs__find__data.html#af0ba44105670ea65dc747143832fb9a3">hfs_find_data::entryoffset</a></div><div class="ttdeci">int entryoffset</div><div class="ttdef"><b>Definition:</b> btree.h:77</div></div>
<div class="ttc" id="structhfs__bnode__desc_html_ac1d95776b311432753cdb67363957d47"><div class="ttname"><a href="structhfs__bnode__desc.html#ac1d95776b311432753cdb67363957d47">hfs_bnode_desc::reserved</a></div><div class="ttdeci">u16 reserved</div><div class="ttdef"><b>Definition:</b> btree.h:131</div></div>
<div class="ttc" id="structhfs__btree_html_a89b2f7fee69e732a27005bc08fd859f9"><div class="ttname"><a href="structhfs__btree.html#a89b2f7fee69e732a27005bc08fd859f9">hfs_btree::hash_lock</a></div><div class="ttdeci">spinlock_t hash_lock</div><div class="ttdef"><b>Definition:</b> btree.h:40</div></div>
<div class="ttc" id="structhfs__bnode_html_a3764c468e5d1d276ec9d30e219f2660f"><div class="ttname"><a href="structhfs__bnode.html#a3764c468e5d1d276ec9d30e219f2660f">hfs_bnode::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition:</b> btree.h:59</div></div>
<div class="ttc" id="hfs_2btree_8h_html_ae2655499c99d9faa16a0748c9b91b289"><div class="ttname"><a href="hfs_2btree_8h.html#ae2655499c99d9faa16a0748c9b91b289">hfs_bnode_move</a></div><div class="ttdeci">void hfs_bnode_move(struct hfs_bnode *, int, int, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:117</div></div>
<div class="ttc" id="structhfs__btree_html_a4510e781a26502ada9ef222ff88d4a20"><div class="ttname"><a href="structhfs__btree.html#a4510e781a26502ada9ef222ff88d4a20">hfs_btree::node_hash</a></div><div class="ttdeci">struct hfs_bnode * node_hash[NODE_HASH_SIZE]</div><div class="ttdef"><b>Definition:</b> btree.h:41</div></div>
<div class="ttc" id="structhfs__btree_html_a7008a681d0b0e606d042f12efc822709"><div class="ttname"><a href="structhfs__btree.html#a7008a681d0b0e606d042f12efc822709">hfs_btree::node_hash_cnt</a></div><div class="ttdeci">int node_hash_cnt</div><div class="ttdef"><b>Definition:</b> btree.h:42</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a06833299c48118f2498fdcdac25106ec"><div class="ttname"><a href="hfs_2btree_8h.html#a06833299c48118f2498fdcdac25106ec">hfs_bnode_unlink</a></div><div class="ttdeci">void hfs_bnode_unlink(struct hfs_bnode *)</div><div class="ttdef"><b>Definition:</b> bnode.c:171</div></div>
<div class="ttc" id="hfs_2btree_8h_html_af511d897f93e321451cacca725300960"><div class="ttname"><a href="hfs_2btree_8h.html#af511d897f93e321451cacca725300960">hfs_bnode_read_u8</a></div><div class="ttdeci">u8 hfs_bnode_read_u8(struct hfs_bnode *, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:38</div></div>
<div class="ttc" id="structhfs__btree_html_a7b4114869b342448ad98cd6de30a9772"><div class="ttname"><a href="structhfs__btree.html#a7b4114869b342448ad98cd6de30a9772">hfs_btree::leaf_head</a></div><div class="ttdeci">u32 leaf_head</div><div class="ttdef"><b>Definition:</b> btree.h:25</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a9839f37741b7b11a1ed01f3fea28aa13"><div class="ttname"><a href="hfs_2btree_8h.html#a9839f37741b7b11a1ed01f3fea28aa13">hfs_bnode_unhash</a></div><div class="ttdeci">void hfs_bnode_unhash(struct hfs_bnode *)</div><div class="ttdef"><b>Definition:</b> bnode.c:297</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a331eab080284070d933823d716d7f0b9"><div class="ttname"><a href="hfs_2btree_8h.html#a331eab080284070d933823d716d7f0b9">hfs_bmap_free</a></div><div class="ttdeci">void hfs_bmap_free(struct hfs_bnode *node)</div><div class="ttdef"><b>Definition:</b> btree.c:312</div></div>
<div class="ttc" id="structhfs__bnode__desc_html_a3bad771355132bac264bc1a7931f5fcc"><div class="ttname"><a href="structhfs__bnode__desc.html#a3bad771355132bac264bc1a7931f5fcc">hfs_bnode_desc::height</a></div><div class="ttdeci">u8 height</div><div class="ttdef"><b>Definition:</b> btree.h:129</div></div>
<div class="ttc" id="structhfs__find__data_html_a098303d96ebebac1de20f5b83f3f4c5e"><div class="ttname"><a href="structhfs__find__data.html#a098303d96ebebac1de20f5b83f3f4c5e">hfs_find_data::tree</a></div><div class="ttdeci">struct hfs_btree * tree</div><div class="ttdef"><b>Definition:</b> btree.h:73</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a4c3c02f8aecf71d1f0e39bf8e5f71aa7"><div class="ttname"><a href="hfs_2btree_8h.html#a4c3c02f8aecf71d1f0e39bf8e5f71aa7">hfs_btree_open</a></div><div class="ttdeci">struct hfs_btree * hfs_btree_open(struct super_block *, u32, btree_keycmp)</div><div class="ttdef"><b>Definition:</b> btree.c:19</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a6d0d799425679227cd7e8b28b64f01ec"><div class="ttname"><a href="hfs_2btree_8h.html#a6d0d799425679227cd7e8b28b64f01ec">hfs_brec_find</a></div><div class="ttdeci">int hfs_brec_find(struct hfs_find_data *)</div><div class="ttdef"><b>Definition:</b> bfind.c:95</div></div>
<div class="ttc" id="hfs_2btree_8h_html_af1835d6bba648810786ed0ec150da398"><div class="ttname"><a href="hfs_2btree_8h.html#af1835d6bba648810786ed0ec150da398">hfs_bnode_dump</a></div><div class="ttdeci">void hfs_bnode_dump(struct hfs_bnode *)</div><div class="ttdef"><b>Definition:</b> bnode.c:134</div></div>
<div class="ttc" id="structhfs__bnode_html_a896e26e13d8e06b924b552432f4070d4"><div class="ttname"><a href="structhfs__bnode.html#a896e26e13d8e06b924b552432f4070d4">hfs_bnode::parent</a></div><div class="ttdeci">u32 parent</div><div class="ttdef"><b>Definition:</b> btree.h:52</div></div>
<div class="ttc" id="structhfs__find__data_html_a099d4be65afcc4fe954c1bcbde25e34b"><div class="ttname"><a href="structhfs__find__data.html#a099d4be65afcc4fe954c1bcbde25e34b">hfs_find_data::bnode</a></div><div class="ttdeci">struct hfs_bnode * bnode</div><div class="ttdef"><b>Definition:</b> btree.h:74</div></div>
<div class="ttc" id="structhfs__bnode_html_a1cd9ae78f925bdf779a751501880b94b"><div class="ttname"><a href="structhfs__bnode.html#a1cd9ae78f925bdf779a751501880b94b">hfs_bnode::next_hash</a></div><div class="ttdeci">struct hfs_bnode * next_hash</div><div class="ttdef"><b>Definition:</b> btree.h:58</div></div>
<div class="ttc" id="hfs_2btree_8h_html_aec7027de55e3b3728b0b9c2d59ef87dc"><div class="ttname"><a href="hfs_2btree_8h.html#aec7027de55e3b3728b0b9c2d59ef87dc">hfs_bnode_read</a></div><div class="ttdeci">void hfs_bnode_read(struct hfs_bnode *, void *, int, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:18</div></div>
<div class="ttc" id="hfs_2btree_8h_html_a0df272ee7424afa22a854753cf787450"><div class="ttname"><a href="hfs_2btree_8h.html#a0df272ee7424afa22a854753cf787450">hfs_bnode_clear</a></div><div class="ttdeci">void hfs_bnode_clear(struct hfs_bnode *, int, int)</div><div class="ttdef"><b>Definition:</b> bnode.c:86</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a12e346b94b73197ea4ae798e18f2522d"><div class="ttname"><a href="structhfs__btree__header__rec.html#a12e346b94b73197ea4ae798e18f2522d">hfs_btree_header_rec::node_count</a></div><div class="ttdeci">__be32 node_count</div><div class="ttdef"><b>Definition:</b> btree.h:147</div></div>
<div class="ttc" id="structhfs__bnode_html_a265f2fc6ad1b960995f10af05a0b05f7"><div class="ttname"><a href="structhfs__bnode.html#a265f2fc6ad1b960995f10af05a0b05f7">hfs_bnode::refcnt</a></div><div class="ttdeci">atomic_t refcnt</div><div class="ttdef"><b>Definition:</b> btree.h:61</div></div>
<div class="ttc" id="hfs__fs_8h_html"><div class="ttname"><a href="hfs__fs_8h.html">hfs_fs.h</a></div></div>
<div class="ttc" id="structhfs__btree_html_a4f46a498dcb02b83fb18e1d87e629c70"><div class="ttname"><a href="structhfs__btree.html#a4f46a498dcb02b83fb18e1d87e629c70">hfs_btree::node_size_shift</a></div><div class="ttdeci">unsigned int node_size_shift</div><div class="ttdef"><b>Definition:</b> btree.h:32</div></div>
<div class="ttc" id="structhfs__find__data_html_ae2b306b75eec9bd020b4befa69d7fb3d"><div class="ttname"><a href="structhfs__find__data.html#ae2b306b75eec9bd020b4befa69d7fb3d">hfs_find_data::keyoffset</a></div><div class="ttdeci">int keyoffset</div><div class="ttdef"><b>Definition:</b> btree.h:76</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a09f562fbbb8d2434523673dba7148bdd"><div class="ttname"><a href="structhfs__btree__header__rec.html#a09f562fbbb8d2434523673dba7148bdd">hfs_btree_header_rec::reserved1</a></div><div class="ttdeci">u16 reserved1</div><div class="ttdef"><b>Definition:</b> btree.h:149</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a7c547f03657efffecac32ff213045380"><div class="ttname"><a href="structhfs__btree__header__rec.html#a7c547f03657efffecac32ff213045380">hfs_btree_header_rec::free_nodes</a></div><div class="ttdeci">__be32 free_nodes</div><div class="ttdef"><b>Definition:</b> btree.h:148</div></div>
<div class="ttc" id="structhfs__bnode_html_ae8ba003cc3f2a40809f27301361420fd"><div class="ttname"><a href="structhfs__bnode.html#ae8ba003cc3f2a40809f27301361420fd">hfs_bnode::next</a></div><div class="ttdeci">u32 next</div><div class="ttdef"><b>Definition:</b> btree.h:51</div></div>
<div class="ttc" id="hfs_2btree_8h_html_aacf634db9127e810ab7e5b1ddeca80d0"><div class="ttname"><a href="hfs_2btree_8h.html#aacf634db9127e810ab7e5b1ddeca80d0">hfs_bnode_put</a></div><div class="ttdeci">void hfs_bnode_put(struct hfs_bnode *)</div><div class="ttdef"><b>Definition:</b> bnode.c:454</div></div>
<div class="ttc" id="structhfs__find__data_html_a2bf234ba0eec140fba3b1b87424c0ba8"><div class="ttname"><a href="structhfs__find__data.html#a2bf234ba0eec140fba3b1b87424c0ba8">hfs_find_data::search_key</a></div><div class="ttdeci">btree_key * search_key</div><div class="ttdef"><b>Definition:</b> btree.h:72</div></div>
<div class="ttc" id="structhfs__bnode__desc_html_ad1cc4ddac2a4722afa5e24cbe252e293"><div class="ttname"><a href="structhfs__bnode__desc.html#ad1cc4ddac2a4722afa5e24cbe252e293">hfs_bnode_desc::next</a></div><div class="ttdeci">__be32 next</div><div class="ttdef"><b>Definition:</b> btree.h:126</div></div>
<div class="ttc" id="structhfs__btree__header__rec_html_a324a3a1b8da11f09db04de8eae7ac9b2"><div class="ttname"><a href="structhfs__btree__header__rec.html#a324a3a1b8da11f09db04de8eae7ac9b2">hfs_btree_header_rec::leaf_count</a></div><div class="ttdeci">__be32 leaf_count</div><div class="ttdef"><b>Definition:</b> btree.h:142</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e61b6864bb18024e7a560c73be1ef2e8.html">hfs</a></li><li class="navelem"><a class="el" href="hfs_2btree_8h.html">btree.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
