<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: btrfs/free-space-cache.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('free-space-cache_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">free-space-cache.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h__dep__incl.png" border="0" usemap="#btrfs_2free-space-cache_8hdep" alt=""/></div>
<map name="btrfs_2free-space-cache_8hdep" id="btrfs_2free-space-cache_8hdep">
<area shape="rect" id="node2" href="disk-io_8c.html" title="btrfs/disk&#45;io.c" alt="" coords="5,87,107,114"/>
<area shape="rect" id="node3" href="extent-tree_8c.html" title="btrfs/extent&#45;tree.c" alt="" coords="131,87,256,114"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html" title="btrfs/free&#45;space&#45;cache.c" alt="" coords="280,87,443,114"/>
<area shape="rect" id="node5" href="inode-map_8c.html" title="btrfs/inode&#45;map.c" alt="" coords="467,87,589,114"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html" title="btrfs/inode.c" alt="" coords="614,87,709,114"/>
<area shape="rect" id="node7" href="relocation_8c.html" title="btrfs/relocation.c" alt="" coords="733,87,851,114"/>
<area shape="rect" id="node8" href="btrfs_2super_8c.html" title="btrfs/super.c" alt="" coords="875,87,970,114"/>
<area shape="rect" id="node9" href="btrfs-tests_8c.html" title="btrfs/tests/btrfs&#45;tests.c" alt="" coords="995,87,1149,114"/>
<area shape="rect" id="node10" href="free-space-tests_8c.html" title="btrfs/tests/free&#45;space\l&#45;tests.c" alt="" coords="1173,80,1320,121"/>
</map>
</div>
</div>
<p><a href="free-space-cache_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbtrfs__free__space.html">btrfs_free_space</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbtrfs__free__space__ctl.html">btrfs_free_space_ctl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbtrfs__free__space__op.html">btrfs_free_space_op</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1a72d35cb0f7682b8631325e80b2521c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a1a72d35cb0f7682b8631325e80b2521c">lookup_free_space_inode</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a1a72d35cb0f7682b8631325e80b2521c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0235f9844515fab31ecaeb55b73204ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a0235f9844515fab31ecaeb55b73204ff">create_free_space_inode</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a0235f9844515fab31ecaeb55b73204ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59a9fc9aa34f4583139bf2bd59ce960"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960">btrfs_check_trunc_cache_free_space</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *rsv)</td></tr>
<tr class="separator:aa59a9fc9aa34f4583139bf2bd59ce960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf1acce3fff389beceb30fc23f25bfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd">btrfs_truncate_free_space_cache</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:a0bf1acce3fff389beceb30fc23f25bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7e5476ce96a6c619bd21d2d7a63743"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a0a7e5476ce96a6c619bd21d2d7a63743">load_free_space_cache</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:a0a7e5476ce96a6c619bd21d2d7a63743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ce521464eebedfc2a4f39f1a6471c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#aa8ce521464eebedfc2a4f39f1a6471c0">btrfs_wait_cache_io</a> (struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:aa8ce521464eebedfc2a4f39f1a6471c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4882ca09e6b6af79cae4f84cf77c597f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a4882ca09e6b6af79cae4f84cf77c597f">btrfs_write_out_cache</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a4882ca09e6b6af79cae4f84cf77c597f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602665caf7e3380ed8e37839c08ee248"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a602665caf7e3380ed8e37839c08ee248">lookup_free_ino_inode</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:a602665caf7e3380ed8e37839c08ee248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4424aeb02411716c944235b5c029283"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#ac4424aeb02411716c944235b5c029283">create_free_ino_inode</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path)</td></tr>
<tr class="separator:ac4424aeb02411716c944235b5c029283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d9cd73538570e3e98681aed4bce7e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a22d9cd73538570e3e98681aed4bce7e3">load_free_ino_cache</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>)</td></tr>
<tr class="separator:a22d9cd73538570e3e98681aed4bce7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad886e23ce385c40743cd1bc051e5d7b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#ad886e23ce385c40743cd1bc051e5d7b1">btrfs_write_out_ino_cache</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a3cfd2c1908c7a280340fc7ee887a88a8">root</a>, struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *trans, struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *path, struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *<a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>)</td></tr>
<tr class="separator:ad886e23ce385c40743cd1bc051e5d7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec209aee64785809739538d21193bd63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#aec209aee64785809739538d21193bd63">btrfs_init_free_space_ctl</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:aec209aee64785809739538d21193bd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39f85496295a72b321484c11192f7be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be">__btrfs_add_free_space</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__free__space__ctl.html">btrfs_free_space_ctl</a> *ctl, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:ab39f85496295a72b321484c11192f7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade04eab87fe2862eda09511dd8f6b146"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146">btrfs_add_free_space</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:ade04eab87fe2862eda09511dd8f6b146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292acca8523a02084b56255eeb1a12dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd">btrfs_remove_free_space</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, u64 <a class="el" href="ctree_8h.html#a88de2272189d0b1a5b4925dad2bbc9cd">bytenr</a>, u64 <a class="el" href="cifspdu_8h.html#a9eb13703e1b3d14d62f2666b1c09b41f">size</a>)</td></tr>
<tr class="separator:a292acca8523a02084b56255eeb1a12dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644522ac74560fd012e6bf8950d07cd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4">__btrfs_remove_free_space_cache</a> (struct <a class="el" href="structbtrfs__free__space__ctl.html">btrfs_free_space_ctl</a> *ctl)</td></tr>
<tr class="separator:a644522ac74560fd012e6bf8950d07cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16073e7cd3112aa904fad74bcab1c0f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1">btrfs_remove_free_space_cache</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group)</td></tr>
<tr class="separator:a16073e7cd3112aa904fad74bcab1c0f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13eef557dd6531827014845e4c74cdd1"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1">btrfs_find_space_for_alloc</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 bytes, u64 empty_size, u64 *max_extent_size)</td></tr>
<tr class="separator:a13eef557dd6531827014845e4c74cdd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d06214b4c249a8c4aed47c8032ac134"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134">btrfs_find_ino_for_alloc</a> (struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *<a class="el" href="ctree_8h.html#a14effc2331ac24b759290ff8851fc162">fs_root</a>)</td></tr>
<tr class="separator:a2d06214b4c249a8c4aed47c8032ac134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5830e5cda799ed17d785dbe3fd7ae6ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae">btrfs_dump_free_space</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, u64 bytes)</td></tr>
<tr class="separator:a5830e5cda799ed17d785dbe3fd7ae6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11c63fde368e04cf92294103a1f1c67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67">btrfs_find_space_cluster</a> (struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *<a class="el" href="gfs2_2util_8h.html#a456019b4f408891483107429ad951b15">fs_info</a>, struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *cluster, u64 <a class="el" href="summary_8h.html#a3875b4f2ee8a9d27ac3b3b145f934f86">offset</a>, u64 bytes, u64 empty_size)</td></tr>
<tr class="separator:af11c63fde368e04cf92294103a1f1c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b87a75f69070ffebad516bca478d24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24">btrfs_init_free_cluster</a> (struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *cluster)</td></tr>
<tr class="separator:ac4b87a75f69070ffebad516bca478d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7179f1be76610ee40440621d7d8190b7"><td class="memItemLeft" align="right" valign="top">u64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7">btrfs_alloc_from_cluster</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *cluster, u64 bytes, u64 min_start, u64 *max_extent_size)</td></tr>
<tr class="separator:a7179f1be76610ee40440621d7d8190b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a45d8ce27b4e589d7a7a2adc9090a1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e">btrfs_return_cluster_to_free_space</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *cluster)</td></tr>
<tr class="separator:a5a45d8ce27b4e589d7a7a2adc9090a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f1401547198cb6265c5d5816e09071e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e">btrfs_trim_block_group</a> (struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *block_group, u64 *trimmed, u64 <a class="el" href="cifspdu_8h.html#a94f8d852c02921f3079f6987b4a5d7d0">start</a>, u64 end, u64 minlen)</td></tr>
<tr class="separator:a4f1401547198cb6265c5d5816e09071e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab39f85496295a72b321484c11192f7be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39f85496295a72b321484c11192f7be">&#9670;&nbsp;</a></span>__btrfs_add_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int __btrfs_add_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__space__ctl.html">btrfs_free_space_ctl</a> *&#160;</td>
          <td class="paramname"><em>ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ab39f85496295a72b321484c11192f7be_cgraph.png" border="0" usemap="#free-space-cache_8h_ab39f85496295a72b321484c11192f7be_cgraph" alt=""/></div>
<map name="free-space-cache_8h_ab39f85496295a72b321484c11192f7be_cgraph" id="free-space-cache_8h_ab39f85496295a72b321484c11192f7be_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="404,461,555,488"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="215,157,343,184"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="623,5,737,32"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="215,284,344,311"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="615,461,745,488"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="799,512,926,539"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="980,537,1121,564"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="621,107,739,133"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="406,56,553,83"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="419,107,539,133"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#a1885a58fe1bee41220c7702ce752b652" title="bitmap_set_bits" alt="" coords="805,107,920,133"/>
<area shape="rect" id="node10" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1023,157,1078,184"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1003,208,1098,235"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1001,107,1101,133"/>
<area shape="rect" id="node11" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1169,157,1288,184"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="801,5,924,32"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="392,255,567,281"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="406,306,553,347"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="618,259,742,285"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="793,157,932,184"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="635,360,725,387"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ab39f85496295a72b321484c11192f7be_icgraph.png" border="0" usemap="#free-space-cache_8h_ab39f85496295a72b321484c11192f7be_icgraph" alt=""/></div>
<map name="free-space-cache_8h_ab39f85496295a72b321484c11192f7be_icgraph" id="free-space-cache_8h_ab39f85496295a72b321484c11192f7be_icgraph">
<area shape="rect" id="node2" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="215,1291,355,1332"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="403,1121,549,1147"/>
<area shape="rect" id="node40" href="inode-map_8c.html#a4cb9ad8a29ccbae989db0aeab97f1b1f" title="caching_kthread" alt="" coords="417,1501,535,1527"/>
<area shape="rect" id="node41" href="inode-map_8c.html#aad21bbf9eaef14e60d772d8b0f96d0dd" title="start_caching" alt="" coords="632,1462,732,1489"/>
<area shape="rect" id="node48" href="inode-map_8h.html#a7c177db0fde1b2cc3160554b363e1665" title="btrfs_return_ino" alt="" coords="850,1551,962,1578"/>
<area shape="rect" id="node49" href="inode-map_8h.html#a802d34b6222f33c81b9b509fd160dee8" title="btrfs_unpin_free_ino" alt="" coords="215,1450,354,1477"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="625,1095,739,1122"/>
<area shape="rect" id="node35" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="829,1349,983,1391"/>
<area shape="rect" id="node39" href="free-space-tests_8c.html#aab816142c4018dfd69d358d8739f5c88" title="check_cache_empty" alt="" coords="405,1298,547,1325"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="835,978,977,1005"/>
<area shape="rect" id="node5" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1045,565,1252,591"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1300,1070,1421,1097"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="609,365,755,391"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="615,565,749,591"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="610,801,754,827"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="608,71,756,112"/>
<area shape="rect" id="node27" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="597,1146,767,1173"/>
<area shape="rect" id="node31" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="859,1298,953,1325"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="635,187,729,214"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="833,289,979,315"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="824,441,988,467"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="824,339,988,366"/>
<area shape="rect" id="node12" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="821,390,991,417"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="823,238,989,265"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="841,557,971,599"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="825,492,987,533"/>
<area shape="rect" id="node18" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="841,826,971,853"/>
<area shape="rect" id="node19" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="855,877,957,903"/>
<area shape="rect" id="node20" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="856,927,956,954"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="855,674,957,701"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="815,725,997,751"/>
<area shape="rect" id="node23" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="839,775,973,802"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="839,71,973,112"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="841,5,971,47"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="837,1146,975,1173"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="1064,1121,1233,1147"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="837,1029,975,1071"/>
<area shape="rect" id="node33" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="857,1197,955,1223"/>
<area shape="rect" id="node34" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="819,1247,993,1274"/>
<area shape="rect" id="node32" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="1075,1240,1223,1281"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="851,137,961,163"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="857,187,955,214"/>
<area shape="rect" id="node42" href="inode-map_8h.html#aff161b58a2844f67e0249d3a66f92f96" title="btrfs_find_free_ino" alt="" coords="841,1449,971,1475"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="1101,1474,1196,1501"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="1103,1525,1194,1551"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="1105,1306,1192,1333"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#afda26b056b51ec0a37238cf1afe1e930" title="btrfs_whiteout_for\l_rename" alt="" coords="1085,1357,1212,1399"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="1099,1423,1199,1450"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a530799217731333b6bf18b4fae041f9e" title="switch_commit_roots" alt="" coords="403,1450,549,1477"/>
</map>
</div>

</div>
</div>
<a id="a644522ac74560fd012e6bf8950d07cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644522ac74560fd012e6bf8950d07cd4">&#9670;&nbsp;</a></span>__btrfs_remove_free_space_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __btrfs_remove_free_space_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__space__ctl.html">btrfs_free_space_ctl</a> *&#160;</td>
          <td class="paramname"><em>ctl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_cgraph.png" border="0" usemap="#free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_cgraph" id="free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="195,5,345,47"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="532,13,659,39"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="393,38,484,65"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="707,13,848,39"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_icgraph.png" border="0" usemap="#free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_icgraph" id="free-space-cache_8h_a644522ac74560fd012e6bf8950d07cd4_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#a6021c3e5d3e4407c076b6c52e8096460" title="btrfs_drop_and_free\l_fs_root" alt="" coords="213,743,350,784"/>
<area shape="rect" id="node28" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="195,1894,368,1921"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="420,1945,579,1971"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="206,1180,357,1221"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="644,1654,791,1681"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="1109,1738,1204,1765"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="1108,1906,1205,1933"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="1069,1789,1244,1815"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="1079,1840,1234,1881"/>
<area shape="rect" id="node50" href="btrfs-tests_8c.html#ac067b9ffcda2edbc5fbddebca11d4e09" title="btrfs_free_dummy_block\l_group" alt="" coords="635,1364,800,1405"/>
<area shape="rect" id="node3" href="disk-io_8h.html#a69374c305daba80cd699da9f35cbe12e" title="btrfs_free_fs_roots" alt="" coords="434,1007,565,1034"/>
<area shape="rect" id="node10" href="disk-io_8h.html#a837c73b088b5c620f2d035b94908f54f" title="btrfs_read_fs_root\l_no_name" alt="" coords="436,485,563,527"/>
<area shape="rect" id="node27" href="btrfs_2transaction_8c.html#a530799217731333b6bf18b4fae041f9e" title="switch_commit_roots" alt="" coords="426,434,573,461"/>
<area shape="rect" id="node4" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="893,1007,980,1034"/>
<area shape="rect" id="node5" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1102,1007,1211,1034"/>
<area shape="rect" id="node6" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="673,1058,762,1085"/>
<area shape="rect" id="node7" href="btrfs-tests_8c.html#aab5de5cb02c19933790dc9e2bba522d2" title="btrfs_free_dummy_fs_info" alt="" coords="631,1270,804,1297"/>
<area shape="rect" id="node8" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="1321,1756,1469,1797"/>
<area shape="rect" id="node9" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="902,1321,971,1347"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a097a5cc4f57b1d502f3003e885939dc2" title="__btrfs_run_defrag\l_inode" alt="" coords="652,173,783,215"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae56dc755d837d599891f4f947f112793" title="record_one_backref" alt="" coords="649,239,785,266"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#adbccf7f88760795f4049dea4f3e4bdcd" title="relink_extent_backref" alt="" coords="644,442,791,469"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a5c24f8dcf30837f939a269ab7085eece" title="fixup_tree_root_location" alt="" coords="637,493,797,519"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a08b4061ef6a792135690d79e85babde3" title="get_subvol_name_from\l_objectid" alt="" coords="639,544,796,585"/>
<area shape="rect" id="node16" href="btrfs_2export_8c.html#a3acc139bb6c776981a95a91f948b4978" title="btrfs_get_dentry" alt="" coords="659,391,775,418"/>
<area shape="rect" id="node17" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="885,315,988,342"/>
<area shape="rect" id="node18" href="btrfs_2ioctl_8c.html#acd25396ad95ce47c7ca36ee1922cf63e" title="search_ioctl" alt="" coords="671,610,763,637"/>
<area shape="rect" id="node19" href="btrfs_2ioctl_8c.html#a87337b924ccc1a0b031c5e19a431762f" title="btrfs_search_path_in_tree" alt="" coords="631,661,803,687"/>
<area shape="rect" id="node20" href="btrfs_2ioctl_8c.html#acbb659751dffbe2f6c35936e7fbdb7bc" title="btrfs_ioctl_default\l_subvol" alt="" coords="655,712,780,753"/>
<area shape="rect" id="node21" href="qgroup_8h.html#a8e37745854c4f43ca0fd229b589ff90a" title="btrfs_qgroup_inherit" alt="" coords="649,290,785,317"/>
<area shape="rect" id="node22" href="btrfs_2scrub_8c.html#aa59350bb668e3d5f66d8cea9d49a0397" title="scrub_print_warning\l_inode" alt="" coords="648,777,787,819"/>
<area shape="rect" id="node23" href="btrfs_2scrub_8c.html#ac6823fce49dc47a28625d4701dd6912f" title="scrub_fixup_readpage" alt="" coords="643,843,792,870"/>
<area shape="rect" id="node24" href="btrfs_2scrub_8c.html#aedd0baa4aecf242d27b1f97ae1b490df" title="copy_nocow_pages_for\l_inode" alt="" coords="638,5,797,47"/>
<area shape="rect" id="node25" href="send_8c.html#a63f24a806681201190dbe5f61f82f8dc" title="btrfs_ioctl_send" alt="" coords="660,71,775,98"/>
<area shape="rect" id="node26" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="632,122,803,149"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#a22d9cd73538570e3e98681aed4bce7e3" title="load_free_ino_cache" alt="" coords="429,1894,570,1921"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="650,1945,785,1971"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="879,1945,994,1971"/>
<area shape="rect" id="node34" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1292,1189,1499,1215"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1092,1211,1221,1252"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="416,1058,583,1085"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="422,1577,577,1603"/>
<area shape="rect" id="node49" href="transaction_8h.html#a2816f13969596828c1ef074666fc618a" title="btrfs_put_transaction" alt="" coords="427,1109,571,1135"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="864,1641,1009,1667"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="869,1422,1004,1449"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1085,1327,1229,1354"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="863,1524,1011,1565"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="852,1793,1021,1819"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="890,1590,983,1617"/>
</map>
</div>

</div>
</div>
<a id="ade04eab87fe2862eda09511dd8f6b146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade04eab87fe2862eda09511dd8f6b146">&#9670;&nbsp;</a></span>btrfs_add_free_space()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int btrfs_add_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_cgraph.png" border="0" usemap="#free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_cgraph" alt=""/></div>
<map name="free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_cgraph" id="free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="417,1233,579,1259"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="627,770,796,797"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="214,1609,355,1651"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="200,1544,369,1585"/>
<area shape="rect" id="node31" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="215,1167,355,1208"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="870,1420,993,1461"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1255,1739,1413,1766"/>
<area shape="rect" id="node36" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="629,517,793,543"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="211,1790,358,1817"/>
<area shape="rect" id="node42" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="417,833,579,859"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="217,1284,352,1325"/>
<area shape="rect" id="node45" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="634,187,789,214"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="856,1369,1007,1395"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="647,871,775,898"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1080,491,1193,518"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="647,1233,776,1259"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1071,821,1202,847"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1271,1454,1397,1481"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1461,1429,1603,1455"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1077,897,1196,923"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="858,846,1005,873"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="871,694,991,721"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1273,535,1395,562"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="844,1099,1019,1126"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="858,1252,1005,1293"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1485,998,1579,1025"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1075,1150,1199,1177"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1265,1099,1403,1126"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1091,1302,1182,1329"/>
<area shape="rect" id="node18" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1505,1689,1559,1715"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1482,897,1582,923"/>
<area shape="rect" id="node19" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1651,1689,1769,1715"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="859,1150,1003,1177"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1083,947,1190,974"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="423,1591,573,1632"/>
<area shape="rect" id="node29" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="424,1284,572,1325"/>
<area shape="rect" id="node30" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="636,1385,787,1411"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="874,947,989,974"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="417,1030,579,1057"/>
<area shape="rect" id="node37" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="884,390,979,417"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="848,491,1015,518"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="858,542,1005,569"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#acad84171c8b6c303e0701b0e052f87ea" title="btrfs_bitmap_cluster" alt="" coords="1067,390,1207,417"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="851,1049,1012,1075"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="856,121,1007,163"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="876,187,987,214"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="883,998,980,1025"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="856,56,1007,97"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1090,187,1183,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_icgraph.png" border="0" usemap="#free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_icgraph" alt=""/></div>
<map name="free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_icgraph" id="free-space-cache_8h_ade04eab87fe2862eda09511dd8f6b146_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="212,119,357,146"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="217,500,352,527"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="433,624,577,651"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="227,278,342,304"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="211,362,359,404"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="200,726,369,752"/>
<area shape="rect" id="node43" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="457,878,552,904"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="427,929,582,970"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="238,995,331,1022"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="670,6,817,32"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="423,195,587,222"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="423,144,587,171"/>
<area shape="rect" id="node14" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="419,43,590,70"/>
<area shape="rect" id="node16" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="421,94,588,120"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="931,68,1041,95"/>
<area shape="rect" id="node6" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="640,304,847,331"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1133,330,1219,356"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="925,414,1047,440"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="935,363,1037,390"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="911,246,1061,272"/>
<area shape="rect" id="node10" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="902,297,1070,338"/>
<area shape="rect" id="node13" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="674,144,813,171"/>
<area shape="rect" id="node15" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="670,68,817,95"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="440,428,569,469"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="423,493,586,534"/>
<area shape="rect" id="node19" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="659,355,828,382"/>
<area shape="rect" id="node20" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="895,464,1077,491"/>
<area shape="rect" id="node22" href="disk-io_8c.html#a104a95a524285e86c8267045ff366cf7" title="btrfs_destroy_pinned\l_extent" alt="" coords="672,406,815,448"/>
<area shape="rect" id="node24" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="678,726,809,752"/>
<area shape="rect" id="node26" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1125,611,1227,638"/>
<area shape="rect" id="node29" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="693,776,793,803"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="692,523,795,550"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="676,624,811,651"/>
<area shape="rect" id="node25" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="927,650,1045,676"/>
<area shape="rect" id="node28" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="922,726,1050,752"/>
<area shape="rect" id="node27" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1275,611,1439,638"/>
<area shape="rect" id="node30" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="931,776,1041,803"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a80ebfa069d32a7ccf980f7859f430d7a" title="walk_up_tree" alt="" coords="937,523,1035,550"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="434,246,575,272"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="437,297,572,338"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="440,362,569,404"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="435,675,574,702"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="659,827,828,854"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="436,558,573,600"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="456,827,553,854"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="417,776,592,803"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="669,878,817,920"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="449,995,560,1022"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="456,1046,553,1072"/>
</map>
</div>

</div>
</div>
<a id="a7179f1be76610ee40440621d7d8190b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7179f1be76610ee40440621d7d8190b7">&#9670;&nbsp;</a></span>btrfs_alloc_from_cluster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_alloc_from_cluster </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *&#160;</td>
          <td class="paramname"><em>cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>min_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>max_extent_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_cgraph.png" border="0" usemap="#free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_cgraph" id="free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="215,31,376,57"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="440,5,547,32"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="424,56,563,83"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="613,56,708,83"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="611,5,711,32"/>
<area shape="rect" id="node7" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="633,107,688,133"/>
<area shape="rect" id="node8" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="759,107,877,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_icgraph.png" border="0" usemap="#free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_icgraph" id="free-space-cache_8h_a7179f1be76610ee40440621d7d8190b7_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="437,369,551,395"/>
<area shape="rect" id="node20" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="215,731,361,758"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="643,271,785,298"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1077,238,1266,265"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="880,174,989,201"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="854,275,1015,302"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="865,83,1004,124"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1068,579,1275,606"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="860,478,1009,505"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1330,238,1465,265"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1103,137,1239,163"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1332,162,1463,189"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1093,289,1250,315"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="1109,71,1233,112"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="1109,5,1233,47"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1337,630,1458,657"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1346,529,1449,555"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1323,579,1472,606"/>
<area shape="rect" id="node19" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1106,777,1237,803"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="641,630,787,657"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="427,731,561,758"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="863,1075,1007,1102"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="420,521,568,563"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="409,915,579,942"/>
<area shape="rect" id="node43" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="667,1134,761,1161"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="637,1068,791,1109"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="447,419,541,446"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="861,681,1008,707"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="853,579,1017,606"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="853,630,1017,657"/>
<area shape="rect" id="node25" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="849,731,1020,758"/>
<area shape="rect" id="node26" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="851,782,1018,809"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="870,833,999,875"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="633,681,795,723"/>
<area shape="rect" id="node31" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1121,1126,1222,1153"/>
<area shape="rect" id="node32" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1121,1177,1221,1203"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1120,974,1223,1001"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1080,1025,1263,1051"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1104,1075,1239,1102"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="647,424,781,465"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="649,521,779,563"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="645,865,783,891"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="850,950,1019,977"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="645,799,783,840"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="665,1017,763,1043"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="627,966,801,993"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="861,1009,1009,1051"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="659,322,769,349"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="665,373,763,399"/>
</map>
</div>

</div>
</div>
<a id="aa59a9fc9aa34f4583139bf2bd59ce960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59a9fc9aa34f4583139bf2bd59ce960">&#9670;&nbsp;</a></span>btrfs_check_trunc_cache_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_check_trunc_cache_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__rsv.html">btrfs_block_rsv</a> *&#160;</td>
          <td class="paramname"><em>rsv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_cgraph.png" border="0" usemap="#free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_cgraph" alt=""/></div>
<map name="free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_cgraph" id="free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="221,1318,428,1344"/>
<area shape="rect" id="node5" href="ctree_8h.html#a79530e42573c0ee074ceb96fb035254f" title="btrfs_calc_trans_metadata_size" alt="" coords="720,56,927,83"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="504,45,644,86"/>
<area shape="rect" id="node4" href="ctree_8h.html#a015def9bee2b1099427293a76b4d9dac" title="btrfs_check_space_for\l_delayed_refs" alt="" coords="497,110,651,152"/>
<area shape="rect" id="node6" href="ctree_8h.html#a5042430ff0e2b119a9e0757957990fe2" title="btrfs_dec_block_group\l_reservations" alt="" coords="497,176,651,217"/>
<area shape="rect" id="node7" href="ctree_8h.html#a0168e2588b90442367ccc0a720842a31" title="btrfs_wait_block_group\l_reservations" alt="" coords="496,241,652,282"/>
<area shape="rect" id="node8" href="ctree_8h.html#a76483eecba3166ce54113a8b1103b92c" title="btrfs_inc_nocow_writers" alt="" coords="493,307,655,334"/>
<area shape="rect" id="node9" href="ctree_8h.html#a7b89d293c884b9014958a872e807f461" title="btrfs_dec_nocow_writers" alt="" coords="491,358,657,384"/>
<area shape="rect" id="node10" href="ctree_8h.html#aed66043c7227815a391ec5c94f0a130c" title="btrfs_wait_nocow_writers" alt="" coords="489,408,659,435"/>
<area shape="rect" id="node11" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="499,459,649,486"/>
<area shape="rect" id="node12" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="497,510,651,536"/>
<area shape="rect" id="node13" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="547,560,601,587"/>
<area shape="rect" id="node14" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="476,611,672,638"/>
<area shape="rect" id="node15" href="ctree_8h.html#a1b703dc5bb638ed6e6375073cf4cf6dd" title="btrfs_lookup_data_extent" alt="" coords="490,662,658,688"/>
<area shape="rect" id="node16" href="ctree_8h.html#aebf50db6f0c334b7307bc8ffeebc91e2" title="btrfs_lookup_extent_info" alt="" coords="492,712,656,739"/>
<area shape="rect" id="node17" href="ctree_8h.html#aa4746d6ccfd60a85e71f8491cf16c80e" title="btrfs_pin_extent" alt="" coords="517,763,631,790"/>
<area shape="rect" id="node18" href="ctree_8h.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="505,814,643,856"/>
<area shape="rect" id="node19" href="ctree_8h.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="501,880,647,921"/>
<area shape="rect" id="node20" href="ctree_8h.html#a0e8834945cdbad2bed4f5e54c0dc4bf4" title="btrfs_cross_ref_exist" alt="" coords="502,946,646,972"/>
<area shape="rect" id="node21" href="ctree_8h.html#ab9ea7458615bced8e4c446085efee976" title="btrfs_lookup_block\l_group" alt="" coords="509,997,639,1038"/>
<area shape="rect" id="node22" href="ctree_8h.html#ace85feeb22eab4716a3ad00746ef5817" title="btrfs_get_block_group" alt="" coords="499,1063,649,1090"/>
<area shape="rect" id="node23" href="ctree_8h.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="499,1114,649,1140"/>
<area shape="rect" id="node24" href="ctree_8h.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="502,1164,646,1191"/>
<area shape="rect" id="node25" href="ctree_8h.html#a19718f01b1cf94cd7c13ad34e4a78e4b" title="btrfs_alloc_reserved\l_file_extent" alt="" coords="505,1216,643,1257"/>
<area shape="rect" id="node26" href="ctree_8h.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="511,1281,637,1322"/>
<area shape="rect" id="node27" href="ctree_8h.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="503,1347,645,1374"/>
<area shape="rect" id="node28" href="ctree_8h.html#a6201d3d49ef1ea5cecafd8b0215f7883" title="btrfs_inc_ref" alt="" coords="527,1398,621,1424"/>
<area shape="rect" id="node29" href="ctree_8h.html#a8356881002980ed9b5559c711f40aee3" title="btrfs_dec_ref" alt="" coords="525,1448,623,1475"/>
<area shape="rect" id="node30" href="ctree_8h.html#a2575f73cc334986f6cf0795278edf5d4" title="btrfs_set_disk_extent\l_flags" alt="" coords="501,1500,647,1541"/>
<area shape="rect" id="node31" href="ctree_8h.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="514,1566,634,1592"/>
<area shape="rect" id="node32" href="ctree_8h.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="507,1617,641,1658"/>
<area shape="rect" id="node33" href="ctree_8h.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="509,1682,639,1724"/>
<area shape="rect" id="node34" href="ctree_8h.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="503,1748,645,1789"/>
<area shape="rect" id="node35" href="ctree_8h.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="509,1865,639,1906"/>
<area shape="rect" id="node36" href="ctree_8h.html#a79cd6c6235cfe3afb4cb4e6cd8e00182" title="btrfs_put_block_group\l_trimming" alt="" coords="748,1865,899,1906"/>
<area shape="rect" id="node37" href="ctree_8h.html#a7090e03dcf937f73e3defbb2cb64eb9f" title="btrfs_inc_extent_ref" alt="" coords="505,2032,643,2059"/>
<area shape="rect" id="node38" href="ctree_8h.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="499,2084,649,2125"/>
<area shape="rect" id="node39" href="ctree_8h.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="497,2149,651,2190"/>
<area shape="rect" id="node40" href="ctree_8h.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="489,2215,659,2242"/>
<area shape="rect" id="node41" href="ctree_8h.html#af76997d3ed3b79189dae0c8e198b56c5" title="btrfs_extent_readonly" alt="" coords="501,2266,647,2292"/>
<area shape="rect" id="node42" href="ctree_8h.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="493,2316,655,2343"/>
<area shape="rect" id="node43" href="ctree_8h.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="492,2367,656,2394"/>
<area shape="rect" id="node44" href="ctree_8h.html#a87b53c7f62479834a9aefd4a088a9a8c" title="btrfs_can_relocate" alt="" coords="509,2418,639,2444"/>
<area shape="rect" id="node45" href="ctree_8h.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="492,2468,656,2495"/>
<area shape="rect" id="node46" href="ctree_8h.html#a7e43e018484a4032a1bd12a9e452606a" title="btrfs_add_raid_kobjects" alt="" coords="494,2519,654,2546"/>
<area shape="rect" id="node47" href="ctree_8h.html#afc98880d81b8272ddf52723622eaf8df" title="btrfs_start_trans_remove\l_block_group" alt="" coords="491,2570,657,2612"/>
<area shape="rect" id="node48" href="ctree_8h.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="506,2636,642,2677"/>
<area shape="rect" id="node49" href="ctree_8h.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="491,1931,657,1958"/>
<area shape="rect" id="node50" href="ctree_8h.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="748,1952,899,1993"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_icgraph.png" border="0" usemap="#free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_icgraph" alt=""/></div>
<map name="free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_icgraph" id="free-space-cache_8h_aa59a9fc9aa34f4583139bf2bd59ce960_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="221,979,352,1005"/>
<area shape="rect" id="node48" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="655,1750,789,1791"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="400,949,571,976"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="410,1001,561,1042"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="409,883,562,925"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="619,1008,825,1035"/>
<area shape="rect" id="node8" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="644,891,800,917"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1131,1707,1252,1733"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="909,983,1012,1009"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="886,1033,1035,1060"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="873,840,1048,867"/>
<area shape="rect" id="node10" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="876,891,1045,917"/>
<area shape="rect" id="node11" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1138,477,1245,504"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1131,528,1252,555"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1141,579,1242,605"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1146,629,1237,656"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1335,31,1493,57"/>
<area shape="rect" id="node16" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1101,5,1281,32"/>
<area shape="rect" id="node17" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1106,680,1277,707"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1134,731,1249,757"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1123,781,1259,808"/>
<area shape="rect" id="node20" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1123,832,1260,859"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1113,883,1269,925"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1107,949,1275,976"/>
<area shape="rect" id="node23" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1096,1000,1287,1027"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1100,1051,1283,1077"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1140,1101,1243,1128"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1132,1152,1251,1179"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1131,1203,1252,1229"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1129,1254,1253,1295"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1122,1320,1261,1347"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1108,1371,1275,1413"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1117,1437,1266,1464"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1112,1488,1271,1515"/>
<area shape="rect" id="node33" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1121,1539,1261,1581"/>
<area shape="rect" id="node34" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1121,1605,1261,1632"/>
<area shape="rect" id="node35" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1128,208,1255,235"/>
<area shape="rect" id="node36" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1341,1284,1487,1311"/>
<area shape="rect" id="node40" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1123,1656,1259,1683"/>
<area shape="rect" id="node41" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1541,480,1703,507"/>
<area shape="rect" id="node42" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1106,157,1277,184"/>
<area shape="rect" id="node43" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1118,310,1265,351"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1132,376,1251,403"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1111,427,1272,453"/>
<area shape="rect" id="node37" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1553,1277,1691,1318"/>
<area shape="rect" id="node38" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="1774,1229,1870,1256"/>
<area shape="rect" id="node39" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1751,1284,1893,1311"/>
<area shape="rect" id="node49" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="889,1757,1032,1784"/>
<area shape="rect" id="node50" href="relocation_8c.html#a8d59bead8199a5cfd091257d6afa16d4" title="add_data_references" alt="" coords="1120,1757,1263,1784"/>
</map>
</div>

</div>
</div>
<a id="a5830e5cda799ed17d785dbe3fd7ae6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5830e5cda799ed17d785dbe3fd7ae6ae">&#9670;&nbsp;</a></span>btrfs_dump_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_dump_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_cgraph.png" border="0" usemap="#free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_cgraph" id="free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_cgraph">
<area shape="rect" id="node2" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="212,5,267,32"/>
<area shape="rect" id="node3" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="315,5,433,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_icgraph.png" border="0" usemap="#free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_icgraph" id="free-space-cache_8h_a5830e5cda799ed17d785dbe3fd7ae6ae_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#aac7f6e48fc93a32e56023f21639d9aa5" title="dump_space_info" alt="" coords="212,380,336,407"/>
<area shape="rect" id="node24" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="985,691,1132,718"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="788,254,937,280"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1408,119,1549,146"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a6799b77c53b912f294f61b60a257de54" title="reserve_metadata_bytes" alt="" coords="384,380,549,407"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="1613,771,1774,798"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1003,203,1115,230"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1181,152,1348,179"/>
<area shape="rect" id="node15" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="989,254,1129,280"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1207,203,1322,230"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1835,35,2025,62"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="1639,35,1748,62"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="1613,86,1774,112"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="1624,137,1763,178"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1827,507,2033,534"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="1619,254,1768,280"/>
<area shape="rect" id="node13" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1865,203,1995,230"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a7a6a9da7492ca4f1fbf607dc7556ad89" title="btrfs_block_rsv_add" alt="" coords="599,304,738,331"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a089cda8b8a4583ae5d675f6631db4a52" title="btrfs_block_rsv_refill" alt="" coords="597,406,740,432"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a7697d14eb5cdc543f5e1b85fd1ea628f" title="btrfs_inode_rsv_refill" alt="" coords="597,456,740,483"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ae9540d72213e26589ac33214c3643d61" title="use_block_rsv" alt="" coords="809,355,916,382"/>
<area shape="rect" id="node22" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2081,771,2168,798"/>
<area shape="rect" id="node23" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1885,746,1975,772"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="1406,990,1551,1016"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="1197,544,1332,571"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="1621,304,1765,331"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1191,356,1339,397"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="1180,691,1349,718"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="1431,603,1526,630"/>
<area shape="rect" id="node49" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="1401,873,1556,914"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1218,742,1311,768"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="1620,986,1767,1012"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1611,1036,1775,1063"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1611,826,1775,852"/>
<area shape="rect" id="node29" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="1608,884,1779,911"/>
<area shape="rect" id="node30" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="1610,935,1777,962"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1414,472,1543,513"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="1397,537,1560,578"/>
<area shape="rect" id="node35" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1879,304,1981,331"/>
<area shape="rect" id="node36" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1880,355,1980,382"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1879,406,1981,432"/>
<area shape="rect" id="node38" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1839,456,2021,483"/>
<area shape="rect" id="node39" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1863,254,1997,280"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="1411,188,1546,229"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="1414,406,1543,448"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="1409,771,1548,798"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="1609,720,1778,747"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1410,654,1547,696"/>
<area shape="rect" id="node48" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="1430,822,1527,848"/>
</map>
</div>

</div>
</div>
<a id="a2d06214b4c249a8c4aed47c8032ac134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d06214b4c249a8c4aed47c8032ac134">&#9670;&nbsp;</a></span>btrfs_find_ino_for_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_find_ino_for_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>fs_root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_cgraph.png" border="0" usemap="#free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_cgraph" id="free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="354,10,481,37"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="181,86,295,113"/>
<area shape="rect" id="node6" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="578,137,633,164"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="364,238,471,265"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="176,188,300,214"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="193,36,283,62"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="535,10,676,37"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="356,86,479,113"/>
<area shape="rect" id="node7" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="724,137,843,164"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="558,188,653,214"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="555,238,655,265"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="348,188,487,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_icgraph.png" border="0" usemap="#free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_icgraph" id="free-space-cache_8h_a2d06214b4c249a8c4aed47c8032ac134_icgraph">
<area shape="rect" id="node2" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="176,761,323,788"/>
<area shape="rect" id="node42" href="inode-map_8h.html#aff161b58a2844f67e0249d3a66f92f96" title="btrfs_find_free_ino" alt="" coords="185,1136,314,1163"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="383,132,528,159"/>
<area shape="rect" id="node14" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="388,332,523,359"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="603,639,747,665"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="398,423,513,449"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="381,507,529,549"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="371,761,540,788"/>
<area shape="rect" id="node34" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="628,892,723,919"/>
<area shape="rect" id="node38" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="598,943,753,985"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="409,984,502,1011"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="841,5,987,32"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="593,56,757,83"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="593,107,757,133"/>
<area shape="rect" id="node11" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="590,157,761,184"/>
<area shape="rect" id="node13" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="592,208,759,235"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1101,183,1212,209"/>
<area shape="rect" id="node7" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="811,385,1017,412"/>
<area shape="rect" id="node8" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1296,161,1383,188"/>
<area shape="rect" id="node10" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="845,107,983,133"/>
<area shape="rect" id="node12" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="841,183,987,209"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="611,259,740,301"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="594,325,757,366"/>
<area shape="rect" id="node16" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="829,267,999,293"/>
<area shape="rect" id="node17" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1065,267,1248,293"/>
<area shape="rect" id="node20" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="849,487,979,513"/>
<area shape="rect" id="node21" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="863,537,965,564"/>
<area shape="rect" id="node22" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="864,588,964,615"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="863,639,965,665"/>
<area shape="rect" id="node24" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="847,689,981,716"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="605,391,746,417"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="608,442,743,483"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="611,507,740,549"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="606,689,745,716"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="829,791,999,817"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="607,573,744,614"/>
<area shape="rect" id="node36" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="627,791,724,817"/>
<area shape="rect" id="node37" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="588,841,763,868"/>
<area shape="rect" id="node35" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="840,863,988,905"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="620,1009,731,1036"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="627,1060,724,1087"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="408,1035,503,1061"/>
<area shape="rect" id="node45" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="410,1085,501,1112"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="412,1136,499,1163"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#afda26b056b51ec0a37238cf1afe1e930" title="btrfs_whiteout_for\l_rename" alt="" coords="392,1289,519,1330"/>
<area shape="rect" id="node49" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="405,1187,505,1213"/>
<area shape="rect" id="node50" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="408,1237,503,1264"/>
<area shape="rect" id="node44" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="588,1136,763,1163"/>
<area shape="rect" id="node48" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="626,1296,725,1323"/>
</map>
</div>

</div>
</div>
<a id="af11c63fde368e04cf92294103a1f1c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11c63fde368e04cf92294103a1f1c67">&#9670;&nbsp;</a></span>btrfs_find_space_cluster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_find_space_cluster </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *&#160;</td>
          <td class="paramname"><em>cluster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>empty_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_cgraph.png" border="0" usemap="#free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_cgraph" alt=""/></div>
<map name="free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_cgraph" id="free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_cgraph">
<area shape="rect" id="node2" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="253,5,348,32"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="217,56,384,83"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="227,107,374,133"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="437,56,567,83"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="620,56,743,83"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="443,107,561,133"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#acad84171c8b6c303e0701b0e052f87ea" title="btrfs_bitmap_cluster" alt="" coords="432,157,572,184"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="634,132,729,159"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="631,183,731,209"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_icgraph.png" border="0" usemap="#free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_icgraph" alt=""/></div>
<map name="free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_icgraph" id="free-space-cache_8h_af11c63fde368e04cf92294103a1f1c67_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="439,369,554,395"/>
<area shape="rect" id="node20" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="217,731,364,758"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="646,271,787,298"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1079,238,1269,265"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="883,174,992,201"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="857,275,1018,302"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="868,83,1007,124"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1071,579,1277,606"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="863,478,1012,505"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1333,238,1467,265"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1106,137,1242,163"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1335,162,1465,189"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1095,289,1253,315"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="1112,71,1236,112"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="1112,5,1236,47"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1339,630,1461,657"/>
<area shape="rect" id="node16" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1349,529,1451,555"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1325,579,1475,606"/>
<area shape="rect" id="node19" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1109,777,1239,803"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="644,630,789,657"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="429,731,564,758"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="865,1075,1009,1102"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="423,521,571,563"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="412,915,581,942"/>
<area shape="rect" id="node43" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="669,1134,764,1161"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="639,1068,794,1109"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="450,419,543,446"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="864,681,1011,707"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="855,579,1019,606"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="855,630,1019,657"/>
<area shape="rect" id="node25" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="852,731,1023,758"/>
<area shape="rect" id="node26" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="854,782,1021,809"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="873,833,1002,875"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="635,681,798,723"/>
<area shape="rect" id="node31" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1123,1126,1225,1153"/>
<area shape="rect" id="node32" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1124,1177,1224,1203"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1123,974,1225,1001"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1083,1025,1265,1051"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1107,1075,1241,1102"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="649,424,784,465"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="652,521,781,563"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="647,865,786,891"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="853,950,1022,977"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="648,799,785,840"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="668,1017,765,1043"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="629,966,804,993"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="863,1009,1011,1051"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="661,322,772,349"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="668,373,765,399"/>
</map>
</div>

</div>
</div>
<a id="a13eef557dd6531827014845e4c74cdd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13eef557dd6531827014845e4c74cdd1">&#9670;&nbsp;</a></span>btrfs_find_space_for_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u64 btrfs_find_space_for_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>empty_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>max_extent_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_cgraph.png" border="0" usemap="#free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_cgraph" id="free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="610,144,725,171"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="806,549,930,576"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="823,245,913,272"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="987,43,1114,69"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="811,651,925,677"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="193,347,355,373"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="803,195,933,221"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="809,397,927,424"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="997,499,1104,525"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1191,499,1286,525"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1189,549,1289,576"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="981,549,1120,576"/>
<area shape="rect" id="node10" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1211,600,1266,627"/>
<area shape="rect" id="node11" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1357,600,1476,627"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1168,68,1309,95"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="989,651,1112,677"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="592,93,743,120"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="403,397,531,424"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="403,347,532,373"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="594,515,741,541"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="607,464,727,491"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a1885a58fe1bee41220c7702ce752b652" title="bitmap_set_bits" alt="" coords="993,600,1108,627"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="580,413,755,440"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="594,297,741,338"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_icgraph.png" border="0" usemap="#free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_icgraph" id="free-space-cache_8h_a13eef557dd6531827014845e4c74cdd1_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="415,330,530,357"/>
<area shape="rect" id="node18" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="193,859,340,886"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="615,1164,770,1205"/>
<area shape="rect" id="node50" href="free-space-tests_8c.html#aab816142c4018dfd69d358d8739f5c88" title="check_cache_empty" alt="" coords="195,1166,338,1193"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="622,239,763,266"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1055,162,1245,189"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="859,225,968,251"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="833,275,994,302"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="844,57,983,99"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1047,529,1253,555"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="839,427,988,454"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="1301,162,1436,189"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="1082,263,1218,290"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="1303,238,1434,265"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="1071,314,1229,341"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="1088,5,1212,47"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#ab337283f5bceb1638ae2d15bf17f05d3" title="btrfs_prealloc_file\l_range_trans" alt="" coords="1088,71,1212,112"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1308,529,1429,555"/>
<area shape="rect" id="node17" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1085,663,1215,690"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="620,626,765,653"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="405,735,540,762"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="841,899,985,926"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="399,471,547,512"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="388,961,557,987"/>
<area shape="rect" id="node41" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="645,1113,740,1139"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="426,381,519,407"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="840,630,987,657"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="831,529,995,555"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="831,579,995,606"/>
<area shape="rect" id="node23" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="828,681,999,707"/>
<area shape="rect" id="node24" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="830,731,997,758"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="849,783,978,824"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="611,728,774,769"/>
<area shape="rect" id="node29" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1099,1001,1201,1027"/>
<area shape="rect" id="node30" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1100,798,1200,825"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1099,849,1201,875"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1059,899,1241,926"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1083,950,1217,977"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="625,392,760,433"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="628,471,757,512"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="623,961,762,987"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="829,957,998,983"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="624,793,761,835"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="644,1011,741,1038"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="605,1062,780,1089"/>
<area shape="rect" id="node42" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="839,1080,987,1121"/>
<area shape="rect" id="node43" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1075,1087,1225,1114"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="637,290,748,317"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="644,341,741,367"/>
</map>
</div>

</div>
</div>
<a id="ac4b87a75f69070ffebad516bca478d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b87a75f69070ffebad516bca478d24">&#9670;&nbsp;</a></span>btrfs_init_free_cluster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_init_free_cluster </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *&#160;</td>
          <td class="paramname"><em>cluster</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ac4b87a75f69070ffebad516bca478d24_icgraph.png" border="0" usemap="#free-space-cache_8h_ac4b87a75f69070ffebad516bca478d24_icgraph" alt=""/></div>
<map name="free-space-cache_8h_ac4b87a75f69070ffebad516bca478d24_icgraph" id="free-space-cache_8h_ac4b87a75f69070ffebad516bca478d24_icgraph">
<area shape="rect" id="node2" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="884,419,971,446"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="200,1043,347,1070"/>
<area shape="rect" id="node3" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1075,75,1182,102"/>
<area shape="rect" id="node6" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1074,242,1183,268"/>
<area shape="rect" id="node4" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="1505,8,1625,35"/>
<area shape="rect" id="node5" href="btrfs_2super_8c.html#a89866e36e3959d1dd885ced894dc0643" title="btrfs_kill_super" alt="" coords="1752,8,1863,35"/>
<area shape="rect" id="node7" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1245,85,1427,126"/>
<area shape="rect" id="node9" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1268,150,1404,192"/>
<area shape="rect" id="node10" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1274,216,1398,243"/>
<area shape="rect" id="node11" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1276,267,1396,294"/>
<area shape="rect" id="node12" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1260,318,1412,344"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1269,368,1403,395"/>
<area shape="rect" id="node17" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1286,419,1386,446"/>
<area shape="rect" id="node18" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1258,34,1414,60"/>
<area shape="rect" id="node8" href="check-integrity_8c.html#a1e84a6e642e87140ce385ec8d4571019" title="btrfsic_process_superblock" alt="" coords="1475,92,1656,119"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1483,384,1647,411"/>
<area shape="rect" id="node15" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="1483,435,1647,462"/>
<area shape="rect" id="node14" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1704,714,1911,740"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="1263,520,1409,547"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="412,630,547,656"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="407,866,551,892"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="422,764,537,791"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="1262,856,1410,897"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="395,1195,564,1222"/>
<area shape="rect" id="node43" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="656,1347,751,1374"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="626,1398,781,1440"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="433,1464,526,1491"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="1492,486,1639,512"/>
<area shape="rect" id="node22" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="1480,536,1651,563"/>
<area shape="rect" id="node23" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="1482,587,1649,614"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1064,597,1193,638"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="622,622,785,664"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="638,790,769,816"/>
<area shape="rect" id="node29" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="653,840,754,867"/>
<area shape="rect" id="node30" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="653,891,753,918"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="652,942,755,968"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="612,470,795,496"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="636,992,771,1019"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="857,739,998,766"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="1498,790,1633,832"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="1501,856,1630,897"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="634,1195,773,1222"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="843,1170,1012,1196"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1060,1094,1197,1136"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="655,1246,752,1272"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="616,1296,791,1323"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="853,1314,1001,1356"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="648,1464,759,1491"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="655,1515,752,1542"/>
</map>
</div>

</div>
</div>
<a id="aec209aee64785809739538d21193bd63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec209aee64785809739538d21193bd63">&#9670;&nbsp;</a></span>btrfs_init_free_space_ctl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_init_free_space_ctl </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_aec209aee64785809739538d21193bd63_icgraph.png" border="0" usemap="#free-space-cache_8h_aec209aee64785809739538d21193bd63_icgraph" alt=""/></div>
<map name="free-space-cache_8h_aec209aee64785809739538d21193bd63_icgraph" id="free-space-cache_8h_aec209aee64785809739538d21193bd63_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a97fecf81cbed11a3223cd24040fde860" title="btrfs_create_block\l_group_cache" alt="" coords="238,558,367,599"/>
<area shape="rect" id="node43" href="btrfs-tests_8c.html#aa2aa8d6be16e1aefecdace53f52fa708" title="btrfs_alloc_dummy_block\l_group" alt="" coords="217,623,388,664"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="436,389,600,416"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="2089,465,2253,492"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="648,414,855,441"/>
<area shape="rect" id="node11" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1552,85,1639,112"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="931,414,1052,441"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="940,313,1043,340"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2671,516,2820,542"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="907,146,1075,187"/>
<area shape="rect" id="node6" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1130,414,1277,441"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1130,212,1277,238"/>
<area shape="rect" id="node38" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1155,313,1252,340"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a361d9531e6fb2bf3c7a9f29416e4d341" title="btrfs_lookup_dentry" alt="" coords="1339,262,1475,289"/>
<area shape="rect" id="node10" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1536,237,1655,264"/>
<area shape="rect" id="node36" href="disk-io_8h.html#a4e52c6bbac370ddc85b57e54e7c378b7" title="btrfs_cleanup_fs_roots" alt="" coords="1330,161,1485,188"/>
<area shape="rect" id="node37" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1327,60,1488,86"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="1704,20,1811,46"/>
<area shape="rect" id="node14" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="1703,210,1812,237"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#a560d1a10868ee094b5ee24b98fe94619" title="btrfs_mount_root" alt="" coords="2111,80,2231,106"/>
<area shape="rect" id="node15" href="check-integrity_8c.html#a8c29890c73ad5c2da4e19275053a7b97" title="btrfsic_process_superblock\l_dev_mirror" alt="" coords="1860,232,2041,274"/>
<area shape="rect" id="node16" href="disk-io_8h.html#a55a2df3e648c1b453ee230dc7af6f18d" title="btrfs_read_dev_one\l_super" alt="" coords="1883,298,2019,339"/>
<area shape="rect" id="node17" href="disk-io_8c.html#aa93ea19c5a7fe5c93933e0fdbded5255" title="write_dev_supers" alt="" coords="1889,364,2013,390"/>
<area shape="rect" id="node18" href="disk-io_8c.html#af57a3bff4be1110d8d9cb1c8916060d6" title="wait_dev_supers" alt="" coords="1891,29,2011,56"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a598ec202df7c623262253ae2ea1e6956" title="exclude_super_stripes" alt="" coords="1875,414,2027,441"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="1883,80,2018,106"/>
<area shape="rect" id="node34" href="btrfs_2scrub_8c.html#a53579863e5c57824034ee2cb74c443d6" title="scrub_supers" alt="" coords="1901,130,2001,157"/>
<area shape="rect" id="node35" href="volumes_8h.html#ae938219f2ed13d8b2a8f977b9a9f313c" title="btrfs_scan_one_device" alt="" coords="1873,181,2029,208"/>
<area shape="rect" id="node21" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="2301,465,2440,492"/>
<area shape="rect" id="node22" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="2493,465,2617,492"/>
<area shape="rect" id="node31" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="2488,389,2623,416"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="2882,516,2994,542"/>
<area shape="rect" id="node30" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="3105,364,3174,390"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="3056,582,3223,609"/>
<area shape="rect" id="node29" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2868,465,3008,492"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="3061,466,3217,507"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#ab985a4ed46cdbc8c2855ea0397884b0c" title="flush_space" alt="" coords="3093,532,3185,558"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="3082,414,3197,441"/>
<area shape="rect" id="node32" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="2671,364,2819,390"/>
<area shape="rect" id="node39" href="btrfs_2inode_8c.html#ab11c8f08c5d5a36dd487737bcf8efcc1" title="btrfs_setattr" alt="" coords="1361,313,1453,340"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1138,94,1269,121"/>
<area shape="rect" id="node42" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1136,146,1271,187"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="677,619,825,660"/>
<area shape="rect" id="node48" href="free-space-tree-tests_8c.html#a01bbde43c96e1c8e36d1ceb9f2628b14" title="run_test" alt="" coords="483,682,553,709"/>
<area shape="rect" id="node45" href="btrfs-tests_8c.html#a9290554e2d874a984c4e9a3d8b0f0d85" title="btrfs_run_sanity_tests" alt="" coords="1128,656,1279,682"/>
<area shape="rect" id="node46" href="btrfs_2super_8c.html#aee0eb4e35d4455ecf8e50fa8ec5c1605" title="init_btrfs_fs" alt="" coords="1362,656,1453,682"/>
<area shape="rect" id="node47" href="btrfs_2super_8c.html#ac03bf3e0a3b4a44b04f54ce4ebde51d2" title="exit_btrfs_fs" alt="" coords="1548,656,1643,682"/>
<area shape="rect" id="node49" href="free-space-tree-tests_8c.html#adbe3ae7da100d0af8ad993d1cb600f53" title="run_test_both_formats" alt="" coords="675,685,827,712"/>
<area shape="rect" id="node50" href="free-space-tree-tests_8c.html#af04761143b98f300755fa1a1a921b2d6" title="btrfs_test_free_space_tree" alt="" coords="903,682,1080,709"/>
</map>
</div>

</div>
</div>
<a id="a292acca8523a02084b56255eeb1a12dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292acca8523a02084b56255eeb1a12dd">&#9670;&nbsp;</a></span>btrfs_remove_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_remove_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>bytenr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_cgraph.png" border="0" usemap="#free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_cgraph" id="free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1283,859,1414,885"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1289,1119,1408,1145"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1483,656,1609,683"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="1292,377,1405,404"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="223,677,369,704"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a10e3ef6dbb28e06160993b4ccabc69d0" title="remove_from_bitmap" alt="" coords="1071,1524,1215,1551"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1673,619,1815,645"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="1485,453,1607,480"/>
<area shape="rect" id="node9" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="635,736,796,763"/>
<area shape="rect" id="node24" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="431,670,573,711"/>
<area shape="rect" id="node26" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="417,605,587,646"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="432,1130,572,1171"/>
<area shape="rect" id="node33" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="1082,1458,1205,1499"/>
<area shape="rect" id="node34" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="1467,1651,1625,1677"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="844,529,1008,556"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="429,503,575,529"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="635,1575,796,1601"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="435,258,569,299"/>
<area shape="rect" id="node44" href="free-space-cache_8h.html#a4f1401547198cb6265c5d5816e09071e" title="btrfs_trim_block_group" alt="" coords="849,347,1003,373"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="1068,681,1219,708"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="862,833,990,860"/>
<area shape="rect" id="node14" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="861,884,991,911"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="1070,1036,1217,1063"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="1083,732,1203,759"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="1056,1407,1231,1433"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="1070,1341,1217,1382"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1697,1271,1791,1297"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="1287,1524,1411,1551"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1477,1473,1615,1500"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1303,1169,1394,1196"/>
<area shape="rect" id="node19" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1717,1575,1771,1601"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1694,1423,1794,1449"/>
<area shape="rect" id="node20" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1863,1575,1981,1601"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="640,647,791,689"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="641,375,789,417"/>
<area shape="rect" id="node28" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="851,195,1001,221"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#ad97f7f79ec33cfcf61552f25be28ad3a" title="find_free_space" alt="" coords="1086,1188,1201,1215"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a69eadc3f541edf88c12b9a47451868a3" title="__btrfs_add_free_space" alt="" coords="635,833,796,860"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1295,1372,1402,1399"/>
<area shape="rect" id="node36" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="1096,580,1191,607"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#aa645c7f655606b98cb869585fac961ff" title="setup_cluster_no_bitmap" alt="" coords="1060,529,1227,556"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#ac454f2201c6bfa5b8df53aa630696d55" title="setup_cluster_bitmap" alt="" coords="1070,884,1217,911"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#acad84171c8b6c303e0701b0e052f87ea" title="btrfs_bitmap_cluster" alt="" coords="1279,951,1419,977"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a80c989a514d13a6c2d90421d4bbae679" title="btrfs_alloc_from_bitmap" alt="" coords="1063,1625,1224,1652"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="1068,311,1219,353"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="1088,479,1199,505"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="1095,935,1192,961"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="1068,246,1219,287"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="1302,479,1395,505"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_icgraph.png" border="0" usemap="#free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_icgraph" id="free-space-cache_8h_a292acca8523a02084b56255eeb1a12dd_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="664,312,803,338"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="1558,350,1695,391"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="1328,422,1497,449"/>
<area shape="rect" id="node30" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="237,742,383,769"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="475,910,570,937"/>
<area shape="rect" id="node48" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="445,962,600,1003"/>
<area shape="rect" id="node49" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="261,1022,359,1049"/>
<area shape="rect" id="node50" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="223,798,397,825"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="894,261,1005,288"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="1113,261,1247,288"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#aff0e8d10e204f6ea41d87e5e470d0f6e" title="btrfs_prepare_extent\l_commit" alt="" coords="1556,950,1697,991"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a4a3e36ec743780601e2334117b0cdd3c" title="wait_block_group_cache\l_progress" alt="" coords="867,144,1032,186"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#ac28d2d23f4ade75c59ecc2bb5c5a4bb4" title="wait_block_group_cache_done" alt="" coords="1080,210,1280,237"/>
<area shape="rect" id="node26" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="1559,216,1695,258"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="869,590,1030,617"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="1343,261,1482,288"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1355,109,1470,136"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="1365,210,1460,237"/>
<area shape="rect" id="node7" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1756,656,1963,682"/>
<area shape="rect" id="node13" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1791,488,1927,514"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="2034,816,2155,842"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="2043,749,2146,776"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="2020,570,2169,597"/>
<area shape="rect" id="node12" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="2011,632,2179,674"/>
<area shape="rect" id="node11" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="2227,488,2367,514"/>
<area shape="rect" id="node14" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="2046,488,2143,514"/>
<area shape="rect" id="node15" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="2015,698,2174,725"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="1554,480,1699,522"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="1563,415,1690,456"/>
<area shape="rect" id="node19" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1795,422,1923,449"/>
<area shape="rect" id="node23" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1775,848,1944,874"/>
<area shape="rect" id="node28" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1369,616,1456,642"/>
<area shape="rect" id="node29" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1135,565,1225,592"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="450,565,595,592"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="1345,869,1480,896"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="451,692,595,718"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="449,794,597,835"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="476,514,569,541"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="660,261,807,288"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="1098,514,1262,541"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="867,654,1031,681"/>
<area shape="rect" id="node35" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="648,565,819,592"/>
<area shape="rect" id="node36" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="650,464,817,490"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="1562,884,1691,926"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="1545,819,1708,860"/>
<area shape="rect" id="node41" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="668,717,799,744"/>
<area shape="rect" id="node42" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="683,768,784,794"/>
<area shape="rect" id="node43" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="683,818,783,845"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="659,928,807,970"/>
</map>
</div>

</div>
</div>
<a id="a16073e7cd3112aa904fad74bcab1c0f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16073e7cd3112aa904fad74bcab1c0f1">&#9670;&nbsp;</a></span>btrfs_remove_free_space_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btrfs_remove_free_space_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_cgraph.png" border="0" usemap="#free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_cgraph" id="free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="223,125,371,167"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="629,24,780,65"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="629,181,780,207"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="429,235,559,262"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="433,82,555,109"/>
<area shape="rect" id="node19" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="419,133,569,159"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="840,218,971,245"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1025,15,1151,42"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1205,41,1347,67"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="617,319,792,346"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="631,232,778,273"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="846,319,965,346"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1229,269,1323,295"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="843,370,967,397"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1019,218,1157,245"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="860,117,951,143"/>
<area shape="rect" id="node13" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1249,218,1303,245"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1226,167,1326,194"/>
<area shape="rect" id="node14" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1395,218,1513,245"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_icgraph.png" border="0" usemap="#free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_icgraph" id="free-space-cache_8h_a16073e7cd3112aa904fad74bcab1c0f1_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9c2d13383a026f29ff3e3af7d13d3cb3" title="btrfs_free_block_groups" alt="" coords="857,22,1019,48"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="856,622,1020,648"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="638,378,802,404"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="870,73,1006,114"/>
<area shape="rect" id="node23" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="223,419,369,446"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1071,371,1277,398"/>
<area shape="rect" id="node9" href="disk-io_8h.html#ad8ebf0b54899e162a4317859b6643838" title="close_ctree" alt="" coords="1987,22,2076,48"/>
<area shape="rect" id="node12" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="2137,147,2223,174"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1349,443,1470,470"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1358,326,1461,352"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1335,224,1484,251"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1325,377,1493,418"/>
<area shape="rect" id="node7" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1563,224,1703,251"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1772,275,1939,302"/>
<area shape="rect" id="node14" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1784,224,1927,251"/>
<area shape="rect" id="node15" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1821,174,1890,200"/>
<area shape="rect" id="node10" href="btrfs_2super_8c.html#a638491a1550429c900f39ed20b96157a" title="btrfs_put_super" alt="" coords="2124,22,2236,48"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#ae1f9d78be359ef36421703bd20b3e7d2" title="btrfs_fill_super" alt="" coords="2285,15,2392,42"/>
<area shape="rect" id="node13" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="2284,110,2393,136"/>
<area shape="rect" id="node19" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="869,195,1007,222"/>
<area shape="rect" id="node20" href="volumes_8h.html#a170ebf02dcba41956e88d56c079e3b10" title="btrfs_alloc_chunk" alt="" coords="1112,184,1236,211"/>
<area shape="rect" id="node21" href="volumes_8c.html#ac578274aee5785f794b6cc9535a27bd4" title="init_first_rw_device" alt="" coords="1107,235,1241,262"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="429,688,575,715"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="435,571,569,598"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="866,691,1010,718"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="445,520,559,547"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="646,429,794,470"/>
<area shape="rect" id="node43" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="417,214,587,240"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="673,260,767,287"/>
<area shape="rect" id="node49" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="643,312,797,353"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="455,470,549,496"/>
<area shape="rect" id="node25" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="647,764,793,791"/>
<area shape="rect" id="node26" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="635,663,805,690"/>
<area shape="rect" id="node27" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="637,714,803,740"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="873,546,1003,588"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="639,597,801,638"/>
<area shape="rect" id="node32" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1109,544,1239,571"/>
<area shape="rect" id="node33" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1123,595,1225,622"/>
<area shape="rect" id="node34" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1124,646,1224,672"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1123,696,1225,723"/>
<area shape="rect" id="node36" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1541,735,1724,762"/>
<area shape="rect" id="node37" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1107,747,1241,774"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="867,495,1009,522"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="871,429,1005,470"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="873,364,1003,405"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="651,58,789,84"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="853,139,1023,166"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="869,246,1007,288"/>
<area shape="rect" id="node48" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="671,159,769,186"/>
</map>
</div>

</div>
</div>
<a id="a5a45d8ce27b4e589d7a7a2adc9090a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a45d8ce27b4e589d7a7a2adc9090a1e">&#9670;&nbsp;</a></span>btrfs_return_cluster_to_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_return_cluster_to_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__free__cluster.html">btrfs_free_cluster</a> *&#160;</td>
          <td class="paramname"><em>cluster</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_cgraph.png" border="0" usemap="#free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_cgraph" id="free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a3274b5606987990c3b560ec8fc00bfeb" title="__btrfs_return_cluster\l_to_free_space" alt="" coords="188,296,336,337"/>
<area shape="rect" id="node19" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="384,362,535,388"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="595,262,745,288"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a8b3576cf0771c35a957b32229e9318f3" title="steal_from_bitmap" alt="" coords="395,206,524,232"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="398,311,521,338"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="805,258,936,284"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="990,359,1117,386"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1171,384,1312,411"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#aa45874ae15dbda2c759be22e0e974ad8" title="steal_from_bitmap_to_end" alt="" coords="583,106,757,132"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#a7d90113a926eae5f27bb9287ddaa5504" title="steal_from_bitmap_to\l_front" alt="" coords="597,196,743,237"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="811,55,930,82"/>
<area shape="rect" id="node10" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1194,156,1289,183"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="809,106,933,132"/>
<area shape="rect" id="node12" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="984,207,1123,234"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="825,207,916,234"/>
<area shape="rect" id="node13" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1214,258,1269,284"/>
<area shape="rect" id="node15" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1191,207,1291,234"/>
<area shape="rect" id="node14" href="exec_8c.html#a9ea507497a5718b67a987a1c91a5becb" title="get_user_arg_ptr" alt="" coords="1360,258,1479,284"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_icgraph.png" border="0" usemap="#free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_icgraph" id="free-space-cache_8h_a5a45d8ce27b4e589d7a7a2adc9090a1e_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="410,419,525,445"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="840,1122,976,1163"/>
<area shape="rect" id="node20" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="188,675,335,701"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="617,303,758,329"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="1050,309,1239,336"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="853,309,963,336"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="827,259,989,285"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="839,411,977,453"/>
<area shape="rect" id="node8" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="1041,645,1248,672"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="833,360,983,387"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1319,788,1441,815"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1329,569,1431,596"/>
<area shape="rect" id="node11" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1305,671,1455,697"/>
<area shape="rect" id="node16" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1296,722,1464,763"/>
<area shape="rect" id="node12" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1512,671,1652,697"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1700,620,1867,647"/>
<area shape="rect" id="node14" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1712,671,1855,697"/>
<area shape="rect" id="node15" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1749,721,1818,748"/>
<area shape="rect" id="node18" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="1079,259,1210,285"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="615,736,760,763"/>
<area shape="rect" id="node27" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="400,587,535,613"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="836,107,980,133"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="393,638,541,679"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="383,904,552,931"/>
<area shape="rect" id="node43" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="640,853,735,880"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="610,787,765,829"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="421,469,514,496"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="835,747,981,773"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="826,899,990,925"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="826,848,990,875"/>
<area shape="rect" id="node25" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="823,797,993,824"/>
<area shape="rect" id="node26" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="825,696,991,723"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="843,579,973,621"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="606,455,769,497"/>
<area shape="rect" id="node31" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1094,107,1195,133"/>
<area shape="rect" id="node32" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="1095,157,1195,184"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="1093,208,1196,235"/>
<area shape="rect" id="node34" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1053,5,1236,32"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="1077,56,1212,83"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="620,521,755,562"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="623,638,752,679"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="618,1123,757,1149"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="823,1071,993,1097"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="619,1006,756,1047"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="639,904,736,931"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="600,955,775,981"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="834,950,982,991"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="632,353,743,380"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="639,404,736,431"/>
</map>
</div>

</div>
</div>
<a id="a4f1401547198cb6265c5d5816e09071e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1401547198cb6265c5d5816e09071e">&#9670;&nbsp;</a></span>btrfs_trim_block_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_trim_block_group </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64 *&#160;</td>
          <td class="paramname"><em>trimmed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u64&#160;</td>
          <td class="paramname"><em>minlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_cgraph.png" border="0" usemap="#free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_cgraph" id="free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#aabd10d16970e3c2e860df25af63b9119" title="btrfs_get_block_group\l_trimming" alt="" coords="208,205,359,246"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="228,271,339,297"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="235,423,332,449"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#ae927996a52e1b1b4fd48b9b6738c5822" title="btrfs_put_block_group\l_trimming" alt="" coords="548,1350,699,1391"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="1195,321,1326,348"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#ae6f7723726e0d433a216f99d55904979" title="unlink_free_space" alt="" coords="1389,697,1515,724"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="407,271,500,297"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#aa9b533bcfe8cbfc50520175df951d27a" title="__unlink_free_space" alt="" coords="1568,547,1709,573"/>
<area shape="rect" id="node8" href="ctree_8h.html#aebb5efae18fa3654d1cefbe4b8ee2217" title="btrfs_discard_extent" alt="" coords="553,245,693,272"/>
<area shape="rect" id="node19" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="550,679,697,705"/>
<area shape="rect" id="node9" href="ctree_8h.html#a4476a4d2ab950305823708853a261a84" title="btrfs_bio_counter_inc\l_blocked" alt="" coords="758,53,905,94"/>
<area shape="rect" id="node10" href="ctree_8h.html#ac78ce5e05da4e46f58f771fd49cea908" title="btrfs_bio_counter_dec" alt="" coords="975,77,1126,104"/>
<area shape="rect" id="node12" href="volumes_8c.html#a806da0ebe2985a4eaea08e3d6ed4d4ac" title="btrfs_map_block" alt="" coords="772,548,891,575"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#ab96348d13a074b86a55eca5ff696447a" title="btrfs_issue_discard" alt="" coords="764,220,899,247"/>
<area shape="rect" id="node18" href="volumes_8c.html#a2b27c3f73a9f1490121abcde8ab4b319" title="btrfs_put_bbio" alt="" coords="779,271,883,297"/>
<area shape="rect" id="node11" href="ctree_8h.html#afca7ba5e50e01f6a4cf02babc33fcbcc" title="btrfs_bio_counter_sub" alt="" coords="1185,77,1336,104"/>
<area shape="rect" id="node13" href="volumes_8c.html#a7944ddf1ce0e72fdb6e881f706550c6f" title="__btrfs_map_block" alt="" coords="985,661,1117,688"/>
<area shape="rect" id="node14" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1201,1096,1320,1123"/>
<area shape="rect" id="node15" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="1384,1096,1520,1123"/>
<area shape="rect" id="node17" href="disk-io_8h.html#aa41d6d7065281de3266fe92a007287a9" title="btrfs_sb_offset" alt="" coords="996,245,1105,272"/>
<area shape="rect" id="node20" href="free-space-cache_8h.html#ab39f85496295a72b321484c11192f7be" title="__btrfs_add_free_space" alt="" coords="751,372,912,399"/>
<area shape="rect" id="node24" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="966,485,1135,512"/>
<area shape="rect" id="node25" href="free-space-cache_8h.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="761,701,902,742"/>
<area shape="rect" id="node28" href="free-space-cache_8h.html#a16073e7cd3112aa904fad74bcab1c0f1" title="btrfs_remove_free_space\l_cache" alt="" coords="747,883,916,925"/>
<area shape="rect" id="node29" href="free-space-cache_8h.html#a13eef557dd6531827014845e4c74cdd1" title="btrfs_find_space_for\l_alloc" alt="" coords="761,1014,901,1055"/>
<area shape="rect" id="node35" href="free-space-cache_8h.html#a2d06214b4c249a8c4aed47c8032ac134" title="btrfs_find_ino_for\l_alloc" alt="" coords="770,1182,893,1223"/>
<area shape="rect" id="node37" href="free-space-cache_8h.html#a5830e5cda799ed17d785dbe3fd7ae6ae" title="btrfs_dump_free_space" alt="" coords="971,1096,1130,1123"/>
<area shape="rect" id="node38" href="free-space-cache_8h.html#af11c63fde368e04cf92294103a1f1c67" title="btrfs_find_space_cluster" alt="" coords="749,599,913,625"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#ac4b87a75f69070ffebad516bca478d24" title="btrfs_init_free_cluster" alt="" coords="758,649,905,676"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#a7179f1be76610ee40440621d7d8190b7" title="btrfs_alloc_from_cluster" alt="" coords="751,767,912,793"/>
<area shape="rect" id="node41" href="free-space-cache_8h.html#a5a45d8ce27b4e589d7a7a2adc9090a1e" title="btrfs_return_cluster\l_to_free_space" alt="" coords="764,818,899,859"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#abdd5cf6834b0bf9b6a354511b9190b61" title="try_merge_free_space" alt="" coords="975,144,1126,171"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#accce88d63afb327e94fba1fc4bf503dd" title="insert_into_bitmap" alt="" coords="987,372,1115,399"/>
<area shape="rect" id="node23" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="1201,423,1320,449"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="975,827,1126,869"/>
<area shape="rect" id="node27" href="free-space-cache_8c.html#abf64d8d3551f3ccd1964c956a4d51c3c" title="free_bitmap" alt="" coords="1215,944,1306,971"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a9f9be29280b267bf617951f5a4e237e2" title="bitmap_clear_bits" alt="" coords="989,1248,1113,1275"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#a9de39ee9080161ac68d21103019b7a76" title="__bitmap_clear_bits" alt="" coords="1191,1248,1330,1275"/>
<area shape="rect" id="node32" href="exec_8c.html#a36dcaf63ad8fe9783c81b418943e2346" title="count" alt="" coords="1425,1197,1479,1224"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="1405,1299,1499,1325"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="1402,1248,1502,1275"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="1207,1299,1314,1325"/>
<area shape="rect" id="node44" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="752,1400,911,1427"/>
<area shape="rect" id="node49" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="749,1451,913,1477"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="761,949,902,990"/>
<area shape="rect" id="node45" href="btrfs_2extent__map_8c.html#af36ca4f880c56dc8a92684abc2db576e" title="__lookup_extent_mapping" alt="" coords="964,1451,1137,1477"/>
<area shape="rect" id="node46" href="btrfs_2extent__map_8c.html#a907569c6732e2702e1dedf9c0779129a" title="range_end" alt="" coords="1219,1501,1302,1528"/>
<area shape="rect" id="node47" href="btrfs_2extent__map_8c.html#abe5fa1b21db40e4c1ca4226364e4cc80" title="__tree_search" alt="" coords="1209,1400,1313,1427"/>
<area shape="rect" id="node48" href="btrfs_2extent__map_8h.html#a2ea46678c185fd0d0fdb91c1284cf0fb" title="extent_map_end" alt="" coords="1393,1425,1511,1452"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_icgraph.png" border="0" usemap="#free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_icgraph" id="free-space-cache_8h_a4f1401547198cb6265c5d5816e09071e_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="234,409,329,436"/>
<area shape="rect" id="node6" href="free-space-cache_8h.html#ade04eab87fe2862eda09511dd8f6b146" title="btrfs_add_free_space" alt="" coords="208,712,355,739"/>
<area shape="rect" id="node3" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="430,111,545,137"/>
<area shape="rect" id="node4" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="668,5,747,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="859,5,1033,32"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a23810d890561f72d6e81b0a807ded999" title="add_new_free_space" alt="" coords="415,569,560,596"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#a70403a550d3febe56fc502d3cd9cb1dc" title="unpin_extent_range" alt="" coords="420,712,555,739"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#ac8ecc2de50d231cb187b31872f570bf5" title="btrfs_free_tree_block" alt="" coords="635,1012,779,1039"/>
<area shape="rect" id="node34" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="430,796,545,823"/>
<area shape="rect" id="node36" href="extent-tree_8c.html#a92ae18aeb4da88eeb0ac336f84a5445d" title="__btrfs_free_reserved\l_extent" alt="" coords="413,881,561,922"/>
<area shape="rect" id="node39" href="free-space-cache_8h.html#a292acca8523a02084b56255eeb1a12dd" title="btrfs_remove_free_space" alt="" coords="403,267,572,293"/>
<area shape="rect" id="node43" href="free-space-tests_8c.html#aaa2f8f88bc0ea196b713d1861527dcde" title="test_extents" alt="" coords="660,325,755,352"/>
<area shape="rect" id="node47" href="free-space-tests_8c.html#a676f633d8b6b054955bf64556a23f83a" title="test_steal_space_from\l_bitmap_to_extent" alt="" coords="630,259,785,301"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a4f30c7391d27883d20122889a913b1dc" title="do_trimming" alt="" coords="441,1063,534,1089"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a13a8f87c92803f428390002dc6b1cb2b" title="load_extent_tree_free" alt="" coords="873,519,1019,545"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#aa4fa34d4fc30d4b2bd1eec36af81b558" title="btrfs_read_block_groups" alt="" coords="625,712,789,739"/>
<area shape="rect" id="node13" href="extent-tree_8c.html#a695ce8cf0b806dd2ac6162fa621f00ce" title="btrfs_make_block_group" alt="" coords="625,595,789,621"/>
<area shape="rect" id="node15" href="free-space-tree_8c.html#a61e973380fd7348d30419012e001f6d4" title="load_free_space_bitmaps" alt="" coords="622,493,793,520"/>
<area shape="rect" id="node17" href="free-space-tree_8c.html#af3cf3734456ff586c90c157ca8042a64" title="load_free_space_extents" alt="" coords="624,443,791,469"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#ab9df55452408c9f40ce3eec0b3b3ea5a" title="caching_thread" alt="" coords="1133,456,1244,483"/>
<area shape="rect" id="node11" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="843,819,1049,845"/>
<area shape="rect" id="node12" href="disk-io_8h.html#ae8a63b241b06cdc1577b3603b5d99c36" title="open_ctree" alt="" coords="1335,743,1422,769"/>
<area shape="rect" id="node14" href="volumes_8c.html#a20c49246b827166f7c5d02803827c8e4" title="__btrfs_alloc_chunk" alt="" coords="877,595,1015,621"/>
<area shape="rect" id="node16" href="free-space-tree_8h.html#a7e009aac692e3303dc0ed6ab48a554c6" title="load_free_space_tree" alt="" coords="873,456,1019,483"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a1bba8c3e2e47bfb50d184445a98fbd0c" title="btrfs_finish_extent\l_commit" alt="" coords="643,763,772,805"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a2d2f296762a971312733aa1c2edb2c33" title="btrfs_error_unpin_extent\l_range" alt="" coords="626,646,789,687"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="861,768,1031,795"/>
<area shape="rect" id="node21" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1097,768,1280,795"/>
<area shape="rect" id="node23" href="disk-io_8c.html#a104a95a524285e86c8267045ff366cf7" title="btrfs_destroy_pinned\l_extent" alt="" coords="875,646,1017,687"/>
<area shape="rect" id="node25" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="881,1072,1011,1099"/>
<area shape="rect" id="node27" href="ctree_8c.html#a2ee6b33fc9da92d203428a471e41755c" title="balance_level" alt="" coords="1328,1072,1429,1099"/>
<area shape="rect" id="node30" href="ctree_8c.html#a1dbbc7840246d8ef5345ed4dffaf0520" title="btrfs_del_leaf" alt="" coords="896,1148,996,1175"/>
<area shape="rect" id="node32" href="extent-tree_8c.html#a19c72eab61de613bbcc9548d80709f72" title="walk_up_proc" alt="" coords="895,920,997,947"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a25544b37e24fd46397ccb7dd9b1f447b" title="btrfs_quota_disable" alt="" coords="879,971,1013,997"/>
<area shape="rect" id="node26" href="ctree_8h.html#a90796defa138795968e3aa17deeee9c5" title="btrfs_cow_block" alt="" coords="1130,1123,1247,1149"/>
<area shape="rect" id="node29" href="ctree_8h.html#a01d8e8183ad25758adcef630dce45270" title="btrfs_realloc_node" alt="" coords="1125,1072,1253,1099"/>
<area shape="rect" id="node28" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="1477,1072,1641,1099"/>
<area shape="rect" id="node31" href="ctree_8h.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="1133,1173,1244,1200"/>
<area shape="rect" id="node35" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="637,829,778,856"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#aac787eabdc24ddb5afae4b9efa44e8ec" title="btrfs_free_reserved\l_extent" alt="" coords="640,946,775,987"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#ad9815bbc6a05bd4217bdf7d952cba739" title="btrfs_free_and_pin\l_reserved_extent" alt="" coords="643,881,772,922"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#ab5c1b4ba0d9c46420b6b0b34dff77385" title="put_caching_control" alt="" coords="638,107,777,133"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="861,67,1031,93"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="639,377,776,418"/>
<area shape="rect" id="node45" href="free-space-tests_8c.html#a5f53dea96f335695ef513372ec649d68" title="test_bitmaps" alt="" coords="659,208,756,235"/>
<area shape="rect" id="node46" href="free-space-tests_8c.html#a70abdb391d3a6470c2e7decc74e4d676" title="test_bitmaps_and_extents" alt="" coords="620,157,795,184"/>
<area shape="rect" id="node44" href="free-space-tests_8c.html#a08163474782046074020e34f676a254d" title="btrfs_test_free_space\l_cache" alt="" coords="872,230,1020,271"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a1df7f1e2331e145b8f9488995821a49f" title="trim_no_bitmap" alt="" coords="652,1063,763,1089"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c4c5132589cbf68cdac7716ef18381b" title="trim_bitmaps" alt="" coords="659,1113,756,1140"/>
</map>
</div>

</div>
</div>
<a id="a0bf1acce3fff389beceb30fc23f25bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf1acce3fff389beceb30fc23f25bfd">&#9670;&nbsp;</a></span>btrfs_truncate_free_space_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_truncate_free_space_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_cgraph.png" border="0" usemap="#free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_cgraph" id="free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_cgraph">
<area shape="rect" id="node2" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1268,439,1345,465"/>
<area shape="rect" id="node3" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="1039,715,1154,741"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#aa8ce521464eebedfc2a4f39f1a6471c0" title="btrfs_wait_cache_io" alt="" coords="190,208,329,235"/>
<area shape="rect" id="node17" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="587,436,719,463"/>
<area shape="rect" id="node24" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="1042,851,1151,877"/>
<area shape="rect" id="node26" href="ctree_8h.html#a58c1db724e5d0cda79ae1b3e4e7ba743" title="btrfs_put_block_group" alt="" coords="184,917,335,944"/>
<area shape="rect" id="node27" href="btrfs__inode_8h.html#aab2a70322d54998023e6d461d1e69276" title="btrfs_i_size_write" alt="" coords="197,968,321,995"/>
<area shape="rect" id="node28" href="ctree_8h.html#ad443942488bc3a99600ce28d7fb90bea" title="btrfs_truncate_inode\l_items" alt="" coords="583,1265,723,1306"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a5044f52e85ef54f768760b146ff815ef" title="__btrfs_wait_cache_io" alt="" coords="383,183,535,209"/>
<area shape="rect" id="node6" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="618,5,687,32"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a38ff6ed161b1d598d4a67b7e348532ab" title="flush_dirty_cache" alt="" coords="591,208,715,235"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a84d7927bc7f5ffbc50cd7262b153c7aa" title="update_cache_item" alt="" coords="801,613,936,640"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="611,56,694,83"/>
<area shape="rect" id="node25" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="631,107,674,133"/>
<area shape="rect" id="node9" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1035,1069,1158,1096"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1242,968,1371,995"/>
<area shape="rect" id="node14" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1019,563,1174,589"/>
<area shape="rect" id="node15" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1019,765,1175,792"/>
<area shape="rect" id="node10" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1443,1069,1569,1096"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1435,993,1577,1020"/>
<area shape="rect" id="node13" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1227,1171,1387,1197"/>
<area shape="rect" id="node18" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="801,1425,937,1466"/>
<area shape="rect" id="node20" href="ctree_8h.html#af48b91220eb6952623df9c867081a91b" title="btrfs_update_root_times" alt="" coords="787,461,950,488"/>
<area shape="rect" id="node21" href="delayed-inode_8c.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="1023,363,1170,405"/>
<area shape="rect" id="node22" href="transaction_8h.html#ad9769ba94f246562dd5eb3fc0a2d9512" title="btrfs_set_inode_last\l_trans" alt="" coords="1027,431,1166,473"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a612e16f16a54684bee0ffb2259083460" title="btrfs_update_inode_item" alt="" coords="787,512,951,539"/>
<area shape="rect" id="node19" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="1271,1728,1343,1755"/>
<area shape="rect" id="node29" href="ctree_8h.html#aad266a933a550e764cf1e05925ef98e4" title="btrfs_drop_extent_cache" alt="" coords="786,1373,951,1400"/>
<area shape="rect" id="node37" href="delayed-inode_8c.html#a85ca5ebbcf4c72064b727b8e20048c50" title="btrfs_kill_delayed\l_inode_items" alt="" coords="807,1658,930,1699"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#adad9b2669715d9d36f3f5b40cf2a8619" title="btrfs_should_end_transaction" alt="" coords="773,1607,965,1633"/>
<area shape="rect" id="node40" href="ctree_8h.html#ad7c4792a0fa4d5bcdcc893196580f716" title="btrfs_run_delayed_refs" alt="" coords="1019,1677,1174,1704"/>
<area shape="rect" id="node41" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="781,1272,957,1299"/>
<area shape="rect" id="node42" href="stat_8c.html#a5a130feafa530db5c343d9cbf3d769b8" title="inode_sub_bytes" alt="" coords="809,1323,929,1349"/>
<area shape="rect" id="node43" href="ctree_8h.html#a92873725d02b996642128b8c2fd2e26b" title="btrfs_file_extent_calc\l_inline_size" alt="" coords="795,1490,942,1531"/>
<area shape="rect" id="node44" href="ctree_8c.html#a4716b18f6ca1f05f3b3f095533b8bf06" title="btrfs_truncate_item" alt="" coords="801,765,936,792"/>
<area shape="rect" id="node45" href="ctree_8h.html#acf0f17d42f330fe7529598d6dda3e175" title="btrfs_free_extent" alt="" coords="809,1724,929,1751"/>
<area shape="rect" id="node46" href="ctree_8h.html#a6eb20595513c36f0512690d5523aadcd" title="btrfs_should_throttle\l_delayed_refs" alt="" coords="799,1775,939,1817"/>
<area shape="rect" id="node47" href="ctree_8h.html#ace543e517c4e9638c0b8914390df3d2f" title="btrfs_async_run_delayed_refs" alt="" coords="771,1892,967,1919"/>
<area shape="rect" id="node48" href="btrfs_2inode_8c.html#ad919ed82b82fda2035d500dc29f3c643" title="truncate_space_check" alt="" coords="792,1943,945,1969"/>
<area shape="rect" id="node49" href="ctree_8c.html#aaf3fe24757c5a4cf7f4383e7c5a1d9f7" title="btrfs_del_items" alt="" coords="813,1171,924,1197"/>
<area shape="rect" id="node50" href="ordered-data_8c.html#a22b41400f6a5d3cf2c0a90cd63dcc209" title="btrfs_ordered_update\l_i_size" alt="" coords="1025,902,1169,943"/>
<area shape="rect" id="node30" href="btrfs_2extent__map_8c.html#ae479a8df22b2300485135b218435e1c6" title="alloc_extent_map" alt="" coords="1035,1272,1159,1299"/>
<area shape="rect" id="node31" href="btrfs_2extent__map_8c.html#adc0e39ee8a78534e8329b6f612c040a0" title="lookup_extent_mapping" alt="" coords="1017,1323,1176,1349"/>
<area shape="rect" id="node32" href="btrfs_2extent__map_8c.html#ab41ea4f4bff6e04c5ee086967afc0b57" title="free_extent_map" alt="" coords="1037,1525,1156,1552"/>
<area shape="rect" id="node33" href="btrfs_2extent__map_8h.html#a9d4a227dc84f87cd0204c51dac831c62" title="extent_map_in_tree" alt="" coords="1239,1525,1375,1552"/>
<area shape="rect" id="node34" href="btrfs_2extent__map_8c.html#a69292c0ba996191dd8155add8e87e3bc" title="replace_extent_mapping" alt="" coords="1015,1475,1178,1501"/>
<area shape="rect" id="node35" href="btrfs_2extent__map_8c.html#aad94b9498cc8fb12887f61e6e14ac287" title="add_extent_mapping" alt="" coords="1025,1373,1168,1400"/>
<area shape="rect" id="node36" href="btrfs_2extent__map_8c.html#ad9530c51363bd7a4f3d976a615646efa" title="remove_extent_mapping" alt="" coords="1015,1424,1179,1451"/>
<area shape="rect" id="node38" href="delayed-inode_8c.html#a65a02af30bf83ac7463c0a28820968d3" title="btrfs_get_delayed_node" alt="" coords="1017,1728,1177,1755"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_icgraph.png" border="0" usemap="#free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_icgraph" id="free-space-cache_8h_a0bf1acce3fff389beceb30fc23f25bfd_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="193,685,324,711"/>
<area shape="rect" id="node9" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1105,5,1240,47"/>
<area shape="rect" id="node49" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="184,765,333,791"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="381,775,552,802"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="391,644,542,685"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="390,709,543,751"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="600,666,807,693"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="625,775,781,802"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1112,71,1233,98"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="891,717,993,743"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="867,666,1017,693"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="858,549,1026,591"/>
<area shape="rect" id="node10" href="relocation_8c.html#ac8d448f4a78fed7818abee3f9a4d10dd" title="find_data_references" alt="" coords="1324,98,1467,125"/>
<area shape="rect" id="node13" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="1925,241,2064,283"/>
<area shape="rect" id="node11" href="relocation_8c.html#a8d59bead8199a5cfd091257d6afa16d4" title="add_data_references" alt="" coords="1532,129,1675,155"/>
<area shape="rect" id="node12" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1732,249,1877,275"/>
<area shape="rect" id="node14" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="2135,303,2231,330"/>
<area shape="rect" id="node15" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="2112,249,2255,275"/>
<area shape="rect" id="node17" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="855,829,1029,855"/>
<area shape="rect" id="node18" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="857,778,1027,805"/>
<area shape="rect" id="node19" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1119,778,1226,805"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1112,829,1233,855"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1122,879,1223,906"/>
<area shape="rect" id="node22" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1127,930,1218,957"/>
<area shape="rect" id="node23" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1316,1006,1475,1033"/>
<area shape="rect" id="node24" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1083,1031,1263,1058"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1087,1082,1258,1109"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1115,1133,1230,1159"/>
<area shape="rect" id="node27" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1105,1183,1241,1210"/>
<area shape="rect" id="node28" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1104,1234,1241,1261"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1095,1285,1251,1327"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1089,1351,1257,1378"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1077,1402,1268,1429"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1081,1453,1264,1479"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1121,1503,1224,1530"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1113,1554,1232,1581"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1112,1605,1233,1631"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1111,173,1235,215"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1103,239,1242,266"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1089,341,1256,383"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1098,407,1247,434"/>
<area shape="rect" id="node40" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1093,509,1252,535"/>
<area shape="rect" id="node41" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1103,560,1243,601"/>
<area shape="rect" id="node42" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1103,626,1243,653"/>
<area shape="rect" id="node43" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1332,211,1459,238"/>
<area shape="rect" id="node44" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1535,282,1671,309"/>
<area shape="rect" id="node45" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1523,618,1684,645"/>
<area shape="rect" id="node46" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1087,677,1258,703"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="644,826,763,853"/>
</map>
</div>

</div>
</div>
<a id="aa8ce521464eebedfc2a4f39f1a6471c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ce521464eebedfc2a4f39f1a6471c0">&#9670;&nbsp;</a></span>btrfs_wait_cache_io()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_wait_cache_io </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_cgraph.png" border="0" usemap="#free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_cgraph" alt=""/></div>
<map name="free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_cgraph" id="free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a5044f52e85ef54f768760b146ff815ef" title="__btrfs_wait_cache_io" alt="" coords="192,1452,344,1479"/>
<area shape="rect" id="node3" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="425,1237,494,1264"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a38ff6ed161b1d598d4a67b7e348532ab" title="flush_dirty_cache" alt="" coords="397,1452,521,1479"/>
<area shape="rect" id="node7" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1056,1673,1133,1700"/>
<area shape="rect" id="node13" href="free-space-cache_8c.html#a84d7927bc7f5ffbc50cd7262b153c7aa" title="update_cache_item" alt="" coords="392,1288,527,1315"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="418,1503,501,1529"/>
<area shape="rect" id="node42" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="393,1757,525,1784"/>
<area shape="rect" id="node48" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="438,1976,481,2003"/>
<area shape="rect" id="node5" href="ordered-data_8c.html#ad23b68e46101eced881eec33f415d5b2" title="btrfs_wait_ordered\l_range" alt="" coords="592,1481,721,1522"/>
<area shape="rect" id="node11" href="extent__io_8c.html#a793f782653defcda23a32ee986316de0" title="clear_extent_bit" alt="" coords="599,1415,714,1441"/>
<area shape="rect" id="node6" href="ctree_8h.html#ae3a0c059de32a53eb7d7ac4abc67079b" title="btrfs_fdatawrite_range" alt="" coords="799,1648,949,1675"/>
<area shape="rect" id="node8" href="ordered-data_8c.html#a76058034a6e86ef9285b70c8072fa38a" title="btrfs_lookup_first\l_ordered_extent" alt="" coords="813,1415,935,1457"/>
<area shape="rect" id="node9" href="ordered-data_8c.html#a08fa2942c9d8616cd5327d7f99d883f3" title="btrfs_put_ordered_extent" alt="" coords="791,1547,957,1573"/>
<area shape="rect" id="node10" href="ordered-data_8c.html#ad9f2e1641c4a25a713eb4fee5971e2f5" title="btrfs_start_ordered\l_extent" alt="" coords="809,1481,939,1522"/>
<area shape="rect" id="node12" href="extent__io_8c.html#ac0c025ebcc224bec0de9a238d5af275e" title="__clear_extent_bit" alt="" coords="810,1364,938,1391"/>
<area shape="rect" id="node14" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="595,655,718,681"/>
<area shape="rect" id="node24" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1030,871,1159,897"/>
<area shape="rect" id="node38" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="579,31,734,57"/>
<area shape="rect" id="node40" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="796,1597,952,1624"/>
<area shape="rect" id="node15" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="813,553,935,580"/>
<area shape="rect" id="node16" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1025,259,1165,285"/>
<area shape="rect" id="node17" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1039,604,1151,631"/>
<area shape="rect" id="node18" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="787,284,961,311"/>
<area shape="rect" id="node19" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1017,373,1172,400"/>
<area shape="rect" id="node20" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1245,483,1371,509"/>
<area shape="rect" id="node21" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="803,655,945,681"/>
<area shape="rect" id="node22" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="1041,705,1149,732"/>
<area shape="rect" id="node23" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1030,933,1159,960"/>
<area shape="rect" id="node25" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1237,1161,1379,1188"/>
<area shape="rect" id="node26" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1228,1035,1388,1061"/>
<area shape="rect" id="node27" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="815,857,933,884"/>
<area shape="rect" id="node28" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1009,1060,1180,1087"/>
<area shape="rect" id="node29" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="829,335,919,361"/>
<area shape="rect" id="node30" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="792,1009,956,1036"/>
<area shape="rect" id="node31" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1054,1212,1135,1239"/>
<area shape="rect" id="node32" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="797,756,951,783"/>
<area shape="rect" id="node33" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="791,436,957,463"/>
<area shape="rect" id="node34" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="804,487,944,529"/>
<area shape="rect" id="node35" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1021,132,1168,159"/>
<area shape="rect" id="node36" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="837,81,911,108"/>
<area shape="rect" id="node37" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="1041,5,1149,32"/>
<area shape="rect" id="node39" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="797,31,951,57"/>
<area shape="rect" id="node43" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="589,1691,725,1733"/>
<area shape="rect" id="node44" href="ctree_8h.html#af48b91220eb6952623df9c867081a91b" title="btrfs_update_root_times" alt="" coords="575,1757,738,1784"/>
<area shape="rect" id="node45" href="delayed-inode_8c.html#ac41957e521cd0b554a8d08684a07ccfb" title="btrfs_delayed_update\l_inode" alt="" coords="583,1859,730,1901"/>
<area shape="rect" id="node46" href="transaction_8h.html#ad9769ba94f246562dd5eb3fc0a2d9512" title="btrfs_set_inode_last\l_trans" alt="" coords="805,1801,943,1842"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#a612e16f16a54684bee0ffb2259083460" title="btrfs_update_inode_item" alt="" coords="575,1640,739,1667"/>
<area shape="rect" id="node49" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="619,1976,694,2003"/>
<area shape="rect" id="node50" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="587,2027,726,2053"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_icgraph.png" border="0" usemap="#free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_icgraph" alt=""/></div>
<map name="free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_icgraph" id="free-space-cache_8h_aa8ce521464eebedfc2a4f39f1a6471c0_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="192,1115,343,1157"/>
<area shape="rect" id="node10" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="1059,901,1212,942"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="199,977,335,1018"/>
<area shape="rect" id="node49" href="free-space-cache_8h.html#a0bf1acce3fff389beceb30fc23f25bfd" title="btrfs_truncate_free\l_space_cache" alt="" coords="664,1178,795,1219"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="391,984,597,1011"/>
<area shape="rect" id="node12" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1464,908,1633,935"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1716,1808,1837,1835"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="678,959,781,985"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="655,857,804,884"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="645,1061,813,1102"/>
<area shape="rect" id="node7" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="866,832,1006,859"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="871,1068,1001,1095"/>
<area shape="rect" id="node47" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="869,1119,1003,1161"/>
<area shape="rect" id="node11" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="1260,908,1416,935"/>
<area shape="rect" id="node13" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1723,157,1830,184"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1716,208,1837,235"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1726,259,1827,285"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1731,309,1822,336"/>
<area shape="rect" id="node17" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1920,385,2079,412"/>
<area shape="rect" id="node18" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1687,360,1867,387"/>
<area shape="rect" id="node19" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1691,461,1862,488"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1719,512,1834,539"/>
<area shape="rect" id="node21" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1709,563,1845,589"/>
<area shape="rect" id="node22" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1708,613,1845,640"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1699,665,1855,706"/>
<area shape="rect" id="node24" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1693,731,1861,757"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1681,781,1872,808"/>
<area shape="rect" id="node26" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1685,832,1868,859"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1725,883,1828,909"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1717,933,1836,960"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1716,984,1837,1011"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1715,1035,1839,1077"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1707,1101,1846,1128"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1693,1153,1860,1194"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1702,1219,1851,1245"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1697,1269,1856,1296"/>
<area shape="rect" id="node35" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1707,1321,1847,1362"/>
<area shape="rect" id="node36" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1707,1387,1847,1413"/>
<area shape="rect" id="node37" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1713,1437,1840,1464"/>
<area shape="rect" id="node38" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1927,1488,2072,1515"/>
<area shape="rect" id="node39" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1709,1539,1845,1565"/>
<area shape="rect" id="node40" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1696,1589,1857,1616"/>
<area shape="rect" id="node41" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1691,1640,1862,1667"/>
<area shape="rect" id="node42" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1703,1691,1850,1733"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1717,1757,1836,1784"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1696,5,1857,32"/>
<area shape="rect" id="node45" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="1713,56,1841,83"/>
<area shape="rect" id="node46" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="1697,107,1857,133"/>
<area shape="rect" id="node50" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="861,1185,1011,1212"/>
</map>
</div>

</div>
</div>
<a id="a4882ca09e6b6af79cae4f84cf77c597f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4882ca09e6b6af79cae4f84cf77c597f">&#9670;&nbsp;</a></span>btrfs_write_out_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_write_out_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_cgraph.png" border="0" usemap="#free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_cgraph" id="free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="204,374,373,400"/>
<area shape="rect" id="node13" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="914,146,957,172"/>
<area shape="rect" id="node16" href="free-space-cache_8c.html#a158f316f41724e25bb56338dec6028e4" title="__btrfs_write_out_cache" alt="" coords="207,1191,371,1218"/>
<area shape="rect" id="node3" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="471,374,522,400"/>
<area shape="rect" id="node6" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="424,164,569,205"/>
<area shape="rect" id="node15" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="897,1082,974,1108"/>
<area shape="rect" id="node4" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="693,348,750,375"/>
<area shape="rect" id="node5" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1048,298,1187,324"/>
<area shape="rect" id="node7" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="660,298,783,324"/>
<area shape="rect" id="node8" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="871,247,1000,274"/>
<area shape="rect" id="node9" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="648,247,795,274"/>
<area shape="rect" id="node10" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="645,44,798,71"/>
<area shape="rect" id="node11" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="683,95,759,122"/>
<area shape="rect" id="node12" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="886,19,985,46"/>
<area shape="rect" id="node14" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1080,146,1155,172"/>
<area shape="rect" id="node17" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="449,584,544,611"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a99080d8a1d00390eea46773ead320b8e" title="io_ctl_init" alt="" coords="458,922,535,948"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#aee15176f62c9a71d4de2ba052a50ac19" title="io_ctl_prepare_pages" alt="" coords="424,1247,569,1274"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#ad7098c665f6629d6d045e88b372e85cb" title="io_ctl_drop_pages" alt="" coords="658,1444,785,1471"/>
<area shape="rect" id="node28" href="extent__io_8c.html#a0bc9dc68ff72ea0cab75808e0579d425" title="lock_extent_bits" alt="" coords="438,635,555,662"/>
<area shape="rect" id="node31" href="free-space-cache_8c.html#aa11a12cd529e81ec2c273e1fcb979c67" title="io_ctl_set_generation" alt="" coords="424,1562,569,1588"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a4527e6e88a0f76225081282b3e47da41" title="write_cache_extent\l_entries" alt="" coords="429,1808,564,1849"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a06a4b6c4bbfb7e82d4dba315ee264ff1" title="write_pinned_extent\l_entries" alt="" coords="427,1742,566,1784"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#adaa19f3a43ed6bb20854c597d0b5c61f" title="write_bitmap_entries" alt="" coords="425,1690,568,1716"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#a1734855bb0243ad2a346078c586bd7d5" title="io_ctl_zero_remaining\l_pages" alt="" coords="647,1648,795,1689"/>
<area shape="rect" id="node41" href="ctree_8h.html#a8990e4f00b50b843d9c782df502d7bf0" title="btrfs_dirty_pages" alt="" coords="435,998,558,1024"/>
<area shape="rect" id="node45" href="extent__io_8h.html#a7d3c8a66e8d3dde67c8bbd8a1488a31d" title="unlock_extent_cached" alt="" coords="645,1546,797,1572"/>
<area shape="rect" id="node46" href="ctree_8h.html#ae3a0c059de32a53eb7d7ac4abc67079b" title="btrfs_fdatawrite_range" alt="" coords="421,1308,572,1335"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="455,820,538,847"/>
<area shape="rect" id="node48" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="431,719,563,746"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#aba8629f1bff6fa55afacc5b4029ce40d" title="cleanup_bitmap_list" alt="" coords="428,871,565,898"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a8e00c8023b6687725da32597bf3497ab" title="cleanup_write_cache\l_enospc" alt="" coords="425,1438,569,1480"/>
<area shape="rect" id="node19" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="899,715,971,742"/>
<area shape="rect" id="node20" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="687,922,756,948"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a7e68b771b9f85b35b69e81ffb1c36fc7" title="ALLOW_ERROR_INJECTION" alt="" coords="620,820,823,847"/>
<area shape="rect" id="node23" href="ctree_8h.html#a310c553b9893347299793f637b68df03" title="btrfs_alloc_write_mask" alt="" coords="643,1292,799,1319"/>
<area shape="rect" id="node26" href="ctree_8h.html#a186816ba7f75aa5175e070119b163883" title="btrfs_readpage" alt="" coords="667,1343,775,1370"/>
<area shape="rect" id="node27" href="extent__io_8c.html#abc1890d062862bada9642abfada2a473" title="set_page_extent_mapped" alt="" coords="636,1242,807,1268"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#ab04efc5914b94d4a23464c9704a3435f" title="io_ctl_unmap_page" alt="" coords="1050,1612,1185,1639"/>
<area shape="rect" id="node29" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="662,602,781,628"/>
<area shape="rect" id="node30" href="extent__io_8c.html#ab8d5011be449267224a0055681f79cd2" title="wait_extent_bit" alt="" coords="666,551,777,578"/>
<area shape="rect" id="node32" href="free-space-cache_8c.html#a6c453e82369140026c433085ec15a0d1" title="io_ctl_map_page" alt="" coords="875,1663,995,1690"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#ae0762dbb52406fa40ac6196d6479aaf8" title="io_ctl_add_entry" alt="" coords="663,1815,780,1842"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#a51f19602da9ea91e1a3f999b1061c5da" title="io_ctl_set_crc" alt="" coords="884,1714,987,1740"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="653,1764,789,1791"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#a34d44d7dc9b48f76ba8ed964a79f591d" title="io_ctl_add_bitmap" alt="" coords="658,1714,785,1740"/>
<area shape="rect" id="node42" href="btrfs__inode_8h.html#a27fc80b23784d20a2b6485b3860c0e76" title="btrfs_is_free_space\l_inode" alt="" coords="653,653,789,694"/>
<area shape="rect" id="node43" href="btrfs_2file_8c.html#a1645ef6d035eee709b66a1761d790e51" title="btrfs_find_new_delalloc\l_bytes" alt="" coords="642,1074,801,1116"/>
<area shape="rect" id="node44" href="ctree_8h.html#acdbaced01e9e53a8692c3245545fd1e9" title="btrfs_set_extent_delalloc" alt="" coords="638,1023,805,1050"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_icgraph.png" border="0" usemap="#free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_icgraph" id="free-space-cache_8h_a4882ca09e6b6af79cae4f84cf77c597f_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="205,977,356,1018"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="204,911,357,953"/>
<area shape="rect" id="node3" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="405,895,612,921"/>
<area shape="rect" id="node8" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="660,1009,829,1036"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="912,5,1033,32"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="693,841,796,868"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="670,892,819,919"/>
<area shape="rect" id="node7" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="661,943,829,985"/>
<area shape="rect" id="node9" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="919,208,1026,235"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="912,259,1033,285"/>
<area shape="rect" id="node11" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="922,309,1023,336"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="927,360,1018,387"/>
<area shape="rect" id="node13" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1116,436,1275,463"/>
<area shape="rect" id="node14" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="883,411,1063,437"/>
<area shape="rect" id="node15" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="887,512,1058,539"/>
<area shape="rect" id="node16" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="915,563,1030,589"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="905,613,1041,640"/>
<area shape="rect" id="node18" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="904,664,1041,691"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="895,715,1051,757"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="889,781,1057,808"/>
<area shape="rect" id="node21" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="877,832,1068,859"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="881,883,1064,909"/>
<area shape="rect" id="node23" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="921,933,1024,960"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="913,984,1032,1011"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="912,1035,1033,1061"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="911,1086,1035,1127"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="903,1152,1042,1179"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="889,1203,1056,1245"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="898,1269,1047,1296"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="893,1320,1052,1347"/>
<area shape="rect" id="node31" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="903,1371,1043,1413"/>
<area shape="rect" id="node32" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="903,1437,1043,1464"/>
<area shape="rect" id="node33" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="909,1488,1036,1515"/>
<area shape="rect" id="node34" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1123,1539,1268,1565"/>
<area shape="rect" id="node35" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="905,1589,1041,1616"/>
<area shape="rect" id="node36" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="892,1640,1053,1667"/>
<area shape="rect" id="node37" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="887,1691,1058,1717"/>
<area shape="rect" id="node38" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="899,1742,1046,1783"/>
<area shape="rect" id="node39" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="913,1808,1032,1835"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="892,1859,1053,1885"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="909,1909,1037,1936"/>
<area shape="rect" id="node42" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="893,1960,1053,1987"/>
<area shape="rect" id="node43" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="893,2011,1052,2037"/>
<area shape="rect" id="node44" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="907,2061,1038,2088"/>
<area shape="rect" id="node45" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="899,2112,1047,2139"/>
<area shape="rect" id="node46" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="903,56,1042,83"/>
<area shape="rect" id="node47" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="911,107,1034,133"/>
<area shape="rect" id="node48" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="897,157,1048,184"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="431,947,587,973"/>
</map>
</div>

</div>
</div>
<a id="ad886e23ce385c40743cd1bc051e5d7b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad886e23ce385c40743cd1bc051e5d7b1">&#9670;&nbsp;</a></span>btrfs_write_out_ino_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int btrfs_write_out_ino_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a> *&#160;</td>
          <td class="paramname"><em>inode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_cgraph.png" border="0" usemap="#free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_cgraph" alt=""/></div>
<map name="free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_cgraph" id="free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a158f316f41724e25bb56338dec6028e4" title="__btrfs_write_out_cache" alt="" coords="187,607,351,634"/>
<area shape="rect" id="node6" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="880,814,957,841"/>
<area shape="rect" id="node35" href="free-space-cache_8c.html#ab1f21dddc2cc350d609b9e51bd95294b" title="btrfs_wait_cache_io_root" alt="" coords="185,1093,352,1119"/>
<area shape="rect" id="node37" href="ctree_8h.html#a0c8cfb606b59e7400b722b0101cd7ff7" title="btrfs_delalloc_release\l_metadata" alt="" coords="195,1347,343,1388"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="423,1514,537,1541"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a09e5d1721e28f5eacfa1ebad5b6194d1" title="tree_search_offset" alt="" coords="203,1463,334,1490"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#ad6166c89663bd722b0364ae0b8d0e879" title="offset_to_bitmap" alt="" coords="421,1565,539,1591"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a03dbc35fdafca14f9ecca2d67c60632f" title="add_new_bitmap" alt="" coords="209,1514,329,1541"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#af3a43975aa0902307ccf07123046ef22" title="add_bytes_to_bitmap" alt="" coords="195,1666,342,1693"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a65c456ee19e094069b38feac9439f9a9" title="search_bitmap" alt="" coords="427,1615,533,1642"/>
<area shape="rect" id="node3" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="433,637,527,663"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a99080d8a1d00390eea46773ead320b8e" title="io_ctl_init" alt="" coords="441,1093,519,1119"/>
<area shape="rect" id="node9" href="free-space-cache_8c.html#aee15176f62c9a71d4de2ba052a50ac19" title="io_ctl_prepare_pages" alt="" coords="407,418,553,445"/>
<area shape="rect" id="node11" href="free-space-cache_8c.html#ad7098c665f6629d6d045e88b372e85cb" title="io_ctl_drop_pages" alt="" coords="646,535,773,562"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a0bc9dc68ff72ea0cab75808e0579d425" title="lock_extent_bits" alt="" coords="421,738,539,765"/>
<area shape="rect" id="node17" href="free-space-cache_8c.html#aa11a12cd529e81ec2c273e1fcb979c67" title="io_ctl_set_generation" alt="" coords="407,367,553,394"/>
<area shape="rect" id="node19" href="free-space-cache_8c.html#a4527e6e88a0f76225081282b3e47da41" title="write_cache_extent\l_entries" alt="" coords="413,5,547,47"/>
<area shape="rect" id="node22" href="free-space-cache_8c.html#a06a4b6c4bbfb7e82d4dba315ee264ff1" title="write_pinned_extent\l_entries" alt="" coords="411,71,549,112"/>
<area shape="rect" id="node24" href="free-space-cache_8c.html#adaa19f3a43ed6bb20854c597d0b5c61f" title="write_bitmap_entries" alt="" coords="409,157,551,183"/>
<area shape="rect" id="node26" href="free-space-cache_8c.html#a1734855bb0243ad2a346078c586bd7d5" title="io_ctl_zero_remaining\l_pages" alt="" coords="635,165,783,207"/>
<area shape="rect" id="node27" href="ctree_8h.html#a8990e4f00b50b843d9c782df502d7bf0" title="btrfs_dirty_pages" alt="" coords="419,1143,541,1170"/>
<area shape="rect" id="node28" href="extent__io_8h.html#a7d3c8a66e8d3dde67c8bbd8a1488a31d" title="unlock_extent_cached" alt="" coords="633,637,785,663"/>
<area shape="rect" id="node29" href="ctree_8h.html#ae3a0c059de32a53eb7d7ac4abc67079b" title="btrfs_fdatawrite_range" alt="" coords="405,469,555,495"/>
<area shape="rect" id="node30" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="668,890,751,917"/>
<area shape="rect" id="node31" href="ctree_8h.html#a16bac8abea6c11219cc1cbe2b6b5323c" title="btrfs_update_inode" alt="" coords="643,839,775,866"/>
<area shape="rect" id="node32" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="688,941,731,967"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#aba8629f1bff6fa55afacc5b4029ce40d" title="cleanup_bitmap_list" alt="" coords="411,317,549,343"/>
<area shape="rect" id="node34" href="free-space-cache_8c.html#a8e00c8023b6687725da32597bf3497ab" title="cleanup_write_cache\l_enospc" alt="" coords="408,571,552,612"/>
<area shape="rect" id="node5" href="btrfs__inode_8h.html#ae61072d9920d46f280ce1e0c934d4307" title="btrfs_ino" alt="" coords="673,1245,745,1271"/>
<area shape="rect" id="node7" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="675,1143,744,1170"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a7e68b771b9f85b35b69e81ffb1c36fc7" title="ALLOW_ERROR_INJECTION" alt="" coords="608,1042,811,1069"/>
<area shape="rect" id="node10" href="ctree_8h.html#a310c553b9893347299793f637b68df03" title="btrfs_alloc_write_mask" alt="" coords="631,434,787,461"/>
<area shape="rect" id="node12" href="ctree_8h.html#a186816ba7f75aa5175e070119b163883" title="btrfs_readpage" alt="" coords="655,282,763,309"/>
<area shape="rect" id="node13" href="extent__io_8c.html#abc1890d062862bada9642abfada2a473" title="set_page_extent_mapped" alt="" coords="624,333,795,359"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a16a179c233a34a723c12aba43b983c06" title="__set_extent_bit" alt="" coords="650,738,769,765"/>
<area shape="rect" id="node16" href="extent__io_8c.html#ab8d5011be449267224a0055681f79cd2" title="wait_extent_bit" alt="" coords="654,687,765,714"/>
<area shape="rect" id="node18" href="free-space-cache_8c.html#a6c453e82369140026c433085ec15a0d1" title="io_ctl_map_page" alt="" coords="859,169,979,195"/>
<area shape="rect" id="node20" href="free-space-cache_8c.html#ae0762dbb52406fa40ac6196d6479aaf8" title="io_ctl_add_entry" alt="" coords="651,13,768,39"/>
<area shape="rect" id="node21" href="free-space-cache_8c.html#a51f19602da9ea91e1a3f999b1061c5da" title="io_ctl_set_crc" alt="" coords="867,114,970,141"/>
<area shape="rect" id="node23" href="extent__io_8c.html#a34edaf46e8ac9d55b218b73a442328b6" title="find_first_extent_bit" alt="" coords="641,63,777,90"/>
<area shape="rect" id="node25" href="free-space-cache_8c.html#a34d44d7dc9b48f76ba8ed964a79f591d" title="io_ctl_add_bitmap" alt="" coords="646,114,773,141"/>
<area shape="rect" id="node36" href="free-space-cache_8c.html#a5044f52e85ef54f768760b146ff815ef" title="__btrfs_wait_cache_io" alt="" coords="404,991,556,1018"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a14ca5b0ce308e37a6f6b04725f2c1a30" title="btrfs_calculate_inode\l_block_rsv_size" alt="" coords="407,1347,553,1388"/>
<area shape="rect" id="node39" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="425,1413,535,1439"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#aac7629606ec50e45fe8b1b71044f8d95" title="btrfs_inode_rsv_release" alt="" coords="400,1463,560,1490"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#a6e46501afab00d48acc8c9aafbc1bbf3" title="tree_insert_offset" alt="" coords="648,1514,771,1541"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a1885a58fe1bee41220c7702ce752b652" title="bitmap_set_bits" alt="" coords="423,1666,537,1693"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a09ef0758a72796858a4061a0cbfe0d4a" title="offset_to_bit" alt="" coords="662,1615,757,1642"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a5f418a86ac45156a79860615a852d8e9" title="bytes_to_bits" alt="" coords="659,1666,759,1693"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_icgraph.png" border="0" usemap="#free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_icgraph" alt=""/></div>
<map name="free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_icgraph" id="free-space-cache_8h_ad886e23ce385c40743cd1bc051e5d7b1_icgraph">
<area shape="rect" id="node2" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="185,1025,335,1052"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="383,1025,501,1052"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="549,1000,724,1027"/>
<area shape="rect" id="node7" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1216,1051,1385,1077"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="772,1000,943,1027"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="991,1000,1168,1027"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1475,56,1582,83"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1468,107,1589,133"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1468,157,1589,184"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1478,208,1579,235"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1483,259,1574,285"/>
<area shape="rect" id="node14" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1680,335,1839,361"/>
<area shape="rect" id="node15" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1439,360,1619,387"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1443,411,1614,437"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1471,461,1586,488"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1461,512,1597,539"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1460,563,1597,589"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1451,614,1607,655"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1445,680,1613,707"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1433,731,1624,757"/>
<area shape="rect" id="node23" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1437,781,1620,808"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1477,832,1580,859"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1469,883,1588,909"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1699,1825,1820,1852"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1467,985,1591,1026"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1459,1051,1598,1077"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1445,1102,1612,1143"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1454,1168,1603,1195"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1449,1219,1608,1245"/>
<area shape="rect" id="node32" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1459,1270,1599,1311"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1459,1336,1599,1363"/>
<area shape="rect" id="node34" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1465,933,1592,960"/>
<area shape="rect" id="node35" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1687,1387,1832,1413"/>
<area shape="rect" id="node36" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1461,1437,1597,1464"/>
<area shape="rect" id="node37" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1448,1539,1609,1565"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1443,1589,1614,1616"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1455,1641,1602,1682"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1469,1707,1588,1733"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1448,1757,1609,1784"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="1465,1808,1593,1835"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="1449,5,1609,32"/>
<area shape="rect" id="node44" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1449,1859,1608,1885"/>
<area shape="rect" id="node45" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="1463,1909,1594,1936"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1455,1960,1603,1987"/>
<area shape="rect" id="node47" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="1459,2011,1598,2037"/>
<area shape="rect" id="node48" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="1467,2061,1590,2088"/>
<area shape="rect" id="node49" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="1453,2112,1604,2139"/>
<area shape="rect" id="node50" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1461,1488,1596,1515"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1672,56,1847,83"/>
</map>
</div>

</div>
</div>
<a id="ac4424aeb02411716c944235b5c029283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4424aeb02411716c944235b5c029283">&#9670;&nbsp;</a></span>create_free_ino_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_free_ino_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ac4424aeb02411716c944235b5c029283_cgraph.png" border="0" usemap="#free-space-cache_8h_ac4424aeb02411716c944235b5c029283_cgraph" alt=""/></div>
<map name="free-space-cache_8h_ac4424aeb02411716c944235b5c029283_cgraph" id="free-space-cache_8h_ac4424aeb02411716c944235b5c029283_cgraph">
<area shape="rect" id="node2" href="free-space-cache_8c.html#a9f47f6aa2c59db2bf33f5dfbe3f19fd9" title="__create_free_space\l_inode" alt="" coords="203,1453,345,1494"/>
<area shape="rect" id="node3" href="ctree_8h.html#a3bd6d4d09312ea8e8ede34fd65f71df5" title="btrfs_insert_empty\l_inode" alt="" coords="414,1394,545,1435"/>
<area shape="rect" id="node4" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="613,1401,776,1428"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1847,1680,1977,1707"/>
<area shape="rect" id="node25" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="2074,557,2182,584"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1209,952,1365,979"/>
<area shape="rect" id="node49" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="400,2136,559,2163"/>
<area shape="rect" id="node50" href="ctree_8h.html#aba61e2c20f10e6cee16422af81cfc45d" title="btrfs_set_free_space_key" alt="" coords="393,2187,565,2213"/>
<area shape="rect" id="node5" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="824,1107,955,1149"/>
<area shape="rect" id="node42" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="835,1401,943,1428"/>
<area shape="rect" id="node46" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1233,1123,1341,1149"/>
<area shape="rect" id="node48" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1014,1680,1146,1707"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1438,1427,1561,1453"/>
<area shape="rect" id="node20" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1003,553,1157,580"/>
<area shape="rect" id="node7" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1637,1579,1777,1605"/>
<area shape="rect" id="node8" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2065,1743,2191,1769"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="2057,1275,2199,1301"/>
<area shape="rect" id="node17" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1832,1731,1992,1757"/>
<area shape="rect" id="node18" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1631,1832,1784,1859"/>
<area shape="rect" id="node19" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1634,717,1781,744"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="2264,1768,2419,1795"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="2268,1717,2415,1744"/>
<area shape="rect" id="node13" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="2280,1312,2403,1339"/>
<area shape="rect" id="node15" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="2264,1246,2419,1287"/>
<area shape="rect" id="node16" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="2264,1195,2419,1221"/>
<area shape="rect" id="node14" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="2467,1217,2632,1244"/>
<area shape="rect" id="node21" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1445,469,1553,496"/>
<area shape="rect" id="node22" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="2292,195,2391,221"/>
<area shape="rect" id="node23" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="2480,195,2619,221"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1835,844,1989,871"/>
<area shape="rect" id="node26" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1643,499,1772,541"/>
<area shape="rect" id="node27" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1646,397,1769,424"/>
<area shape="rect" id="node28" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1847,347,1977,373"/>
<area shape="rect" id="node29" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1840,423,1984,449"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="2040,144,2216,171"/>
<area shape="rect" id="node31" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1641,565,1774,592"/>
<area shape="rect" id="node32" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1663,616,1752,643"/>
<area shape="rect" id="node33" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1654,245,1761,272"/>
<area shape="rect" id="node34" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1652,296,1763,323"/>
<area shape="rect" id="node36" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1461,775,1538,801"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1422,952,1577,979"/>
<area shape="rect" id="node40" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1416,1015,1583,1041"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1633,971,1781,997"/>
<area shape="rect" id="node39" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1641,920,1773,947"/>
<area shape="rect" id="node41" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1665,1072,1750,1099"/>
<area shape="rect" id="node43" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1014,1401,1146,1428"/>
<area shape="rect" id="node44" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1213,1731,1360,1757"/>
<area shape="rect" id="node45" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="1205,1477,1368,1504"/>
<area shape="rect" id="node47" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1455,1123,1544,1149"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_ac4424aeb02411716c944235b5c029283_icgraph.png" border="0" usemap="#free-space-cache_8h_ac4424aeb02411716c944235b5c029283_icgraph" alt=""/></div>
<map name="free-space-cache_8h_ac4424aeb02411716c944235b5c029283_icgraph" id="free-space-cache_8h_ac4424aeb02411716c944235b5c029283_icgraph">
<area shape="rect" id="node2" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="203,1025,352,1052"/>
<area shape="rect" id="node3" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="400,1025,519,1052"/>
<area shape="rect" id="node4" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="567,1000,741,1027"/>
<area shape="rect" id="node7" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1233,1051,1403,1077"/>
<area shape="rect" id="node5" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="789,1000,960,1027"/>
<area shape="rect" id="node6" href="btrfs_2transaction_8c.html#a9fbe9ad4f81b03364bf5f7e6ffe2fb24" title="create_pending_snapshots" alt="" coords="1008,1000,1185,1027"/>
<area shape="rect" id="node8" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1493,56,1599,83"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1485,107,1607,133"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1485,157,1607,184"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1495,208,1597,235"/>
<area shape="rect" id="node13" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1501,259,1591,285"/>
<area shape="rect" id="node14" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1697,335,1856,361"/>
<area shape="rect" id="node15" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1456,360,1636,387"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1461,411,1631,437"/>
<area shape="rect" id="node17" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1489,461,1603,488"/>
<area shape="rect" id="node18" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1478,512,1614,539"/>
<area shape="rect" id="node19" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1477,563,1615,589"/>
<area shape="rect" id="node20" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1468,614,1624,655"/>
<area shape="rect" id="node21" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1462,680,1630,707"/>
<area shape="rect" id="node22" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1451,731,1641,757"/>
<area shape="rect" id="node23" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1455,781,1637,808"/>
<area shape="rect" id="node24" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1495,832,1597,859"/>
<area shape="rect" id="node25" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1487,883,1605,909"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1716,1825,1837,1852"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1484,985,1608,1026"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1477,1051,1615,1077"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1463,1102,1629,1143"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1471,1168,1621,1195"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1467,1219,1625,1245"/>
<area shape="rect" id="node32" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1476,1270,1616,1311"/>
<area shape="rect" id="node33" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1476,1336,1616,1363"/>
<area shape="rect" id="node34" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1483,933,1609,960"/>
<area shape="rect" id="node35" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1704,1387,1849,1413"/>
<area shape="rect" id="node36" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1478,1437,1614,1464"/>
<area shape="rect" id="node37" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1465,1539,1627,1565"/>
<area shape="rect" id="node38" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1461,1589,1631,1616"/>
<area shape="rect" id="node39" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1473,1641,1619,1682"/>
<area shape="rect" id="node40" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1487,1707,1605,1733"/>
<area shape="rect" id="node41" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1465,1757,1627,1784"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="1482,1808,1610,1835"/>
<area shape="rect" id="node43" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="1466,5,1626,32"/>
<area shape="rect" id="node44" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1467,1859,1625,1885"/>
<area shape="rect" id="node45" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="1481,1909,1611,1936"/>
<area shape="rect" id="node46" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1472,1960,1620,1987"/>
<area shape="rect" id="node47" href="volumes_8c.html#a79f858d6aed62cecea7bdc25aaaa964a" title="insert_balance_item" alt="" coords="1477,2011,1615,2037"/>
<area shape="rect" id="node48" href="volumes_8c.html#a7e19a0b94c54a7f30f41898e9fd252b1" title="del_balance_item" alt="" coords="1485,2061,1607,2088"/>
<area shape="rect" id="node49" href="volumes_8h.html#a15fac8265a869c59aaf05363ecdc8c28" title="btrfs_create_uuid_tree" alt="" coords="1471,2112,1621,2139"/>
<area shape="rect" id="node50" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1479,1488,1613,1515"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1689,56,1864,83"/>
</map>
</div>

</div>
</div>
<a id="a0235f9844515fab31ecaeb55b73204ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0235f9844515fab31ecaeb55b73204ff">&#9670;&nbsp;</a></span>create_free_space_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int create_free_space_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__trans__handle.html">btrfs_trans_handle</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_cgraph.png" border="0" usemap="#free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_cgraph" id="free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_cgraph">
<area shape="rect" id="node2" href="inode-map_8c.html#a41bab72612acf61c1a9a2b6a52fa861f" title="btrfs_find_free_objectid" alt="" coords="220,1787,377,1814"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a9f47f6aa2c59db2bf33f5dfbe3f19fd9" title="__create_free_space\l_inode" alt="" coords="227,1838,370,1880"/>
<area shape="rect" id="node4" href="ctree_8h.html#a3bd6d4d09312ea8e8ede34fd65f71df5" title="btrfs_insert_empty\l_inode" alt="" coords="446,1562,577,1604"/>
<area shape="rect" id="node5" href="ctree_8h.html#a5179b99549650afe225809208f8ba8a2" title="btrfs_insert_empty_item" alt="" coords="645,947,808,974"/>
<area shape="rect" id="node11" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1879,386,2009,412"/>
<area shape="rect" id="node25" href="ctree_8h.html#aae843750b6ffc093bb4f89c505110dd1" title="btrfs_item_key" alt="" coords="2106,1694,2214,1720"/>
<area shape="rect" id="node35" href="disk-io_8c.html#a588964ffc3f60541fdaf16864673be0a" title="btrfs_mark_buffer_dirty" alt="" coords="1241,1846,1397,1872"/>
<area shape="rect" id="node49" href="extent__io_8c.html#aadb34b43a729da66e0912409a69f719e" title="memzero_extent_buffer" alt="" coords="432,2099,591,2126"/>
<area shape="rect" id="node50" href="ctree_8h.html#aba61e2c20f10e6cee16422af81cfc45d" title="btrfs_set_free_space_key" alt="" coords="425,2150,597,2176"/>
<area shape="rect" id="node6" href="ctree_8h.html#aa8e85ccc151bb0080d3e310436ab1cef" title="btrfs_insert_empty\l_items" alt="" coords="856,969,987,1010"/>
<area shape="rect" id="node42" href="ctree_8h.html#a2c8e47694775b56bc1c50e9b0f529d34" title="btrfs_next_leaf" alt="" coords="867,778,975,804"/>
<area shape="rect" id="node46" href="ctree_8h.html#af842a95594447906f993dc8f55534d5b" title="btrfs_prev_leaf" alt="" coords="1265,918,1373,944"/>
<area shape="rect" id="node48" href="ctree_8h.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1046,335,1178,362"/>
<area shape="rect" id="node7" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="1470,563,1593,590"/>
<area shape="rect" id="node20" href="ctree_8c.html#af94662b6fb939a66659c794757febdc0" title="setup_items_for_insert" alt="" coords="1035,1070,1189,1096"/>
<area shape="rect" id="node8" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="2097,588,2223,615"/>
<area shape="rect" id="node12" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="2089,386,2231,412"/>
<area shape="rect" id="node17" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1864,664,2024,691"/>
<area shape="rect" id="node18" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="1663,614,1816,640"/>
<area shape="rect" id="node19" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="1666,918,1813,944"/>
<area shape="rect" id="node9" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="2296,566,2451,592"/>
<area shape="rect" id="node10" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="2300,616,2447,643"/>
<area shape="rect" id="node13" href="locking_8h.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="2312,487,2435,514"/>
<area shape="rect" id="node15" href="locking_8h.html#af1458ea8c9813bf0adcdee273c8e2494" title="btrfs_tree_read_unlock\l_blocking" alt="" coords="2296,349,2451,390"/>
<area shape="rect" id="node16" href="locking_8h.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="2296,415,2451,442"/>
<area shape="rect" id="node14" href="locking_8c.html#ab6aa419ebd229e967fff79065236cb79" title="btrfs_assert_tree_locked" alt="" coords="2499,703,2664,730"/>
<area shape="rect" id="node21" href="print-tree_8c.html#afd8ef14be41fb7d7ec06bbdfd2858d5f" title="btrfs_print_leaf" alt="" coords="1477,1399,1585,1426"/>
<area shape="rect" id="node22" href="ctree_8h.html#aad867f4552c091bfa4750ed550368fdb" title="btrfs_item_nr" alt="" coords="2324,1374,2423,1400"/>
<area shape="rect" id="node23" href="ctree_8h.html#a3407693b57c548a868dcd19a94286eea" title="btrfs_item_nr_offset" alt="" coords="2512,1374,2651,1400"/>
<area shape="rect" id="node24" href="ctree_8h.html#a5ff8f31126b29a90ae8574032eebf174" title="btrfs_item_key_to_cpu" alt="" coords="1867,1770,2021,1796"/>
<area shape="rect" id="node26" href="ctree_8h.html#a40b329684a97f013eaa1ff16fa954b91" title="btrfs_dir_item_key\l_to_cpu" alt="" coords="1675,1476,1804,1517"/>
<area shape="rect" id="node27" href="print-tree_8c.html#a34475d463c629fb3d8ad6163d150fd19" title="print_extent_item" alt="" coords="1678,1171,1801,1198"/>
<area shape="rect" id="node28" href="ctree_8h.html#a8d3b0e65dcaa22dc48ecdf44b80834e7" title="btrfs_item_size_nr" alt="" coords="1879,1222,2009,1248"/>
<area shape="rect" id="node29" href="print-tree_8c.html#aea5ef5b6db1c8763fb43b060ed78c99b" title="print_extent_data_ref" alt="" coords="1872,1146,2016,1172"/>
<area shape="rect" id="node30" href="ctree_8h.html#a8791d8853d45e7d65c4eb2b1ecfec8c1" title="btrfs_file_extent_inline_len" alt="" coords="2072,1374,2248,1400"/>
<area shape="rect" id="node31" href="print-tree_8c.html#aff27a6517557e5d4ba20cf04c4770136" title="print_extent_ref_v0" alt="" coords="1673,1542,1806,1568"/>
<area shape="rect" id="node32" href="print-tree_8c.html#a12ec464dfdc6ec95d9e22d2509bfcd61" title="print_chunk" alt="" coords="1695,1592,1784,1619"/>
<area shape="rect" id="node33" href="print-tree_8c.html#ab63ac8537853f88e6839b5a68a9792ed" title="print_dev_item" alt="" coords="1686,1272,1793,1299"/>
<area shape="rect" id="node34" href="print-tree_8c.html#aff6cace256e52e9d9bf9e106796e726f" title="print_uuid_item" alt="" coords="1684,1323,1795,1350"/>
<area shape="rect" id="node36" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="1493,1947,1570,1974"/>
<area shape="rect" id="node37" href="extent__io_8c.html#a3166c5ecbbce1b603370b1aa0eb96e17" title="set_extent_buffer_dirty" alt="" coords="1454,1846,1609,1872"/>
<area shape="rect" id="node40" href="tree-checker_8c.html#a3458e7237167e995a418399899450343" title="btrfs_check_leaf_relaxed" alt="" coords="1448,1998,1615,2024"/>
<area shape="rect" id="node38" href="extent__io_8c.html#a6e26dec26763b7741a63be23ffed4b34" title="check_buffer_tree_ref" alt="" coords="1665,1846,1813,1872"/>
<area shape="rect" id="node39" href="extent__io_8h.html#a04dba5c7fecd62f5173fe05d3deba25e" title="num_extent_pages" alt="" coords="1673,1896,1805,1923"/>
<area shape="rect" id="node41" href="tree-checker_8c.html#a9b7ab2231cb6604c3a9ed8b5d486efa5" title="check_leaf" alt="" coords="1697,1998,1782,2024"/>
<area shape="rect" id="node43" href="ctree_8c.html#a5eb64c1b4aeb2f049d78194a6fbd812d" title="btrfs_next_old_leaf" alt="" coords="1046,690,1178,716"/>
<area shape="rect" id="node44" href="ctree_8c.html#ab978d3edd24b0c69f7e351588b672394" title="btrfs_search_old_slot" alt="" coords="1245,614,1392,640"/>
<area shape="rect" id="node45" href="locking_8c.html#ae67cefdb7d7e937de833717b61efcd02" title="btrfs_try_tree_read_lock" alt="" coords="1237,411,1400,438"/>
<area shape="rect" id="node47" href="ctree_8c.html#acbb211362d8d6406d1115c16342f0339" title="comp_keys" alt="" coords="1487,918,1576,944"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_icgraph.png" border="0" usemap="#free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_icgraph" id="free-space-cache_8h_a0235f9844515fab31ecaeb55b73204ff_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="220,1080,351,1107"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="399,1051,569,1077"/>
<area shape="rect" id="node49" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="409,1102,559,1143"/>
<area shape="rect" id="node50" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="407,985,561,1026"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="617,1093,824,1120"/>
<area shape="rect" id="node9" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="643,992,799,1019"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1129,1960,1251,1987"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="908,1043,1011,1069"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="885,1093,1034,1120"/>
<area shape="rect" id="node8" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="875,1195,1043,1237"/>
<area shape="rect" id="node10" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="872,941,1047,968"/>
<area shape="rect" id="node11" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="875,992,1044,1019"/>
<area shape="rect" id="node12" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1137,107,1243,133"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1129,157,1251,184"/>
<area shape="rect" id="node14" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1139,208,1241,235"/>
<area shape="rect" id="node15" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1145,259,1235,285"/>
<area shape="rect" id="node16" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1333,335,1492,361"/>
<area shape="rect" id="node17" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1100,360,1280,387"/>
<area shape="rect" id="node18" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1105,411,1275,437"/>
<area shape="rect" id="node19" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1133,461,1247,488"/>
<area shape="rect" id="node20" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1122,512,1258,539"/>
<area shape="rect" id="node21" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1121,563,1259,589"/>
<area shape="rect" id="node22" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1112,614,1268,655"/>
<area shape="rect" id="node23" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1106,680,1274,707"/>
<area shape="rect" id="node24" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1095,731,1285,757"/>
<area shape="rect" id="node25" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1099,781,1281,808"/>
<area shape="rect" id="node26" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1139,832,1241,859"/>
<area shape="rect" id="node27" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1131,883,1249,909"/>
<area shape="rect" id="node28" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1129,933,1251,960"/>
<area shape="rect" id="node29" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1128,985,1252,1026"/>
<area shape="rect" id="node30" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="1121,1051,1259,1077"/>
<area shape="rect" id="node31" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="1107,1102,1273,1143"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="1115,1168,1265,1195"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="1111,1219,1269,1245"/>
<area shape="rect" id="node34" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="1120,1270,1260,1311"/>
<area shape="rect" id="node35" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="1120,1336,1260,1363"/>
<area shape="rect" id="node36" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="1127,1437,1253,1464"/>
<area shape="rect" id="node37" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1340,1437,1485,1464"/>
<area shape="rect" id="node38" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="1122,1387,1258,1413"/>
<area shape="rect" id="node39" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="1109,1539,1271,1565"/>
<area shape="rect" id="node40" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="1105,1589,1275,1616"/>
<area shape="rect" id="node41" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="1117,1641,1263,1682"/>
<area shape="rect" id="node42" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="1131,1707,1249,1733"/>
<area shape="rect" id="node43" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="1109,1757,1271,1784"/>
<area shape="rect" id="node44" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="1126,1808,1254,1835"/>
<area shape="rect" id="node45" href="transaction_8h.html#a876dd2a4df09b38b976a57a9dd3c25cc" title="btrfs_clear_skip_qgroup" alt="" coords="1110,1859,1270,1885"/>
<area shape="rect" id="node46" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1111,1909,1269,1936"/>
<area shape="rect" id="node47" href="volumes_8c.html#a5f9e2d2bc126d542901660a0c3959dce" title="btrfs_rm_dev_item" alt="" coords="1125,5,1255,32"/>
<area shape="rect" id="node48" href="volumes_8h.html#a8ff3f953011065fbf62bb03487ed4717" title="btrfs_init_new_device" alt="" coords="1116,56,1264,83"/>
</map>
</div>

</div>
</div>
<a id="a22d9cd73538570e3e98681aed4bce7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d9cd73538570e3e98681aed4bce7e3">&#9670;&nbsp;</a></span>load_free_ino_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_free_ino_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_cgraph.png" border="0" usemap="#free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_cgraph" id="free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_cgraph">
<area shape="rect" id="node2" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="431,12,546,39"/>
<area shape="rect" id="node3" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="224,1903,339,1930"/>
<area shape="rect" id="node4" href="free-space-cache_8c.html#a602665caf7e3380ed8e37839c08ee248" title="lookup_free_ino_inode" alt="" coords="206,63,357,90"/>
<area shape="rect" id="node30" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="886,254,929,280"/>
<area shape="rect" id="node32" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="652,1650,729,1676"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="195,1304,368,1331"/>
<area shape="rect" id="node50" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="227,468,336,495"/>
<area shape="rect" id="node5" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="463,63,514,90"/>
<area shape="rect" id="node8" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="416,284,561,325"/>
<area shape="rect" id="node6" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="662,12,719,39"/>
<area shape="rect" id="node7" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1059,127,1197,154"/>
<area shape="rect" id="node9" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="629,924,752,951"/>
<area shape="rect" id="node18" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1063,519,1193,546"/>
<area shape="rect" id="node26" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="617,164,764,191"/>
<area shape="rect" id="node27" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="614,215,767,242"/>
<area shape="rect" id="node28" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="653,316,729,343"/>
<area shape="rect" id="node29" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="858,330,957,356"/>
<area shape="rect" id="node10" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="846,1076,969,1103"/>
<area shape="rect" id="node11" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1058,874,1198,900"/>
<area shape="rect" id="node12" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1072,975,1184,1002"/>
<area shape="rect" id="node13" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="820,924,995,951"/>
<area shape="rect" id="node14" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1051,823,1205,850"/>
<area shape="rect" id="node15" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1278,848,1405,875"/>
<area shape="rect" id="node16" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="836,1026,979,1052"/>
<area shape="rect" id="node17" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1063,1152,1193,1179"/>
<area shape="rect" id="node19" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1270,570,1413,596"/>
<area shape="rect" id="node20" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1261,1279,1421,1306"/>
<area shape="rect" id="node21" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="849,1178,966,1204"/>
<area shape="rect" id="node22" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1043,1279,1213,1306"/>
<area shape="rect" id="node23" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="863,671,952,698"/>
<area shape="rect" id="node24" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="825,1228,989,1255"/>
<area shape="rect" id="node25" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1087,620,1169,647"/>
<area shape="rect" id="node31" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1091,254,1165,280"/>
<area shape="rect" id="node34" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="656,1712,725,1739"/>
<area shape="rect" id="node35" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="441,1228,536,1255"/>
<area shape="rect" id="node36" href="smb2pdu_8c.html#a1a8b6ea0b2622020f202d162d98e0ef2" title="num_entries" alt="" coords="442,1380,535,1407"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a99080d8a1d00390eea46773ead320b8e" title="io_ctl_init" alt="" coords="450,1700,527,1727"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a1a1dc15c9cbe5e34c7bbf8ed101ccf46" title="readahead_cache" alt="" coords="427,1431,551,1458"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#aee15176f62c9a71d4de2ba052a50ac19" title="io_ctl_prepare_pages" alt="" coords="416,1330,561,1356"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#ad7098c665f6629d6d045e88b372e85cb" title="io_ctl_drop_pages" alt="" coords="627,1330,754,1356"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ab04efc5914b94d4a23464c9704a3435f" title="io_ctl_unmap_page" alt="" coords="840,1380,975,1407"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#abfe2ae60d91acd1423b15b731f7faa57" title="io_ctl_check_crc" alt="" coords="631,1076,751,1103"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a5c7bf522a1446d61d7697adfcb5c0ffc" title="io_ctl_check_generation" alt="" coords="609,1788,772,1815"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#afc79debd103a7e97fe862d155b3ef69b" title="io_ctl_read_entry" alt="" coords="428,1127,549,1154"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="634,1431,747,1458"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#afd68e242e26d3fbc55d5056ca266ace5" title="io_ctl_read_bitmap" alt="" coords="423,1026,554,1052"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a45c9e3106a65c6bcdb72669d8c73749b" title="merge_space_tree" alt="" coords="424,1279,553,1306"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="447,1532,530,1559"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="418,1584,559,1625"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_icgraph.png" border="0" usemap="#free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_icgraph" id="free-space-cache_8h_a22d9cd73538570e3e98681aed4bce7e3_icgraph">
<area shape="rect" id="node2" href="inode-map_8c.html#aad21bbf9eaef14e60d772d8b0f96d0dd" title="start_caching" alt="" coords="195,245,295,272"/>
<area shape="rect" id="node3" href="inode-map_8h.html#aff161b58a2844f67e0249d3a66f92f96" title="btrfs_find_free_ino" alt="" coords="343,165,472,192"/>
<area shape="rect" id="node14" href="inode-map_8h.html#a7c177db0fde1b2cc3160554b363e1665" title="btrfs_return_ino" alt="" coords="351,271,463,297"/>
<area shape="rect" id="node4" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="895,5,989,32"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="723,56,813,83"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="899,111,985,137"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#afda26b056b51ec0a37238cf1afe1e930" title="btrfs_whiteout_for\l_rename" alt="" coords="520,158,647,199"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="718,217,818,244"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="536,275,631,301"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a3e5e1336138f5706fe9b607d1af68590" title="btrfs_set_range_writeback" alt="" coords="1043,135,1217,161"/>
<area shape="rect" id="node6" href="disk-io_8c.html#a065d6cce46bad5965b457aaf1a2a5317" title="btree_fs_info" alt="" coords="1265,135,1363,161"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#a611d61b19895af4b388ff9d0be22a532" title="btrfs_rename" alt="" coords="719,164,817,191"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#acf4169a1b179f406bc39c7a1a4e6a137" title="btrfs_rename2" alt="" coords="889,164,995,191"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="523,325,644,352"/>
<area shape="rect" id="node16" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="695,325,841,352"/>
</map>
</div>

</div>
</div>
<a id="a0a7e5476ce96a6c619bd21d2d7a63743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7e5476ce96a6c619bd21d2d7a63743">&#9670;&nbsp;</a></span>load_free_space_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_free_space_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_cgraph.png" border="0" usemap="#free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_cgraph" id="free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_cgraph">
<area shape="rect" id="node2" href="ctree_8c.html#a724b7195398a8ac6b97006935fc861ad" title="btrfs_alloc_path" alt="" coords="241,5,356,32"/>
<area shape="rect" id="node3" href="free-space-cache_8c.html#a1a72d35cb0f7682b8631325e80b2521c" title="lookup_free_space_inode" alt="" coords="214,1032,383,1059"/>
<area shape="rect" id="node29" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="903,107,946,133"/>
<area shape="rect" id="node32" href="ctree_8c.html#a8db2b436a1ac90b0a23cb7a8a21f7db0" title="btrfs_free_path" alt="" coords="244,1108,353,1135"/>
<area shape="rect" id="node33" href="free-space-cache_8c.html#a71244a36504a563326b05ce991bd3b78" title="__load_free_space_cache" alt="" coords="212,1601,385,1628"/>
<area shape="rect" id="node49" href="free-space-cache_8c.html#a644522ac74560fd012e6bf8950d07cd4" title="__btrfs_remove_free\l_space_cache" alt="" coords="435,2083,577,2125"/>
<area shape="rect" id="node4" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="481,1019,531,1045"/>
<area shape="rect" id="node7" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="433,277,579,318"/>
<area shape="rect" id="node31" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="669,1576,747,1603"/>
<area shape="rect" id="node5" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="679,1069,737,1096"/>
<area shape="rect" id="node6" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="1076,183,1215,209"/>
<area shape="rect" id="node8" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="647,639,769,665"/>
<area shape="rect" id="node17" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="1081,1019,1210,1045"/>
<area shape="rect" id="node25" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="635,157,781,184"/>
<area shape="rect" id="node26" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="631,208,785,235"/>
<area shape="rect" id="node27" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="670,259,746,285"/>
<area shape="rect" id="node28" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="875,157,974,184"/>
<area shape="rect" id="node9" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="863,613,986,640"/>
<area shape="rect" id="node10" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="1075,399,1215,425"/>
<area shape="rect" id="node11" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="1089,613,1201,640"/>
<area shape="rect" id="node12" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="837,411,1012,437"/>
<area shape="rect" id="node13" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="1068,335,1223,361"/>
<area shape="rect" id="node14" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1295,791,1422,817"/>
<area shape="rect" id="node15" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="853,715,996,741"/>
<area shape="rect" id="node16" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="1081,507,1210,533"/>
<area shape="rect" id="node18" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1287,968,1430,995"/>
<area shape="rect" id="node19" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1279,664,1439,691"/>
<area shape="rect" id="node20" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="866,461,983,488"/>
<area shape="rect" id="node21" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="1060,664,1231,691"/>
<area shape="rect" id="node22" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="880,867,969,893"/>
<area shape="rect" id="node23" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="843,765,1007,792"/>
<area shape="rect" id="node24" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="1105,917,1186,944"/>
<area shape="rect" id="node30" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="1108,107,1183,133"/>
<area shape="rect" id="node34" href="ctree_8h.html#a5d24abb485c124f8677ddfff67baa805" title="btrfs_sb" alt="" coords="673,1677,743,1704"/>
<area shape="rect" id="node35" href="v9fs_8c.html#a962ef1b35907bdda12de2cddce8bc638" title="LIST_HEAD" alt="" coords="459,1323,553,1349"/>
<area shape="rect" id="node36" href="smb2pdu_8c.html#a1a8b6ea0b2622020f202d162d98e0ef2" title="num_entries" alt="" coords="459,1373,553,1400"/>
<area shape="rect" id="node37" href="free-space-cache_8c.html#a99080d8a1d00390eea46773ead320b8e" title="io_ctl_init" alt="" coords="467,1627,545,1653"/>
<area shape="rect" id="node38" href="free-space-cache_8c.html#a1a1dc15c9cbe5e34c7bbf8ed101ccf46" title="readahead_cache" alt="" coords="444,1424,568,1451"/>
<area shape="rect" id="node39" href="free-space-cache_8c.html#aee15176f62c9a71d4de2ba052a50ac19" title="io_ctl_prepare_pages" alt="" coords="433,1677,579,1704"/>
<area shape="rect" id="node40" href="free-space-cache_8c.html#ad7098c665f6629d6d045e88b372e85cb" title="io_ctl_drop_pages" alt="" coords="645,1779,771,1805"/>
<area shape="rect" id="node41" href="free-space-cache_8c.html#ab04efc5914b94d4a23464c9704a3435f" title="io_ctl_unmap_page" alt="" coords="857,1905,992,1932"/>
<area shape="rect" id="node42" href="free-space-cache_8c.html#abfe2ae60d91acd1423b15b731f7faa57" title="io_ctl_check_crc" alt="" coords="648,1880,768,1907"/>
<area shape="rect" id="node43" href="free-space-cache_8c.html#a5c7bf522a1446d61d7697adfcb5c0ffc" title="io_ctl_check_generation" alt="" coords="627,1981,789,2008"/>
<area shape="rect" id="node44" href="free-space-cache_8c.html#afc79debd103a7e97fe862d155b3ef69b" title="io_ctl_read_entry" alt="" coords="445,1829,567,1856"/>
<area shape="rect" id="node45" href="free-space-cache_8c.html#a1a9bb9f30bdf07eec2ec38ec1e236f39" title="link_free_space" alt="" coords="651,1373,765,1400"/>
<area shape="rect" id="node46" href="free-space-cache_8c.html#afd68e242e26d3fbc55d5056ca266ace5" title="io_ctl_read_bitmap" alt="" coords="441,1931,571,1957"/>
<area shape="rect" id="node47" href="free-space-cache_8c.html#a45c9e3106a65c6bcdb72669d8c73749b" title="merge_space_tree" alt="" coords="441,1272,571,1299"/>
<area shape="rect" id="node48" href="free-space-cache_8c.html#a2cf6ea5ae5dbb43155ddaa83c0e4b55a" title="io_ctl_free" alt="" coords="465,1576,547,1603"/>
<area shape="rect" id="node50" href="free-space-cache_8c.html#a6c957de394515d160c042b380e40ce9b" title="__btrfs_remove_free\l_space_cache_locked" alt="" coords="633,2083,783,2125"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_icgraph.png" border="0" usemap="#free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_icgraph" id="free-space-cache_8h_a0a7e5476ce96a6c619bd21d2d7a63743_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="212,305,347,331"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="395,101,533,127"/>
<area shape="rect" id="node18" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="1697,471,1811,498"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="803,379,941,420"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="581,355,751,382"/>
<area shape="rect" id="node48" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="417,406,511,433"/>
<area shape="rect" id="node4" href="extent-tree_8c.html#af3eb8e3c0d7540ac3f9568eec93bdadc" title="__btrfs_free_extent" alt="" coords="599,71,733,98"/>
<area shape="rect" id="node8" href="extent-tree_8c.html#a735d547e038812ae2135a36963b971a4" title="alloc_reserved_file\l_extent" alt="" coords="601,123,731,164"/>
<area shape="rect" id="node40" href="extent-tree_8c.html#afc111291e723d83e611898a92a0aa4a9" title="alloc_reserved_tree\l_block" alt="" coords="599,5,733,47"/>
<area shape="rect" id="node5" href="extent-tree_8c.html#a9ebdc0ca58091867b6424fa14f678823" title="run_delayed_data_ref" alt="" coords="799,97,945,123"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a8f454317c92fcafe6d59ae2aebb1d640" title="run_delayed_tree_ref" alt="" coords="801,46,943,73"/>
<area shape="rect" id="node6" href="extent-tree_8c.html#a859f3d3ef247b5b0d0247ffa502c3179" title="run_one_delayed_ref" alt="" coords="1025,71,1168,98"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a8563ae8cff18a6462dbaf79e5e58a2c4" title="btrfs_alloc_logged\l_file_extent" alt="" coords="809,313,935,355"/>
<area shape="rect" id="node10" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="993,386,1200,413"/>
<area shape="rect" id="node35" href="tree-log_8c.html#a7c2861d67639546ba181c418aebd8ac1" title="replay_one_extent" alt="" coords="1033,509,1161,535"/>
<area shape="rect" id="node11" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1271,361,1393,387"/>
<area shape="rect" id="node13" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1281,411,1383,438"/>
<area shape="rect" id="node16" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1257,534,1407,561"/>
<area shape="rect" id="node32" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1248,295,1416,336"/>
<area shape="rect" id="node12" href="btrfs_2super_8c.html#a7dda0b70a36d7c3e84ade918df9c872d" title="btrfs_show_devname" alt="" coords="1470,357,1617,383"/>
<area shape="rect" id="node14" href="btrfs_2inode_8c.html#a18c1ee1bd96ee8d6f428810491b416db" title="btrfs_orphan_cleanup" alt="" coords="1470,458,1617,485"/>
<area shape="rect" id="node15" href="btrfs_2inode_8c.html#a1526b9ea963953feb8f5fe9b7dc0d3cd" title="btrfs_setsize" alt="" coords="1495,407,1592,434"/>
<area shape="rect" id="node17" href="extent-tree_8c.html#a1a6ccd3bca85f0802e3ed439b8cc1dea" title="do_chunk_alloc" alt="" coords="1487,509,1599,535"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a83232a2f89abef64e258bbc96ad47527" title="btrfs_inc_block_group_ro" alt="" coords="1671,547,1837,574"/>
<area shape="rect" id="node31" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1473,559,1613,586"/>
<area shape="rect" id="node19" href="extent-tree_8c.html#a9132354ded0de07d9d0fd39278c3ad40" title="btrfs_reserve_extent" alt="" coords="1885,471,2027,498"/>
<area shape="rect" id="node20" href="btrfs_2inode_8c.html#a74f018b55b86656ed4963ba3df9af6f9" title="submit_compressed_extents" alt="" coords="2284,501,2473,527"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a6da305688fbd262d12431f6cc43e6146" title="cow_file_range" alt="" coords="2101,551,2210,578"/>
<area shape="rect" id="node25" href="btrfs_2inode_8c.html#a842c7b6a3573b0986d966d1ae76d7ca6" title="btrfs_new_extent_direct" alt="" coords="2075,383,2236,410"/>
<area shape="rect" id="node27" href="btrfs_2inode_8c.html#ac039d364f615c808c7ffff8b317f883e" title="__btrfs_prealloc_file\l_range" alt="" coords="2086,435,2225,476"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a2a4f90901004cca9e0c39e49435c758f" title="btrfs_alloc_tree_block" alt="" coords="2081,235,2230,262"/>
<area shape="rect" id="node21" href="btrfs_2inode_8c.html#a5b23cdd0e70ea05086271f831533147d" title="async_cow_submit" alt="" coords="2521,501,2656,527"/>
<area shape="rect" id="node23" href="btrfs_2inode_8c.html#a5675e0967c88243c5fd8aa12f5f7c1af" title="run_delalloc_nocow" alt="" coords="2311,551,2447,578"/>
<area shape="rect" id="node24" href="btrfs_2inode_8c.html#ac0e7e3ac85c1493a932820dcc802e352" title="run_delalloc_range" alt="" coords="2523,577,2654,603"/>
<area shape="rect" id="node26" href="btrfs_2inode_8c.html#a2c5cb67ea30a5cc58b75eb54cef44d83" title="btrfs_get_blocks_direct" alt="" coords="2300,383,2457,410"/>
<area shape="rect" id="node28" href="btrfs_2inode_8c.html#a67c557c38aa2015906cd56f7506b5ef0" title="btrfs_prealloc_file\l_range" alt="" coords="2317,435,2441,476"/>
<area shape="rect" id="node33" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="1478,306,1609,333"/>
<area shape="rect" id="node34" href="relocation_8c.html#af1b6eae1dbd8fdc2d723cd9344afb9a6" title="delete_block_group\l_cache" alt="" coords="1476,240,1611,281"/>
<area shape="rect" id="node36" href="tree-log_8c.html#abc596f46fd8fdd22d721bcc618573260" title="replay_one_buffer" alt="" coords="1269,699,1395,726"/>
<area shape="rect" id="node37" href="tree-log_8h.html#ab98d8b05002bb6be1f4b620cb7b8d0ce" title="btrfs_recover_log_trees" alt="" coords="1464,734,1623,761"/>
<area shape="rect" id="node38" href="disk-io_8c.html#a896703ba5988df9f3c3d038a4dad58c2" title="btrfs_replay_log" alt="" coords="1697,733,1811,759"/>
<area shape="rect" id="node39" href="tree-log_8h.html#af2cf95e55cfb7d1383cec2d3acbe2707" title="btrfs_need_log_full\l_commit" alt="" coords="1689,784,1819,825"/>
<area shape="rect" id="node42" href="tree-log_8c.html#a98a9a081e833b20110ee7d215e166ca3" title="process_one_buffer" alt="" coords="1029,623,1165,650"/>
<area shape="rect" id="node43" href="tree-log_8c.html#a30e89328b58bdb27891acebf352b4d13" title="free_log_tree" alt="" coords="1283,801,1381,827"/>
<area shape="rect" id="node44" href="tree-log_8h.html#a2500d13eb1fd11e5920666b41373dfa1" title="btrfs_free_log" alt="" coords="1493,789,1594,815"/>
<area shape="rect" id="node45" href="tree-log_8h.html#a9b803cb8e523e5ec8423b0ddbb1723a7" title="btrfs_free_log_root_tree" alt="" coords="1464,839,1623,866"/>
<area shape="rect" id="node47" href="extent-tree_8c.html#ac88dd0c6f13ef8cc1fe40d9e8e0349a0" title="btrfs_exclude_logged\l_extents" alt="" coords="799,444,945,485"/>
<area shape="rect" id="node49" href="btrfs_2ioctl_8c.html#aaf4944cca58dd82568803a4e42cd5d33" title="btrfs_ioctl_fitrim" alt="" coords="609,475,723,502"/>
<area shape="rect" id="node50" href="btrfs_2ioctl_8c.html#a2d0a4b592b745588c85490830ecac099" title="btrfs_ioctl" alt="" coords="833,510,911,537"/>
</map>
</div>

</div>
</div>
<a id="a602665caf7e3380ed8e37839c08ee248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602665caf7e3380ed8e37839c08ee248">&#9670;&nbsp;</a></span>lookup_free_ino_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>* lookup_free_ino_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__root.html">btrfs_root</a> *&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_cgraph.png" border="0" usemap="#free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_cgraph" id="free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="251,92,302,119"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="204,579,349,621"/>
<area shape="rect" id="node50" href="ctree_8h.html#aa2d6e5d5fc86cf59a617fed422f43b5f" title="btrfs_fs_closing" alt="" coords="219,645,334,672"/>
<area shape="rect" id="node3" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="445,92,503,119"/>
<area shape="rect" id="node4" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="837,143,976,169"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="413,852,535,879"/>
<area shape="rect" id="node22" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="842,852,971,879"/>
<area shape="rect" id="node39" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="401,903,547,929"/>
<area shape="rect" id="node40" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="397,953,551,980"/>
<area shape="rect" id="node41" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="436,193,512,220"/>
<area shape="rect" id="node44" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="637,244,735,271"/>
<area shape="rect" id="node48" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="665,295,707,321"/>
<area shape="rect" id="node7" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1074,1080,1197,1107"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="837,295,977,321"/>
<area shape="rect" id="node9" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="851,447,963,473"/>
<area shape="rect" id="node10" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="599,447,773,473"/>
<area shape="rect" id="node11" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="829,345,984,372"/>
<area shape="rect" id="node13" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1072,801,1199,828"/>
<area shape="rect" id="node16" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="615,548,757,575"/>
<area shape="rect" id="node17" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="853,599,961,625"/>
<area shape="rect" id="node19" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="842,1207,971,1233"/>
<area shape="rect" id="node23" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1064,1004,1207,1031"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1055,1308,1215,1335"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="627,1257,745,1284"/>
<area shape="rect" id="node29" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="821,1409,992,1436"/>
<area shape="rect" id="node31" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="641,1156,731,1183"/>
<area shape="rect" id="node32" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="604,1359,768,1385"/>
<area shape="rect" id="node33" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="866,1055,947,1081"/>
<area shape="rect" id="node34" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="609,903,763,929"/>
<area shape="rect" id="node35" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="603,1207,769,1233"/>
<area shape="rect" id="node36" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="616,1410,756,1451"/>
<area shape="rect" id="node37" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="833,751,980,777"/>
<area shape="rect" id="node38" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="649,649,723,676"/>
<area shape="rect" id="node12" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1507,883,1659,925"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1291,776,1446,803"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1295,827,1442,853"/>
<area shape="rect" id="node18" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1074,649,1197,676"/>
<area shape="rect" id="node20" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1080,1181,1191,1208"/>
<area shape="rect" id="node21" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1074,1232,1197,1259"/>
<area shape="rect" id="node25" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1279,1308,1459,1335"/>
<area shape="rect" id="node27" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="827,1257,986,1284"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="841,953,972,980"/>
<area shape="rect" id="node30" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="1040,1409,1231,1436"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a4492dac151573c26a9a8cb99471b67d7" title="btrfs_iget_locked" alt="" coords="625,92,747,119"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#affcf55cb6a9f15c3f05a83e311289986" title="btrfs_read_locked_inode" alt="" coords="605,193,767,220"/>
<area shape="rect" id="node46" href="btrfs_2inode_8c.html#a2d5b51c3f0c06bd62fff88d173b01f6a" title="inode_tree_add" alt="" coords="631,41,741,68"/>
<area shape="rect" id="node47" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="621,143,751,169"/>
<area shape="rect" id="node45" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="837,193,976,220"/>
<area shape="rect" id="node49" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="869,244,944,271"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_icgraph.png" border="0" usemap="#free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_icgraph" id="free-space-cache_8h_a602665caf7e3380ed8e37839c08ee248_icgraph">
<area shape="rect" id="node2" href="free-space-cache_8h.html#a22d9cd73538570e3e98681aed4bce7e3" title="load_free_ino_cache" alt="" coords="208,545,349,572"/>
<area shape="rect" id="node13" href="inode-map_8h.html#a935dc62b2b1e5520c9193a82a50a6cba" title="btrfs_save_ino_cache" alt="" coords="204,789,353,816"/>
<area shape="rect" id="node3" href="inode-map_8c.html#aad21bbf9eaef14e60d772d8b0f96d0dd" title="start_caching" alt="" coords="411,325,511,352"/>
<area shape="rect" id="node4" href="inode-map_8h.html#aff161b58a2844f67e0249d3a66f92f96" title="btrfs_find_free_ino" alt="" coords="591,165,720,192"/>
<area shape="rect" id="node11" href="inode-map_8h.html#a7c177db0fde1b2cc3160554b363e1665" title="btrfs_return_ino" alt="" coords="599,325,711,352"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#a39117a65e3e9a7fcbc4ea8e44a2020e9" title="btrfs_mknod" alt="" coords="839,5,933,32"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#a0e29aa5d937cbffe36ca1b0b6378ad7c" title="btrfs_create" alt="" coords="841,56,931,83"/>
<area shape="rect" id="node7" href="btrfs_2inode_8c.html#a4a7b55e33b0c55f68b58ba0fddb741c7" title="btrfs_mkdir" alt="" coords="843,107,929,133"/>
<area shape="rect" id="node8" href="btrfs_2inode_8c.html#afda26b056b51ec0a37238cf1afe1e930" title="btrfs_whiteout_for\l_rename" alt="" coords="823,158,949,199"/>
<area shape="rect" id="node9" href="btrfs_2inode_8c.html#ae64c6f742189c49848fa49206d37ad5d" title="btrfs_symlink" alt="" coords="836,224,936,251"/>
<area shape="rect" id="node10" href="btrfs_2inode_8c.html#af3230c0aae5b5e2fd6068a1c88b6f976" title="btrfs_tmpfile" alt="" coords="839,275,933,301"/>
<area shape="rect" id="node12" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="825,325,947,352"/>
<area shape="rect" id="node14" href="btrfs_2transaction_8c.html#a7ec84a03f2725775dd9f98c9a7c4e8c3" title="commit_fs_roots" alt="" coords="401,1177,520,1204"/>
<area shape="rect" id="node15" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="568,1691,743,1717"/>
<area shape="rect" id="node17" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="571,1177,740,1204"/>
<area shape="rect" id="node16" href="btrfs_2transaction_8c.html#a9397842b88065d811aabde1791c120ad" title="create_pending_snapshot" alt="" coords="801,2128,971,2155"/>
<area shape="rect" id="node18" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="833,376,939,403"/>
<area shape="rect" id="node19" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="825,427,947,453"/>
<area shape="rect" id="node20" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="835,477,937,504"/>
<area shape="rect" id="node21" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="841,528,931,555"/>
<area shape="rect" id="node22" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1029,604,1188,631"/>
<area shape="rect" id="node23" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="796,629,976,656"/>
<area shape="rect" id="node24" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="801,680,971,707"/>
<area shape="rect" id="node25" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="829,731,943,757"/>
<area shape="rect" id="node26" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="818,781,954,808"/>
<area shape="rect" id="node27" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="817,832,955,859"/>
<area shape="rect" id="node28" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="808,883,964,925"/>
<area shape="rect" id="node29" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="802,949,970,976"/>
<area shape="rect" id="node30" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="791,1000,981,1027"/>
<area shape="rect" id="node31" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="795,1051,977,1077"/>
<area shape="rect" id="node32" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="835,1101,937,1128"/>
<area shape="rect" id="node33" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="827,1152,945,1179"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="825,1203,947,1229"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="824,1254,948,1295"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a42c7063061f03e5835eb19cf7560a4ec" title="btrfs_ioctl_quota_ctl" alt="" coords="817,1320,955,1347"/>
<area shape="rect" id="node37" href="btrfs_2ioctl_8c.html#a48f18343b116ceeb7f4203d1af89da9a" title="_btrfs_ioctl_set_received\l_subvol" alt="" coords="803,1371,969,1413"/>
<area shape="rect" id="node38" href="btrfs_2ioctl_8c.html#ac853a0a11b92a9af54a18a03ae38953d" title="btrfs_ioctl_set_fslabel" alt="" coords="811,1437,961,1464"/>
<area shape="rect" id="node39" href="btrfs_2ioctl_8c.html#a24c5184c82060743542f1847fee14eb5" title="btrfs_ioctl_set_features" alt="" coords="807,1488,965,1515"/>
<area shape="rect" id="node40" href="qgroup_8c.html#adf1379cb6f72016b17a10d9dad9e678c" title="btrfs_qgroup_rescan\l_worker" alt="" coords="816,1539,956,1581"/>
<area shape="rect" id="node41" href="qgroup_8h.html#a197d6c4c8400c2ce486d4802aefdee43" title="btrfs_qgroup_rescan" alt="" coords="816,1605,956,1632"/>
<area shape="rect" id="node42" href="relocation_8c.html#adfa01fe51b35c0e8a7b5561bf915f05c" title="prepare_to_merge" alt="" coords="823,1707,949,1733"/>
<area shape="rect" id="node43" href="relocation_8c.html#a8a01339caff743877abaa4cf666cb3ba" title="relocate_block_group" alt="" coords="1036,1707,1181,1733"/>
<area shape="rect" id="node44" href="relocation_8c.html#a6e533fa2744e434fe59b8972bc1528fd" title="prepare_to_relocate" alt="" coords="818,1757,954,1784"/>
<area shape="rect" id="node45" href="relocation_8c.html#a2755f4855d21d276675b2eeedb6bbecb" title="btrfs_recover_relocation" alt="" coords="805,1808,967,1835"/>
<area shape="rect" id="node46" href="btrfs_2scrub_8c.html#a41f99ff8c752ca50ab3087496ced3a12" title="scrub_enumerate_chunks" alt="" coords="801,1859,971,1885"/>
<area shape="rect" id="node47" href="send_8c.html#aa9523ff29a30f91823accafee4ea7d8c" title="ensure_commit_roots\l_uptodate" alt="" coords="813,1910,959,1951"/>
<area shape="rect" id="node48" href="btrfs_2transaction_8c.html#aa308e15db4d3fb487656da6f98cf8494" title="start_transaction" alt="" coords="827,1976,945,2003"/>
<area shape="rect" id="node49" href="btrfs_2transaction_8c.html#a9d0ed6c97f9593b4c6198a45a7cbef93" title="__btrfs_end_transaction" alt="" coords="805,2027,967,2053"/>
<area shape="rect" id="node50" href="btrfs_2transaction_8c.html#a4d9e6fbc83f43a8172a4c84914383909" title="do_async_commit" alt="" coords="822,2077,950,2104"/>
</map>
</div>

</div>
</div>
<a id="a1a72d35cb0f7682b8631325e80b2521c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a72d35cb0f7682b8631325e80b2521c">&#9670;&nbsp;</a></span>lookup_free_space_inode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="ocfs2__fs_8h.html#a6f188e75c49f1f314346d1183cde3873">inode</a>* lookup_free_space_inode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__fs__info.html">btrfs_fs_info</a> *&#160;</td>
          <td class="paramname"><em>fs_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__block__group__cache.html">btrfs_block_group_cache</a> *&#160;</td>
          <td class="paramname"><em>block_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbtrfs__path.html">btrfs_path</a> *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_cgraph.png" border="0" usemap="#free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_cgraph" alt=""/></div>
<map name="free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_cgraph" id="free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_cgraph">
<area shape="rect" id="node2" href="inode_8c.html#ad2a7d900c04745e54c8d2f3847922a59" title="igrab" alt="" coords="270,1244,321,1270"/>
<area shape="rect" id="node5" href="free-space-cache_8c.html#a249b680da474f11deffb21637668fb68" title="__lookup_free_space\l_inode" alt="" coords="223,1338,368,1379"/>
<area shape="rect" id="node44" href="btrfs__inode_8h.html#a06054e181bcdece3ad4de3bca790a091" title="BTRFS_I" alt="" coords="887,1497,964,1524"/>
<area shape="rect" id="node3" href="inode_8c.html#ab5747108c3d9a3f113b72a10a9be6a2f" title="__iget" alt="" coords="464,164,521,190"/>
<area shape="rect" id="node4" href="debugfs_2inode_8c.html#a16e485b5debd4cd96a200844c38df190" title="EXPORT_SYMBOL" alt="" coords="856,1294,995,1321"/>
<area shape="rect" id="node6" href="ctree_8c.html#ac5a39f6c43a6e2ed7c411ac41b8915aa" title="btrfs_search_slot" alt="" coords="431,636,554,662"/>
<area shape="rect" id="node22" href="ctree_8c.html#a41131cd347e200b952d5a4d4dec0b44c" title="btrfs_release_path" alt="" coords="861,265,990,292"/>
<area shape="rect" id="node39" href="ctree_8h.html#a368e160b8111043ea8fde2820cc7a744" title="btrfs_free_space_key" alt="" coords="419,1345,566,1372"/>
<area shape="rect" id="node40" href="ctree_8h.html#a140716a48536f88d5213fdd8e18ec0d2" title="btrfs_disk_key_to_cpu" alt="" coords="416,1396,569,1422"/>
<area shape="rect" id="node41" href="ctree_8h.html#a7a01f2fbb47c7abf39cb5c8bd20adf9d" title="btrfs_iget" alt="" coords="455,1446,531,1473"/>
<area shape="rect" id="node45" href="bad__inode_8c.html#a7db3c62ffb9390ef7191a63e19073333" title="is_bad_inode" alt="" coords="655,1548,754,1574"/>
<area shape="rect" id="node49" href="inode_8c.html#a378733dcbf0fb08359b9a02145ac8fc3" title="iput" alt="" coords="683,1294,726,1321"/>
<area shape="rect" id="node7" href="extent__io_8h.html#abab3fb2f1dc15ecc875e33b4b3a01b03" title="extent_buffer_get" alt="" coords="1093,704,1215,730"/>
<area shape="rect" id="node8" href="locking_8c.html#ac3a9529d2c5df0dd5b3664a4dd6e943e" title="btrfs_tree_read_lock" alt="" coords="855,889,995,916"/>
<area shape="rect" id="node9" href="ctree_8c.html#a2ea1889ca4cadbfa479fe7eb2ee60f42" title="btrfs_root_node" alt="" coords="869,940,981,966"/>
<area shape="rect" id="node10" href="ctree_8c.html#a7d4f2713bb5cfb14f4d0b1d1354c41ea" title="btrfs_read_lock_root_node" alt="" coords="617,838,792,865"/>
<area shape="rect" id="node11" href="locking_8c.html#abcfca79b4675d7daba8ea67473bae19e" title="btrfs_tree_read_unlock" alt="" coords="848,636,1003,662"/>
<area shape="rect" id="node13" href="extent__io_8c.html#ac7e005dca0ac3237f4627e4b63468bba" title="free_extent_buffer" alt="" coords="1091,788,1217,814"/>
<area shape="rect" id="node16" href="ctree_8c.html#a13abc7eef1e5b2b5d7389f31af4ba257" title="btrfs_lock_root_node" alt="" coords="633,990,776,1017"/>
<area shape="rect" id="node17" href="locking_8c.html#a1982e93abc5a6684f0a522e152464368" title="btrfs_tree_lock" alt="" coords="871,1092,979,1118"/>
<area shape="rect" id="node19" href="ctree_8c.html#a094955553be6cb58c4935ed0a16df88f" title="should_cow_block" alt="" coords="861,517,990,544"/>
<area shape="rect" id="node23" href="locking_8h.html#a4e077d1af39caa3f5993eeabd284ad5f" title="btrfs_tree_unlock_rw" alt="" coords="1083,62,1225,89"/>
<area shape="rect" id="node24" href="ctree_8c.html#a0f26643ad249ce7db6552a40bc6a13fc" title="btrfs_set_path_blocking" alt="" coords="1074,304,1234,330"/>
<area shape="rect" id="node26" href="ctree_8c.html#aab41b83539b36f50d7b60bf5865f12c8" title="btrfs_cow_block" alt="" coords="646,636,763,662"/>
<area shape="rect" id="node29" href="ctree_8c.html#a175b7e25455d1f239abc44e3077d70dc" title="btrfs_clear_path_blocking" alt="" coords="840,164,1011,190"/>
<area shape="rect" id="node31" href="ctree_8c.html#a5fb0648b12a29de4fd1e796cff6908ee" title="key_search" alt="" coords="660,468,749,494"/>
<area shape="rect" id="node32" href="ctree_8c.html#a97a6fe937d57575293969dfb2f98921c" title="setup_nodes_for_search" alt="" coords="623,164,787,190"/>
<area shape="rect" id="node33" href="ctree_8c.html#a834b56edb10103e40ed749f5523f8683" title="unlock_up" alt="" coords="885,12,966,38"/>
<area shape="rect" id="node34" href="ctree_8c.html#a7f78188f4acf10bbecd0d640cb91bf45" title="read_block_for_search" alt="" coords="628,316,781,342"/>
<area shape="rect" id="node35" href="locking_8c.html#a78c102c7789caf8ce397e3df56fc22bf" title="btrfs_try_tree_write_lock" alt="" coords="622,518,787,545"/>
<area shape="rect" id="node36" href="locking_8c.html#a7c2bcea775d438793ffce306669343d3" title="btrfs_tree_read_lock\l_atomic" alt="" coords="635,570,775,611"/>
<area shape="rect" id="node37" href="ctree_8c.html#acf87ec559514d9186b211627ccc87ed0" title="btrfs_leaf_free_space" alt="" coords="852,1244,999,1270"/>
<area shape="rect" id="node38" href="ctree_8c.html#af25471763d28ea9d892c786a0c4965f1" title="split_leaf" alt="" coords="667,1142,742,1169"/>
<area shape="rect" id="node12" href="locking_8c.html#a96cb3fd07179ed9fd59676d6a7c0490a" title="btrfs_assert_tree_read\l_locked" alt="" coords="1525,460,1677,502"/>
<area shape="rect" id="node14" href="extent__io_8c.html#a1a013751a0b14ce9dfafe8760e418a85" title="extent_buffer_under_io" alt="" coords="1310,762,1465,789"/>
<area shape="rect" id="node15" href="extent__io_8c.html#a45f61ef40dd9a77cf2f49bfa500d2ce6" title="release_extent_buffer" alt="" coords="1314,813,1461,840"/>
<area shape="rect" id="node18" href="locking_8c.html#a21b4045191c3f61af033da14c294e7e6" title="btrfs_tree_unlock" alt="" coords="1093,1041,1215,1068"/>
<area shape="rect" id="node20" href="ctree_8h.html#a8fc13cd9f5fb0f7e96fb3375aec4a231" title="btrfs_is_testing" alt="" coords="1099,492,1209,518"/>
<area shape="rect" id="node21" href="ctree_8h.html#aaa43872b34412665c69c49715670c154" title="btrfs_header_flag" alt="" coords="1093,542,1215,569"/>
<area shape="rect" id="node25" href="locking_8c.html#a9e348abb715bfbdaa8f5b77b476138d8" title="btrfs_set_lock_blocking_rw" alt="" coords="1297,304,1477,330"/>
<area shape="rect" id="node27" href="locking_8h.html#a1ac4ffc91b71370050aec15e150dbb23" title="btrfs_set_lock_blocking" alt="" coords="846,585,1005,612"/>
<area shape="rect" id="node28" href="ctree_8c.html#a1cbd6ad4fbd1eb97ab02fa79c3fc1e24" title="__btrfs_cow_block" alt="" coords="860,737,991,764"/>
<area shape="rect" id="node30" href="locking_8c.html#ac2d5623d838733b3ecfbe444a6e1e387" title="btrfs_clear_lock_blocking_rw" alt="" coords="1059,164,1249,190"/>
<area shape="rect" id="node42" href="btrfs_2inode_8c.html#a4492dac151573c26a9a8cb99471b67d7" title="btrfs_iget_locked" alt="" coords="644,1396,765,1422"/>
<area shape="rect" id="node43" href="btrfs_2inode_8c.html#affcf55cb6a9f15c3f05a83e311289986" title="btrfs_read_locked_inode" alt="" coords="623,1497,786,1524"/>
<area shape="rect" id="node47" href="btrfs_2inode_8c.html#a2d5b51c3f0c06bd62fff88d173b01f6a" title="inode_tree_add" alt="" coords="649,1446,760,1473"/>
<area shape="rect" id="node48" href="inode_8c.html#a9282b7bd35d1e54dbe441c57da2400fc" title="unlock_new_inode" alt="" coords="640,1345,769,1372"/>
<area shape="rect" id="node46" href="bad__inode_8c.html#a74ff3566c64350315f12163f4ddfdae7" title="EXPORT_SYMBOL" alt="" coords="856,1548,995,1574"/>
<area shape="rect" id="node50" href="inode_8c.html#a7e99b25ac29d19bc82fbddcb773c4f25" title="iput_final" alt="" coords="888,1345,963,1372"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_icgraph.png" border="0" usemap="#free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_icgraph" alt=""/></div>
<map name="free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_icgraph" id="free-space-cache_8h_a1a72d35cb0f7682b8631325e80b2521c_icgraph">
<area shape="rect" id="node2" href="extent-tree_8c.html#a98d1eff4281362f0fd82cfe3d875f36d" title="cache_save_setup" alt="" coords="439,696,570,723"/>
<area shape="rect" id="node39" href="extent-tree_8c.html#a93c7b396cc81f9b2e38821b3349d1f32" title="btrfs_remove_block\l_group" alt="" coords="645,1089,781,1130"/>
<area shape="rect" id="node40" href="free-space-cache_8h.html#a0a7e5476ce96a6c619bd21d2d7a63743" title="load_free_space_cache" alt="" coords="223,921,381,948"/>
<area shape="rect" id="node47" href="free-space-cache_8h.html#a4882ca09e6b6af79cae4f84cf77c597f" title="btrfs_write_out_cache" alt="" coords="429,761,580,788"/>
<area shape="rect" id="node48" href="relocation_8c.html#afdea23f3451989ed6f811bd6840817b1" title="btrfs_relocate_block\l_group" alt="" coords="233,1167,371,1209"/>
<area shape="rect" id="node3" href="extent-tree_8c.html#a6a1b91a265cecbb96209a3d552369472" title="btrfs_setup_space_cache" alt="" coords="628,637,799,664"/>
<area shape="rect" id="node37" href="extent-tree_8c.html#ad3f068f9d47114874cc93df9070ff355" title="btrfs_start_dirty_block\l_groups" alt="" coords="638,754,789,795"/>
<area shape="rect" id="node38" href="extent-tree_8c.html#a2aa3a9e381f4b137b7b746750446fdc8" title="btrfs_write_dirty_block\l_groups" alt="" coords="637,689,790,730"/>
<area shape="rect" id="node4" href="ctree_8h.html#a6710f7983204d1cdc9a297add1b78dac" title="btrfs_calc_trunc_metadata_size" alt="" coords="847,947,1053,973"/>
<area shape="rect" id="node18" href="btrfs_2transaction_8c.html#a0bd890587ec2da3bd922a602b24e27ef" title="commit_cowonly_roots" alt="" coords="872,637,1028,664"/>
<area shape="rect" id="node5" href="btrfs_2inode_8c.html#ae83d358e431d018621ea88f7ee962cb5" title="btrfs_evict_inode" alt="" coords="1359,1000,1480,1027"/>
<area shape="rect" id="node6" href="btrfs_2inode_8c.html#acd09ff3f74c9b713d061aa050f52e0a6" title="btrfs_truncate" alt="" coords="1137,1023,1240,1049"/>
<area shape="rect" id="node7" href="extent-tree_8c.html#a3d31c696747764aef99241c8b3720053" title="check_system_chunk" alt="" coords="1114,1073,1263,1100"/>
<area shape="rect" id="node17" href="free-space-cache_8h.html#aa59a9fc9aa34f4583139bf2bd59ce960" title="btrfs_check_trunc_cache\l_free_space" alt="" coords="1105,571,1273,613"/>
<area shape="rect" id="node8" href="volumes_8h.html#a248e4e0a4bff925e49d6d9c1e60aa942" title="btrfs_remove_chunk" alt="" coords="1349,1101,1489,1128"/>
<area shape="rect" id="node9" href="extent-tree_8c.html#a176ad7182ebd534973397cf2b1c8b739" title="btrfs_delete_unused_bgs" alt="" coords="1563,1015,1729,1041"/>
<area shape="rect" id="node11" href="volumes_8c.html#a128a99f348bd6017aab531822aa91c7c" title="btrfs_relocate_chunk" alt="" coords="1575,1167,1717,1193"/>
<area shape="rect" id="node16" href="volumes_8h.html#afb5534328e686f58e3eef4c03be14b55" title="btrfs_op" alt="" coords="1986,1091,2055,1117"/>
<area shape="rect" id="node10" href="disk-io_8c.html#a007451da0588a4982e5a0d0a7f9e683c" title="cleaner_kthread" alt="" coords="1787,804,1902,831"/>
<area shape="rect" id="node12" href="volumes_8c.html#a56254c676a0f02506e0341d8f67af1fa" title="btrfs_relocate_sys\l_chunks" alt="" coords="1780,1218,1909,1259"/>
<area shape="rect" id="node13" href="volumes_8c.html#a0b82a155d5f7b70a82ccf6b80c18ef19" title="__btrfs_balance" alt="" coords="1963,1141,2078,1168"/>
<area shape="rect" id="node14" href="volumes_8h.html#ac646c96a22b0b9db17f753c3c786e571" title="btrfs_shrink_device" alt="" coords="1777,1116,1912,1143"/>
<area shape="rect" id="node15" href="btrfs_2ioctl_8c.html#a321423b9819161d90cb532885982d1c1" title="btrfs_ioctl_resize" alt="" coords="1960,587,2081,613"/>
<area shape="rect" id="node19" href="btrfs_2transaction_8c.html#ab9a755f2d51b07c3b120ba3e12776fb8" title="qgroup_account_snapshot" alt="" coords="1101,520,1276,547"/>
<area shape="rect" id="node20" href="transaction_8h.html#aecda9bfb0f25bd07a75affcac9260499" title="btrfs_commit_transaction" alt="" coords="1104,637,1273,664"/>
<area shape="rect" id="node21" href="btrfs_2file_8c.html#a320e3d303d94c29844f184975c92ca5f" title="btrfs_sync_file" alt="" coords="1366,645,1473,672"/>
<area shape="rect" id="node22" href="btrfs_2inode_8c.html#a963d12aa222e9303e8ab69e502ad1291" title="btrfs_write_inode" alt="" coords="1359,696,1480,723"/>
<area shape="rect" id="node23" href="btrfs_2super_8c.html#a48ae41aa5f75d3b192e41c4e9411bfe5" title="btrfs_sync_fs" alt="" coords="1369,747,1470,773"/>
<area shape="rect" id="node24" href="btrfs_2super_8c.html#af82c2a96ed06e043a8542908ae4e3425" title="btrfs_freeze" alt="" coords="1374,797,1465,824"/>
<area shape="rect" id="node25" href="dev-replace_8h.html#a594d802464ab8c9b56227bc606539b36" title="btrfs_dev_replace_start" alt="" coords="1567,873,1725,900"/>
<area shape="rect" id="node26" href="dev-replace_8c.html#a0e2cd231e0e807cde10f03e2382fbf15" title="btrfs_dev_replace_finishing" alt="" coords="1329,899,1509,925"/>
<area shape="rect" id="node27" href="dev-replace_8h.html#a59e896e7c781a1d9b077a5e5142acbcf" title="btrfs_dev_replace_cancel" alt="" coords="1334,5,1505,32"/>
<area shape="rect" id="node28" href="disk-io_8c.html#a44742a7971716267ca29176dc975bfc4" title="transaction_kthread" alt="" coords="1351,56,1487,83"/>
<area shape="rect" id="node29" href="disk-io_8h.html#a9e388cdd7b732352ad4f357af17e1585" title="btrfs_commit_super" alt="" coords="1351,107,1488,133"/>
<area shape="rect" id="node30" href="extent-tree_8c.html#a6ba9cb027c5a8665658584634f8ff4c0" title="btrfs_alloc_data_chunk\l_ondemand" alt="" coords="1341,209,1497,250"/>
<area shape="rect" id="node31" href="extent-tree_8c.html#a7092568d9913bd50a53eace932ede4e6" title="may_commit_transaction" alt="" coords="1335,275,1503,301"/>
<area shape="rect" id="node32" href="free-space-tree_8h.html#a8da6dce5e777157e252c84e386196315" title="btrfs_create_free_space_tree" alt="" coords="1324,325,1515,352"/>
<area shape="rect" id="node33" href="free-space-tree_8h.html#a7e9b117815c36483318bca62d1074481" title="btrfs_clear_free_space_tree" alt="" coords="1328,376,1511,403"/>
<area shape="rect" id="node34" href="btrfs_2ioctl_8c.html#aece08dd0e8105c023076dd08db435113" title="create_subvol" alt="" coords="1368,427,1471,453"/>
<area shape="rect" id="node35" href="btrfs_2ioctl_8c.html#a10c4eaa143fc8d193b44d5d935095b73" title="create_snapshot" alt="" coords="1360,477,1479,504"/>
<area shape="rect" id="node36" href="btrfs_2ioctl_8c.html#a07129cb436149cb54285795096f9d4dd" title="btrfs_ioctl_subvol\l_setflags" alt="" coords="1357,529,1481,570"/>
<area shape="rect" id="node41" href="extent-tree_8c.html#a9646e1c701dfae4177534747d32c7d6f" title="cache_block_group" alt="" coords="437,921,572,948"/>
<area shape="rect" id="node42" href="extent-tree_8c.html#a9888719405c3e0d3977a4eb7424241a4" title="update_block_group" alt="" coords="644,921,783,948"/>
<area shape="rect" id="node43" href="extent-tree_8c.html#ad52400725399f28cef8500a46d91aa73" title="btrfs_pin_extent_for\l_log_replay" alt="" coords="645,1023,782,1065"/>
<area shape="rect" id="node44" href="extent-tree_8c.html#acf3aa7fbd123ef86874580d6eeff2dd8" title="__exclude_logged_extent" alt="" coords="629,972,798,999"/>
<area shape="rect" id="node45" href="extent-tree_8c.html#ad39e207a175a739ff2c0153cd0923c5c" title="find_free_extent" alt="" coords="656,820,771,847"/>
<area shape="rect" id="node46" href="extent-tree_8c.html#a16ce844c7f9821079d66aaad5fdd6d46" title="btrfs_trim_fs" alt="" coords="666,871,761,897"/>
<area shape="rect" id="node49" href="ctree_8h.html#a96286deb5ec8fd334f6d7f22e8211c48" title="btrfs_init_acl" alt="" coords="457,1225,553,1252"/>
<area shape="rect" id="node50" href="ctree_8h.html#ad5d401001e26cb4bb5b14d36cc960102" title="__btrfs_fs_compat_ro" alt="" coords="639,1225,787,1252"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e99c6e840ca93ced115462758f746de3.html">btrfs</a></li><li class="navelem"><a class="el" href="free-space-cache_8h.html">free-space-cache.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
