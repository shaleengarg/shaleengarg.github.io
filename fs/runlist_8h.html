<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: ntfs/runlist.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('runlist_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">runlist.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="layout_8h_source.html">layout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="volume_8h_source.html">volume.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for runlist.h:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h__incl.png" border="0" usemap="#ntfs_2runlist_8h" alt=""/></div>
<map name="ntfs_2runlist_8h" id="ntfs_2runlist_8h">
<area shape="rect" id="node2" href="types_8h.html" title="types.h" alt="" coords="5,229,71,256"/>
<area shape="rect" id="node4" href="layout_8h.html" title="layout.h" alt="" coords="312,155,380,181"/>
<area shape="rect" id="node8" href="volume_8h.html" title="volume.h" alt="" coords="114,80,189,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h__dep__incl.png" border="0" usemap="#ntfs_2runlist_8hdep" alt=""/></div>
<map name="ntfs_2runlist_8hdep" id="ntfs_2runlist_8hdep">
<area shape="rect" id="node2" href="ntfs_2inode_8h.html" title="ntfs/inode.h" alt="" coords="709,155,799,181"/>
<area shape="rect" id="node4" href="ntfs_2aops_8c.html" title="ntfs/aops.c" alt="" coords="1125,304,1212,331"/>
<area shape="rect" id="node11" href="attrib_8h.html" title="ntfs/attrib.h" alt="" coords="861,229,949,256"/>
<area shape="rect" id="node19" href="ntfs_2debug_8h.html" title="ntfs/debug.h" alt="" coords="603,80,697,107"/>
<area shape="rect" id="node3" href="ntfs_2aops_8h.html" title="ntfs/aops.h" alt="" coords="493,229,580,256"/>
<area shape="rect" id="node7" href="index_8h.html" title="ntfs/index.h" alt="" coords="678,304,769,331"/>
<area shape="rect" id="node8" href="ntfs_2super_8c.html" title="ntfs/super.c" alt="" coords="177,379,267,405"/>
<area shape="rect" id="node9" href="ntfs_2inode_8c.html" title="ntfs/inode.c" alt="" coords="259,304,350,331"/>
<area shape="rect" id="node13" href="ntfs_2compress_8c.html" title="ntfs/compress.c" alt="" coords="1236,304,1352,331"/>
<area shape="rect" id="node14" href="ntfs_2file_8c.html" title="ntfs/file.c" alt="" coords="1025,304,1101,331"/>
<area shape="rect" id="node16" href="mft_8h.html" title="ntfs/mft.h" alt="" coords="707,229,785,256"/>
<area shape="rect" id="node17" href="ntfs_2dir_8h.html" title="ntfs/dir.h" alt="" coords="396,229,469,256"/>
<area shape="rect" id="node5" href="ntfs_2dir_8c.html" title="ntfs/dir.c" alt="" coords="425,304,499,331"/>
<area shape="rect" id="node6" href="index_8c.html" title="ntfs/index.c" alt="" coords="491,379,582,405"/>
<area shape="rect" id="node10" href="mft_8c.html" title="ntfs/mft.c" alt="" coords="575,304,653,331"/>
<area shape="rect" id="node12" href="attrib_8c.html" title="ntfs/attrib.c" alt="" coords="913,304,1001,331"/>
<area shape="rect" id="node15" href="ntfs_2namei_8c.html" title="ntfs/namei.c" alt="" coords="793,304,888,331"/>
<area shape="rect" id="node18" href="runlist_8c.html" title="ntfs/runlist.c" alt="" coords="39,304,133,331"/>
<area shape="rect" id="node20" href="collate_8c.html" title="ntfs/collate.c" alt="" coords="303,155,400,181"/>
<area shape="rect" id="node21" href="ntfs_2debug_8c.html" title="ntfs/debug.c" alt="" coords="424,155,519,181"/>
<area shape="rect" id="node22" href="unistr_8c.html" title="ntfs/unistr.c" alt="" coords="543,155,634,181"/>
</map>
</div>
</div>
<p><a href="runlist_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrunlist__element.html">runlist_element</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrunlist.html">runlist</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab36c822173761356d5e01d7170f1ded8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8">LCN_SPECIAL_VALUES</a> { <br />
&#160;&#160;<a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8a1829926c07d88053029265ae931e8093">LCN_HOLE</a> = -1, 
<a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8a67a250ba5c70ceca8b7749158fc22ec9">LCN_RL_NOT_MAPPED</a> = -2, 
<a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8a8de21f905f75fd32fb8a937910bb00b5">LCN_ENOENT</a> = -3, 
<a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8aa45636ffbbc929380465eeda8ce8ac57">LCN_ENOMEM</a> = -4, 
<br />
&#160;&#160;<a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8ab811c8e7139c959641530865f220f69f">LCN_EIO</a> = -5
<br />
 }</td></tr>
<tr class="separator:ab36c822173761356d5e01d7170f1ded8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a596ca4cac4c6b6845013c50802d77f05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="runlist_8h.html#a596ca4cac4c6b6845013c50802d77f05">ntfs_init_runlist</a> (<a class="el" href="structrunlist.html">runlist</a> *rl)</td></tr>
<tr class="separator:a596ca4cac4c6b6845013c50802d77f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88bf16d765cbf410f22d562dcdd92213"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrunlist__element.html">runlist_element</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="runlist_8h.html#a88bf16d765cbf410f22d562dcdd92213">ntfs_runlists_merge</a> (<a class="el" href="structrunlist__element.html">runlist_element</a> *drl, <a class="el" href="structrunlist__element.html">runlist_element</a> *srl)</td></tr>
<tr class="separator:a88bf16d765cbf410f22d562dcdd92213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2497788c7a1fae2c52dbca08330804c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrunlist__element.html">runlist_element</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="runlist_8h.html#ac2497788c7a1fae2c52dbca08330804c">ntfs_mapping_pairs_decompress</a> (const <a class="el" href="structntfs__volume.html">ntfs_volume</a> *vol, const ATTR_RECORD *<a class="el" href="cifspdu_8h.html#a254afd421351a8d5ceee95b4084d9291">attr</a>, <a class="el" href="structrunlist__element.html">runlist_element</a> *old_rl)</td></tr>
<tr class="separator:ac2497788c7a1fae2c52dbca08330804c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9437be86ebe30bd60e86d305679943e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a6d9dd19896b6f7cc43f475bece2080d1">LCN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="runlist_8h.html#a9437be86ebe30bd60e86d305679943e1">ntfs_rl_vcn_to_lcn</a> (const <a class="el" href="structrunlist__element.html">runlist_element</a> *rl, const <a class="el" href="types_8h.html#aa0d05a14ee4f9c131b5a9297294f9fce">VCN</a> vcn)</td></tr>
<tr class="separator:a9437be86ebe30bd60e86d305679943e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab36c822173761356d5e01d7170f1ded8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36c822173761356d5e01d7170f1ded8">&#9670;&nbsp;</a></span>LCN_SPECIAL_VALUES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="runlist_8h.html#ab36c822173761356d5e01d7170f1ded8">LCN_SPECIAL_VALUES</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab36c822173761356d5e01d7170f1ded8a1829926c07d88053029265ae931e8093"></a>LCN_HOLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab36c822173761356d5e01d7170f1ded8a67a250ba5c70ceca8b7749158fc22ec9"></a>LCN_RL_NOT_MAPPED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab36c822173761356d5e01d7170f1ded8a8de21f905f75fd32fb8a937910bb00b5"></a>LCN_ENOENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab36c822173761356d5e01d7170f1ded8aa45636ffbbc929380465eeda8ce8ac57"></a>LCN_ENOMEM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab36c822173761356d5e01d7170f1ded8ab811c8e7139c959641530865f220f69f"></a>LCN_EIO&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a596ca4cac4c6b6845013c50802d77f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596ca4cac4c6b6845013c50802d77f05">&#9670;&nbsp;</a></span>ntfs_init_runlist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ntfs_init_runlist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrunlist.html">runlist</a> *&#160;</td>
          <td class="paramname"><em>rl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_a596ca4cac4c6b6845013c50802d77f05_icgraph.png" border="0" usemap="#runlist_8h_a596ca4cac4c6b6845013c50802d77f05_icgraph" alt=""/></div>
<map name="runlist_8h_a596ca4cac4c6b6845013c50802d77f05_icgraph" id="runlist_8h_a596ca4cac4c6b6845013c50802d77f05_icgraph">
<area shape="rect" id="node2" href="ntfs_2inode_8h.html#ab985cfa10772115a5f42ef4dc97ce719" title="__ntfs_init_inode" alt="" coords="164,244,284,271"/>
<area shape="rect" id="node3" href="ntfs_2inode_8h.html#a22bd60d25a91bd05b32ace0795fcc196" title="ntfs_new_extent_inode" alt="" coords="332,295,488,321"/>
<area shape="rect" id="node4" href="ntfs_2inode_8h.html#aeea6b534f12d270732818f1335215630" title="ntfs_init_big_inode" alt="" coords="536,269,667,296"/>
<area shape="rect" id="node23" href="mft_8h.html#abf9229d5b335c334e2fc0a9a33eef54b" title="map_extent_mft_record" alt="" coords="715,991,873,1017"/>
<area shape="rect" id="node5" href="ntfs_2inode_8c.html#abb7b69ff7b1ae5e34a80a17ec6bb0f87" title="ntfs_read_locked_inode" alt="" coords="2708,1172,2867,1199"/>
<area shape="rect" id="node17" href="ntfs_2inode_8h.html#a9dbdefee1eb75094e80ab0268c88f09d" title="ntfs_read_inode_mount" alt="" coords="2915,232,3072,259"/>
<area shape="rect" id="node18" href="ntfs_2inode_8c.html#ab7dc20a011b54a05dd7a1c0863293565" title="ntfs_read_locked_attr\l_inode" alt="" coords="2279,827,2425,869"/>
<area shape="rect" id="node21" href="ntfs_2inode_8c.html#aeb9292c6b4bdf01df143a7d248a0d0d1" title="ntfs_read_locked_index\l_inode" alt="" coords="2708,334,2867,375"/>
<area shape="rect" id="node6" href="ntfs_2inode_8h.html#aa96c9ef81adffe095044a53a49d5d581" title="ntfs_iget" alt="" coords="2957,1209,3029,1236"/>
<area shape="rect" id="node7" href="ntfs_2super_8c.html#a3ac011e0fc26b08a55c6105af8a6aa9d" title="ntfs_setup_allocators" alt="" coords="3120,675,3267,701"/>
<area shape="rect" id="node10" href="ntfs_2super_8c.html#a1ebda87bfe4deabac37c4d07f9714210" title="load_and_init_upcase" alt="" coords="3120,1260,3267,1287"/>
<area shape="rect" id="node11" href="ntfs_2super_8c.html#a65f19878e9f4e16ea2c57ae3b729a73e" title="load_system_files" alt="" coords="3315,1235,3441,1261"/>
<area shape="rect" id="node12" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8" title="ntfs_lookup" alt="" coords="3149,1552,3238,1579"/>
<area shape="rect" id="node13" href="ntfs_2namei_8c.html#ab7fb2735edcadcdb47d7a21a99cc782e" title="ntfs_get_parent" alt="" coords="3137,1349,3249,1376"/>
<area shape="rect" id="node14" href="ntfs_2namei_8c.html#a165e61fa447531537b45b1f149919e90" title="ntfs_nfs_get_inode" alt="" coords="3127,1108,3259,1135"/>
<area shape="rect" id="node8" href="ntfs_2super_8c.html#a1afed2018068359ea80abae0cf8c4c96" title="ntfs_fill_super" alt="" coords="3489,599,3592,625"/>
<area shape="rect" id="node9" href="ntfs_2super_8c.html#a56d671e0fc29d48f7d8da76a48de59f2" title="ntfs_mount" alt="" coords="3640,599,3727,625"/>
<area shape="rect" id="node15" href="ntfs_2namei_8c.html#ad17f9e2b817c67072d09bb98eea5fff6" title="ntfs_fh_to_dentry" alt="" coords="3317,1083,3439,1109"/>
<area shape="rect" id="node16" href="ntfs_2namei_8c.html#a9439d6466934893029b39ef861d97d4e" title="ntfs_fh_to_parent" alt="" coords="3317,1133,3439,1160"/>
<area shape="rect" id="node19" href="ntfs_2inode_8h.html#a5cbfd09234c5615f6dbf757587558bd3" title="ntfs_attr_iget" alt="" coords="2517,624,2616,651"/>
<area shape="rect" id="node20" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe" title="ntfs_readdir" alt="" coords="2742,1299,2833,1325"/>
<area shape="rect" id="node22" href="ntfs_2inode_8h.html#a37b51bf418feea6397cf91df09e49802" title="ntfs_index_iget" alt="" coords="2938,624,3049,651"/>
<area shape="rect" id="node24" href="attrib_8c.html#aa1ca8eef91a0f2e47720a6e8fafe53c1" title="ntfs_external_attr_find" alt="" coords="921,1016,1072,1043"/>
<area shape="rect" id="node25" href="attrib_8h.html#ad0fa0a5955dbd1e17a84b12d3dc3e5d2" title="ntfs_attr_lookup" alt="" coords="1120,1011,1235,1037"/>
<area shape="rect" id="node26" href="ntfs_2dir_8h.html#a9e749d316c242a247306a9c23a468396" title="ntfs_lookup_inode_by_name" alt="" coords="2473,1539,2660,1565"/>
<area shape="rect" id="node27" href="ntfs_2file_8c.html#aa2102e40ac22e5e2b0aa0ff7219b7d61" title="ntfs_file_open" alt="" coords="1950,1045,2053,1072"/>
<area shape="rect" id="node28" href="ntfs_2inode_8c.html#a95369e929e520667ddb68d49c9e4bde4" title="ntfs_is_extended_system_file" alt="" coords="1283,960,1477,987"/>
<area shape="rect" id="node29" href="ntfs_2inode_8h.html#ac0991afa8122474f9cabc7803999f1bb" title="ntfs_show_options" alt="" coords="2287,893,2417,920"/>
<area shape="rect" id="node30" href="ntfs_2super_8c.html#a66c83e6846c0c69569a1fc56aaaac0ae" title="parse_options" alt="" coords="1755,1475,1857,1501"/>
<area shape="rect" id="node32" href="ntfs_2aops_8c.html#a856218b8b640a4ea98da04280391d1d2" title="ntfs_readpage" alt="" coords="2127,944,2231,971"/>
<area shape="rect" id="node33" href="attrib_8h.html#a97cf5279f8c3012e3faa44114c667bd9" title="ntfs_map_runlist_nolock" alt="" coords="1525,909,1688,936"/>
<area shape="rect" id="node44" href="attrib_8h.html#a4959e9081ff22f6912010201efcc1c0b" title="ntfs_attr_put_search_ctx" alt="" coords="1297,1085,1463,1112"/>
<area shape="rect" id="node47" href="index_8h.html#ade674a6a98f55203a81c587b177a6d4d" title="ntfs_index_lookup" alt="" coords="1543,1011,1670,1037"/>
<area shape="rect" id="node31" href="ntfs_2super_8c.html#a52405ca547ba5af07b3d38d2c20d8b3c" title="ntfs_remount" alt="" coords="2303,944,2401,971"/>
<area shape="rect" id="node34" href="attrib_8h.html#a31d302aa72ec21e818ed6e3d464db190" title="ntfs_map_runlist" alt="" coords="1747,827,1865,853"/>
<area shape="rect" id="node41" href="attrib_8h.html#ad8696242c04d743f91c946d835ac610a" title="ntfs_attr_vcn_to_lcn\l_nolock" alt="" coords="1736,878,1876,919"/>
<area shape="rect" id="node43" href="attrib_8h.html#a937e974578d952b68aefb51cdca1a5e1" title="ntfs_attr_find_vcn\l_nolock" alt="" coords="1743,1654,1869,1695"/>
<area shape="rect" id="node35" href="ntfs_2aops_8c.html#a46e8a3da71b6e60c7048ef41af7a87c9" title="ntfs_read_block" alt="" coords="1944,944,2059,971"/>
<area shape="rect" id="node36" href="ntfs_8h.html#a6f4a2644da3c2e4ce52b8aa1bd836b56" title="ntfs_read_compressed\l_block" alt="" coords="1924,827,2079,869"/>
<area shape="rect" id="node37" href="ntfs_8h.html#a7bd82112df01116e1297aa8165d02ff2" title="NTFS_SB" alt="" coords="2137,371,2220,397"/>
<area shape="rect" id="node38" href="ntfs_2super_8c.html#a58c501f669c6e38b284337e1a5fb7272" title="read_ntfs_boot_sector" alt="" coords="2491,472,2642,499"/>
<area shape="rect" id="node39" href="ntfs_2super_8c.html#a0f0b5a10bd9cec19fbe1f7b915c21dd0" title="ntfs_put_super" alt="" coords="2298,573,2406,600"/>
<area shape="rect" id="node40" href="ntfs_2super_8c.html#af3079da93586021932032559f19eb98f" title="ntfs_statfs" alt="" coords="2310,624,2394,651"/>
<area shape="rect" id="node42" href="ntfs_2aops_8c.html#a6b7f721e57652e7ef4efff1484ba5c7c" title="ntfs_bmap" alt="" coords="1960,995,2043,1021"/>
<area shape="rect" id="node45" href="attrib_8h.html#a5b3c6da7b30052eb909742ccb604568a" title="ntfs_attr_size" alt="" coords="2128,893,2229,920"/>
<area shape="rect" id="node46" href="index_8h.html#a1640cd8852408112d9a32e018dce9b62" title="ntfs_index_ctx_put" alt="" coords="1541,1264,1673,1291"/>
</map>
</div>

</div>
</div>
<a id="ac2497788c7a1fae2c52dbca08330804c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2497788c7a1fae2c52dbca08330804c">&#9670;&nbsp;</a></span>ntfs_mapping_pairs_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrunlist__element.html">runlist_element</a>* ntfs_mapping_pairs_decompress </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structntfs__volume.html">ntfs_volume</a> *&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ATTR_RECORD *&#160;</td>
          <td class="paramname"><em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrunlist__element.html">runlist_element</a> *&#160;</td>
          <td class="paramname"><em>old_rl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ntfs_mapping_pairs_decompress - convert mapping pairs array to runlist : ntfs volume on which the attribute resides : attribute record whose mapping pairs array to decompress : optional runlist in which to insert 's runlist</p>
<p>It is up to the caller to serialize access to the runlist .</p>
<p>Decompress the attribute 's mapping pairs array into a runlist. On success, return the decompressed runlist.</p>
<p>If  is not NULL, decompressed runlist is inserted into the appropriate place in  and the resultant, combined runlist is returned. The original  is deallocated.</p>
<p>On error, return -errno.  is left unmodified in that case.</p>
<p>The following error codes are defined: -ENOMEM - Not enough memory to allocate runlist array. -EIO - Corrupt runlist. -EINVAL - Invalid parameters were passed in. -ERANGE - The two runlists overlap.</p>
<p>FIXME: For now we take the conceptionally simplest approach of creating the new runlist disregarding the already existing one and then splicing the two into one, if that is possible (we check for overlap and discard the new runlist if overlap present before returning ERR_PTR(-ERANGE)). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_ac2497788c7a1fae2c52dbca08330804c_cgraph.png" border="0" usemap="#runlist_8h_ac2497788c7a1fae2c52dbca08330804c_cgraph" alt=""/></div>
<map name="runlist_8h_ac2497788c7a1fae2c52dbca08330804c_cgraph" id="runlist_8h_ac2497788c7a1fae2c52dbca08330804c_cgraph">
<area shape="rect" id="node2" href="ntfs_2endian_8h.html#a2e96c421837ca8d7008130e9d8bdcfdb" title="sle64_to_cpu" alt="" coords="207,5,305,32"/>
<area shape="rect" id="node3" href="malloc_8h.html#a0ec96764a4b9b46c2cd4a78abea5ed5d" title="ntfs_malloc_nofs" alt="" coords="744,208,865,235"/>
<area shape="rect" id="node5" href="malloc_8h.html#ab6824be4d6e004aa075b1fe66fd0d737" title="ntfs_free" alt="" coords="768,259,841,285"/>
<area shape="rect" id="node6" href="runlist_8c.html#a88bf16d765cbf410f22d562dcdd92213" title="ntfs_runlists_merge" alt="" coords="188,309,324,336"/>
<area shape="rect" id="node4" href="malloc_8h.html#ade7393d4add4f921117b419938accfb2" title="__ntfs_malloc" alt="" coords="932,360,1035,387"/>
<area shape="rect" id="node7" href="runlist_8c.html#a7597afce0c5c77abf6cea59dd4c42117" title="ntfs_rl_realloc" alt="" coords="551,259,653,285"/>
<area shape="rect" id="node8" href="runlist_8c.html#ad42df4c2ba6ae221ea8b478739d8c793" title="ntfs_rl_mm" alt="" coords="559,309,645,336"/>
<area shape="rect" id="node9" href="runlist_8c.html#afc45c65b1869d9ee3040061160244c55" title="ntfs_rl_replace" alt="" coords="372,360,479,387"/>
<area shape="rect" id="node13" href="runlist_8c.html#abe25ac97a94bad6afd92c060025790bd" title="ntfs_rl_insert" alt="" coords="377,411,474,437"/>
<area shape="rect" id="node14" href="runlist_8c.html#ab577964ec6fef984755f055188bb06a7" title="ntfs_rl_append" alt="" coords="372,461,479,488"/>
<area shape="rect" id="node15" href="runlist_8c.html#ae141990f8ba871617c536c6d239331de" title="ntfs_rl_split" alt="" coords="381,309,470,336"/>
<area shape="rect" id="node16" href="runlist_8c.html#abf236f92d80fcbb0d32ce6b97d949379" title="ntfs_rl_realloc_nofail" alt="" coords="531,512,673,539"/>
<area shape="rect" id="node10" href="runlist_8c.html#ad223ab18fbef09cb97fdf1cd03deb0a2" title="ntfs_are_rl_mergeable" alt="" coords="527,411,677,437"/>
<area shape="rect" id="node11" href="runlist_8c.html#ae214e403766f396927a514bb9fbfd984" title="__ntfs_rl_merge" alt="" coords="545,461,659,488"/>
<area shape="rect" id="node12" href="runlist_8c.html#adb1be42d1782bf89b82100073555a784" title="ntfs_rl_mc" alt="" coords="561,360,643,387"/>
<area shape="rect" id="node17" href="malloc_8h.html#ac97e6cf0320c6a64bcdf05caeca0ae44" title="ntfs_malloc_nofs_nofail" alt="" coords="725,411,884,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_ac2497788c7a1fae2c52dbca08330804c_icgraph.png" border="0" usemap="#runlist_8h_ac2497788c7a1fae2c52dbca08330804c_icgraph" alt=""/></div>
<map name="runlist_8h_ac2497788c7a1fae2c52dbca08330804c_icgraph" id="runlist_8h_ac2497788c7a1fae2c52dbca08330804c_icgraph">
<area shape="rect" id="node2" href="ntfs_2inode_8c.html#abb7b69ff7b1ae5e34a80a17ec6bb0f87" title="ntfs_read_locked_inode" alt="" coords="188,625,347,652"/>
<area shape="rect" id="node14" href="ntfs_2inode_8h.html#a9dbdefee1eb75094e80ab0268c88f09d" title="ntfs_read_inode_mount" alt="" coords="395,296,552,323"/>
<area shape="rect" id="node31" href="attrib_8h.html#a97cf5279f8c3012e3faa44114c667bd9" title="ntfs_map_runlist_nolock" alt="" coords="1589,808,1752,835"/>
<area shape="rect" id="node44" href="attrib_8h.html#a4959e9081ff22f6912010201efcc1c0b" title="ntfs_attr_put_search_ctx" alt="" coords="1361,783,1527,809"/>
<area shape="rect" id="node3" href="ntfs_2inode_8h.html#aa96c9ef81adffe095044a53a49d5d581" title="ntfs_iget" alt="" coords="2253,1923,2325,1949"/>
<area shape="rect" id="node4" href="ntfs_2super_8c.html#a3ac011e0fc26b08a55c6105af8a6aa9d" title="ntfs_setup_allocators" alt="" coords="3193,1112,3340,1139"/>
<area shape="rect" id="node7" href="ntfs_2super_8c.html#a1ebda87bfe4deabac37c4d07f9714210" title="load_and_init_upcase" alt="" coords="2589,1847,2735,1873"/>
<area shape="rect" id="node8" href="ntfs_2super_8c.html#a65f19878e9f4e16ea2c57ae3b729a73e" title="load_system_files" alt="" coords="2804,1644,2931,1671"/>
<area shape="rect" id="node9" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8" title="ntfs_lookup" alt="" coords="2418,1315,2507,1341"/>
<area shape="rect" id="node10" href="ntfs_2namei_8c.html#ab7fb2735edcadcdb47d7a21a99cc782e" title="ntfs_get_parent" alt="" coords="2407,1720,2519,1747"/>
<area shape="rect" id="node11" href="ntfs_2namei_8c.html#a165e61fa447531537b45b1f149919e90" title="ntfs_nfs_get_inode" alt="" coords="2397,1973,2529,2000"/>
<area shape="rect" id="node5" href="ntfs_2super_8c.html#a1afed2018068359ea80abae0cf8c4c96" title="ntfs_fill_super" alt="" coords="3388,539,3491,565"/>
<area shape="rect" id="node6" href="ntfs_2super_8c.html#a56d671e0fc29d48f7d8da76a48de59f2" title="ntfs_mount" alt="" coords="3539,539,3625,565"/>
<area shape="rect" id="node12" href="ntfs_2namei_8c.html#ad17f9e2b817c67072d09bb98eea5fff6" title="ntfs_fh_to_dentry" alt="" coords="2601,2024,2723,2051"/>
<area shape="rect" id="node13" href="ntfs_2namei_8c.html#a9439d6466934893029b39ef861d97d4e" title="ntfs_fh_to_parent" alt="" coords="2601,1973,2723,2000"/>
<area shape="rect" id="node15" href="ntfs_2inode_8h.html#aeea6b534f12d270732818f1335215630" title="ntfs_init_big_inode" alt="" coords="600,195,731,221"/>
<area shape="rect" id="node16" href="ntfs_2inode_8c.html#ab7dc20a011b54a05dd7a1c0863293565" title="ntfs_read_locked_attr\l_inode" alt="" coords="2389,1451,2536,1493"/>
<area shape="rect" id="node19" href="ntfs_2inode_8c.html#aeb9292c6b4bdf01df143a7d248a0d0d1" title="ntfs_read_locked_index\l_inode" alt="" coords="2788,915,2947,957"/>
<area shape="rect" id="node21" href="mft_8h.html#abf9229d5b335c334e2fc0a9a33eef54b" title="map_extent_mft_record" alt="" coords="779,739,937,765"/>
<area shape="rect" id="node17" href="ntfs_2inode_8h.html#a5cbfd09234c5615f6dbf757587558bd3" title="ntfs_attr_iget" alt="" coords="2613,1455,2711,1481"/>
<area shape="rect" id="node18" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe" title="ntfs_readdir" alt="" coords="2822,1240,2913,1267"/>
<area shape="rect" id="node20" href="ntfs_2inode_8h.html#a37b51bf418feea6397cf91df09e49802" title="ntfs_index_iget" alt="" coords="3015,992,3125,1019"/>
<area shape="rect" id="node22" href="attrib_8c.html#aa1ca8eef91a0f2e47720a6e8fafe53c1" title="ntfs_external_attr_find" alt="" coords="985,803,1136,829"/>
<area shape="rect" id="node23" href="attrib_8h.html#ad0fa0a5955dbd1e17a84b12d3dc3e5d2" title="ntfs_attr_lookup" alt="" coords="1184,1264,1299,1291"/>
<area shape="rect" id="node24" href="ntfs_2dir_8h.html#a9e749d316c242a247306a9c23a468396" title="ntfs_lookup_inode_by_name" alt="" coords="1800,1315,1987,1341"/>
<area shape="rect" id="node25" href="ntfs_2file_8c.html#aa2102e40ac22e5e2b0aa0ff7219b7d61" title="ntfs_file_open" alt="" coords="2061,792,2163,819"/>
<area shape="rect" id="node26" href="ntfs_2inode_8c.html#a95369e929e520667ddb68d49c9e4bde4" title="ntfs_is_extended_system_file" alt="" coords="1347,1821,1541,1848"/>
<area shape="rect" id="node27" href="ntfs_2inode_8h.html#ac0991afa8122474f9cabc7803999f1bb" title="ntfs_show_options" alt="" coords="2397,387,2528,413"/>
<area shape="rect" id="node28" href="ntfs_2super_8c.html#a66c83e6846c0c69569a1fc56aaaac0ae" title="parse_options" alt="" coords="2238,539,2341,565"/>
<area shape="rect" id="node30" href="ntfs_2aops_8c.html#a856218b8b640a4ea98da04280391d1d2" title="ntfs_readpage" alt="" coords="2237,960,2341,987"/>
<area shape="rect" id="node47" href="index_8h.html#ade674a6a98f55203a81c587b177a6d4d" title="ntfs_index_lookup" alt="" coords="1607,1163,1734,1189"/>
<area shape="rect" id="node29" href="ntfs_2super_8c.html#a52405ca547ba5af07b3d38d2c20d8b3c" title="ntfs_remount" alt="" coords="2413,488,2512,515"/>
<area shape="rect" id="node32" href="attrib_8h.html#a31d302aa72ec21e818ed6e3d464db190" title="ntfs_map_runlist" alt="" coords="1834,920,1953,947"/>
<area shape="rect" id="node41" href="attrib_8h.html#ad8696242c04d743f91c946d835ac610a" title="ntfs_attr_vcn_to_lcn\l_nolock" alt="" coords="1823,702,1963,743"/>
<area shape="rect" id="node43" href="attrib_8h.html#a937e974578d952b68aefb51cdca1a5e1" title="ntfs_attr_find_vcn\l_nolock" alt="" coords="1830,1073,1957,1114"/>
<area shape="rect" id="node33" href="ntfs_2aops_8c.html#a46e8a3da71b6e60c7048ef41af7a87c9" title="ntfs_read_block" alt="" coords="2055,909,2169,936"/>
<area shape="rect" id="node34" href="ntfs_8h.html#a6f4a2644da3c2e4ce52b8aa1bd836b56" title="ntfs_read_compressed\l_block" alt="" coords="2035,843,2189,885"/>
<area shape="rect" id="node35" href="ntfs_8h.html#a7bd82112df01116e1297aa8165d02ff2" title="NTFS_SB" alt="" coords="2248,640,2331,667"/>
<area shape="rect" id="node36" href="ntfs_2inode_8h.html#ab985cfa10772115a5f42ef4dc97ce719" title="__ntfs_init_inode" alt="" coords="2403,105,2523,132"/>
<area shape="rect" id="node38" href="ntfs_2super_8c.html#a58c501f669c6e38b284337e1a5fb7272" title="read_ntfs_boot_sector" alt="" coords="2995,513,3145,540"/>
<area shape="rect" id="node39" href="ntfs_2super_8c.html#a0f0b5a10bd9cec19fbe1f7b915c21dd0" title="ntfs_put_super" alt="" coords="2409,640,2517,667"/>
<area shape="rect" id="node40" href="ntfs_2super_8c.html#af3079da93586021932032559f19eb98f" title="ntfs_statfs" alt="" coords="2421,691,2505,717"/>
<area shape="rect" id="node37" href="ntfs_2inode_8h.html#a22bd60d25a91bd05b32ace0795fcc196" title="ntfs_new_extent_inode" alt="" coords="2584,105,2740,132"/>
<area shape="rect" id="node42" href="ntfs_2aops_8c.html#a6b7f721e57652e7ef4efff1484ba5c7c" title="ntfs_bmap" alt="" coords="2071,741,2153,768"/>
<area shape="rect" id="node45" href="attrib_8h.html#a5b3c6da7b30052eb909742ccb604568a" title="ntfs_attr_size" alt="" coords="1620,347,1721,373"/>
<area shape="rect" id="node46" href="index_8h.html#a1640cd8852408112d9a32e018dce9b62" title="ntfs_index_ctx_put" alt="" coords="1605,707,1737,733"/>
</map>
</div>

</div>
</div>
<a id="a9437be86ebe30bd60e86d305679943e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9437be86ebe30bd60e86d305679943e1">&#9670;&nbsp;</a></span>ntfs_rl_vcn_to_lcn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a6d9dd19896b6f7cc43f475bece2080d1">LCN</a> ntfs_rl_vcn_to_lcn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrunlist__element.html">runlist_element</a> *&#160;</td>
          <td class="paramname"><em>rl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="types_8h.html#aa0d05a14ee4f9c131b5a9297294f9fce">VCN</a>&#160;</td>
          <td class="paramname"><em>vcn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ntfs_rl_vcn_to_lcn - convert a vcn into a lcn given a runlist : runlist to use for conversion : vcn to convert</p>
<p>Convert the virtual cluster number  of an attribute into a logical cluster number (lcn) of a device using the runlist  to map vcns to their corresponding lcns.</p>
<p>It is up to the caller to serialize access to the runlist .</p>
<p>Since lcns must be &gt;= 0, we use negative return codes with special meaning:</p>
<h1>Return code Meaning / Description </h1>
<p>LCN_HOLE Hole / not allocated on disk. LCN_RL_NOT_MAPPED This is part of the runlist which has not been inserted into the runlist yet. LCN_ENOENT There is no such vcn in the attribute.</p>
<p>Locking: - The caller must have locked the runlist (for reading or writing).</p><ul>
<li>This function does not touch the lock, nor does it modify the runlist. </li>
</ul>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_a9437be86ebe30bd60e86d305679943e1_cgraph.png" border="0" usemap="#runlist_8h_a9437be86ebe30bd60e86d305679943e1_cgraph" alt=""/></div>
<map name="runlist_8h_a9437be86ebe30bd60e86d305679943e1_cgraph" id="runlist_8h_a9437be86ebe30bd60e86d305679943e1_cgraph">
<area shape="rect" id="node2" href="malloc_8h.html#ab6824be4d6e004aa075b1fe66fd0d737" title="ntfs_free" alt="" coords="356,5,429,32"/>
<area shape="rect" id="node3" href="malloc_8h.html#a0ec96764a4b9b46c2cd4a78abea5ed5d" title="ntfs_malloc_nofs" alt="" coords="332,68,453,95"/>
<area shape="rect" id="node5" href="runlist_8c.html#a7597afce0c5c77abf6cea59dd4c42117" title="ntfs_rl_realloc" alt="" coords="181,31,284,57"/>
<area shape="rect" id="node4" href="malloc_8h.html#ade7393d4add4f921117b419938accfb2" title="__ntfs_malloc" alt="" coords="501,68,604,95"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_a9437be86ebe30bd60e86d305679943e1_icgraph.png" border="0" usemap="#runlist_8h_a9437be86ebe30bd60e86d305679943e1_icgraph" alt=""/></div>
<map name="runlist_8h_a9437be86ebe30bd60e86d305679943e1_icgraph" id="runlist_8h_a9437be86ebe30bd60e86d305679943e1_icgraph">
<area shape="rect" id="node2" href="ntfs_2file_8c.html#aa2102e40ac22e5e2b0aa0ff7219b7d61" title="ntfs_file_open" alt="" coords="2303,752,2405,779"/>
<area shape="rect" id="node3" href="ntfs_2aops_8c.html#a46e8a3da71b6e60c7048ef41af7a87c9" title="ntfs_read_block" alt="" coords="2297,499,2411,525"/>
<area shape="rect" id="node4" href="ntfs_2aops_8c.html#a856218b8b640a4ea98da04280391d1d2" title="ntfs_readpage" alt="" coords="2523,473,2627,500"/>
<area shape="rect" id="node5" href="ntfs_8h.html#a6f4a2644da3c2e4ce52b8aa1bd836b56" title="ntfs_read_compressed\l_block" alt="" coords="181,179,336,221"/>
<area shape="rect" id="node28" href="mft_8h.html#abf9229d5b335c334e2fc0a9a33eef54b" title="map_extent_mft_record" alt="" coords="1065,1259,1224,1285"/>
<area shape="rect" id="node37" href="attrib_8h.html#a31d302aa72ec21e818ed6e3d464db190" title="ntfs_map_runlist" alt="" coords="2097,448,2216,475"/>
<area shape="rect" id="node38" href="attrib_8h.html#ad8696242c04d743f91c946d835ac610a" title="ntfs_attr_vcn_to_lcn\l_nolock" alt="" coords="2087,382,2227,423"/>
<area shape="rect" id="node48" href="attrib_8h.html#ae498b0023ca6b0223c72433c3eea1729" title="load_attribute_list" alt="" coords="2095,2424,2219,2451"/>
<area shape="rect" id="node6" href="ntfs_8h.html#a7bd82112df01116e1297aa8165d02ff2" title="NTFS_SB" alt="" coords="384,727,467,753"/>
<area shape="rect" id="node7" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe" title="ntfs_readdir" alt="" coords="2309,1968,2399,1995"/>
<area shape="rect" id="node8" href="ntfs_2inode_8h.html#ab985cfa10772115a5f42ef4dc97ce719" title="__ntfs_init_inode" alt="" coords="515,1259,635,1285"/>
<area shape="rect" id="node11" href="ntfs_2inode_8c.html#abb7b69ff7b1ae5e34a80a17ec6bb0f87" title="ntfs_read_locked_inode" alt="" coords="2275,2196,2433,2223"/>
<area shape="rect" id="node14" href="ntfs_2super_8c.html#a1afed2018068359ea80abae0cf8c4c96" title="ntfs_fill_super" alt="" coords="3085,487,3188,513"/>
<area shape="rect" id="node18" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8" title="ntfs_lookup" alt="" coords="2745,1285,2834,1312"/>
<area shape="rect" id="node23" href="ntfs_2inode_8h.html#a9dbdefee1eb75094e80ab0268c88f09d" title="ntfs_read_inode_mount" alt="" coords="2496,2424,2653,2451"/>
<area shape="rect" id="node24" href="ntfs_2inode_8c.html#ab7dc20a011b54a05dd7a1c0863293565" title="ntfs_read_locked_attr\l_inode" alt="" coords="1884,2019,2031,2061"/>
<area shape="rect" id="node26" href="ntfs_2inode_8c.html#aeb9292c6b4bdf01df143a7d248a0d0d1" title="ntfs_read_locked_index\l_inode" alt="" coords="2275,1349,2433,1390"/>
<area shape="rect" id="node33" href="ntfs_2inode_8h.html#ac0991afa8122474f9cabc7803999f1bb" title="ntfs_show_options" alt="" coords="2091,1005,2222,1032"/>
<area shape="rect" id="node35" href="ntfs_2super_8c.html#a52405ca547ba5af07b3d38d2c20d8b3c" title="ntfs_remount" alt="" coords="2107,651,2206,677"/>
<area shape="rect" id="node45" href="ntfs_2super_8c.html#a58c501f669c6e38b284337e1a5fb7272" title="read_ntfs_boot_sector" alt="" coords="685,397,836,424"/>
<area shape="rect" id="node46" href="ntfs_2super_8c.html#a0f0b5a10bd9cec19fbe1f7b915c21dd0" title="ntfs_put_super" alt="" coords="521,651,629,677"/>
<area shape="rect" id="node47" href="ntfs_2super_8c.html#af3079da93586021932032559f19eb98f" title="ntfs_statfs" alt="" coords="533,701,617,728"/>
<area shape="rect" id="node9" href="ntfs_2inode_8h.html#a22bd60d25a91bd05b32ace0795fcc196" title="ntfs_new_extent_inode" alt="" coords="683,1259,839,1285"/>
<area shape="rect" id="node10" href="ntfs_2inode_8h.html#aeea6b534f12d270732818f1335215630" title="ntfs_init_big_inode" alt="" coords="887,1309,1017,1336"/>
<area shape="rect" id="node12" href="ntfs_2inode_8h.html#aa96c9ef81adffe095044a53a49d5d581" title="ntfs_iget" alt="" coords="2539,1563,2611,1589"/>
<area shape="rect" id="node13" href="ntfs_2super_8c.html#a3ac011e0fc26b08a55c6105af8a6aa9d" title="ntfs_setup_allocators" alt="" coords="2716,1360,2863,1387"/>
<area shape="rect" id="node16" href="ntfs_2super_8c.html#a1ebda87bfe4deabac37c4d07f9714210" title="load_and_init_upcase" alt="" coords="2716,1512,2863,1539"/>
<area shape="rect" id="node17" href="ntfs_2super_8c.html#a65f19878e9f4e16ea2c57ae3b729a73e" title="load_system_files" alt="" coords="2911,1537,3037,1564"/>
<area shape="rect" id="node19" href="ntfs_2namei_8c.html#ab7fb2735edcadcdb47d7a21a99cc782e" title="ntfs_get_parent" alt="" coords="2733,1613,2845,1640"/>
<area shape="rect" id="node20" href="ntfs_2namei_8c.html#a165e61fa447531537b45b1f149919e90" title="ntfs_nfs_get_inode" alt="" coords="2723,1411,2855,1437"/>
<area shape="rect" id="node15" href="ntfs_2super_8c.html#a56d671e0fc29d48f7d8da76a48de59f2" title="ntfs_mount" alt="" coords="3236,487,3323,513"/>
<area shape="rect" id="node21" href="ntfs_2namei_8c.html#ad17f9e2b817c67072d09bb98eea5fff6" title="ntfs_fh_to_dentry" alt="" coords="2913,1385,3035,1412"/>
<area shape="rect" id="node22" href="ntfs_2namei_8c.html#a9439d6466934893029b39ef861d97d4e" title="ntfs_fh_to_parent" alt="" coords="2913,1436,3035,1463"/>
<area shape="rect" id="node25" href="ntfs_2inode_8h.html#a5cbfd09234c5615f6dbf757587558bd3" title="ntfs_attr_iget" alt="" coords="2107,1867,2206,1893"/>
<area shape="rect" id="node27" href="ntfs_2inode_8h.html#a37b51bf418feea6397cf91df09e49802" title="ntfs_index_iget" alt="" coords="2519,1461,2630,1488"/>
<area shape="rect" id="node29" href="attrib_8c.html#aa1ca8eef91a0f2e47720a6e8fafe53c1" title="ntfs_external_attr_find" alt="" coords="1272,1208,1423,1235"/>
<area shape="rect" id="node30" href="attrib_8h.html#ad0fa0a5955dbd1e17a84b12d3dc3e5d2" title="ntfs_attr_lookup" alt="" coords="1471,1208,1585,1235"/>
<area shape="rect" id="node31" href="ntfs_2dir_8h.html#a9e749d316c242a247306a9c23a468396" title="ntfs_lookup_inode_by_name" alt="" coords="2481,1360,2668,1387"/>
<area shape="rect" id="node32" href="ntfs_2inode_8c.html#a95369e929e520667ddb68d49c9e4bde4" title="ntfs_is_extended_system_file" alt="" coords="1633,2069,1828,2096"/>
<area shape="rect" id="node34" href="ntfs_2super_8c.html#a66c83e6846c0c69569a1fc56aaaac0ae" title="parse_options" alt="" coords="1906,701,2009,728"/>
<area shape="rect" id="node36" href="attrib_8h.html#a97cf5279f8c3012e3faa44114c667bd9" title="ntfs_map_runlist_nolock" alt="" coords="1876,803,2039,829"/>
<area shape="rect" id="node41" href="attrib_8h.html#a4959e9081ff22f6912010201efcc1c0b" title="ntfs_attr_put_search_ctx" alt="" coords="1647,1512,1814,1539"/>
<area shape="rect" id="node44" href="index_8h.html#ade674a6a98f55203a81c587b177a6d4d" title="ntfs_index_lookup" alt="" coords="1894,1259,2021,1285"/>
<area shape="rect" id="node40" href="attrib_8h.html#a937e974578d952b68aefb51cdca1a5e1" title="ntfs_attr_find_vcn\l_nolock" alt="" coords="2093,854,2220,895"/>
<area shape="rect" id="node39" href="ntfs_2aops_8c.html#a6b7f721e57652e7ef4efff1484ba5c7c" title="ntfs_bmap" alt="" coords="2313,389,2395,416"/>
<area shape="rect" id="node42" href="attrib_8h.html#a5b3c6da7b30052eb909742ccb604568a" title="ntfs_attr_size" alt="" coords="1907,1816,2008,1843"/>
<area shape="rect" id="node43" href="index_8h.html#a1640cd8852408112d9a32e018dce9b62" title="ntfs_index_ctx_put" alt="" coords="1891,1664,2023,1691"/>
</map>
</div>

</div>
</div>
<a id="a88bf16d765cbf410f22d562dcdd92213"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88bf16d765cbf410f22d562dcdd92213">&#9670;&nbsp;</a></span>ntfs_runlists_merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrunlist__element.html">runlist_element</a>* ntfs_runlists_merge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrunlist__element.html">runlist_element</a> *&#160;</td>
          <td class="paramname"><em>drl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrunlist__element.html">runlist_element</a> *&#160;</td>
          <td class="paramname"><em>srl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ntfs_runlists_merge - merge two runlists into one : original runlist to be worked on : new runlist to be merged into </p>
<p>First we sanity check the two runlists  and  to make sure that they are sensible and can be merged. The runlist  must be either after the runlist  or completely within a hole (or unmapped region) in .</p>
<p>It is up to the caller to serialize access to the runlists  and .</p>
<p>Merging of runlists is necessary in two cases:</p><ol type="1">
<li>When attribute lists are used and a further extent is being mapped.</li>
<li>When new clusters are allocated to fill a hole or extend a file.</li>
</ol>
<p>There are four possible ways  can be merged. It can:</p><ul>
<li>be inserted at the beginning of a hole,</li>
<li>split the hole in two and be inserted between the two fragments,</li>
<li>be appended at the end of a hole, or it can</li>
<li>replace the whole hole. It can also be appended to the end of the runlist, which is just a variant of the insert case.</li>
</ul>
<p>On success, return a pointer to the new, combined, runlist. Note, both runlists  and  are deallocated before returning so you cannot use the pointers for anything any more. (Strictly speaking the returned runlist may be the same as  but this is irrelevant.)</p>
<p>On error, return -errno. Both runlists are left unmodified. The following error codes are defined: -ENOMEM - Not enough memory to allocate runlist array. -EINVAL - Invalid parameters were passed in. -ERANGE - The runlists overlap and cannot be merged. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_a88bf16d765cbf410f22d562dcdd92213_cgraph.png" border="0" usemap="#runlist_8h_a88bf16d765cbf410f22d562dcdd92213_cgraph" alt=""/></div>
<map name="runlist_8h_a88bf16d765cbf410f22d562dcdd92213_cgraph" id="runlist_8h_a88bf16d765cbf410f22d562dcdd92213_cgraph">
<area shape="rect" id="node2" href="runlist_8c.html#a7597afce0c5c77abf6cea59dd4c42117" title="ntfs_rl_realloc" alt="" coords="368,157,471,184"/>
<area shape="rect" id="node5" href="malloc_8h.html#ab6824be4d6e004aa075b1fe66fd0d737" title="ntfs_free" alt="" coords="585,56,659,83"/>
<area shape="rect" id="node6" href="runlist_8c.html#ad42df4c2ba6ae221ea8b478739d8c793" title="ntfs_rl_mm" alt="" coords="376,208,463,235"/>
<area shape="rect" id="node7" href="runlist_8c.html#afc45c65b1869d9ee3040061160244c55" title="ntfs_rl_replace" alt="" coords="189,309,296,336"/>
<area shape="rect" id="node11" href="runlist_8c.html#abe25ac97a94bad6afd92c060025790bd" title="ntfs_rl_insert" alt="" coords="194,360,291,387"/>
<area shape="rect" id="node12" href="runlist_8c.html#ab577964ec6fef984755f055188bb06a7" title="ntfs_rl_append" alt="" coords="189,259,296,285"/>
<area shape="rect" id="node13" href="runlist_8c.html#ae141990f8ba871617c536c6d239331de" title="ntfs_rl_split" alt="" coords="198,208,287,235"/>
<area shape="rect" id="node14" href="runlist_8c.html#abf236f92d80fcbb0d32ce6b97d949379" title="ntfs_rl_realloc_nofail" alt="" coords="349,5,490,32"/>
<area shape="rect" id="node3" href="malloc_8h.html#a0ec96764a4b9b46c2cd4a78abea5ed5d" title="ntfs_malloc_nofs" alt="" coords="561,132,683,159"/>
<area shape="rect" id="node4" href="malloc_8h.html#ade7393d4add4f921117b419938accfb2" title="__ntfs_malloc" alt="" coords="749,69,852,96"/>
<area shape="rect" id="node8" href="runlist_8c.html#ad223ab18fbef09cb97fdf1cd03deb0a2" title="ntfs_are_rl_mergeable" alt="" coords="344,360,495,387"/>
<area shape="rect" id="node9" href="runlist_8c.html#ae214e403766f396927a514bb9fbfd984" title="__ntfs_rl_merge" alt="" coords="362,309,477,336"/>
<area shape="rect" id="node10" href="runlist_8c.html#adb1be42d1782bf89b82100073555a784" title="ntfs_rl_mc" alt="" coords="378,259,461,285"/>
<area shape="rect" id="node15" href="malloc_8h.html#ac97e6cf0320c6a64bcdf05caeca0ae44" title="ntfs_malloc_nofs_nofail" alt="" coords="543,5,701,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="runlist_8h_a88bf16d765cbf410f22d562dcdd92213_icgraph.png" border="0" usemap="#runlist_8h_a88bf16d765cbf410f22d562dcdd92213_icgraph" alt=""/></div>
<map name="runlist_8h_a88bf16d765cbf410f22d562dcdd92213_icgraph" id="runlist_8h_a88bf16d765cbf410f22d562dcdd92213_icgraph">
<area shape="rect" id="node2" href="ntfs_2file_8c.html#aa2102e40ac22e5e2b0aa0ff7219b7d61" title="ntfs_file_open" alt="" coords="2429,397,2531,424"/>
<area shape="rect" id="node3" href="attrib_8h.html#a4959e9081ff22f6912010201efcc1c0b" title="ntfs_attr_put_search_ctx" alt="" coords="372,911,539,937"/>
<area shape="rect" id="node24" href="mft_8h.html#abf9229d5b335c334e2fc0a9a33eef54b" title="map_extent_mft_record" alt="" coords="1357,873,1516,900"/>
<area shape="rect" id="node48" href="runlist_8h.html#ac2497788c7a1fae2c52dbca08330804c" title="ntfs_mapping_pairs\l_decompress" alt="" coords="189,954,324,995"/>
<area shape="rect" id="node4" href="ntfs_2dir_8h.html#a9e749d316c242a247306a9c23a468396" title="ntfs_lookup_inode_by_name" alt="" coords="2168,1417,2355,1444"/>
<area shape="rect" id="node8" href="ntfs_2namei_8c.html#a0ffa88e6d3aa875d3313c7b039c61bf8" title="ntfs_lookup" alt="" coords="2786,1392,2875,1419"/>
<area shape="rect" id="node9" href="ntfs_2dir_8c.html#ab1bc16b9eb8282df6442679416ef57fe" title="ntfs_readdir" alt="" coords="3190,1585,3281,1612"/>
<area shape="rect" id="node10" href="ntfs_2inode_8c.html#abb7b69ff7b1ae5e34a80a17ec6bb0f87" title="ntfs_read_locked_inode" alt="" coords="767,1341,925,1368"/>
<area shape="rect" id="node13" href="ntfs_2super_8c.html#a65f19878e9f4e16ea2c57ae3b729a73e" title="load_system_files" alt="" coords="3172,1012,3299,1039"/>
<area shape="rect" id="node14" href="ntfs_2namei_8c.html#ab7fb2735edcadcdb47d7a21a99cc782e" title="ntfs_get_parent" alt="" coords="2775,819,2887,845"/>
<area shape="rect" id="node18" href="ntfs_2inode_8h.html#a9dbdefee1eb75094e80ab0268c88f09d" title="ntfs_read_inode_mount" alt="" coords="973,1721,1131,1748"/>
<area shape="rect" id="node20" href="ntfs_2inode_8c.html#ab7dc20a011b54a05dd7a1c0863293565" title="ntfs_read_locked_attr\l_inode" alt="" coords="2757,921,2904,962"/>
<area shape="rect" id="node22" href="ntfs_2inode_8c.html#aeb9292c6b4bdf01df143a7d248a0d0d1" title="ntfs_read_locked_index\l_inode" alt="" coords="3156,1502,3315,1543"/>
<area shape="rect" id="node28" href="ntfs_2inode_8h.html#ac0991afa8122474f9cabc7803999f1bb" title="ntfs_show_options" alt="" coords="2765,1949,2896,1976"/>
<area shape="rect" id="node29" href="ntfs_2super_8c.html#a66c83e6846c0c69569a1fc56aaaac0ae" title="parse_options" alt="" coords="2606,671,2709,697"/>
<area shape="rect" id="node31" href="ntfs_2aops_8c.html#a856218b8b640a4ea98da04280391d1d2" title="ntfs_readpage" alt="" coords="2605,565,2709,592"/>
<area shape="rect" id="node32" href="attrib_8h.html#a97cf5279f8c3012e3faa44114c667bd9" title="ntfs_map_runlist_nolock" alt="" coords="1941,581,2104,608"/>
<area shape="rect" id="node45" href="index_8h.html#ade674a6a98f55203a81c587b177a6d4d" title="ntfs_index_lookup" alt="" coords="1959,1189,2086,1216"/>
<area shape="rect" id="node46" href="attrib_8h.html#a5b3c6da7b30052eb909742ccb604568a" title="ntfs_attr_size" alt="" coords="602,1487,703,1513"/>
<area shape="rect" id="node47" href="index_8h.html#a1640cd8852408112d9a32e018dce9b62" title="ntfs_index_ctx_put" alt="" coords="587,911,719,937"/>
<area shape="rect" id="node5" href="ntfs_2super_8c.html#a3ac011e0fc26b08a55c6105af8a6aa9d" title="ntfs_setup_allocators" alt="" coords="3561,1443,3708,1469"/>
<area shape="rect" id="node6" href="ntfs_2super_8c.html#a1afed2018068359ea80abae0cf8c4c96" title="ntfs_fill_super" alt="" coords="3756,1544,3859,1571"/>
<area shape="rect" id="node7" href="ntfs_2super_8c.html#a56d671e0fc29d48f7d8da76a48de59f2" title="ntfs_mount" alt="" coords="3907,1544,3993,1571"/>
<area shape="rect" id="node11" href="ntfs_2inode_8h.html#aa96c9ef81adffe095044a53a49d5d581" title="ntfs_iget" alt="" coords="2621,1139,2693,1165"/>
<area shape="rect" id="node12" href="ntfs_2super_8c.html#a1ebda87bfe4deabac37c4d07f9714210" title="load_and_init_upcase" alt="" coords="2957,987,3103,1013"/>
<area shape="rect" id="node15" href="ntfs_2namei_8c.html#a165e61fa447531537b45b1f149919e90" title="ntfs_nfs_get_inode" alt="" coords="2765,1240,2897,1267"/>
<area shape="rect" id="node16" href="ntfs_2namei_8c.html#ad17f9e2b817c67072d09bb98eea5fff6" title="ntfs_fh_to_dentry" alt="" coords="2969,1240,3091,1267"/>
<area shape="rect" id="node17" href="ntfs_2namei_8c.html#a9439d6466934893029b39ef861d97d4e" title="ntfs_fh_to_parent" alt="" coords="2969,1291,3091,1317"/>
<area shape="rect" id="node19" href="ntfs_2inode_8h.html#aeea6b534f12d270732818f1335215630" title="ntfs_init_big_inode" alt="" coords="1179,1544,1309,1571"/>
<area shape="rect" id="node21" href="ntfs_2inode_8h.html#a5cbfd09234c5615f6dbf757587558bd3" title="ntfs_attr_iget" alt="" coords="2981,1139,3079,1165"/>
<area shape="rect" id="node23" href="ntfs_2inode_8h.html#a37b51bf418feea6397cf91df09e49802" title="ntfs_index_iget" alt="" coords="3383,1501,3493,1528"/>
<area shape="rect" id="node25" href="attrib_8c.html#aa1ca8eef91a0f2e47720a6e8fafe53c1" title="ntfs_external_attr_find" alt="" coords="1564,873,1715,900"/>
<area shape="rect" id="node26" href="attrib_8h.html#ad0fa0a5955dbd1e17a84b12d3dc3e5d2" title="ntfs_attr_lookup" alt="" coords="1763,924,1877,951"/>
<area shape="rect" id="node27" href="ntfs_2inode_8c.html#a95369e929e520667ddb68d49c9e4bde4" title="ntfs_is_extended_system_file" alt="" coords="1925,1291,2120,1317"/>
<area shape="rect" id="node30" href="ntfs_2super_8c.html#a52405ca547ba5af07b3d38d2c20d8b3c" title="ntfs_remount" alt="" coords="2781,1139,2880,1165"/>
<area shape="rect" id="node33" href="attrib_8h.html#a31d302aa72ec21e818ed6e3d464db190" title="ntfs_map_runlist" alt="" coords="2202,565,2321,592"/>
<area shape="rect" id="node42" href="attrib_8h.html#ad8696242c04d743f91c946d835ac610a" title="ntfs_attr_vcn_to_lcn\l_nolock" alt="" coords="2191,499,2331,541"/>
<area shape="rect" id="node44" href="attrib_8h.html#a937e974578d952b68aefb51cdca1a5e1" title="ntfs_attr_find_vcn\l_nolock" alt="" coords="2198,617,2325,658"/>
<area shape="rect" id="node34" href="ntfs_2aops_8c.html#a46e8a3da71b6e60c7048ef41af7a87c9" title="ntfs_read_block" alt="" coords="2423,515,2537,541"/>
<area shape="rect" id="node35" href="ntfs_8h.html#a6f4a2644da3c2e4ce52b8aa1bd836b56" title="ntfs_read_compressed\l_block" alt="" coords="2403,617,2557,658"/>
<area shape="rect" id="node36" href="ntfs_8h.html#a7bd82112df01116e1297aa8165d02ff2" title="NTFS_SB" alt="" coords="2616,1696,2699,1723"/>
<area shape="rect" id="node37" href="ntfs_2inode_8h.html#ab985cfa10772115a5f42ef4dc97ce719" title="__ntfs_init_inode" alt="" coords="2771,1544,2891,1571"/>
<area shape="rect" id="node39" href="ntfs_2super_8c.html#a58c501f669c6e38b284337e1a5fb7272" title="read_ntfs_boot_sector" alt="" coords="3363,1848,3513,1875"/>
<area shape="rect" id="node40" href="ntfs_2super_8c.html#a0f0b5a10bd9cec19fbe1f7b915c21dd0" title="ntfs_put_super" alt="" coords="2777,1696,2885,1723"/>
<area shape="rect" id="node41" href="ntfs_2super_8c.html#af3079da93586021932032559f19eb98f" title="ntfs_statfs" alt="" coords="2789,1797,2873,1824"/>
<area shape="rect" id="node38" href="ntfs_2inode_8h.html#a22bd60d25a91bd05b32ace0795fcc196" title="ntfs_new_extent_inode" alt="" coords="2952,1493,3108,1520"/>
<area shape="rect" id="node43" href="ntfs_2aops_8c.html#a6b7f721e57652e7ef4efff1484ba5c7c" title="ntfs_bmap" alt="" coords="2439,464,2521,491"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_99323eb50d8b7f308e54c5b64a386026.html">ntfs</a></li><li class="navelem"><a class="el" href="runlist_8h.html">runlist.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
