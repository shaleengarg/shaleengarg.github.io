<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>linux/fs: overlayfs/overlayfs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">linux/fs
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('overlayfs_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">overlayfs.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="overlayfs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2011 Novell Inc.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * This program is free software; you can redistribute it and/or modify it</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * under the terms of the GNU General Public License version 2 as published by</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * the Free Software Foundation.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;linux/kernel.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;linux/uuid.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ovl__entry_8h.html">ovl_entry.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485c">   14</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485c">ovl_path_type</a> {</div><div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485caf7765544b88dd9eac4fea2138c7398d8">   15</a></span>&#160;    <a class="code" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485caf7765544b88dd9eac4fea2138c7398d8">__OVL_PATH_UPPER</a>    = (1 &lt;&lt; 0),</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485ca2f5a2b0c82e891bc919fa172be07610f">   16</a></span>&#160;    <a class="code" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485ca2f5a2b0c82e891bc919fa172be07610f">__OVL_PATH_MERGE</a>    = (1 &lt;&lt; 1),</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485cafcfe41a1ae0d2a48d654e2322e7d34a4">   17</a></span>&#160;    <a class="code" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485cafcfe41a1ae0d2a48d654e2322e7d34a4">__OVL_PATH_ORIGIN</a>   = (1 &lt;&lt; 2),</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;};</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a2fe532835f4cf64a0e5174dbd9291d93">   20</a></span>&#160;<span class="preprocessor">#define OVL_TYPE_UPPER(type)    ((type) &amp; __OVL_PATH_UPPER)</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a47f790456a56dc0ddbf1378c3158a3d2">   21</a></span>&#160;<span class="preprocessor">#define OVL_TYPE_MERGE(type)    ((type) &amp; __OVL_PATH_MERGE)</span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a48ae84b1de7254b8a6cbc4eb22a73c66">   22</a></span>&#160;<span class="preprocessor">#define OVL_TYPE_ORIGIN(type)   ((type) &amp; __OVL_PATH_ORIGIN)</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a4a6b5236b2f9e5e11cd8a4d3622206bb">   24</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_PREFIX XATTR_TRUSTED_PREFIX &quot;overlay.&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a367ff30ca6397235e4a782c1e776ffb8">   25</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_OPAQUE OVL_XATTR_PREFIX &quot;opaque&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a668ad26d7eac7b0dd71afc22ef5982d7">   26</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_REDIRECT OVL_XATTR_PREFIX &quot;redirect&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#abfd960618e3413f216105d68b03da913">   27</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_ORIGIN OVL_XATTR_PREFIX &quot;origin&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a78e1f39803b08fac800e0259feb84fdb">   28</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_IMPURE OVL_XATTR_PREFIX &quot;impure&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#aa31fe7f1767d4ee94d6be26f0044469d">   29</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_NLINK OVL_XATTR_PREFIX &quot;nlink&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#abe8259c1deff941a15c707085f1cc64e">   30</a></span>&#160;<span class="preprocessor">#define OVL_XATTR_UPPER OVL_XATTR_PREFIX &quot;upper&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132">   32</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132">ovl_inode_flag</a> {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">/* Pure upper dir that may contain non pure upper entries */</span></div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a34d70571b191155f8a7ca9379e8b157c">   34</a></span>&#160;    <a class="code" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a34d70571b191155f8a7ca9379e8b157c">OVL_IMPURE</a>,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">/* Non-merge dir that may contain whiteout entries */</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a03ca2fbad2702a6081829ce073d77fc1">   36</a></span>&#160;    <a class="code" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a03ca2fbad2702a6081829ce073d77fc1">OVL_WHITEOUTS</a>,</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a39c3080b01d67f14e176e11d5c482f61">   37</a></span>&#160;    <a class="code" href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a39c3080b01d67f14e176e11d5c482f61">OVL_INDEX</a>,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;};</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950">   40</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950">ovl_entry_flag</a> {</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950a74d1d405167887e6fffab1fe4cfe609c">   41</a></span>&#160;    <a class="code" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950a74d1d405167887e6fffab1fe4cfe609c">OVL_E_UPPER_ALIAS</a>,</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950a9e22c13251acbb9e35f33cfc1318f670">   42</a></span>&#160;    <a class="code" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950a9e22c13251acbb9e35f33cfc1318f670">OVL_E_OPAQUE</a>,</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950ab5b66a8432ca315b94410673eb136c54">   43</a></span>&#160;    <a class="code" href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950ab5b66a8432ca315b94410673eb136c54">OVL_E_CONNECTED</a>,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;};</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * The tuple (fh,uuid) is a universal unique identifier for a copy up origin,</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * where:</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> * origin.fh    - exported file handle of the lower file</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * origin.uuid  - uuid of the lower filesystem</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#afe69456986eb308389555c0e6dee7b07">   52</a></span>&#160;<span class="preprocessor">#define OVL_FH_VERSION  0</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#af33fd91ffd956ecf2c80334147165432">   53</a></span>&#160;<span class="preprocessor">#define OVL_FH_MAGIC    0xfb</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/* CPU byte order required for fid decoding:  */</span></div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a25a1a6b668ad42938342571a15f15a73">   56</a></span>&#160;<span class="preprocessor">#define OVL_FH_FLAG_BIG_ENDIAN  (1 &lt;&lt; 0)</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#ad4d9cb57bbf21b3e9a32fb476f179458">   57</a></span>&#160;<span class="preprocessor">#define OVL_FH_FLAG_ANY_ENDIAN  (1 &lt;&lt; 1)</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/* Is the real inode encoded in fid an upper inode? */</span></div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a45d48b704e7ee57effa26377d0377a02">   59</a></span>&#160;<span class="preprocessor">#define OVL_FH_FLAG_PATH_UPPER  (1 &lt;&lt; 2)</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a7f2185807b0de16caea4886aed87411d">   61</a></span>&#160;<span class="preprocessor">#define OVL_FH_FLAG_ALL (OVL_FH_FLAG_BIG_ENDIAN | OVL_FH_FLAG_ANY_ENDIAN | \</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">             OVL_FH_FLAG_PATH_UPPER)</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#if defined(__LITTLE_ENDIAN)</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#define OVL_FH_FLAG_CPU_ENDIAN 0</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#elif defined(__BIG_ENDIAN)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#define OVL_FH_FLAG_CPU_ENDIAN OVL_FH_FLAG_BIG_ENDIAN</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#error Endianness not defined</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/* The type returned by overlay exportfs ops when encoding an ovl_fh handle */</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a9a044e4451df4a237963e0c15ff2f476">   73</a></span>&#160;<span class="preprocessor">#define OVL_FILEID  0xfb</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">/* On-disk and in-memeory format for redirect by file handle */</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structovl__fh.html">   76</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structovl__fh.html">ovl_fh</a> {</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structovl__fh.html#ae6eee8e233ac9207ff390e9fa19582e4">   77</a></span>&#160;    u8 <a class="code" href="structovl__fh.html#ae6eee8e233ac9207ff390e9fa19582e4">version</a>; <span class="comment">/* 0 */</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structovl__fh.html#adeeb7b418e03ab2795984070689df3bd">   78</a></span>&#160;    u8 <a class="code" href="structovl__fh.html#adeeb7b418e03ab2795984070689df3bd">magic</a>;   <span class="comment">/* 0xfb */</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structovl__fh.html#abbb7b58041ea92464bf68464d425fd85">   79</a></span>&#160;    u8 <a class="code" href="structovl__fh.html#abbb7b58041ea92464bf68464d425fd85">len</a>;     <span class="comment">/* size of this header + size of fid */</span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structovl__fh.html#a95a875b0ea6ca5db6f92b0e6f22b9e5b">   80</a></span>&#160;    u8 <a class="code" href="structovl__fh.html#a95a875b0ea6ca5db6f92b0e6f22b9e5b">flags</a>;   <span class="comment">/* OVL_FH_FLAG_* */</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structovl__fh.html#aa5279ce16fbbcc2a4c4f7f2f4787ebde">   81</a></span>&#160;    u8 <a class="code" href="structovl__fh.html#aa5279ce16fbbcc2a4c4f7f2f4787ebde">type</a>;    <span class="comment">/* fid_type of fid */</span></div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structovl__fh.html#af62b258b1c7c5aaa17364af9a867cc25">   82</a></span>&#160;    uuid_t <a class="code" href="structovl__fh.html#af62b258b1c7c5aaa17364af9a867cc25">uuid</a>;    <span class="comment">/* uuid of filesystem */</span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structovl__fh.html#ac47eaffaa30acf816f093ca83e623b6c">   83</a></span>&#160;    u8 <a class="code" href="structovl__fh.html#ac47eaffaa30acf816f093ca83e623b6c">fid</a>[0];  <span class="comment">/* file identifier */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;} <a class="code" href="overlayfs_8h.html#aaeef34d0660684f4fb5199b39f3df73a">__packed</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a88273caf9973b5986c3c63912614f7d7">   86</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a88273caf9973b5986c3c63912614f7d7">ovl_do_rmdir</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#a4542898eab94b2b59138c0d8d24d157a">vfs_rmdir</a>(dir, dentry);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    pr_debug(<span class="stringliteral">&quot;rmdir(%pd2) = %i\n&quot;</span>, dentry, err);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a98dafea7bc609c6621de48724b7d5723">   93</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a98dafea7bc609c6621de48724b7d5723">ovl_do_unlink</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#ae871c1c912fc1dd1f5d48030156fcb75">vfs_unlink</a>(dir, dentry, NULL);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    pr_debug(<span class="stringliteral">&quot;unlink(%pd2) = %i\n&quot;</span>, dentry, err);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a36f55dd6ba9636dcd54a40d264c543a8">  100</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a36f55dd6ba9636dcd54a40d264c543a8">ovl_do_link</a>(<span class="keyword">struct</span> dentry *old_dentry, <span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                  <span class="keyword">struct</span> dentry *new_dentry, <span class="keywordtype">bool</span> debug)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#a62f5e248c7f2fe1d3a481ce3aee4c1f6">vfs_link</a>(old_dentry, dir, new_dentry, NULL);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span> (debug) {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        pr_debug(<span class="stringliteral">&quot;link(%pd2, %pd2) = %i\n&quot;</span>,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;             old_dentry, new_dentry, err);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a3ce508cfc5697491d85925af1f1d5471">  111</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a3ce508cfc5697491d85925af1f1d5471">ovl_do_create</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                 umode_t mode, <span class="keywordtype">bool</span> debug)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#a8f30cea65dc772b7b4f1dac8565bd75d">vfs_create</a>(dir, dentry, mode, <span class="keyword">true</span>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (debug)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        pr_debug(<span class="stringliteral">&quot;create(%pd2, 0%o) = %i\n&quot;</span>, dentry, mode, err);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a7ddccdc1a99fbff64e13e701516e8753">  120</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a7ddccdc1a99fbff64e13e701516e8753">ovl_do_mkdir</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                   umode_t mode, <span class="keywordtype">bool</span> debug)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#ad4cfbb8a41cd778308fb16ad74a388c0">vfs_mkdir</a>(dir, dentry, mode);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> (debug)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        pr_debug(<span class="stringliteral">&quot;mkdir(%pd2, 0%o) = %i\n&quot;</span>, dentry, mode, err);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a97c772b6cf5c01cdaef0cf647954ef31">  129</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a97c772b6cf5c01cdaef0cf647954ef31">ovl_do_mknod</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry,</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                   umode_t mode, dev_t dev, <span class="keywordtype">bool</span> debug)</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#a2f88ef13410a9c16358395e5878c8026">vfs_mknod</a>(dir, dentry, mode, dev);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">if</span> (debug) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        pr_debug(<span class="stringliteral">&quot;mknod(%pd2, 0%o, 0%o) = %i\n&quot;</span>,</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;             dentry, mode, dev, err);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a9b4c9fdf87a6379fb8dfd1cf2bd264e9">  140</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a9b4c9fdf87a6379fb8dfd1cf2bd264e9">ovl_do_symlink</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">char</span> *oldname, <span class="keywordtype">bool</span> debug)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#a79b58b8a0e914e165293e0c52333661f">vfs_symlink</a>(dir, dentry, oldname);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (debug)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        pr_debug(<span class="stringliteral">&quot;symlink(\&quot;%s\&quot;, %pd2) = %i\n&quot;</span>, oldname, dentry, err);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#aecf810cb7bfd277499b582e41df459d3">  149</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#aecf810cb7bfd277499b582e41df459d3">ovl_do_setxattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                  <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>, <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="xattr_8c.html#aacf8951d1f69bddb047339b65c6c804c">vfs_setxattr</a>(dentry, name, value, size, flags);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    pr_debug(<span class="stringliteral">&quot;setxattr(%pd2, \&quot;%s\&quot;, \&quot;%*s\&quot;, 0x%x) = %i\n&quot;</span>,</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;         dentry, name, (<span class="keywordtype">int</span>) size, (<span class="keywordtype">char</span> *) value, flags, err);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a93feaba481f68e652ecc4d5ecf2c60e7">  158</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a93feaba481f68e652ecc4d5ecf2c60e7">ovl_do_removexattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="xattr_8c.html#af224f9d8e006ff39a61891752c98c173">vfs_removexattr</a>(dentry, name);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    pr_debug(<span class="stringliteral">&quot;removexattr(%pd2, \&quot;%s\&quot;) = %i\n&quot;</span>, dentry, name, err);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#af0e1530f6750ea990a3edb89544362ef">  165</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#af0e1530f6750ea990a3edb89544362ef">ovl_do_rename</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *olddir, <span class="keyword">struct</span> dentry *olddentry,</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *newdir, <span class="keyword">struct</span> dentry *newdentry,</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordtype">int</span> err;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    pr_debug(<span class="stringliteral">&quot;rename(%pd2, %pd2, 0x%x)\n&quot;</span>,</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;         olddentry, newdentry, flags);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    err = <a class="code" href="namei_8c.html#a97bf60d34ae53bc806034a7d0ebdb096">vfs_rename</a>(olddir, olddentry, newdir, newdentry, NULL, flags);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (err) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        pr_debug(<span class="stringliteral">&quot;...rename(%pd2, %pd2, ...) = %i\n&quot;</span>,</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;             olddentry, newdentry, err);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a59211bdb178def858c71c476acb896a9">  183</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a59211bdb178def858c71c476acb896a9">ovl_do_whiteout</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *dir, <span class="keyword">struct</span> dentry *dentry)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="namei_8c.html#a22a168f014dbbd8d4d48a7ea66c774a6">vfs_whiteout</a>(dir, dentry);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    pr_debug(<span class="stringliteral">&quot;whiteout(%pd2) = %i\n&quot;</span>, dentry, err);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a037aa95d3c81b1cd4ea2f09481354968">  190</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a037aa95d3c81b1cd4ea2f09481354968">ovl_do_tmpfile</a>(<span class="keyword">struct</span> dentry *dentry, umode_t mode)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">struct </span>dentry *ret = <a class="code" href="namei_8c.html#aba074104881cd80cd95a5d4beb98aa54">vfs_tmpfile</a>(dentry, mode, 0);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> err = PTR_ERR_OR_ZERO(ret);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    pr_debug(<span class="stringliteral">&quot;tmpfile(%pd2, 0%o) = %i\n&quot;</span>, dentry, mode, err);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/* util.c */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#ab898b4b2fbb9209a696348124e6ab945">ovl_want_write</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a0afde67b9edf1c640ee8842f3c81cf69">ovl_drop_write</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#ac5155dad6dfb7523c8541952fd7ccb3f">ovl_workdir</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">const</span> <span class="keyword">struct </span>cred *<a class="code" href="overlayfs_8h.html#a4c3b9b84d771b85615908b08b65189b1">ovl_override_creds</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a>);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword">struct </span><a class="code" href="structsuper__block.html">super_block</a> *<a class="code" href="overlayfs_8h.html#a75666ff5f4af8a01620dae2930b7e4dc">ovl_same_sb</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a0e6fe3b65468e946fa9bade49312d8c4">ovl_can_decode_fh</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a0a34bfab814f006048db4d26facb70d4">ovl_indexdir</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a33056389c0170c5e885de53310b7b524">ovl_index_all</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a71af1fcf0546d9204f1d0a38a4e0ead6">ovl_verify_lower</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword">struct </span><a class="code" href="structovl__entry.html">ovl_entry</a> *<a class="code" href="overlayfs_8h.html#a9057f794e1fc78b342e8a6b491754283">ovl_alloc_entry</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structovl__entry.html#aad18083781899eea4eb1bf81d8dff093">numlower</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a4779b22d0e5d38b5154a290a71757684">ovl_dentry_remote</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a2b1ff2f5cc8db730996648a7fde7e485">ovl_dentry_weird</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keyword">enum</span> <a class="code" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485c">ovl_path_type</a> <a class="code" href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485c">ovl_path_type</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a69519f98894bbeb266247fd6ad499ea7">ovl_path_upper</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> path *path);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a50186b79e0179298f8fba38d3acf6616">ovl_path_lower</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> path *path);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="keyword">enum</span> ovl_path_type <a class="code" href="overlayfs_8h.html#a424032e7a07ee3d9d1bfe09ad010d53c">ovl_path_real</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> path *path);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a25a8881c373a94c936cb407f5e8a25b5">ovl_dentry_upper</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#acb00c5e0320ec4e1a0a5876fd8ee022d">ovl_dentry_lower</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keyword">struct </span><a class="code" href="structovl__layer.html">ovl_layer</a> *<a class="code" href="overlayfs_8h.html#aa0ef5ae3ad7aab03701e7a66b36424e1">ovl_layer_lower</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a2e7c4d358a8d732ec1c9b1b15e8810a1">ovl_dentry_real</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a38243e92def0d1be9ef38f96410056f1">ovl_i_dentry_upper</a>(<span class="keyword">struct</span> <a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a> *<a class="code" href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="overlayfs_8h.html#a174d85f8805c2c5bd81ea955c88d2034">ovl_inode_upper</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="overlayfs_8h.html#a47807b579160baa4e0108ae387d6cdb9">ovl_inode_lower</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="overlayfs_8h.html#a35c76e5f006e6f4acab8ec564f37e638">ovl_inode_real</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keyword">struct </span><a class="code" href="structovl__dir__cache.html">ovl_dir_cache</a> *<a class="code" href="overlayfs_8h.html#a1f8cadb66dba03e5ff4ce18a637073e4">ovl_dir_cache</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a827f9f1a9885e041a25c07761d4e80d1">ovl_set_dir_cache</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> ovl_dir_cache *cache);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a7509f123040f56860e3e31ab3ff6d096">ovl_dentry_set_flag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flag, <span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a77c7099947d43f291902434373657256">ovl_dentry_clear_flag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flag, <span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a17f5a558909494b683a8c7b106fad85c">ovl_dentry_test_flag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flag, <span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#ac45a0b729e9a134c262231f1e7683563">ovl_dentry_is_opaque</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a3d3831cb904217ff3cf43c13fc3ff619">ovl_dentry_is_whiteout</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a0a42997bcd4a2da61b1ac28387661e93">ovl_dentry_set_opaque</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a211b7f03159705899ae06643e82884c9">ovl_dentry_has_upper_alias</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#acb45d188968944c27a5ea3603a9ec047">ovl_dentry_set_upper_alias</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#aa8b9555cc281c982278e8bd71648a82a">ovl_redirect_dir</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="overlayfs_8h.html#a97698616b21d0f9ded19d881c43739ea">ovl_dentry_get_redirect</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a2868c9545099b14cfd4c41d0bb906b8f">ovl_dentry_set_redirect</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">const</span> <span class="keywordtype">char</span> *redirect);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a6737f6726246d63b81c5ef1f300f8363">ovl_inode_init</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> dentry *upperdentry,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keyword">struct</span> dentry *lowerdentry);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a3a805191353522b2b065ba2401bb6256">ovl_inode_update</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> dentry *upperdentry);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a6dde2e6a47feb117605f726b6c6cdd9d">ovl_dentry_version_inc</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">bool</span> impurity);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;u64 <a class="code" href="overlayfs_8h.html#a68c8ba258e7cdcab2e8bf7df055261c0">ovl_dentry_version_get</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a4d233ce62ca8f0a185c34f20c875be0f">ovl_is_whiteout</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keyword">struct </span>file *<a class="code" href="overlayfs_8h.html#ac6ee4b48c1d44d7a1dbbdcab119bb0d1">ovl_path_open</a>(<span class="keyword">struct</span> path *path, <span class="keywordtype">int</span> <a class="code" href="structflags.html">flags</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a6498d6f3c222e875028750faf6cc982e">ovl_copy_up_start</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#aa496428446f54bb823915f08baab4c64">ovl_copy_up_end</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#ac1de3686c324f624d456e5d0a6d983a7">ovl_check_origin_xattr</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a08632a1cfcb0b334c7ffee0f1ec3d137">ovl_check_dir_xattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#ae912857eb23242a078969aa90ba21699">ovl_check_setxattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> dentry *upperdentry,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;               <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">size_t</span> <a class="code" href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a>,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;               <span class="keywordtype">int</span> xerr);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#aeb135396a9032cca9c3c19a1e61735e9">ovl_set_impure</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> dentry *upperdentry);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#ab7b75d63226c24ba724057472dda4403">ovl_set_flag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flag, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#afbbdd058b4fbdc8d4e0280bb8e8ffbb1">ovl_clear_flag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flag, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#af99238fcac7cea10d8b08da07e13ec7a">ovl_test_flag</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> flag, <span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a653130328a9fe4c410b2b5a25885350d">ovl_inuse_trylock</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a76e332d05ba9f4ab82e4e2388b59073c">ovl_inuse_unlock</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a05b334d0f03c0ab408cef2304359f1c3">ovl_need_index</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a76a34fab2e5534ff22f53a929b91e38f">ovl_nlink_start</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">bool</span> *locked);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a883bfcc4e45192091a40ab8604bfcce3">ovl_nlink_end</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">bool</span> locked);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#af6683b7b66e1e7979efcae1d234345d0">ovl_lock_rename_workdir</a>(<span class="keyword">struct</span> dentry *workdir, <span class="keyword">struct</span> dentry *upperdir);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a53b66c0ab20880890041b7bfa6932afb">  262</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#a53b66c0ab20880890041b7bfa6932afb">ovl_is_impuredir</a>(<span class="keyword">struct</span> dentry *dentry)</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;{</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="overlayfs_8h.html#a08632a1cfcb0b334c7ffee0f1ec3d137">ovl_check_dir_xattr</a>(dentry, <a class="code" href="overlayfs_8h.html#a78e1f39803b08fac800e0259feb84fdb">OVL_XATTR_IMPURE</a>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#aa3c7b7299d57eb247167f7d4696f4538">  267</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#aa3c7b7299d57eb247167f7d4696f4538">ovl_xino_bits</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">struct </span><a class="code" href="structovl__fs.html">ovl_fs</a> *ofs = sb-&gt;s_fs_info;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">return</span> ofs-&gt;<a class="code" href="structovl__fs.html#ac94c9596d627977079d2c016a1b6034b">xino_bits</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/* namei.c */</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#affa879ce182e467d28bacd8eb69be5c7">ovl_check_fh_len</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fh.html">ovl_fh</a> *fh, <span class="keywordtype">int</span> fh_len);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a3cdf24a9c54a3743a5d6b25c15a71826">ovl_decode_real_fh</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fh.html">ovl_fh</a> *fh, <span class="keyword">struct</span> vfsmount *mnt,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                  <span class="keywordtype">bool</span> connected);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a6cf28fbd36507caf2225c944675fae89">ovl_check_origin_fh</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fs.html">ovl_fs</a> *ofs, <span class="keyword">struct</span> <a class="code" href="structovl__fh.html">ovl_fh</a> *fh, <span class="keywordtype">bool</span> connected,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="keyword">struct</span> dentry *upperdentry, <span class="keyword">struct</span> <a class="code" href="structovl__path.html">ovl_path</a> **stackp);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#aae26939d358220bcfbe7bd105fca701f">ovl_verify_set_fh</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;              <span class="keyword">struct</span> dentry *real, <span class="keywordtype">bool</span> is_upper, <span class="keywordtype">bool</span> <span class="keyword">set</span>);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#ae402bd8270212f1d1f73d0d0d357eda6">ovl_index_upper</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fs.html">ovl_fs</a> *ofs, <span class="keyword">struct</span> dentry *<a class="code" href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a490475e7ee723d6cb1a23c3d13191af2">ovl_verify_index</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fs.html">ovl_fs</a> *ofs, <span class="keyword">struct</span> dentry *index);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a16f8d05d4ece8c66e692b811913bb2f8">ovl_get_index_name</a>(<span class="keyword">struct</span> dentry *origin, <span class="keyword">struct</span> qstr *name);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a3a6b544719322f097a1fb4ba2ad998d1">ovl_get_index_fh</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fs.html">ovl_fs</a> *ofs, <span class="keyword">struct</span> <a class="code" href="structovl__fh.html">ovl_fh</a> *fh);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a60b031958664f1993757f1a55c28234d">ovl_lookup_index</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fs.html">ovl_fs</a> *ofs, <span class="keyword">struct</span> dentry *upper,</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keyword">struct</span> dentry *origin, <span class="keywordtype">bool</span> verify);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a5c0a3d75bc6bbbebf83884be9dcabc49">ovl_path_next</a>(<span class="keywordtype">int</span> idx, <span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> path *path);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#a685ee66fca1c1a8d5dc096a1679309bd">ovl_lookup</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> dentry *dentry,</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;              <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#ad3aa01171ffc43060401667cef309fba">ovl_lower_positive</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#a154f602fa03b0fdb6dee36cc56552390">  294</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a154f602fa03b0fdb6dee36cc56552390">ovl_verify_origin</a>(<span class="keyword">struct</span> dentry *upper,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                    <span class="keyword">struct</span> dentry *origin, <span class="keywordtype">bool</span> <span class="keyword">set</span>)</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="overlayfs_8h.html#aae26939d358220bcfbe7bd105fca701f">ovl_verify_set_fh</a>(upper, <a class="code" href="overlayfs_8h.html#abfd960618e3413f216105d68b03da913">OVL_XATTR_ORIGIN</a>, origin, <span class="keyword">false</span>, <span class="keyword">set</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#ac3832b9fe449d76538be25b25a22ee57">  300</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#ac3832b9fe449d76538be25b25a22ee57">ovl_verify_upper</a>(<span class="keyword">struct</span> dentry *index,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    <span class="keyword">struct</span> dentry *upper, <span class="keywordtype">bool</span> <span class="keyword">set</span>)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="overlayfs_8h.html#aae26939d358220bcfbe7bd105fca701f">ovl_verify_set_fh</a>(index, <a class="code" href="overlayfs_8h.html#abe8259c1deff941a15c707085f1cc64e">OVL_XATTR_UPPER</a>, upper, <span class="keyword">true</span>, <span class="keyword">set</span>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">/* readdir.c */</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>file_operations ovl_dir_operations;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a716dd2c0cd36f745baa00be1c2e42ba9">ovl_check_empty_dir</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> list_head *<a class="code" href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a>);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#aae954833b5826a2e3ac6b2e141455d21">ovl_cleanup_whiteouts</a>(<span class="keyword">struct</span> dentry *upper, <span class="keyword">struct</span> list_head *list);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a09047d75a45b54af4e1ade553c473bd3">ovl_cache_free</a>(<span class="keyword">struct</span> list_head *list);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#ab7690c852b3580cd2046fe8412a43725">ovl_dir_cache_free</a>(<span class="keyword">struct</span> inode *inode);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a0c252b2904904d6baabdf045592e6ae4">ovl_check_d_type_supported</a>(<span class="keyword">struct</span> path *realpath);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#a821d23f7a7e4bfa89e8ee76b5cf018c1">ovl_workdir_cleanup</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> vfsmount *mnt,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;             <span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">int</span> <a class="code" href="ctree_8h.html#a07f45a3c5ac818042e4818e9b430f05c">level</a>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#aa6e366d27f2edd66fe5e6812542ca6a7">ovl_indexdir_cleanup</a>(<span class="keyword">struct</span> <a class="code" href="structovl__fs.html">ovl_fs</a> *ofs);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">/* inode.c */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a770007691e2ed1fe019bb4cb259897b0">ovl_set_nlink_upper</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a8e22a01971043b00a22e181d84290f09">ovl_set_nlink_lower</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a98da17a212c421d94c737eebab87ff64">ovl_get_nlink</a>(<span class="keyword">struct</span> dentry *lowerdentry,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;               <span class="keyword">struct</span> dentry *upperdentry,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;               <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> fallback);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#ab6b248e27cd8817aed224c028e703b61">ovl_setattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> iattr *<a class="code" href="cifspdu_8h.html#a254afd421351a8d5ceee95b4084d9291">attr</a>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a8da76cc3068f3847ee603c7c38e7d3ad">ovl_getattr</a>(<span class="keyword">const</span> <span class="keyword">struct</span> path *path, <span class="keyword">struct</span> kstat *<a class="code" href="nfs2xdr_8c.html#a7d6f8a25e94209bd3ba29b2051ca4f08">stat</a>,</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        u32 request_mask, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a5baa880aa1f41162bd55e2754a597eee">ovl_permission</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> <a class="code" href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a20753c2994b17cbaddd67de4981dd61b">ovl_xattr_set</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> inode *inode, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">void</span> *value, <span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#accbd64f27cfaca516f81f99f13a93cfd">ovl_xattr_get</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> inode *inode, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          <span class="keywordtype">void</span> *value, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;ssize_t <a class="code" href="overlayfs_8h.html#a797307aa502396575810009ff7493d67">ovl_listxattr</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">char</span> *list, <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keyword">struct </span>posix_acl *<a class="code" href="overlayfs_8h.html#ac2189109f070cb76feff2e5a6dcc381b">ovl_get_acl</a>(<span class="keyword">struct</span> inode *inode, <span class="keywordtype">int</span> <a class="code" href="structovl__fh.html#aa5279ce16fbbcc2a4c4f7f2f4787ebde">type</a>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a757b53420921e8a08d74a43d9cb48e6e">ovl_open_maybe_copy_up</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> file_flags);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a93db1b3f289de5f0573e6efe5c937a1f">ovl_update_time</a>(<span class="keyword">struct</span> inode *inode, <span class="keyword">struct</span> timespec *ts, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="overlayfs_8h.html#af5ebc63918eeb6b1490a7f40b9efbd98">ovl_is_private_xattr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="overlayfs_8h.html#a071e492fed6f97c1db6c897bd4aeee93">ovl_new_inode</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb, umode_t mode, dev_t rdev);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="overlayfs_8h.html#aec8c828adcf22f7a1657307d4488c19d">ovl_lookup_inode</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb, <span class="keyword">struct</span> dentry *real,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                   <span class="keywordtype">bool</span> is_upper);</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="keyword">struct </span>inode *<a class="code" href="overlayfs_8h.html#a51955caefce56a3f41f8ec83337d9de8">ovl_get_inode</a>(<span class="keyword">struct</span> <a class="code" href="structsuper__block.html">super_block</a> *sb, <span class="keyword">struct</span> dentry *upperdentry,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                <span class="keyword">struct</span> <a class="code" href="structovl__path.html">ovl_path</a> *lowerpath, <span class="keyword">struct</span> dentry *index,</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numlower);</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="overlayfs_8h.html#ab190c067390065ff5e1e13fcdc93233e">  343</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="overlayfs_8h.html#ab190c067390065ff5e1e13fcdc93233e">ovl_copyattr</a>(<span class="keyword">struct</span> inode *from, <span class="keyword">struct</span> inode *to)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;{</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    to-&gt;i_uid = from-&gt;i_uid;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    to-&gt;i_gid = from-&gt;i_gid;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    to-&gt;i_mode = from-&gt;i_mode;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    to-&gt;i_atime = from-&gt;i_atime;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    to-&gt;i_mtime = from-&gt;i_mtime;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    to-&gt;i_ctime = from-&gt;i_ctime;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">/* dir.c */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>inode_operations ovl_dir_inode_operations;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="keyword">struct </span>dentry *<a class="code" href="overlayfs_8h.html#ab92eb359986b8d1d62179c550f746759">ovl_lookup_temp</a>(<span class="keyword">struct</span> dentry *workdir);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#aeb43afe07af3ebfbc5624b54189824fb">ovl_cleanup_and_whiteout</a>(<span class="keyword">struct</span> dentry *workdir, <span class="keyword">struct</span> inode *dir,</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                 <span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="structcattr.html">  358</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcattr.html">cattr</a> {</div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="structcattr.html#a46b519591938be4cd2e4aebb74756a90">  359</a></span>&#160;    dev_t <a class="code" href="structcattr.html#a46b519591938be4cd2e4aebb74756a90">rdev</a>;</div><div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="structcattr.html#a3f1905d0c0810ac06d84f347d145b873">  360</a></span>&#160;    umode_t <a class="code" href="structcattr.html#a3f1905d0c0810ac06d84f347d145b873">mode</a>;</div><div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="structcattr.html#a793531653cef39509a09f50cf0213c18">  361</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structcattr.html#a793531653cef39509a09f50cf0213c18">link</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;};</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a4a4bc67b27f4318c2aadfa0c5426472b">ovl_create_real</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> dentry *newdentry,</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keyword">struct</span> <a class="code" href="structcattr.html">cattr</a> *attr,</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keyword">struct</span> dentry *hardlink, <span class="keywordtype">bool</span> debug);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a34a137958a69ac21434dfd9b09667c5e">ovl_cleanup</a>(<span class="keyword">struct</span> inode *dir, <span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">/* copy_up.c */</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a849271282093f3f9500ac7d4dbd00b33">ovl_copy_up</a>(<span class="keyword">struct</span> dentry *dentry);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a234d42f9d628fe69ede8bd6e9bd4c0c9">ovl_copy_up_flags</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keywordtype">int</span> flags);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a24019e9cd4a1de66211f63f631729427">ovl_copy_xattr</a>(<span class="keyword">struct</span> dentry *old, <span class="keyword">struct</span> dentry *<span class="keyword">new</span>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a0c22f7a66207bd1b2943d625a8646fe7">ovl_set_attr</a>(<span class="keyword">struct</span> dentry *upper, <span class="keyword">struct</span> kstat *stat);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keyword">struct </span><a class="code" href="structovl__fh.html">ovl_fh</a> *<a class="code" href="overlayfs_8h.html#ac04333d123af6120359ab2b5a9608e88">ovl_encode_real_fh</a>(<span class="keyword">struct</span> dentry *real, <span class="keywordtype">bool</span> is_upper);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="keywordtype">int</span> <a class="code" href="overlayfs_8h.html#a3f7c1c3707c4448a81e6a8012284e08b">ovl_set_origin</a>(<span class="keyword">struct</span> dentry *dentry, <span class="keyword">struct</span> dentry *lower,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;           <span class="keyword">struct</span> dentry *upper);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">/* export.c */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">struct </span>export_operations <a class="code" href="overlayfs_8h.html#a2fc965b681d7ffdde192760b06cb8d8c">ovl_export_operations</a>;</div><div class="ttc" id="overlayfs_8h_html_a0afde67b9edf1c640ee8842f3c81cf69"><div class="ttname"><a href="overlayfs_8h.html#a0afde67b9edf1c640ee8842f3c81cf69">ovl_drop_write</a></div><div class="ttdeci">void ovl_drop_write(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:27</div></div>
<div class="ttc" id="overlayfs_8h_html_aeb135396a9032cca9c3c19a1e61735e9"><div class="ttname"><a href="overlayfs_8h.html#aeb135396a9032cca9c3c19a1e61735e9">ovl_set_impure</a></div><div class="ttdeci">int ovl_set_impure(struct dentry *dentry, struct dentry *upperdentry)</div><div class="ttdef"><b>Definition:</b> util.c:439</div></div>
<div class="ttc" id="cifspdu_8h_html_a254afd421351a8d5ceee95b4084d9291"><div class="ttname"><a href="cifspdu_8h.html#a254afd421351a8d5ceee95b4084d9291">attr</a></div><div class="ttdeci">__le16 attr</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="overlayfs_8h_html_a98dafea7bc609c6621de48724b7d5723"><div class="ttname"><a href="overlayfs_8h.html#a98dafea7bc609c6621de48724b7d5723">ovl_do_unlink</a></div><div class="ttdeci">static int ovl_do_unlink(struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:93</div></div>
<div class="ttc" id="cifspdu_8h_html_a12b1ee8c5efcba4a2341cc1d49f58b71"><div class="ttname"><a href="cifspdu_8h.html#a12b1ee8c5efcba4a2341cc1d49f58b71">mask</a></div><div class="ttdeci">__u32 mask</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="overlayfs_8h_html_af8c694c7b0d4ea1bbb8de51ce1eb485c"><div class="ttname"><a href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485c">ovl_path_type</a></div><div class="ttdeci">ovl_path_type</div><div class="ttdef"><b>Definition:</b> overlayfs.h:14</div></div>
<div class="ttc" id="overlayfs_8h_html_a09047d75a45b54af4e1ade553c473bd3"><div class="ttname"><a href="overlayfs_8h.html#a09047d75a45b54af4e1ade553c473bd3">ovl_cache_free</a></div><div class="ttdeci">void ovl_cache_free(struct list_head *list)</div><div class="ttdef"><b>Definition:</b> readdir.c:220</div></div>
<div class="ttc" id="overlayfs_8h_html_ae912857eb23242a078969aa90ba21699"><div class="ttname"><a href="overlayfs_8h.html#ae912857eb23242a078969aa90ba21699">ovl_check_setxattr</a></div><div class="ttdeci">int ovl_check_setxattr(struct dentry *dentry, struct dentry *upperdentry, const char *name, const void *value, size_t size, int xerr)</div><div class="ttdef"><b>Definition:</b> util.c:418</div></div>
<div class="ttc" id="overlayfs_8h_html_aecf810cb7bfd277499b582e41df459d3"><div class="ttname"><a href="overlayfs_8h.html#aecf810cb7bfd277499b582e41df459d3">ovl_do_setxattr</a></div><div class="ttdeci">static int ovl_do_setxattr(struct dentry *dentry, const char *name, const void *value, size_t size, int flags)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:149</div></div>
<div class="ttc" id="overlayfs_8h_html_a60b031958664f1993757f1a55c28234d"><div class="ttname"><a href="overlayfs_8h.html#a60b031958664f1993757f1a55c28234d">ovl_lookup_index</a></div><div class="ttdeci">struct dentry * ovl_lookup_index(struct ovl_fs *ofs, struct dentry *upper, struct dentry *origin, bool verify)</div><div class="ttdef"><b>Definition:</b> namei.c:688</div></div>
<div class="ttc" id="structovl__fh_html_aa5279ce16fbbcc2a4c4f7f2f4787ebde"><div class="ttname"><a href="structovl__fh.html#aa5279ce16fbbcc2a4c4f7f2f4787ebde">ovl_fh::type</a></div><div class="ttdeci">u8 type</div><div class="ttdef"><b>Definition:</b> overlayfs.h:81</div></div>
<div class="ttc" id="namei_8c_html_a62f5e248c7f2fe1d3a481ce3aee4c1f6"><div class="ttname"><a href="namei_8c.html#a62f5e248c7f2fe1d3a481ce3aee4c1f6">vfs_link</a></div><div class="ttdeci">int vfs_link(struct dentry *old_dentry, struct inode *dir, struct dentry *new_dentry, struct inode **delegated_inode)</div><div class="ttdef"><b>Definition:</b> namei.c:4174</div></div>
<div class="ttc" id="structcattr_html_a793531653cef39509a09f50cf0213c18"><div class="ttname"><a href="structcattr.html#a793531653cef39509a09f50cf0213c18">cattr::link</a></div><div class="ttdeci">const char * link</div><div class="ttdef"><b>Definition:</b> overlayfs.h:361</div></div>
<div class="ttc" id="overlayfs_8h_html_a770007691e2ed1fe019bb4cb259897b0"><div class="ttname"><a href="overlayfs_8h.html#a770007691e2ed1fe019bb4cb259897b0">ovl_set_nlink_upper</a></div><div class="ttdeci">int ovl_set_nlink_upper(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> inode.c:592</div></div>
<div class="ttc" id="structovl__fs_html"><div class="ttname"><a href="structovl__fs.html">ovl_fs</a></div><div class="ttdef"><b>Definition:</b> ovl_entry.h:44</div></div>
<div class="ttc" id="overlayfs_8h_html_ac45a0b729e9a134c262231f1e7683563"><div class="ttname"><a href="overlayfs_8h.html#ac45a0b729e9a134c262231f1e7683563">ovl_dentry_is_opaque</a></div><div class="ttdeci">bool ovl_dentry_is_opaque(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:251</div></div>
<div class="ttc" id="overlayfs_8h_html_a36f55dd6ba9636dcd54a40d264c543a8"><div class="ttname"><a href="overlayfs_8h.html#a36f55dd6ba9636dcd54a40d264c543a8">ovl_do_link</a></div><div class="ttdeci">static int ovl_do_link(struct dentry *old_dentry, struct inode *dir, struct dentry *new_dentry, bool debug)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:100</div></div>
<div class="ttc" id="overlayfs_8h_html_a59211bdb178def858c71c476acb896a9"><div class="ttname"><a href="overlayfs_8h.html#a59211bdb178def858c71c476acb896a9">ovl_do_whiteout</a></div><div class="ttdeci">static int ovl_do_whiteout(struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:183</div></div>
<div class="ttc" id="overlayfs_8h_html_a6498d6f3c222e875028750faf6cc982e"><div class="ttname"><a href="overlayfs_8h.html#a6498d6f3c222e875028750faf6cc982e">ovl_copy_up_start</a></div><div class="ttdeci">int ovl_copy_up_start(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:371</div></div>
<div class="ttc" id="overlayfs_8h_html_a16f8d05d4ece8c66e692b811913bb2f8"><div class="ttname"><a href="overlayfs_8h.html#a16f8d05d4ece8c66e692b811913bb2f8">ovl_get_index_name</a></div><div class="ttdeci">int ovl_get_index_name(struct dentry *origin, struct qstr *name)</div><div class="ttdef"><b>Definition:</b> namei.c:641</div></div>
<div class="ttc" id="namei_8c_html_a4542898eab94b2b59138c0d8d24d157a"><div class="ttname"><a href="namei_8c.html#a4542898eab94b2b59138c0d8d24d157a">vfs_rmdir</a></div><div class="ttdeci">int vfs_rmdir(struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> namei.c:3838</div></div>
<div class="ttc" id="overlayfs_8h_html_a1f8cadb66dba03e5ff4ce18a637073e4"><div class="ttname"><a href="overlayfs_8h.html#a1f8cadb66dba03e5ff4ce18a637073e4">ovl_dir_cache</a></div><div class="ttdeci">struct ovl_dir_cache * ovl_dir_cache(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:226</div></div>
<div class="ttc" id="overlayfs_8h_html_a93db1b3f289de5f0573e6efe5c937a1f"><div class="ttname"><a href="overlayfs_8h.html#a93db1b3f289de5f0573e6efe5c937a1f">ovl_update_time</a></div><div class="ttdeci">int ovl_update_time(struct inode *inode, struct timespec *ts, int flags)</div><div class="ttdef"><b>Definition:</b> inode.c:419</div></div>
<div class="ttc" id="overlayfs_8h_html_aa496428446f54bb823915f08baab4c64"><div class="ttname"><a href="overlayfs_8h.html#aa496428446f54bb823915f08baab4c64">ovl_copy_up_end</a></div><div class="ttdeci">void ovl_copy_up_end(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:385</div></div>
<div class="ttc" id="overlayfs_8h_html_a93feaba481f68e652ecc4d5ecf2c60e7"><div class="ttname"><a href="overlayfs_8h.html#a93feaba481f68e652ecc4d5ecf2c60e7">ovl_do_removexattr</a></div><div class="ttdeci">static int ovl_do_removexattr(struct dentry *dentry, const char *name)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:158</div></div>
<div class="ttc" id="overlayfs_8h_html_a037aa95d3c81b1cd4ea2f09481354968"><div class="ttname"><a href="overlayfs_8h.html#a037aa95d3c81b1cd4ea2f09481354968">ovl_do_tmpfile</a></div><div class="ttdeci">static struct dentry * ovl_do_tmpfile(struct dentry *dentry, umode_t mode)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:190</div></div>
<div class="ttc" id="overlayfs_8h_html_a6cf28fbd36507caf2225c944675fae89"><div class="ttname"><a href="overlayfs_8h.html#a6cf28fbd36507caf2225c944675fae89">ovl_check_origin_fh</a></div><div class="ttdeci">int ovl_check_origin_fh(struct ovl_fs *ofs, struct ovl_fh *fh, bool connected, struct dentry *upperdentry, struct ovl_path **stackp)</div><div class="ttdef"><b>Definition:</b> namei.c:336</div></div>
<div class="ttc" id="overlayfs_8h_html_a3a805191353522b2b065ba2401bb6256"><div class="ttname"><a href="overlayfs_8h.html#a3a805191353522b2b065ba2401bb6256">ovl_inode_update</a></div><div class="ttdeci">void ovl_inode_update(struct inode *inode, struct dentry *upperdentry)</div><div class="ttdef"><b>Definition:</b> util.c:317</div></div>
<div class="ttc" id="overlayfs_8h_html_a98da17a212c421d94c737eebab87ff64"><div class="ttname"><a href="overlayfs_8h.html#a98da17a212c421d94c737eebab87ff64">ovl_get_nlink</a></div><div class="ttdeci">unsigned int ovl_get_nlink(struct dentry *lowerdentry, struct dentry *upperdentry, unsigned int fallback)</div><div class="ttdef"><b>Definition:</b> inode.c:602</div></div>
<div class="ttc" id="structovl__layer_html"><div class="ttname"><a href="structovl__layer.html">ovl_layer</a></div><div class="ttdef"><b>Definition:</b> ovl_entry.h:29</div></div>
<div class="ttc" id="structsuper__block_html"><div class="ttname"><a href="structsuper__block.html">super_block</a></div><div class="ttdef"><b>Definition:</b> ubifs.h:968</div></div>
<div class="ttc" id="overlayfs_8h_html_a3cdf24a9c54a3743a5d6b25c15a71826"><div class="ttname"><a href="overlayfs_8h.html#a3cdf24a9c54a3743a5d6b25c15a71826">ovl_decode_real_fh</a></div><div class="ttdeci">struct dentry * ovl_decode_real_fh(struct ovl_fh *fh, struct vfsmount *mnt, bool connected)</div><div class="ttdef"><b>Definition:</b> namei.c:183</div></div>
<div class="ttc" id="overlayfs_8h_html_a25a8881c373a94c936cb407f5e8a25b5"><div class="ttname"><a href="overlayfs_8h.html#a25a8881c373a94c936cb407f5e8a25b5">ovl_dentry_upper</a></div><div class="ttdeci">struct dentry * ovl_dentry_upper(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:179</div></div>
<div class="ttc" id="overlayfs_8h_html_a69519f98894bbeb266247fd6ad499ea7"><div class="ttname"><a href="overlayfs_8h.html#a69519f98894bbeb266247fd6ad499ea7">ovl_path_upper</a></div><div class="ttdeci">void ovl_path_upper(struct dentry *dentry, struct path *path)</div><div class="ttdef"><b>Definition:</b> util.c:147</div></div>
<div class="ttc" id="structovl__fh_html"><div class="ttname"><a href="structovl__fh.html">ovl_fh</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:76</div></div>
<div class="ttc" id="overlayfs_8h_html_a33056389c0170c5e885de53310b7b524"><div class="ttname"><a href="overlayfs_8h.html#a33056389c0170c5e885de53310b7b524">ovl_index_all</a></div><div class="ttdeci">bool ovl_index_all(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:83</div></div>
<div class="ttc" id="overlayfs_8h_html_a827f9f1a9885e041a25c07761d4e80d1"><div class="ttname"><a href="overlayfs_8h.html#a827f9f1a9885e041a25c07761d4e80d1">ovl_set_dir_cache</a></div><div class="ttdeci">void ovl_set_dir_cache(struct inode *inode, struct ovl_dir_cache *cache)</div><div class="ttdef"><b>Definition:</b> util.c:231</div></div>
<div class="ttc" id="overlayfs_8h_html_a6737f6726246d63b81c5ef1f300f8363"><div class="ttname"><a href="overlayfs_8h.html#a6737f6726246d63b81c5ef1f300f8363">ovl_inode_init</a></div><div class="ttdeci">void ovl_inode_init(struct inode *inode, struct dentry *upperdentry, struct dentry *lowerdentry)</div><div class="ttdef"><b>Definition:</b> util.c:302</div></div>
<div class="ttc" id="namei_8c_html_a2f88ef13410a9c16358395e5878c8026"><div class="ttname"><a href="namei_8c.html#a2f88ef13410a9c16358395e5878c8026">vfs_mknod</a></div><div class="ttdeci">int vfs_mknod(struct inode *dir, struct dentry *dentry, umode_t mode, dev_t dev)</div><div class="ttdef"><b>Definition:</b> namei.c:3677</div></div>
<div class="ttc" id="overlayfs_8h_html_a849271282093f3f9500ac7d4dbd00b33"><div class="ttname"><a href="overlayfs_8h.html#a849271282093f3f9500ac7d4dbd00b33">ovl_copy_up</a></div><div class="ttdeci">int ovl_copy_up(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> copy_up.c:831</div></div>
<div class="ttc" id="overlayfs_8h_html_a6dde2e6a47feb117605f726b6c6cdd9d"><div class="ttname"><a href="overlayfs_8h.html#a6dde2e6a47feb117605f726b6c6cdd9d">ovl_dentry_version_inc</a></div><div class="ttdeci">void ovl_dentry_version_inc(struct dentry *dentry, bool impurity)</div><div class="ttdef"><b>Definition:</b> util.c:336</div></div>
<div class="ttc" id="overlayfs_8h_html_a4d233ce62ca8f0a185c34f20c875be0f"><div class="ttname"><a href="overlayfs_8h.html#a4d233ce62ca8f0a185c34f20c875be0f">ovl_is_whiteout</a></div><div class="ttdeci">bool ovl_is_whiteout(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:359</div></div>
<div class="ttc" id="overlayfs_8h_html_a38243e92def0d1be9ef38f96410056f1"><div class="ttname"><a href="overlayfs_8h.html#a38243e92def0d1be9ef38f96410056f1">ovl_i_dentry_upper</a></div><div class="ttdeci">struct dentry * ovl_i_dentry_upper(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:203</div></div>
<div class="ttc" id="overlayfs_8h_html_a0a42997bcd4a2da61b1ac28387661e93"><div class="ttname"><a href="overlayfs_8h.html#a0a42997bcd4a2da61b1ac28387661e93">ovl_dentry_set_opaque</a></div><div class="ttdeci">void ovl_dentry_set_opaque(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:261</div></div>
<div class="ttc" id="overlayfs_8h_html_a490475e7ee723d6cb1a23c3d13191af2"><div class="ttname"><a href="overlayfs_8h.html#a490475e7ee723d6cb1a23c3d13191af2">ovl_verify_index</a></div><div class="ttdeci">int ovl_verify_index(struct ovl_fs *ofs, struct dentry *index)</div><div class="ttdef"><b>Definition:</b> namei.c:505</div></div>
<div class="ttc" id="overlayfs_8h_html_a97698616b21d0f9ded19d881c43739ea"><div class="ttname"><a href="overlayfs_8h.html#a97698616b21d0f9ded19d881c43739ea">ovl_dentry_get_redirect</a></div><div class="ttdeci">const char * ovl_dentry_get_redirect(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:289</div></div>
<div class="ttc" id="overlayfs_8h_html_a685ee66fca1c1a8d5dc096a1679309bd"><div class="ttname"><a href="overlayfs_8h.html#a685ee66fca1c1a8d5dc096a1679309bd">ovl_lookup</a></div><div class="ttdeci">struct dentry * ovl_lookup(struct inode *dir, struct dentry *dentry, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> namei.c:818</div></div>
<div class="ttc" id="overlayfs_8h_html_af5ebc63918eeb6b1490a7f40b9efbd98"><div class="ttname"><a href="overlayfs_8h.html#af5ebc63918eeb6b1490a7f40b9efbd98">ovl_is_private_xattr</a></div><div class="ttdeci">bool ovl_is_private_xattr(const char *name)</div><div class="ttdef"><b>Definition:</b> inode.c:266</div></div>
<div class="ttc" id="overlayfs_8h_html_a9b3a3fa84ca0254f64a10449d6d89132a03ca2fbad2702a6081829ce073d77fc1"><div class="ttname"><a href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a03ca2fbad2702a6081829ce073d77fc1">OVL_WHITEOUTS</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:36</div></div>
<div class="ttc" id="structcattr_html_a46b519591938be4cd2e4aebb74756a90"><div class="ttname"><a href="structcattr.html#a46b519591938be4cd2e4aebb74756a90">cattr::rdev</a></div><div class="ttdeci">dev_t rdev</div><div class="ttdef"><b>Definition:</b> overlayfs.h:359</div></div>
<div class="ttc" id="overlayfs_8h_html_a3a6b544719322f097a1fb4ba2ad998d1"><div class="ttname"><a href="overlayfs_8h.html#a3a6b544719322f097a1fb4ba2ad998d1">ovl_get_index_fh</a></div><div class="ttdeci">struct dentry * ovl_get_index_fh(struct ovl_fs *ofs, struct ovl_fh *fh)</div><div class="ttdef"><b>Definition:</b> namei.c:657</div></div>
<div class="ttc" id="overlayfs_8h_html_a77c7099947d43f291902434373657256"><div class="ttname"><a href="overlayfs_8h.html#a77c7099947d43f291902434373657256">ovl_dentry_clear_flag</a></div><div class="ttdeci">void ovl_dentry_clear_flag(unsigned long flag, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:241</div></div>
<div class="ttc" id="overlayfs_8h_html_af0e1530f6750ea990a3edb89544362ef"><div class="ttname"><a href="overlayfs_8h.html#af0e1530f6750ea990a3edb89544362ef">ovl_do_rename</a></div><div class="ttdeci">static int ovl_do_rename(struct inode *olddir, struct dentry *olddentry, struct inode *newdir, struct dentry *newdentry, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:165</div></div>
<div class="ttc" id="overlayfs_8h_html_a8da76cc3068f3847ee603c7c38e7d3ad"><div class="ttname"><a href="overlayfs_8h.html#a8da76cc3068f3847ee603c7c38e7d3ad">ovl_getattr</a></div><div class="ttdeci">int ovl_getattr(const struct path *path, struct kstat *stat, u32 request_mask, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> inode.c:125</div></div>
<div class="ttc" id="ctree_8h_html_a370d10a726e7596cd6c17d656fa8c8ad"><div class="ttname"><a href="ctree_8h.html#a370d10a726e7596cd6c17d656fa8c8ad">size</a></div><div class="ttdeci">__le32 size</div><div class="ttdef"><b>Definition:</b> ctree.h:107</div></div>
<div class="ttc" id="overlayfs_8h_html_a71af1fcf0546d9204f1d0a38a4e0ead6"><div class="ttname"><a href="overlayfs_8h.html#a71af1fcf0546d9204f1d0a38a4e0ead6">ovl_verify_lower</a></div><div class="ttdeci">bool ovl_verify_lower(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:91</div></div>
<div class="ttc" id="overlayfs_8h_html_a5c0a3d75bc6bbbebf83884be9dcabc49"><div class="ttname"><a href="overlayfs_8h.html#a5c0a3d75bc6bbbebf83884be9dcabc49">ovl_path_next</a></div><div class="ttdeci">int ovl_path_next(int idx, struct dentry *dentry, struct path *path)</div><div class="ttdef"><b>Definition:</b> namei.c:779</div></div>
<div class="ttc" id="overlayfs_8h_html_ac2189109f070cb76feff2e5a6dcc381b"><div class="ttname"><a href="overlayfs_8h.html#ac2189109f070cb76feff2e5a6dcc381b">ovl_get_acl</a></div><div class="ttdeci">struct posix_acl * ovl_get_acl(struct inode *inode, int type)</div><div class="ttdef"><b>Definition:</b> inode.c:371</div></div>
<div class="ttc" id="overlayfs_8h_html_a47807b579160baa4e0108ae387d6cdb9"><div class="ttname"><a href="overlayfs_8h.html#a47807b579160baa4e0108ae387d6cdb9">ovl_inode_lower</a></div><div class="ttdeci">struct inode * ovl_inode_lower(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:215</div></div>
<div class="ttc" id="overlayfs_8h_html_af8c694c7b0d4ea1bbb8de51ce1eb485caf7765544b88dd9eac4fea2138c7398d8"><div class="ttname"><a href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485caf7765544b88dd9eac4fea2138c7398d8">__OVL_PATH_UPPER</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:15</div></div>
<div class="ttc" id="overlayfs_8h_html_a8e22a01971043b00a22e181d84290f09"><div class="ttname"><a href="overlayfs_8h.html#a8e22a01971043b00a22e181d84290f09">ovl_set_nlink_lower</a></div><div class="ttdeci">int ovl_set_nlink_lower(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> inode.c:597</div></div>
<div class="ttc" id="overlayfs_8h_html_ac6ee4b48c1d44d7a1dbbdcab119bb0d1"><div class="ttname"><a href="overlayfs_8h.html#ac6ee4b48c1d44d7a1dbbdcab119bb0d1">ovl_path_open</a></div><div class="ttdeci">struct file * ovl_path_open(struct path *path, int flags)</div><div class="ttdef"><b>Definition:</b> util.c:366</div></div>
<div class="ttc" id="overlayfs_8h_html_aae954833b5826a2e3ac6b2e141455d21"><div class="ttname"><a href="overlayfs_8h.html#aae954833b5826a2e3ac6b2e141455d21">ovl_cleanup_whiteouts</a></div><div class="ttdeci">void ovl_cleanup_whiteouts(struct dentry *upper, struct list_head *list)</div><div class="ttdef"><b>Definition:</b> readdir.c:943</div></div>
<div class="ttc" id="overlayfs_8h_html_affb899e7004af8f7c67265d45425f950a9e22c13251acbb9e35f33cfc1318f670"><div class="ttname"><a href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950a9e22c13251acbb9e35f33cfc1318f670">OVL_E_OPAQUE</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:42</div></div>
<div class="ttc" id="structovl__dir__cache_html"><div class="ttname"><a href="structovl__dir__cache.html">ovl_dir_cache</a></div><div class="ttdef"><b>Definition:</b> readdir.c:34</div></div>
<div class="ttc" id="structovl__fh_html_a95a875b0ea6ca5db6f92b0e6f22b9e5b"><div class="ttname"><a href="structovl__fh.html#a95a875b0ea6ca5db6f92b0e6f22b9e5b">ovl_fh::flags</a></div><div class="ttdeci">u8 flags</div><div class="ttdef"><b>Definition:</b> overlayfs.h:80</div></div>
<div class="ttc" id="overlayfs_8h_html_ab7690c852b3580cd2046fe8412a43725"><div class="ttname"><a href="overlayfs_8h.html#ab7690c852b3580cd2046fe8412a43725">ovl_dir_cache_free</a></div><div class="ttdeci">void ovl_dir_cache_free(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> readdir.c:231</div></div>
<div class="ttc" id="overlayfs_8h_html_a05b334d0f03c0ab408cef2304359f1c3"><div class="ttname"><a href="overlayfs_8h.html#a05b334d0f03c0ab408cef2304359f1c3">ovl_need_index</a></div><div class="ttdeci">bool ovl_need_index(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:507</div></div>
<div class="ttc" id="structovl__fh_html_abbb7b58041ea92464bf68464d425fd85"><div class="ttname"><a href="structovl__fh.html#abbb7b58041ea92464bf68464d425fd85">ovl_fh::len</a></div><div class="ttdeci">u8 len</div><div class="ttdef"><b>Definition:</b> overlayfs.h:79</div></div>
<div class="ttc" id="overlayfs_8h_html_aa0ef5ae3ad7aab03701e7a66b36424e1"><div class="ttname"><a href="overlayfs_8h.html#aa0ef5ae3ad7aab03701e7a66b36424e1">ovl_layer_lower</a></div><div class="ttdeci">struct ovl_layer * ovl_layer_lower(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:191</div></div>
<div class="ttc" id="overlayfs_8h_html_a2fc965b681d7ffdde192760b06cb8d8c"><div class="ttname"><a href="overlayfs_8h.html#a2fc965b681d7ffdde192760b06cb8d8c">ovl_export_operations</a></div><div class="ttdeci">const struct export_operations ovl_export_operations</div><div class="ttdef"><b>Definition:</b> export.c:836</div></div>
<div class="ttc" id="overlayfs_8h_html_ab7b75d63226c24ba724057472dda4403"><div class="ttname"><a href="overlayfs_8h.html#ab7b75d63226c24ba724057472dda4403">ovl_set_flag</a></div><div class="ttdeci">void ovl_set_flag(unsigned long flag, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:458</div></div>
<div class="ttc" id="overlayfs_8h_html_a4c3b9b84d771b85615908b08b65189b1"><div class="ttname"><a href="overlayfs_8h.html#a4c3b9b84d771b85615908b08b65189b1">ovl_override_creds</a></div><div class="ttdeci">const struct cred * ovl_override_creds(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:39</div></div>
<div class="ttc" id="overlayfs_8h_html_ab190c067390065ff5e1e13fcdc93233e"><div class="ttname"><a href="overlayfs_8h.html#ab190c067390065ff5e1e13fcdc93233e">ovl_copyattr</a></div><div class="ttdeci">static void ovl_copyattr(struct inode *from, struct inode *to)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:343</div></div>
<div class="ttc" id="namei_8c_html_a22a168f014dbbd8d4d48a7ea66c774a6"><div class="ttname"><a href="namei_8c.html#a22a168f014dbbd8d4d48a7ea66c774a6">vfs_whiteout</a></div><div class="ttdeci">int vfs_whiteout(struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> namei.c:4655</div></div>
<div class="ttc" id="namei_8c_html_aba074104881cd80cd95a5d4beb98aa54"><div class="ttname"><a href="namei_8c.html#aba074104881cd80cd95a5d4beb98aa54">vfs_tmpfile</a></div><div class="ttdeci">struct dentry * vfs_tmpfile(struct dentry *dentry, umode_t mode, int open_flag)</div><div class="ttdef"><b>Definition:</b> namei.c:3391</div></div>
<div class="ttc" id="overlayfs_8h_html_a2e7c4d358a8d732ec1c9b1b15e8810a1"><div class="ttname"><a href="overlayfs_8h.html#a2e7c4d358a8d732ec1c9b1b15e8810a1">ovl_dentry_real</a></div><div class="ttdeci">struct dentry * ovl_dentry_real(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:198</div></div>
<div class="ttc" id="overlayfs_8h_html_a0c22f7a66207bd1b2943d625a8646fe7"><div class="ttname"><a href="overlayfs_8h.html#a0c22f7a66207bd1b2943d625a8646fe7">ovl_set_attr</a></div><div class="ttdeci">int ovl_set_attr(struct dentry *upper, struct kstat *stat)</div><div class="ttdef"><b>Definition:</b> copy_up.c:210</div></div>
<div class="ttc" id="overlayfs_8h_html_a797307aa502396575810009ff7493d67"><div class="ttname"><a href="overlayfs_8h.html#a797307aa502396575810009ff7493d67">ovl_listxattr</a></div><div class="ttdeci">ssize_t ovl_listxattr(struct dentry *dentry, char *list, size_t size)</div><div class="ttdef"><b>Definition:</b> inode.c:337</div></div>
<div class="ttc" id="overlayfs_8h_html_abfd960618e3413f216105d68b03da913"><div class="ttname"><a href="overlayfs_8h.html#abfd960618e3413f216105d68b03da913">OVL_XATTR_ORIGIN</a></div><div class="ttdeci">#define OVL_XATTR_ORIGIN</div><div class="ttdef"><b>Definition:</b> overlayfs.h:27</div></div>
<div class="ttc" id="overlayfs_8h_html_a0e6fe3b65468e946fa9bade49312d8c4"><div class="ttname"><a href="overlayfs_8h.html#a0e6fe3b65468e946fa9bade49312d8c4">ovl_can_decode_fh</a></div><div class="ttdeci">int ovl_can_decode_fh(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:66</div></div>
<div class="ttc" id="structovl__path_html"><div class="ttname"><a href="structovl__path.html">ovl_path</a></div><div class="ttdef"><b>Definition:</b> ovl_entry.h:38</div></div>
<div class="ttc" id="overlayfs_8h_html_affb899e7004af8f7c67265d45425f950a74d1d405167887e6fffab1fe4cfe609c"><div class="ttname"><a href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950a74d1d405167887e6fffab1fe4cfe609c">OVL_E_UPPER_ALIAS</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:41</div></div>
<div class="ttc" id="overlayfs_8h_html_affa879ce182e467d28bacd8eb69be5c7"><div class="ttname"><a href="overlayfs_8h.html#affa879ce182e467d28bacd8eb69be5c7">ovl_check_fh_len</a></div><div class="ttdeci">int ovl_check_fh_len(struct ovl_fh *fh, int fh_len)</div><div class="ttdef"><b>Definition:</b> namei.c:119</div></div>
<div class="ttc" id="overlayfs_8h_html_acb00c5e0320ec4e1a0a5876fd8ee022d"><div class="ttname"><a href="overlayfs_8h.html#acb00c5e0320ec4e1a0a5876fd8ee022d">ovl_dentry_lower</a></div><div class="ttdeci">struct dentry * ovl_dentry_lower(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:184</div></div>
<div class="ttc" id="namei_8c_html_a8f30cea65dc772b7b4f1dac8565bd75d"><div class="ttname"><a href="namei_8c.html#a8f30cea65dc772b7b4f1dac8565bd75d">vfs_create</a></div><div class="ttdeci">int vfs_create(struct inode *dir, struct dentry *dentry, umode_t mode, bool want_excl)</div><div class="ttdef"><b>Definition:</b> namei.c:2849</div></div>
<div class="ttc" id="structovl__fh_html_af62b258b1c7c5aaa17364af9a867cc25"><div class="ttname"><a href="structovl__fh.html#af62b258b1c7c5aaa17364af9a867cc25">ovl_fh::uuid</a></div><div class="ttdeci">uuid_t uuid</div><div class="ttdef"><b>Definition:</b> overlayfs.h:82</div></div>
<div class="ttc" id="overlayfs_8h_html_a50186b79e0179298f8fba38d3acf6616"><div class="ttname"><a href="overlayfs_8h.html#a50186b79e0179298f8fba38d3acf6616">ovl_path_lower</a></div><div class="ttdeci">void ovl_path_lower(struct dentry *dentry, struct path *path)</div><div class="ttdef"><b>Definition:</b> util.c:155</div></div>
<div class="ttc" id="overlayfs_8h_html_a53b66c0ab20880890041b7bfa6932afb"><div class="ttname"><a href="overlayfs_8h.html#a53b66c0ab20880890041b7bfa6932afb">ovl_is_impuredir</a></div><div class="ttdeci">static bool ovl_is_impuredir(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:262</div></div>
<div class="ttc" id="overlayfs_8h_html_a7ddccdc1a99fbff64e13e701516e8753"><div class="ttname"><a href="overlayfs_8h.html#a7ddccdc1a99fbff64e13e701516e8753">ovl_do_mkdir</a></div><div class="ttdeci">static int ovl_do_mkdir(struct inode *dir, struct dentry *dentry, umode_t mode, bool debug)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:120</div></div>
<div class="ttc" id="structovl__fs_html_ac94c9596d627977079d2c016a1b6034b"><div class="ttname"><a href="structovl__fs.html#ac94c9596d627977079d2c016a1b6034b">ovl_fs::xino_bits</a></div><div class="ttdeci">unsigned int xino_bits</div><div class="ttdef"><b>Definition:</b> ovl_entry.h:68</div></div>
<div class="ttc" id="overlayfs_8h_html_a7509f123040f56860e3e31ab3ff6d096"><div class="ttname"><a href="overlayfs_8h.html#a7509f123040f56860e3e31ab3ff6d096">ovl_dentry_set_flag</a></div><div class="ttdeci">void ovl_dentry_set_flag(unsigned long flag, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:236</div></div>
<div class="ttc" id="overlayfs_8h_html_acb45d188968944c27a5ea3603a9ec047"><div class="ttname"><a href="overlayfs_8h.html#acb45d188968944c27a5ea3603a9ec047">ovl_dentry_set_upper_alias</a></div><div class="ttdeci">void ovl_dentry_set_upper_alias(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:277</div></div>
<div class="ttc" id="overlayfs_8h_html_a211b7f03159705899ae06643e82884c9"><div class="ttname"><a href="overlayfs_8h.html#a211b7f03159705899ae06643e82884c9">ovl_dentry_has_upper_alias</a></div><div class="ttdeci">bool ovl_dentry_has_upper_alias(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:272</div></div>
<div class="ttc" id="overlayfs_8h_html_a821d23f7a7e4bfa89e8ee76b5cf018c1"><div class="ttname"><a href="overlayfs_8h.html#a821d23f7a7e4bfa89e8ee76b5cf018c1">ovl_workdir_cleanup</a></div><div class="ttdeci">void ovl_workdir_cleanup(struct inode *dir, struct vfsmount *mnt, struct dentry *dentry, int level)</div><div class="ttdef"><b>Definition:</b> readdir.c:1045</div></div>
<div class="ttc" id="xattr_8c_html_aacf8951d1f69bddb047339b65c6c804c"><div class="ttname"><a href="xattr_8c.html#aacf8951d1f69bddb047339b65c6c804c">vfs_setxattr</a></div><div class="ttdeci">int vfs_setxattr(struct dentry *dentry, const char *name, const void *value, size_t size, int flags)</div><div class="ttdef"><b>Definition:</b> xattr.c:209</div></div>
<div class="ttc" id="overlayfs_8h_html_a3d3831cb904217ff3cf43c13fc3ff619"><div class="ttname"><a href="overlayfs_8h.html#a3d3831cb904217ff3cf43c13fc3ff619">ovl_dentry_is_whiteout</a></div><div class="ttdeci">bool ovl_dentry_is_whiteout(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:256</div></div>
<div class="ttc" id="summary_8h_html_a63c41f9614ee9a4e1beb75eabad72f22"><div class="ttname"><a href="summary_8h.html#a63c41f9614ee9a4e1beb75eabad72f22">inode</a></div><div class="ttdeci">jint32_t inode</div><div class="ttdef"><b>Definition:</b> summary.h:848</div></div>
<div class="ttc" id="xattr_8c_html_af224f9d8e006ff39a61891752c98c173"><div class="ttname"><a href="xattr_8c.html#af224f9d8e006ff39a61891752c98c173">vfs_removexattr</a></div><div class="ttdeci">int vfs_removexattr(struct dentry *dentry, const char *name)</div><div class="ttdef"><b>Definition:</b> xattr.c:384</div></div>
<div class="ttc" id="overlayfs_8h_html_af99238fcac7cea10d8b08da07e13ec7a"><div class="ttname"><a href="overlayfs_8h.html#af99238fcac7cea10d8b08da07e13ec7a">ovl_test_flag</a></div><div class="ttdeci">bool ovl_test_flag(unsigned long flag, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:468</div></div>
<div class="ttc" id="overlayfs_8h_html_a4a4bc67b27f4318c2aadfa0c5426472b"><div class="ttname"><a href="overlayfs_8h.html#a4a4bc67b27f4318c2aadfa0c5426472b">ovl_create_real</a></div><div class="ttdeci">int ovl_create_real(struct inode *dir, struct dentry *newdentry, struct cattr *attr, struct dentry *hardlink, bool debug)</div><div class="ttdef"><b>Definition:</b> dir.c:117</div></div>
<div class="ttc" id="overlayfs_8h_html_a76e332d05ba9f4ab82e4e2388b59073c"><div class="ttname"><a href="overlayfs_8h.html#a76e332d05ba9f4ab82e4e2388b59073c">ovl_inuse_unlock</a></div><div class="ttdeci">void ovl_inuse_unlock(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:492</div></div>
<div class="ttc" id="structovl__fh_html_adeeb7b418e03ab2795984070689df3bd"><div class="ttname"><a href="structovl__fh.html#adeeb7b418e03ab2795984070689df3bd">ovl_fh::magic</a></div><div class="ttdeci">u8 magic</div><div class="ttdef"><b>Definition:</b> overlayfs.h:78</div></div>
<div class="ttc" id="overlayfs_8h_html_ab6b248e27cd8817aed224c028e703b61"><div class="ttname"><a href="overlayfs_8h.html#ab6b248e27cd8817aed224c028e703b61">ovl_setattr</a></div><div class="ttdeci">int ovl_setattr(struct dentry *dentry, struct iattr *attr)</div><div class="ttdef"><b>Definition:</b> inode.c:19</div></div>
<div class="ttc" id="overlayfs_8h_html_aaeef34d0660684f4fb5199b39f3df73a"><div class="ttname"><a href="overlayfs_8h.html#aaeef34d0660684f4fb5199b39f3df73a">__packed</a></div><div class="ttdeci">struct ovl_fh __packed</div></div>
<div class="ttc" id="cifssmb_8c_html_a750b5d744c39a06bfb13e6eb010e35d0"><div class="ttname"><a href="cifssmb_8c.html#a750b5d744c39a06bfb13e6eb010e35d0">index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> cifssmb.c:63</div></div>
<div class="ttc" id="overlayfs_8h_html_a9b3a3fa84ca0254f64a10449d6d89132a39c3080b01d67f14e176e11d5c482f61"><div class="ttname"><a href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a39c3080b01d67f14e176e11d5c482f61">OVL_INDEX</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:37</div></div>
<div class="ttc" id="structcattr_html"><div class="ttname"><a href="structcattr.html">cattr</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:358</div></div>
<div class="ttc" id="overlayfs_8h_html_affb899e7004af8f7c67265d45425f950ab5b66a8432ca315b94410673eb136c54"><div class="ttname"><a href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950ab5b66a8432ca315b94410673eb136c54">OVL_E_CONNECTED</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:43</div></div>
<div class="ttc" id="overlayfs_8h_html_ac5155dad6dfb7523c8541952fd7ccb3f"><div class="ttname"><a href="overlayfs_8h.html#ac5155dad6dfb7523c8541952fd7ccb3f">ovl_workdir</a></div><div class="ttdeci">struct dentry * ovl_workdir(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:33</div></div>
<div class="ttc" id="overlayfs_8h_html_a4779b22d0e5d38b5154a290a71757684"><div class="ttname"><a href="overlayfs_8h.html#a4779b22d0e5d38b5154a290a71757684">ovl_dentry_remote</a></div><div class="ttdeci">bool ovl_dentry_remote(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:109</div></div>
<div class="ttc" id="ntfs_2debug_8h_html_a65b1b0602e37268ec9bc2c240a676c39"><div class="ttname"><a href="ntfs_2debug_8h.html#a65b1b0602e37268ec9bc2c240a676c39">sb</a></div><div class="ttdeci">const struct super_block * sb</div><div class="ttdef"><b>Definition:</b> debug.h:62</div></div>
<div class="ttc" id="overlayfs_8h_html_aa8b9555cc281c982278e8bd71648a82a"><div class="ttname"><a href="overlayfs_8h.html#aa8b9555cc281c982278e8bd71648a82a">ovl_redirect_dir</a></div><div class="ttdeci">bool ovl_redirect_dir(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:282</div></div>
<div class="ttc" id="overlayfs_8h_html_a424032e7a07ee3d9d1bfe09ad010d53c"><div class="ttname"><a href="overlayfs_8h.html#a424032e7a07ee3d9d1bfe09ad010d53c">ovl_path_real</a></div><div class="ttdeci">enum ovl_path_type ovl_path_real(struct dentry *dentry, struct path *path)</div><div class="ttdef"><b>Definition:</b> util.c:167</div></div>
<div class="ttc" id="overlayfs_8h_html_a0c252b2904904d6baabdf045592e6ae4"><div class="ttname"><a href="overlayfs_8h.html#a0c252b2904904d6baabdf045592e6ae4">ovl_check_d_type_supported</a></div><div class="ttdeci">int ovl_check_d_type_supported(struct path *realpath)</div><div class="ttdef"><b>Definition:</b> readdir.c:989</div></div>
<div class="ttc" id="overlayfs_8h_html_ac3832b9fe449d76538be25b25a22ee57"><div class="ttname"><a href="overlayfs_8h.html#ac3832b9fe449d76538be25b25a22ee57">ovl_verify_upper</a></div><div class="ttdeci">static int ovl_verify_upper(struct dentry *index, struct dentry *upper, bool set)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:300</div></div>
<div class="ttc" id="overlayfs_8h_html_a154f602fa03b0fdb6dee36cc56552390"><div class="ttname"><a href="overlayfs_8h.html#a154f602fa03b0fdb6dee36cc56552390">ovl_verify_origin</a></div><div class="ttdeci">static int ovl_verify_origin(struct dentry *upper, struct dentry *origin, bool set)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:294</div></div>
<div class="ttc" id="overlayfs_8h_html_ab92eb359986b8d1d62179c550f746759"><div class="ttname"><a href="overlayfs_8h.html#ab92eb359986b8d1d62179c550f746759">ovl_lookup_temp</a></div><div class="ttdeci">struct dentry * ovl_lookup_temp(struct dentry *workdir)</div><div class="ttdef"><b>Definition:</b> dir.c:46</div></div>
<div class="ttc" id="overlayfs_8h_html_a883bfcc4e45192091a40ab8604bfcce3"><div class="ttname"><a href="overlayfs_8h.html#a883bfcc4e45192091a40ab8604bfcce3">ovl_nlink_end</a></div><div class="ttdeci">void ovl_nlink_end(struct dentry *dentry, bool locked)</div><div class="ttdef"><b>Definition:</b> util.c:644</div></div>
<div class="ttc" id="overlayfs_8h_html_af8c694c7b0d4ea1bbb8de51ce1eb485ca2f5a2b0c82e891bc919fa172be07610f"><div class="ttname"><a href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485ca2f5a2b0c82e891bc919fa172be07610f">__OVL_PATH_MERGE</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:16</div></div>
<div class="ttc" id="overlayfs_8h_html_a757b53420921e8a08d74a43d9cb48e6e"><div class="ttname"><a href="overlayfs_8h.html#a757b53420921e8a08d74a43d9cb48e6e">ovl_open_maybe_copy_up</a></div><div class="ttdeci">int ovl_open_maybe_copy_up(struct dentry *dentry, unsigned int file_flags)</div><div class="ttdef"><b>Definition:</b> inode.c:404</div></div>
<div class="ttc" id="overlayfs_8h_html_accbd64f27cfaca516f81f99f13a93cfd"><div class="ttname"><a href="overlayfs_8h.html#accbd64f27cfaca516f81f99f13a93cfd">ovl_xattr_get</a></div><div class="ttdeci">int ovl_xattr_get(struct dentry *dentry, struct inode *inode, const char *name, void *value, size_t size)</div><div class="ttdef"><b>Definition:</b> inode.c:313</div></div>
<div class="ttc" id="structovl__fh_html_ac47eaffaa30acf816f093ca83e623b6c"><div class="ttname"><a href="structovl__fh.html#ac47eaffaa30acf816f093ca83e623b6c">ovl_fh::fid</a></div><div class="ttdeci">u8 fid[0]</div><div class="ttdef"><b>Definition:</b> overlayfs.h:83</div></div>
<div class="ttc" id="overlayfs_8h_html_ad3aa01171ffc43060401667cef309fba"><div class="ttname"><a href="overlayfs_8h.html#ad3aa01171ffc43060401667cef309fba">ovl_lower_positive</a></div><div class="ttdeci">bool ovl_lower_positive(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> namei.c:1044</div></div>
<div class="ttc" id="overlayfs_8h_html_af6683b7b66e1e7979efcae1d234345d0"><div class="ttname"><a href="overlayfs_8h.html#af6683b7b66e1e7979efcae1d234345d0">ovl_lock_rename_workdir</a></div><div class="ttdeci">int ovl_lock_rename_workdir(struct dentry *workdir, struct dentry *upperdir)</div><div class="ttdef"><b>Definition:</b> util.c:660</div></div>
<div class="ttc" id="overlayfs_8h_html_a97c772b6cf5c01cdaef0cf647954ef31"><div class="ttname"><a href="overlayfs_8h.html#a97c772b6cf5c01cdaef0cf647954ef31">ovl_do_mknod</a></div><div class="ttdeci">static int ovl_do_mknod(struct inode *dir, struct dentry *dentry, umode_t mode, dev_t dev, bool debug)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:129</div></div>
<div class="ttc" id="overlayfs_8h_html_a5baa880aa1f41162bd55e2754a597eee"><div class="ttname"><a href="overlayfs_8h.html#a5baa880aa1f41162bd55e2754a597eee">ovl_permission</a></div><div class="ttdeci">int ovl_permission(struct inode *inode, int mask)</div><div class="ttdef"><b>Definition:</b> inode.c:216</div></div>
<div class="ttc" id="overlayfs_8h_html_a3ce508cfc5697491d85925af1f1d5471"><div class="ttname"><a href="overlayfs_8h.html#a3ce508cfc5697491d85925af1f1d5471">ovl_do_create</a></div><div class="ttdeci">static int ovl_do_create(struct inode *dir, struct dentry *dentry, umode_t mode, bool debug)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:111</div></div>
<div class="ttc" id="overlayfs_8h_html_a17f5a558909494b683a8c7b106fad85c"><div class="ttname"><a href="overlayfs_8h.html#a17f5a558909494b683a8c7b106fad85c">ovl_dentry_test_flag</a></div><div class="ttdeci">bool ovl_dentry_test_flag(unsigned long flag, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:246</div></div>
<div class="ttc" id="overlayfs_8h_html_a716dd2c0cd36f745baa00be1c2e42ba9"><div class="ttname"><a href="overlayfs_8h.html#a716dd2c0cd36f745baa00be1c2e42ba9">ovl_check_empty_dir</a></div><div class="ttdeci">int ovl_check_empty_dir(struct dentry *dentry, struct list_head *list)</div><div class="ttdef"><b>Definition:</b> readdir.c:900</div></div>
<div class="ttc" id="overlayfs_8h_html_affb899e7004af8f7c67265d45425f950"><div class="ttname"><a href="overlayfs_8h.html#affb899e7004af8f7c67265d45425f950">ovl_entry_flag</a></div><div class="ttdeci">ovl_entry_flag</div><div class="ttdef"><b>Definition:</b> overlayfs.h:40</div></div>
<div class="ttc" id="overlayfs_8h_html_a2868c9545099b14cfd4c41d0bb906b8f"><div class="ttname"><a href="overlayfs_8h.html#a2868c9545099b14cfd4c41d0bb906b8f">ovl_dentry_set_redirect</a></div><div class="ttdeci">void ovl_dentry_set_redirect(struct dentry *dentry, const char *redirect)</div><div class="ttdef"><b>Definition:</b> util.c:294</div></div>
<div class="ttc" id="structovl__entry_html"><div class="ttname"><a href="structovl__entry.html">ovl_entry</a></div><div class="ttdef"><b>Definition:</b> ovl_entry.h:72</div></div>
<div class="ttc" id="overlayfs_8h_html_a0a34bfab814f006048db4d26facb70d4"><div class="ttname"><a href="overlayfs_8h.html#a0a34bfab814f006048db4d26facb70d4">ovl_indexdir</a></div><div class="ttdeci">struct dentry * ovl_indexdir(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:75</div></div>
<div class="ttc" id="nfs2xdr_8c_html_a7d6f8a25e94209bd3ba29b2051ca4f08"><div class="ttname"><a href="nfs2xdr_8c.html#a7d6f8a25e94209bd3ba29b2051ca4f08">stat</a></div><div class="ttdeci">int stat</div><div class="ttdef"><b>Definition:</b> nfs2xdr.c:1087</div></div>
<div class="ttc" id="structovl__fh_html_ae6eee8e233ac9207ff390e9fa19582e4"><div class="ttname"><a href="structovl__fh.html#ae6eee8e233ac9207ff390e9fa19582e4">ovl_fh::version</a></div><div class="ttdeci">u8 version</div><div class="ttdef"><b>Definition:</b> overlayfs.h:77</div></div>
<div class="ttc" id="overlayfs_8h_html_a51955caefce56a3f41f8ec83337d9de8"><div class="ttname"><a href="overlayfs_8h.html#a51955caefce56a3f41f8ec83337d9de8">ovl_get_inode</a></div><div class="ttdeci">struct inode * ovl_get_inode(struct super_block *sb, struct dentry *upperdentry, struct ovl_path *lowerpath, struct dentry *index, unsigned int numlower)</div><div class="ttdef"><b>Definition:</b> inode.c:752</div></div>
<div class="ttc" id="overlayfs_8h_html_aae26939d358220bcfbe7bd105fca701f"><div class="ttname"><a href="overlayfs_8h.html#aae26939d358220bcfbe7bd105fca701f">ovl_verify_set_fh</a></div><div class="ttdeci">int ovl_verify_set_fh(struct dentry *dentry, const char *name, struct dentry *real, bool is_upper, bool set)</div><div class="ttdef"><b>Definition:</b> namei.c:435</div></div>
<div class="ttc" id="overlayfs_8h_html_ac1de3686c324f624d456e5d0a6d983a7"><div class="ttname"><a href="overlayfs_8h.html#ac1de3686c324f624d456e5d0a6d983a7">ovl_check_origin_xattr</a></div><div class="ttdeci">bool ovl_check_origin_xattr(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:390</div></div>
<div class="ttc" id="overlayfs_8h_html_a653130328a9fe4c410b2b5a25885350d"><div class="ttname"><a href="overlayfs_8h.html#a653130328a9fe4c410b2b5a25885350d">ovl_inuse_trylock</a></div><div class="ttdeci">bool ovl_inuse_trylock(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:477</div></div>
<div class="ttc" id="overlayfs_8h_html_a2b1ff2f5cc8db730996648a7fde7e485"><div class="ttname"><a href="overlayfs_8h.html#a2b1ff2f5cc8db730996648a7fde7e485">ovl_dentry_weird</a></div><div class="ttdeci">bool ovl_dentry_weird(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:116</div></div>
<div class="ttc" id="ctree_8h_html_a07f45a3c5ac818042e4818e9b430f05c"><div class="ttname"><a href="ctree_8h.html#a07f45a3c5ac818042e4818e9b430f05c">level</a></div><div class="ttdeci">u8 level</div><div class="ttdef"><b>Definition:</b> ctree.h:116</div></div>
<div class="ttc" id="overlayfs_8h_html_aa6e366d27f2edd66fe5e6812542ca6a7"><div class="ttname"><a href="overlayfs_8h.html#aa6e366d27f2edd66fe5e6812542ca6a7">ovl_indexdir_cleanup</a></div><div class="ttdeci">int ovl_indexdir_cleanup(struct ovl_fs *ofs)</div><div class="ttdef"><b>Definition:</b> readdir.c:1066</div></div>
<div class="ttc" id="overlayfs_8h_html_ae402bd8270212f1d1f73d0d0d357eda6"><div class="ttname"><a href="overlayfs_8h.html#ae402bd8270212f1d1f73d0d0d357eda6">ovl_index_upper</a></div><div class="ttdeci">struct dentry * ovl_index_upper(struct ovl_fs *ofs, struct dentry *index)</div><div class="ttdef"><b>Definition:</b> namei.c:466</div></div>
<div class="ttc" id="overlayfs_8h_html_a34a137958a69ac21434dfd9b09667c5e"><div class="ttname"><a href="overlayfs_8h.html#a34a137958a69ac21434dfd9b09667c5e">ovl_cleanup</a></div><div class="ttdeci">int ovl_cleanup(struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> dir.c:27</div></div>
<div class="ttc" id="overlayfs_8h_html_a35c76e5f006e6f4acab8ec564f37e638"><div class="ttname"><a href="overlayfs_8h.html#a35c76e5f006e6f4acab8ec564f37e638">ovl_inode_real</a></div><div class="ttdeci">struct inode * ovl_inode_real(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:220</div></div>
<div class="ttc" id="overlayfs_8h_html_a071e492fed6f97c1db6c897bd4aeee93"><div class="ttname"><a href="overlayfs_8h.html#a071e492fed6f97c1db6c897bd4aeee93">ovl_new_inode</a></div><div class="ttdeci">struct inode * ovl_new_inode(struct super_block *sb, umode_t mode, dev_t rdev)</div><div class="ttdef"><b>Definition:</b> inode.c:641</div></div>
<div class="ttc" id="namei_8c_html_a97bf60d34ae53bc806034a7d0ebdb096"><div class="ttname"><a href="namei_8c.html#a97bf60d34ae53bc806034a7d0ebdb096">vfs_rename</a></div><div class="ttdeci">int vfs_rename(struct inode *old_dir, struct dentry *old_dentry, struct inode *new_dir, struct dentry *new_dentry, struct inode **delegated_inode, unsigned int flags)</div><div class="ttdef"><b>Definition:</b> namei.c:4370</div></div>
<div class="ttc" id="overlayfs_8h_html_a78e1f39803b08fac800e0259feb84fdb"><div class="ttname"><a href="overlayfs_8h.html#a78e1f39803b08fac800e0259feb84fdb">OVL_XATTR_IMPURE</a></div><div class="ttdeci">#define OVL_XATTR_IMPURE</div><div class="ttdef"><b>Definition:</b> overlayfs.h:28</div></div>
<div class="ttc" id="overlayfs_8h_html_a08632a1cfcb0b334c7ffee0f1ec3d137"><div class="ttname"><a href="overlayfs_8h.html#a08632a1cfcb0b334c7ffee0f1ec3d137">ovl_check_dir_xattr</a></div><div class="ttdeci">bool ovl_check_dir_xattr(struct dentry *dentry, const char *name)</div><div class="ttdef"><b>Definition:</b> util.c:403</div></div>
<div class="ttc" id="namei_8c_html_a79b58b8a0e914e165293e0c52333661f"><div class="ttname"><a href="namei_8c.html#a79b58b8a0e914e165293e0c52333661f">vfs_symlink</a></div><div class="ttdeci">int vfs_symlink(struct inode *dir, struct dentry *dentry, const char *oldname)</div><div class="ttdef"><b>Definition:</b> namei.c:4092</div></div>
<div class="ttc" id="overlayfs_8h_html_a68c8ba258e7cdcab2e8bf7df055261c0"><div class="ttname"><a href="overlayfs_8h.html#a68c8ba258e7cdcab2e8bf7df055261c0">ovl_dentry_version_get</a></div><div class="ttdeci">u64 ovl_dentry_version_get(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:351</div></div>
<div class="ttc" id="overlayfs_8h_html_a9057f794e1fc78b342e8a6b491754283"><div class="ttname"><a href="overlayfs_8h.html#a9057f794e1fc78b342e8a6b491754283">ovl_alloc_entry</a></div><div class="ttdeci">struct ovl_entry * ovl_alloc_entry(unsigned int numlower)</div><div class="ttdef"><b>Definition:</b> util.c:98</div></div>
<div class="ttc" id="overlayfs_8h_html_a76a34fab2e5534ff22f53a929b91e38f"><div class="ttname"><a href="overlayfs_8h.html#a76a34fab2e5534ff22f53a929b91e38f">ovl_nlink_start</a></div><div class="ttdeci">int ovl_nlink_start(struct dentry *dentry, bool *locked)</div><div class="ttdef"><b>Definition:</b> util.c:589</div></div>
<div class="ttc" id="overlayfs_8h_html_ab898b4b2fbb9209a696348124e6ab945"><div class="ttname"><a href="overlayfs_8h.html#ab898b4b2fbb9209a696348124e6ab945">ovl_want_write</a></div><div class="ttdeci">int ovl_want_write(struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> util.c:21</div></div>
<div class="ttc" id="overlayfs_8h_html_a234d42f9d628fe69ede8bd6e9bd4c0c9"><div class="ttname"><a href="overlayfs_8h.html#a234d42f9d628fe69ede8bd6e9bd4c0c9">ovl_copy_up_flags</a></div><div class="ttdeci">int ovl_copy_up_flags(struct dentry *dentry, int flags)</div><div class="ttdef"><b>Definition:</b> copy_up.c:774</div></div>
<div class="ttc" id="overlayfs_8h_html_a9b3a3fa84ca0254f64a10449d6d89132a34d70571b191155f8a7ca9379e8b157c"><div class="ttname"><a href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132a34d70571b191155f8a7ca9379e8b157c">OVL_IMPURE</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:34</div></div>
<div class="ttc" id="overlayfs_8h_html_abe8259c1deff941a15c707085f1cc64e"><div class="ttname"><a href="overlayfs_8h.html#abe8259c1deff941a15c707085f1cc64e">OVL_XATTR_UPPER</a></div><div class="ttdeci">#define OVL_XATTR_UPPER</div><div class="ttdef"><b>Definition:</b> overlayfs.h:30</div></div>
<div class="ttc" id="overlayfs_8h_html_aec8c828adcf22f7a1657307d4488c19d"><div class="ttname"><a href="overlayfs_8h.html#aec8c828adcf22f7a1657307d4488c19d">ovl_lookup_inode</a></div><div class="ttdeci">struct inode * ovl_lookup_inode(struct super_block *sb, struct dentry *real, bool is_upper)</div><div class="ttdef"><b>Definition:</b> inode.c:701</div></div>
<div class="ttc" id="overlayfs_8h_html_aeb43afe07af3ebfbc5624b54189824fb"><div class="ttname"><a href="overlayfs_8h.html#aeb43afe07af3ebfbc5624b54189824fb">ovl_cleanup_and_whiteout</a></div><div class="ttdeci">int ovl_cleanup_and_whiteout(struct dentry *workdir, struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> dir.c:86</div></div>
<div class="ttc" id="overlayfs_8h_html_a88273caf9973b5986c3c63912614f7d7"><div class="ttname"><a href="overlayfs_8h.html#a88273caf9973b5986c3c63912614f7d7">ovl_do_rmdir</a></div><div class="ttdeci">static int ovl_do_rmdir(struct inode *dir, struct dentry *dentry)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:86</div></div>
<div class="ttc" id="structcattr_html_a3f1905d0c0810ac06d84f347d145b873"><div class="ttname"><a href="structcattr.html#a3f1905d0c0810ac06d84f347d145b873">cattr::mode</a></div><div class="ttdeci">umode_t mode</div><div class="ttdef"><b>Definition:</b> overlayfs.h:360</div></div>
<div class="ttc" id="ovl__entry_8h_html"><div class="ttname"><a href="ovl__entry_8h.html">ovl_entry.h</a></div></div>
<div class="ttc" id="structflags_html"><div class="ttname"><a href="structflags.html">flags</a></div><div class="ttdef"><b>Definition:</b> export.c:1089</div></div>
<div class="ttc" id="structovl__entry_html_aad18083781899eea4eb1bf81d8dff093"><div class="ttname"><a href="structovl__entry.html#aad18083781899eea4eb1bf81d8dff093">ovl_entry::numlower</a></div><div class="ttdeci">unsigned numlower</div><div class="ttdef"><b>Definition:</b> ovl_entry.h:79</div></div>
<div class="ttc" id="namei_8c_html_ae871c1c912fc1dd1f5d48030156fcb75"><div class="ttname"><a href="namei_8c.html#ae871c1c912fc1dd1f5d48030156fcb75">vfs_unlink</a></div><div class="ttdeci">int vfs_unlink(struct inode *dir, struct dentry *dentry, struct inode **delegated_inode)</div><div class="ttdef"><b>Definition:</b> namei.c:3959</div></div>
<div class="ttc" id="overlayfs_8h_html_afbbdd058b4fbdc8d4e0280bb8e8ffbb1"><div class="ttname"><a href="overlayfs_8h.html#afbbdd058b4fbdc8d4e0280bb8e8ffbb1">ovl_clear_flag</a></div><div class="ttdeci">void ovl_clear_flag(unsigned long flag, struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:463</div></div>
<div class="ttc" id="overlayfs_8h_html_a9b4c9fdf87a6379fb8dfd1cf2bd264e9"><div class="ttname"><a href="overlayfs_8h.html#a9b4c9fdf87a6379fb8dfd1cf2bd264e9">ovl_do_symlink</a></div><div class="ttdeci">static int ovl_do_symlink(struct inode *dir, struct dentry *dentry, const char *oldname, bool debug)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:140</div></div>
<div class="ttc" id="cifspdu_8h_html_a7e28d0d49fe972b6aea4a399c7bc0cb0"><div class="ttname"><a href="cifspdu_8h.html#a7e28d0d49fe972b6aea4a399c7bc0cb0">list</a></div><div class="ttdeci">struct gea list[1]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:458</div></div>
<div class="ttc" id="overlayfs_8h_html_a174d85f8805c2c5bd81ea955c88d2034"><div class="ttname"><a href="overlayfs_8h.html#a174d85f8805c2c5bd81ea955c88d2034">ovl_inode_upper</a></div><div class="ttdeci">struct inode * ovl_inode_upper(struct inode *inode)</div><div class="ttdef"><b>Definition:</b> util.c:208</div></div>
<div class="ttc" id="overlayfs_8h_html_a3f7c1c3707c4448a81e6a8012284e08b"><div class="ttname"><a href="overlayfs_8h.html#a3f7c1c3707c4448a81e6a8012284e08b">ovl_set_origin</a></div><div class="ttdeci">int ovl_set_origin(struct dentry *dentry, struct dentry *lower, struct dentry *upper)</div><div class="ttdef"><b>Definition:</b> copy_up.c:291</div></div>
<div class="ttc" id="overlayfs_8h_html_a24019e9cd4a1de66211f63f631729427"><div class="ttname"><a href="overlayfs_8h.html#a24019e9cd4a1de66211f63f631729427">ovl_copy_xattr</a></div><div class="ttdeci">int ovl_copy_xattr(struct dentry *old, struct dentry *new)</div><div class="ttdef"><b>Definition:</b> copy_up.c:57</div></div>
<div class="ttc" id="namei_8c_html_ad4cfbb8a41cd778308fb16ad74a388c0"><div class="ttname"><a href="namei_8c.html#ad4cfbb8a41cd778308fb16ad74a388c0">vfs_mkdir</a></div><div class="ttdeci">int vfs_mkdir(struct inode *dir, struct dentry *dentry, umode_t mode)</div><div class="ttdef"><b>Definition:</b> namei.c:3777</div></div>
<div class="ttc" id="overlayfs_8h_html_a75666ff5f4af8a01620dae2930b7e4dc"><div class="ttname"><a href="overlayfs_8h.html#a75666ff5f4af8a01620dae2930b7e4dc">ovl_same_sb</a></div><div class="ttdeci">struct super_block * ovl_same_sb(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> util.c:46</div></div>
<div class="ttc" id="overlayfs_8h_html_a20753c2994b17cbaddd67de4981dd61b"><div class="ttname"><a href="overlayfs_8h.html#a20753c2994b17cbaddd67de4981dd61b">ovl_xattr_set</a></div><div class="ttdeci">int ovl_xattr_set(struct dentry *dentry, struct inode *inode, const char *name, const void *value, size_t size, int flags)</div><div class="ttdef"><b>Definition:</b> inode.c:272</div></div>
<div class="ttc" id="overlayfs_8h_html_a9b3a3fa84ca0254f64a10449d6d89132"><div class="ttname"><a href="overlayfs_8h.html#a9b3a3fa84ca0254f64a10449d6d89132">ovl_inode_flag</a></div><div class="ttdeci">ovl_inode_flag</div><div class="ttdef"><b>Definition:</b> overlayfs.h:32</div></div>
<div class="ttc" id="overlayfs_8h_html_af8c694c7b0d4ea1bbb8de51ce1eb485cafcfe41a1ae0d2a48d654e2322e7d34a4"><div class="ttname"><a href="overlayfs_8h.html#af8c694c7b0d4ea1bbb8de51ce1eb485cafcfe41a1ae0d2a48d654e2322e7d34a4">__OVL_PATH_ORIGIN</a></div><div class="ttdef"><b>Definition:</b> overlayfs.h:17</div></div>
<div class="ttc" id="cifspdu_8h_html_a4a06ef9aaffd2c58a6d395fd433cde26"><div class="ttname"><a href="cifspdu_8h.html#a4a06ef9aaffd2c58a6d395fd433cde26">name</a></div><div class="ttdeci">char name[16]</div><div class="ttdef"><b>Definition:</b> cifspdu.h:457</div></div>
<div class="ttc" id="overlayfs_8h_html_aa3c7b7299d57eb247167f7d4696f4538"><div class="ttname"><a href="overlayfs_8h.html#aa3c7b7299d57eb247167f7d4696f4538">ovl_xino_bits</a></div><div class="ttdeci">static unsigned int ovl_xino_bits(struct super_block *sb)</div><div class="ttdef"><b>Definition:</b> overlayfs.h:267</div></div>
<div class="ttc" id="overlayfs_8h_html_ac04333d123af6120359ab2b5a9608e88"><div class="ttname"><a href="overlayfs_8h.html#ac04333d123af6120359ab2b5a9608e88">ovl_encode_real_fh</a></div><div class="ttdeci">struct ovl_fh * ovl_encode_real_fh(struct dentry *real, bool is_upper)</div><div class="ttdef"><b>Definition:</b> copy_up.c:235</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_71177073a96f9218010f2ab5731f481e.html">overlayfs</a></li><li class="navelem"><a class="el" href="overlayfs_8h.html">overlayfs.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
